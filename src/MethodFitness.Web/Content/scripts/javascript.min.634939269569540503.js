/*
 * JavaScript Debug - v0.4 - 6/22/2010
 * http://benalman.com/projects/javascript-debug-console-log/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 * 
 * With lots of help from Paul Irish!
 * http://paulirish.com/
 */
window.debug=function(){var g=this,l=Array.prototype.slice,a=g.console,d={},e,i,c=9,f=["error","warn","info","debug","log"],k="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),b=k.length,h=[];while(--b>=0)(function(b){d[b]=function(){c!==0&&a&&a[b]&&a[b].apply(a,arguments)}})(k[b]);b=f.length;while(--b>=0)(function(c,b){d[b]=function(){var d=l.call(arguments),e=[b].concat(d);h.push(e);j(e);if(!a||!m(c))return;a.firebug?a[b].apply(g,d):a[b]?a[b](d):a.log(d)}})(b,f[b]);function j(b){e&&(i||!a||!a.log)&&e.apply(g,b)}d.setLevel=function(a){c=typeof a==="number"?a:9};function m(a){return c>0?c>a:f.length+c<=a}d.setCallback=function(){var a=l.call(arguments),b=h.length,c=b;e=a.shift()||null;i=typeof a[0]==="boolean"?a.shift():false;c-=typeof a[0]==="number"?a.shift():b;while(c<b)j(h[c++])};return d}();(function(){var o=".delegateEvents",t="attributes",q="hashchange",p="popstate",j="reset",h="sync",f="",d=null,c=true,b=false,w="undefined",l=this,C=l.Backbone,M=Array.prototype.slice,L=Array.prototype.splice,e;if(typeof exports!==w)e=exports;else e=l.Backbone={};e.VERSION="0.9.2";var a=l._;if(!a&&typeof require!==w)a=require("underscore");var g=l.jQuery||l.Zepto||l.ender;e.setDomLibrary=function(a){g=a};e.noConflict=function(){l.Backbone=C;return this};e.emulateHTTP=b;e.emulateJSON=b;var r=/\s+/,i=e.Events={on:function(d,g,i){var c=this,e,f,b,h,a;if(!g)return c;d=d.split(r);e=c._callbacks||(c._callbacks={});while(f=d.shift()){a=e[f];b=a?a.tail:{};b.next=h={};b.context=i;b.callback=g;e[f]={tail:h,next:a?a.next:b}}return c},off:function(c,e,f){var d=this,h,g,b,k,j,i;if(!(g=d._callbacks))return;if(!(c||e||f)){delete d._callbacks;return d}c=c?c.split(r):a.keys(g);while(h=c.shift()){b=g[h];delete g[h];if(!b||!(e||f))continue;k=b.tail;while((b=b.next)!==k){j=b.callback;i=b.context;if(e&&j!==e||f&&i!==f)d.on(h,j,i)}}return d},trigger:function(d){var b=this,f,a,e,c,h,i,g;if(!(e=b._callbacks))return b;i=e.all;d=d.split(r);g=M.call(arguments,1);while(f=d.shift()){if(a=e[f]){c=a.tail;while((a=a.next)!==c)a.callback.apply(a.context||b,g)}if(a=i){c=a.tail;h=[f].concat(g);while((a=a.next)!==c)a.callback.apply(a.context||b,h)}}return b}};i.bind=i.on;i.unbind=i.off;var n=e.Model=function(d,e){var b=this,f;d||(d={});if(e&&e.parse)d=b.parse(d);if(f=m(b,"defaults"))d=a.extend({},f,d);if(e&&e.collection)b.collection=e.collection;b.attributes={};b._escapedAttributes={};b.cid=a.uniqueId("c");b.changed={};b._silent={};b._pending={};b.set(d,{silent:c});b.changed={};b._silent={};b._pending={};b._previousAttributes=a.clone(b.attributes);b.initialize.apply(b,arguments)};a.extend(n.prototype,i,{changed:d,_silent:d,_pending:d,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},"get":function(a){return this.attributes[a]},escape:function(b){var c;if(c=this._escapedAttributes[b])return c;var e=this.get(b);return this._escapedAttributes[b]=a.escape(e==d?f:f+e)},has:function(a){return this.get(a)!=d},"set":function(k,l,h){var f=this,g,e,j;if(a.isObject(k)||k==d){g=k;h=l}else{g={};g[k]=l}h||(h={});if(!g)return f;if(g instanceof n)g=g.attributes;if(h.unset)for(e in g)g[e]=void 0;if(!f._validate(g,h))return b;if(f.idAttribute in g)f.id=g[f.idAttribute];var o=h.changes={},i=f.attributes,p=f._escapedAttributes,m=f._previousAttributes||{};for(e in g){j=g[e];if(!a.isEqual(i[e],j)||h.unset&&a.has(i,e)){delete p[e];(h.silent?f._silent:o)[e]=c}h.unset?delete i[e]:(i[e]=j);if(!a.isEqual(m[e],j)||a.has(i,e)!=a.has(m,e)){f.changed[e]=j;if(!h.silent)f._pending[e]=c}else{delete f.changed[e];delete f._pending[e]}}!h.silent&&f.change(h);return f},unset:function(b,a){(a||(a={})).unset=c;return this.set(b,d,a)},clear:function(b){(b||(b={})).unset=c;return this.set(a.clone(this.attributes),b)},fetch:function(c){var d=this;c=c?a.clone(c):{};var f=d,g=c.success;c.success=function(a,e,d){if(!f.set(f.parse(a,d),c))return b;g&&g(f,a)};c.error=e.wrapError(c.error,f,c);return(d.sync||e.sync).call(d,"read",d,c)},save:function(k,o,f){var g=this,i,m;if(a.isObject(k)||k==d){i=k;f=o}else{i={};i[k]=o}f=f?a.clone(f):{};if(f.wait){if(!g._validate(i,f))return b;m=a.clone(g.attributes)}var l=a.extend({},f,{silent:c});if(i&&!g.set(i,f.wait?l:f))return b;var j=g,n=f.success;f.success=function(d,g,e){var c=j.parse(d,e);if(f.wait){delete f.wait;c=a.extend(i||{},c)}if(!j.set(c,f))return b;if(n)n(j,d);else j.trigger(h,j,d,f)};f.error=e.wrapError(f.error,j,f);var p=g.isNew()?"create":"update",q=(g.sync||e.sync).call(g,p,g,f);f.wait&&g.set(m,l);return q},destroy:function(c){var f=this;c=c?a.clone(c):{};var d=f,i=c.success,g=function(){d.trigger("destroy",d,d.collection,c)};if(f.isNew()){g();return b}c.success=function(a){c.wait&&g();if(i)i(d,a);else d.trigger(h,d,a,c)};c.error=e.wrapError(c.error,d,c);var j=(f.sync||e.sync).call(f,"delete",f,c);!c.wait&&g();return j},url:function(){var a=this,b=m(a,"urlRoot")||m(a.collection,"url")||x();return a.isNew()?b:b+(b.charAt(b.length-1)=="/"?f:"/")+encodeURIComponent(a.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==d},change:function(f){var d=this;f||(f={});var g=d._changing;d._changing=c;for(var e in d._silent)d._pending[e]=c;var h=a.extend({},f.changes,d._silent);d._silent={};for(var e in h)d.trigger("change:"+e,d,d.get(e),f);if(g)return d;while(!a.isEmpty(d._pending)){d._pending={};d.trigger("change",d,f);for(var e in d.changed){if(d._pending[e]||d._silent[e])continue;delete d.changed[e]}d._previousAttributes=a.clone(d.attributes)}d._changing=b;return d},hasChanged:function(b){return!arguments.length?!a.isEmpty(this.changed):a.has(this.changed,b)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):b;var f,c=b,g=this._previousAttributes;for(var d in e){if(a.isEqual(g[d],f=e[d]))continue;(c||(c={}))[d]=f}return c},previous:function(a){return!arguments.length||!this._previousAttributes?d:this._previousAttributes[a]},previousAttributes:function(){return a.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(f,d){var e=this;if(d.silent||!e.validate)return c;f=a.extend({},e.attributes,f);var g=e.validate(f,d);if(!g)return c;if(d&&d.error)d.error(e,g,d);else e.trigger("error",e,g,d);return b}});var u=e.Collection=function(d,a){var b=this;a||(a={});if(a.model)b.model=a.model;if(a.comparator)b.comparator=a.comparator;b._reset();b.initialize.apply(b,arguments);d&&b.reset(d,{silent:c,parse:a.parse})};a.extend(u.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(g,h){var e=this,b,n,i,f,k,j,l={},o={},m=[];h||(h={});g=a.isArray(g)?g.slice():[g];for(b=0,i=g.length;b<i;b++){if(!(f=g[b]=e._prepareModel(g[b],h)))throw new Error("Can't add an invalid model to a collection");k=f.cid;j=f.id;if(l[k]||e._byCid[k]||j!=d&&(o[j]||e._byId[j])){m.push(b);continue}l[k]=o[j]=f}b=m.length;while(b--)g.splice(m[b],1);for(b=0,i=g.length;b<i;b++){(f=g[b]).on("all",e._onModelEvent,e);e._byCid[f.cid]=f;if(f.id!=d)e._byId[f.id]=f}e.length+=i;n=h.at!=d?h.at:e.models.length;L.apply(e.models,[n,0].concat(g));e.comparator&&e.sort({silent:c});if(h.silent)return e;for(b=0,i=e.models.length;b<i;b++){if(!l[(f=e.models[b]).cid])continue;h.index=b;f.trigger("add",f,e,h)}return e},remove:function(d,e){var b=this,f,h,g,c;e||(e={});d=a.isArray(d)?d.slice():[d];for(f=0,h=d.length;f<h;f++){c=b.getByCid(d[f])||b.get(d[f]);if(!c)continue;delete b._byId[c.id];delete b._byCid[c.cid];g=b.indexOf(c);b.models.splice(g,1);b.length--;if(!e.silent){e.index=g;c.trigger("remove",c,b,e)}b._removeReference(c)}return b},push:function(a,b){a=this._prepareModel(a,b);this.add(a,b);return a},pop:function(b){var a=this.at(this.length-1);this.remove(a,b);return a},unshift:function(b,c){b=this._prepareModel(b,c);this.add(b,a.extend({at:0},c));return b},shift:function(b){var a=this.at(0);this.remove(a,b);return a},"get":function(a){return a==d?void 0:this._byId[a.id!=d?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(d){return a.isEmpty(d)?[]:this.filter(function(e){for(var a in d)if(d[a]!==e.get(a))return b;return c})},sort:function(c){var b=this;c||(c={});if(!b.comparator)throw new Error("Cannot sort a set without a comparator");var d=a.bind(b.comparator,b);if(b.comparator.length==1)b.models=b.sortBy(d);else b.models.sort(d);!c.silent&&b.trigger(j,b,c);return b},pluck:function(b){return a.map(this.models,function(a){return a.get(b)})},reset:function(e,d){var b=this;e||(e=[]);d||(d={});for(var f=0,g=b.models.length;f<g;f++)b._removeReference(b.models[f]);b._reset();b.add(e,a.extend({silent:c},d));!d.silent&&b.trigger(j,b,d);return b},fetch:function(b){var f=this;b=b?a.clone(b):{};if(b.parse===undefined)b.parse=c;var d=f,g=b.success;b.success=function(a,e,c){d[b.add?"add":j](d.parse(a,c),b);g&&g(d,a)};b.error=e.wrapError(b.error,d,b);return(f.sync||e.sync).call(f,"read",f,b)},create:function(e,c){var g=this;c=c?a.clone(c):{};e=this._prepareModel(e,c);if(!e)return b;!c.wait&&g.add(e,c);var f=c.success;c.success=function(a,b){c.wait&&g.add(a,c);if(f)f(a,b);else a.trigger(h,e,b,c)};e.save(d,c);return e},parse:function(a){return a},chain:function(){return a(this.models).chain()},_reset:function(){var a=this;a.length=0;a.models=[];a._byId={};a._byCid={}},_prepareModel:function(a,c){c||(c={});if(!(a instanceof n)){var d=a;c.collection=this;a=new this.model(d,c);if(!a._validate(a.attributes,c))a=b}else if(!a.collection)a.collection=this;return a},_removeReference:function(a){if(this==a.collection)delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(c,a,d,e){var b=this;if((c=="add"||c=="remove")&&d!=b)return;c=="destroy"&&b.remove(a,e);if(a&&c==="change:"+a.idAttribute){delete b._byId[a.previous(a.idAttribute)];b._byId[a.id]=a}b.trigger.apply(b,arguments)}});var J=["forForEachItem","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];a.each(J,function(b){u.prototype[b]=function(){return a[b].apply(a,[this.models].concat(a.toArray(arguments)))}});var y=e.Router=function(a){var b=this;a||(a={});if(a.routes)b.routes=a.routes;b._bindRoutes();b.initialize.apply(b,arguments)},F=/:\w+/g,G=/\*\w+/g,D=/[-[\]{}()+?.,\\^$|#\s]/g;a.extend(y.prototype,i,{initialize:function(){},route:function(b,f,c){var d=this;e.history||(e.history=new k);if(!a.isRegExp(b))b=d._routeToRegExp(b);if(!c)c=d[f];e.history.route(b,a.bind(function(g){var a=this,d=a._extractParameters(b,g);c&&c.apply(a,d);a.trigger.apply(a,["route:"+f].concat(d));e.history.trigger("route",a,f,d)},d));return d},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){var b=this;if(!b.routes)return;var a=[];for(var d in b.routes)a.unshift([d,b.routes[d]]);for(var c=0,e=a.length;c<e;c++)b.route(a[c][0],a[c][1],b[a[c][1]])},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(F,"([^/]+)").replace(G,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(b,a){return b.exec(a).slice(1)}});var k=e.History=function(){this.handlers=[];a.bindAll(this,"checkUrl")},s=/^[#\/]/,E=/msie [\w.]+/;k.started=b;a.extend(k.prototype,i,{interval:50,getHash:function(a){var c=a?a.location:window.location,b=c.href.match(/#(.*)$/);return b?b[1]:f},getFragment:function(a,e){var b=this;if(a==d)if(b._hasPushState||e){a=window.location.pathname;var c=window.location.search;if(c)a+=c}else a=b.getHash();if(!a.indexOf(b.options.root))a=a.substr(b.options.root.length);return a.replace(s,f)},start:function(n){var e=this;if(k.started)throw new Error("Backbone.history has already been started");k.started=c;e.options=a.extend({},{root:"/"},e.options,n);e._wantsHashChange=e.options.hashChange!==b;e._wantsPushState=!!e.options.pushState;e._hasPushState=!!(e.options.pushState&&window.history&&window.history.pushState);var i=e.getFragment(),j=document.documentMode,m=E.exec(navigator.userAgent.toLowerCase())&&(!j||j<=7);if(m){e.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;e.navigate(i)}if(e._hasPushState)g(window).bind(p,e.checkUrl);else if(e._wantsHashChange&&"onhashchange"in window&&!m)g(window).bind(q,e.checkUrl);else if(e._wantsHashChange)e._checkUrlInterval=setInterval(e.checkUrl,e.interval);e.fragment=i;var h=window.location,l=h.pathname==e.options.root;if(e._wantsHashChange&&e._wantsPushState&&!e._hasPushState&&!l){e.fragment=e.getFragment(d,c);window.location.replace(e.options.root+"#"+e.fragment);return c}else if(e._wantsPushState&&e._hasPushState&&l&&h.hash){e.fragment=e.getHash().replace(s,f);window.history.replaceState({},document.title,h.protocol+"//"+h.host+e.options.root+e.fragment)}if(!e.options.silent)return e.loadUrl()},stop:function(){g(window).unbind(p,this.checkUrl).unbind(q,this.checkUrl);clearInterval(this._checkUrlInterval);k.started=b},route:function(b,a){this.handlers.unshift({route:b,callback:a})},checkUrl:function(){var a=this,c=a.getFragment();if(c==a.fragment&&a.iframe)c=a.getFragment(a.getHash(a.iframe));if(c==a.fragment)return b;a.iframe&&a.navigate(c);a.loadUrl()||a.loadUrl(a.getHash())},loadUrl:function(d){var b=this.fragment=this.getFragment(d),e=a.any(this.handlers,function(a){if(a.route.test(b)){a.callback(b);return c}});return e},navigate:function(g,e){var a=this;if(!k.started)return b;if(!e||e===c)e={trigger:e};var d=(g||f).replace(s,f);if(a.fragment==d)return;if(a._hasPushState){if(d.indexOf(a.options.root)!=0)d=a.options.root+d;a.fragment=d;window.history[e.replace?"replaceState":"pushState"]({},document.title,d)}else if(a._wantsHashChange){a.fragment=d;a._updateHash(window.location,d,e.replace);if(a.iframe&&d!=a.getFragment(a.getHash(a.iframe))){!e.replace&&a.iframe.document.open().close();a._updateHash(a.iframe.location,d,e.replace)}}else window.location.assign(a.options.root+g);e.trigger&&a.loadUrl(g)},_updateHash:function(a,b,c){if(c)a.replace(a.toString().replace(/(javascript:|#).*$/,f)+"#"+b);else a.hash=b}});var A=e.View=function(c){var b=this;b.cid=a.uniqueId("view");b._configure(c||{});b._ensureElement();b.initialize.apply(b,arguments);b.delegateEvents()},B=/^(\S+)\s*(.*)$/,v=["model","collection","el","id",t,"className","tagName"];a.extend(A.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(d,b,c){var a=document.createElement(d);b&&g(a).attr(b);c&&g(a).html(c);return a},setElement:function(c,d){var a=this;a.$el&&a.undelegateEvents();a.$el=c instanceof g?c:g(c);a.el=a.$el[0];d!==b&&a.delegateEvents();return a},delegateEvents:function(d){var c=this;if(!(d||(d=m(c,"events"))))return;c.undelegateEvents();for(var e in d){var b=d[e];if(!a.isFunction(b))b=c[d[e]];if(!b)throw new Error('Method "'+d[e]+'" does not exist');var i=e.match(B),g=i[1],h=i[2];b=a.bind(b,c);g+=o+c.cid;if(h===f)c.$el.bind(g,b);else c.$el.delegate(h,g,b)}},undelegateEvents:function(){this.$el.unbind(o+this.cid)},_configure:function(b){var c=this;if(c.options)b=a.extend({},c.options,b);for(var e=0,f=v.length;e<f;e++){var d=v[e];if(b[d])c[d]=b[d]}c.options=b},_ensureElement:function(){var a=this;if(!a.el){var c=m(a,t)||{};if(a.id)c.id=a.id;if(a.className)c["class"]=a.className;a.setElement(a.make(a.tagName,c),b)}else a.setElement(a.el,b)}});var K=function(c,b){var a=I(this,c,b);a.extend=this.extend;return a};n.extend=u.extend=y.extend=A.extend=K;var H={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(h,i,d){var f=H[h];d||(d={});var c={type:f,dataType:"json"};if(!d.url)c.url=m(i,"url")||x();if(!d.data&&i&&(h=="create"||h=="update")){c.contentType="application/json";c.data=JSON.stringify(i.toJSON())}if(e.emulateJSON){c.contentType="application/x-www-form-urlencoded";c.data=c.data?{model:c.data}:{}}if(e.emulateHTTP)if(f==="PUT"||f==="DELETE"){if(e.emulateJSON)c.data._method=f;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f)}}if(c.type!=="GET"&&!e.emulateJSON)c.processData=b;return g.ajax(a.extend(c,d))};e.wrapError=function(b,a,c){return function(e,d){d=e===a?d:e;if(b)b(a,d,c);else a.trigger("error",a,d,c)}};var z=function(){},I=function(d,c,e){var b;if(c&&c.hasOwnProperty("constructor"))b=c.constructor;else b=function(){d.apply(this,arguments)};a.extend(b,d);z.prototype=d.prototype;b.prototype=new z;c&&a.extend(b.prototype,c);e&&a.extend(b,e);b.prototype.constructor=b;b.__super__=d.prototype;return b},m=function(b,c){return!(b&&b[c])?d:a.isFunction(b[c])?b[c]():b[c]},x=function(){throw new Error('A "url" property or function must be specified');}}).call(this);Backbone.Marionette=function(c,b,g){var d="string",f="render",h="before:render",e="reset",a={};a.EventBinder=function(){this._eventBindings=[]};b.extend(a.EventBinder.prototype,{bindTo:function(e,b,c,a){a=a||this;e.on(b,c,a);var d={obj:e,eventName:b,callback:c,context:a};this._eventBindings.push(d);return d},unbindFrom:function(a){a.obj.off(a.eventName,a.callback,a.context);this._eventBindings=b.reject(this._eventBindings,function(b){return b===a})},unbindAll:function(){var c=this,a=b.map(this._eventBindings,b.identity);b.each(a,function(a){c.unbindFrom(a)})}});a.EventBinder.extend=c.View.extend;a.View=c.View.extend({constructor:function(){var d=this;c.View.prototype.constructor.apply(d,arguments);var e=new a.EventBinder;b.extend(d,e);d.bindTo(d,"show",d.onShowCalled,d)},getTemplate:function(){var a=this,b;if(a.options&&a.options.template)b=a.options.template;else b=a.template;return b},serializeData:function(){var a=this,b;if(a.model)b=a.model.toJSON();else if(a.collection)b={items:a.collection.toJSON()};b=a.mixinTemplateHelpers(b);return b},mixinTemplateHelpers:function(c){c=c||{};var a=this.templateHelpers;if(b.isFunction(a))a=a.call(this);return b.extend(c,a)},configureTriggers:function(){var c=this;if(!c.triggers)return;var a=c.triggers,e=c,d={};if(b.isFunction(a))a=a.call(c);b.each(a,function(a,b){d[b]=function(b){b&&b.preventDefault&&b.preventDefault();b&&b.stopPropagation&&b.stopPropagation();e.trigger(a)}});return d},delegateEvents:function(a){var d=this;a=a||d.events;if(b.isFunction(a))a=a.call(d);var e={},f=d.configureTriggers();b.extend(e,a,f);c.View.prototype.delegateEvents.call(d,e)},onShowCalled:function(){},close:function(){var a=this;a.beforeClose&&a.beforeClose();a.remove();a.onClose&&a.onClose();a.trigger("close");a.unbindAll();a.unbind()},bindUIElements:function(){var a=this;if(!a.ui)return;var c=a;if(!a.uiBindings)a.uiBindings=a.ui;a.ui={};b.each(b.keys(a.uiBindings),function(a){var b=c.uiBindings[a];c.ui[a]=c.$(b)})}});a.ItemView=a.View.extend({constructor:function(){a.View.prototype.constructor.apply(this,arguments);this.initialEvents()},initialEvents:function(){var a=this;a.collection&&a.bindTo(a.collection,e,a.render,a)},render:function(){var b=this;b.beforeRender&&b.beforeRender();b.trigger(h,b);b.trigger("item:before:render",b);var d=b.serializeData(),c=b.getTemplate(),e=a.Renderer.render(c,d);b.$el.html(e);b.bindUIElements();b.onRender&&b.onRender();b.trigger(f,b);b.trigger("item:rendered",b);return b},close:function(){this.trigger("item:before:close");a.View.prototype.close.apply(this,arguments);this.trigger("item:closed")}});a.CollectionView=a.View.extend({constructor:function(){var b=this;a.View.prototype.constructor.apply(b,arguments);b.initChildViewStorage();b.initialEvents();b.onShowCallbacks=new a.Callbacks},initialEvents:function(){var a=this;if(a.collection){a.bindTo(a.collection,"add",a.addChildView,a);a.bindTo(a.collection,"remove",a.removeItemView,a);a.bindTo(a.collection,e,a.render,a)}},addChildView:function(c,d,b){this.closeEmptyView();var a=this.getItemView();return this.addItemView(c,a,b.index)},onShowCalled:function(){this.onShowCallbacks.run()},triggerBeforeRender:function(){var a=this;a.beforeRender&&a.beforeRender();a.trigger(h,a);a.trigger("collection:before:render",a)},triggerRendered:function(){var a=this;a.onRender&&a.onRender();a.trigger(f,a);a.trigger("collection:rendered",a)},render:function(){var a=this;a.triggerBeforeRender();a.closeEmptyView();a.closeChildren();if(a.collection&&a.collection.length>0)a.showCollection();else a.showEmptyView();a.triggerRendered();return a},showCollection:function(){var b=this,a=this.getItemView();this.collection.each(function(d,c){b.addItemView(d,a,c)})},showEmptyView:function(){var a=this,b=a.options.emptyView||a.emptyView;if(b&&!a._showingEmptyView){a._showingEmptyView=true;var d=new c.Model;a.addItemView(d,b,0)}},closeEmptyView:function(){if(this._showingEmptyView){this.closeChildren();delete this._showingEmptyView}},getItemView:function(){var a=this.options.itemView||this.itemView;if(!a){var b=new Error("An `itemView` must be specified");b.name="NoItemViewError";throw b;}return a},addItemView:function(h,f,g){var a=this,c=a,b=a.buildItemView(h,f);a.storeChild(b);if(a.onItemAdded)a.onItemAdded(b);a.trigger("item:added",b);var e=a.renderItemView(b,g);b.onShow&&a.onShowCallbacks.add(b.onShow,b);var d=a.bindTo(b,"all",function(){var a=i.call(arguments);a[0]="itemview:"+a[0];a.splice(1,0,b);c.trigger.apply(c,a)});a.childBindings=a.childBindings||{};a.childBindings[b.cid]=d;return e},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(e,c){var a=b.result(this,"itemViewOptions"),d=b.extend({model:e},a),f=new c(d);return f},removeItemView:function(d){var a=this,b=a.children[d.cid];if(b){var c=a.childBindings[b.cid];if(c){a.unbindFrom(c);delete a.childBindings[b.cid]}b.close();delete a.children[d.cid]}(!a.collection||a.collection.length===0)&&a.showEmptyView();a.trigger("item:removed",b)},appendHtml:function(a,b){a.$el.append(b.el)},storeChild:function(a){this.children[a.model.cid]=a},initChildViewStorage:function(){this.children={}},close:function(){var b=this;b.trigger("collection:before:close");b.closeChildren();a.View.prototype.close.apply(b,arguments);b.trigger("collection:closed")},closeChildren:function(){var a=this;this.children&&b.each(b.clone(this.children),function(b){a.removeItemView(b.model)})}});a.CompositeView=a.CollectionView.extend({constructor:function(){a.CollectionView.apply(this,arguments);this.itemView=this.getItemView()},initialEvents:function(){var a=this;if(a.collection){a.bindTo(a.collection,"add",a.addChildView,a);a.bindTo(a.collection,"remove",a.removeItemView,a);a.bindTo(a.collection,e,a.renderCollection,a)}},getItemView:function(){return this.itemView||this.constructor},render:function(){var a=this,c=a;a.resetItemViewContainer();var b=a.renderModel();a.$el.html(b);a.bindUIElements();a.trigger("composite:model:rendered");a.trigger(f);a.renderCollection();a.trigger("composite:rendered");return a},renderCollection:function(){a.CollectionView.prototype.render.apply(this,arguments);this.trigger("composite:collection:rendered")},renderModel:function(){var b={};b=this.serializeData();var c=this.getTemplate();return a.Renderer.render(c,b)},appendHtml:function(b,c){var a=this.getItemViewContainer(b);a.append(c.el)},getItemViewContainer:function(a){var c;if("$itemViewContainer"in a)c=a.$itemViewContainer;else{if(a.itemViewContainer){c=a.$(b.result(a,"itemViewContainer"));if(c.length<=0){var d=new Error("Missing `itemViewContainer`");d.name="ItemViewContainerMissingError";throw d;}}else c=a.$el;a.$itemViewContainer=c}return c},resetItemViewContainer:function(){if(this.$itemViewContainer)delete this.$itemViewContainer}});a.Region=function(d){var c=this;c.options=d||{};var f=new a.EventBinder;b.extend(c,f,d);if(!c.el){var e=new Error("An 'el' must be specified");e.name="NoElError";throw e;}c.initialize&&c.initialize.apply(c,arguments)};b.extend(a.Region.prototype,c.Events,{show:function(a){var b=this;b.ensureEl();b.close();a.render();b.open(a);a.onShow&&a.onShow();a.trigger("show");if(b.onShow)b.onShow(a);b.trigger("view:show",a);b.currentView=a},ensureEl:function(){var a=this;if(!a.$el||a.$el.length===0)a.$el=a.getEl(a.el)},getEl:function(a){return g(a)},open:function(a){this.$el.html(a.el)},close:function(){var a=this.currentView;if(!a)return;a.close&&a.close();this.trigger("view:closed",a);delete this.currentView},attachView:function(a){this.currentView=a}});a.Region.extend=c.View.extend;a.Layout=a.ItemView.extend({regionType:a.Region,constructor:function(){c.Marionette.ItemView.apply(this,arguments);this.initializeRegions()},render:function(){var b=a.ItemView.prototype.render.apply(this,arguments);this.render=function(){this.closeRegions();this.reInitializeRegions();var b=a.ItemView.prototype.render.apply(this,arguments);return b};return b},close:function(){this.closeRegions();this.destroyRegions();c.Marionette.ItemView.prototype.close.call(this,arguments)},initializeRegions:function(){var a=this;if(!a.regionManagers)a.regionManagers={};var c=a;b.each(a.regions,function(a,e){if(typeof a!=d&&typeof a.selector!=d)throw new Exception("Region must be specified as a selector string or an object with selector property");selector=typeof a===d?a:a.selector;var f=typeof a.regionType==="undefined"?c.regionType:a.regionType,b=new f({el:selector,getEl:function(a){return c.$(a)}});c.regionManagers[e]=b;c[e]=b})},reInitializeRegions:function(){var a=this;if(a.regionManagers&&b.size(a.regionManagers)===0)a.initializeRegions();else b.each(a.regionManagers,function(a){delete a.$el})},closeRegions:function(){var a=this;b.each(this.regionManagers,function(a){a.close()})},destroyRegions:function(){var a=this;b.each(this.regionManagers,function(c,b){delete a[b]});this.regionManagers={}}});a.Application=function(e){var c=this;c.initCallbacks=new a.Callbacks;c.vent=new a.EventAggregator;c.submodules={};var d=new a.EventBinder;b.extend(c,d,e)};b.extend(a.Application.prototype,c.Events,{addInitializer:function(a){this.initCallbacks.add(a)},start:function(b){var a=this;a.trigger("initialize:before",b);a.initCallbacks.run(b,a);a.trigger("initialize:after",b);a.trigger("start",b)},addRegions:function(f){var b,e,c;for(c in f)if(f.hasOwnProperty(c)){b=f[c];if(typeof b===d)e=new a.Region({el:b});else e=new b;this[c]=e}},removeRegion:function(a){this[a].close();delete this[a]},module:function(){var b=i.call(arguments);b.unshift(this);return a.Module.create.apply(a.Module,b)}});a.Application.extend=c.View.extend;a.AppRouter=c.Router.extend({constructor:function(b){var a=this;c.Router.prototype.constructor.call(a,b);if(a.appRoutes){var d=a.controller;if(b&&b.controller)d=b.controller;a.processAppRoutes(d,a.appRoutes)}},processAppRoutes:function(i,g){var c,e,a,h,d,f=[],k=this;for(a in g)g.hasOwnProperty(a)&&f.unshift([a,g[a]]);h=f.length;for(d=0;d<h;d++){a=f[d][0];e=f[d][1];c=i[e];if(!c){var l="Method '"+e+"' was not found on the controller",j=new Error(l);j.name="NoMethodError";throw j;}c=b.bind(c,i);k.route(a,e,c)}}});a.Module=function(f,g,e){var c=this;c.moduleName=f;c.submodules={};c._initializerCallbacks=new a.Callbacks;c._finalizerCallbacks=new a.Callbacks;c._config={};c._config.app=g;c._config.customArgs=e;c._config.definitions=[];var d=new a.EventBinder;b.extend(c,d)};b.extend(a.Module.prototype,c.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(c){var a=this;a._runModuleDefinition();a._initializerCallbacks.run(c,a);a._isInitialized=true;a.submodules&&b.each(a.submodules,function(a){a.start()})},stop:function(){var a=this;if(!a._isInitialized)return;a._isInitialized=false;a._finalizerCallbacks.run();b.each(a.submodules,function(a){a.stop()})},addDefinition:function(a){this._config.definitions.push(a)},_runModuleDefinition:function(){var d=this;if(d._config.definitions.length===0)return;for(var i=b.flatten([d,d._config.app,c,a,g,b,d._config.customArgs]),f=d._config.definitions.length-1,e=0;e<=f;e++){var h=d._config.definitions[e];h.apply(d,i)}}});b.extend(a.Module,{create:function(e,d,g){var j=this,c=e,d=d.split("."),f=i.apply(arguments);f.splice(0,3);var h=d.length;b.each(d,function(d,k){var i=k===h-1,b=c[d];if(!b){b=new a.Module(d,e,f);c[d]=b;c.submodules[d]=b}i&&j._createModuleDefinition(b,g,e);c=b});return c},_createModuleDefinition:function(b,c,d){var a=this._getModuleDefinitionOptions(c);a.definition&&b.addDefinition(a.definition);a.startWithApp&&d.addInitializer(function(a){b.start(a)})},_getModuleDefinitionOptions:function(a){var c={startWithApp:true};if(!a)return c;if(b.isFunction(a))c.definition=a;else{c.definition=a.define;if(a.hasOwnProperty("startWithApp"))c.startWithApp=a.startWithApp}return c}});a.TemplateCache=function(a){this.templateId=a};b.extend(a.TemplateCache,{templateCaches:{},"get":function(c,e,d){var f=this,b=this.templateCaches[c];if(!b){b=new a.TemplateCache(c);b.url=e;b.data=d;this.templateCaches[c]=b}return b.load()},clear:function(){var a,b=arguments.length;if(b>0)for(a=0;a<b;a++)delete this.templateCaches[arguments[a]];else this.templateCaches={}}});b.extend(a.TemplateCache.prototype,{load:function(){var a=this,c=a,b=new g.Deferred;if(a.compiledTemplate){b.resolve(a.compiledTemplate);return b.promise()}g.when(a.loadTemplate(a.templateId)).then(function(a){c.compiledTemplate=c.compileTemplate(a);b.resolve(c.compiledTemplate)});return b.promise()},loadTemplate:function(b){var a=g(b).html();if(!a||a.length===0){var d="Could not find template: '"+b+"'",c=new Error(d);c.name="NoTemplateError";throw c;}return a},compileTemplate:function(a){return b.template(a)}});a.Renderer={render:function(c,d){var b=a.TemplateCache.get(c),e=b(d);return e}};a.Callbacks=function(){this.deferred=g.Deferred();this.promise=this.deferred.promise()};b.extend(a.Callbacks.prototype,{add:function(b,a){this.promise.done(function(c,d){if(a)c=a;b.call(c,d)})},run:function(b,a){this.deferred.resolve(a,b)}});a.EventAggregator=a.EventBinder.extend({constructor:function(c){a.EventBinder.apply(this,arguments);b.extend(this,c)},bindTo:function(b,c,d){return a.EventBinder.prototype.bindTo.call(this,this,b,c,d)}});b.extend(a.EventAggregator.prototype,c.Events);a.EventAggregator.extend=c.View.extend;var i=Array.prototype.slice;return a}(Backbone,_,window.jQuery||window.Zepto||window.ender);Highcharts.theme={colors:["#DDDF0D","#55BF3B","#DF5353","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:[0,0,250,500],stops:[[0,"rgb(48, 48, 96)"],[1,"rgb(0, 0, 0)"]]},borderColor:"#000000",borderWidth:2,className:"dark-container",plotBackgroundColor:"rgba(255, 255, 255, .1)",plotBorderColor:"#CCCCCC",plotBorderWidth:1},title:{style:{color:"#C0C0C0",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"#333333",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",tickColor:"#A0A0A0",title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{gridLineColor:"#333333",labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",minorTickInterval:null,tickColor:"#A0A0A0",tickWidth:1,title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},legend:{itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:"#A0A0A0"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"}},credits:{style:{color:"#666"}},labels:{style:{color:"#CCC"}},navigation:{buttonOptions:{backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#606060"],[.6,"#333333"]]},borderColor:"#000000",symbolStroke:"#C0C0C0",hoverSymbolStroke:"#FFFFFF"}},exporting:{buttons:{exportButton:{symbolFill:"#55BE3B"},printButton:{symbolFill:"#7797BE"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,0,0,20],stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"};var highchartsOptions=Highcharts.setOptions(Highcharts.theme);(function(b,n){var jb="eventResizeStop",kb="eventResizeStart",v=">",Fb=" class='",Eb="fc-event-draggable",Db="fc-event-skin",Cb="fc-event",Bb=" style='",Ab="eventAfterRender",y="timeFormat",zb="eventRender",cb="mouseup",ib="absolute",I="defaultEventMinutes",t="allDaySlot",h="slotMinutes",Z="filter",Y="eventDragStop",X="drag",H="revert",k="option",W="eventDragStart",hb="dragRevertDuration",V="dragOpacity",G="dayClick",M="selectable",L="-state-highlight fc-today",gb="<div style='position:absolute;z-index:8;top:0;left:0'/>",yb="div.fc-day-content div",U="td",F="tr",T="</table>",fb="</tbody>",S="</td>",j="</div>",eb="<div style='position:relative'>&nbsp;</div>",xb="<div class='fc-day-content'>",r="'>",db="<tbody>",wb="</thead>",x="</tr>",R="<tr>",vb="-widget-content",ub="-widget-header",tb="columnFormat",q="isRTL",E="titleFormat",sb="weekMode",u="weekends",D="firstDay",B="fc-last",Mb="fc-first",Lb=":first-child",K="px",bb="th",m="'",l=12,p=10,rb="number",A=1e3,z="object",o="</span>",s=" ",J="'/>",f=-1,d=null,Q="body",C="fc",P="ui",N="string",tc="circle-triangle-e",sc="circle-triangle-w",ob="today",rc="&nbsp;&gt;&gt;&nbsp;",qc="&nbsp;&lt;&lt;&nbsp;",pc="&nbsp;&#9658;&nbsp;",oc="&nbsp;&#9668;&nbsp;",c=false,a=true,e="",nb="title",mb="month",Sb={defaultView:mb,aspectRatio:1.35,header:{left:nb,center:e,right:"today prev,next"},weekends:a,allDayDefault:a,ignoreTimezone:a,lazyFetching:a,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:c,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:oc,next:pc,prevYear:qc,nextYear:rc,today:ob,month:mb,week:"week",day:"day"},theme:c,buttonIcons:{prev:sc,next:tc},unselectAuto:a,dropAccept:"*"},Sc={header:{left:"next,prev today",center:e,right:nb},buttonText:{prev:pc,next:oc,prevYear:rc,nextYear:qc},buttonIcons:{prev:tc,next:sc}},O=b.fullCalendar={version:"1.5.2"},qb=O.views={};b.fn.fullCalendar=function(c){var d="fullCalendar",e=this;if(typeof c==N){var h=Array.prototype.slice.call(arguments,1),f;e.each(function(){var a=b.data(this,d);if(a&&b.isFunction(a[c])){var e=a[c].apply(a,h);if(f===n)f=e;c=="destroy"&&b.removeData(this,d)}});return f!==n?f:e}var g=c.eventSources||[];delete c.eventSources;if(c.events){g.push(c.events);delete c.events}c=b.extend(a,{},Sb,c.isRTL||c.isRTL===n&&Sb.isRTL?Sc:{},c);e.each(function(h,f){var e=b(f),a=new Xc(e,c,g);e.data(d,a);a.render()});return e};function wc(c){b.extend(a,Sb,c)}function Xc(q,k,V){var j=this;j.options=k;j.render=hb;j.destroy=cb;j.refetchEvents=I;j.reportEvents=W;j.reportEventChange=R;j.rerenderEvents=x;j.changeView=L;j.select=ib;j.unselect=z;j.prev=lb;j.next=kb;j.prevYear=bb;j.nextYear=ab;j.today=jb;j.gotoDate=Z;j.incrementDate=S;j.formatDate=function(a,b){return Gb(a,b,k)};j.formatDates=function(a,b,c){return Vb(a,b,c,k)};j.getDate=db;j.getView=eb;j.option=gb;j.trigger=fb;Rc.call(j,k,V);var U=j.isFetchNeeded,Y=j.fetchEvents,A=q[0],r,t,l,mb,h,y={},B,s,v,O=0,o=0,m=new Date,F=[],u;Ec(m,k.year,k.month,k.date);function hb(a){if(!l)T();else{D();H();G();p(a)}}function T(){mb=k.theme?P:C;q.addClass(C);k.isRTL&&q.addClass("fc-rtl");k.theme&&q.addClass("ui-widget");l=b("<div class='fc-content' style='position:relative'/>").prependTo(q);r=new fd(j,k);t=r.render();t&&q.prepend(t);L(k.defaultView);b(window).resize(J);!K()&&M()}function M(){setTimeout(function(){!h.start&&K()&&p()},0)}function cb(){b(window).unbind("resize",J);r.destroy();l.remove();q.removeClass("fc fc-rtl ui-widget")}function w(){return A.offsetWidth!==0}function K(){return b(Q)[0].offsetWidth!==0}function L(c){var a="overflow";if(!h||c!=h.name){o++;z();var d=h,f;if(d){(d.beforeHide||Fc)();Qb(l,l.height());d.element.hide()}else Qb(l,1);l.css(a,"hidden");h=y[c];if(h)h.element.show();else h=y[c]=new qb[c](f=v=b("<div class='fc-view fc-view-"+c+"' style='position:absolute'/>").appendTo(l),j);d&&r.deactivateButton(d.name);r.activateButton(c);p();l.css(a,e);d&&Qb(l,1);!f&&(h.afterShow||Fc)();o--}}function p(e){if(w()){o++;z();s===n&&D();var b=c;if(!h.start||e||m<h.start||m>=h.end){h.render(m,e||0);E(a);b=a}else if(h.sizeDirty){h.clearEvents();E();b=a}else if(h.eventsDirty){h.clearEvents();b=a}h.sizeDirty=c;h.eventsDirty=c;X(b);B=q.outerWidth();r.updateTitle(h.title);var d=new Date;if(d>=h.start&&d<h.end)r.disableButton(ob);else r.enableButton(ob);o--;h.trigger("viewDisplay",A)}}function N(){H();if(w()){D();E();z();h.clearEvents();h.renderEvents(F);h.sizeDirty=c}}function H(){b.each(y,function(c,b){b.sizeDirty=a})}function D(){if(k.contentHeight)s=k.contentHeight;else if(k.height)s=k.height-(t?t.height():0)-Ob(l);else s=Math.round(l.width()/Math.max(k.aspectRatio,.5))}function E(a){o++;h.setHeight(s,a);if(v){v.css("position","relative");v=d}h.setWidth(l.width(),a);o--}function J(){if(!o)if(h.start){var a=++O;setTimeout(function(){if(a==O&&!o&&w())if(B!=(B=q.outerWidth())){o++;N();h.trigger("windowResize",A);o--}},200)}else M()}function X(a){if(!k.lazyFetching||U(h.visStart,h.visEnd))I();else a&&x()}function I(){Y(h.visStart,h.visEnd)}function W(a){F=a;x()}function R(a){x(a)}function x(a){G();if(w()){h.clearEvents();h.renderEvents(F,a);h.eventsDirty=c}}function G(){b.each(y,function(c,b){b.eventsDirty=a})}function ib(c,d,b){h.select(c,d,b===n?a:b)}function z(){h&&h.unselect()}function lb(){p(f)}function kb(){p(1)}function bb(){cc(m,f);p()}function ab(){cc(m,1);p()}function jb(){m=new Date;p()}function Z(a,c,b){if(a instanceof Date)m=g(a);else Ec(m,a,c,b);p()}function S(b,a,c){b!==n&&cc(m,b);a!==n&&Wb(m,a);c!==n&&i(m,c);p()}function db(){return g(m)}function eb(){return h}function gb(a,b){if(b===n)return k[a];if(a=="height"||a=="contentHeight"||a=="aspectRatio"){k[a]=b;N()}}function fb(a,b){if(k[a])return k[a].apply(b||A,Array.prototype.slice.call(arguments,2))}k.droppable&&b(document).bind("dragstart",function(e,f){var c=e.target,d=b(c);if(!d.parents(".fc").length){var a=k.dropAccept;if(b.isFunction(a)?a.call(c,d):d.is(a)){u=c;h.dragStart(u,e,f)}}}).bind("dragstop",function(a,b){if(u){h.dragStop(u,a,b);u=d}})}function fd(k,i){var f="span.fc-button-",e="-state-active",a="-state-disabled",h=this;h.render=t;h.destroy=r;h.updateTitle=q;h.activateButton=m;h.deactivateButton=l;h.disableButton=n;h.enableButton=p;var g=b([]),c;function t(){c=i.theme?P:C;var a=i.header;if(a){g=b("<table class='fc-header' style='width:100%'/>").append(b("<tr/>").append(j("left")).append(j("center")).append(j("right")));return g}}function r(){g.remove()}function j(h){var f=b("<td class='fc-header-"+h+J),g=i.header[h];g&&b.each(g.split(s),function(j){var g="-corner-right";j>0&&f.append("<span class='fc-header-space'/>");var h;b.each(this.split(","),function(t,n){var l="-state-down",j="-state-hover";if(n==nb){f.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");h&&h.addClass(c+g);h=d}else{var p;if(k[n])p=k[n];else if(qb[n])p=function(){m.removeClass(c+j);k.changeView(n)};if(p){var q=i.theme?Ub(i.buttonIcons,n):d,r=Ub(i.buttonText,n),m=b("<span class='fc-button fc-button-"+n+s+c+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(q?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+q+J+o:r)+o+"<span class='fc-button-effect'><span></span></span>"+o+o);if(m){m.click(function(){!m.hasClass(c+a)&&p()}).mousedown(function(){m.not("."+c+e).not("."+c+a).addClass(c+l)}).mouseup(function(){m.removeClass(c+l)}).hover(function(){m.not("."+c+e).not("."+c+a).addClass(c+j)},function(){m.removeClass(c+j).removeClass(c+l)}).appendTo(f);!h&&m.addClass(c+"-corner-left");h=m}}}});h&&h.addClass(c+g)});return f}function q(a){g.find("h2").html(a)}function m(a){g.find(f+a).addClass(c+e)}function l(a){g.find(f+a).removeClass(c+e)}function n(b){g.find(f+b).addClass(c+a)}function p(b){g.find(f+b).removeClass(c+a)}}O.sourceNormalizers=[];O.sourceFetchers=[];var Pc={dataType:"json",cache:c},Uc=1;function Rc(p,D){var i=this;i.isFetchNeeded=J;i.fetchEvents=M;i.addEventSource=I;i.removeEventSource=G;i.replaceEventSource=F;i.updateEvent=Q;i.renderEvent=P;i.removeEvents=L;i.clientEvents=K;i.normalizeEvent=k;for(var E=i.trigger,R=i.getView,l=i.reportEvents,r={events:[]},h=[r],j,m,q=0,o=0,y=0,f=[],s=0;s<D.length;s++)w(D[s]);function J(a,b){return!j||a<j||b>m}function M(d,e){j=d;m=e;f=[];var c=++q,b=h.length;o=b;for(var a=0;a<b;a++)v(h[a],c)}function v(a,b){u(a,function(c){if(b==q){if(c){for(var d=0;d<c.length;d++){c[d].source=a;k(c[d])}f=f.concat(c)}o--;!o&&l(f)}})}function u(c,d){for(var n=O.sourceFetchers,f,i=0;i<n.length;i++){f=n[i](c,j,m,d);if(f===a)return;else if(typeof f==z){u(f,d);return}}var e=c.events;if(e)if(b.isFunction(e)){B();e(g(j),g(m),function(a){d(a);C()})}else if(b.isArray(e))d(e);else d();else{var s=c.url;if(s){var q=c.success,r=c.error,o=c.complete,h=b.extend({},c.data||{}),k=Kb(c.startParam,p.startParam),l=Kb(c.endParam,p.endParam);if(k)h[k]=Math.round(+j/A);if(l)h[l]=Math.round(+m/A);B();b.ajax(b.extend({},Pc,c,{data:h,success:function(a){a=a||[];var c=Rb(q,this,arguments);if(b.isArray(c))a=c;d(a)},error:function(){Rb(r,this,arguments);d()},complete:function(){Rb(o,this,arguments);C()}}))}else d()}}function I(a){a=w(a);if(a){o++;v(a,q)}}function w(a){if(b.isFunction(a)||b.isArray(a))a={events:a};else if(typeof a==N)a={url:a};if(typeof a==z){H(a);h.push(a);return a}}function F(a){h=[a]}function G(a){h=b.grep(h,function(b){return!x(b,a)});f=b.grep(f,function(b){return!x(b.source,a)});l(f)}function Q(b){for(var i=f.length,a,e=R().defaultEventEnd,h=b.start-b._start,g=b.end?b.end-(b._end||e(b)):0,c=0;c<i;c++){a=f[c];if(a._id==b._id&&a!=b){a.start=new Date(+a.start+h);if(b.end)if(a.end)a.end=new Date(+a.end+g);else a.end=new Date(+e(a)+g);else a.end=d;a.title=b.title;a.url=b.url;a.allDay=b.allDay;a.className=b.className;a.editable=b.editable;a.color=b.color;a.backgroudColor=b.backgroudColor;a.borderColor=b.borderColor;a.textColor=b.textColor;k(a)}}k(b);l(f)}function P(a,b){k(a);if(!a.source){if(b){r.events.push(a);a.source=r}f.push(a)}l(f)}function L(d){if(!d){f=[];for(var c=0;c<h.length;c++)if(b.isArray(h[c].events))h[c].events=[]}else{if(!b.isFunction(d)){var g=d+e;d=function(a){return a._id==g}}f=b.grep(f,d,a);for(var c=0;c<h.length;c++)if(b.isArray(h[c].events))h[c].events=b.grep(h[c].events,d,a)}l(f)}function K(a){if(b.isFunction(a))return b.grep(f,a);else if(a){a+=e;return b.grep(f,function(b){return b._id==a})}return f}function B(){!y++&&E("loading",d,a)}function C(){!--y&&E("loading",d,c)}function k(a){var c=a.source||{},b=Kb(c.ignoreTimezone,p.ignoreTimezone);a._id=a._id||(a.id===n?"_fc"+Uc++:a.id+e);if(a.date){if(!a.start)a.start=a.date;delete a.date}a._start=g(a.start=Yb(a.start,b));a.end=Yb(a.end,b);if(a.end&&a.end<=a.start)a.end=d;a._end=a.end?g(a.end):d;if(a.allDay===n)a.allDay=Kb(c.allDayDefault,p.allDayDefault);if(a.className){if(typeof a.className==N)a.className=a.className.split(/\s+/)}else a.className=[]}function H(a){if(a.className){if(typeof a.className==N)a.className=a.className.split(/\s+/)}else a.className=[];for(var c=O.sourceNormalizers,b=0;b<c.length;b++)c[b](a)}function x(a,b){return a&&b&&t(a)==t(b)}function t(a){return(typeof a==z?a.events||a.url:e)||a}}O.addDays=i;O.cloneDate=g;O.parseDate=Yb;O.parseISO8601=nc;O.parseTime=Zb;O.formatDate=Gb;O.formatDates=Vb;var ed=["sun","mon","tue","wed","thu","fri","sat"],Dc=8.64e7,dd=3.6e6,Vc=6e4;function cc(a,c,b){a.setFullYear(a.getFullYear()+c);!b&&pb(a);return a}function Wb(a,e,d){if(+a){var c=a.getMonth()+e,b=g(a);b.setDate(1);b.setMonth(c);a.setMonth(c);!d&&pb(a);while(a.getMonth()!=b.getMonth())a.setDate(a.getDate()+(a<b?1:f))}return a}function i(a,e,d){if(+a){var c=a.getDate()+e,b=g(a);b.setHours(9);b.setDate(c);a.setDate(c);!d&&pb(a);ec(a,b)}return a}function ec(a,b){if(+a)while(a.getDate()!=b.getDate())a.setTime(+a+(a<b?1:f)*dd)}function w(a,b){a.setMinutes(a.getMinutes()+b);return a}function pb(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function g(a,b){return b?pb(new Date(+a)):new Date(+a)}function Bc(){var b=0,a;do a=new Date(1970,b++,1);while(a.getHours());return a}function lb(a,b,c){b=b||1;while(!a.getDay()||(c&&a.getDay()==1||!c&&a.getDay()==6))i(a,b);return a}function ab(b,c){return Math.round((g(b,a)-g(c,a))/Dc)}function Ec(a,c,b,d){if(c!==n&&c!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(c)}if(b!==n&&b!=a.getMonth()){a.setDate(1);a.setMonth(b)}d!==n&&a.setDate(d)}function Yb(b,c){if(typeof b==z)return b;if(typeof b==rb)return new Date(b*A);if(typeof b==N){if(b.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(b)*A);if(c===n)c=a;return nc(b,c)||(b?new Date(b):d)}return d}function nc(h,g){var a=h.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return d;var b=new Date(a[1],0,1);if(g||!a[13]){var c=new Date(a[1],0,1,9,0);if(a[3]){b.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){b.setDate(a[5]);c.setDate(a[5])}ec(b,c);a[7]&&b.setHours(a[7]);a[8]&&b.setMinutes(a[8]);a[p]&&b.setSeconds(a[p]);a[l]&&b.setMilliseconds(Number("0."+a[l])*A);ec(b,c)}else{b.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);b.setUTCHours(a[7]||0,a[8]||0,a[p]||0,a[l]?Number("0."+a[l])*A:0);if(a[14]){var e=Number(a[16])*60+(a[18]?Number(a[18]):0);e*=a[15]=="-"?1:f;b=new Date(+b+e*60*A)}}return b}function Zb(b){if(typeof b==rb)return b*60;if(typeof b==z)return b.getHours()*60+b.getMinutes();var a=b.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(a){var c=parseInt(a[1],p);if(a[3]){c%=l;if(a[3].toLowerCase().charAt(0)=="p")c+=l}return c*60+(a[2]?parseInt(a[2],p):0)}}function Gb(c,b,a){return Vb(c,d,b,a)}function Vb(l,n,c,h){h=h||Sb;for(var d=l,k=n,i=c.length,g,a,o,f=e,b=0;b<i;b++){g=c.charAt(b);if(g==m){for(a=b+1;a<i;a++)if(c.charAt(a)==m){if(d){if(a==b+1)f+=m;else f+=c.substring(b+1,a);b=a}break}}else if(g=="("){for(a=b+1;a<i;a++)if(c.charAt(a)==")"){var j=Gb(d,c.substring(b+1,a),h);if(parseInt(j.replace(/\D/,e),p))f+=j;b=a;break}}else if(g=="["){for(a=b+1;a<i;a++)if(c.charAt(a)=="]"){var q=c.substring(b+1,a),j=Gb(d,q,h);if(j!=Gb(k,q,h))f+=j;b=a;break}}else if(g=="{"){d=n;k=l}else if(g=="}"){d=l;k=n}else{for(a=i;a>b;a--)if(o=Mc[c.substring(b,a)]){if(d)f+=o(d,h);b=a-1;break}if(a==b)if(d)f+=g}}return f}var Mc={s:function(a){return a.getSeconds()},ss:function(a){return Ib(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ib(a.getMinutes())},h:function(a){return a.getHours()%l||l},hh:function(a){return Ib(a.getHours()%l||l)},H:function(a){return a.getHours()},HH:function(a){return Ib(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ib(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ib(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+e).substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<l?"a":"p"},tt:function(a){return a.getHours()<l?"am":"pm"},T:function(a){return a.getHours()<l?"A":"P"},TT:function(a){return a.getHours()<l?"AM":"PM"},u:function(a){return Gb(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(b){var a=b.getDate();return a>p&&a<20?bb:(["st","nd","rd"])[a%p-1]||bb}};O.applyAll=Rb;function Nb(a){return a.end?Tc(a.end,a.allDay):i(g(a.start),1)}function Tc(a,b){a=g(a);return b||a.getHours()||a.getMinutes()?i(a,1):pb(a)}function gd(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function vc(a,b){return a.end>b.start&&a.start<b.end}function ac(n,p,l,m){for(var o=[],q=n.length,j,b,d,e,f,i,k,h=0;h<q;h++){j=n[h];b=j.start;d=p[h];if(d>l&&b<m){if(b<l){e=g(l);i=c}else{e=b;i=a}if(d>m){f=g(m);k=c}else{f=d;k=a}o.push({event:j,start:e,end:f,isStart:i,isEnd:k,msLength:f-e})}}return o.sort(gd)}function bc(i){for(var d=[],j=i.length,e,b,g,f,h=0;h<j;h++){e=i[h];b=0;while(a){g=c;if(d[b])for(f=0;f<d[b].length;f++)if(vc(d[b][f],e)){g=a;break}if(g)b++;else break}if(d[b])d[b].push(e);else d[b]=[e]}return d}function uc(c,d,a){c.unbind("mouseover").mouseover(function(f){var c=f.target,g,h,e;while(c!=this){g=c;c=c.parentNode}if((h=g._fci)!==n){g._fci=n;e=d[h];a(e.event,e.element,e);b(f.target).trigger(f)}f.stopPropagation()})}function Jb(d,f,e){for(var c=0,a;c<d.length;c++){a=b(d[c]);a.width(Math.max(0,f-fc(a,e)))}}function lc(d,f,e){for(var c=0,a;c<d.length;c++){a=b(d[c]);a.height(Math.max(0,f-Ob(a,e)))}}function fc(a,b){return ad(a)+Yc(a)+(b?Zc(a):0)}function ad(c){return(parseFloat(b.curCSS(c[0],"paddingLeft",a))||0)+(parseFloat(b.curCSS(c[0],"paddingRight",a))||0)}function Zc(c){return(parseFloat(b.curCSS(c[0],"marginLeft",a))||0)+(parseFloat(b.curCSS(c[0],"marginRight",a))||0)}function Yc(c){return(parseFloat(b.curCSS(c[0],"borderLeftWidth",a))||0)+(parseFloat(b.curCSS(c[0],"borderRightWidth",a))||0)}function Ob(a,b){return cd(a)+bd(a)+(b?Ac(a):0)}function cd(c){return(parseFloat(b.curCSS(c[0],"paddingTop",a))||0)+(parseFloat(b.curCSS(c[0],"paddingBottom",a))||0)}function Ac(c){return(parseFloat(b.curCSS(c[0],"marginTop",a))||0)+(parseFloat(b.curCSS(c[0],"marginBottom",a))||0)}function bd(c){return(parseFloat(b.curCSS(c[0],"borderTopWidth",a))||0)+(parseFloat(b.curCSS(c[0],"borderBottomWidth",a))||0)}function Qb(b,a){a=typeof a==rb?a+K:a;b.each(function(c,b){b.style.cssText+=";min-height:"+a+";_height:"+a})}function Fc(){}function Hc(a,b){return a-b}function zc(a){return Math.max.apply(Math,a)}function Ib(a){return(a<p?"0":e)+a}function Ub(a,b){if(a[b]!==n)return a[b];for(var f=b.split(/(?=[A-Z])/),d=f.length-1,c;d>=0;d--){c=a[f[d].toLowerCase()];if(c!==n)return c}return a[e]}function Hb(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Cc(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,e)}function Tb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return c})}function Pb(a){a.children().removeClass("fc-first fc-last").filter(Lb).addClass(Mb).end().filter(":last-child").addClass(B)}function dc(a,b){a.each(function(c,a){a.className=a.className.replace(/^fc-\w*/,"fc-"+ed[b.getDay()])})}function yc(a,d){var c=a.source||{},i=a.color,h=c.color,g=d("eventColor"),e=a.backgroundColor||i||c.backgroundColor||h||d("eventBackgroundColor")||g,f=a.borderColor||i||c.borderColor||h||d("eventBorderColor")||g,j=a.textColor||c.textColor||d("eventTextColor"),b=[];e&&b.push("background-color:"+e);f&&b.push("border-color:"+f);j&&b.push("color:"+j);return b.join(";")}function Rb(a,e,f){if(b.isFunction(a))a=[a];if(a){for(var c,d=0;d<a.length;d++)c=a[d].apply(e,f)||c;return c}}function Kb(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==n)return arguments[a]}qb.month=Wc;function Wc(j,d){var b=this;b.render=k;Xb.call(b,j,d,mb);var c=b.opt,e=b.renderBasic,h=d.formatDate;function k(n,p){if(p){Wb(n,p);n.setDate(1)}var k=g(n,a);k.setDate(1);var q=Wb(g(k),1),j=g(k),d=g(q),o=c(D),l=c(u)?0:1;if(l){lb(j);lb(d,f,a)}i(j,-((j.getDay()-Math.max(o,l)+7)%7));i(d,(7-d.getDay()+Math.max(o,l))%7);var m=Math.round((d-j)/(Dc*7));if(c(sb)=="fixed"){i(d,(6-m)*7);m=6}b.title=h(k,c(E));b.start=k;b.end=q;b.visStart=j;b.visEnd=d;e(6,m,l?5:7,a)}}qb.basicWeek=Oc;function Oc(k,e){var b=this;b.render=l;Xb.call(b,k,e,"basicWeek");var d=b.opt,j=b.renderBasic,h=e.formatDates;function l(m,o){o&&i(m,o*7);var l=i(g(m),-((m.getDay()-d(D)+7)%7)),p=i(g(l),7),e=g(l),k=g(p),n=d(u);if(!n){lb(e);lb(k,f,a)}b.title=h(e,i(g(k),f),d(E));b.start=l;b.end=p;b.visStart=e;b.visEnd=k;j(1,1,n?7:5,c)}}qb.basicDay=Qc;function Qc(k,d){var b=this;b.render=l;Xb.call(b,k,d,"basicDay");var e=b.opt,h=b.renderBasic,j=d.formatDate;function l(d,k){if(k){i(d,k);!e(u)&&lb(d,k<0?f:1)}b.title=j(d,e(E));b.start=b.visStart=g(d,a);b.end=b.visEnd=i(g(b.start),1);h(1,1,1,c)}}wc({weekMode:"fixed"});function Xb(m,jb,ac){var c=this;c.renderBasic=Nb;c.setHeight=Wb;c.setWidth=Zb;c.renderDayOverlay=X;c.defaultSelectionEnd=rb;c.renderSelection=Bb;c.clearSelection=Cb;c.reportDayClick=Eb;c.dragStart=Vb;c.dragStop=Yb;c.defaultEventEnd=Ab;c.getHoverListener=function(){return y};c.colContentLeft=Db;c.colContentRight=zb;c.dayOfWeekCol=Z;c.dateCell=lb;c.cellDate=kb;c.cellIsAllDay=function(){return a};c.allDayRow=Ub;c.allDayBounds=Ib;c.getRowCnt=function(){return h};c.getColCnt=function(){return d};c.getColWidth=function(){return K};c.getDaySegmentContainer=function(){return Q};Gc.call(c,m,jb,ac);kc.call(c);ic.call(c);Jc.call(c);var l=c.opt,N=c.trigger,Kb=c.clearEvents,Gb=c.renderOverlay,E=c.clearOverlays,qb=c.daySelectionMousedown,Sb=jb.formatDate,s,z,A,k,p,Y,V,Q,I,cb,K,h,d,w,y,v,O,n,o,mb,ob,t,hb;Tb(m.addClass("fc-grid"));function Nb(c,f,e,b){h=f;d=e;Hb();var a=!A;if(a)Fb(c,b);else Kb();Rb(a)}function Hb(){O=l(q);if(O){n=f;o=d-1}else{n=1;o=0}mb=l(D);ob=l(u)?0:1;t=l("theme")?P:C;hb=l(tb)}function Fb(n,l){var c,i=t+ub,h=t+vb,a,f,g;c="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead>"+R;for(a=0;a<d;a++)c+="<th class='fc- "+i+J;c+=x+wb+db;for(a=0;a<n;a++){c+="<tr class='fc-week"+a+r;for(f=0;f<d;f++)c+="<td class='fc- "+h+" fc-day"+(a*d+f)+r+"<div>"+(l?"<div class='fc-day-number'/>":e)+xb+eb+j+j+S;c+=x}c+=fb+T;g=b(c).appendTo(m);s=g.find("thead");z=s.find(bb);A=g.find("tbody");k=A.find(F);p=A.find(U);Y=p.filter(Lb);V=k.eq(0).find(yb);Pb(s.add(s.find(F)));Pb(k);k.eq(0).addClass(Mb);nb(p);Q=b(gb).appendTo(m)}function Rb(g){var f=g||h==1,i=c.start.getMonth(),j=pb(new Date),a,d,e;f&&z.each(function(e,c){a=b(c);d=H(e);a.html(Sb(d,hb));dc(a,d)});p.each(function(g,e){var c="fc-other-month";a=b(e);d=H(g);if(d.getMonth()==i)a.removeClass(c);else a.addClass(c);if(+d==+j)a.addClass(t+L);else a.removeClass(t+L);a.find("div.fc-day-number").text(d.getDate());f&&dc(a,d)});k.each(function(a,c){e=b(c);if(a<h){e.show();if(a==h-1)e.addClass(B);else e.removeClass(B)}else e.hide()})}function Wb(f){cb=f;var d=cb-s.height(),a,c,e;if(l(sb)=="variable")a=c=Math.floor(d/(h==1?2:6));else{a=Math.floor(d/h);c=d-a*(h-1)}Y.each(function(d,f){if(d<h){e=b(f);Qb(e.find("> div"),(d==h-1?c:a)-Ob(e))}})}function Zb(a){I=a;v.clear();K=Math.floor(I/d);Jb(z.slice(0,f),K)}function nb(a){a.click(Xb).mousedown(qb)}function Xb(d){if(!l(M)){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),c=H(b);N(G,this,c,a,d)}}function X(p,q,m){m&&w.build();for(var a=g(c.visStart),l=i(g(a),d),b=0;b<h;b++){var e=new Date(Math.max(a,p)),f=new Date(Math.min(l,q));if(e<f){var j,k;if(O){j=ab(f,a)*n+o+1;k=ab(e,a)*n+o+1}else{j=ab(e,a);k=ab(f,a)}nb(W(b,j,b,k-1))}i(a,7);i(l,7)}}function W(d,a,e,b){var c=w.rect(d,a,e,b,m);return Gb(c,m)}function rb(a){return g(a)}function Bb(b,c){X(b,i(g(c),1),a)}function Cb(){E()}function Eb(b,e,f){var a=lb(b),c=p[a.row*d+a.col];N(G,c,b,e,f)}function Vb(b,a){y.start(function(a){E();a&&W(a.row,a.col,a.row,a.col)},a)}function Yb(c,d,e){var b=y.stop();E();if(b){var f=kb(b);N("drop",c,f,a,d,e)}}function Ab(a){return g(a.start)}w=new jc(function(f,e){var d,a,c;z.each(function(f,g){d=b(g);a=d.offset().left;if(f)c[1]=a;c=[a];e[f]=c});c[1]=a+d.outerWidth();k.each(function(e,g){if(e<h){d=b(g);a=d.offset().top;if(e)c[1]=a;c=[a];f[e]=c}});c[1]=a+d.outerHeight()});y=new mc(w);v=new gc(function(a){return V.eq(a)});function Db(a){return v.left(a)}function zb(a){return v.right(a)}function lb(a){return{row:Math.floor(ab(a,c.visStart)/7),col:Z(a.getDay())}}function kb(a){return ib(a.row,a.col)}function ib(b,a){return i(g(c.visStart),b*7+a*n+o)}function H(a){return ib(Math.floor(a/d),a%d)}function Z(a){return(a-Math.max(mb,ob)+d)%d*n+o}function Ub(a){return k.eq(a)}function Ib(){return{left:0,right:I}}}function Jc(){var a=this;a.renderEvents=w;a.compileDaySegs=h;a.clearEvents=y;a.bindDaySeg=z;hc.call(a);var c=a.opt,j=a.trigger,r=a.isEventDraggable,s=a.isEventResizable,x=a.reportEvents,u=a.reportEventClear,m=a.eventElementHandlers,B=a.showEvents,A=a.hideEvents,C=a.eventDrop,l=a.getDaySegmentContainer,p=a.getHoverListener,t=a.renderDayOverlay,d=a.clearOverlays,E=a.getRowCnt,D=a.getColCnt,v=a.renderDaySegs,o=a.resizableDayEvent;function w(a,b){x(a);v(h(a),b)}function y(){u();l().empty()}function h(l){for(var q=E(),p=D(),j=g(a.visStart),n=i(g(j),p),o=b.map(l,Nb),h,c,f,e,d,m=[],k=0;k<q;k++){h=bc(ac(l,o,j,n));for(c=0;c<h.length;c++){f=h[c];for(e=0;e<f.length;e++){d=f[e];d.row=k;d.level=c;m.push(d)}}i(j,7);i(n,7)}return m}function z(a,b,c){r(a)&&n(a,b);c.isEnd&&s(a)&&o(a,b,c);m(a,b)}function n(a,b){var l=p(),h;b.draggable({zIndex:9,delay:50,opacity:c(V),revertDuration:c(hb),start:function(e,m){j(W,b,a,e,m);A(a,b);l.start(function(l,m,j,e){b.draggable(k,H,!l||!j&&!e);d();if(l){h=j*7+e*(c(q)?f:1);t(i(g(a.start),h),i(Nb(a),h))}else h=0},e,X)},stop:function(c,f){l.stop();d();j(Y,b,a,c,f);if(h)C(this,a,h,0,a.allDay,c,f);else{b.css(Z,e);B(a,b)}}})}}qb.agendaWeek=Lc;function Lc(j,d){var b=this;b.render=k;xc.call(b,j,d,"agendaWeek");var c=b.opt,e=b.renderAgenda,h=d.formatDates;function k(l,n){n&&i(l,n*7);var k=i(g(l),-((l.getDay()-c(D)+7)%7)),o=i(g(k),7),d=g(k),j=g(o),m=c(u);if(!m){lb(d);lb(j,f,a)}b.title=h(d,i(g(j),f),c(E));b.start=k;b.end=o;b.visStart=d;b.visEnd=j;e(m?7:5)}}qb.agendaDay=Nc;function Nc(j,c){var b=this;b.render=k;xc.call(b,j,c,"agendaDay");var d=b.opt,e=b.renderAgenda,h=c.formatDate;function k(c,j){if(j){i(c,j);!d(u)&&lb(c,j<0?f:1)}var k=g(c,a),l=i(g(k),1);b.title=h(c,d(E));b.start=b.visStart=k;b.end=b.visEnd=l;e(1)}}wc({allDaySlot:a,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24});function xc(Cb,pc,Xc){var k=this;k.renderAgenda=Kc;k.setWidth=Vc;k.setHeight=Sc;k.beforeHide=Pc;k.afterShow=Qc;k.defaultEventEnd=yc;k.timePosition=X;k.dayOfWeekCol=Hb;k.dateCell=Tc;k.cellDate=jb;k.cellIsAllDay=ob;k.allDayRow=Jc;k.allDayBounds=Fc;k.getHoverListener=function(){return W};k.colContentLeft=Cc;k.colContentRight=xc;k.getDaySegmentContainer=function(){return Eb};k.getSlotSegmentContainer=function(){return Qb};k.getMinMinute=function(){return N};k.getMaxMinute=function(){return Ab};k.getBodyContent=function(){return v};k.getRowCnt=function(){return 1};k.getColCnt=function(){return m};k.getColWidth=function(){return Bb};k.getSlotHeight=function(){return hb};k.defaultSelectionEnd=wc;k.renderDayOverlay=Xb;k.renderSelection=zc;k.clearSelection=Yb;k.reportDayClick=ac;k.dragStart=Rc;k.dragStop=Uc;Gc.call(k,Cb,pc,Xc);kc.call(k);ic.call(k);Ic.call(k);var l=k.opt,Db=k.trigger,Lc=k.clearEvents,cc=k.renderOverlay,Gb=k.clearOverlays,Ac=k.reportSelection,Wc=k.unselect,vc=k.daySelectionMousedown,Nc=k.slotSegHtml,ec=pc.formatDate,Z,lb,qb,kb,H,Ub,Fb,Nb,y,Eb,rb,zb,p,v,Qb,O,Sb,Q,Y,o,oc,fc,K,Bb,sb,hb,bc,m,Mb,E,W,nb,Ib={},mb,qc,sc,tc,z,A,N,Ab,hc;Tb(Cb.addClass("fc-agenda"));function Kc(a){m=a;Ec();if(!Z)Dc();else Lc();Oc()}function Ec(){mb=l("theme")?P:C;sc=l(u)?0:1;qc=l(D);if(tc=l(q)){z=f;A=m-1}else{z=1;A=0}N=Zb(l("minTime"));Ab=Zb(l("maxTime"));hc=l(tb)}function Dc(){var q="<th class='",k="th:first",i="'>&nbsp;</th>",d="<th class='fc-agenda-axis ",n=mb+ub,u=mb+vb,a,c,o,A,z,B=l(h)%15==0;a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead>"+R+d+n+i;for(c=0;c<m;c++)a+="<th class='fc- fc-col"+c+s+n+J;a+="<th class='fc-agenda-gutter "+n+i+x+wb+db+R+d+n+i;for(c=0;c<m;c++)a+="<td class='fc- fc-col"+c+s+u+r+"<div>"+xb+eb+j+j+S;a+="<td class='fc-agenda-gutter "+u+"'>&nbsp;</td>"+x+fb+T;Z=b(a).appendTo(Cb);lb=Z.find("thead");qb=lb.find(bb).slice(1,f);kb=Z.find("tbody");H=kb.find(U).slice(0,f);Ub=H.find(yb);Fb=H.eq(0);Nb=Fb.find("> div");Pb(lb.add(lb.find(F)));Pb(kb.add(kb.find(F)));Q=lb.find(k);Y=Z.find(".fc-agenda-gutter");y=b("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(Cb);if(l(t)){Eb=b(gb).appendTo(y);a="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>"+R+q+n+" fc-agenda-axis'>"+l("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div>"+S+q+n+" fc-agenda-gutter'>&nbsp;</th>"+x+T;rb=b(a).appendTo(y);zb=rb.find(F);rc(zb.find(U));Q=Q.add(rb.find(k));Y=Y.add(rb.find("th.fc-agenda-gutter"));y.append("<div class='fc-agenda-divider "+n+r+"<div class='fc-agenda-divider-inner'/>"+j)}else Eb=b([]);p=b("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(y);v=b("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(p);Qb=b(gb).appendTo(v);a="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>"+db;o=Bc();A=w(g(o),Ab);w(o,N);Mb=0;for(c=0;o<A;c++){z=o.getMinutes();a+="<tr class='fc-slot"+c+s+(!z?e:"fc-minor")+r+d+n+r+(!B||!z?ec(o,l("axisFormat")):"&nbsp;")+"</th><td class='"+u+r+eb+S+x;w(o,l(h));Mb++}a+=fb+T;O=b(a).appendTo(v);Sb=O.find("div:first");Kb(O.find(U));Q=Q.add(O.find(k))}function Oc(){for(var d,b,c,e=pb(new Date),a=0;a<m;a++){c=Lb(a);d=qb.eq(a);d.html(ec(c,hc));b=H.eq(a);if(+c==+e)b.addClass(mb+L);else b.removeClass(mb+L);dc(d.add(b),c)}}function Sc(a,e){if(a===n)a=fc;fc=a;Ib={};var d=kb.position().top,b=p.position().top,c=Math.min(a-d,O.height()+b+1);Nb.height(c-Ob(Fb));y.css("top",d);p.height(c-b-1);hb=Sb.height()+1;e&&Mc()}function Vc(c){oc=c;nb.clear();K=0;Jb(Q.width(e).each(function(c,a){K=Math.max(K,b(a).outerWidth())}),K);var a=p[0].clientWidth;sb=p.width()-a;if(sb){Jb(Y,sb);Y.show().prev().removeClass(B)}else Y.hide().prev().addClass(B);Bb=Math.floor((a-K)/m);Jb(qb.slice(0,f),Bb)}function Mc(){var c=Bc(),a=g(c);a.setHours(l("firstHour"));var d=X(c,a)+1;function b(){p.scrollTop(d)}b();setTimeout(b,0)}function Pc(){bc=p.scrollTop()}function Qc(){p.scrollTop(bc)}function rc(a){a.click(nc).mousedown(vc)}function Kb(a){a.click(nc).mousedown(uc)}function nc(e){if(!l(M)){var d=Math.min(m-1,Math.floor((e.pageX-Z.offset().left-K)/Bb)),b=Lb(d),f=this.parentNode.className.match(/fc-slot(\d+)/);if(f){var g=parseInt(f[1])*l(h),i=Math.floor(g/60);b.setHours(i);b.setMinutes(g%60+N);Db(G,H[d],b,c,e)}else Db(G,H[d],b,a,e)}}function Xb(d,e,f){f&&E.build();var c=g(k.visStart),a,b;if(tc){a=ab(e,c)*z+A+1;b=ab(d,c)*z+A+1}else{a=ab(d,c);b=ab(e,c)}a=Math.max(0,a);b=Math.min(m,b);a<b&&rc(Vb(0,a,0,b-1))}function Vb(d,a,e,b){var c=E.rect(d,a,e,b,y);return cc(c,y)}function Wb(l,n){for(var a=g(k.visStart),f=i(g(a),1),c=0;c<m;c++){var d=new Date(Math.max(a,l)),e=new Date(Math.min(f,n));if(d<e){var h=c*z+A,b=E.rect(0,h,0,h,v),j=X(a,d),o=X(a,e);b.top=j;b.height=o-j;Kb(cc(b,v))}i(a,1);i(f,1)}}E=new jc(function(i,k){var c,a,e;qb.each(function(d,f){c=b(f);a=c.offset().left;if(d)e[1]=a;e=[a];k[d]=e});e[1]=a+c.outerWidth();if(l(t)){c=zb;a=c.offset().top;i[0]=[a,a+c.outerHeight()]}var g=v.offset().top,f=p.offset().top,j=f+p.outerHeight();function h(a){return Math.max(f,Math.min(j,a))}for(var d=0;d<Mb;d++)i.push([h(g+hb*d),h(g+hb*(d+1))])});W=new mc(E);nb=new gc(function(a){return Ub.eq(a)});function Cc(a){return nb.left(a)}function xc(a){return nb.right(a)}function Tc(a){return{row:Math.floor(ab(a,k.visStart)/7),col:Hb(a.getDay())}}function jb(b){var c=Lb(b.col),a=b.row;if(l(t))a--;a>=0&&w(c,N+a*l(h));return c}function Lb(a){return i(g(k.visStart),a*z+A)}function ob(a){return l(t)&&!a.row}function Hb(a){return(a-Math.max(qc,sc)+m)%m*z+A}function X(c,b){c=g(c,a);if(b<w(g(c),N))return 0;if(b>=w(g(c),Ab))return O.height();var d=l(h),i=b.getHours()*60+b.getMinutes()-N,f=Math.floor(i/d),e=Ib[f];if(e===n)e=Ib[f]=O.find("tr:eq("+f+") td div")[0].offsetTop;return Math.max(0,Math.round(e-1+hb*(i%d/d)))}function Fc(){return{left:K,right:oc-sb}}function Jc(){return zb}function yc(a){var b=g(a.start);return a.allDay?b:w(b,l(I))}function wc(a,b){return b?g(a):w(g(a),l(h))}function zc(b,c,d){if(d)l(t)&&Xb(b,i(g(c),1),a);else Rb(b,c)}function Rb(f,g){var i=l("selectHelper");E.build();if(i){var h=ab(f,k.visStart)*z+A;if(h>=0&&h<m){var d=E.rect(0,h,0,h,v),j=X(f,f),p=X(f,g);if(p>j){d.top=j;d.height=p-j;d.left+=2;d.width-=5;if(b.isFunction(i)){var n=i(f,g);if(n){d.position=ib;d.zIndex=8;o=b(n).css(d).appendTo(v)}}else{d.isStart=a;d.isEnd=a;o=b(Nc({title:e,start:f,end:g,className:["fc-select-helper"],editable:c},d));o.css("opacity",l(V))}if(o){Kb(o);v.append(o);Jb(o,d.width,a);lc(o,d.height,a)}}}}else Wb(f,g)}function Yb(){Gb();if(o){o.remove();o=d}}function uc(e){if(e.which==1&&l(M)){Wc(e);var a;W.start(function(b,c){Yb();if(b&&b.col==c.col&&!ob(b)){var e=jb(c),f=jb(b);a=[e,w(g(e),l(h)),f,w(g(f),l(h))].sort(Hc);Rb(a[0],a[3])}else a=d},e);b(document).one(cb,function(b){W.stop();if(a){+a[0]==+a[1]&&ac(a[0],c,b);Ac(a[0],a[3],c,b)}})}}function ac(a,b,c){Db(G,H[Hb(a.getDay())],a,b,c)}function Rc(b,a){W.start(function(a){Gb();if(a)if(ob(a))Vb(a.row,a.col,a.row,a.col);else{var b=jb(a),c=w(g(b),l(I));Wb(b,c)}},a)}function Uc(b,c,d){var a=W.stop();Gb();a&&Db("drop",b,jb(a),ob(a),c,d)}}function Ic(){var u="grid",z="div.fc-event-time",o=this;o.renderEvents=vb;o.compileDaySegs=P;o.clearEvents=yb;o.slotSegHtml=U;o.bindDaySeg=Ib;hc.call(o);var r=o.opt,x=o.trigger,B=o.isEventDraggable,C=o.isEventResizable,Lb=o.eventEnd,wb=o.reportEvents,nb=o.reportEventClear,M=o.eventElementHandlers,Kb=o.setHeight,cb=o.getDaySegmentContainer,L=o.getSlotSegmentContainer,N=o.getHoverListener,ub=o.getMaxMinute,Q=o.getMinMinute,R=o.timePosition,qb=o.colContentLeft,ob=o.colContentRight,tb=o.renderDaySegs,lb=o.resizableDayEvent,J=o.getColCnt,T=o.getColWidth,D=o.getSlotHeight,rb=o.getBodyContent,eb=o.reportEventElement,G=o.showEvents,F=o.hideEvents,ab=o.eventDrop,Gb=o.eventResize,O=o.renderDayOverlay,A=o.clearOverlays,bb=o.calendar,Jb=bb.formatDate,E=bb.formatDates;function vb(a,c){wb(a);for(var f=a.length,e=[],d=[],b=0;b<f;b++)if(a[b].allDay)e.push(a[b]);else d.push(a[b]);if(r(t)){tb(P(e),c);Kb()}sb(pb(d),c)}function yb(){nb();cb().empty();L().empty()}function P(f){for(var g=bc(ac(f,b.map(f,Nb),o.visStart,o.visEnd)),i=g.length,e,d,a,h=[],c=0;c<i;c++){e=g[c];for(d=0;d<e.length;d++){a=e[d];a.row=0;a.level=c;h.push(a)}}return h}function pb(m){for(var r=J(),l=Q(),q=ub(),j=w(g(o.visStart),l),p=b.map(m,xb),d,c,h,f,e,n=[],k=0;k<r;k++){d=bc(ac(m,p,j,w(g(j),q-l)));Kc(d);for(c=0;c<d.length;c++){h=d[c];for(f=0;f<h.length;f++){e=h[f];e.col=k;e.level=c;n.push(e)}}i(j,1,a)}return n}function xb(a){return a.end?g(a.end):w(g(a.start),r(I))}function sb(k,V){var h,A=k.length,d,i,X,H,O,G,u,t,E,j,o,Q,P=e,I,g,s,N={},M={},C,m,D,F,w=L(),T,v,B,W=J();if(T=r(q)){v=f;B=W-1}else{v=1;B=0}for(h=0;h<A;h++){d=k[h];i=d.event;H=R(d.start,d.start);O=R(d.start,d.end);G=d.col;u=d.level;t=d.forward||0;E=qb(G*v+B);j=ob(G*v+B)-E;j=Math.min(j-6,j*.95);if(u)o=j/(u+t+1);else if(t)o=(j/(t+1)-l/2)*2;else o=j;Q=E+j/(u+t+1)*u*v+(T?j-o:0);d.top=H;d.left=Q;d.outerWidth=o;d.outerHeight=O-H;P+=U(i,d)}w[0].innerHTML=P;I=w.children();for(h=0;h<A;h++){d=k[h];i=d.event;g=b(I[h]);s=x(zb,i,i,g);if(s===c)g.remove();else{if(s&&s!==a){g.remove();g=b(s).css({position:ib,top:d.top,left:d.left}).appendTo(w)}d.element=g;if(i._id===V)S(i,g,d);else g[0]._fci=h;eb(i,g)}}uc(w,k,S);for(h=0;h<A;h++){d=k[h];if(g=d.element){m=N[C=d.key=Cc(g[0])];d.vsides=m===n?(N[C]=Ob(g,a)):m;m=M[C];d.hsides=m===n?(M[C]=fc(g,a)):m;D=g.find("div.fc-event-content");if(D.length)d.contentTop=D[0].offsetTop}}for(h=0;h<A;h++){d=k[h];if(g=d.element){g[0].style.width=Math.max(0,d.outerWidth-d.hsides)+K;F=Math.max(0,d.outerHeight-d.vsides);g[0].style.height=F+K;i=d.event;if(d.contentTop!==n&&F-d.contentTop<p){g.find(z).text(Jb(i.start,r(y))+" - "+i.title);g.find("div.fc-event-title").remove()}x(Ab,i,i,g)}}}function U(a,d){var c="<",h=a.url,f=yc(a,r),g=f?Bb+f+m:e,b=[Cb,Db,"fc-event-vert"];B(a)&&b.push(Eb);d.isStart&&b.push("fc-corner-top");d.isEnd&&b.push("fc-corner-bottom");b=b.concat(a.className);if(a.source)b=b.concat(a.source.className||[]);if(h)c+="a href='"+Hb(a.url)+m;else c+="div";c+=Fb+b.join(s)+m+" style='position:absolute;z-index:8;top:"+d.top+"px;left:"+d.left+"px;"+f+m+v+"<div class='fc-event-inner fc-event-skin'"+g+v+"<div class='fc-event-head fc-event-skin'"+g+v+"<div class='fc-event-time'>"+Hb(E(a.start,a.end,r(y)))+j+j+"<div class='fc-event-content'><div class='fc-event-title'>"+Hb(a.title)+j+j+"<div class='fc-event-bg'></div>"+j;if(d.isEnd&&C(a))c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";c+="</"+(h?"a":"div")+v;return c}function Ib(a,b,c){B(a)&&gb(a,b,c.isStart);c.isEnd&&C(a)&&lb(a,b,c);M(a,b)}function S(a,b,d){var c=b.find(z);B(a)&&db(a,b,c);d.isEnd&&C(a)&&fb(a,b,c);M(a,b)}function gb(j,b,z){var v,m,l=a,n,B=r(q)?f:1,s=N(),w=T(),t=D(),y=Q();b.draggable({zIndex:9,opacity:r(V,mb),revertDuration:r(hb),start:function(d,e){x(W,b,j,d,e);F(j,b);v=b.width();s.start(function(d,f,q,e){A();if(d){m=c;n=e*B;if(!d.row){O(i(g(j.start),n),i(Nb(j),n));o()}else if(z){if(l){b.width(w-p);lc(b,t*Math.round((j.end?(j.end-j.start)/Vc:r(I))/r(h)));b.draggable(k,u,[w,1]);l=c}}else m=a;m=m||l&&!n}else{o();m=a}b.draggable(k,H,m)},d,X)},stop:function(c,d){s.stop();A();x(Y,b,j,c,d);if(m){o();b.css(Z,e);G(j,b)}else{var a=0;if(!l)a=Math.round((b.offset().top-rb().offset().top)/t)*r(h)+y-(j.start.getHours()*60+j.start.getMinutes());ab(this,j,n,a,l,c,d)}}});function o(){if(!l){b.width(v).height(e).draggable(k,u,d);l=a}}}function db(j,b,s){var p,l=c,n,m,o,L=r(q)?f:1,B=N(),K=J(),I=T(),v=D();b.draggable({zIndex:9,scroll:c,grid:[I,v],axis:K==1?"y":c,opacity:r(V),revertDuration:r(hb),start:function(c,e){x(W,b,j,c,e);F(j,b);p=b.position();m=o=0;B.start(function(c,f,h,e){b.draggable(k,H,!c);A();if(c){n=e*L;if(r(t)&&!c.row){if(!l){l=a;s.hide();b.draggable(k,u,d)}O(i(g(j.start),n),i(Nb(j),n))}else C()}},c,X)},drag:function(b,a){m=Math.round((a.position.top-p.top)/v)*r(h);if(m!=o){!l&&z(m);o=m}},stop:function(a,c){var d=B.stop();A();x(Y,b,j,a,c);if(d&&(n||m||l))ab(this,j,n,l?0:m,l,a,c);else{C();b.css(Z,e);b.css(p);z(0);G(j,b)}}});function z(a){var c=w(g(j.start),a),b;if(j.end)b=w(g(j.end),a);s.text(E(c,b,r(y)))}function C(){if(l){s.css("display",e);b.draggable(k,u,[I,v]);l=c}}}function fb(b,c,g){var a,e,f=D();c.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(d,f){a=e=0;F(b,c);c.css("z-index",9);x(kb,this,b,d,f)},resize:function(j,i){a=Math.round((Math.max(f,c.height())-i.originalSize.height)/f);if(a!=e){g.text(E(b.start,!a&&!b.end?d:w(Lb(b),r(h)*a),r(y)));e=a}},stop:function(d,e){x(jb,this,b,d,e);if(a)Gb(this,b,0,r(h)*a,d,e);else{c.css("z-index",8);G(b,c)}}})}}function Kc(c){for(var d,e,g,f,b,a=c.length-1;a>0;a--){g=c[a];for(d=0;d<g.length;d++){f=g[d];for(e=0;e<c[a-1].length;e++){b=c[a-1][e];if(vc(f,b))b.forward=Math.max(b.forward||0,(f.forward||0)+1)}}}}function Gc(H,d,t){var b=this;b.element=H;b.calendar=d;b.name=t;b.opt=j;b.trigger=e;b.isEventDraggable=x;b.isEventResizable=y;b.reportEvents=C;b.eventEnd=s;b.reportEventElement=v;b.reportEventClear=A;b.eventElementHandlers=u;b.showEvents=F;b.hideEvents=E;b.eventDrop=G;b.eventResize=D;var B=b.defaultEventEnd,p=d.normalizeEvent,h=d.reportEventChange,c={},q=[],f={},k=d.options;function j(c,b){var a=k[c];return typeof a==z?Ub(a,b||t):a}function e(c,a){return d.trigger.apply(d,[c,a||b].concat(Array.prototype.slice.call(arguments,2),[b]))}function x(a){return m(a)&&!j("disableDragging")}function y(a){return m(a)&&!j("disableResizing")}function m(a){return Kb(a.editable,(a.source||{}).editable,j("editable"))}function C(d){c={};for(var e=d.length,a,b=0;b<e;b++){a=d[b];if(c[a._id])c[a._id].push(a);else c[a._id]=[a]}}function s(a){return a.end?g(a.end):B(a)}function v(b,a){q.push(a);if(f[b._id])f[b._id].push(a);else f[b._id]=[a]}function A(){q=[];f={}}function u(b,a){a.click(function(c){if(!a.hasClass("ui-draggable-dragging")&&!a.hasClass("ui-resizable-resizing"))return e("eventClick",this,b,c)}).hover(function(a){e("eventMouseover",this,b,a)},function(a){e("eventMouseout",this,b,a)})}function F(b,a){l(b,a,"show")}function E(b,a){l(b,a,"hide")}function l(e,c,d){for(var b=f[e._id],g=b.length,a=0;a<g;a++)(!c||b[a][0]!=c[0])&&b[a][d]()}function G(l,f,d,b,g,j,k){var i=f.allDay,a=f._id;r(c[a],d,b,g);e("eventDrop",l,f,d,b,g,function(){r(c[a],-d,-b,i);h(a)},j,k);h(a)}function D(j,f,d,b,g,i){var a=f._id;o(c[a],d,b);e("eventResize",j,f,d,b,function(){o(c[a],-d,-b);h(a)},g,i);h(a)}function r(g,e,c,f){c=c||0;for(var b,h=g.length,d=0;d<h;d++){b=g[d];if(f!==n)b.allDay=f;w(i(b.start,e,a),c);if(b.end)b.end=w(i(b.end,e,a),c);p(b,k)}}function o(e,f,c){c=c||0;for(var b,g=e.length,d=0;d<g;d++){b=e[d];b.end=w(i(s(b),f,a),c);p(b,k)}}}function hc(){var h=this;h.renderDaySegs=W;h.resizableDayEvent=O;var p=h.opt,l=h.trigger,P=h.isEventDraggable,R=h.isEventResizable,fb=h.eventEnd,M=h.reportEventElement,bb=h.showEvents,ab=h.hideEvents,Y=h.eventResize,t=h.getRowCnt,J=h.getColCnt,gb=h.getColWidth,db=h.allDayRow,X=h.allDayBounds,C=h.colContentLeft,A=h.colContentRight,k=h.dayOfWeekCol,eb=h.dateCell,U=h.compileDaySegs,u=h.getDaySegmentContainer,F=h.bindDaySeg,Z=h.calendar.formatDates,S=h.renderDayOverlay,D=h.clearOverlays,T=h.clearSelection;function W(a,k){var h=u(),i,n=t(),l=J(),j=0,d,m,c,f,o=a.length,b,e,g;h[0].innerHTML=G(a);w(a,h.children());L(a);V(a,h,k);z(a);B(a);x(a);i=H();for(d=0;d<n;d++){m=0;c=[];for(f=0;f<l;f++)c[f]=0;while(j<o&&(b=a[j]).row==d){e=zc(c.slice(b.startCol,b.endCol));b.top=e;e+=b.outerHeight;for(g=b.startCol;g<b.endCol;g++)c[g]=e;j++}i[d].height(zc(c))}E(a,I(i))}function N(a,h,i){var f=b("<div/>"),c,g=u(),d,j=a.length,e;f[0].innerHTML=G(a);c=f.children();g.append(c);w(a,c);z(a);B(a);x(a);E(a,I(H()));c=[];for(d=0;d<j;d++){e=a[d].element;if(e){a[d].row===h&&e.css("top",i);c.push(e[0])}}return b(c)}function G(D){var g="fc-corner-left",f="fc-corner-right";for(var E=p(q),F=D.length,a,b,t,c,B=X(),z=B.left,x=B.right,i,h,l,u,n,d=e,w=0;w<F;w++){a=D[w];b=a.event;c=[Cb,Db,"fc-event-hori"];P(b)&&c.push(Eb);if(E){a.isStart&&c.push(f);a.isEnd&&c.push(g);i=k(a.end.getDay()-1);h=k(a.start.getDay());l=a.isEnd?C(i):z;u=a.isStart?A(h):x}else{a.isStart&&c.push(g);a.isEnd&&c.push(f);i=k(a.start.getDay());h=k(a.end.getDay()-1);l=a.isStart?C(i):z;u=a.isEnd?A(h):x}c=c.concat(b.className);if(b.source)c=c.concat(b.source.className||[]);t=b.url;n=yc(b,p);if(t)d+="<a href='"+Hb(t)+m;else d+="<div";d+=Fb+c.join(s)+m+" style='position:absolute;z-index:8;left:"+l+"px;"+n+m+v+"<div class='fc-event-inner fc-event-skin'"+(n?Bb+n+m:e)+v;if(!b.allDay&&a.isStart)d+="<span class='fc-event-time'>"+Hb(Z(b.start,b.end,p(y)))+o;d+="<span class='fc-event-title'>"+Hb(b.title)+o+j;if(a.isEnd&&R(b))d+="<div class='ui-resizable-handle ui-resizable-"+(E?"w":"e")+r+"&nbsp;&nbsp;&nbsp;"+j;d+="</"+(t?"a":"div")+v;a.left=l;a.outerWidth=u-l;a.startCol=i;a.endCol=h+1}return d}function w(i,j){for(var k=i.length,f,h,e,d,g=0;g<k;g++){f=i[g];h=f.event;e=b(j[g]);d=l(zb,h,h,e);if(d===c)e.remove();else{if(d&&d!==a){d=b(d).css({position:ib,left:f.left});e.replaceWith(d);e=d}f.element=e}}}function L(d){for(var e=d.length,b,a,c=0;c<e;c++){b=d[c];a=b.element;a&&M(b.event,a)}}function V(e,f,g){for(var h=e.length,b,a,d,c=0;c<h;c++){b=e[c];a=b.element;if(a){d=b.event;if(d._id===g)F(d,a,b);else a[0]._fci=c}}uc(f,e,F)}function z(h){for(var i=h.length,c,b,e,d,g={},f=0;f<i;f++){c=h[f];b=c.element;if(b){e=c.key=Cc(b[0]);d=g[e];if(d===n)d=g[e]=fc(b,a);c.hsides=d}}}function B(d){for(var e=d.length,a,b,c=0;c<e;c++){a=d[c];b=a.element;if(b)b[0].style.width=Math.max(0,a.outerWidth-a.hsides)+K}}function x(g){for(var h=g.length,b,a,d,c,f={},e=0;e<h;e++){b=g[e];a=b.element;if(a){d=b.key;c=f[d];if(c===n)c=f[d]=Ac(a);b.outerHeight=a[0].offsetHeight+c}}}function H(){for(var c=t(),b=[],a=0;a<c;a++)b[a]=db(a).find("td:first div.fc-day-content > div");return b}function I(b){for(var d=b.length,c=[],a=0;a<d;a++)c[a]=b[a][0].offsetTop;return c}function E(e,f){for(var g=e.length,a,b,c,d=0;d<g;d++){a=e[d];b=a.element;if(b){b[0].style.top=f[a.row]+(a.top||0)+K;c=a.event;l(Ab,c,c,b)}}}function O(j,k,s){var m=p(q),o=m?"w":"e",r=k.find("div.ui-resizable-"+o),n=c;Tb(k);k.mousedown(function(a){a.preventDefault()}).click(function(a){if(n){a.preventDefault();a.stopImmediatePropagation()}});r.mousedown(function(v){var p="cursor";if(v.which!=1)return;n=a;var w=h.getHoverListener(),E=t(),C=J(),y=m?f:1,z=m?C-1:0,A=k.css("top"),r,q,x=b.extend({},j),u=eb(j.start);T();b(Q).css(p,o+"-resize").one(cb,B);l(kb,this,j,v);w.start(function(c,h){if(c){var e=Math.max(u.row,c.row),b=c.col;if(E==1)e=0;if(e==u.row)if(m)b=Math.min(u.col,b);else b=Math.max(u.col,b);r=e*7+b*y+z-(h.row*7+h.col*y+z);var k=i(fb(j),r,a);if(r){x.end=k;var f=q;q=N(U([x]),s.row,A);q.find("*").css(p,o+"-resize");f&&f.remove();ab(j)}else if(q){bb(j);q.remove();q=d}D();S(j.start,i(g(k),1))}},v);function B(a){l(jb,this,j,a);b(Q).css(p,e);w.stop();D();r&&Y(this,j,r,0,a);setTimeout(function(){n=c},0)}})}}function ic(){var e=this;e.select=o;e.unselect=f;e.reportSelection=h;e.daySelectionMousedown=m;var g=e.opt,l=e.trigger,n=e.defaultSelectionEnd,j=e.renderSelection,k=e.clearSelection,i=c;g(M)&&g("unselectAuto")&&b(document).mousedown(function(c){var a=g("unselectCancel");if(a)if(b(c.target).parents(a).length)return;f(c)});function o(b,a,c){f();if(!a)a=n(b,c);j(b,a,c);h(b,a,c)}function f(a){if(i){i=c;k();l("unselect",d,a)}}function h(b,c,e,f){i=a;l("select",d,b,c,e,f)}function m(i){var m=e.cellDate,o=e.cellIsAllDay,l=e.getHoverListener(),n=e.reportDayClick;if(i.which==1&&g(M)){f(i);var p=this,c;l.start(function(b,e){k();if(b&&o(b)){c=[m(e),m(b)].sort(Hc);j(c[0],c[1],a)}else c=d},i);b(document).one(cb,function(b){l.stop();if(c){+c[0]==+c[1]&&n(c[0],a,b);h(c[0],c[1],a,b)}})}}}function kc(){var d=this;d.renderOverlay=f;d.clearOverlays=e;var c=[],a=[];function f(f,e){var d=a.shift();if(!d)d=b("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>");d[0].parentNode!=e[0]&&d.appendTo(e);c.push(d.css(f).show());return d}function e(){var b;while(b=c.shift())a.push(b.hide().unbind())}}function jc(e){var c=this,b,a;c.build=function(){b=[];a=[];e(b,a)};c.cell=function(h,i){for(var k=b.length,j=a.length,g=f,e=f,c=0;c<k;c++)if(i>=b[c][0]&&i<b[c][1]){g=c;break}for(c=0;c<j;c++)if(h>=a[c][0]&&h<a[c][1]){e=c;break}return g>=0&&e>=0?{row:g,col:e}:d};c.rect=function(e,d,h,g,f){var c=f.offset();return{top:b[e][0]-c.top,left:a[d][0]-c.left,width:a[g][1]-a[d][0],height:b[h][1]-b[e][0]}}}function mc(h){var i=this,e,f,a,c;i.start=function(j,k,i){f=j;a=c=d;h.build();g(k);e=i||"mousemove";b(document).bind(e,g)};function g(d){var b=h.cell(d.pageX,d.pageY);if(!b!=!c||b&&(b.row!=c.row||b.col!=c.col)){if(b){if(!a)a=b;f(b,a,b.row-a.row,b.col-a.col)}else f(b,a);c=b}}i.stop=function(){b(document).unbind(e,g);return c}}function gc(f){var c=this,d={},b={},a={};function e(a){return d[a]=d[a]||f(a)}c.left=function(a){return b[a]=b[a]===n?e(a).position().left:b[a]};c.right=function(b){return a[b]=a[b]===n?c.left(b)+e(b).width():a[b]};c.clear=function(){d={};b={};a={}}}})(jQuery);(function(){var cd="borderWidth",bd="borderColor",yc="areaspline",xc="mouseOut",wc="mouseOver",Kb="unselect",Q="select",Yb="group",ub="wa",Sb="SPAN",tb="Z",dc="zIndex",Jb="rect",vc="dashstyle",cc="stroke",uc="rotation",bc="translateY",ac="translateX",tc="transform",sb="text",Gb="visibility",rb="stroke-width",Rb="strokeWidth",gb="rgb",Qb="pointer",Sc="#000000",Rc="#3E576F",lc="#FFFFFF",L=",",qb="circle",Qc="#4572A7",fb="http://www.w3.org/2000/svg",Xb="span",sc="horizontal",Zb="verticalAlign",Fb="align",pb="mouseout",ob="mouseover",nb="destroy",I="resize",q=" ",kc="highcharts-",eb="point",Ib="column",E="isTracker",P="touchstart",Pb="tracker",Ob="#C0C0C0",o="click",Z="show",O="hide",K="width",Y="height",B="y",j="x",X="attr",W="animate",h=-1,r=12,t=1e3,Eb="auto",c=false,V="top",db="bottom",cb="middle",x="center",m="right",l="left",a=true,H="-",G=")",y=100,f="",b=null,d=10;function s(a,c){var b;a||(a={});for(b in c)a[b]=c[b];return a}function p(a,b){return parseInt(a,b||d)}function Ub(a){return typeof a==="string"}function Lb(a){return typeof a==="object"}function ec(a){return typeof a==="number"}function oc(a,c){for(var b=a.length;b--;)if(a[b]===c){a.splice(b,1);break}}function i(a){return a!==M&&a!==b}function z(b,a,d){var c,e;if(Ub(a)){if(i(d))b.setAttribute(a,d);else if(b&&b.getAttribute)e=b.getAttribute(a)}else if(i(a)&&Lb(a))for(c in a)b.setAttribute(c,a[c]);return e}function pc(a){if(!a||a.constructor!==Array)a=[a];return a}function g(){for(var d=arguments,a,e=d.length,c=0;c<e;c++){a=d[c];if(typeof a!=="undefined"&&a!==b)return a}}function xd(b){var c=f,a;for(a in b)c+=a+":"+b[a]+";";return c}function D(b,a){if(Bc)if(a&&a.opacity!==M)a.filter="alpha(opacity="+a.opacity*y+G;s(b.style,a)}function hb(a,b,c,d,e){a=w.createElement(a);b&&s(a,b);e&&D(a,{padding:0,border:ib,margin:0});c&&D(a,c);d&&d.appendChild(a);return a}function Db(b,c){var a=function(){};a.prototype=new b;s(a.prototype,c);return a}function dd(b,c,a,d){var e=N.lang;b=b;var g=isNaN(c=U(c))?2:c;c=a===undefined?e.decimalPoint:a;d=d===undefined?e.thousandsSep:d;e=b<0?H:f;a=String(p(b=U(+b||0).toFixed(g)));var h=a.length>3?a.length%3:0;return e+(h?a.substr(0,h)+d:f)+a.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(g?c+U(b-a).toFixed(g).slice(2):f)}function fc(a,b){Dc=g(a,b.animation)}function ed(){var a=N.global.useUTC;Ec=a?Date.UTC:function(a,b,c,d,e,f){return(new Date(a,b,g(c,1),g(d,0),g(e,0),g(f,0))).getTime()};Uc=a?"getUTCMinutes":"getMinutes";Vc=a?"getUTCHours":"getHours";Wc=a?"getUTCDay":"getDay";qc=a?"getUTCDate":"getDate";Fc=a?"getUTCMonth":"getMonth";Gc=a?"getUTCFullYear":"getFullYear";fd=a?"setUTCMinutes":"setMinutes";gd=a?"setUTCHours":"setHours";Xc=a?"setUTCDate":"setDate";hd=a?"setUTCMonth":"setMonth";id=a?"setUTCFullYear":"setFullYear"}function Hc(a){Ic||(Ic=hb(Vb));a&&Ic.appendChild(a);Ic.innerHTML=f}function Jc(){}function jd(zb,Pd){var ac="endResize",Yb="selection",Wb="datetime",kb="yAxis",gb="xAxis";function Ud(pb,n){function jc(d,c){var b=this;b.pos=d;b.minor=c;b.isNew=a;c||b.addLabel()}function fc(a){if(a){this.options=a;this.id=a.id}return this}function zc(a,b,d){var c=this;c.isNegative=b;c.options=a;c.x=d;c.alignOptions={align:a.align||(lb?b?l:m:x),verticalAlign:a.verticalAlign||(lb?cb:b?db:V),y:g(a.y,lb?4:b?14:-6),x:g(a.x,lb?b?-6:6:0)};c.textAlign=a.textAlign||(lb?b?m:l:x)}function Cc(){var h=[],j=[],d;P=S=b;Fb=[];e(sb,function(k){d=c;e([gb,kb],function(b){if(k.isCartesian&&(b===gb&&I||b===kb&&!I)&&(k.options[b]===n.index||k.options[b]===M&&n.index===0)){k[b]=z;Fb.push(k);d=a}});if(!k.visible&&L.ignoreHiddenSeries)d=c;if(d){var m,q,p,l,o;if(!I){m=k.options.stacking;Yb=m==="percent";if(m){l=k.type+g(k.options.stack,f);o=H+l;k.stackKey=l;q=h[l]||[];h[l]=q;p=j[o]||[];j[o]=p}if(Yb){P=0;S=99}}if(k.isCartesian){e(k.data,function(d){var a=d.x,c=d.y,h=c<0,e=h?p:q,f=h?o:l;if(P===b)P=S=d[Vb];if(I){if(a>S)S=a;else if(a<P)P=a}else if(i(c)){if(m)e[a]=i(e[a])?e[a]+c:c;c=e?e[a]:c;d=g(d.low,c);if(!Yb)if(c>S)S=c;else if(d<P)P=d;if(m){eb[f]||(eb[f]={});eb[f][a]||(eb[f][a]=new zc(n.stackLabels,h,a));eb[f][a].setTotal(c)}}});if(/(area|column|bar)/.test(k.type)&&!I)if(P>=0){P=0;lc=a}else if(S<0){S=0;mc=a}}}})}function yc(e,a){var f,b;ib=a?1:v.pow(d,jb(v.log(e)/v.LN10));f=e/ib;if(!a){a=[1,2,2.5,5,d];if(n.allowDecimals===c||cc)if(ib===1)a=[1,2,5,d];else if(ib<=.1)a=[1/ib]}for(b=0;b<a.length;b++){e=a[b];if(f<=(a[b]+(a[b+1]||a[b]))/2)break}e*=ib;return e}function Ob(b){var a;a=b;ib=g(ib,v.pow(d,jb(v.log(D)/v.LN10)));if(ib<1){a=k(1/ib)*d;a=k(b*a)/a}return a}function nc(){var k,h,c,j,B=n.tickInterval,m=n.tickPixelInterval;k=n.maxZoom||(I&&!i(n.min)&&!i(n.max)?vb(pb.smallestInterval*5,S-P):b);hb=q?rb:mb;if(qb){c=pb[I?gb:kb][n.linkedTo];j=c.getExtremes();o=g(j.min,j.dataMin);w=g(j.max,j.dataMax)}else{o=g(Sb,n.min,P);w=g(Tb,n.max,S)}if(cc){o=v.log(o)/v.LN10;w=v.log(w)/v.LN10}if(w-o<k){j=(k-w+o)/2;o=A(o-j,g(n.min,o-j),P);w=vb(o+k,g(n.max,o+k),S)}if(!E&&!Yb&&!qb&&i(o)&&i(w)){k=w-o||1;if(!i(n.min)&&!i(Sb)&&pc&&(P<0||!lc))o-=k*pc;if(!i(n.max)&&!i(Tb)&&rc&&(S>0||!mc))w+=k*rc}D=o===w?1:qb&&!B&&m===c.options.tickPixelInterval?c.tickInterval:g(B,E?1:(w-o)*m/hb);if(!ec&&!i(n.tickInterval))D=yc(D);z.tickInterval=D;Zb=n.minorTickInterval===Eb&&D?D/5:n.minorTickInterval;if(ec){y=[];B=N.global.useUTC;var l=t/wb,p=6e4/wb,u=3.6e6/wb;m=8.64e7/wb;k=6.048e8/wb;j=2.592e9/wb;var x=31556952000/wb,f=[["second",l,[1,2,5,d,15,30]],["minute",p,[1,2,5,d,15,30]],["hour",u,[1,2,3,4,6,8,r]],["day",m,[1,2]],["week",k,[1,2]],["month",j,[1,2,3,4,6]],["year",x,b]],s=f[6],e=s[1],a=s[2];for(c=0;c<f.length;c++){s=f[c];e=s[1];a=s[2];if(f[c+1])if(D<=(e*a[a.length-1]+f[c+1][1])/2)break}if(e===x&&D<5*e)a=[1,2,5];f=yc(D/e,a);a=new Date(o*wb);a.setMilliseconds(0);e>=l&&a.setSeconds(e>=p?0:f*jb(a.getSeconds()/f));e>=p&&a[fd](e>=u?0:f*jb(a[Uc]()/f));e>=u&&a[gd](e>=m?0:f*jb(a[Vc]()/f));e>=m&&a[Xc](e>=j?1:f*jb(a[qc]()/f));if(e>=j){a[hd](e>=x?0:f*jb(a[Fc]()/f));h=a[Gc]()}if(e>=x){h-=h%f;a[id](h)}e===k&&a[Xc](a[qc]()-a[Wc]()+n.startOfWeek);c=1;h=a[Gc]();l=a.getTime()/wb;p=a[Fc]();for(u=a[qc]();l<w&&c<rb;){y.push(l);if(e===x)l=Ec(h+c*f,0)/wb;else if(e===j)l=Ec(h,p+c*f)/wb;else if(!B&&(e===m||e===k))l=Ec(h,p,u+c*f*(e===m?1:7));else l+=e*f;c++}y.push(l);ac=n.dateTimeLabelFormats[s[0]]}else{c=Ob(jb(o/D)*D);h=Ob(Yc(w/D)*D);y=[];for(c=Ob(c);c<=h;){y.push(c);c=Ob(c+D)}}if(!qb){if(E||I&&pb.hasColumn){h=(E?1:D)*.5;if(E||!i(g(n.min,Sb)))o-=h;if(E||!i(g(n.max,Tb)))w+=h}h=y[0];c=y[y.length-1];if(n.startOnTick)o=h;else o>h&&y.shift();if(n.endOnTick)w=c;else w<c&&y.pop();Kb||(Kb={x:0,y:0});if(!ec&&y.length>Kb[Vb])Kb[Vb]=y.length}}function wc(){var a,b;Pb=o;sc=w;Cc();nc();kc=zb;zb=hb/(w-o||1);if(!I)for(a in eb)for(b in eb[a])eb[a][b].cum=eb[a][b].total;if(!z.isDirty)z.isDirty=o!==Pb||w!==sc}function tc(a){a=(new fc(a)).render();yb.push(a);return a}function uc(){var g=n.title,j=n.stackLabels,t=n.alternateGridColor,f=n.lineWidth,d,l,k=pb.hasRendered,u=k&&i(Pb)&&!isNaN(Pb);d=Fb.length&&i(o)&&i(w);hb=q?rb:mb;zb=hb/(w-o||1);Rb=q?G:Gb;if(d||qb){if(Zb&&!E)for(d=o+(y[0]-o)%Zb;d<=w;d+=Zb){Bb[d]||(Bb[d]=new jc(d,a));u&&Bb[d].isNew&&Bb[d].render(b,a);Bb[d].isActive=a;Bb[d].render()}e(y,function(b,c){if(!qb||b>=o&&b<=w){u&&bb[b].isNew&&bb[b].render(c,a);bb[b].isActive=a;bb[b].render(c)}});t&&e(y,function(b,c){if(c%2===0&&b<w){Ib[b]||(Ib[b]=new fc);Ib[b].options={from:b,to:y[c+1]!==M?y[c+1]:w,color:t};Ib[b].render();Ib[b].isActive=a}});k||e((n.plotLines||[]).concat(n.plotBands||[]),function(a){yb.push((new fc(a)).render())})}e([bb,Bb,Ib],function(a){for(var b in a)if(a[b].isActive)a[b].isActive=c;else{a[b].destroy();delete a[b]}});if(f){d=G+(nb?rb:0)+Ab;l=tb-Gb-(nb?mb:0)+Ab;d=Q.crispLine([T,q?G:d,q?l:fb,C,q?ub-Jb:d,q?l:tb-Gb],f);if(hc)hc.animate({d:d});else hc=Q.path(d).attr({stroke:n.lineColor,"stroke-width":f,zIndex:7}).add()}if(z.axisTitle){d=q?G:fb;f=p(g.style.fontSize||r);d=({low:d+(q?0:hb),middle:d+hb/2,high:d+(q?hb:0)})[g.align];f=(q?fb+mb:G)+(q?1:h)*(nb?h:1)*gc+(ob===2?f:0);z.axisTitle[k?W:X]({x:q?d:f+(nb?rb:0)+Ab+(g.x||0),y:q?f-(nb?mb:0)+Ab:d+(g.y||0)})}if(j&&j.enabled){var m,s;j=z.stackTotalGroup;if(!j)z.stackTotalGroup=j=Q.g("stack-labels").attr({visibility:xb,zIndex:6}).translate(G,fb).add();for(m in eb){g=eb[m];for(s in g)g[s].render(j)}}z.isDirty=c}function vc(b){for(var a=yb.length;a--;)yb[a].id===b&&yb[a].destroy()}var I=n.isX,nb=n.opposite,q=lb?!I:I,ob=q?nb?0:2:nb?1:3,eb={};n=u(I?Kc:Zc,([sd,td,kd,ud])[ob],n);var z=this,Ub=n.type,ec=Ub===Wb,cc=Ub==="logarithmic",Ab=n.offset||0,Vb=I?j:B,hb,zb,kc,Rb=q?G:Gb,Hb,Nb,Xb,xc,hc,P,S,Fb,Sb,Tb,w=b,o=b,Pb,sc,pc=n.minPadding,rc=n.maxPadding,qb=i(n.linkedTo),lc,mc,Yb;Ub=n.events;var ic,yb=[],D,Zb,ib,y,bb={},Bb={},Ib={},Lb,Mb,gc,ac,E=n.categories,Bc=n.labels.formatter||function(){var a=this.value;return ac?Lc(ac,a):D%1e6===0?a/1e6+"M":D%t===0?a/t+"k":!E&&a>=t?dd(a,0):a},bc=q&&n.labels.staggerLines,Cb=n.reversed,Db=E&&n.tickmarkPlacement==="between"?.5:0;jc.prototype={addLabel:function(){var a=this.pos,c=n.labels,h=!(a===o&&!g(n.showFirstLabel,1)||a===w&&!g(n.showLastLabel,0)),e=E&&q&&E.length&&!c.step&&!c.staggerLines&&!c.rotation&&rb/E.length||!q&&rb/2,f=this.label;a=Bc.call({isFirst:a===y[0],isLast:a===y[y.length-1],dateTimeLabelFormat:ac,value:E&&E[a]?E[a]:a});e=e&&{width:A(1,k(e-2*(c.padding||d)))+R};e=s(e,c.style);if(f===M)this.label=i(a)&&h&&c.enabled?Q.text(a,0,0).attr({align:c.align,rotation:c.rotation}).css(e).add(Xb):b;else f&&f.attr({text:a}).css(e)},getLabelSize:function(){var a=this.label;return a?(this.labelBBox=a.getBBox())[q?Y:K]:0},render:function(u,m){var e=this,a=!e.minor,o=e.label,g=e.pos,r=n.labels,j=e.gridLine,k=a?n.gridLineWidth:n.minorGridLineWidth,w=a?n.gridLineColor:n.minorGridLineColor,t=a?n.gridLineDashStyle:n.minorGridLineDashStyle,v=e.mark,l=a?n.tickLength:n.minorTickLength,s=a?n.tickWidth:n.minorTickWidth||0,x=a?n.tickColor:n.minorTickColor,y=a?n.tickPosition:n.minorTickPosition;a=r.step;var d=m&&Ac||tb,f;f=q?Hb(g+Db,b,b,m)+Rb:G+Ab+(nb?(m&&jd||ub)-Jb-G:0);d=q?d-Gb+Ab-(nb?mb:0):d-Hb(g+Db,b,b,m)-Rb;if(k){g=Nb(g+Db,k,m);if(j===M){j={stroke:w,"stroke-width":k};if(t)j.dashstyle=t;e.gridLine=j=k?Q.path(g).attr(j).add(xc):b}j&&g&&j.animate({d:g})}if(s){if(y==="inside")l=-l;if(nb)l=-l;k=Q.crispLine([T,f,d,C,f+(q?0:-l),d+(q?l:0)],s);if(v)v.animate({d:k});else e.mark=Q.path(k).attr({stroke:x,"stroke-width":s}).add(Xb)}if(o&&!isNaN(f)){f=f+r.x-(Db&&q?Db*zb*(Cb?h:1):0);d=d+r.y-(Db&&!q?Db*zb*(Cb?1:h):0);i(r.y)||(d+=p(o.styles.lineHeight)*.9-o.getBBox().height/2);if(bc)d+=u/(a||1)%bc*16;a&&o[u%a?O:Z]();o[e.isNew?X:W]({x:f,y:d})}e.isNew=c},destroy:function(){var a=this;for(var b in a)a[b]&&a[b].destroy&&a[b].destroy()}};fc.prototype={render:function(){var l=this,f=l.options,h=f.label,m=l.label,y=f.width,r=f.to,e,s=f.from,p=f.dashStyle,j=l.svgElem,a=[],n,k,z=f.color;k=f.zIndex;var t=f.events;if(y){a=Nb(f.value,y);f={stroke:z,"stroke-width":y};if(p)f.dashstyle=p}else if(i(s)&&i(r)){s=A(s,o);r=vb(r,w);e=Nb(r);if((a=Nb(s))&&e)a.push(e[4],e[5],e[1],e[2]);else a=b;f={fill:z}}else return;if(i(k))f.zIndex=k;if(j)if(a)j.animate({d:a},b,j.onGetPath);else{j.hide();j.onGetPath=function(){j.show()}}else if(a&&a.length){l.svgElem=j=Q.path(a).attr(f).add();if(t){p=function(a){j.on(a,function(b){t[a].apply(l,[b])})};for(n in t)p(n)}}if(h&&i(h.text)&&a&&a.length&&rb>0&&mb>0){h=u({align:q&&e&&x,x:q?!e&&4:d,verticalAlign:!q&&e&&cb,y:q?e?16:d:e?6:-4,rotation:q&&!e&&90},h);if(!m)l.label=m=Q.text(h.text,0,0).attr({align:h.textAlign||h.align,rotation:h.rotation,zIndex:k}).css(h.style).add();e=[a[1],a[4],g(a[6],a[1])];a=[a[2],a[5],g(a[7],a[2])];n=vb.apply(v,e);k=vb.apply(v,a);m.align(h,c,{x:n,y:k,width:A.apply(v,e)-n,height:A.apply(v,a)-k});m.show()}else m&&m.hide();return l},destroy:function(){var a=this;for(var b in a){a[b]&&a[b].destroy&&a[b].destroy();delete a[b]}oc(yb,a)}};zc.prototype={setTotal:function(a){this.cum=this.total=a},render:function(c){var a=this,b=a.options.formatter.call(a);if(a.label)a.label.attr({text:b,visibility:ab});else a.label=pb.renderer.text(b,0,0).css(a.options.style).attr({align:a.textAlign,rotation:a.options.rotation,visibility:ab}).add(c)},setOffset:function(i,g){var a=this,e=a.isNegative,d=z.translate(a.total),c=z.translate(0);c=U(d-c);var h=pb.xAxis[0].translate(a.x)+i,f=pb.plotHeight;e={x:lb?e?d:d-c:h,y:lb?f-h-g:e?f-d-c:f-d,width:lb?c:g,height:lb?g:c};a.label&&a.label.align(a.alignOptions,b,e).attr({visibility:xb})}};Hb=function(a,i,j,b,g){var c=1,f=0,e=b?kc:zb;b=b?Pb:o;e||(e=zb);if(j){c*=h;f=hb}if(Cb){c*=h;f-=c*hb}if(i){if(Cb)a=hb-a;a=a/e+b;if(cc&&g)a=v.pow(d,a)}else{if(cc&&g)a=v.log(a)/v.LN10;a=c*(a-b)*e+f}return a};Nb=function(d,j,c){var e,g,h;d=Hb(d,b,b,c);var i=c&&Ac||tb,l=c&&jd||ub,f;c=g=k(d+Rb);e=h=k(i-d-Rb);if(isNaN(d))f=a;else if(q){e=fb;h=i-Gb;if(c<G||c>G+rb)f=a}else{c=G;g=l-Jb;if(e<fb||e>fb+mb)f=a}return f?b:Q.crispLine([T,c,e,C,g,h],j||0)};if(lb&&I&&Cb===M)Cb=a;s(z,{addPlotBand:tc,addPlotLine:tc,adjustTickAmount:function(){if(Kb&&!ec&&!E&&!qb){var b=Lb,c=y.length;Lb=Kb[Vb];if(c<Lb){for(;y.length<Lb;)y.push(Ob(y[y.length-1]+D));zb*=(c-1)/(Lb-1);w=y[y.length-1]}if(i(b)&&Lb!==b)z.isDirty=a}},categories:E,getExtremes:function(){return{min:o,max:w,dataMin:P,dataMax:S,userMin:Sb,userMax:Tb}},getPlotLinePath:Nb,getThreshold:function(a){if(o>a)a=o;else if(w<a)a=w;return Hb(a,0,1)},isXAxis:I,options:n,plotLinesAndBands:yb,getOffset:function(){var r=Fb.length&&i(o)&&i(w),f=0,k=0,a=n.title,p=n.labels,c=([h,1,1,h])[ob],b;if(!Xb){Xb=Q.g("axis").attr({zIndex:7}).add();xc=Q.g("grid").attr({zIndex:1}).add()}Mb=0;if(r||qb){e(y,function(a){if(bb[a])bb[a].addLabel();else bb[a]=new jc(a);if(ob===0||ob===2||({1:l,3:m})[ob]===p.align)Mb=A(bb[a].getLabelSize(),Mb)});if(bc)Mb+=(bc-1)*16}else for(b in bb){bb[b].destroy();delete bb[b]}if(a&&a.text){if(!z.axisTitle)z.axisTitle=Q.text(a.text,0,0).attr({zIndex:7,rotation:a.rotation||0,align:a.textAlign||({low:l,middle:x,high:m})[a.align]}).css(a.style).add();f=z.axisTitle.getBBox()[q?Y:K];k=g(a.margin,q?5:d)}Ab=c*(n.offset||Qb[ob]);gc=Mb+(ob!==2&&Mb&&c*n.labels[q?B:j])+k;Qb[ob]=A(Qb[ob],gc+f+c*Ab)},render:uc,setCategories:function(b,c){z.categories=E=b;e(Fb,function(b){b.translate();b.setTooltipPoints(a)});z.isDirty=a;g(c,a)&&pb.redraw()},setExtremes:function(c,d,b,e){b=g(b,a);F(z,"setExtremes",{min:c,max:d},function(){Sb=c;Tb=d;b&&pb.redraw(e)})},setScale:wc,setTickPositions:nc,translate:Hb,redraw:function(){dc.resetTracker&&dc.resetTracker();uc();e(yb,function(a){a.render()});e(Fb,function(b){b.isDirty=a})},removePlotBand:vc,removePlotLine:vc,reversed:Cb,stacks:eb});for(ic in Ub)J(z,ic,Ub[ic]);wc()}function Wd(){var a={};return{add:function(c,b,e,d){if(!a[c]){b=Q.text(b,0,0).css(zb.toolbar.itemStyle).align({align:m,x:-Jb-20,y:fb+30}).on(o,d).attr({align:m,zIndex:20}).add();a[c]=b}},remove:function(c){Hc(a[c].element);a[c]=b}}}function Xd(g){function D(){var f=this.points||pc(this),a=f[0].series.xAxis,c=this.x;a=a&&a.options.type===Wb;var d=Ub(c)||a,b;b=d?['<span style="font-size: 10px">'+(a?Lc("%A, %b %e, %Y",c):c)+"</span>"]:[];e(f,function(a){b.push(a.point.tooltipFormatter(d))});return b.join("<br/>")}function C(c,a){v=l?c:(2*v+c)/3;u=l?a:(u+a)/2;m.translate(v,u);od=U(c-v)>1||U(a-u)>1?function(){C(c,a)}:b}function A(){if(!l){var c=n.hoverPoints;m.hide();e(s,function(a){a&&a.hide()});c&&e(c,function(a){a.setState()});n.hoverPoints=b;l=a}}var z,x=g.borderWidth,h=g.crosshairs,s=[],t=g.style,r=g.shared,q=p(t.padding),i=x+q,l=a,w,o,v=0,u=0;t.padding=0;var m=Q.g("tooltip").attr({zIndex:8}).add(),E=Q.rect(i,i,0,0,g.borderRadius,x).attr({fill:g.backgroundColor,"stroke-width":x}).add(m).shadow(g.shadow),y=Q.text(f,q+i,p(t.fontSize)+q+i).attr({zIndex:1}).css(t).add(m);m.hide();return{shared:r,refresh:function(f){var a,b,p,u=0,t={},v=[];p=f.tooltipPos;a=g.formatter||D;t=n.hoverPoints;if(r){t&&e(t,function(a){a.setState()});n.hoverPoints=f;e(f,function(a){a.setState(Bb);u+=a.plotY;v.push(a.getLabelConfig())});b=f[0].plotX;u=k(u)/f.length;t={x:f[0].category};t.points=v;f=f[0]}else t=f.getLabelConfig();t=a.call(t);z=f.series;b=r?b:f.plotX;u=r?u:f.plotY;a=k(p?p[0]:lb?rb-u:b);b=k(p?p[1]:lb?mb-b:u);p=r||!f.series.isCartesian||ec(a,b);if(t===c||!p)A();else{if(l){m.show();l=c}y.attr({text:t});p=y.getBBox();w=p.width+2*q;o=p.height+2*q;E.attr({width:w,height:o,stroke:g.borderColor||f.color||z.color||"#606060"});a=a-w+G-25;b=b-o+fb+d;if(a<7){a=7;b-=30}if(b<5)b=5;else if(b+o>tb)b=tb-o-5;C(k(a-i),k(b-i))}if(h){h=pc(h);for(a=h.length;a--;){b=f.series[a?kb:gb];if(h[a]&&b){b=b.getPlotLinePath(f[a?B:j],1);if(s[a])s[a].attr({d:b,visibility:xb});else{p={"stroke-width":h[a].width||1,stroke:h[a].color||Ob,zIndex:2};if(h[a].dashStyle)p.dashstyle=h[a].dashStyle;s[a]=Q.path(b).attr(p).add()}}}}},hide:A}}function Yd(f,q){var h="touchend";function r(b){var d,f=ld&&w.width/w.documentElement.clientWidth-1,a,c,e;b=b||S.event;if(!b.target)b.target=b.srcElement;d=b.touches?b.touches.item(0):b;if(b.type!=="mousemove"||S.opera||f){a=qb;c={left:a.offsetLeft,top:a.offsetTop};for(a=a.offsetParent;a;){c.left+=a.offsetLeft;c.top+=a.offsetTop;if(a!==w.body&&a!==w.documentElement){c.left-=a.scrollLeft;c.top-=a.scrollTop}a=a.offsetParent}nc=c;a=nc.left;c=nc.top}if(Bc){e=b.x;d=b.y}else if(d.layerX===M){e=d.pageX-a;d=d.pageY-c}else{e=b.layerX;d=b.layerY}if(f){e+=k((f+1)*a-a);d+=k((f+1)*c-c)}return s(b,{chartX:e,chartY:d})}function y(c){var b={xAxis:[],yAxis:[]};e(Ab,function(e){var f=e.translate,d=e.isXAxis;b[d?gb:kb].push({axis:e,value:f(lb?!d:d?c.chartX-G:mb-c.chartY+fb,a)})});return b}function p(){var c=f.hoverSeries,a=f.hoverPoint;a&&a.onMouseOut();c&&c.onMouseOut();tc&&tc.hide();pd=b}function v(){if(g){var k={xAxis:[],yAxis:[]},b=g.getBBox(),d=b.x-G,j=b.y-fb;if(i){e(Ab,function(f){var c=f.translate,e=f.isXAxis,h=lb?!e:e,g=c(h?d:mb-j-b.height,a,0,0,1);c=c(h?d+b.width:mb-j,a,0,0,1);k[e?gb:kb].push({axis:f,min:vb(g,c),max:A(g,c)})});F(f,Yb,k,qd)}g=g.destroy()}f.mouseIsDown=rd=i=c;Hb(w,Mb?h:"mouseup",v)}var n,j,i,g,x=L.zoomType,l=/x/.test(x),m=/y/.test(x),t=l&&!lb||m&&lb,u=m&&!lb||l&&lb;Cc=function(){if(Ic){Ic.translate(G,fb);lb&&Ic.attr({width:f.plotWidth,height:f.plotHeight}).invert()}else f.trackerGroup=Ic=Q.g(Pb).attr({zIndex:9}).add()};Cc();if(q.enabled)f.tooltip=tc=Xd(q);(function(){var e=a;qb.onmousedown=function(b){b=r(b);f.mouseIsDown=rd=a;n=b.chartX;j=b.chartY;J(w,Mb?h:"mouseup",v)};var b=function(a){if(!(a&&a.touches&&a.touches.length>1)){a=r(a);if(!Mb)a.returnValue=c;var b=a.chartX,h=a.chartY,v=!ec(b-G,h-fb);if(Mb&&a.type===P)if(z(a.target,E))f.runTrackerClick||a.preventDefault();else!Sd&&!v&&a.preventDefault();if(v){e||p();if(b<G)b=G;else if(b>G+rb)b=G+rb;if(h<fb)h=fb;else if(h>fb+mb)h=fb+mb}if(rd&&a.type!==P){i=Math.sqrt(Math.pow(n-b,2)+Math.pow(j-h,2));if(i>d){if(jc&&(l||m)&&ec(n-G,j-fb))g||(g=Q.rect(G,fb,t?1:rb,u?1:mb,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add());if(g&&t){b=b-n;g.attr({width:U(b),x:(b>0?0:b)+n})}if(g&&u){h=h-j;g.attr({height:U(h),y:(h>0?0:h)+j})}}}else if(!v){var k;h=f.hoverPoint;b=f.hoverSeries;var s,o,w=ub,x=lb?a.chartY:a.chartX-G;if(tc&&q.shared){k=[];s=sb.length;for(o=0;o<s;o++)if(sb[o].visible&&sb[o].tooltipPoints.length){a=sb[o].tooltipPoints[x];a._dist=U(x-a.plotX);w=vb(w,a._dist);k.push(a)}for(s=k.length;s--;)k[s]._dist>w&&k.splice(s,1);if(k.length&&k[0].plotX!==pd){tc.refresh(k);pd=k[0].plotX}}if(b&&b.tracker)(a=b.tooltipPoints[x])&&a!==h&&a.onMouseOver()}return(e=v)||!jc}};qb.onmousemove=b;J(qb,"mouseleave",p);qb.ontouchstart=function(a){if(l||m)qb.onmousedown(a);b(a)};qb.ontouchmove=b;qb.ontouchend=function(){i&&p()};qb.onclick=function(b){var d=f.hoverPoint;b=r(b);b.cancelBubble=a;if(!i)if(d&&z(b.target,E)){var g=d.plotX,e=d.plotY;s(d,{pageX:nc.left+G+(lb?rb-e:g),pageY:nc.top+fb+(lb?mb-g:e)});F(d.series,o,s(b,{point:d}));d.firePointEvent(o,b)}else{s(b,y(b));ec(b.chartX-G,b.chartY-fb)&&F(f,o,b)}i=c}})();Ld=setInterval(function(){od&&od()},32);s(this,{zoomX:l,zoomY:m,resetTracker:p})}function Qd(d){var b=d.type||L.type||L.defaultSeriesType,c=yb[b],e=n.hasRendered;if(e)if(lb&&b===Ib)c=yb.bar;else if(!lb&&b==="bar")c=yb.column;b=new c;b.init(n,d);if(!e&&b.inverted)lb=a;if(b.isCartesian)jc=b.isCartesian;sb.push(b);return b}function Ed(){L.alignTicks!==c&&e(Ab,function(a){a.adjustTickAmount()});Kb=b}function Gd(d){var i=n.isDirtyLegend,k,h=n.isDirtyBox,j=sb.length,f=j,g=n.clipRect;for(fc(d,n);f--;){d=sb[f];if(d.isDirty&&d.options.stacking){k=a;break}}if(k)for(f=j;f--;){d=sb[f];if(d.options.stacking)d.isDirty=a}e(sb,function(b){if(b.isDirty){b.cleanData();b.getSegments();if(b.options.legendType===eb)i=a}});if(i&&vd.renderLegend){vd.renderLegend();n.isDirtyLegend=c}if(jc){if(!Jc){Kb=b;e(Ab,function(a){a.setScale()})}Ed();uc();e(Ab,function(b){if(b.isDirty||h){b.redraw();h=a}})}if(h){wd();Cc();if(g){Mc(g);g.animate({width:n.plotSizeX,height:n.plotSizeY})}}e(sb,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()});dc&&dc.resetTracker&&dc.resetTracker();F(n,"redraw")}function ae(){var c=zb.xAxis||{},b=zb.yAxis||{},d;c=pc(c);e(c,function(b,c){b.index=c;b.isX=a});b=pc(b);e(b,function(b,a){b.index=a});Ab=c.concat(b);n.xAxis=[];n.yAxis=[];Ab=gc(Ab,function(a){d=new Ud(n,a);n[d.isXAxis?gb:kb].push(d);return d});Ed()}function Rd(d,a){cc=u(zb.title,d);vc=u(zb.subtitle,a);e([["title",d,cc],["subtitle",a,vc]],function(a){var e=a[0],d=n[e],f=a[1];a=a[2];if(d&&f){d.destroy();d=b}if(a&&a.text&&!d)n[e]=Q.text(a.text,0,0).attr({align:a.align,"class":kc+e,zIndex:1}).css(a.style).add().align(a,c,lc)})}function Vd(){Db=L.renderTo;Md=hc+ad++;if(Ub(Db))Db=w.getElementById(Db);Db.innerHTML=f;if(!Db.offsetWidth){Rb=Db.cloneNode(0);D(Rb,{position:ic,top:"-9999px",display:f});w.body.appendChild(Rb)}Qc=(Rb||Db).offsetWidth;wc=(Rb||Db).offsetHeight;n.chartWidth=ub=L.width||Qc||600;n.chartHeight=tb=L.height||(wc>19?wc:400);n.container=qb=hb(Vb,{className:"highcharts-container"+(L.className?q+L.className:f),id:Md},s({position:md,overflow:ab,width:ub+R,height:tb+R,textAlign:l},L.style),Rb||Db);n.renderer=Q=L.forExport?new Nc(qb,ub,tb,a):new Oc(qb,ub,tb);var c,b;if(nd&&qb.getBoundingClientRect){c=function(){D(qb,{left:0,top:0});b=qb.getBoundingClientRect();D(qb,{left:-(b.left-p(b.left))+R,top:-(b.top-p(b.top))+R})};c();J(S,I,c);J(n,nb,function(){Hb(S,I,c)})}}function Zd(){function b(){var d=L.width||Db.offsetWidth,b=L.height||Db.offsetHeight;if(d&&b){if(d!==Qc||b!==wc){clearTimeout(a);a=setTimeout(function(){xd(d,b,c)},y)}Qc=d;wc=b}}var a;J(S,I,b);J(n,nb,function(){Hb(S,I,b)})}function Kd(){var c=zb.labels,b=zb.credits,d;Rd();vd=n.legend=new Td(n);uc();e(Ab,function(b){b.setTickPositions(a)});Ed();uc();wd();jc&&e(Ab,function(a){a.render()});if(!n.seriesGroup)n.seriesGroup=Q.g("series-group").attr({zIndex:3}).add();e(sb,function(a){a.translate();a.setTooltipPoints();a.render()});c.items&&e(c.items,function(){var a=s(c.style,this.style),d=p(a.left)+G,b=p(a.top)+fb+r;delete a.left;delete a.top;Q.text(this.html,d,b).attr({zIndex:2}).css(a).add()});if(!n.toolbar)n.toolbar=Wd(n);if(b.enabled&&!n.credits){d=b.href;Q.text(b.text,0,0).on(o,function(){if(d)location.href=d}).attr({align:b.position.align,zIndex:8}).css(b.style).add().align(b.position)}Cc();n.hasRendered=a;if(Rb){Db.appendChild(qb);Hc(Rb)}}function Hd(){var a=sb.length,c=qb&&qb.parentNode;F(n,nb);Hb(S,"unload",Hd);Hb(n);for(e(Ab,function(a){Hb(a)});a--;)sb[a].destroy();if(qb){qb.innerHTML=f;Hb(qb);c&&c.removeChild(qb);qb=b}if(Q)Q.alignedObjects=b;clearInterval(Ld);for(a in n)delete n[a]}function cd(){var b="onreadystatechange",a="complete";if(!rc&&S==S.top&&w.readyState!==a)w.attachEvent(b,function(){w.detachEvent(b,cd);w.readyState===a&&cd()});else{Pc=Nb=0;Vd();yd();zd();e(zb.series||[],function(a){Qd(a)});n.inverted=lb=g(lb,zb.chart.inverted);ae();n.render=Kd;n.tracker=dc=new Yd(n,zb.tooltip);Kd();F(n,"load");Pd&&Pd.apply(n,[n]);e(n.callbacks,function(a){a.apply(n,[n])})}}Kc=u(Kc,N.xAxis);Zc=u(Zc,N.yAxis);N.xAxis=N.yAxis=b;zb=u(N,zb);var L=zb.chart,Cb=L.margin;Cb=Lb(Cb)?Cb:[Cb,Cb,Cb,Cb];var Sc=g(L.marginTop,Cb[0]),Id=g(L.marginRight,Cb[1]),Fd=g(L.marginBottom,Cb[2]),Jd=g(L.marginLeft,Cb[3]),mc=L.spacingTop,bd=L.spacingRight,ed=L.spacingBottom,yc=L.spacingLeft,lc,cc,vc,fb,Jb,Gb,G,Qb,Db,Rb,qb,Md,Qc,wc,ub,tb,jd,Ac,Rc,Ad,Bd,xc,n=this,Sd=(Cb=L.events)&&!!Cb.click,Cd,ec,tc,rd,bc,Nd,Dd,mb,rb,dc,Ic,Cc,vd,Sb,Tb,nc,jc=L.showAxes,Jc=0,Ab=[],Kb,sb=[],lb,Q,od,Ld,pd,wd,uc,yd,zd,xd,qd,Od,Td=function(I){function N(b,d){var g=b.legendItem,f=b.legendLine,e=b.legendSymbol,a=E.color,i=d?c.itemStyle.color:a,h=d?b.color:a;a=d?b.pointAttr[bb]:{stroke:a,fill:a};g&&g.css({fill:i});f&&f.attr({stroke:h});e&&e.attr(a)}function cb(a,c,d){var f=a.legendItem,e=a.legendLine,b=a.legendSymbol;a=a.checkbox;f&&f.attr({x:c,y:d});e&&e.translate(c,d-4);b&&b.attr({x:c+b.xOff,y:d+b.yOff});if(a){a.x=c;a.y=d}}function S(){e(f,function(b){var a=b.checkbox,c=d.alignAttr;a&&D(a,{left:c.translateX+b.legendItemWidth+a.x-40+R,top:c.translateY+a.y-11+R})})}function Y(a){var f,h,m,j,l=a.legendItem;j=a.series||a;var e=j.options,p=e&&e.borderWidth||0;if(!l){j=/^(bar|pie|area|column)$/.test(j.type);a.legendItem=l=Q.text(c.labelFormatter.call(a),0,0).css(a.visible?M:E).on(ob,function(){a.setState(Bb);l.css(U)}).on(pb,function(){l.css(a.visible?M:E);a.setState()}).on(o,function(){var c="legendItemClick",d=function(){a.setVisible()};a.firePointEvent?a.firePointEvent(c,b,d):F(a,c,b,d)}).attr({zIndex:2}).add(d);if(!j&&e&&e.lineWidth){var n={"stroke-width":e.lineWidth,zIndex:2};if(e.dashStyle)n.dashstyle=e.dashStyle;a.legendLine=Q.path([T,-g-i,0,C,-i,0]).attr(n).add(d)}if(j)f=Q.rect(h=-g-i,m=-11,g,r,2).attr({zIndex:3}).add(d);else if(e&&e.marker&&e.marker.enabled)f=Q.symbol(a.symbol,h=-g/2-i,m=-4,e.marker.radius).attr({zIndex:3}).add(d);if(f){f.xOff=h+p%2/2;f.yOff=m+p%2/2}a.legendSymbol=f;N(a,a.visible);if(e&&e.showCheckbox){a.checkbox=hb("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},c.itemCheckboxStyle,qb);J(a.checkbox,o,function(b){F(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}}f=l.getBBox();h=a.legendItemWidth=c.itemWidth||g+i+f.width+ab;w=f.height;if(y&&k-t+h>(z||ub-2*x-t)){k=t;q+=w}H=q;cb(a,k,q);if(y)k+=h;else q+=w;u=z||A(y?k-t:h,u)}function K(){k=t;q=P;H=u=0;d||(d=Q.g("legend").attr({zIndex:7}).add());f=[];e(X,function(a){var b=a.options;if(b.showInLegend)f=f.concat(b.legendType===eb?a.data:a)});f.sort(function(b,a){return(b.options.legendIndex||0)-(a.options.legendIndex||0)});W&&f.reverse();e(f,Y);Sb=z||u;Tb=H-P+w;if(G||L){Sb+=2*x;Tb+=2*x;if(n)Sb>0&&Tb>0&&n.animate(n.crisp(b,b,b,Sb,Tb));else n=Q.rect(0,0,Sb,Tb,c.borderRadius,G||0).attr({stroke:c.borderColor,"stroke-width":G||0,fill:L||ib}).add(d).shadow(c.shadow);n[f.length?Z:O]()}for(var o=[l,m,V,db],g,i=4;i--;){g=o[i];if(v[g]&&v[g]!==Eb){c[i<2?Fb:Zb]=g;c[i<2?j:B]=p(v[g])*(i%2?h:1)}}d.align(s(c,{width:Sb,height:Tb}),a,lc);Jc||S()}var c=I.options.legend;if(c.enabled){var y=c.layout===sc,g=c.symbolWidth,i=c.symbolPadding,f,v=c.style,M=c.itemStyle,U=c.itemHoverStyle,E=c.itemHiddenStyle,x=p(v.padding),ab=20,P=18,t=4+x+g+i,k,q,H,w=0,n,G=c.borderWidth,L=c.backgroundColor,d,u,z=c.width,X=I.series,W=c.reversed;K();J(I,ac,S);return{colorizeItem:N,destroyItem:function(a){var b=a.checkbox;e(["legendItem","legendLine","legendSymbol"],function(b){a[b]&&a[b].destroy()});b&&Hc(a.checkbox)},renderLegend:K}}};ec=function(b,a){return b>=0&&b<=rb&&a>=0&&a<=mb};Od=function(){F(n,Yb,{resetSelection:a},qd);n.toolbar.remove("zoom")};qd=function(a){var d=N.lang,f=n.pointCount<y;n.toolbar.add("zoom",d.resetZoom,d.resetZoomTitle,Od);!a||a.resetSelection?e(Ab,function(a){a.setExtremes(b,b,c,f)}):e(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;n.tracker[b.isXAxis?"zoomX":"zoomY"]&&b.setExtremes(a.min,a.max,c,f)});Gd()};uc=function(){var a=zb.legend,b=g(a.margin,d),k=a.x,j=a.y,h=a.align,c=a.verticalAlign,f;yd();if((n.title||n.subtitle)&&!i(Sc))if(f=A(n.title&&!cc.floating&&!cc.verticalAlign&&cc.y||0,n.subtitle&&!vc.floating&&!vc.verticalAlign&&vc.y||0))fb=A(fb,f+g(cc.margin,15)+mc);if(a.enabled&&!a.floating)if(h===m)i(Id)||(Jb=A(Jb,Sb-k+b+bd));else if(h===l)i(Jd)||(G=A(G,Sb+k+b+yc));else if(c===V)i(Sc)||(fb=A(fb,Tb+j+b+mc));else if(c===db)i(Fd)||(Gb=A(Gb,Tb-j+b+ed));jc&&e(Ab,function(a){a.getOffset()});i(Jd)||(G+=Qb[3]);i(Sc)||(fb+=Qb[0]);i(Fd)||(Gb+=Qb[2]);i(Id)||(Jb+=Qb[1]);zd()};xd=function(h,g,c){var f=n.title,d=n.subtitle;Jc+=1;fc(c,n);Ac=tb;jd=ub;n.chartWidth=ub=k(h);n.chartHeight=tb=k(g);D(qb,{width:ub+R,height:tb+R});Q.setSize(ub,tb,c);rb=ub-G-Jb;mb=tb-fb-Gb;Kb=b;e(Ab,function(b){b.isDirty=a;b.setScale()});e(sb,function(b){b.isDirty=a});n.isDirtyLegend=a;n.isDirtyBox=a;uc();f&&f.align(b,b,lc);d&&d.align(b,b,lc);Gd(c);Ac=b;F(n,I);setTimeout(function(){F(n,ac,b,function(){Jc-=1})},Dc&&Dc.duration||500)};zd=function(){n.plotLeft=G=k(G);n.plotTop=fb=k(fb);n.plotWidth=rb=k(ub-G-Jb);n.plotHeight=mb=k(tb-fb-Gb);n.plotSizeX=lb?mb:rb;n.plotSizeY=lb?rb:mb;lc={x:yc,y:mc,width:ub-yc-bd,height:tb-mc-ed}};yd=function(){fb=g(Sc,mc);Jb=g(Id,bd);Gb=g(Fd,ed);G=g(Jd,yc);Qb=[0,0,0,0]};wd=function(){var d=L.borderWidth||0,f=L.backgroundColor,h=L.plotBackgroundColor,g=L.plotBackgroundImage,a,e={x:G,y:fb,width:rb,height:mb};a=d+(L.shadow?8:0);if(d||f)if(Rc)Rc.animate(Rc.crisp(b,b,b,ub-a,tb-a));else Rc=Q.rect(a/2,a/2,ub-a,tb-a,L.borderRadius,d).attr({stroke:L.borderColor,"stroke-width":d,fill:f||ib}).add().shadow(L.shadow);if(h)if(Ad)Ad.animate(e);else Ad=Q.rect(G,fb,rb,mb,0).attr({fill:h}).add().shadow(L.plotShadow);if(g)if(Bd)Bd.animate(e);else Bd=Q.image(g,G,fb,rb,mb).add();if(L.plotBorderWidth)if(xc)xc.animate(xc.crisp(b,G,fb,rb,mb));else xc=Q.rect(G,fb,rb,mb,0,L.plotBorderWidth).attr({stroke:L.plotBorderColor,"stroke-width":L.plotBorderWidth,zIndex:4}).add();n.isDirtyBox=c};J(S,"unload",Hd);L.reflow!==c&&J(n,"load",Zd);if(Cb)for(Cd in Cb)J(n,Cd,Cb[Cd]);n.options=zb;n.series=sb;n.addSeries=function(c,b,e){var d;if(c){fc(e,n);b=g(b,a);F(n,"addSeries",{options:c},function(){d=Qd(c);d.isDirty=a;n.isDirtyLegend=a;b&&n.redraw()})}return d};n.animation=g(L.animation,a);n.destroy=Hd;n.get=function(e){for(var c,d,a=0;a<Ab.length;a++)if(Ab[a].options.id===e)return Ab[a];for(a=0;a<sb.length;a++)if(sb[a].options.id===e)return sb[a];for(a=0;a<sb.length;a++){d=sb[a].data;for(c=0;c<d.length;c++)if(d[c].id===e)return d[c]}return b};n.getSelectedPoints=function(){var a=[];e(sb,function(b){a=a.concat(Tc(b.data,function(a){return a.selected}))});return a};n.getSelectedSeries=function(){return Tc(sb,function(a){return a.selected})};n.hideLoading=function(){zc(bc,{opacity:0},{duration:zb.loading.hideDuration,complete:function(){D(bc,{display:ib})}});Dd=c};n.isInsidePlot=ec;n.redraw=Gd;n.setSize=xd;n.setTitle=Rd;n.showLoading=function(e){var c=zb.loading;if(!bc){bc=hb(Vb,{className:"highcharts-loading"},s(c.style,{left:G+R,top:fb+R,width:rb+R,height:mb+R,zIndex:d,display:ib}),qb);Nd=hb(Xb,b,c.labelStyle,bc)}Nd.innerHTML=e||zb.lang.loading;if(!Dd){D(bc,{opacity:0,display:f});zc(bc,{opacity:c.style.opacity},{duration:c.showDuration});Dd=a}};n.pointCount=0;cd()}var w=document,S=window,v=Math,k=v.round,jb=v.floor,Yc=v.ceil,A=v.max,vb=v.min,U=v.abs,kb=v.cos,Cb=v.sin,Wb=v.PI,od=Wb*2/360,jc=navigator.userAgent,Bc=/msie/i.test(jc)&&!S.opera,mc=w.documentMode===8,ld=/AppleWebKit/.test(jc),nd=/Firefox/.test(jc),rc=!!w.createElementNS&&!!w.createElementNS(fb,"svg").createSVGRect,Oc,Mb=w.documentElement.ontouchstart!==undefined,Nb,Pc,pd={},ad=0,wb=1,Ic,N,Lc,Dc,Ac,M,Vb="div",ic="absolute",md="relative",ab="hidden",hc=kc,xb="visible",R="px",ib="none",T="M",C="L",qd="rgba(192,192,192,"+(rc?1e-6:.002)+G,bb=f,Bb="hover",Ec,Uc,Vc,Wc,qc,Fc,Gc,fd,gd,Xc,hd,id,n=S.HighchartsAdapter,zb=n||{},e=zb.each,Tc=zb.grep,gc=zb.map,u=zb.merge,rd=zb.hyphenate,J=zb.addEvent,Hb=zb.removeEvent,F=zb.fireEvent,zc=zb.animate,Mc=zb.stop,yb={};Lc=function(b,a,n){function c(a){return a.toString().replace(/^([0-9])$/,"0$1")}if(!i(a)||isNaN(a))return"Invalid date";b=g(b,"%Y-%m-%d %H:%M:%S");a=new Date(a*wb);var f,d=a[Vc](),k=a[Wc](),l=a[qc](),h=a[Fc](),m=a[Gc](),e=N.lang,j=e.weekdays;e=e.months;a={a:j[k].substr(0,3),A:j[k],d:c(l),e:l,b:e[h].substr(0,3),B:e[h],m:c(h+1),y:m.toString().substr(2,2),Y:m,H:c(d),I:c(d%r||r),l:d%r||r,M:c(a[Uc]()),p:d<r?"AM":"PM",P:d<r?"am":"pm",S:c(a.getSeconds())};for(f in a)b=b.replace("%"+f,a[f]);return n?b.substr(0,1).toUpperCase()+b.substr(1):b};n&&n.init&&n.init();if(!n&&S.jQuery){var lb=jQuery;e=function(b,d){for(var a=0,e=b.length;a<e;a++)if(d.call(b[a],b[a],a,b)===c)return a};Tc=lb.grep;gc=function(b,d){for(var c=[],a=0,e=b.length;a<e;a++)c[a]=d.call(b[a],b[a],a,b);return c};u=function(){var c=arguments;return lb.extend(a,b,c[0],c[1],c[2],c[3])};rd=function(a){return a.replace(/([A-Z])/g,function(b,a){return H+a.toLowerCase()})};J=function(a,b,c){lb(a).bind(b,c)};Hb=function(a,c,d){var b=w.removeEventListener?"removeEventListener":"detachEvent";if(w[b]&&!a[b])a[b]=function(){};lb(a).unbind(c,d)};F=function(a,c,g,f){var d=lb.Event(c),e="detached"+c;s(d,g);if(a[c]){a[e]=a[c];a[c]=b}lb(a).trigger(d);if(a[e]){a[c]=a[e];a[e]=b}f&&!d.isDefaultPrevented()&&f(d)};zc=function(b,a,d){var c=lb(b);if(a.d){b.toD=a.d;a.d=1}c.stop();c.animate(a,d)};Mc=function(a){lb(a).stop()};lb.extend(lb.easing,{easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b}});var vd=jQuery.fx.step._default,wd=jQuery.fx.prototype.cur;lb.fx.step._default=function(a){var b=a.elem;b.attr?b.attr(a.prop,a.now):vd.apply(this,arguments)};lb.fx.step.d=function(b){var c=b.elem;if(!b.started){var d=Ac.init(c,c.d,c.toD);b.start=d[0];b.end=d[1];b.started=a}c.attr("d",Ac.step(b.start,b.end,b.pos,c.toD))};lb.fx.prototype.cur=function(){var a=this.elem;return a.attr?a.attr(this.prop):wd.apply(this,arguments)}}Ac={init:function(i,a,b){a=a||f;var e=i.shift,j=a.indexOf("C")>h,g=j?7:3,d;a=a.split(q);b=[].concat(b);var k,l,m=function(a){for(d=a.length;d--;)a[d]===T&&a.splice(d+1,0,a[d+1],a[d+2],a[d+1],a[d+2])};if(j){m(a);m(b)}if(i.isArea){k=a.splice(a.length-6,6);l=b.splice(b.length-6,6)}if(e){b=[].concat(b).splice(0,g).concat(b);i.shift=c}if(a.length)for(i=b.length;a.length<i;){e=[].concat(a).splice(a.length-g,g);if(j){e[g-6]=e[g-2];e[g-5]=e[g-1]}a=a.concat(e)}if(k){a=a.concat(k);b=b.concat(l)}return[a,b]},step:function(d,e,f,b){var c=[],a=d.length;if(f===1)c=b;else if(a===e.length&&f<1)for(;a--;){b=parseFloat(d[a]);c[a]=isNaN(b)?d[a]:f*parseFloat(e[a]-b)+b}else c=e;return c}};n={enabled:a,align:x,x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};N={colors:[Qc,"#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:[qb,"diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:L},global:{useUTC:a},chart:{borderColor:Qc,borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:a,spacingTop:d,spacingRight:d,spacingBottom:15,spacingLeft:d,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:lc,plotBorderColor:Ob},title:{text:"Chart title",align:x,y:15,style:{color:Rc,fontSize:"16px"}},subtitle:{text:f,align:x,y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:c,showCheckbox:c,animation:{duration:t},events:{},lineWidth:2,shadow:a,marker:{enabled:a,lineWidth:0,radius:4,lineColor:lc,states:{hover:{},select:{fillColor:lc,lineColor:Sc,lineWidth:2}}},point:{events:{}},dataLabels:u(n,{enabled:c,y:-6,formatter:function(){return this.y}}),showInLegend:a,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:a}},labels:{style:{position:ic,color:Rc}},legend:{enabled:a,align:x,layout:sc,labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:c,style:{padding:"5px"},itemStyle:{cursor:Qb,color:Rc},itemHoverStyle:{cursor:Qb,color:Sc},itemHiddenStyle:{color:Ob},itemCheckboxStyle:{position:ic,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:db,x:0,y:0},loading:{hideDuration:y,labelStyle:{fontWeight:"bold",position:md,top:"1em"},showDuration:y,style:{position:ic,backgroundColor:"white",opacity:.5,textAlign:x}},tooltip:{enabled:a,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:a,snap:Mb?25:d,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:Qc,cursor:Qb}},credits:{enabled:a,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:m,x:-10,verticalAlign:db,y:-5},style:{cursor:Qb,color:"#909090",fontSize:"10px"}}};var Kc={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:c,gridLineColor:Ob,labels:n,lineColor:"#C0D0E0",lineWidth:1,max:b,min:b,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:c,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:y,tickPosition:"outside",tickWidth:1,title:{align:cb,style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},Zc=u(Kc,{endOnTick:a,gridLineWidth:1,tickPixelInterval:72,showLastLabel:a,labels:{align:m,x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:a,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:c,formatter:function(){return this.total},style:n.style}}),ud={labels:{align:m,x:-8,y:b},title:{rotation:270}},td={labels:{align:l,x:8,y:b},title:{rotation:90}},kd={labels:{align:x,x:0,y:14},title:{rotation:0}},sd=u(kd,{labels:{y:-5}}),Ab=N.plotOptions;n=Ab.line;Ab.spline=u(n);Ab.scatter=u(n,{lineWidth:0,states:{hover:{lineWidth:0}}});Ab.area=u(n,{});Ab.areaspline=u(Ab.area);Ab.column=u(n,{borderColor:lc,borderWidth:1,borderRadius:0,groupPadding:.2,marker:b,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:c},select:{color:Ob,borderColor:Sc,shadow:c}},dataLabels:{y:b,verticalAlign:b}});Ab.bar=u(Ab.column,{dataLabels:{align:l,x:5,y:0}});Ab.pie=u(n,{borderColor:lc,borderWidth:1,center:["50%","50%"],colorByPoint:a,dataLabels:{distance:30,enabled:a,formatter:function(){return this.point.name},y:5},legendType:eb,marker:b,size:"75%",showInLegend:c,slicedOffset:d,states:{hover:{brightness:.1,shadow:c}}});ed();var Tb=function(c){var a=[],b;(function(c){if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(c))a=[p(b[1]),p(b[2]),p(b[3]),parseFloat(b[4],d)];else if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))a=[p(b[1],16),p(b[2],16),p(b[3],16),1]})(c);return{"get":function(b){return a&&!isNaN(a[0])?b===gb?"rgb("+a[0]+L+a[1]+L+a[2]+G:b==="a"?a[3]:"rgba("+a.join(L)+G:c},brighten:function(c){if(ec(c)&&c!==0)for(var b=0;b<3;b++){a[b]+=p(c*255);if(a[b]<0)a[b]=0;if(a[b]>255)a[b]=255}return this},setOpacity:function(b){a[3]=b;return this}}};Jc.prototype={init:function(a,b){this.element=w.createElementNS(fb,b);this.renderer=a},animate:function(d,b,c){if(b=g(b,Dc,a)){b=u(b);if(c)b.complete=c;zc(this,d,b)}else{this.attr(d);c&&c()}},attr:function(g,t){var e=this,b,d,h,o,k=e.element,m=k.nodeName,r=e.renderer,n,s=e.shadows,u,l=e;if(Ub(g)&&i(t)){b=g;g={};g[b]=t}if(Ub(g)){b=g;if(m===qb)b=({x:"cx",y:"cy"})[b]||b;else if(b===Rb)b=rb;l=z(k,b)||e[b]||0;if(b!=="d"&&b!==Gb)l=parseFloat(l)}else for(b in g){n=c;d=g[b];if(b==="d"){if(d&&d.join)d=d.join(q);if(/(NaN| {2}|^$)/.test(d))d="M 0 0";e.d=d}else if(b===j&&m===sb){for(h=0;h<k.childNodes.length;h++){o=k.childNodes[h];z(o,j)===z(k,j)&&z(o,j,d)}e.rotation&&z(k,tc,"rotate("+e.rotation+q+d+q+p(g.y||z(k,B))+G)}else if(b==="fill")d=r.color(d,k,b);else if(m===qb&&(b===j||b===B))b=({x:"cx",y:"cy"})[b]||b;else if(b===ac||b===bc||b===uc||b===Zb){e[b]=d;e.updateTransform();n=a}else if(b===cc)d=r.color(d,k,b);else if(b===vc){b="stroke-dasharray";d=d&&d.toLowerCase();if(d==="solid")d=ib;else if(d){d=d.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,f).split(L);for(h=d.length;h--;)d[h]=p(d[h])*g[rb];d=d.join(L)}}else if(b===E)e[b]=d;else if(b===K)d=p(d);else if(b===Fb){b="text-anchor";d=({left:"start",center:cb,right:"end"})[d]}if(b===Rb)b=rb;if(ld&&b===rb&&d===0)d=1e-6;if(e.symbolName&&/^(x|y|r|start|end|innerR)/.test(b)){if(!u){e.symbolAttr(g);u=a}n=a}if(s&&/^(width|height|visibility|x|y|d)$/.test(b))for(h=s.length;h--;)z(s[h],b,d);if((b===K||b===Y)&&m===Jb&&d<0)d=0;if(b===sb){e.textStr=d;e.added&&r.buildText(e)}else n||z(k,b,d)}return l},symbolAttr:function(b){var a=this;e([j,B,"r","start","end",K,Y,"innerR"],function(c){a[c]=g(b[c],a[c])});a.attr({d:a.renderer.symbols[a.symbolName](k(a.x*2)/2,k(a.y*2)/2,a.r,{start:a.start,end:a.end,width:a.width,height:a.height,innerR:a.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+G)},crisp:function(e,g,h,i,j){var b=this,c,f={},a={},d;e=e||b.strokeWidth||0;d=e%2/2;a.x=jb(g||b.x||0)+d;a.y=jb(h||b.y||0)+d;a.width=jb((i||b.width||0)-2*d);a.height=jb((j||b.height||0)-2*d);a.strokeWidth=e;for(c in a)if(b[c]!==a[c])b[c]=f[c]=a[c];return f},css:function(a){var b=this,c=b.element;c=a&&a.width&&c.nodeName===sb;var e=a,d;if(a&&a.color)a.fill=a.color;b.styles=a=s(b.styles,a);if(i(a)){a={};for(d in e)a[rd(d)]=e[d]}if(Bc&&!rc){c&&delete a.width;D(b.element,a)}else b.attr({style:xd(a)});c&&b.added&&b.renderer.buildText(b);return b},on:function(a,b){var c=b;if(Mb&&a===o){a=P;c=function(a){a.preventDefault();b()}}this.element["on"+a]=c;return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=a;this.updateTransform();return this},updateTransform:function(){var a=this,c=a.translateX||0,d=a.translateY||0,e=a.inverted,f=a.rotation,b=[];if(e){c+=a.attr(K);d+=a.attr(Y)}(c||d)&&b.push("translate("+c+L+d+G);if(e)b.push("rotate(90) scale(-1,1)");else f&&b.push("rotate("+f+q+a.x+q+a.y+G);b.length&&z(a.element,tc,b.join(q))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(c,e,d){var b=this;if(c){b.alignOptions=c;b.alignByTranslate=e;d||b.renderer.alignedObjects.push(b)}else{c=b.alignOptions;e=b.alignByTranslate}d=g(d,b.renderer);var h=c.align,i=c.verticalAlign,l=(d.x||0)+(c.x||0),m=(d.y||0)+(c.y||0),f={};if(/^(right|center)$/.test(h))l+=(d.width-(c.width||0))/({right:1,center:2})[h];f[e?ac:j]=k(l);if(/^(bottom|middle)$/.test(i))m+=(d.height-(c.height||0))/(({bottom:1,middle:2})[i]||1);f[e?bc:B]=k(m);b[b.placed?W:X](f);b.placed=a;b.alignAttr=f;return b},getBBox:function(){var a,c,d,e=this.rotation,b=e*od;try{a=s({},this.element.getBBox())}catch(f){a={width:0,height:0}}c=a.width;d=a.height;if(e){a.width=U(d*Cb(b))+U(c*kb(b));a.height=U(d*kb(b))+U(c*Cb(b))}return a},show:function(){return this.attr({visibility:xb})},hide:function(){return this.attr({visibility:ab})},add:function(c){var b=this,e=b.renderer,d=c||e,h=d.element||e.box,j=h.childNodes,g=b.element,f=z(g,dc);b.parentInverted=c&&c.inverted;b.textStr!==undefined&&e.buildText(b);if(f){d.handleZ=a;f=p(f)}if(d.handleZ)for(d=0;d<j.length;d++){c=j[d];e=z(c,dc);if(c!==g&&(p(e)>f||!i(f)&&i(e))){h.insertBefore(g,c);return b}}h.appendChild(g);b.added=a;return b},destroy:function(){var a=this,c=a.element||{},f=a.shadows,d=c.parentNode,g;c.onclick=c.onmouseout=c.onmouseover=c.onmousemove=b;Mc(a);d&&d.removeChild(c);f&&e(f,function(a){(d=a.parentNode)&&d.removeChild(a)});oc(a.renderer.alignedObjects,a);for(g in a)delete a[g];return b},empty:function(){for(var a=this.element,b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},shadow:function(g,e){var c=this,f=[],a,b,d=c.element,h=c.parentInverted?"(-1,-1)":"(1,1)";if(g){for(a=1;a<=3;a++){b=d.cloneNode(0);z(b,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*a,"stroke-width":7-2*a,transform:"translate"+h,fill:ib});e?e.element.appendChild(b):d.parentNode.insertBefore(b,d);f.push(b)}c.shadows=f}return c}};var Nc=function(){this.init.apply(this,arguments)};Nc.prototype={Element:Jc,init:function(d,e,g,h){var a=this,i=location,b;b=a.createElement("svg").attr({xmlns:fb,version:"1.1"});d.appendChild(b.element);a.box=b.element;a.boxWrapper=b;a.alignedObjects=[];a.url=Bc?f:i.href.replace(/#.*?$/,f);a.defs=a.createElement("defs").add();a.forExport=h;a.setSize(e,g,c)},createElement:function(b){var a=new this.Element;a.init(this,b);return a},buildText:function(i){var c="line-height";for(var a=i.element,u=g(i.textStr,f).toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=a.childNodes,r=/style="([^"]+)"/,s=/href="([^"]+)"/,t=z(a,j),d=i.styles,v=nd&&d&&d["-hc-direction"]==="rtl"&&!this.forExport&&p(jc.split("Firefox/")[1])<4,m,k=d&&p(d.width),n=d&&d[c],l,h=o.length;h--;)a.removeChild(o[h]);k&&!i.added&&this.box.appendChild(a);e(u,function(g,p){var o,j=0,d;g=g.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=g.split("|||");e(o,function(e){if(e!==f||o.length===1){var u={},g=w.createElementNS(fb,"tspan");r.test(e)&&z(g,"style",e.match(r)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(s.test(e)){z(g,"onclick",'location.href="'+e.match(s)[1]+'"');D(g,{cursor:Qb})}e=(e.replace(/<(.|\n)*?>/g,f)||q).replace(/&lt;/g,"<").replace(/&gt;/g,">");if(v){m=[];for(h=e.length;h--;)m.push(e.charAt(h));e=m.join(f)}g.appendChild(w.createTextNode(e));if(j)u.dx=3;else u.x=t;if(!j){if(p){!rc&&i.renderer.forExport&&D(g,{display:"block"});d=S.getComputedStyle&&S.getComputedStyle(l,b).getPropertyValue(c);if(!d||isNaN(d))d=n||l.offsetHeight||18;z(g,"dy",d)}l=g}z(g,u);a.appendChild(g);j++;if(k){e=e.replace(/-/g,"- ").split(q);for(var y,x=[];e.length||x.length;){y=a.getBBox().width;u=y>k;if(!u||e.length===1){e=x;x=[];if(e.length){g=w.createElementNS(fb,"tspan");z(g,{dy:n||16,x:t});a.appendChild(g);if(y>k)k=y}}else{g.removeChild(g.firstChild);x.unshift(e.pop())}e.length&&g.appendChild(w.createTextNode(e.join(q).replace(/- /g,H)))}}}})})},crispLine:function(a,b){if(a[1]===a[4])a[1]=a[4]=k(a[1])+b%2/2;if(a[2]===a[5])a[2]=a[5]=k(a[2])+b%2/2;return a},path:function(a){return this.createElement("path").attr({d:a,fill:ib})},circle:function(a,b,c){a=Lb(a)?a:{x:a,y:b,r:c};return this.createElement(qb).attr(a)},arc:function(a,b,c,d,e,f){if(Lb(a)){b=a.y;c=a.r;d=a.innerR;e=a.start;f=a.end;a=a.x}return this.symbol("arc",a||0,b||0,c||0,{innerR:d||0,start:e||0,end:f||0})},rect:function(a,c,d,e,b,f){if(Lb(a)){c=a.y;d=a.width;e=a.height;b=a.r;f=a.strokeWidth;a=a.x}b=this.createElement(Jb).attr({rx:b,ry:b,fill:ib});return b.attr(b.crisp(f,a,c,A(d,0),A(e,0)))},setSize:function(c,d,h){var b=this,e=b.alignedObjects,f=e.length;b.width=c;b.height=d;for(b.boxWrapper[g(h,a)?W:X]({width:c,height:d});f--;)e[f].align()},g:function(a){return this.createElement("g").attr(i(a)&&{"class":hc+a})},image:function(b,c,d,e,f){var a={preserveAspectRatio:ib};arguments.length>1&&s(a,{x:c,y:d,width:e,height:f});a=this.createElement("image").attr(a);a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):a.element.setAttribute("hc-svg-href",b);return a},symbol:function(b,f,g,h,i){var e=this,a,c=e.symbols[b];c=c&&c(k(f),k(g),h,i);var j=/^url\((.*?)\)$/,d;if(c){a=e.path(c);s(a,{symbolName:b,x:f,y:g,r:h});i&&s(a,i)}else if(j.test(b)){var l=function(b,a){b.attr({width:a[0],height:a[1]}).translate(-k(a[0]/2),-k(a[1]/2))};d=b.match(j)[1];b=pd[d];a=e.image(d).attr({x:f,y:g});if(b)l(a,b);else{a.attr({width:0,height:0});hb("img",{onload:function(){l(a,pd[d]=[this.width,this.height])},src:d})}}else a=e.circle(f,g,h);return a},symbols:{square:function(b,c,a){a=.707*a;return[T,b-a,c-a,C,b+a,c-a,b+a,c+a,b-a,c+a,tb]},triangle:function(b,c,a){return[T,b,c-1.33*a,C,b+a,c+.67*a,b-a,c+.67*a,tb]},"triangle-down":function(b,c,a){return[T,b,c+1.33*a,C,b-a,c-.67*a,b+a,c-.67*a,tb]},diamond:function(a,b,c){return[T,a,b-c,C,a+c,b,a,b+c,a-c,b,tb]},arc:function(e,f,b,a){var g=a.start,d=a.end-1e-6,c=a.innerR,h=kb(g),i=Cb(g),j=kb(d);d=Cb(d);a=a.end-g<Wb?0:1;return[T,e+b*h,f+b*i,"A",b,b,0,a,1,e+b*j,f+b*d,C,e+c*j,f+c*d,"A",c,c,0,a,0,e+c*h,f+c*i,tb]}},clipRect:function(a,c,d,e){var b=hc+ad++,f=this.createElement("clipPath").attr({id:b}).add(this.defs);a=this.rect(a,c,d,e,0).add(f);a.id=b;return a},color:function(a,b,d){var c,i=/^rgba/;if(a&&a.linearGradient){var f=this;b=a.linearGradient;d=hc+ad++;var j,g,h;j=f.createElement("linearGradient").attr({id:d,gradientUnits:"userSpaceOnUse",x1:b[0],y1:b[1],x2:b[2],y2:b[3]}).add(f.defs);e(a.stops,function(a){if(i.test(a[1])){c=Tb(a[1]);g=c.get(gb);h=c.get("a")}else{g=a[1];h=1}f.createElement("stop").attr({offset:a[0],"stop-color":g,"stop-opacity":h}).add(j)});return"url("+this.url+"#"+d+G}else if(i.test(a)){c=Tb(a);z(b,d+"-opacity",c.get("a"));return c.get(gb)}else return a},text:function(a,b,c){var d=N.chart.style;b=k(g(b,0));c=k(g(c,0));a=this.createElement(sb).attr({x:b,y:c,text:a}).css({"font-family":d.fontFamily,"font-size":d.fontSize});a.x=b;a.y=c;return a}};Oc=Nc;if(!rc){zb=Db(Jc,{init:function(d,a){var b=["<",a,' filled="f" stroked="f"'],c=["position: ",ic,";"];(a==="shape"||a===Vb)&&c.push("left:0;top:0;width:10px;height:10px;");mc&&c.push("visibility: ",a===Vb?ab:xb);b.push(' style="',c.join(f),'"/>');if(a){b=a===Vb||a===Xb||a==="img"?b.join(f):d.prepVML(b);this.element=hb(b)}this.renderer=d},add:function(c){var b=this,f=b.renderer,e=b.element,d=f.box;d=c?c.element||c:d;c&&c.inverted&&f.invertChild(e,d);mc&&d.gVis===ab&&D(e,{visibility:ab});d.appendChild(e);b.added=a;b.alignOnAdd&&b.updateTransform();return b},attr:function(o,u){var g=this,e,f,h,m=g.element||{},r=m.style,w=m.nodeName,s=g.renderer,x=g.symbolName,n,v,p=g.shadows,t=g;if(Ub(o)&&i(u)){e=o;o={};o[e]=u}if(Ub(o)){e=o;t=e===Rb||e===rb?g.strokeweight:g[e]}else for(e in o){f=o[e];n=c;if(x&&/^(x|y|r|start|end|width|height|innerR)/.test(e)){if(!v){g.symbolAttr(o);v=a}n=a}else if(e==="d"){f=f||[];g.d=f.join(q);h=f.length;for(n=[];h--;)n[h]=ec(f[h])?k(f[h]*d)-5:f[h]===tb?j:f[h];f=n.join(q)||j;m.path=f;if(p)for(h=p.length;h--;)p[h].path=f;n=a}else if(e===dc||e===Gb){if(mc&&e===Gb&&w==="DIV"){m.gVis=f;n=m.childNodes;for(h=n.length;h--;)D(n[h],{visibility:f});if(f===xb)f=b}if(f)r[e]=f;n=a}else if(/^(width|height)$/.test(e)){if(g.updateClipping){g[e]=f;g.updateClipping()}else r[e]=f;n=a}else if(/^(x|y)$/.test(e)){g[e]=f;if(m.tagName===Sb)g.updateTransform();else r[({x:l,y:V})[e]]=f}else if(e==="class")m.className=f;else if(e===cc){f=s.color(f,m,e);e="strokecolor"}else if(e===rb||e===Rb){m.stroked=f?a:c;e="strokeweight";g[e]=f;if(ec(f))f+=R}else if(e===vc){(m.getElementsByTagName(cc)[0]||hb(s.prepVML(["<stroke/>"]),b,b,m))[e]=f||"solid";g.dashstyle=f;n=a}else if(e==="fill")if(w===Sb)r.color=f;else{m.filled=f!==ib?a:c;f=s.color(f,m,e);e="fillcolor"}else if(e===ac||e===bc||e===uc||e===Fb){if(e===Fb)e="textAlign";g[e]=f;g.updateTransform();n=a}else if(e===sb){g.bBox=b;m.innerHTML=f;n=a}if(p&&e===Gb)for(h=p.length;h--;)p[h].style[e]=f;if(!n)if(mc)m[e]=f;else z(m,e,f)}return t},clip:function(b){var a=this,c=b.members;c.push(a);a.destroyClip=function(){oc(c,a)};return a.css(b.getCSS(a.inverted))},css:function(b){var a=this,c=a.element;if(c=b&&c.tagName===Sb&&b.width){delete b.width;a.textWidth=c;a.updateTransform()}a.styles=s(a.styles,b);D(a.element,b);return a},destroy:function(){this.destroyClip&&this.destroyClip();Jc.prototype.destroy.apply(this)},empty:function(){for(var b=this.element.childNodes,c=b.length,a;c--;){a=b[c];a.parentNode.removeChild(a)}},getBBox:function(){var a=this.element,b=this.bBox;if(!b){if(a.nodeName===sb)a.style.position=ic;b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}return b},on:function(a,b){this.element["on"+a]=function(){var a=S.event;a.target=a.srcElement;b(a)};return this},updateTransform:function(){if(this.added){var b=this,c=b.element,g=b.translateX||0,d=b.translateY||0,x=b.x||0,y=b.y||0,s=b.textAlign||l,o=({left:0,center:.5,right:1})[s],z=s&&s!==l;(g||d)&&b.css({marginLeft:g,marginTop:d});b.inverted&&e(c.childNodes,function(a){b.renderer.invertChild(a,c)});if(c.tagName===Sb){var j,v;g=b.rotation;var m;j=0;d=1;var n=0,u;m=p(b.textWidth);var t=b.xCorr||0,q=b.yCorr||0,w=[g,s,c.innerHTML,b.textWidth].join(L);if(w!==b.cTT){if(i(g)){j=g*od;d=kb(j);n=Cb(j);D(c,{filter:g?["progid:DXImageTransform.Microsoft.Matrix(M11=",d,", M12=",-n,", M21=",n,", M22=",d,", sizingMethod='auto expand')"].join(f):ib})}j=c.offsetWidth;v=c.offsetHeight;if(j>m){D(c,{width:m+R,display:"block",whiteSpace:"normal"});j=m}m=k((p(c.style.fontSize)||r)*1.2);t=d<0&&-j;q=n<0&&-v;u=d*n<0;t+=n*m*(u?1-o:o);q-=d*m*(g?u?o:1-o:1);if(z){t-=j*o*(d<0?h:1);if(g)q-=v*o*(n<0?h:1);D(c,{textAlign:s})}b.xCorr=t;b.yCorr=q}D(c,{left:x+t,top:y+q});b.cTT=w}}else this.alignOnAdd=a},shadow:function(m,h){var e=this,i=[],a,c=e.element,k=e.renderer,d,l=c.style,f,g=c.path;if(g&&typeof g.value!=="string")g=j;if(m){for(a=1;a<=3;a++){f=['<shape isShadow="true" strokeweight="',7-2*a,'" filled="false" path="',g,'" coordsize="100,100" style="',c.style.cssText,'" />'];d=hb(k.prepVML(f),b,{left:p(l.left)+1,top:p(l.top)+1});f=['<stroke color="black" opacity="',.05*a,'"/>'];hb(k.prepVML(f),b,b,d);h?h.element.appendChild(d):c.parentNode.insertBefore(d,c);i.push(d)}e.shadows=i}return e}});n=function(){this.init.apply(this,arguments)};n.prototype=u(Nc.prototype,{Element:zb,isIE8:jc.indexOf("MSIE 8.0")>h,init:function(d,e,f){var a=this,b;a.alignedObjects=[];b=a.createElement(Vb);d.appendChild(b.element);a.box=b.element;a.boxWrapper=b;a.setSize(e,f,c);if(!w.namespaces.hcv){w.namespaces.add("hcv","urn:schemas-microsoft-com:vml");w.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(b,c,d,f){var a=this.createElement();return s(a,{members:[],left:b,top:c,width:d,height:f,getCSS:function(b){var c=this,a=c.top,d=c.left,e=d+c.width,f=a+c.height;a={clip:"rect("+k(b?d:a)+"px,"+k(b?f:e)+"px,"+k(b?e:f)+"px,"+k(b?a:d)+"px)"};!b&&mc&&s(a,{width:e+R,height:f+R});return a},updateClipping:function(){e(a.members,function(b){b.css(a.getCSS(b.inverted))})}})},color:function(a,i,c){var d,k=/^rgba/;if(a&&a.linearGradient){var f,g,h=a.linearGradient,l,m,n,j;e(a.stops,function(a,b){if(k.test(a[1])){d=Tb(a[1]);f=d.get(gb);g=d.get("a")}else{f=a[1];g=1}if(b){n=f;j=g}else{l=f;m=g}});a=90-v.atan((h[3]-h[1])/(h[2]-h[0]))*180/Wb;c=["<",c,' colors="0% ',l,",100% ",n,'" angle="',a,'" opacity="',j,'" o:opacity2="',m,'" type="gradient" focus="100%" />'];hb(this.prepVML(c),b,b,i)}else if(k.test(a)&&i.tagName!=="IMG"){d=Tb(a);c=["<",c,' opacity="',d.get("a"),'"/>'];hb(this.prepVML(c),b,b,i);return d.get(gb)}else return a},prepVML:function(a){var b=this.isIE8;a=a.join(f);if(b){a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');a=a.indexOf('style="')===h?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else a=a.replace("<","<hcv:");return a},text:function(b,c,d){var a=N.chart.style;return this.createElement(Xb).attr({text:b,x:k(c),y:k(d)}).css({whiteSpace:"nowrap",fontFamily:a.fontFamily,fontSize:a.fontSize})},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},circle:function(a,b,c){return this.symbol(qb).attr({x:a,y:b,r:c})},g:function(a){var b;if(a)b={className:hc+a,"class":hc+a};return this.createElement(Vb).attr(b)},image:function(b,c,d,e,f){var a=this.createElement("img").attr({src:b});arguments.length>1&&a.css({left:c,top:d,width:e,height:f});return a},rect:function(a,c,d,e,f,g){if(Lb(a)){c=a.y;d=a.width;e=a.height;f=a.r;g=a.strokeWidth;a=a.x}var b=this.symbol(Jb);b.r=f;return b.attr(b.crisp(g,a,c,A(d,0),A(e,0)))},invertChild:function(b,c){var a=c.style;D(b,{flip:j,left:p(a.width)-d,top:p(a.height)-d,rotation:-90})},symbols:{arc:function(c,d,b,a){var e=a.start,f=a.end,i=kb(e),k=Cb(e),g=kb(f),l=Cb(f);a=a.innerR;var m=.07/b,h=a&&.1/a||0;if(f-e===0)return[j];else if(2*Wb-f+e<m)g=-m;else if(f-e<h)g=kb(e+h);return[ub,c-b,d-b,c+b,d+b,c+b*i,d+b*k,c+b*g,d+b*l,"at",c-a,d-a,c+a,d+a,c+a*g,d+a*l,c+a*i,d+a*k,j,"e"]},circle:function(b,c,a){return[ub,b-a,c-a,b+a,c+a,b+a,c,b+a,c,"e"]},rect:function(b,c,a,f){if(!i(f))return[];var g=f.width;f=f.height;var d=b+g,e=c+f;a=vb(a,g,f);return[T,b+a,c,C,d-a,c,ub,d-2*a,c,d,c+2*a,d-a,c,d,c+a,C,d,e-a,ub,d-2*a,e-2*a,d,e,d,e-a,d-a,e,C,b+a,e,ub,b,e-2*a,b+2*a,e,b+a,e,b,e-a,C,b,c+a,ub,b,c,b+2*a,c+2*a,b,c+a,b+a,c,j,"e"]}}});Oc=n}jd.prototype.callbacks=[];var nc=function(){};nc.prototype={init:function(b,d){var a=this,c;a.series=b;a.applyOptions(d);a.pointAttr={};if(b.options.colorByPoint){c=b.chart.options.colors;if(!a.options)a.options={};a.color=a.options.color=a.color||c[Nb++];if(Nb>=c.length)Nb=0}b.chart.pointCount++;return a},applyOptions:function(a){var c=this,d=c.series;c.config=a;if(ec(a)||a===b)c.y=a;else if(Lb(a)&&!ec(a.length)){s(c,a);c.options=a}else if(Ub(a[0])){c.name=a[0];c.y=a[1]}else if(ec(a[0])){c.x=a[0];c.y=a[1]}if(c.x===M)c.x=d.autoIncrement()},destroy:function(){var a=this,c=a.series,d;c.chart.pointCount--;a===c.chart.hoverPoint&&a.onMouseOut();c.chart.hoverPoints=b;Hb(a);e(["graphic",Pb,Yb,"dataLabel","connector"],function(b){a[b]&&a[b].destroy()});a.legendItem&&a.series.chart.legend.destroyItem(a);for(d in a)a[d]=b},getLabelConfig:function(){var a=this;return{x:a.category,y:a.y,series:a.series,point:a,percentage:a.percentage,total:a.total||a.stackTotal}},select:function(b,d){var a=this,f=a.series.chart;a.selected=b=g(b,!a.selected);a.firePointEvent(b?Q:Kb);a.setState(b&&Q);d||e(f.getSelectedPoints(),function(b){if(b.selected&&b!==a){b.selected=c;b.setState(bb);b.firePointEvent(Kb)}})},onMouseOver:function(){var a=this,b=a.series.chart,c=b.tooltip,d=b.hoverPoint;d&&d!==a&&d.onMouseOut();a.firePointEvent(wc);c&&!c.shared&&c.refresh(a);a.setState(Bb);b.hoverPoint=a},onMouseOut:function(){this.firePointEvent(xc);this.setState();this.series.chart.hoverPoint=b},tooltipFormatter:function(b){var a=this,c=a.series;return['<span style="color:'+c.color+'">',a.name||c.name,"</span>: ",!b?"<b>x = "+(a.name||a.x)+",</b> ":f,"<b>",!b?"y = ":f,a.y,"</b>"].join(f)},update:function(d,e,h){var b=this,c=b.series,f=b.graphic,i=c.chart;e=g(e,a);b.firePointEvent("update",{options:d},function(){b.applyOptions(d);if(Lb(d)){c.getAttribs();f&&f.attr(b.pointAttr[c.state])}c.isDirty=a;e&&i.redraw(h)})},remove:function(d,h){var c=this,e=c.series,f=e.chart,i=e.data;fc(h,f);d=g(d,a);c.firePointEvent("remove",b,function(){oc(i,c);c.destroy();e.isDirty=a;d&&f.redraw()})},firePointEvent:function(c,g,e){var a=this,d=a,f=a.series.options;(f.point.events[c]||d.options&&d.options.events&&d.options.events[c])&&a.importEvents();if(c===o&&f.allowPointSelect)e=function(a){d.select(b,a.ctrlKey||a.metaKey||a.shiftKey)};F(a,c,g,e)},importEvents:function(){var b=this;if(!b.hasImportedEvents){var c=u(b.series.options.point,b.options).events,d;b.events=c;for(d in c)J(b,d,c[d]);b.hasImportedEvents=a}},setState:function(a){var b=this,d=b.series,h=d.options.states,e=Ab[d.type].marker&&d.options.marker,i=e&&!e.enabled,j=(e=e&&e.states[a])&&e.enabled===c,f=d.stateMarkerGraphic,k=d.chart,g=b.pointAttr;a=a||bb;if(!(a===b.state||b.selected&&a!==Q||h[a]&&h[a].enabled===c||a&&(j||i&&!e.enabled))){if(b.graphic)b.graphic.attr(g[a]);else{if(a){if(!f)d.stateMarkerGraphic=f=k.renderer.circle(0,0,g[a].r).attr(g[a]).add(d.group);f.translate(b.plotX,b.plotY)}f&&f[a?Z:O]()}b.state=a}}};var mb=function(){};mb.prototype={isCartesian:a,type:"line",pointClass:nc,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(f,b){var e=this,g,d;d=f.series.length;e.chart=f;b=e.setOptions(b);s(e,{index:d,options:b,name:b.name||"Series "+(d+1),state:bb,pointAttr:{},visible:b.visible!==c,selected:b.selected===a});d=b.events;for(g in d)J(e,g,d[g]);if(d&&d.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)f.runTrackerClick=a;e.getColor();e.getSymbol();e.setData(b.data,c)},autoIncrement:function(){var a=this,c=a.options,b=a.xIncrement;b=g(b,c.pointStart,0);a.pointInterval=g(a.pointInterval,c.pointInterval,1);a.xIncrement=b+a.pointInterval;return b},cleanData:function(){var e=this,g=e.chart,c=e.data,h,d,i=g.smallestInterval,f,a;c.sort(function(a,b){return a.x-b.x});if(e.options.connectNulls)for(a=c.length-1;a>=0;a--)c[a].y===b&&c[a-1]&&c[a+1]&&c.splice(a,1);for(a=c.length-1;a>=0;a--)if(c[a-1]){f=c[a].x-c[a-1].x;if(f>0&&(d===M||f<d)){d=f;h=a}}if(i===M||d<i)g.smallestInterval=d;e.closestPoints=h},getSegments:function(){var a=h,d=[],c=this.data;e(c,function(f,e){if(f.y===b){e>a+1&&d.push(c.slice(a+1,e));a=e}else e===c.length-1&&d.push(c.slice(a+1,e+1))});this.segments=d},setOptions:function(b){var a=this.chart.options.plotOptions;return u(a[this.type],a.series,b)},getColor:function(){var a=this.chart.options.colors;this.color=this.options.color||a[Nb++]||"#0000ff";if(Nb>=a.length)Nb=0},getSymbol:function(){var a=this.chart.options.symbols;this.symbol=this.options.marker.symbol||a[Pc++];if(Pc>=a.length)Pc=0},addPoint:function(e,f,d,l){var b=this,i=b.data,j=b.graph,h=b.area,k=b.chart;e=(new b.pointClass).init(b,e);fc(l,k);if(j&&d)j.shift=d;if(h){h.shift=d;h.isArea=a}f=g(f,a);i.push(e);d&&i[0].remove(c);b.getAttribs();b.isDirty=a;f&&k.redraw()},setData:function(e,l){var d=this,f=d.data,h=d.initialColor,j=d.chart,k=f&&f.length||0;d.xIncrement=b;if(i(h))Nb=h;for(e=gc(pc(e||[]),function(a){return(new d.pointClass).init(d,a)});k--;)f[k].destroy();d.data=e;d.cleanData();d.getSegments();d.getAttribs();d.isDirty=a;j.isDirtyBox=a;g(l,a)&&j.redraw(c)},remove:function(e,h){var d=this,f=d.chart;e=g(e,a);if(!d.isRemoving){d.isRemoving=a;F(d,"remove",b,function(){d.destroy();f.isDirtyLegend=f.isDirtyBox=a;e&&f.redraw(h)})}d.isRemoving=c},translate:function(){var e=this;for(var l=e.chart,m=e.options.stacking,h=e.xAxis.categories,j=e.yAxis,n=e.data,o=n.length;o--;){var a=n[o],c=a.x,g=a.y,d=a.low,k=j.stacks[(g<0?H:f)+e.stackKey];a.plotX=e.xAxis.translate(c);if(m&&e.visible&&k&&k[c]){d=k[c];c=d.total;d.cum=d=d.cum-g;g=d+g;if(m==="percent"){d=c?d*y/c:0;g=c?g*y/c:0}a.percentage=c?a.y*y/c:0;a.stackTotal=c}if(i(d))a.yBottom=j.translate(d,0,1,0,1);if(g!==b)a.plotY=j.translate(g,0,1,0,1);a.clientX=l.inverted?l.plotHeight-a.plotX:a.plotX;a.category=h&&h[a.x]!==M?h[a.x]:a.x}},setTooltipPoints:function(l){var c=this,d=c.chart,h=d.inverted,a=[],g=k((h?d.plotTop:d.plotLeft)+d.plotSizeX),f,i,j=[];if(l)c.tooltipPoints=b;e(c.segments,function(b){a=a.concat(b)});if(c.xAxis&&c.xAxis.reversed)a=a.reverse();e(a,function(c,b){f=a[b-1]?a[b-1]._high+1:0;for(i=c._high=a[b+1]?jb((c.plotX+(a[b+1]?a[b+1].plotX:g))/2):g;f<=i;)j[h?g-f++:f++]=c});c.tooltipPoints=j},onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;if(!(!Mb&&b.mouseIsDown)){c&&c!==a&&c.onMouseOut();a.options.events.mouseOver&&F(a,wc);a.tracker&&a.tracker.toFront();a.setState(Bb);b.hoverSeries=a}},onMouseOut:function(){var a=this,d=a.options,c=a.chart,e=c.tooltip,f=c.hoverPoint;f&&f.onMouseOut();a&&d.events.mouseOut&&F(a,xc);e&&!d.stickyTracking&&e.hide();a.setState();c.hoverSeries=b},animate:function(f){var c=this,g=c.chart,d=c.clipRect,e=c.options.animation;if(e&&!Lb(e))e={};if(f){if(!d.isAnimating){d.attr(K,0);d.isAnimating=a}}else{d.animate({width:g.plotSizeX},e);c.animate=b}},drawPoints:function(){var b=this,d,j=b.data,k=b.chart,e,c,f,a,h,i;if(b.options.marker.enabled)for(f=j.length;f--;){a=j[f];e=a.plotX;c=a.plotY;i=a.graphic;if(c!==M&&!isNaN(c)){d=a.pointAttr[a.selected?Q:bb];h=d.r;if(i)i.animate({x:e,y:c,r:h});else a.graphic=k.renderer.symbol(g(a.marker&&a.marker.symbol,b.symbol),e,c,h).attr(d).add(b.group)}}},convertAttribs:function(b,c,d,e){var f=this.pointAttrToOptions,a,h,i={};b=b||{};c=c||{};d=d||{};e=e||{};for(a in f){h=f[a];i[a]=g(b[h],c[a],d[a],e[a])}return i},getAttribs:function(){var b=this,d=Ab[b.type].marker?b.options.marker:b.options,k=d.states,f=k[Bb],l,m=b.color,g={stroke:m,fill:m},o=b.data,h=[],j,p=b.pointAttrToOptions,n;if(b.options.marker){f.radius=f.radius||d.radius+2;f.lineWidth=f.lineWidth||d.lineWidth+1}else f.color=f.color||Tb(f.color||m).brighten(f.brightness).get();h[bb]=b.convertAttribs(d,g);e([Bb,Q],function(a){h[a]=b.convertAttribs(k[a],h[bb])});b.pointAttr=h;for(m=o.length;m--;){g=o[m];if((d=g.options&&g.options.marker||g.options)&&d.enabled===c)d.radius=0;l=c;if(g.options)for(n in p)if(i(d[p[n]]))l=a;if(l){j=[];k=d.states||{};l=k[Bb]=k[Bb]||{};if(!b.options.marker)l.color=Tb(l.color||g.options.color).brighten(l.brightness||f.brightness).get();j[bb]=b.convertAttribs(d,h[bb]);j[Bb]=b.convertAttribs(k[Bb],h[Bb],j[bb]);j.select=b.convertAttribs(k.select,h.select,j[bb])}else j=h;g.pointAttr=j}},destroy:function(){var a=this,c=a.chart,g=/\/5[0-9\.]+ (Safari|Mobile)\//.test(jc),d,f;Hb(a);a.legendItem&&a.chart.legend.destroyItem(a);e(a.data,function(a){a.destroy()});e(["area","graph","dataLabelsGroup",Yb,Pb],function(b){if(a[b]){d=g&&b===Yb?O:nb;a[b][d]()}});if(c.hoverSeries===a)c.hoverSeries=b;oc(c.series,a);for(f in a)delete a[f]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var c=this,l,j,t=c.data,a=c.options.dataLabels,m,n=c.dataLabelsGroup,d=c.chart,f=d.inverted,o=c.type,k;k=c.options.stacking;var r=o===Ib||o==="bar",s=a.verticalAlign===b,q=a.y===b;if(r)if(k){if(s)a=u(a,{verticalAlign:cb});if(q)a=u(a,{y:({top:14,middle:4,bottom:-6})[a.verticalAlign]})}else{if(s)a=u(a,{verticalAlign:V});if(q)a=u(a,{y:-6})}if(!n)n=c.dataLabelsGroup=d.renderer.g("data-labels").attr({visibility:c.visible?xb:ab,zIndex:6}).translate(d.plotLeft,d.plotTop).add();k=a.color;if(k===Eb)k=b;a.style.color=g(k,c.color);e(t,function(e){var t=e.barX,s=t&&t+e.barW/2||e.plotX||-999,q=g(e.plotY,-999),k=e.dataLabel,u=a.align;m=a.formatter.call(e.getLabelConfig());l=(f?d.plotWidth-q:s)+a.x;j=(f?d.plotHeight-s:q)+a.y;if(o===Ib)l+=({left:h,right:1})[u]*e.barW/2||0;if(k){if(f&&!a.y)j=j+p(k.styles.lineHeight)*.9-k.getBBox().height/2;k.attr({text:m}).animate({x:l,y:j})}else if(i(m)){k=e.dataLabel=d.renderer.text(m,l,j).attr({align:u,rotation:a.rotation,zIndex:1}).css(a.style).add(n);f&&!a.y&&k.attr({y:j+p(k.styles.lineHeight)*.9-k.getBBox().height/2})}if(r&&c.options.stacking){s=e.barY;q=e.barW;e=e.barH;k.align(a,b,{x:f?d.plotWidth-s-e:t,y:f?d.plotHeight-t-q:s,width:f?e:q,height:f?q:e})}})}},drawGraph:function(){var a=this,c=a.options,d=a.graph,f=[],j,k=a.area,l=a.group,r=c.lineColor||a.color,n=c.lineWidth,p=c.dashStyle,b,q=a.chart.renderer,m=a.yAxis.getThreshold(c.threshold||0),i=/^area/.test(a.type),o=[],h=[];e(a.segments,function(d){b=[];e(d,function(e,f){if(a.getPointSpline)b.push.apply(b,a.getPointSpline(d,e,f));else{b.push(f?C:T);f&&c.step&&b.push(e.plotX,d[f-1].plotY);b.push(e.plotX,e.plotY)}});if(d.length>1)f=f.concat(b);else o.push(d[0]);if(i){for(var j=[],k=b.length,g=0;g<k;g++)j.push(b[g]);k===3&&j.push(C,b[1],b[2]);if(c.stacking&&a.type!==yc)for(g=d.length-1;g>=0;g--)j.push(d[g].plotX,d[g].yBottom);else j.push(C,d[d.length-1].plotX,m,C,d[0].plotX,m);h=h.concat(j)}});a.graphPath=f;a.singlePoints=o;if(i){j=g(c.fillColor,Tb(a.color).setOpacity(c.fillOpacity||.75).get());if(k)k.animate({d:h});else a.area=a.chart.renderer.path(h).attr({fill:j}).add(l)}if(d)d.animate({d:f});else if(n){d={stroke:r,"stroke-width":n};if(p)d.dashstyle=p;a.graph=q.path(f).attr(d).add(l).shadow(c.shadow)}},render:function(){var b=this,d=b.chart,g,f,j=b.options,h=j.animation,i=h&&b.animate;h=i?h&&h.duration||500:0;var e=b.clipRect;f=d.renderer;if(!e){e=b.clipRect=!d.hasRendered&&d.clipRect?d.clipRect:f.clipRect(0,0,d.plotSizeX,d.plotSizeY);if(!d.clipRect)d.clipRect=e}if(!b.group){g=b.group=f.g("series");if(d.inverted){f=function(){g.attr({width:d.plotWidth,height:d.plotHeight}).invert()};f();J(d,I,f)}g.clip(b.clipRect).attr({visibility:b.visible?xb:ab,zIndex:j.zIndex}).translate(d.plotLeft,d.plotTop).add(d.seriesGroup)}b.drawDataLabels();i&&b.animate(a);b.drawGraph&&b.drawGraph();b.drawPoints();b.options.enableMouseTracking!==c&&b.drawTracker();i&&b.animate();setTimeout(function(){e.isAnimating=c;if((g=b.group)&&e!==d.clipRect&&e.renderer){g.clip(b.clipRect=d.clipRect);e.destroy()}},h);b.isDirty=c},redraw:function(){var b=this,c=b.chart,d=b.group;if(d){c.inverted&&d.attr({width:c.plotWidth,height:c.plotHeight});d.animate({translateX:c.plotLeft,translateY:c.plotTop})}b.translate();b.setTooltipPoints(a);b.render()},setState:function(a){var d=this,b=d.options,e=d.graph,f=b.states;b=b.lineWidth;a=a||bb;if(d.state!==a){d.state=a;if(!(f[a]&&f[a].enabled===c)){if(a)b=f[a].lineWidth||b+1;e&&!e.dashstyle&&e.attr({"stroke-width":b},a?0:500)}}},setVisible:function(i,l){var b=this,f=b.chart,m=b.legendItem,g=b.group,h=b.tracker,j=b.dataLabelsGroup,d,k=b.data,n=f.options.chart.ignoreHiddenSeries;d=b.visible;d=(b.visible=i=i===M?!d:i)?Z:O;g&&g[d]();if(h)h[d]();else for(g=k.length;g--;){h=k[g];h.tracker&&h.tracker[d]()}j&&j[d]();m&&f.legend.colorizeItem(b,i);b.isDirty=a;b.options.stacking&&e(f.series,function(b){if(b.options.stacking&&b.visible)b.isDirty=a});if(n)f.isDirtyBox=a;l!==c&&f.redraw();F(b,d)},show:function(){this.setVisible(a)},hide:function(){this.setVisible(c)},select:function(b){var a=this;a.selected=b=b===M?!a.selected:b;if(a.checkbox)a.checkbox.checked=b;F(a,b?Q:Kb)},drawTracker:function(){var d=this,i=d.options,c=[].concat(d.graphPath),e=c.length,g=d.chart,f=g.options.tooltip.snap,j=d.tracker,h=i.cursor;h=h&&{cursor:h};var k=d.singlePoints,b;if(e)for(b=e+1;b--;){c[b]===T&&c.splice(b+1,0,c[b+1]-f,c[b+2],C);(b&&c[b]===T||b===e)&&c.splice(b,0,C,c[b-2]+f,c[b-1])}for(b=0;b<k.length;b++){e=k[b];c.push(T,e.plotX-f,e.plotY,C,e.plotX+f,e.plotY)}if(j)j.attr({d:c});else d.tracker=g.renderer.path(c).attr({isTracker:a,stroke:qd,fill:ib,"stroke-width":i.lineWidth+2*f,visibility:d.visible?xb:ab,zIndex:1}).on(Mb?P:ob,function(){g.hoverSeries!==d&&d.onMouseOver()}).on(pb,function(){i.stickyTracking||d.onMouseOut()}).css(h).add(g.trackerGroup)}};n=Db(mb);yb.line=n;n=Db(mb,{type:"area"});yb.area=n;n=Db(mb,{type:"spline",getPointSpline:function(e,h,k){var i=h.plotX,a=h.plotY,f=e[k-1],g=e[k+1],m,d,j,c;if(k&&k<e.length-1){e=f.plotY;j=g.plotX;g=g.plotY;var l;m=(1.5*i+f.plotX)/2.5;d=(1.5*a+e)/2.5;j=(1.5*i+j)/2.5;c=(1.5*a+g)/2.5;l=(c-d)*(j-i)/(j-m)+a-c;d+=l;c+=l;if(d>e&&d>a){d=A(e,a);c=2*a-d}else if(d<e&&d<a){d=vb(e,a);c=2*a-d}if(c>g&&c>a){c=A(g,a);d=2*a-c}else if(c<g&&c<a){c=vb(g,a);d=2*a-c}h.rightContX=j;h.rightContY=c}if(k){h=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,m||i,d||a,i,a];f.rightContX=f.rightContY=b}else h=[T,i,a];return h}});yb.spline=n;n=Db(n,{type:yc});yb.areaspline=n;var Cc=Db(mb,{type:Ib,pointAttrToOptions:{stroke:bd,"stroke-width":cd,fill:"color",r:"borderRadius"},init:function(){mb.prototype.init.apply(this,arguments);var c=this,b=c.chart;b.hasColumn=a;b.hasRendered&&e(b.series,function(b){if(b.type===c.type)b.isDirty=a})},translate:function(){var a=this,p=a.chart,b=a.options,B=b.stacking,x=b.borderWidth,m=0,y=a.xAxis.reversed,c=a.xAxis.categories,q={},n,t;mb.prototype.translate.apply(a);e(p.series,function(b){if(b.type===a.type&&b.visible){if(b.options.stacking){n=b.stackKey;if(q[n]===M)q[n]=m++;t=q[n]}else t=m++;b.columnIndex=t}});var l=a.data,j=a.closestPoints;c=U(l[1]?l[j].plotX-l[j-1].plotX:p.plotSizeX/(c&&c.length||1));j=c*b.groupPadding;var k=(c-2*j)/m,r=b.pointWidth,w=i(r)?(k-r)/2:k*b.pointPadding,v=A(g(r,k-2*w),1),z=w+(j+((y?m-a.columnIndex:a.columnIndex)||0)*k-c/2)*(y?h:1),o=a.yAxis.getThreshold(b.threshold||0),d=g(b.minPointLength,5);e(l,function(c){var e=c.plotY,l=c.yBottom||o,m=c.plotX+z,g=Yc(vb(e,l)),h=Yc(A(e,l)-g),k=a.yAxis.stacks[(c.y<0?H:f)+a.stackKey],j;B&&a.visible&&k&&k[c.x]&&k[c.x].setOffset(z,v);if(U(h)<d){if(d){h=d;g=U(g-o)>d?l-d:o-(e<=o?d:0)}j=g-3}s(c,{barX:m,barY:g,barW:v,barH:h});c.shapeType=Jb;e=s(p.renderer.Element.prototype.crisp.apply({},[x,m,g,v,h]),{r:b.borderRadius});if(x%2){e.y-=1;e.height+=1}c.shapeArgs=e;c.trackerArgs=i(j)&&u(c.shapeArgs,{height:A(6,h+3),y:j})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var a=this,f=a.options,g=a.chart.renderer,c,d;e(a.data,function(e){var h=e.plotY;if(h!==M&&!isNaN(h)&&e.y!==b){c=e.graphic;d=e.shapeArgs;if(c){Mc(c);c.animate(d)}else e.graphic=g[e.shapeType](d).attr(e.pointAttr[e.selected?Q:bb]).add(a.group).shadow(f.shadow)}})},drawTracker:function(){var a=this,f=a.chart,j=f.renderer,c,g,h=+new Date,i=a.options.cursor,k=i&&{cursor:i},d;e(a.data,function(e){g=e.tracker;c=e.trackerArgs||e.shapeArgs;delete c.strokeWidth;if(e.y!==b)if(g)g.attr(c);else e.tracker=j[e.shapeType](c).attr({isTracker:h,fill:qd,visibility:a.visible?xb:ab,zIndex:1}).on(Mb?P:ob,function(b){d=b.relatedTarget||b.fromElement;f.hoverSeries!==a&&z(d,E)!==h&&a.onMouseOver();e.onMouseOver()}).on(pb,function(b){if(!a.options.stickyTracking){d=b.relatedTarget||b.toElement;z(d,E)!==h&&a.onMouseOut()}}).css(k).add(e.group||f.trackerGroup)})},animate:function(c){var a=this,d=a.data;if(!c){e(d,function(b){var c=b.graphic;b=b.shapeArgs;if(c){c.attr({height:0,y:a.yAxis.translate(0,0,1)});c.animate({height:b.height,y:b.y},a.options.animation)}});a.animate=b}},remove:function(){var b=this,c=b.chart;c.hasRendered&&e(c.series,function(c){if(c.type===b.type)c.isDirty=a});mb.prototype.remove.apply(b,arguments)}});yb.column=Cc;n=Db(Cc,{type:"bar",init:function(b){b.inverted=this.inverted=a;Cc.prototype.init.apply(this,arguments)}});yb.bar=n;n=Db(mb,{type:"scatter",translate:function(){var a=this;mb.prototype.translate.apply(a);e(a.data,function(b){b.shapeType=qb;b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){var b=this,c=b.options.cursor,f=c&&{cursor:c},d;e(b.data,function(c){(d=c.graphic)&&d.attr({isTracker:a}).on(ob,function(){b.onMouseOver();c.onMouseOver()}).on(pb,function(){b.options.stickyTracking||b.onMouseOut()}).css(f)})},cleanData:function(){}});yb.scatter=n;n=Db(nc,{init:function(){nc.prototype.init.apply(this,arguments);var a=this,b;s(a,{visible:a.visible!==c,name:g(a.name,"Slice")});b=function(){a.slice()};J(a,Q,b);J(a,Kb,b);return a},setVisible:function(c){var a=this,g=a.series.chart,d=a.tracker,e=a.dataLabel,f=a.connector,b;b=(a.visible=c=c===M?!a.visible:c)?Z:O;a.group[b]();d&&d[b]();e&&e[b]();f&&f[b]();a.legendItem&&g.legend.colorizeItem(a,c)},slice:function(b,f,h){var c=this,d=c.series.chart,e=c.slicedTranslation;fc(h,d);g(f,a);b=c.sliced=i(b)?b:!c.sliced;b={translateX:b?e[0]:d.plotLeft,translateY:b?e[1]:d.plotTop};c.group.animate(b);c.shadowGroup&&c.shadowGroup.animate(b)}});n=Db(mb,{type:"pie",isCartesian:c,pointClass:n,pointAttrToOptions:{stroke:bd,"stroke-width":cd,fill:"color"},getColor:function(){this.initialColor=Nb},animate:function(){var a=this;e(a.data,function(b){var c=b.graphic;b=b.shapeArgs;var d=-Wb/2;if(c){c.attr({r:0,start:d,end:d});c.animate({r:b.r,start:b.start,end:b.end},a.options.animation)}});a.animate=b},translate:function(){var c=this,j=0,q=-.25,d=c.options,r=d.slicedOffset,A=r+d.borderWidth,a=d.center.concat([d.size,d.innerSize||0]),n=c.chart,C=n.plotWidth,D=n.plotHeight,u,w,b,B=c.data,o=2*Wb,s,z=vb(C,D),E,g,f,i=d.dataLabels.distance;a=gc(a,function(a,b){return(E=/%$/.test(a))?([C,D,z,z])[b]*p(a)/y:a});c.getX=function(c,d){b=v.asin((c-a[1])/(a[2]/2+i));return a[0]+(d?h:1)*kb(b)*(a[2]/2+i)};c.center=a;e(B,function(a){j+=a.y});e(B,function(c){s=j?c.y/j:0;u=k(q*o*t)/t;q+=s;w=k(q*o*t)/t;c.shapeType="arc";c.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:u,end:w};b=(w+u)/2;c.slicedTranslation=gc([kb(b)*r+n.plotLeft,Cb(b)*r+n.plotTop],k);g=kb(b)*a[2]/2;f=Cb(b)*a[2]/2;c.tooltipPos=[a[0]+g*.7,a[1]+f*.7];c.labelPos=[a[0]+g+kb(b)*i,a[1]+f+Cb(b)*i,a[0]+g+kb(b)*A,a[1]+f+Cb(b)*A,a[0]+g,a[1]+f,i<0?x:b<o/4?l:m,b];c.percentage=s*y;c.total=j});c.setTooltipPoints()},render:function(){var a=this;a.drawPoints();a.options.enableMouseTracking!==c&&a.drawTracker();a.drawDataLabels();a.options.animation&&a.animate&&a.animate();a.isDirty=c},drawPoints:function(){var f=this.chart,g=f.renderer,b,h,d,j=this.options.shadow,a,i;e(this.data,function(e){h=e.graphic;i=e.shapeArgs;d=e.group;a=e.shadowGroup;if(j&&!a)a=e.shadowGroup=g.g("shadow").attr({zIndex:4}).add();if(!d)d=e.group=g.g(eb).attr({zIndex:5}).add();b=e.sliced?e.slicedTranslation:[f.plotLeft,f.plotTop];d.translate(b[0],b[1]);a&&a.translate(b[0],b[1]);if(h)h.animate(i);else e.graphic=g.arc(i).attr(s(e.pointAttr[bb],{"stroke-linejoin":"round"})).add(e.group).shadow(j,a);e.visible===c&&e.setVisible(c)})},drawDataLabels:function(){var n=this,w=n.data,f,x=n.chart,p=n.options.dataLabels,z=g(p.connectorPadding,d),A=g(p.connectorWidth,1),i,b,B=p.distance>0,o,v,y=n.center[1],q=[[],[],[],[]],u,j,k,t,D,s,E,r=4,m;mb.prototype.drawDataLabels.apply(n);e(w,function(b){var a=b.labelPos[7];q[a<0?0:a<Wb/2?1:a<Wb?2:3].push(b)});q[1].reverse();q[3].reverse();for(E=function(b,a){return b.y>a.y};r--;){w=0;f=[].concat(q[r]);f.sort(E);for(m=f.length;m--;)f[m].rank=m;for(t=0;t<2;t++){v=(s=r%3)?9999:-9999;D=s?h:1;for(m=0;m<q[r].length;m++){f=q[r][m];if(i=f.dataLabel){b=f.labelPos;k=xb;u=b[0];j=b[1];o||(o=i&&i.getBBox().height);if(B)if(t&&f.rank<w)k=ab;else if(!s&&j<v+o||s&&j>v-o){j=v+D*o;u=n.getX(j,r>1);if(!s&&j+o>y||s&&j-o<y)if(t)k=ab;else w++}if(f.visible===c)k=ab;if(k===xb)v=j;if(t){i.attr({visibility:k,align:b[6]})[i.moved?W:X]({x:u+p.x+(({left:z,right:-z})[b[6]]||0),y:j+p.y});i.moved=a;if(B&&A){i=f.connector;b=[T,u+(b[6]===l?5:-5),j,C,u,j,C,b[2],b[3],C,b[4],b[5]];if(i){i.animate({d:b});i.attr(Gb,k)}else f.connector=i=n.chart.renderer.path(b).attr({"stroke-width":A,stroke:p.connectorColor||"#606060",visibility:k,zIndex:3}).translate(x.plotLeft,x.plotTop).add()}}}}}}},drawTracker:Cc.prototype.drawTracker,getSymbol:function(){}});yb.pie=n;S.Highcharts={Chart:jd,dateFormat:Lc,pathAnim:Ac,getOptions:function(){return N},numberFormat:dd,Point:nc,Color:Tb,Renderer:Oc,seriesTypes:yb,setOptions:function(a){N=u(N,a);ed();return N},Series:mb,addEvent:J,createElement:hb,discardElement:Hc,css:D,each:e,extend:s,map:gc,merge:u,pick:g,extendClass:Db,version:"2.1.5"}})();if(!this.JSON)JSON=function(){var f="number",e="function",b="object",c="string";function g(a){return a<10?"0"+a:a}Date.prototype.toJSON=function(){var a=this;return a.getUTCFullYear()+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+"Z"};var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,h,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d;function k(a){j.lastIndex=0;return j.test(a)?'"'+a.replace(j,function(a){var b=m[a];return typeof b===c?b:"\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4)})+'"':'"'+a+'"'}function i(r,s){var n="null",m,o,l,p,q=a,j,g=s[r];if(g&&typeof g===b&&typeof g.toJSON===e)g=g.toJSON(r);if(typeof d===e)g=d.call(s,r,g);switch(typeof g){case c:return k(g);case f:return isFinite(g)?String(g):n;case"boolean":case n:return String(g);case b:if(!g)return n;a+=h;j=[];if(typeof g.length===f&&!g.propertyIsEnumerable("length")){p=g.length;for(m=0;m<p;m+=1)j[m]=i(m,g)||n;l=j.length===0?"[]":a?"[\n"+a+j.join(",\n"+a)+"\n"+q+"]":"["+j.join(",")+"]";a=q;return l}if(d&&typeof d===b){p=d.length;for(m=0;m<p;m+=1){o=d[m];if(typeof o===c){l=i(o,g,d);l&&j.push(k(o)+(a?": ":":")+l)}}}else for(o in g)if(Object.hasOwnProperty.call(g,o)){l=i(o,g,d);l&&j.push(k(o)+(a?": ":":")+l)}l=j.length===0?"{}":a?"{\n"+a+j.join(",\n"+a)+"\n"+q+"}":"{"+j.join(",")+"}";a=q;return l}}return{stringify:function(l,g,j){var k;a="";h="";if(typeof j===f)for(k=0;k<j;k+=1)h+=" ";else if(typeof j===c)h=j;d=g;if(g&&typeof g!==e&&(typeof g!==b||typeof g.length!==f))throw new Error("JSON.stringify");return i("",{"":l})},parse:function(a,d){var c;function f(g,h){var c,e,a=g[h];if(a&&typeof a===b)for(c in a)if(Object.hasOwnProperty.call(a,c)){e=f(a,c);if(e!==undefined)a[c]=e;else delete a[c]}return d.call(g,h,a)}l.lastIndex=0;if(l.test(a))a=a.replace(l,function(a){return"\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){c=eval("("+a+")");return typeof d===e?f({"":c},""):c}throw new SyntaxError("JSON.parse");}}}();(function(f,e,h,c){var d="object",b="function",a=true,g=a;!function(a){if(typeof require===b&&typeof exports===d&&typeof module===d){var c=module.exports||exports;a(c)}else if(typeof define===b&&define.amd)define(["exports"],a);else a(f.ko={})}(function(K){var D="retained",G="isRewritten",q="if",y="with",F="focusout",u="select",s="value",p="option",o="number",C="beforeChange",z="change",A="none",m="string",B="textarea",l="",j=null,w="radio",v="checkbox",k=false,r="input",t="div",x="click",n="undefined",i=typeof K!==n?K:{};i.exportSymbol=function(d,e){for(var a=d.split("."),b=i,c=0;c<a.length-1;c++)b=b[a[c]];b[a[a.length-1]]=e};i.exportProperty=function(c,a,b){c[a]=b};i.version="2.1.0";i.exportSymbol("version",i.version);i.utils=new function(){var D=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,o={},u={},C=/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents";o[C]=["keyup","keydown","keypress"];o.MouseEvents=[x,"dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var y in o){var q=o[y];if(q.length)for(var s=0,G=q.length;s<G;s++)u[q[s]]=y}var z={propertychange:a},g=function(){var a=3,b=e.createElement(t),d=b.getElementsByTagName("i");while(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",d[0]);return a>4?a:c}(),E=g===6,F=g===7;function p(a,c){if(i.utils.tagNameLower(a)!==r||!a.type)return k;if(c.toLowerCase()!=x)return k;var b=a.type;return b==v||b==w}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(b,c){for(var a=0,d=b.length;a<d;a++)c(b[a])},arrayIndexOf:function(c,d){if(typeof Array.prototype.indexOf==b)return Array.prototype.indexOf.call(c,d);for(var a=0,e=c.length;a<e;a++)if(c[a]===d)return a;return-1},arrayFirst:function(b,d,c){for(var a=0,e=b.length;a<e;a++)if(d.call(c,b[a]))return b[a];return j},arrayRemoveItem:function(a,c){var b=i.utils.arrayIndexOf(a,c);b>=0&&a.splice(b,1)},arrayGetDistinctValues:function(a){a=a||[];for(var c=[],b=0,d=a.length;b<d;b++)i.utils.arrayIndexOf(c,a[b])<0&&c.push(a[b]);return c},arrayMap:function(a,d){a=a||[];for(var c=[],b=0,e=a.length;b<e;b++)c.push(d(a[b]));return c},arrayFilter:function(a,d){a=a||[];for(var c=[],b=0,e=a.length;b<e;b++)d(a[b])&&c.push(a[b]);return c},arrayPushAll:function(b,a){if(a instanceof Array)b.push.apply(b,a);else for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},extend:function(c,a){if(a)for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b];return c},emptyDomNode:function(a){while(a.firstChild)i.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(d){for(var b=i.utils.makeArray(d),c=e.createElement(t),a=0,f=b.length;a<f;a++){i.cleanNode(b[a]);c.appendChild(b[a])}return c},setDomNodeChildren:function(c,a){i.utils.emptyDomNode(c);if(a)for(var b=0,d=a.length;b<d;b++)c.appendChild(a[b])},replaceDomNodes:function(c,e){var b=c.nodeType?[c]:c;if(b.length>0){for(var d=b[0],g=d.parentNode,a=0,f=e.length;a<f;a++)g.insertBefore(e[a],d);for(var a=0,f=b.length;a<f;a++)i.removeNode(b[a])}},setOptionNodeSelectionState:function(b,a){if(h.userAgent.indexOf("MSIE 6")>=0)b.setAttribute("selected",a);else b.selected=a},stringTrim:function(a){return(a||l).replace(D,l)},stringTokenize:function(f,e){for(var c=[],d=(f||l).split(e),a=0,g=d.length;a<g;a++){var b=i.utils.stringTrim(d[a]);b!==l&&c.push(b)}return c},stringStartsWith:function(a,b){a=a||l;return b.length>a.length?k:a.substring(0,b.length)===b},buildEvalWithinScopeFunction:function(d,c){for(var a="return ("+d+")",b=0;b<c;b++)a="with(sc["+b+"]) { "+a+" } ";return new Function("sc",a)},domNodeIsContainedBy:function(b,c){if(c.compareDocumentPosition)return(c.compareDocumentPosition(b)&16)==16;while(b!=j){if(b==c)return a;b=b.parentNode}return k},domNodeIsAttachedToDocument:function(a){return i.utils.domNodeIsContainedBy(a,a.ownerDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(c,d,e){var f=g&&z[d];if(!f&&typeof jQuery!=n){if(p(c,d)){var h=e;e=function(e,c){var b=this,d=b.checked;if(c)b.checked=c.checkedStateBeforeEvent!==a;h.call(b,e);b.checked=d}}jQuery(c).bind(d,e)}else if(!f&&typeof c.addEventListener==b)c.addEventListener(d,e,k);else if(typeof c.attachEvent!=n)c.attachEvent("on"+d,function(a){e.call(c,a)});else throw new Error("Browser doesn't support addEventListener or attachEvent");},triggerEvent:function(c,d){if(!(c&&c.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!=n){var g=[];p(c,d)&&g.push({checkedStateBeforeEvent:c.checked});jQuery(c).trigger(d,g)}else if(typeof e.createEvent==b)if(typeof c.dispatchEvent==b){var i=u[d]||"HTMLEvents",h=e.createEvent(i);h.initEvent(d,a,a,f,0,0,0,0,0,k,k,k,k,0,c);c.dispatchEvent(h)}else throw new Error("The supplied element doesn't support dispatchEvent");else if(typeof c.fireEvent!=n){if(p(c,d))c.checked=c.checked!==a;c.fireEvent("on"+d)}else throw new Error("Browser doesn't support triggering events");},unwrapObservable:function(a){return i.isObservable(a)?a():a},toggleDomNodeCssClass:function(d,c,e){var a=(d.className||l).split(/\s+/),g=i.utils.arrayIndexOf(a,c)>=0;if(e&&!g)d.className+=(a[0]?" ":l)+c;else if(g&&!e){for(var f=l,b=0;b<a.length;b++)if(a[b]!=c)f+=a[b]+" ";d.className=i.utils.stringTrim(f)}},setTextContent:function(a,d){var b=i.utils.unwrapObservable(d);if(b===j||b===c)b=l;"innerText"in a?(a.innerText=b):(a.textContent=b);if(g>=9)a.style.display=a.style.display},ensureSelectElementIsRenderedCorrectly:function(a){if(g>=9){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,a){b=i.utils.unwrapObservable(b);a=i.utils.unwrapObservable(a);for(var d=[],c=b;c<=a;c++)d.push(c);return d},makeArray:function(b){for(var c=[],a=0,d=b.length;a<d;a++)c.push(b[a]);return c},isIe6:E,isIe7:F,ieVersion:g,getFormFields:function(e,b){for(var c=i.utils.makeArray(e.getElementsByTagName(r)).concat(i.utils.makeArray(e.getElementsByTagName(B))),f=typeof b==m?function(a){return a.name===b}:function(a){return b.test(a.name)},d=[],a=c.length-1;a>=0;a--)f(c[a])&&d.push(c[a]);return d},parseJson:function(a){if(typeof a==m){a=i.utils.stringTrim(a);if(a)return f.JSON&&f.JSON.parse?f.JSON.parse(a):new Function("return "+a)()}return j},stringifyJson:function(c,a,b){if(typeof JSON==n||typeof JSON.stringify==n)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(i.utils.unwrapObservable(c),a,b)},postJson:function(f,g,b){b=b||{};var l=b.params||{},n=b.includeFields||this.fieldsIncludedWithJsonPost,p=f;if(typeof f==d&&i.utils.tagNameLower(f)==="form"){var o=f;p=o.action;for(var m=n.length-1;m>=0;m--)for(var k=i.utils.getFormFields(o,n[m]),j=k.length-1;j>=0;j--)l[k[j].name]=k[j].value}g=i.utils.unwrapObservable(g);var a=e.createElement("form");a.style.display=A;a.action=p;a.method="post";for(var h in g){var c=e.createElement(r);c.name=h;c.value=i.utils.stringifyJson(i.utils.unwrapObservable(g[h]));a.appendChild(c)}for(var h in l){var c=e.createElement(r);c.name=h;c.value=l[h];a.appendChild(c)}e.body.appendChild(a);b.submitter?b.submitter(a):a.submit();setTimeout(function(){a.parentNode.removeChild(a)},0)}}};i.exportSymbol("utils",i.utils);i.exportSymbol("utils.arrayForEach",i.utils.arrayForEach);i.exportSymbol("utils.arrayFirst",i.utils.arrayFirst);i.exportSymbol("utils.arrayFilter",i.utils.arrayFilter);i.exportSymbol("utils.arrayGetDistinctValues",i.utils.arrayGetDistinctValues);i.exportSymbol("utils.arrayIndexOf",i.utils.arrayIndexOf);i.exportSymbol("utils.arrayMap",i.utils.arrayMap);i.exportSymbol("utils.arrayPushAll",i.utils.arrayPushAll);i.exportSymbol("utils.arrayRemoveItem",i.utils.arrayRemoveItem);i.exportSymbol("utils.extend",i.utils.extend);i.exportSymbol("utils.fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost);i.exportSymbol("utils.getFormFields",i.utils.getFormFields);i.exportSymbol("utils.postJson",i.utils.postJson);i.exportSymbol("utils.parseJson",i.utils.parseJson);i.exportSymbol("utils.registerEventHandler",i.utils.registerEventHandler);i.exportSymbol("utils.stringifyJson",i.utils.stringifyJson);i.exportSymbol("utils.range",i.utils.range);i.exportSymbol("utils.toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass);i.exportSymbol("utils.triggerEvent",i.utils.triggerEvent);i.exportSymbol("utils.unwrapObservable",i.utils.unwrapObservable);if(!Function.prototype.bind)Function.prototype.bind=function(c){var b=this,a=Array.prototype.slice.call(arguments),c=a.shift();return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}};i.utils.domData=new function(){var e=0,b="__ko__"+(new Date).getTime(),d={};return{"get":function(b,d){var a=i.utils.domData.getAll(b,k);return a===c?c:a[d]},"set":function(d,f,b){if(b===c)if(i.utils.domData.getAll(d,k)===c)return;var e=i.utils.domData.getAll(d,a);e[f]=b},getAll:function(f,h){var a=f[b],g=a&&a!=="null";if(!g){if(!h)return c;a=f[b]="ko"+e++;d[a]={}}return d[a]},clear:function(c){var a=c[b];if(a){delete d[a];c[b]=j}}}};i.exportSymbol("utils.domData",i.utils.domData);i.exportSymbol("utils.domData.clear",i.utils.domData.clear);i.utils.domNodeDisposal=new function(){var f="__ko_domNodeDisposal__"+(new Date).getTime(),l={1:a,8:a,9:a},g={1:a,9:a};function d(b,d){var a=i.utils.domData.get(b,f);if(a===c&&d){a=[];i.utils.domData.set(b,f,a)}return a}function j(a){i.utils.domData.set(a,f,c)}function e(a){var c=d(a,k);if(c){c=c.slice(0);for(var e=0;e<c.length;e++)c[e](a)}i.utils.domData.clear(a);typeof jQuery==b&&typeof jQuery.cleanData==b&&jQuery.cleanData([a]);g[a.nodeType]&&h(a)}function h(c){var a,b=c.firstChild;while(a=b){b=a.nextSibling;a.nodeType===8&&e(a)}}return{addDisposeCallback:function(e,c){if(typeof c!=b)throw new Error("Callback must be a function");d(e,a).push(c)},removeDisposeCallback:function(b,c){var a=d(b,k);if(a){i.utils.arrayRemoveItem(a,c);a.length==0&&j(b)}},cleanNode:function(a){if(l[a.nodeType]){e(a);if(g[a.nodeType]){var b=[];i.utils.arrayPushAll(b,a.getElementsByTagName("*"));for(var c=0,d=b.length;c<d;c++)e(b[c])}}},removeNode:function(a){i.cleanNode(a);a.parentNode&&a.parentNode.removeChild(a)}}};i.cleanNode=i.utils.domNodeDisposal.cleanNode;i.removeNode=i.utils.domNodeDisposal.removeNode;i.exportSymbol("cleanNode",i.cleanNode);i.exportSymbol("removeNode",i.removeNode);i.exportSymbol("utils.domNodeDisposal",i.utils.domNodeDisposal);i.exportSymbol("utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback);i.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback);(function(){var g=/^(\s*)<!--(.*?)-->/;function d(h){var c=i.utils.stringTrim(h).toLowerCase(),a=e.createElement(t),d=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,l,l],g="ignored<div>"+d[1]+h+d[2]+"</div>";if(typeof f.innerShiv==b)a.appendChild(f.innerShiv(g));else a.innerHTML=g;while(d[0]--)a=a.lastChild;return i.utils.makeArray(a.lastChild.childNodes)}function a(c){var b=jQuery.clean([c]);if(b&&b[0]){var a=b[0];while(a.parentNode&&a.parentNode.nodeType!==11)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}return b}i.utils.parseHtmlFragment=function(b){return typeof jQuery!=n?a(b):d(b)};i.utils.setHtml=function(b,a){i.utils.emptyDomNode(b);if(a!==j&&a!==c){if(typeof a!=m)a=a.toString();if(typeof jQuery!=n)jQuery(b).html(a);else for(var e=i.utils.parseHtmlFragment(a),d=0;d<e.length;d++)b.appendChild(e[d])}}})();i.exportSymbol("utils.parseHtmlFragment",i.utils.parseHtmlFragment);i.exportSymbol("utils.setHtml",i.utils.setHtml);i.memoization=function(){var d={};function e(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function g(){return e()+e()}function f(a,c){if(!a)return;if(a.nodeType==8){var e=i.memoization.parseMemoText(a.nodeValue);e!=j&&c.push({domNode:a,memoId:e})}else if(a.nodeType==1)for(var b=0,d=a.childNodes,g=d.length;b<g;b++)f(d[b],c)}return{memoize:function(a){if(typeof a!=b)throw new Error("You can only pass a function to ko.memoization.memoize()");var c=g();d[c]=a;return"<!--[ko_memo:"+c+"]-->"},unmemoize:function(b,f){var e=d[b];if(e===c)throw new Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{e.apply(j,f||[]);return a}finally{delete d[b]}},unmemoizeDomNodeAndDescendants:function(g,d){var b=[];f(g,b);for(var c=0,h=b.length;c<h;c++){var a=b[c].domNode,e=[a];d&&i.utils.arrayPushAll(e,d);i.memoization.unmemoize(b[c].memoId,e);a.nodeValue=l;a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(b){var a=b.match(/^\[ko_memo\:(.*?)\]$/);return a?a[1]:j}}}();i.exportSymbol("memoization",i.memoization);i.exportSymbol("memoization.memoize",i.memoization.memoize);i.exportSymbol("memoization.unmemoize",i.memoization.unmemoize);i.exportSymbol("memoization.parseMemoText",i.memoization.parseMemoText);i.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants);i.extenders={throttle:function(a,c){a.throttleEvaluation=c;var b=j;return i.dependentObservable({read:a,write:function(d){clearTimeout(b);b=setTimeout(function(){a(d)},c)}})},notify:function(a,b){a.equalityComparer=b=="always"?function(){return k}:i.observable.fn.equalityComparer;return a}};function N(a){var c=this;if(a)for(var e in a){var d=i.extenders[e];if(typeof d==b)c=d(c,a[e])}return c}i.exportSymbol("extenders",i.extenders);i.subscription=function(d,c,b){var a=this;a.target=d;a.callback=c;a.disposeCallback=b;i.exportProperty(a,"dispose",a.dispose)};i.subscription.prototype.dispose=function(){this.isDisposed=a;this.disposeCallback()};i.subscribable=function(){var a=this;a._subscriptions={};i.utils.extend(a,i.subscribable.fn);i.exportProperty(a,"subscribe",a.subscribe);i.exportProperty(a,"extend",a.extend);i.exportProperty(a,"getSubscriptionsCount",a.getSubscriptionsCount)};var J=z;i.subscribable.fn={subscribe:function(e,d,a){var b=this;a=a||J;var f=d?e.bind(d):e,c=new i.subscription(b,f,function(){i.utils.arrayRemoveItem(this._subscriptions[a],c)}.bind(b));if(!b._subscriptions[a])b._subscriptions[a]=[];b._subscriptions[a].push(c);return c},notifySubscribers:function(c,b){b=b||J;this._subscriptions[b]&&i.utils.arrayForEach(this._subscriptions[b].slice(0),function(b){b&&b.isDisposed!==a&&b.callback(c)})},getSubscriptionsCount:function(){var b=0;for(var a in this._subscriptions)if(this._subscriptions.hasOwnProperty(a))b+=this._subscriptions[a].length;return b},extend:N};i.isSubscribable=function(a){return typeof a.subscribe==b&&typeof a.notifySubscribers==b};i.exportSymbol("subscribable",i.subscribable);i.exportSymbol("isSubscribable",i.isSubscribable);i.dependencyDetection=function(){var a=[];return{begin:function(b){a.push({callback:b,distinctDependencies:[]})},end:function(){a.pop()},registerDependency:function(b){if(!i.isSubscribable(b))throw new Error("Only subscribable things can act as dependencies");if(a.length>0){var c=a[a.length-1];if(i.utils.arrayIndexOf(c.distinctDependencies,b)>=0)return;c.distinctDependencies.push(b);c.callback(b)}}}}();var O={undefined:a,"boolean":a,number:a,string:a};i.observable=function(c){var b=c;function a(){if(arguments.length>0){if(!a.equalityComparer||!a.equalityComparer(b,arguments[0])){a.valueWillMutate();b=arguments[0];if(g)a._latestValue=b;a.valueHasMutated()}return this}else{i.dependencyDetection.registerDependency(a);return b}}if(g)a._latestValue=b;i.subscribable.call(a);a.valueHasMutated=function(){a.notifySubscribers(b)};a.valueWillMutate=function(){a.notifySubscribers(b,C)};i.utils.extend(a,i.observable.fn);i.exportProperty(a,"valueHasMutated",a.valueHasMutated);i.exportProperty(a,"valueWillMutate",a.valueWillMutate);return a};i.observable.fn={equalityComparer:function(a,c){var b=a===j||typeof a in O;return b?a===c:k}};var E=i.observable.protoProperty="__ko_proto__";i.observable.fn[E]=i.observable;i.hasPrototype=function(b,d){return b===j||b===c||b[E]===c?k:b[E]===d?a:i.hasPrototype(b[E],d)};i.isObservable=function(a){return i.hasPrototype(a,i.observable)};i.isWriteableObservable=function(c){return typeof c==b&&c[E]===i.observable?a:typeof c==b&&c[E]===i.dependentObservable&&c.hasWriteFunction?a:k};i.exportSymbol("observable",i.observable);i.exportSymbol("isObservable",i.isObservable);i.exportSymbol("isWriteableObservable",i.isWriteableObservable);i.observableArray=function(a){if(arguments.length==0)a=[];if(a!==j&&a!==c&&!("length"in a))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var b=i.observable(a);i.utils.extend(b,i.observableArray.fn);return b};i.observableArray.fn={remove:function(d){for(var e=this(),c=[],g=typeof d==b?d:function(a){return a===d},a=0;a<e.length;a++){var f=e[a];if(g(f)){c.length===0&&this.valueWillMutate();c.push(f);e.splice(a,1);a--}}c.length&&this.valueHasMutated();return c},removeAll:function(d){var a=this;if(d===c){var b=a(),e=b.slice(0);a.valueWillMutate();b.splice(0,b.length);a.valueHasMutated();return e}return!d?[]:a.remove(function(a){return i.utils.arrayIndexOf(d,a)>=0})},destroy:function(d){var e=this(),f=typeof d==b?d:function(a){return a===d};this.valueWillMutate();for(var c=e.length-1;c>=0;c--){var g=e[c];if(f(g))e[c]._destroy=a}this.valueHasMutated()},destroyAll:function(b){return b===c?this.destroy(function(){return a}):!b?[]:this.destroy(function(a){return i.utils.arrayIndexOf(b,a)>=0})},indexOf:function(b){var a=this();return i.utils.arrayIndexOf(a,b)},replace:function(d,c){var a=this,b=a.indexOf(d);if(b>=0){a.valueWillMutate();a()[b]=c;a.valueHasMutated()}}};i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){i.observableArray.fn[a]=function(){var b=this();this.valueWillMutate();var c=b[a].apply(b,arguments);this.valueHasMutated();return c}});i.utils.arrayForEach(["slice"],function(a){i.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});i.exportSymbol("observableArray",i.observableArray);i.dependentObservable=function(y,o,f){var m,r=k,s=k,h=y;if(h&&typeof h==d){f=h;h=f.read}else{f=f||{};if(!h)h=f.read}if(typeof h!=b)throw new Error("Pass a function that returns the value of the ko.computed");var w=f.write;if(!o)o=f.owner;var l=[];function u(){i.utils.arrayForEach(l,function(a){a.dispose()});l=[]}var q=u,n=typeof f.disposeWhenNodeIsRemoved==d?f.disposeWhenNodeIsRemoved:j,t=f.disposeWhen||function(){return k};if(n){q=function(){i.utils.domNodeDisposal.removeDisposeCallback(n,arguments.callee);u()};i.utils.domNodeDisposal.addDisposeCallback(n,q);var x=t;t=function(){return!i.utils.domNodeIsAttachedToDocument(n)||x()}}var v=j;function z(){var a=e.throttleEvaluation;if(a&&a>=0){clearTimeout(v);v=setTimeout(p,a)}else p()}function p(){if(s)return;if(r&&t()){q();return}s=a;try{var b=i.utils.arrayMap(l,function(a){return a.target});i.dependencyDetection.begin(function(a){var d;if((d=i.utils.arrayIndexOf(b,a))>=0)b[d]=c;else l.push(a.subscribe(z))});for(var f=h.call(o),d=b.length-1;d>=0;d--)b[d]&&l.splice(d,1)[0].dispose();r=a;e.notifySubscribers(m,C);m=f;if(g)e._latestValue=m}finally{i.dependencyDetection.end()}e.notifySubscribers(m);s=k}function e(){if(arguments.length>0)B.apply(e,arguments);else return A()}function B(){if(typeof w===b)w.apply(o,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");}function A(){!r&&p();i.dependencyDetection.registerDependency(e);return m}e.getDependenciesCount=function(){return l.length};e.hasWriteFunction=typeof f.write===b;e.dispose=function(){q()};i.subscribable.call(e);i.utils.extend(e,i.dependentObservable.fn);f.deferEvaluation!==a&&p();i.exportProperty(e,"dispose",e.dispose);i.exportProperty(e,"getDependenciesCount",e.getDependenciesCount);return e};i.isComputed=function(a){return i.hasPrototype(a,i.dependentObservable)};var L=i.observable.protoProperty;i.dependentObservable[L]=i.observable;i.dependentObservable.fn={};i.dependentObservable.fn[L]=i.dependentObservable;i.exportSymbol("dependentObservable",i.dependentObservable);i.exportSymbol("computed",i.dependentObservable);i.exportSymbol("isComputed",i.isComputed);(function(){var f=10;i.toJS=function(b){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return a(b,function(a){for(var b=0;i.isObservable(a)&&b<f;b++)a=a();return a})};i.toJSON=function(b,c,d){var a=i.toJS(b);return i.utils.stringifyJson(a,c,d)};function a(f,k,h){h=h||new g;f=k(f);var l=typeof f==d&&f!==j&&f!==c&&!(f instanceof Date);if(!l)return f;var i=f instanceof Array?[]:{};h.save(f,i);e(f,function(g){var e=k(f[g]);switch(typeof e){case"boolean":case o:case m:case b:i[g]=e;break;case d:case n:var j=h.get(e);i[g]=j!==c?j:a(e,k,h)}});return i}function e(a,c){if(a instanceof Array){for(var d=0;d<a.length;d++)c(d);typeof a.toJSON==b&&c("toJSON")}else for(var e in a)c(e)}function g(){var b=[],a=[];this.save=function(e,d){var c=i.utils.arrayIndexOf(b,e);if(c>=0)a[c]=d;else{b.push(e);a.push(d)}};this.get=function(e){var d=i.utils.arrayIndexOf(b,e);return d>=0?a[d]:c}}})();i.exportSymbol("toJS",i.toJS);i.exportSymbol("toJSON",i.toJSON);(function(){var b="__ko__hasDomDataOptionValue__";i.selectExtensions={readValue:function(d){switch(i.utils.tagNameLower(d)){case p:return d[b]===a?i.utils.domData.get(d,i.bindingHandlers.options.optionValueDomDataKey):d.getAttribute(s);case u:return d.selectedIndex>=0?i.selectExtensions.readValue(d.options[d.selectedIndex]):c;default:return d.value}},writeValue:function(d,e){switch(i.utils.tagNameLower(d)){case p:switch(typeof e){case m:i.utils.domData.set(d,i.bindingHandlers.options.optionValueDomDataKey,c);if(b in d)delete d[b];d.value=e;break;default:i.utils.domData.set(d,i.bindingHandlers.options.optionValueDomDataKey,e);d[b]=a;d.value=typeof e===o?e:l}break;case u:for(var f=d.options.length-1;f>=0;f--)if(i.selectExtensions.readValue(d.options[f])==e){d.selectedIndex=f;break}break;default:if(e===j||e===c)e=l;d.value=e}}}})();i.exportSymbol("selectExtensions",i.selectExtensions);i.exportSymbol("selectExtensions.readValue",i.selectExtensions.readValue);i.exportSymbol("selectExtensions.writeValue",i.selectExtensions.writeValue);i.jsonExpressionRewriting=function(){var d=/\@ko_token_(\d+)\@/g,c=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,e=["true","false"];function b(a,c){var b=j;while(a!=b){b=a;a=a.replace(d,function(b,a){return c[a]})}return a}function f(a){return i.utils.arrayIndexOf(e,i.utils.stringTrim(a).toLowerCase())>=0?k:a.match(c)!==j}function g(b){var a=i.utils.stringTrim(b);switch(a.length&&a.charAt(0)){case"'":case'"':return b;default:return"'"+a+"'"}}return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var f="@ko_token_",a=i.utils.stringTrim(t);if(a.length<3)return[];if(a.charAt(0)==="{")a=a.substring(1,a.length-1);for(var h=[],d=j,g,c=0;c<a.length;c++){var e=a.charAt(c);if(d===j)switch(e){case'"':case"'":case"/":d=c;g=e}else if(e==g&&a.charAt(c-1)!=="\\"){var o=a.substring(d,c+1);h.push(o);var m=f+(h.length-1)+"@";a=a.substring(0,d)+m+a.substring(c+1);c-=o.length-m.length;d=j}}d=j;g=j;for(var p=0,l=j,c=0;c<a.length;c++){var e=a.charAt(c);if(d===j)switch(e){case"{":d=c;l=e;g="}";break;case"(":d=c;l=e;g=")";break;case"[":d=c;l=e;g="]"}if(e===l)p++;else if(e===g){p--;if(p===0){var o=a.substring(d,c+1);h.push(o);var m=f+(h.length-1)+"@";a=a.substring(0,d)+m+a.substring(c+1);c-=o.length-m.length;d=j}}}for(var q=[],s=a.split(","),r=0,w=s.length;r<w;r++){var k=s[r],n=k.indexOf(":");if(n>0&&n<k.length-1){var v=k.substring(0,n),u=k.substring(n+1);q.push({key:b(v,h),value:b(u,h)})}else q.push({unknown:b(k,h)})}return q},insertPropertyAccessorsIntoJson:function(d){for(var o=typeof d===m?i.jsonExpressionRewriting.parseObjectLiteral(d):d,a=[],c=[],b,k=0;b=o[k];k++){a.length>0&&a.push(",");if(b.key){var j=g(b.key),h=b.value;a.push(j);a.push(":");a.push(h);if(f(i.utils.stringTrim(h))){c.length>0&&c.push(", ");c.push(j+" : function(__ko_value) { "+h+" = __ko_value; }")}}else b.unknown&&a.push(b.unknown)}var e=a.join(l);if(c.length>0){var n=c.join(l);e=e+", '_ko_property_writers' : { "+n+" } "}return e},keyValueArrayContainsKey:function(c,d){for(var b=0;b<c.length;b++)if(i.utils.stringTrim(c[b].key)==d)return a;return k},writeValueToProperty:function(a,e,d,c,f){if(!a||!i.isWriteableObservable(a)){var b=e()._ko_property_writers;b&&b[d]&&b[d](c)}else(!f||a()!==c)&&a(c)}}}();i.exportSymbol("jsonExpressionRewriting",i.jsonExpressionRewriting);i.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",i.jsonExpressionRewriting.bindingRewriteValidators);i.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",i.jsonExpressionRewriting.parseObjectLiteral);i.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){var c=e.createComment("test").text==="<!--test-->",l=c?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,m=c?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:a,ol:a};function b(a){return a.nodeType==8&&(c?a.text:a.nodeValue).match(l)}function d(a){return a.nodeType==8&&(c?a.text:a.nodeValue).match(m)}function g(e,g){var a=e,c=1,f=[];while(a=a.nextSibling){if(d(a)){c--;if(c===0)return f}f.push(a);if(b(a))c++}if(!g)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return j}function f(b,c){var a=g(b,c);return a?a.length>0?a[a.length-1].nextSibling:b.nextSibling:j}function k(h){var c=h.firstChild,e=j;if(c)do if(e)e.push(c);else if(b(c)){var g=f(c,a);if(g)c=g;else e=[c]}else if(d(c))e=[c];while(c=c.nextSibling);return e}i.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?g(a):a.childNodes},emptyNode:function(a){if(!b(a))i.utils.emptyDomNode(a);else for(var d=i.virtualElements.childNodes(a),c=0,e=d.length;c<e;c++)i.removeNode(d[c])},setDomNodeChildren:function(a,c){if(!b(a))i.utils.setDomNodeChildren(a,c);else{i.virtualElements.emptyNode(a);for(var e=a.nextSibling,d=0,f=c.length;d<f;d++)e.parentNode.insertBefore(c[d],e)}},prepend:function(a,c){if(!b(a))if(a.firstChild)a.insertBefore(c,a.firstChild);else a.appendChild(c);else a.parentNode.insertBefore(c,a.nextSibling)},insertAfter:function(a,d,c){if(!b(a))if(c.nextSibling)a.insertBefore(d,c.nextSibling);else a.appendChild(d);else a.parentNode.insertBefore(d,c.nextSibling)},firstChild:function(a){return!b(a)?a.firstChild:!a.nextSibling||d(a.nextSibling)?j:a.nextSibling},nextSibling:function(a){if(b(a))a=f(a);return a.nextSibling&&d(a.nextSibling)?j:a.nextSibling},virtualNodeBindingValue:function(c){var a=b(c);return a?a[1]:j},normaliseVirtualElementDomStructure:function(b){if(!h[i.utils.tagNameLower(b)])return;var a=b.firstChild;if(a)do if(a.nodeType===1){var c=k(a);if(c)for(var e=a.nextSibling,d=0;d<c.length;d++)if(e)b.insertBefore(c[d],e);else b.appendChild(c[d])}while(a=a.nextSibling)}}})();i.exportSymbol("virtualElements",i.virtualElements);i.exportSymbol("virtualElements.allowedBindings",i.virtualElements.allowedBindings);i.exportSymbol("virtualElements.emptyNode",i.virtualElements.emptyNode);i.exportSymbol("virtualElements.insertAfter",i.virtualElements.insertAfter);i.exportSymbol("virtualElements.prepend",i.virtualElements.prepend);i.exportSymbol("virtualElements.setDomNodeChildren",i.virtualElements.setDomNodeChildren);(function(){var a="data-bind";i.bindingProvider=function(){this.bindingCache={}};i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute(a)!=j;case 8:return i.virtualElements.virtualNodeBindingValue(b)!=j;default:return k}},getBindings:function(c,a){var b=this.getBindingsString(c,a);return b?this.parseBindingsString(b,a):j},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(a);case 8:return i.virtualElements.virtualNodeBindingValue(b);default:return j}},parseBindingsString:function(e,a){try{var c=a.$data,f=typeof c==d&&c!=j?[c,a]:[a],g=b(e,f.length,this.bindingCache);return g(f)}catch(h){throw new Error("Unable to parse bindings.\nMessage: "+h+";\nBindings value: "+e);}}});i.bindingProvider.instance=new i.bindingProvider;function b(a,b,e){var d=b+"_"+a;return e[d]||(e[d]=c(a,b))}function c(b,c){var a=" { "+i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(b)+" } ";return i.utils.buildEvalWithinScopeFunction(a,c)}})();i.exportSymbol("bindingProvider",i.bindingProvider);(function(){i.bindingHandlers={};i.bindingContext=function(c,b){var a=this;if(b){i.utils.extend(a,b);a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent)}else{a.$parents=[];a.$root=c}a.$data=c};i.bindingContext.prototype.createChildContext=function(a){return new i.bindingContext(a,this)};i.bindingContext.prototype.extend=function(a){var b=i.utils.extend(new i.bindingContext,this);return i.utils.extend(b,a)};function k(a){var b=i.virtualElements.allowedBindings[a];if(!b)throw new Error("The binding '"+a+"' cannot be used with virtual elements");}function e(f,e,c){var a,b=i.virtualElements.firstChild(e);while(a=b){b=i.virtualElements.nextSibling(a);d(f,a,c)}}function d(g,b,d){var f=a,c=b.nodeType===1;c&&i.virtualElements.normaliseVirtualElementDomStructure(b);var k=c&&d||i.bindingProvider.instance.nodeHasBindings(b);if(k)f=h(b,j,g,d).shouldBindDescendants;f&&e(g,b,!c)}function h(d,h,f,n){var g=0,a;function m(b){return function(){return a[b]}}function l(){return a}var e;i.dependentObservable(function(){var p=f&&f instanceof i.bindingContext?f:new i.bindingContext(i.utils.unwrapObservable(f)),r=p.$data;n&&i.storedBindingContextForNode(d,p);var s=typeof h==b?h():h;a=s||i.bindingProvider.instance.getBindings(d,p);if(a){if(g===0){g=1;for(var j in a){var o=i.bindingHandlers[j];o&&d.nodeType===8&&k(j);if(o&&typeof o.init==b){var u=o.init,q=u(d,m(j),l,r,p);if(q&&q.controlsDescendantBindings){if(e!==c)throw new Error("Multiple bindings ("+e+" and "+j+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");e=j}}}g=2}if(g===2)for(var j in a){var o=i.bindingHandlers[j];if(o&&typeof o.update==b){var t=o.update;t(d,m(j),l,r,p)}}}},j,{disposeWhenNodeIsRemoved:d});return{shouldBindDescendants:e===c}}var g="__ko_bindingContext__";i.storedBindingContextForNode=function(a,b){if(arguments.length==2)i.utils.domData.set(a,g,b);else return i.utils.domData.get(a,g)};i.applyBindingsToNode=function(b,d,c){b.nodeType===1&&i.virtualElements.normaliseVirtualElementDomStructure(b);return h(b,d,c,a)};i.applyBindingsToDescendants=function(c,b){(b.nodeType===1||b.nodeType===8)&&e(c,b,a)};i.applyBindings=function(c,b){if(b&&b.nodeType!==1&&b.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||f.document.body;d(c,b,a)};i.contextFor=function(a){switch(a.nodeType){case 1:case 8:var b=i.storedBindingContextForNode(a);if(b)return b;if(a.parentNode)return i.contextFor(a.parentNode)}return c};i.dataFor=function(b){var a=i.contextFor(b);return a?a.$data:c};i.exportSymbol("bindingHandlers",i.bindingHandlers);i.exportSymbol("applyBindings",i.applyBindings);i.exportSymbol("applyBindingsToDescendants",i.applyBindingsToDescendants);i.exportSymbol("applyBindingsToNode",i.applyBindingsToNode);i.exportSymbol("contextFor",i.contextFor);i.exportSymbol("dataFor",i.dataFor)})();var M=[x];i.utils.arrayForEach(M,function(a){i.bindingHandlers[a]={init:function(f,d,b,e){var c=function(){var b={};b[a]=d();return b};return i.bindingHandlers.event.init.call(this,f,c,b,e)}}});i.bindingHandlers.event={init:function(g,b,e,c){var f=b()||{};for(var d in f)(function(){var f=d;typeof f==m&&i.utils.registerEventHandler(g,f,function(d){var g,h=b()[f];if(!h)return;var l=e();try{var j=i.utils.makeArray(arguments);j.unshift(c);g=h.apply(c,j)}finally{if(g!==a)if(d.preventDefault)d.preventDefault();else d.returnValue=k}var m=l[f+"Bubble"]!==k;if(!m){d.cancelBubble=a;d.stopPropagation&&d.stopPropagation()}})})()}};i.bindingHandlers.submit={init:function(d,c,f,e){if(typeof c()!=b)throw new Error("The value for a submit binding must be a function");i.utils.registerEventHandler(d,"submit",function(b){var f,g=c();try{f=g.call(e,d)}finally{if(f!==a)if(b.preventDefault)b.preventDefault();else b.returnValue=k}})}};i.bindingHandlers.visible={update:function(a,d){var c=i.utils.unwrapObservable(d()),b=!(a.style.display==A);if(c&&!b)a.style.display=l;else if(!c&&b)a.style.display=A}};i.bindingHandlers.enable={update:function(b,d){var c=i.utils.unwrapObservable(d());if(c&&b.disabled)b.removeAttribute("disabled");else if(!c&&!b.disabled)b.disabled=a}};i.bindingHandlers.disable={update:function(b,a){i.bindingHandlers.enable.update(b,function(){return!i.utils.unwrapObservable(a())})}};function H(a,b,c){if(c)b!==i.selectExtensions.readValue(a)&&i.selectExtensions.writeValue(a,b);b!==i.selectExtensions.readValue(a)&&i.utils.triggerEvent(a,z)}i.bindingHandlers.value={init:function(b,l,h){var c="propertychange",e=[z],d=h().valueUpdate;if(d){if(typeof d==m)d=[d];i.utils.arrayPushAll(e,d);e=i.utils.arrayGetDistinctValues(e)}var g=function(){var d=l(),c=i.selectExtensions.readValue(b);i.jsonExpressionRewriting.writeValueToProperty(d,h,s,c,a)},j=i.utils.ieVersion&&b.tagName.toLowerCase()==r&&b.type=="text"&&b.autocomplete!="off"&&(!b.form||b.form.autocomplete!="off");if(j&&i.utils.arrayIndexOf(e,c)==-1){var f=k;i.utils.registerEventHandler(b,c,function(){f=a});i.utils.registerEventHandler(b,"blur",function(){if(f){f=k;g()}})}i.utils.arrayForEach(e,function(a){var c=g;if(i.utils.stringStartsWith(a,"after")){c=function(){setTimeout(g,0)};a=a.substring("after".length)}i.utils.registerEventHandler(b,a,c)})},update:function(b,j){var e=i.utils.tagNameLower(b)===u,c=i.utils.unwrapObservable(j()),d=i.selectExtensions.readValue(b),g=c!=d;if(c===0&&d!==0&&d!=="0")g=a;if(g){var f=function(){i.selectExtensions.writeValue(b,c)};f();var h=e;h&&setTimeout(f,0)}e&&b.length>0&&H(b,c,k)}};i.bindingHandlers.options={update:function(d,B,z){if(i.utils.tagNameLower(d)!==u)throw new Error("options binding applies only to SELECT elements");var w=d.length==0,y=i.utils.arrayMap(i.utils.arrayFilter(d.childNodes,function(a){return a.tagName&&i.utils.tagNameLower(a)===p&&a.selected}),function(a){return i.selectExtensions.readValue(a)||a.innerText||a.textContent}),A=d.scrollTop,g=i.utils.unwrapObservable(B()),C=d.value;while(d.length>0){i.cleanNode(d.options[0]);d.remove(0)}if(g){var h=z();if(typeof g.length!=o)g=[g];if(h.optionsCaption){var n=e.createElement(p);i.utils.setHtml(n,h.optionsCaption);i.selectExtensions.writeValue(n,c);d.appendChild(n)}for(var f=0,v=g.length;f<v;f++){var n=e.createElement(p),r=typeof h.optionsValue==m?g[f][h.optionsValue]:g[f];r=i.utils.unwrapObservable(r);i.selectExtensions.writeValue(n,r);var q=h.optionsText,k;if(typeof q==b)k=q(g[f]);else if(typeof q==m)k=g[f][q];else k=r;if(k===j||k===c)k=l;i.utils.setTextContent(n,k);d.appendChild(n)}for(var t=d.getElementsByTagName(p),x=0,f=0,v=t.length;f<v;f++)if(i.utils.arrayIndexOf(y,i.selectExtensions.readValue(t[f]))>=0){i.utils.setOptionNodeSelectionState(t[f],a);x++}d.scrollTop=A;w&&s in h&&H(d,i.utils.unwrapObservable(h.value),a);i.utils.ensureSelectElementIsRenderedCorrectly(d)}}};i.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";i.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(g){for(var a=[],e=g.childNodes,c=0,h=e.length;c<h;c++){var b=e[c],d=i.utils.tagNameLower(b);if(d==p&&b.selected)a.push(i.selectExtensions.readValue(b));else if(d=="optgroup"){var f=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(b);Array.prototype.splice.apply(a,[a.length,0].concat(f))}}return a},init:function(c,b,a){i.utils.registerEventHandler(c,z,function(){var d=b(),c=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);i.jsonExpressionRewriting.writeValueToProperty(d,a,s,c)})},update:function(d,f){if(i.utils.tagNameLower(d)!=u)throw new Error("values binding applies only to SELECT elements");var a=i.utils.unwrapObservable(f());if(a&&typeof a.length==o)for(var e=d.childNodes,c=0,g=e.length;c<g;c++){var b=e[c];i.utils.tagNameLower(b)===p&&i.utils.setOptionNodeSelectionState(b,i.utils.arrayIndexOf(a,i.selectExtensions.readValue(b))>=0)}}};i.bindingHandlers.text={update:function(b,a){i.utils.setTextContent(b,a())}};i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:a}},update:function(b,a){var c=i.utils.unwrapObservable(a());i.utils.setHtml(b,c)}};i.bindingHandlers.css={update:function(e,d){var b=i.utils.unwrapObservable(d()||{});for(var a in b)if(typeof a==m){var c=i.utils.unwrapObservable(b[a]);i.utils.toggleDomNodeCssClass(e,a,c)}}};i.bindingHandlers.style={update:function(e,c){var b=i.utils.unwrapObservable(c()||{});for(var a in b)if(typeof a==m){var d=i.utils.unwrapObservable(b[a]);e.style[a]=d||l}}};i.bindingHandlers.uniqueName={init:function(a,b){if(b()){a.name="ko_unique_"+ ++i.bindingHandlers.uniqueName.currentIndex;(i.utils.isIe6||i.utils.isIe7)&&a.mergeAttributes(e.createElement("<input name='"+a.name+"'/>"),k)}}};i.bindingHandlers.uniqueName.currentIndex=0;i.bindingHandlers.checked={init:function(b,e,c){var d=function(){var g;if(b.type==v)g=b.checked;else if(b.type==w&&b.checked)g=b.value;else return;var d=e();if(b.type==v&&i.utils.unwrapObservable(d)instanceof Array){var f=i.utils.arrayIndexOf(i.utils.unwrapObservable(d),b.value);if(b.checked&&f<0)d.push(b.value);else!b.checked&&f>=0&&d.splice(f,1)}else i.jsonExpressionRewriting.writeValueToProperty(d,c,"checked",g,a)};i.utils.registerEventHandler(b,x,d);b.type==w&&!b.name&&i.bindingHandlers.uniqueName.init(b,function(){return a})},update:function(a,c){var b=i.utils.unwrapObservable(c());if(a.type==v)if(b instanceof Array)a.checked=i.utils.arrayIndexOf(b,a.value)>=0;else a.checked=b;else if(a.type==w)a.checked=a.value==b}};var I={"class":"className","for":"htmlFor"};i.bindingHandlers.attr={update:function(d,g){var f=i.utils.unwrapObservable(g())||{};for(var a in f)if(typeof a==m){var b=i.utils.unwrapObservable(f[a]),e=b===k||b===j||b===c;e&&d.removeAttribute(a);if(i.utils.ieVersion<=8&&a in I){a=I[a];if(e)d.removeAttribute(a);else d[a]=b}else!e&&d.setAttribute(a,b.toString())}}};i.bindingHandlers.hasfocus={init:function(c,e,d){var b=function(b){var c=e();i.jsonExpressionRewriting.writeValueToProperty(c,d,"hasfocus",b,a)};i.utils.registerEventHandler(c,"focus",function(){b(a)});i.utils.registerEventHandler(c,"focusin",function(){b(a)});i.utils.registerEventHandler(c,"blur",function(){b(k)});i.utils.registerEventHandler(c,F,function(){b(k)})},update:function(a,c){var b=i.utils.unwrapObservable(c());b?a.focus():a.blur();i.utils.triggerEvent(a,b?"focusin":F)}};i.bindingHandlers[y]={makeTemplateValueAccessor:function(a){return function(){var b=a();return{"if":b,data:b,templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers[y].makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers[y].makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators[y]=k;i.virtualElements.allowedBindings[y]=a;i.bindingHandlers[q]={makeTemplateValueAccessor:function(a){return function(){return{"if":a(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers[q].makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers[q].makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators[q]=k;i.virtualElements.allowedBindings[q]=a;i.bindingHandlers.ifnot={makeTemplateValueAccessor:function(a){return function(){return{ifnot:a(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers.ifnot.makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers.ifnot.makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators.ifnot=k;i.virtualElements.allowedBindings.ifnot=a;i.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var b=i.utils.unwrapObservable(a());return!b||typeof b.length==o?{foreach:b,templateEngine:i.nativeTemplateEngine.instance}:{foreach:b.data,includeDestroyed:b.includeDestroyed,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,afterRender:b.afterRender,templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers.foreach.makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators.foreach=k;i.virtualElements.allowedBindings.foreach=a;i.templateEngine=function(){};i.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource");};i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock");};i.templateEngine.prototype.makeTemplateSource=function(a,b){if(typeof a==m){b=b||e;var c=b.getElementById(a);if(!c)throw new Error("Cannot find template with ID "+a);return new i.templateSources.domElement(c)}else if(a.nodeType==1||a.nodeType==8)return new i.templateSources.anonymousTemplate(a);else throw new Error("Unknown template type: "+a);};i.templateEngine.prototype.renderTemplate=function(d,b,e,a){var c=this.makeTemplateSource(d,a);return this.renderTemplateSource(c,b,e)};i.templateEngine.prototype.isTemplateRewritten=function(d,c){var b=this;if(b.allowTemplateRewriting===k)return a;var f=c&&c!=e;return!f&&b.knownRewrittenTemplates&&b.knownRewrittenTemplates[d]?a:b.makeTemplateSource(d,c).data(G)};i.templateEngine.prototype.rewriteTemplate=function(f,h,c){var b=this,d=b.makeTemplateSource(f,c),i=h(d.text());d.text(i);d.data(G,a);var g=c&&c!=e;if(!g&&typeof f==m){b.knownRewrittenTemplates=b.knownRewrittenTemplates||{};b.knownRewrittenTemplates[f]=a}};i.exportSymbol("templateEngine",i.templateEngine);i.templateRewriting=function(){var d=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,c=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function e(c){for(var g=i.jsonExpressionRewriting.bindingRewriteValidators,a=0;a<c.length;a++){var e=c[a].key;if(g.hasOwnProperty(e)){var d=g[e];if(typeof d===b){var f=d(c[a].value);if(f)throw new Error(f);}else if(!d)throw new Error("This template engine does not support the '"+e+"' binding within its templates");}}}function a(d,g,f){var a=i.jsonExpressionRewriting.parseObjectLiteral(d);e(a);var c=i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(a),b="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+c+" } })()         })";return f.createJavaScriptEvaluatorBlock(b)+g}return{ensureTemplateIsRewritten:function(c,a,b){!a.isTemplateRewritten(c,b)&&a.rewriteTemplate(c,function(b){return i.templateRewriting.memoizeBindingAttributeSyntax(b,a)},b)},memoizeBindingAttributeSyntax:function(e,b){return e.replace(d,function(){return a(arguments[6],arguments[1],b)}).replace(c,function(){return a(arguments[1],"<!-- ko -->",b)})},applyMemoizedBindingsToNextSibling:function(a){return i.memoization.memoize(function(b,c){b.nextSibling&&i.applyBindingsToNode(b.nextSibling,a,c)})}}}();i.exportSymbol("templateRewriting",i.templateRewriting);i.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",i.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){i.templateSources={};i.templateSources.domElement=function(a){this.domElement=a};i.templateSources.domElement.prototype.text=function(){var a="innerHTML",b=this,d=i.utils.tagNameLower(b.domElement),c=d==="script"?"text":d===B?s:a;if(arguments.length==0)return b.domElement[c];else{var e=arguments[0];if(c===a)i.utils.setHtml(b.domElement,e);else b.domElement[c]=e}};i.templateSources.domElement.prototype.data=function(b){var a="templateSourceData_";if(arguments.length===1)return i.utils.domData.get(this.domElement,a+b);else i.utils.domData.set(this.domElement,a+b,arguments[1])};var a="__ko_anon_template__";i.templateSources.anonymousTemplate=function(a){this.domElement=a};i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement;i.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var b=i.utils.domData.get(this.domElement,a)||{};if(b.textData===c&&b.containerData)b.textData=b.containerData.innerHTML;return b.textData}else{var d=arguments[0];i.utils.domData.set(this.domElement,a,{textData:d})}};i.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var b=i.utils.domData.get(this.domElement,a)||{};return b.containerData}else{var c=arguments[0];i.utils.domData.set(this.domElement,a,{containerData:c})}};i.exportSymbol("templateSources",i.templateSources);i.exportSymbol("templateSources.domElement",i.templateSources.domElement);i.exportSymbol("templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)})();(function(){var f="ignoreTargetNode",e="replaceNode",g="replaceChildren",l;i.setTemplateEngine=function(a){if(a!=c&&!(a instanceof i.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");l=a};function p(d,e,f){var a,b=d,c=i.virtualElements.nextSibling(e);while(b&&(a=b)!==c){b=i.virtualElements.nextSibling(a);(a.nodeType===1||a.nodeType===8)&&f(a)}}function r(a,b){if(a.length){var c=a[0],d=a[a.length-1];p(c,d,function(a){i.applyBindings(b,a)});p(c,d,function(a){i.memoization.unmemoizeDomNodeAndDescendants(a,[b])})}}function h(a){return a.nodeType?a:a.length>0?a[0]:j}function t(d,s,t,m,c){c=c||{};var q=d&&h(d),p=q&&q.ownerDocument,n=c.templateEngine||l;i.templateRewriting.ensureTemplateIsRewritten(t,n,p);var b=n.renderTemplate(t,m,c,p);if(typeof b.length!=o||b.length>0&&typeof b[0].nodeType!=o)throw new Error("Template engine must return an array of DOM nodes");var j=k;switch(s){case g:i.virtualElements.setDomNodeChildren(d,b);j=a;break;case e:i.utils.replaceDomNodes(d,b);j=a;break;case f:break;default:throw new Error("Unknown renderMode: "+s);}if(j){r(b,m);c.afterRender&&c.afterRender(b,m.$data)}return b}i.renderTemplate=function(n,f,m,d,k){m=m||{};if((m.templateEngine||l)==c)throw new Error("Set a template engine before calling renderTemplate");k=k||g;if(d){var a=h(d),p=function(){return!a||!i.utils.domNodeIsAttachedToDocument(a)},o=a&&k==e?a.parentNode:a;return i.dependentObservable(function(){var c=f&&f instanceof i.bindingContext?f:new i.bindingContext(i.utils.unwrapObservable(f)),j=typeof n==b?n(c.$data):n,g=t(d,k,j,c,m);if(k==e){d=g;a=h(d)}},j,{disposeWhen:p,disposeWhenNodeIsRemoved:o})}else return i.memoization.memoize(function(a){i.renderTemplate(n,f,m,a,e)})};i.renderTemplateForEach=function(e,l,a,g,m){var d,h=function(c,h){var g=typeof e==b?e(c):e;d=m.createChildContext(i.utils.unwrapObservable(c));d.$index=h;return t(j,f,g,d,a)},k=function(c,b){r(b,d);a.afterRender&&a.afterRender(b,c)};return i.dependentObservable(function(){var b=i.utils.unwrapObservable(l)||[];if(typeof b.length==n)b=[b];var d=i.utils.arrayFilter(b,function(b){return a.includeDestroyed||b===c||b===j||!i.utils.unwrapObservable(b._destroy)});i.utils.setDomNodeChildrenFromArrayMapping(g,d,h,a,k)},j,{disposeWhenNodeIsRemoved:g})};var s="__ko__templateSubscriptionDomDataKey__";function u(c,d){var a=i.utils.domData.get(c,s);a&&typeof a.dispose==b&&a.dispose();i.utils.domData.set(c,s,d)}i.bindingHandlers.template={init:function(b,e){var c=i.utils.unwrapObservable(e());if(typeof c!=m&&!c.name&&(b.nodeType==1||b.nodeType==8)){var d=b.nodeType==1?b.childNodes:i.virtualElements.childNodes(b),f=i.utils.moveCleanedNodesToContainerElement(d);(new i.templateSources.anonymousTemplate(b)).nodes(f)}return{controlsDescendantBindings:a}},update:function(e,l,o,p,h){var b=i.utils.unwrapObservable(l()),f,c=a;if(typeof b==m)f=b;else{f=b.name;if(q in b)c=c&&i.utils.unwrapObservable(b[q]);if("ifnot"in b)c=c&&!i.utils.unwrapObservable(b.ifnot)}var g=j;if(typeof b===d&&"foreach"in b){var n=c&&b.foreach||[];g=i.renderTemplateForEach(f||e,n,b,e,h)}else if(c){var k=typeof b==d&&"data"in b?h.createChildContext(i.utils.unwrapObservable(b.data)):h;g=i.renderTemplate(f||e,k,b,e)}else i.virtualElements.emptyNode(e);u(e,g)}};i.jsonExpressionRewriting.bindingRewriteValidators.template=function(b){var a=i.jsonExpressionRewriting.parseObjectLiteral(b);return a.length==1&&a[0].unknown?j:i.jsonExpressionRewriting.keyValueArrayContainsKey(a,"name")?j:"This template engine does not support anonymous templates nested within its templates"};i.virtualElements.allowedBindings.template=a})();i.exportSymbol("setTemplateEngine",i.setTemplateEngine);i.exportSymbol("renderTemplate",i.renderTemplate);(function(){function b(h,g,f){for(var b=[],e=0;e<=g.length;e++)b[e]=[];for(var e=0,i=Math.min(h.length,f);e<=i;e++)b[0][e]=e;for(var e=1,i=Math.min(g.length,f);e<=i;e++)b[e][0]=e;for(var o=h.length,d,n=g.length,p,q,a=1;a<=o;a++){var k=Math.max(1,a-f),j=Math.min(n,a+f);for(d=k;d<=j;d++)if(h[a-1]===g[d-1])b[d][a]=b[d-1][a-1];else{var l=b[d-1][a]===c?Number.MAX_VALUE:b[d-1][a]+1,m=b[d][a-1]===c?Number.MAX_VALUE:b[d][a-1]+1;b[d][a]=Math.min(l,m)}}return b}function a(g,k,m){var a=k.length,b=m.length,i=[],d=g[b][a];if(d===c)return j;while(a>0||b>0){var l=g[b][a],f=b>0?g[b-1][a]:d+1,e=a>0?g[b][a-1]:d+1,h=b>0&&a>0?g[b-1][a-1]:d+1;if(f===c||f<l-1)f=d+1;if(e===c||e<l-1)e=d+1;if(h<l-1)h=d+1;if(f<=e&&f<h){i.push({status:"added",value:m[b-1]});b--}else if(e<f&&e<h){i.push({status:"deleted",value:k[a-1]});a--}else{i.push({status:D,value:k[a-1]});b--;a--}}return i.reverse()}i.utils.compareArrays=function(e,d,f){if(f===c)return i.utils.compareArrays(e,d,1)||i.utils.compareArrays(e,d,10)||i.utils.compareArrays(e,d,Number.MAX_VALUE);else{e=e||[];d=d||[];var g=b(e,d,f);return a(g,e,d)}}})();i.exportSymbol("utils.compareArrays",i.utils.compareArrays);(function(){function d(a){if(a.length>2){var b=a[0],d=a[a.length-1],c=[b];while(b!==d){b=b.nextSibling;if(!b)return;c.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(c))}}function e(f,g,c,b,h){var a=[],e=i.dependentObservable(function(){var e=g(c,h)||[];if(a.length>0){d(a);i.utils.replaceDomNodes(a,e);b&&b(c,e)}a.splice(0,a.length);i.utils.arrayPushAll(a,e)},j,{disposeWhenNodeIsRemoved:f,disposeWhen:function(){return a.length==0||!i.utils.domNodeIsAttachedToDocument(a[0])}});return{mappedNodes:a,dependentObservable:e}}var b="setDomNodeChildrenFromArrayMapping_lastMappingResult";i.utils.setDomNodeChildrenFromArrayMapping=function(m,A,I,n,v){A=A||[];n=n||{};for(var F=i.utils.domData.get(m,b)===c,o=i.utils.domData.get(m,b)||[],H=i.utils.arrayMap(o,function(a){return a.arrayEntry}),l=i.utils.compareArrays(H,A),w=[],h=0,g=[],s=0,r=[],p=j,f=0,J=l.length;f<J;f++)switch(l[f].status){case D:var q=o[h];q.indexObservable(s);s=w.push(q);if(q.domNodes.length>0)p=q.domNodes[q.domNodes.length-1];h++;break;case"deleted":o[h].dependentObservable.dispose();d(o[h].domNodes);i.utils.arrayForEach(o[h].domNodes,function(a){g.push({element:a,index:f,value:l[f].value});p=a});h++;break;case"added":var C=l[f].value,x=i.observable(s),E=e(m,I,C,v,x),t=E.mappedNodes;s=w.push({arrayEntry:l[f].value,domNodes:t,dependentObservable:E.dependentObservable,indexObservable:x});for(var y=0,G=t.length;y<G;y++){var u=t[y];r.push({element:u,index:f,value:l[f].value});if(p==j)i.virtualElements.prepend(m,u);else i.virtualElements.insertAfter(m,u,p);p=u}v&&v(C,t,x)}i.utils.arrayForEach(g,function(a){i.cleanNode(a.element)});var B=k;if(!F){if(n.afterAdd)for(var f=0;f<r.length;f++)n.afterAdd(r[f].element,r[f].index,r[f].value);if(n.beforeRemove){for(var f=0;f<g.length;f++)n.beforeRemove(g[f].element,g[f].index,g[f].value);B=a}}if(!B&&g.length)for(var f=0;f<g.length;f++){var z=g[f].element;z.parentNode&&z.parentNode.removeChild(z)}i.utils.domData.set(m,b,w)}})();i.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping);i.nativeTemplateEngine=function(){this.allowTemplateRewriting=k};i.nativeTemplateEngine.prototype=new i.templateEngine;i.nativeTemplateEngine.prototype.renderTemplateSource=function(b){var d=!(i.utils.ieVersion<9),e=d?b.nodes:j,c=e?b.nodes():j;if(c)return i.utils.makeArray(c.cloneNode(a).childNodes);else{var f=b.text();return i.utils.parseHtmlFragment(f)}};i.nativeTemplateEngine.instance=new i.nativeTemplateEngine;i.setTemplateEngine(i.nativeTemplateEngine.instance);i.exportSymbol("nativeTemplateEngine",i.nativeTemplateEngine);(function(){i.jqueryTmplTemplateEngine=function(){var a=this,b=a.jQueryTmplVersion=function(){if(typeof jQuery==n||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();function c(){if(b<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function d(b,c,a){return jQuery.tmpl(b,c,a)}a.renderTemplateSource=function(f,i,h){var a="precompiled";h=h||{};c();var b=f.data(a);if(!b){var g=f.text()||l;g="{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}";b=jQuery.template(j,g);f.data(a,b)}var n=[i.$data],m=jQuery.extend({koBindingContext:i},h.templateOptions),k=d(b,n,m);k.appendTo(e.createElement(t));jQuery.fragments={};return k};a.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};a.addTemplate=function(b,a){e.write("<script type='text/html' id='"+b+"'>"+a+"<\/script>")};if(b>0){jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"};jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "}}};i.jqueryTmplTemplateEngine.prototype=new i.templateEngine;var a=new i.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&i.setTemplateEngine(a);i.exportSymbol("jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)})()})})(window,document,navigator);(function(a){var c="knockout",b="function";if(typeof require===b&&typeof exports==="object"&&typeof module==="object")a(require(c),exports);else if(typeof define===b&&define.amd)define([c,"exports"],a);else a(ko,ko.mapping={})})(function(a,b){var e="undefined",h="object",d="array",c=true,D=c,f="__ko_mapping__",q=a.dependentObservable,r=0,k,n,v=["create","update","key","arrayChanged"],m={include:["_destroy"],ignore:[],copy:[]},g=m;function s(e,c){for(var a in c)if(c.hasOwnProperty(a)&&c[a])if(a&&e[a]&&!(b.getType(e[a])===d))s(e[a],c[a]);else e[a]=c[a]}function p(b,c){var a={};s(a,b);s(a,c);return a}b.isMapped=function(c){var b=a.utils.unwrapObservable(c);return b&&b[f]};b.fromJS=function(d){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){r=0},0);if(!r++){k=[];n=new y}var a,b;if(arguments.length==2)if(arguments[1][f])b=arguments[1];else a=arguments[1];if(arguments.length==3){a=arguments[1];b=arguments[2]}if(b)a=p(a,b[f]);a=t(a);var c=l(b,d,a);if(b)c=b;!--r&&window.setTimeout(function(){while(k.length){var a=k.pop();a&&a()}},0);c[f]=p(c[f],a);return c};b.fromJSON=function(c){var d=a.utils.parseJson(c);arguments[0]=d;return b.fromJS.apply(this,arguments)};b.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};b.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};b.toJS=function(e,c){!g&&b.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(b.getType(g.ignore)!==d)throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(b.getType(g.include)!==d)throw new Error("ko.mapping.defaultOptions().include should be an array.");if(b.getType(g.copy)!==d)throw new Error("ko.mapping.defaultOptions().copy should be an array.");c=t(c,e[f]);return b.visitModel(e,function(b){return a.utils.unwrapObservable(b)},c)};b.toJSON=function(d,e){var c=b.toJS(d,e);return a.utils.stringifyJson(c)};b.defaultOptions=function(){if(arguments.length>0)g=arguments[0];else return g};b.resetDefaultOptions=function(){g={include:m.include.slice(0),ignore:m.ignore.slice(0),copy:m.copy.slice(0)}};b.getType=function(a){if(a&&typeof a===h){if(a.constructor==(new Date).constructor)return"date";if(Object.prototype.toString.call(a)==="[object Array]")return d}return typeof a};function t(d,a){options=p({},d);for(var c=v.length-1;c>=0;c--){var b=v[c];if(!options[b])continue;if(!(options[""]instanceof Object))options[""]={};options[""][b]=options[b];delete options[b]}if(a){options.ignore=i(a.ignore,options.ignore);options.include=i(a.include,options.include);options.copy=i(a.copy,options.copy)}options.ignore=i(options.ignore,g.ignore);options.include=i(options.include,g.include);options.copy=i(options.copy,g.copy);options.mappedProperties=options.mappedProperties||{};return options}function i(c,f){if(b.getType(c)!==d)if(b.getType(c)===e)c=[];else c=[c];if(b.getType(f)!==d)if(b.getType(f)===e)f=[];else f=[f];return a.utils.arrayGetDistinctValues(c.concat(f))}function A(b,d){var e=a.dependentObservable;a.dependentObservable=function(f,j,d){d=d||{};if(f&&typeof f==h)d=f;var i=d.deferEvaluation,g=false,k=function(d){var e=q({read:function(){if(!g){a.utils.arrayRemoveItem(b,d);g=c}return d.apply(d,arguments)},write:d.hasWriteFunction&&function(a){return d(a)},deferEvaluation:c});if(D)e._wrapper=c;return e};d.deferEvaluation=c;var e=new q(f,j,d);if(!i){e=k(e);b.push(e)}return e};a.dependentObservable.fn=q.fn;a.computed=a.dependentObservable;var f=d();a.dependentObservable=e;a.computed=a.dependentObservable;return f}function l(e,g,h,m,W,z){var v="function",V=b.getType(a.utils.unwrapObservable(g))===d;z=z||"";if(b.isMapped(e)){var U=a.utils.unwrapObservable(e)[f];h=p(U,h)}var C={data:g,parent:W},B=function(){return h[m]&&h[m].create instanceof Function},J=function(a){return A(k,function(){return h[m].create({data:a||C.data,parent:C.parent})})},y=function(){return h[m]&&h[m].update instanceof Function},t=function(b,d){var c={data:d||C.data,parent:C.parent,target:a.utils.unwrapObservable(b)};if(a.isWriteableObservable(b))c.observable=b;return h[m].update(c)},P=n.get(g);if(P)return P;m=m||"";if(!V)if(!w(g))switch(b.getType(g)){case v:if(y())if(a.isWriteableObservable(g)){g(t(g));e=g}else e=t(g);else e=g;break;default:if(a.isWriteableObservable(e))if(y())e(t(e));else e(a.utils.unwrapObservable(g));else{if(B())e=J();else e=a.observable(a.utils.unwrapObservable(g));y()&&e(t(e))}}else{e=a.utils.unwrapObservable(e);if(!e)if(B()){var E=J();if(y())E=t(E);return E}else{if(y())return t(E);e={}}if(y())e=t(e);n.save(g,e);u(g,function(b){var d=z.length?z+"."+b:b;if(a.utils.arrayIndexOf(h.ignore,d)!=-1)return;if(a.utils.arrayIndexOf(h.copy,d)!=-1){e[b]=g[b];return}var i=n.get(g[b]),f=i||l(e[b],g[b],h,b,e,d);if(a.isWriteableObservable(e[b]))e[b](a.utils.unwrapObservable(f));else e[b]=f;h.mappedProperties[d]=c})}else{var S=[],O=false,i=function(a){return a};if(h[m]&&h[m].key){i=h[m].key;O=c}if(!a.isObservable(e)){e=a.observableArray([]);e.mappedRemove=function(a){var b=typeof a==v?a:function(b){return b===i(a)};return e.remove(function(a){return b(i(a))})};e.mappedRemoveAll=function(b){var c=j(b,i);return e.remove(function(b){return a.utils.arrayIndexOf(c,i(b))!=-1})};e.mappedDestroy=function(a){var b=typeof a==v?a:function(b){return b===i(a)};return e.destroy(function(a){return b(i(a))})};e.mappedDestroyAll=function(b){var c=j(b,i);return e.destroy(function(b){return a.utils.arrayIndexOf(c,i(b))!=-1})};e.mappedIndexOf=function(b){var c=j(e(),i),d=i(b);return a.utils.arrayIndexOf(c,d)};e.mappedCreate=function(c){if(e.mappedIndexOf(c)!==-1)throw new Error("There already is an object with the key that you specified.");var b=B()?J(c):c;if(y()){var d=t(b,c);if(a.isWriteableObservable(b))b(d);else b=d}e.push(b);return b}}var T=j(a.utils.unwrapObservable(e),i).sort(),Q=j(g,i);O&&Q.sort();var R=a.utils.compareArrays(T,Q),D={},r,H,I=a.utils.unwrapObservable(g),M={},K=c;for(r=0,H=I.length;r<H;r++){var q=i(I[r]);if(q===undefined||q instanceof Object){K=false;break}M[q]=I[r]}var L=[];for(r=0,H=R.length;r<H;r++){var q=R[r],s,N=z+"["+r+"]";switch(q.status){case"added":var G=K?M[q.value]:o(a.utils.unwrapObservable(g),q.value,i);s=l(undefined,G,h,m,e,N);if(!B())s=a.utils.unwrapObservable(s);var F=x(a.utils.unwrapObservable(g),G,D);L[F]=s;D[F]=c;break;case"retained":var G=K?M[q.value]:o(a.utils.unwrapObservable(g),q.value,i);s=o(e,q.value,i);l(s,G,h,m,e,N);var F=x(a.utils.unwrapObservable(g),G,D);L[F]=s;D[F]=c;break;case"deleted":s=o(e,q.value,i)}S.push({event:q.status,item:s})}e(L);h[m]&&h[m].arrayChanged&&a.utils.arrayForEach(S,function(a){h[m].arrayChanged(a.event,a.item)})}return e}function x(b,e,d){for(var a=0,f=b.length;a<f;a++){if(d[a]===c)continue;if(b[a]===e)return a}return null}function z(f,d){var c;if(d)c=d(f);if(b.getType(c)===e)c=f;return a.utils.unwrapObservable(c)}function o(b,e,f){b=a.utils.unwrapObservable(b);for(var c=0,g=b.length;c<g;c++){var d=b[c];if(z(d,f)===e)return d}throw new Error("When calling ko.update*, the key '"+e+"' was not found!");}function j(c,b){return a.utils.arrayMap(a.utils.unwrapObservable(c),function(a){return b?z(a,b):a})}function u(a,e){if(b.getType(a)===d)for(var c=0;c<a.length;c++)e(c);else for(var f in a)e(f)}function w(a){var c=b.getType(a);return(c===h||c===d)&&a!==null}function C(c,f,e){var a=c||"";if(b.getType(f)===d){if(c)a+="["+e+"]"}else{if(c)a+=".";a+=e}return a}b.visitModel=function(j,k,c){c=c||{};c.visitedObjects=c.visitedObjects||new y;var i,g=a.utils.unwrapObservable(j);if(!w(g))return k(j,c.parentName);else{c=t(c,g[f]);k(j,c.parentName);i=b.getType(g)===d?[]:{}}c.visitedObjects.save(j,i);var l=c.parentName;u(g,function(j){if(c.ignore&&a.utils.arrayIndexOf(c.ignore,j)!=-1)return;var m=g[j];c.parentName=C(l,g,j);if(a.utils.arrayIndexOf(c.copy,j)===-1)if(a.utils.arrayIndexOf(c.include,j)===-1)if(g[f]&&g[f].mappedProperties&&!g[f].mappedProperties[j]&&!(b.getType(g)===d))return;var o;switch(b.getType(a.utils.unwrapObservable(m))){case h:case d:case e:var n=c.visitedObjects.get(m);i[j]=b.getType(n)!==e?n:b.visitModel(m,k,c);break;default:i[j]=k(m,c.parentName)}});return i};function B(){var c=[],b=[];this.save=function(f,e){var d=a.utils.arrayIndexOf(c,f);if(d>=0)b[d]=e;else{c.push(f);b.push(e)}};this.get=function(f){var d=a.utils.arrayIndexOf(c,f),e=d>=0?b[d]:undefined;return e}}function y(){var b={},a=function(d){var a;try{a=JSON.stringify(d)}catch(e){a="$$$"}var c=b[a];if(c===undefined){c=new B;b[a]=c}return c};this.save=function(b,c){a(b).save(b,c)};this.get=function(b){return a(b).get(b)}}});ko.exportSymbol=function(d,e){for(var a=d.split("."),b=window,c=0;c<a.length-1;c++)b=b[a[c]];b[a[a.length-1]]=e};ko.exportProperty=function(c,a,b){c[a]=b};(function(){var a=true,b="undefined",e="object";ko.mapping={};var c="__ko_mapping__",i=ko.dependentObservable,p=0,n,l,k={include:["_destroy"],ignore:[],copy:[]},d=k;function q(c,b){for(var a in b)if(b.hasOwnProperty(a)&&b[a])if(c[a]&&!(c[a]instanceof Array))q(c[a],b[a]);else c[a]=b[a]}function s(b,c){var a={};q(a,b);q(a,c);return a}ko.mapping.isMapped=function(b){var a=ko.utils.unwrapObservable(b);return a&&a[c]};ko.mapping.fromJS=function(e){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){p=0},0);if(!p++){n=[];l=new v}var a,b;if(arguments.length==2)if(arguments[1][c])b=arguments[1];else a=arguments[1];if(arguments.length==3){a=arguments[1];b=arguments[2]}if(b)a=s(a,b[c]);a=r(a);var d=j(b,e,a);if(b)d=b;!--p&&window.setTimeout(function(){ko.utils.arrayForEach(n,function(a){a&&a()})},0);d[c]=s(d[c],a);return d};ko.mapping.fromJSON=function(a){var b=ko.utils.parseJson(a);arguments[0]=b;return ko.mapping.fromJS.apply(this,arguments)};ko.mapping.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};ko.mapping.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};ko.mapping.toJS=function(b,a){!d&&ko.mapping.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(!(d.ignore instanceof Array))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(!(d.include instanceof Array))throw new Error("ko.mapping.defaultOptions().include should be an array.");if(!(d.copy instanceof Array))throw new Error("ko.mapping.defaultOptions().copy should be an array.");a=r(a,b[c]);return ko.mapping.visitModel(b,function(a){return ko.utils.unwrapObservable(a)},a)};ko.mapping.toJSON=function(b,c){var a=ko.mapping.toJS(b,c);return ko.utils.stringifyJson(a)};ko.mapping.defaultOptions=function(){if(arguments.length>0)d=arguments[0];else return d};ko.mapping.resetDefaultOptions=function(){d={include:k.include.slice(0),ignore:k.ignore.slice(0),copy:k.copy.slice(0)}};function f(a){return a&&typeof a===e&&a.constructor==(new Date).constructor?"date":typeof a}function r(a,b){a=a||{};if(a.create instanceof Function||a.update instanceof Function||a.key instanceof Function||a.arrayChanged instanceof Function)a={"":a};if(b){a.ignore=g(b.ignore,a.ignore);a.include=g(b.include,a.include);a.copy=g(b.copy,a.copy)}a.ignore=g(a.ignore,d.ignore);a.include=g(a.include,d.include);a.copy=g(a.copy,d.copy);a.mappedProperties=a.mappedProperties||{};return a}function g(a,c){if(!(a instanceof Array))if(f(a)===b)a=[];else a=[a];if(!(c instanceof Array))if(f(c)===b)c=[];else c=[c];return a.concat(c)}function x(b,c){var d=ko.dependentObservable;ko.dependentObservable=function(f,j,c){c=c||{};var h=c.deferEvaluation;if(f&&typeof f==e)c=f;var g=false,k=function(c){var d=i({read:function(){if(!g){ko.utils.arrayRemoveItem(b,c);g=a}return c.apply(c,arguments)},write:function(a){return c(a)},deferEvaluation:a});d.__ko_proto__=i;return d};c.deferEvaluation=a;var d=new i(f,j,c);d.__ko_proto__=i;if(!h){b.push(d);d=k(d)}return d};var f=c();ko.dependentObservable=d;return f}function j(b,d,e,i,P,w){var p="function",O=ko.utils.unwrapObservable(d)instanceof Array;w=w||"";if(ko.mapping.isMapped(b)){var N=ko.utils.unwrapObservable(b)[c];e=s(N,e)}var y={data:d,parent:P},E=function(){return e[i]&&e[i].create instanceof Function},F=function(a){return x(n,function(){return e[i].create({data:a||y.data,parent:y.parent})})},q=function(){return e[i]&&e[i].update instanceof Function},k=function(a,c){var b={data:c||y.data,parent:y.parent,target:ko.utils.unwrapObservable(a)};if(ko.isWriteableObservable(a))b.observable=a;return e[i].update(b)};if(l.get(d))return b;i=i||"";if(!O)if(!o(d))switch(f(d)){case p:if(q())if(ko.isWriteableObservable(d)){d(k(d));b=d}else b=k(d);else b=d;break;default:if(ko.isWriteableObservable(b))if(q())b(k(b));else b(ko.utils.unwrapObservable(d));else{if(E())b=F();else b=ko.observable(ko.utils.unwrapObservable(d));q()&&b(k(b))}}else{b=ko.utils.unwrapObservable(b);if(!b)if(E()){var A=F();if(q())A=k(A);return A}else{if(q())return k(A);b={}}if(q())b=k(b);l.save(d,b);t(d,function(c){var f=w.length?w+"."+c:c;if(ko.utils.arrayIndexOf(e.ignore,f)!=-1)return;if(ko.utils.arrayIndexOf(e.copy,f)!=-1){b[c]=d[c];return}var h=l.get(d[c]),g=h||j(b[c],d[c],e,c,b,f);if(ko.isWriteableObservable(b[c]))b[c](ko.utils.unwrapObservable(g));else b[c]=g;e.mappedProperties[f]=a})}else{var L=[],I=false,g=function(a){return a};if(e[i]&&e[i].key){g=e[i].key;I=a}if(!ko.isObservable(b)){b=ko.observableArray([]);b.mappedRemove=function(a){var c=typeof a==p?a:function(b){return b===g(a)};return b.remove(function(a){return c(g(a))})};b.mappedRemoveAll=function(a){var c=h(a,g);return b.remove(function(a){return ko.utils.arrayIndexOf(c,g(a))!=-1})};b.mappedDestroy=function(a){var c=typeof a==p?a:function(b){return b===g(a)};return b.destroy(function(a){return c(g(a))})};b.mappedDestroyAll=function(a){var c=h(a,g);return b.destroy(function(a){return ko.utils.arrayIndexOf(c,g(a))!=-1})};b.mappedIndexOf=function(a){var c=h(b(),g),d=g(a);return ko.utils.arrayIndexOf(c,d)};b.mappedCreate=function(c){if(b.mappedIndexOf(c)!==-1)throw new Error("There already is an object with the key that you specified.");var a=E()?F(c):c;if(q()){var d=k(a,c);if(ko.isWriteableObservable(a))a(d);else a=d}b.push(a);return a}}var M=h(ko.utils.unwrapObservable(b),g).sort(),J=h(d,g);I&&J.sort();for(var K=ko.utils.compareArrays(M,J),z={},G=[],D=0,Q=K.length;D<Q;D++){var v=K[D],r,H=w+"["+D+"]";switch(v.status){case"added":var C=m(ko.utils.unwrapObservable(d),v.value,g);r=ko.utils.unwrapObservable(j(undefined,C,e,i,b,H));var B=u(ko.utils.unwrapObservable(d),C,z);G[B]=r;z[B]=a;break;case"retained":var C=m(ko.utils.unwrapObservable(d),v.value,g);r=m(b,v.value,g);j(r,C,e,i,b,H);var B=u(ko.utils.unwrapObservable(d),C,z);G[B]=r;z[B]=a;break;case"deleted":r=m(b,v.value,g)}L.push({event:v.status,item:r})}b(G);e[i]&&e[i].arrayChanged&&ko.utils.arrayForEach(L,function(a){e[i].arrayChanged(a.event,a.item)})}return b}function u(c,e,d){for(var b=0,f=c.length;b<f;b++){if(d[b]===a)continue;if(c[b]===e)return b}return null}function w(d,c){var a;if(c)a=c(d);if(f(a)===b)a=d;return ko.utils.unwrapObservable(a)}function m(e,c,d){var a="When calling ko.update*, the key '",b=ko.utils.arrayFilter(ko.utils.unwrapObservable(e),function(a){return w(a,d)===c});if(b.length==0)throw new Error(a+c+"' was not found!");if(b.length>1&&o(b[0]))throw new Error(a+c+"' was not unique!");return b[0]}function h(b,a){return ko.utils.arrayMap(ko.utils.unwrapObservable(b),function(b){return a?w(b,a):b})}function t(a,c){if(a instanceof Array)for(var b=0;b<a.length;b++)c(b);else for(var d in a)c(d)}function o(a){var c=f(a);return c===e&&a!==null&&c!==b}function y(b,d,c){var a=b||"";if(d instanceof Array){if(b)a+="["+c+"]"}else{if(b)a+=".";a+=c}return a}ko.mapping.visitModel=function(h,i,a){a=a||{};a.visitedObjects=a.visitedObjects||new v;if(!a.parentName)a=r(a);var g,d=ko.utils.unwrapObservable(h);if(!o(d))return i(h,a.parentName);else{i(h,a.parentName);g=d instanceof Array?[]:{}}a.visitedObjects.save(h,g);var j=a.parentName;t(d,function(h){if(a.ignore&&ko.utils.arrayIndexOf(a.ignore,h)!=-1)return;var k=d[h];a.parentName=y(j,d,h);if(ko.utils.arrayIndexOf(a.copy,h)===-1)if(ko.utils.arrayIndexOf(a.include,h)===-1)if(d[c]&&d[c].mappedProperties&&!d[c].mappedProperties[h]&&!(d instanceof Array))return;var m;switch(f(ko.utils.unwrapObservable(k))){case e:case b:var l=a.visitedObjects.get(k);g[h]=f(l)!==b?l:ko.mapping.visitModel(k,i,a);break;default:g[h]=i(k,a.parentName)}});return g};function v(){var b=[],a=[];this.save=function(e,d){var c=ko.utils.arrayIndexOf(b,e);if(c>=0)a[c]=d;else{b.push(e);a.push(d)}};this.get=function(d){var c=ko.utils.arrayIndexOf(b,d);return c>=0?a[c]:undefined}}ko.exportSymbol("ko.mapping",ko.mapping);ko.exportSymbol("ko.mapping.fromJS",ko.mapping.fromJS);ko.exportSymbol("ko.mapping.fromJSON",ko.mapping.fromJSON);ko.exportSymbol("ko.mapping.isMapped",ko.mapping.isMapped);ko.exportSymbol("ko.mapping.defaultOptions",ko.mapping.defaultOptions);ko.exportSymbol("ko.mapping.toJS",ko.mapping.toJS);ko.exportSymbol("ko.mapping.toJSON",ko.mapping.toJSON);ko.exportSymbol("ko.mapping.updateFromJS",ko.mapping.updateFromJS);ko.exportSymbol("ko.mapping.updateFromJSON",ko.mapping.updateFromJSON);ko.exportSymbol("ko.mapping.visitModel",ko.mapping.visitModel)})();window.Modernizr=function(h,c,k){var E="@media (",t="function",e="div",s="input",b="",i=null,g=" ";function N(){d.input=function(b){for(var a=0,c=b.length;a<c;a++)I[b[a]]=b[a]in f;return I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(g)),d.inputtypes=function(e){for(var d=0,a,b,g,h=e.length;d<h;d++)f.setAttribute("type",b=e[d]),a=f.type!=="text",a&&(f.value=w,f.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(b)&&f.style.WebkitAppearance!==k?(j.appendChild(f),g=c.defaultView,a=g.getComputedStyle&&g.getComputedStyle(f,i).WebkitAppearance!=="textfield"&&f.offsetHeight!==0,j.removeChild(f)):/^(search|tel)$/.test(b)||(/^(url|email)$/.test(b)?(a=f.checkValidity&&f.checkValidity()===!1):/^color$/.test(b)?(j.appendChild(f),j.offsetWidth,a=f.value!=w,j.removeChild(f)):(a=f.value!=w))),H[e[d]]=!!a;return H}("search tel url email datetime date month week time datetime-local number range color".split(g))}function l(a,c){var b=a.charAt(0).toUpperCase()+a.substr(1),d=(a+g+r.join(b+g)+b).split(g);return v(d,c)}function v(a,c){for(var b in a)if(m[a[b]]!==k)return c=="pfx"?a[b]:!0;return!1}function u(a,c){return!!~(b+a).indexOf(c)}function p(a,b){return typeof a===b}function K(a,c){return o(n.join(a+";")+(c||b))}function o(a){m.cssText=a}var L="2.0",d={},M=!0,j=c.documentElement,Q=c.head||c.getElementsByTagName("head")[0],q="modernizr",F=c.createElement(q),m=F.style,f=c.createElement(s),w=":)",G=Object.prototype.toString,n=" -webkit- -moz- -o- -ms- -khtml- ".split(g),r="Webkit Moz O ms Khtml".split(g),x={svg:"http://www.w3.org/2000/svg"},a={},H={},I={},J=[],C=function(g,l,d,h){var i,k,f,a=c.createElement(e);if(parseInt(d,10))while(d--)f=c.createElement(e),f.id=h?h[d]:q+(d+1),a.appendChild(f);i=["&shy;","<style>",g,"</style>"].join(b),a.id=q,a.innerHTML+=i,j.appendChild(a),k=l(a,g),a.parentNode.removeChild(a);return!!k},O=function(a){if(h.matchMedia)return matchMedia(a).matches;var b;C("@media "+a+" { #"+q+" { position: absolute; } }",function(a){b=(h.getComputedStyle?getComputedStyle(a,i):a.currentStyle).position=="absolute"});return b},y=function(){function d(f,d){d=d||c.createElement(a[f]||e),f="on"+f;var g=f in d;g||(d.setAttribute||(d=c.createElement(e)),d.setAttribute&&d.removeAttribute&&(d.setAttribute(f,b),g=p(d[f],t),p(d[f],k)||(d[f]=k),d.removeAttribute(f))),d=i;return g}var a={select:s,change:s,submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z,D={}.hasOwnProperty,A;!p(D,k)&&!p(D.call,k)?(A=function(a,b){return D.call(a,b)}):(A=function(a,b){return b in a&&p(a.constructor.prototype[b],k)});var P=function(f,e){var i=f.join(b),a=e.length;C(i,function(j,k){var e=c.styleSheets[c.styleSheets.length-1],f=e.cssText||e.cssRules[0].cssText,i=j.childNodes,b={};while(a--)b[i[a].id]=i[a];d.touch="ontouchstart"in h||b.touch.offsetTop===9,d.csstransforms3d=b.csstransforms3d.offsetLeft===9,d.generatedcontent=b.generatedcontent.offsetHeight>=1,d.fontface=/src/i.test(f)&&f.indexOf(k.split(g)[0])===0},a,e)}(['@font-face {font-family:"font";src:url("//:")}',[E,n.join("touch-enabled),("),q,")","{#touch{top:9px;position:absolute}}"].join(b),[E,n.join("transform-3d),("),q,")","{#csstransforms3d{left:9px;position:absolute}}"].join(b),['#generatedcontent:after{content:"',w,'"}'].join(b)],["fontface","touch","csstransforms3d","generatedcontent"]);a.flexbox=function(){function g(a,c,d,e){a.style.cssText=n.join(c+":"+d+";")+(e||b)}function f(c,a,d,e){a+=":",c.style.cssText=(a+n.join(d+";"+a)).slice(0,-a.length)+(e||b)}var a=c.createElement(e),d=c.createElement(e);f(a,"display","box","width:42px;padding:0;"),g(d,"box-flex","1","width:10px;"),a.appendChild(d),j.appendChild(a);var h=d.offsetWidth===42;a.removeChild(d),j.removeChild(a);return h},a.canvas=function(){var a=c.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},a.canvastext=function(){return!!d.canvas&&!!p(c.createElement("canvas").getContext("2d").fillText,t)},a.webgl=function(){return!!h.WebGLRenderingContext},a.touch=function(){return d.touch},a.geolocation=function(){return!!navigator.geolocation},a.postmessage=function(){return!!h.postMessage},a.websqldatabase=function(){return!!h.openDatabase},a.indexedDB=function(){for(var a=-1,b=r.length;++a<b;)if(h[r[a].toLowerCase()+"IndexedDB"])return!0;return!!h.indexedDB},a.hashchange=function(){return y("hashchange",h)&&(c.documentMode===k||c.documentMode>7)},a.history=function(){return!!h.history&&!!history.pushState},a.draganddrop=function(){return y("dragstart")&&y("drop")},a.websockets=function(){var a="WebSocket";for(var b=-1,c=r.length;++b<c;)if(h[r[b]+a])return!0;return a in h},a.rgba=function(){o("background-color:rgba(150,255,150,.5)");return u(m.backgroundColor,"rgba")},a.hsla=function(){o("background-color:hsla(120,40%,100%,.5)");return u(m.backgroundColor,"rgba")||u(m.backgroundColor,"hsla")},a.multiplebgs=function(){o("background:url(//:),url(//:),red url(//:)");return/(url\s*\(.*?){3}/.test(m.background)},a.backgroundsize=function(){return l("backgroundSize")},a.borderimage=function(){return l("borderImage")},a.borderradius=function(){return l("borderRadius")},a.boxshadow=function(){return l("boxShadow")},a.textshadow=function(){return c.createElement(e).style.textShadow===b},a.opacity=function(){K("opacity:.55");return/^0.55$/.test(m.opacity)},a.cssanimations=function(){return l("animationName")},a.csscolumns=function(){return l("columnCount")},a.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";o((a+n.join(b+a)+n.join(c+a)).slice(0,-a.length));return u(m.backgroundImage,"gradient")},a.cssreflections=function(){return l("boxReflect")},a.csstransforms=function(){return!!v(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},a.csstransforms3d=function(){var a=!!v(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in j.style&&(a=d.csstransforms3d);return a},a.csstransitions=function(){return l("transitionProperty")},a.fontface=function(){return d.fontface},a.generatedcontent=function(){return d.generatedcontent},a.video=function(){var b=c.createElement("video"),a=!1;try{if(a=!!b.canPlayType){a=new Boolean(a),a.ogg=b.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';a.h264=b.canPlayType(d+'"')||b.canPlayType(d+', mp4a.40.2"'),a.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return a},a.audio=function(){var b=c.createElement("audio"),a=!1;try{if(a=!!b.canPlayType)a=new Boolean(a),a.ogg=b.canPlayType('audio/ogg; codecs="vorbis"'),a.mp3=b.canPlayType("audio/mpeg;"),a.wav=b.canPlayType('audio/wav; codecs="1"'),a.m4a=b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")}catch(d){}return a},a.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}},a.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}},a.webworkers=function(){return!!h.Worker},a.applicationcache=function(){return!!h.applicationCache},a.svg=function(){return!!c.createElementNS&&!!c.createElementNS(x.svg,"svg").createSVGRect},a.inlinesvg=function(){var a=c.createElement(e);a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==x.svg},a.smil=function(){return!!c.createElementNS&&/SVG/.test(G.call(c.createElementNS(x.svg,"animate")))},a.svgclippaths=function(){return!!c.createElementNS&&/SVG/.test(G.call(c.createElementNS(x.svg,"clipPath")))};for(var B in a)A(a,B)&&(z=B.toLowerCase(),d[z]=a[B](),J.push((d[z]?b:"no-")+z));d.input||N(),o(b),F=f=i,h.attachEvent&&function(){var a=c.createElement(e);a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(f,c){function p(b){var a=-1;while(++a<m)b.createElement(j[a])}f.iepp=f.iepp||{};var a=f.iepp,h=a.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",j=h.split("|"),m=j.length,q=new RegExp("(^|\\s)("+h+")","gi"),r=new RegExp("<(/*)("+h+")","gi"),s=/^\s*[\{\}]\s*$/,t=new RegExp("(^|[^\\n]*?\\s)("+h+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),n=c.createDocumentFragment(),l=c.documentElement,o=l.firstChild,e=c.createElement("body"),g=c.createElement("style"),u=/print|all/,d;a.getCSS=function(e,c){if(e+b===k)return b;var f=-1,h=e.length,d,g=[];while(++f<h){d=e[f];if(d.disabled)continue;c=d.media||c,u.test(c)&&g.push(a.getCSS(d.imports,c),d.cssText),c="all"}return g.join(b)},a.parseCSS=function(c){var b=[],a;while((a=t.exec(c))!=i)b.push(((s.exec(a[1])?"\n":a[1])+a[2]+a[3]).replace(q,"$1.iepp_$2")+a[4]);return b.join("\n")},a.writeHTML=function(){var a=-1;d=d||c.body;while(++a<m){var b=c.getElementsByTagName(j[a]),g=b.length,f=-1;while(++f<g)b[f].className.indexOf("iepp_")<0&&(b[f].className+=" iepp_"+j[a])}n.appendChild(d),l.appendChild(e),e.className=d.className,e.id=d.id,e.innerHTML=d.innerHTML.replace(r,"<$1font")},a._beforePrint=function(){g.styleSheet.cssText=a.parseCSS(a.getCSS(c.styleSheets,"all")),a.writeHTML()},a.restoreHTML=function(){e.innerHTML=b,l.removeChild(e),l.appendChild(d)},a._afterPrint=function(){a.restoreHTML(),g.styleSheet.cssText=b},p(c),p(n);a.disablePP||(o.insertBefore(g,o.firstChild),g.media="print",g.className="iepp-printshim",f.attachEvent("onbeforeprint",a._beforePrint),f.attachEvent("onafterprint",a._afterPrint))}(h,c),d._version=L,d._prefixes=n,d._domPrefixes=r,d.mq=O,d.hasEvent=y,d.testProp=function(a){return v([a])},d.testAllProps=l,d.testStyles=C,j.className=j.className.replace(/\bno-js\b/,b)+(M?" js "+J.join(g):b);return d}(this,this.document),function(k,a,E){var q="DOMContentLoaded",i="object",b=null,f="script",j="complete";function C(a){return!a||a=="loaded"||a==j}function d(){var b=1,a=-1;while(g.length-++a)if(g[a].s&&!(b=g[a].r))break;b&&u()}function I(j){var g=a.createElement(f),i;g.src=j.s,g.onreadystatechange=g.onload=function(){!i&&C(g.readyState)&&(i=1,d(),g.onload=g.onreadystatechange=b)},e(function(){i||(i=1,d())},c.errorTimeout),j.e?g.onload():h.parentNode.insertBefore(g,h)}function H(g){var b=a.createElement("link"),f;b.href=g.s,b.rel="stylesheet",b.type="text/css",!g.e&&(x||o)?function g(a){e(function(){if(!f)try{a.sheet.cssRules.length?(f=1,d()):g(a)}catch(b){b.code==1e3||b.message=="security"||b.message=="denied"?(f=1,e(function(){d()},0)):g(a)}},0)}(b):(b.onload=function(){f||(f=1,e(function(){d()},0))},g.e&&b.onload()),e(function(){f||(f=1,d())},c.errorTimeout),!g.e&&h.parentNode.insertBefore(b,h)}function u(){var a=g.shift();n=1,a?a.t?e(function(){a.t=="c"?H(a):I(a)},0):(a(),d()):(n=0)}function G(l,o,q,s,v,t){function r(){!m&&C(j.readyState)&&(k.r=m=1,!n&&d(),j.onload=j.onreadystatechange=b,e(function(){w.removeChild(j)},0))}var j=a.createElement(l),m=0,k={t:q,s:o,e:t};j.src=j.data=o,!p&&(j.style.display="none"),j.width=j.height="0",l!=i&&(j.type=q),j.onload=j.onreadystatechange=r,l=="img"?(j.onerror=r):l==f&&(j.onerror=function(){k.e=k.r=1,u()}),g.splice(s,0,k),w.insertBefore(j,p?b:h),e(function(){m||(w.removeChild(j),k.r=k.e=m=1,d())},c.errorTimeout)}function F(b,a,c){var d=a=="c"?L:D;n=0,a=a||"j",l(b)?G(d,b,a,this.i++,m,c):(g.splice(this.i++,0,b),g.length==1&&u());return this}function z(){var a=c;a.loader={load:F,i:0};return a}var m=a.documentElement,e=k.setTimeout,h=a.getElementsByTagName(f)[0],v={}.toString,g=[],n=0,o="MozAppearance"in m.style,p=o&&!!a.createRange().compareNode,M=o&&!p,w=p?m:h.parentNode,J=k.opera&&v.call(k.opera)=="[object Opera]",x="webkitAppearance"in m.style,K=x&&"async"in a.createElement(f),D=o?i:J||K?"img":f,L=x?"img":D,y=Array.isArray||function(a){return v.call(a)=="[object Array]"},r=function(a){return typeof a==i},l=function(a){return typeof a=="string"},s=function(a){return v.call(a)=="[object Function]"},t=[],A={},B,c;c=function(a){function h(f){for(var c=f.split("!"),g=t.length,e=c.pop(),h=c.length,b={url:e,origUrl:e,prefixes:c},d,a=0;a<h;a++)d=A[c[a]],d&&(b=d(b));for(a=0;a<g;a++)b=t[a](b);return b}function d(c,a,e,d,f){var b=h(c),g=b.autoCallback;if(!b.bypass){a&&(a=s(a)?a:a[c]||a[d]||a[c.split("/").pop().split("?")[0]]);if(b.instead)return b.instead(c,a,e,d,f);e.load(b.url,b.forceCSS||!b.forceJS&&/css$/.test(b.url)?"c":E,b.noexec),(s(a)||s(g))&&e.load(function(){z(),a&&a(b.origUrl,f,d),g&&g(b.origUrl,f,d)})}}function g(a,c){function f(a){if(l(a))d(a,g,c,0,e);else if(r(a))for(b in a)a.hasOwnProperty(b)&&d(a[b],g,c,b,e)}var e=!!a.test,h=e?a.yep:a.nope,i=a.load||a.both,g=a.callback,b;f(h),f(i),a.complete&&c.load(a.complete)}var e,b,f=this.yepnope.loader;if(l(a))d(a,0,f,0);else if(y(a))for(e=0;e<a.length;e++)b=a[e],l(b)?d(b,0,f,0):y(b)?c(b):r(b)&&g(b,f);else r(a)&&g(a,f)},c.addPrefix=function(a,b){A[a]=b},c.addFilter=function(a){t.push(a)},c.errorTimeout=1e4,a.readyState==b&&a.addEventListener&&(a.readyState="loading",a.addEventListener(q,B=function(){a.removeEventListener(q,B,0),a.readyState=j},0)),k.yepnope=z()}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
/* Respond.js: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */
(function(c,o){var a=true;c.respond={};respond.update=function(){};respond.mediaQueriesSupported=o;if(o)return;var b=c.document,r=b.documentElement,i=[],e=[],d=[],g={},m=30,f=b.getElementsByTagName("head")[0]||r,l=f.getElementsByTagName("link"),h=[],s=function(){for(var f=l,k=f.length,e=0,d,b,j,i;e<k;e++){d=f[e],b=d.href,j=d.media,i=d.rel&&d.rel.toLowerCase()==="stylesheet";if(!!b&&i&&!g[b])if(!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(b)||b.replace(RegExp.$1,"").split("/")[0]===c.location.host)h.push({href:b,media:j});else g[b]=a}n()},n=function(){if(h.length){var b=h.shift();v(b.href,function(c){t(c,b.href,b.media);g[b.href]=a;n()})}},t=function(n,a,o){var h=n.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),g=h&&h.length||0,a=a.substring(0,a.lastIndexOf("/")),m=function(b){return b.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+a+"$2$3")},l=!g&&o,k=0,c,f,b,d,p;if(a.length)a+="/";if(l)g=1;for(;k<g;k++){c=0;if(l){f=o;e.push(m(n))}else{f=h[k].match(/@media ([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;e.push(RegExp.$2&&m(RegExp.$2))}d=f.split(",");p=d.length;for(;c<p;c++){b=d[c];i.push({media:b.match(/(only\s+)?([a-zA-Z]+)(\sand)?/)&&RegExp.$2,rules:e.length-1,minw:b.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1),maxw:b.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1)})}}j()},k,p,j=function(v){var s="clientWidth",n=r[s],o=b.compatMode==="CSS1Compat"&&n||b.body[s]||n,h={},q=b.createDocumentFragment(),w=l[l.length-1],u=(new Date).getTime();if(v&&k&&u-k<m){clearTimeout(p);p=setTimeout(j,m);return}else k=u;for(var g in i){var a=i[g];if(!a.minw&&!a.maxw||(!a.minw||a.minw&&o>=a.minw)&&(!a.maxw||a.maxw&&o<=a.maxw)){if(!h[a.media])h[a.media]=[];h[a.media].push(e[a.rules])}}for(var g in d)d[g]&&d[g].parentNode===f&&f.removeChild(d[g]);for(var g in h){var c=b.createElement("style"),t=h[g].join("\n");c.type="text/css";c.media=g;if(c.styleSheet)c.styleSheet.cssText=t;else c.appendChild(b.createTextNode(t));q.appendChild(c);d.push(c)}f.insertBefore(q,w.nextSibling)},v=function(d,c){var b=u();if(!b)return;b.open("GET",d,a);b.onreadystatechange=function(){if(b.readyState!=4||b.status!=200&&b.status!=304)return;c(b.responseText)};if(b.readyState==4)return;b.send()},u=function(){var a=false,b=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new XMLHttpRequest}],c=b.length;while(c--){try{a=b[c]()}catch(d){continue}break}return function(){return a}}();s();respond.update=s;function q(){j(a)}if(c.addEventListener)c.addEventListener("resize",q,false);else c.attachEvent&&c.attachEvent("onresize",q)})(this,function(h){if(h.matchMedia)return true;var f,b=document,d=b.documentElement,g=d.firstElementChild||d.firstChild,e=!b.body,c=b.body||b.createElement("body"),a=b.createElement("div"),i="only all";a.id="mq-test-1";a.style.cssText="position:absolute;top:-99em";c.appendChild(a);a.innerHTML='_<style media="'+i+'"> #mq-test-1 { width: 9px; }</style>';e&&d.insertBefore(c,g);a.removeChild(a.firstChild);f=a.offsetWidth==9;if(e)d.removeChild(c);else c.removeChild(a);return f}(this));
/* Respond.js: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */
(function(b,o){var a=true;b.respond={};respond.update=function(){};respond.mediaQueriesSupported=o;if(o)return;var c=b.document,q=c.documentElement,i=[],f=[],d=[],l={},n=30,e=c.getElementsByTagName("head")[0]||q,g=e.getElementsByTagName("link"),h=[],m=function(){for(var i=g,k=i.length,e=0,d,c,f,j;e<k;e++){d=i[e],c=d.href,f=d.media,j=d.rel&&d.rel.toLowerCase()==="stylesheet";if(!!c&&j&&!l[c])if(!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(c)||c.replace(RegExp.$1,"").split("/")[0]===b.location.host)h.push({href:c,media:f});else l[c]=a}s()},s=function(){if(h.length){var b=h.shift();v(b.href,function(c){u(c,b.href,b.media);l[b.href]=a;s()})}},u=function(m,a,o){var g=m.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),h=g&&g.length||0,a=a.substring(0,a.lastIndexOf("/")),n=function(b){return b.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+a+"$2$3")},p=!h&&o,d=0,b,e,c,k,l;if(a.length)a+="/";if(p)h=1;for(;d<h;d++){b=0;if(p){e=o;f.push(n(m))}else{e=g[d].match(/@media ([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;f.push(RegExp.$2&&n(RegExp.$2))}k=e.split(",");l=k.length;for(;b<l;b++){c=k[b];i.push({media:c.match(/(only\s+)?([a-zA-Z]+)(\sand)?/)&&RegExp.$2,rules:f.length-1,minw:c.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1),maxw:c.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1)})}}j()},k,p,j=function(w){var s="clientWidth",u=q[s],r=c.compatMode==="CSS1Compat"&&u||c.body[s]||u,l={},o=c.createDocumentFragment(),v=g[g.length-1],t=(new Date).getTime();if(w&&k&&t-k<n){clearTimeout(p);p=setTimeout(j,n);return}else k=t;for(var h in i){var a=i[h];if(!a.minw&&!a.maxw||(!a.minw||a.minw&&r>=a.minw)&&(!a.maxw||a.maxw&&r<=a.maxw)){if(!l[a.media])l[a.media]=[];l[a.media].push(f[a.rules])}}for(var h in d)d[h]&&d[h].parentNode===e&&e.removeChild(d[h]);for(var h in l){var b=c.createElement("style"),m=l[h].join("\n");b.type="text/css";b.media=h;if(b.styleSheet)b.styleSheet.cssText=m;else b.appendChild(c.createTextNode(m));o.appendChild(b);d.push(b)}e.insertBefore(o,v.nextSibling)},v=function(c,d){var b=t();if(!b)return;b.open("GET",c,a);b.onreadystatechange=function(){if(b.readyState!=4||b.status!=200&&b.status!=304)return;d(b.responseText)};if(b.readyState==4)return;b.send()},t=function(){var a=false,b=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new XMLHttpRequest}],c=b.length;while(c--){try{a=b[c]()}catch(d){continue}break}return function(){return a}}();m();respond.update=m;function r(){j(a)}if(b.addEventListener)b.addEventListener("resize",r,false);else b.attachEvent&&b.attachEvent("onresize",r)})(this,function(h){if(h.matchMedia)return true;var e,b=document,c=b.documentElement,i=c.firstElementChild||c.firstChild,f=!b.body,d=b.body||b.createElement("body"),a=b.createElement("div"),g="only all";a.id="mq-test-1";a.style.cssText="position:absolute;top:-99em";d.appendChild(a);a.innerHTML='_<style media="'+g+'"> #mq-test-1 { width: 9px; }</style>';f&&c.insertBefore(d,i);a.removeChild(a.firstChild);e=a.offsetWidth==9;if(f)c.removeChild(d);else d.removeChild(a);return e}(this));(function(a){typeof a.fn.each2=="undefined"&&a.fn.extend({each2:function(d){var b=a([0]),c=-1,e=this.length;while(++c<e&&(b.context=b[0]=this[c])&&d.call(b[0],c,b)!==false);return this}})})(jQuery);(function(a,g){var t=".select2-search-choice",C="select2-default",B=":selected",T="span",S="abbr",H="mousedown",hb="select2-offscreen",R="</div>",gb="   </ul>",fb="   <ul class='select2-results'>",L="style",x="select2-search-choice-focus",w=".select2-search-choice-focus",v="</li>",l=10,K="select2-active",Q="select2-highlighted",G=".select2-highlighted",P=".select2-disabled",n="select2-disabled",eb="li.select2-more-results",m=".select2-result-selectable",j="select2-container-active",A="select2-drop-active",s="select2-drop-above",O="select2-dropdown-open",db="select2-container-disabled",J="select2-change-triggered",p="value",i="select2-data",q="select2-result-selectable",u="disabled",I="tags",N="data",Z="multiple",D="select",F="blur",z="select2-focused",r="focus",k="tabIndex",h="select2",c="",y="<div></div>",Y="scroll-debounced",X="mousemove-filtered",W="select2-lastpos",lb="mousemove",V="keyup-change",E="keydown",b=null,d=false,e=true;"use strict";if(window.Select2!==g)return;var f,bb,kb,mb,zb,ab;f={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=a.which?a.which:a;switch(a){case f.LEFT:case f.RIGHT:case f.UP:case f.DOWN:return e}return d},isControl:function(a){a=a.which?a.which:a;switch(a){case f.SHIFT:case f.CTRL:case f.ALT:return e}return a.metaKey?e:d},isFunctionKey:function(a){a=a.which?a.which:a;return a>=112&&a<=123}};zb=function(){var a=1;return function(){return a++}}();function U(a){return a&&typeof a==="string"?a.replace("&","&amp;"):a}function M(b,d){var a=0,e=d.length,c;if(typeof b==="undefined")return-1;if(b.constructor===String){for(;a<e;a=a+1)if(b.localeCompare(d[a])===0)return a}else for(;a<e;a=a+1){c=d[a];if(c.constructor===String){if(c.localeCompare(b)===0)return a}else if(c===b)return a}return-1}function jb(a,c){return a===c?e:a===g||c===g?d:a===b||c===b?d:a.constructor===String?a.localeCompare(c)===0:c.constructor===String?c.localeCompare(a)===0:d}function qb(e,g){var d,c,f;if(e===b||e.length<1)return[];d=e.split(g);for(c=0,f=d.length;c<f;c=c+1)d[c]=a.trim(d[c]);return d}function xb(a){return a.outerWidth()-a.width()}function vb(b){var c="keyup-change-value";b.bind(E,function(){a.data(b,c)===g&&a.data(b,c,b.val())});b.bind("keyup",function(){var d=a.data(b,c);if(d!==g&&b.val()!==d){a.removeData(b,c);b.trigger(V)}})}a(document).delegate("*",lb,function(b){a.data(document,W,{x:b.pageX,y:b.pageY})});function ub(b){b.bind(lb,function(b){var c=a.data(document,W);(c===g||c.x!==b.pageX||c.y!==b.pageY)&&a(b.target).trigger(X,b)})}function pb(b,c){var a;return function(){window.clearTimeout(a);a=window.setTimeout(c,b)}}function Ab(c){var a=d,b;return function(){if(a===d){b=c();a=e}return b}}function wb(b,a){var c=pb(b,function(b){a.trigger(Y,b)});a.bind("scroll",function(b){M(b.target,a.get())>=0&&c(b)})}function o(a){a.preventDefault();a.stopPropagation()}function yb(e){var d="-10000px";if(!ab){var c=e[0].currentStyle||window.getComputedStyle(e[0],b);ab=a(y).css({position:"absolute",left:d,top:d,display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"});a("body").append(ab)}ab.text(e.val());return ab.width()}function ob(b,d,a){var c=b.toUpperCase().indexOf(d.toUpperCase()),e=d.length;if(c<0){a.push(b);return}a.push(b.substring(0,c));a.push("<span class='select2-match'>");a.push(b.substring(c,c+e));a.push("</span>");a.push(b.substring(c+e,b.length))}function sb(c){var f,d=0,e=b,g=c.quietMillis||100;return function(h){window.clearTimeout(f);f=window.setTimeout(function(){d+=1;var g=d,f=c.data,i=c.transport||a.ajax,j=c.type||"GET";f=f.call(this,h.term,h.page,h.context);b!==e&&e.abort();e=i.call(b,{url:c.url,dataType:c.dataType,data:f,type:j,success:function(b){if(g<d)return;var a=c.results(b,h.page);h.callback(a)}})},g)}}function rb(f){var b=f,e,d=function(a){return c+a.text};if(!a.isArray(b)){d=b.text;if(!a.isFunction(d)){e=b.text;d=function(a){return a[e]}}b=b.results}return function(e){var g=e.term,f={};if(g===c){e.callback({results:b});return}f.results=a(b).filter(function(){return e.matcher(g,d(this))}).get();e.callback(f)}}function tb(b){return a.isFunction(b)?b:function(d){var f=d.term,e={results:[]};a(b).each(function(){var a=this,b=a.text!==g,h=b?a.text:a;(f===c||d.matcher(f,h))&&e.results.push(b?a:{id:a,text:a})});d.callback(e)}}function cb(b){if(a.isFunction(b))return e;if(!b)return d;throw new Error("formatterName must be a function or a falsy value");}a(document).ready(function(){a(document).delegate("*","mousedown touchend",function(c){var b=a(c.target).closest("div.select2-container").get(0),d;if(b)a(document).find("div.select2-container-active").each(function(){this!==b&&a(this).data(h).blur()});else{b=a(c.target).closest("div.select2-drop").get(0);a(document).find("div.select2-drop-active").each(function(){this!==b&&a(this).data(h).blur()})}b=a(c.target);d=b.attr("for");if("LABEL"===c.target.tagName&&d&&d.length>0){b=a("#"+d);b=b.data(h);if(b!==g){b.focus();c.preventDefault()}}})});function ib(b){return a.isFunction(b)?b():b}function nb(c,d){var b=function(){};b.prototype=new c;b.prototype.constructor=b;b.prototype.parent=c.prototype;b.prototype=a.extend(b.prototype,d);return b}bb=nb(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(f){var d=this,i,j,l=".select2-results";d.opts=f=d.prepareOpts(f);d.id=f.id;f.element.data(h)!==g&&f.element.data(h)!==b&&d.destroy();d.enabled=e;d.container=d.createContainer();d.body=Ab(function(){return f.element.closest("body")});f.element.attr("class")!==g&&d.container.addClass(f.element.attr("class"));d.container.css(ib(f.containerCss));d.container.addClass(ib(f.containerCssClass));d.opts.element.data(h,d).hide().after(d.container);d.container.data(h,d);d.dropdown=d.container.find(".select2-drop");d.dropdown.css(ib(f.dropdownCss));d.dropdown.addClass(ib(f.dropdownCssClass));d.dropdown.data(h,d);d.results=i=d.container.find(l);d.search=j=d.container.find("input.select2-input");j.attr(k,d.opts.element.attr(k));d.resultsPage=0;d.context=b;d.initContainer();d.initContainerWidth();ub(d.results);d.dropdown.delegate(l,X,d.bind(d.highlightUnderEvent));wb(80,d.results);d.dropdown.delegate(l,Y,d.bind(d.loadMoreIfNeeded));a.fn.mousewheel&&i.mousewheel(function(b,f,d,a){var c=i.scrollTop(),e;if(a>0&&c-a<=0){i.scrollTop(0);o(b)}else if(a<0&&i.get(0).scrollHeight-i.scrollTop()+a<=i.height()){i.scrollTop(i.get(0).scrollHeight-i.height());o(b)}});vb(j);j.bind(V,d.bind(d.updateResults));j.bind(r,function(){j.addClass(z);j.val()===" "&&j.val(c)});j.bind(F,function(){j.removeClass(z)});d.dropdown.delegate(l,"mouseup",d.bind(function(b){if(a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0){this.highlightUnderEvent(b);this.selectHighlighted(b)}else this.focusSearch();o(b)}));d.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()});if(a.isFunction(d.opts.initSelection)){d.initSelection();d.monitorSource()}f.element.is(":disabled")&&d.disable()},destroy:function(){var a=this.opts.element.data(h);if(a!==g){a.container.remove();a.dropdown.remove();a.opts.element.removeData(h).unbind(".select2").show()}},prepareOpts:function(b){var e="function",h,j,k,f;h=b.element;if(h.get(0).tagName.toLowerCase()===D)this.select=j=b.element;b.separator=b.separator||",";j&&a.each(["id",Z,"ajax","query","createSearchChoice","initSelection",N,I],function(){if(this in b)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});b=a.extend({},{populateResults:function(d,e,f){var c,l,k,j,h=this.opts.id;c=function(p,t,r){var k,s,e,o,n,d,j,l,m;for(k=0,s=p.length;k<s;k=k+1){e=p[k];o=h(e)!==g&&a(e.element).attr(u)!=u;n="children"in e&&e.children.length>0;d=a("<li></li>");d.addClass("select2-results-dept-"+r);d.addClass("select2-result");d.addClass(o?q:"select2-result-unselectable");n&&d.addClass("select2-result-with-children");j=a(y);j.addClass("select2-result-label");m=b.formatResult(e,j,f);m!==g&&j.html(U(m));d.append(j);if(n){l=a("<ul></ul>");l.addClass("select2-result-sub");c(e.children,l,r+1);d.append(l)}d.data(i,e);t.append(d)}};c(e,d,0)}},a.fn.select2.defaults,b);if(typeof b.id!==e){k=b.id;b.id=function(a){return a[k]}}if(j){b.query=this.bind(function(i){var j={results:[],more:d},k=i.term,b,e,f;f=function(a,c){var b;if(a.is("option"))i.matcher(k,a.text(),a)&&c.push({id:a.attr(p),text:a.text(),element:a.get()});else if(a.is("optgroup")){b={text:a.attr("label"),children:[],element:a.get()};a.children().each2(function(c,a){f(a,b.children)});b.children.length>0&&c.push(b)}};b=h.children();if(this.getPlaceholder()!==g&&b.length>0){e=b[0];if(a(e).text()===c)b=b.not(e)}b.each2(function(b,a){f(a,j.results)});i.callback(j)});b.id=function(a){return a.id}}else if(!("query"in b))if("ajax"in b){f=b.element.data("ajax-url");if(f&&f.length>0)b.ajax.url=f;b.query=sb(b.ajax)}else if(N in b)b.query=rb(b.data);else if(I in b){b.query=tb(b.tags);b.createSearchChoice=function(a){return{id:a,text:a}};b.initSelection=function(f,e){var c=[];a(qb(f.val(),b.separator)).each(function(){var g=this,f=this,e=b.tags;if(a.isFunction(e))e=e();a(e).each(function(){if(jb(this.id,g)){f=this.text;return d}});c.push({id:g,text:f})});e(c)}}if(typeof b.query!==e)throw"query function not defined for Select2 "+b.element.attr("id");return b},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data(J)!==e&&this.initSelection()}))},triggerChange:function(b){var c=this;b=b||{};b=a.extend({},b,{type:"change",val:c.val()});c.opts.element.data(J,e);c.opts.element.trigger(b);c.opts.element.data(J,d);c.opts.element.click()},enable:function(){if(this.enabled)return;this.enabled=e;this.container.removeClass(db)},disable:function(){var a=this;if(!a.enabled)return;a.close();a.enabled=d;a.container.addClass(db)},opened:function(){return this.container.hasClass(O)},positionDropdown:function(){var b=this,f=b.container.offset(),n=b.container.outerHeight(),o=b.container.outerWidth(),g=b.dropdown.outerHeight(),l=a(window).scrollTop()+document.documentElement.clientHeight,h=f.top+n,j=h+g<=l,i=f.top-g>=b.body().scrollTop(),m=b.dropdown.hasClass(s),c,k;if(m){c=e;if(!i&&j)c=d}else{c=d;if(!j&&i)c=e}if(c){h=f.top-g;b.container.addClass(s);b.dropdown.addClass(s)}else{b.container.removeClass(s);b.dropdown.removeClass(s)}k={top:h,left:f.left,width:o};b.dropdown.css(k)},shouldOpen:function(){var a;if(this.opened())return d;a=jQuery.Event("open");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass(s);this.dropdown.removeClass(s)},open:function(){if(!this.shouldOpen())return d;window.setTimeout(this.bind(this.opening),1);return e},opening:function(){var a=this;a.clearDropdownAlignmentPreference();a.search.val()===" "&&a.search.val(c);a.dropdown.addClass(A);a.container.addClass(O).addClass(j);a.updateResults(e);a.dropdown[0]!==a.body().children().last()[0]&&a.dropdown.detach().appendTo(a.body());a.dropdown.show();a.ensureHighlightVisible();a.positionDropdown();a.focusSearch()},close:function(){var a=this;if(!a.opened())return;a.clearDropdownAlignmentPreference();a.dropdown.hide();a.container.removeClass(O).removeClass(j);a.results.empty();a.clearSearch();a.opts.element.trigger(jQuery.Event("close"))},clearSearch:function(){},ensureHighlightVisible:function(){var b=this.results,g,c,d,f,h,i,e;c=this.highlight();if(c<0)return;if(c==0){b.scrollTop(0);return}g=b.find(m);d=a(g[c]);f=d.offset().top+d.outerHeight();if(c===g.length-1){e=b.find(eb);if(e.length>0)f=e.offset().top+e.outerHeight()}h=b.offset().top+b.outerHeight();f>h&&b.scrollTop(b.scrollTop()+(f-h));i=d.offset().top-b.offset().top;i<0&&b.scrollTop(b.scrollTop()+i)},moveHighlight:function(e){var c=this.results.find(m),b=this.highlight();while(b>-1&&b<c.length){b+=e;var d=a(c[b]);if(d.hasClass(q)&&!d.hasClass(n)){this.highlight(b);break}}},highlight:function(c){var b=this.results.find(m).not(P);if(arguments.length===0)return M(b.filter(G)[0],b.get());if(c>=b.length)c=b.length-1;if(c<0)c=0;b.removeClass(Q);a(b[c]).addClass(Q);this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(m).not(P).length},highlightUnderEvent:function(d){var b=a(d.target).closest(m);if(b.length>0&&!b.is(G)){var c=this.results.find(m);this.highlight(c.index(b))}else b.length==0&&this.results.find(G).removeClass(Q)},loadMoreIfNeeded:function(){var a=this,b=a.results,c=b.find(eb),h,j=-1,f=a.resultsPage+1,d=a,i=a.search.val(),g=a.context;if(c.length===0)return;h=c.offset().top-b.offset().top-b.height();if(h<=0){c.addClass(K);a.opts.query({term:i,page:f,context:g,matcher:a.opts.matcher,callback:a.bind(function(a){d.opts.populateResults.call(this,b,a.results,{term:i,page:f,context:g});if(a.more===e){c.detach().appendTo(b.children(":last")).text(d.opts.formatLoadMore(f+1));window.setTimeout(function(){d.loadMoreIfNeeded()},l)}else c.remove();d.positionDropdown();d.resultsPage=f})})}},updateResults:function(q){var k="<li class='select2-no-results'>",h=this,i=h.search,m=h.results,f=h.opts,o,j=h;if(q!==e&&(h.showSearchInput===d||!h.opened()))return;i.addClass(K);function p(){m.scrollTop(0);i.removeClass(K);j.positionDropdown()}function n(a){m.html(U(a));p()}if(f.maximumSelectionSize>=1){o=h.data();if(a.isArray(o)&&o.length>=f.maximumSelectionSize&&cb(f.formatSelectionTooBig,"formatSelectionTooBig")){n("<li class='select2-selection-limit'>"+f.formatSelectionTooBig(f.maximumSelectionSize)+v);return}}if(i.val().length<f.minimumInputLength&&cb(f.formatInputTooShort,"formatInputTooShort")){n(k+f.formatInputTooShort(i.val(),f.minimumInputLength)+v);return}h.resultsPage=1;f.query({term:i.val(),page:h.resultsPage,context:b,matcher:f.matcher,callback:h.bind(function(d){var h=this,o;h.context=d.context===g?b:d.context;if(h.opts.createSearchChoice&&i.val()!==c){o=h.opts.createSearchChoice.call(b,i.val(),d.results);if(o!==g&&o!==b&&j.id(o)!==g&&j.id(o)!==b)a(d.results).filter(function(){return jb(j.id(this),j.id(o))}).length===0&&d.results.unshift(o)}if(d.results.length===0&&cb(f.formatNoMatches,"formatNoMatches")){n(k+f.formatNoMatches(i.val())+v);return}m.empty();j.opts.populateResults.call(h,m,d.results,{term:i.val(),page:h.resultsPage,context:b});if(d.more===e&&cb(f.formatLoadMore,"formatLoadMore")){m.children().filter(":last").append("<li class='select2-more-results'>"+U(f.formatLoadMore(h.resultsPage))+v);window.setTimeout(function(){j.loadMoreIfNeeded()},l)}h.postprocessResults(d,q);p()})})},cancel:function(){this.close()},blur:function(){var a=this;a.close();a.container.removeClass(j);a.dropdown.removeClass(A);a.search[0]===document.activeElement&&a.search.blur();a.clearSearch();a.selection.find(w).removeClass(x)},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus();this.search.val(this.search.val())}),l)},selectHighlighted:function(){var a=this,d=a.highlight(),b=a.results.find(G).not(P),c=b.closest(m).data(i);if(c){b.addClass(n);a.highlight(d);a.onSelect(c)}},getPlaceholder:function(){var a="placeholder",b=this;return b.opts.element.attr(a)||b.opts.element.attr("data-placeholder")||b.opts.element.data(a)||b.opts.placeholder},initContainerWidth:function(){function e(){var d=this,e,i,h,f,j;if(d.opts.width==="off")return b;else if(d.opts.width==="element")return d.opts.element.outerWidth()===0?"auto":d.opts.element.outerWidth()+"px";else if(d.opts.width==="copy"||d.opts.width==="resolve"){e=d.opts.element.attr(L);if(e!==g){i=e.split(";");for(f=0,j=i.length;f<j;f=f+1){h=i[f].replace(/\s/g,c).match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(h!==b&&h.length>=1)return h[1]}}if(d.opts.width==="resolve"){e=d.opts.element.css("width");return e.indexOf("%")>0?e:d.opts.element.outerWidth()===0?"auto":d.opts.element.outerWidth()+"px"}return b}else return a.isFunction(d.opts.width)?d.opts.width():d.opts.width}var d=e.call(this);d!==b&&this.container.attr(L,"width: "+d)}});kb=nb(bb,{createContainer:function(){return a(y,{"class":"select2-container"}).html(["    <a href='javascript:void(0)' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>",fb,gb,R].join(c))},opening:function(){var a=this;a.search.show();a.parent.opening.apply(a,arguments);a.dropdown.removeClass(hb)},close:function(){var a=this;if(!a.opened())return;a.parent.close.apply(a,arguments);a.dropdown.removeAttr(L).addClass(hb).insertAfter(a.selection).show()},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var a=this,b,g=a.container,h=a.dropdown,c=d;a.selection=b=g.find(".select2-choice");a.search.bind(E,a.bind(function(a){var b=this;if(!b.enabled)return;if(a.which===f.PAGE_UP||a.which===f.PAGE_DOWN){o(a);return}if(b.opened())switch(a.which){case f.UP:case f.DOWN:b.moveHighlight(a.which===f.UP?-1:1);o(a);return;case f.TAB:case f.ENTER:b.selectHighlighted();o(a);return;case f.ESC:b.cancel(a);o(a);return}else{if(a.which===f.TAB||f.isControl(a)||f.isFunctionKey(a)||a.which===f.ESC)return;b.open();if(a.which===f.ENTER)return}}));a.search.bind(r,a.bind(function(){this.selection.attr(k,"-1")}));a.search.bind(F,a.bind(function(){!this.opened()&&this.container.removeClass(j);window.setTimeout(this.bind(function(){this.selection.attr(k,this.opts.element.attr(k))}),l)}));b.bind(H,a.bind(function(b){var a=this;c=e;if(a.opened()){a.close();a.selection.focus()}else a.enabled&&a.open();o(b);c=d}));h.bind(H,a.bind(function(){this.search.focus()}));b.bind(r,a.bind(function(){this.container.addClass(j);this.search.attr(k,"-1")}));b.bind(F,a.bind(function(){this.container.removeClass(j);window.setTimeout(this.bind(function(){this.search.attr(k,this.opts.element.attr(k))}),l)}));b.bind(E,a.bind(function(a){if(!this.enabled)return;if(a.which===f.PAGE_UP||a.which===f.PAGE_DOWN){o(a);return}if(a.which===f.TAB||f.isControl(a)||f.isFunctionKey(a)||a.which===f.ESC)return;this.open();if(a.which===f.ENTER){o(a);return}if(a.which<48){o(a);return}var b=String.fromCharCode(a.which).toLowerCase();if(a.shiftKey)b=b.toUpperCase();this.search.val(b);o(a)}));b.delegate(S,H,a.bind(function(b){var a=this;if(!a.enabled)return;a.clear();o(b);a.close();a.triggerChange();a.selection.focus()}));a.setPlaceholder();a.search.bind(r,a.bind(function(){this.container.addClass(j)}))},clear:function(){var a=this;a.opts.element.val(c);a.selection.find(T).empty();a.selection.removeData(i);a.setPlaceholder()},initSelection:function(){var a=this,e;if(a.opts.element.val()===c){a.close();a.setPlaceholder()}else{var d=a;a.opts.initSelection.call(b,a.opts.element,function(a){if(a!==g&&a!==b){d.updateSelection(a);d.close();d.setPlaceholder()}})}},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);if(b.element.get(0).tagName.toLowerCase()===D)b.initSelection=function(d,b){var c=d.find(B);a.isFunction(b)&&b({id:c.attr(p),text:c.text()})};return b},setPlaceholder:function(){var a=this,b=a.getPlaceholder();if(a.opts.element.val()===c&&b!==g){if(a.select&&a.select.find("option:first").text()!==c)return;a.selection.find(T).html(U(b));a.selection.addClass(C);a.selection.find(S).hide()}},postprocessResults:function(l,k){var f="addClass",c="removeClass",b=this,h=0,j=b,g=e;b.results.find(m).each2(function(b,a){if(jb(j.id(a.data(i)),j.opts.element.val())){h=b;return d}});b.highlight(h);if(k===e){g=b.showSearchInput=l.results.length>=b.opts.minimumResultsForSearch;b.dropdown.find(".select2-search")[g?c:f]("select2-search-hidden");a(b.dropdown,b.container)[g?f:c]("select2-with-searchbox")}},onSelect:function(b){var a=this,c=a.opts.element.val();a.opts.element.val(a.id(b));a.updateSelection(b);a.close();a.selection.focus();!jb(c,a.id(b))&&a.triggerChange()},updateSelection:function(d){var a=this,b=a.selection.find(T),c;a.selection.data(i,d);b.empty();c=a.opts.formatSelection(d,b);c!==g&&b.append(U(c));a.selection.removeClass(C);a.opts.allowClear&&a.getPlaceholder()!==g&&a.selection.find(S).show()},val:function(){var a=this,f,h=b,e=a;if(arguments.length===0)return a.opts.element.val();f=arguments[0];if(a.select){a.select.val(f).find(B).each2(function(b,a){h={id:a.attr(p),text:a.text()};return d});a.updateSelection(h);a.setPlaceholder()}else{if(a.opts.initSelection===g)throw new Error("cannot call val() if initSelection() is not defined");if(!f){a.clear();return}a.opts.initSelection(a.opts.element,function(a){e.opts.element.val(!a?c:e.id(a));e.updateSelection(a);e.setPlaceholder()})}},clearSearch:function(){this.search.val(c)},data:function(d){var a=this,e;if(arguments.length===0){e=a.selection.data(i);if(e==g)e=b;return e}else if(!d||d===c)a.clear();else{a.opts.element.val(!d?c:a.id(d));a.updateSelection(d)}}});mb=nb(bb,{createContainer:function(){return a(y,{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' style='width: 25px;' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>",fb,gb,R].join(c))},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);if(b.element.get(0).tagName.toLowerCase()===D)b.initSelection=function(d,b){var c=[];d.find(B).each2(function(b,a){c.push({id:a.attr(p),text:a.text()})});a.isFunction(b)&&b(c)};return b},initContainer:function(){var a=this,d=".select2-choices",b;a.searchContainer=a.container.find(".select2-search-field");a.selection=b=a.container.find(d);a.search.bind(E,a.bind(function(a){var d=this;if(!d.enabled)return;if(a.which===f.BACKSPACE&&d.search.val()===c){d.close();var e,g=b.find(w);if(g.length>0){d.unselect(g.first());d.search.width(l);o(a);return}e=b.find(t);e.length>0&&e.last().addClass(x)}else b.find(w).removeClass(x);if(d.opened())switch(a.which){case f.UP:case f.DOWN:d.moveHighlight(a.which===f.UP?-1:1);o(a);return;case f.ENTER:case f.TAB:d.selectHighlighted();o(a);return;case f.ESC:d.cancel(a);o(a);return}if(a.which===f.TAB||f.isControl(a)||f.isFunctionKey(a)||a.which===f.BACKSPACE||a.which===f.ESC)return;d.open();(a.which===f.PAGE_UP||a.which===f.PAGE_DOWN)&&o(a)}));a.search.bind("keyup",a.bind(a.resizeSearch));a.search.bind(F,a.bind(function(){this.container.removeClass(j)}));a.container.delegate(d,H,a.bind(function(b){var a=this;if(!a.enabled)return;a.clearPlaceholder();a.open();a.focusSearch();b.preventDefault()}));a.container.delegate(d,r,a.bind(function(){var a=this;if(!a.enabled)return;a.container.addClass(j);a.dropdown.addClass(A);a.clearPlaceholder()}));a.clearSearch()},enable:function(){var a=this;if(a.enabled)return;a.parent.enable.apply(a,arguments);a.search.removeAttr(u)},disable:function(){var a=this;if(!a.enabled)return;a.parent.disable.apply(a,arguments);a.search.attr(u,e)},initSelection:function(){var a=this,e;if(a.opts.element.val()===c){a.updateSelection([]);a.close();a.clearSearch()}if(a.select||a.opts.element.val()!==c){var d=a;a.opts.initSelection.call(b,a.opts.element,function(a){if(a!==g&&a!==b){d.updateSelection(a);d.close();d.clearSearch()}})}},clearSearch:function(){var a=this,b=a.getPlaceholder();if(b!==g&&a.getVal().length===0&&a.search.hasClass(z)===d){a.search.val(b).addClass(C);a.resizeSearch()}else a.search.val(" ").width(l)},clearPlaceholder:function(){var a=this;if(a.search.hasClass(C))a.search.val(c).removeClass(C);else a.search.val()===" "&&a.search.val(c)},opening:function(){var a=this;a.parent.opening.apply(a,arguments);a.clearPlaceholder();a.resizeSearch();a.focusSearch()},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass(z)},updateSelection:function(c){var e=[],d=[],b=this;a(c).each(function(){if(M(b.id(this),e)<0){e.push(b.id(this));d.push(this)}});c=d;this.selection.find(t).remove();a(c).each(function(){b.addSelectedChoice(this)});b.postprocessResults()},onSelect:function(b){var a=this;a.addSelectedChoice(b);a.select&&a.postprocessResults();if(a.opts.closeOnSelect){a.close();a.search.width(l)}else{a.search.width(l);a.resizeSearch();if(a.countSelectableResults()>0)a.positionDropdown();else a.close()}a.triggerChange({added:b});a.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(d){var b=this,c=a("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a>"+v),g=b.id(d),f=b.getVal(),e;e=b.opts.formatSelection(d,c);c.find("div").replaceWith("<div>"+U(e)+R);c.find(".select2-search-choice-close").bind("click dblclick",b.bind(function(b){if(!this.enabled)return;a(b.target).closest(t).fadeOut("fast").animate({width:"hide"},50,this.bind(function(){var c=this;c.unselect(a(b.target));c.selection.find(w).removeClass(x);c.close();c.focusSearch()})).dequeue();o(b)})).bind(r,b.bind(function(){if(!this.enabled)return;this.container.addClass(j);this.dropdown.addClass(A)}));c.data(i,d);c.insertBefore(b.searchContainer);f.push(g);b.setVal(f)},unselect:function(a){var b=this,e=b.getVal(),d,c;a=a.closest(t);if(a.length===0)throw"Invalid argument: "+a+". Must be .select2-search-choice";d=a.data(i);c=M(b.id(d),e);if(c>=0){e.splice(c,1);b.setVal(e);b.select&&b.postprocessResults()}a.remove();b.triggerChange({removed:d})},postprocessResults:function(){var a=this,f=a.getVal(),b=a.results.find(m),e=a.results.find(".select2-result-with-children"),c=a;b.each2(function(d,a){var b=c.id(a.data(i));if(M(b,f)>=0)a.addClass(n).removeClass(q);else a.removeClass(n).addClass(q)});e.each2(function(b,a){if(a.find(m).length==0)a.addClass(n);else a.removeClass(n)});b.each2(function(b,a){if(!a.hasClass(n)&&a.hasClass(q)){c.highlight(0);return d}})},resizeSearch:function(){var b=this,f,g,c,e,a,d=xb(b.search);f=yb(b.search)+l;g=b.search.offset().left;c=b.selection.width();e=b.selection.offset().left;a=c-(g-e)-d;if(a<f)a=c-d;if(a<40)a=c-d;b.search.width(a)},getVal:function(){var c=this,a;if(c.select){a=c.select.val();return a===b?[]:a}else{a=c.opts.element.val();return qb(a,c.opts.separator)}},setVal:function(e){var d=this,b;if(d.select)d.select.val(e);else{b=[];a(e).each(function(){M(this,b)<0&&b.push(this)});d.opts.element.val(b.length===0?c:b.join(d.opts.separator))}},val:function(){var b=this,e,f=[],d=b;if(arguments.length===0)return b.getVal();e=arguments[0];if(!e){b.opts.element.val(c);b.updateSelection([]);b.clearSearch();return}b.setVal(e);if(b.select){b.select.find(B).each(function(){f.push({id:a(this).attr(p),text:a(this).text()})});b.updateSelection(f)}else{if(b.opts.initSelection===g)throw new Error("val() cannot be called if initSelection() is not defined");b.opts.initSelection(b.opts.element,function(b){var c=a(b).map(d.id);d.setVal(c);d.updateSelection(b);d.clearSearch()})}b.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var b=this,c=[],d=b;b.searchContainer.show();b.searchContainer.appendTo(b.searchContainer.parent());b.resizeSearch();b.selection.find(t).each(function(){c.push(d.opts.id(a(this).data(i)))});b.setVal(c);b.triggerChange()},data:function(c){var b=this,e=b,d;if(arguments.length===0)return b.selection.find(t).map(function(){return a(this).data(i)}).get();else{if(!c)c=[];d=a.map(c,function(a){return e.opts.id(a)});b.setVal(d);b.updateSelection(c);b.clearSearch()}}});a.fn.select2=function(){var j="container",b=Array.prototype.slice.call(arguments,0),c,f,i,k,l=["val","destroy","open","close",r,"isFocused",j,"onSortStart","onSortEnd","enable","disable","positionDropdown",N];this.each(function(){if(b.length===0||typeof b[0]==="object"){c=b.length===0?{}:a.extend({},b[0]);c.element=a(this);if(c.element.get(0).tagName.toLowerCase()===D)k=c.element.attr(Z);else{k=c.multiple||d;if(I in c)c.multiple=k=e}f=k?new mb:new kb;f.init(c)}else if(typeof b[0]==="string"){if(M(b[0],l)<0)throw"Unknown method: "+b[0];i=g;f=a(this).data(h);if(f===g)return;if(b[0]===j)i=f.container;else i=f[b[0]].apply(f,b.slice(1));if(i!==g)return d}else throw"Invalid arguments to select2 plugin: "+b;});return i===g?this:i};a.fn.select2.defaults={width:"copy",closeOnSelect:e,containerCss:{},dropdownCss:{},containerCssClass:c,dropdownCssClass:c,formatResult:function(b,e,d){var a=[];ob(b.text,d.term,a);return a.join(c)},formatSelection:function(a){return a.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){return"Please enter "+(b-a.length)+" more characters"},formatSelectionTooBig:function(a){return"You can only select "+a+" items"},formatLoadMore:function(){return"Loading more results..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return b.toUpperCase().indexOf(a.toUpperCase())>=0}};window.Select2={query:{ajax:sb,local:rb,tags:tb},util:{debounce:pb,markMatch:ob},"class":{"abstract":bb,single:kb,multi:mb}}})(jQuery);(function(a){var c="visibility";a.fn.superfish=function(i){var b=a.fn.superfish,c=b.c,h=a(['<span class="',c.arrowClass,'"> &#187;</span>'].join("")),d=function(){var b=a(this),c=e(b);clearTimeout(c.sfTimer);b.showSuperfishUl().siblings().hideSuperfishUl()},f=function(){var f=a(this),g=e(f),c=b.op;clearTimeout(g.sfTimer);g.sfTimer=setTimeout(function(){c.retainPath=a.inArray(f[0],c.$path)>-1;f.hideSuperfishUl();c.$path.length&&f.parents(["li.",c.hoverClass].join("")).length<1&&d.call(c.$path)},c.delay)},e=function(d){var a=d.parents(["ul.",c.menuClass,":first"].join(""))[0];b.op=b.o[a.serial];return a},g=function(a){a.addClass(c.anchorClass).append(h.clone())};return this.each(function(){var h="li:has(ul)",j=this,l=j.serial=b.o.length,e=a.extend({},b.defaults,i);e.$path=a("li."+e.pathClass,j).slice(0,e.pathLevels).each(function(){a(this).addClass([e.hoverClass,c.bcClass].join(" ")).filter(h).removeClass(e.pathClass)});b.o[l]=b.op=e;a(h,j)[a.fn.hoverIntent&&!e.disableHI?"hoverIntent":"hover"](d,f).each(function(){e.autoArrows&&g(a(">a:first-child",this))}).not("."+c.bcClass).hideSuperfishUl();var k=a("a",j);k.each(function(b){var a=k.eq(b).parents("li");k.eq(b).focus(function(){d.call(a)}).blur(function(){f.call(a)})});e.onInit.call(j)}).each(function(){var d=[c.menuClass];b.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&d.push(c.shadowClass);a(this).addClass(d.join(" "))})};var b=a.fn.superfish;b.o=[];b.op={};b.IE7fix=function(){var c=b.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined&&this.toggleClass(b.c.shadowClass+"-off")};b.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};b.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};a.fn.extend({hideSuperfishUl:function(){var d=b.op,f=d.retainPath===true?d.$path:"";d.retainPath=false;var e=a(["li.",d.hoverClass].join(""),this).add(this).not(f).removeClass(d.hoverClass).find(">ul").hide().css(c,"hidden");d.onHide.call(e);return this},showSuperfishUl:function(){var d=b.op,e=b.c.shadowClass+"-off",a=this.addClass(d.hoverClass).find(">ul:hidden").css(c,"visible");b.IE7fix.call(a);d.onBeforeShow.call(a);a.animate(d.animation,d.speed,function(){b.IE7fix.call(a);d.onShow.call(a)});return this}})})(jQuery);(function(){var q="[object Array]",p="[object RegExp]",o="[object Boolean]",n="[object Date]",m="[object Number]",l="[object String]",e=false,c=true,b=null,B="undefined",w=this,L=w._,r={},g=Array.prototype,H=Object.prototype,Q=Function.prototype,d=g.slice,U=g.unshift,h=H.toString,M=H.hasOwnProperty,A=g.forEach,G=g.map,D=g.reduce,z=g.reduceRight,C=g.filter,E=g.every,F=g.some,k=g.indexOf,y=g.lastIndexOf,N=Array.isArray,P=Object.keys,s=Q.bind,a=function(a){return new i(a)};if(typeof exports!==B){if(typeof module!==B&&module.exports)exports=module.exports=a;exports._=a}else w._=a;a.VERSION="1.3.3";var f=a.each=a.forEach=function(c,e,f){if(c==b)return;if(A&&c.forEach===A)c.forEach(e,f);else if(c.length===+c.length){for(var d=0,h=c.length;d<h;d++)if(d in c&&e.call(f,c[d],d,c)===r)return}else for(var g in c)if(a.has(c,g))if(e.call(f,c[g],g,c)===r)return};a.map=a.collect=function(a,d,e){var c=[];if(a==b)return c;if(G&&a.map===G)return a.map(d,e);f(a,function(b,a,f){c[c.length]=d.call(e,b,a,f)});if(a.length===+a.length)c.length=a.length;return c};a.reduce=a.foldl=a.inject=function(d,e,g,i){var h=arguments.length>2;if(d==b)d=[];if(D&&d.reduce===D){if(i)e=a.bind(e,i);return h?d.reduce(e,g):d.reduce(e)}f(d,function(a,b,d){if(!h){g=a;h=c}else g=e.call(i,g,a,b,d)});if(!h)throw new TypeError("Reduce of empty array with no initial value");return g};a.reduceRight=a.foldr=function(d,c,h,e){var f=arguments.length>2;if(d==b)d=[];if(z&&d.reduceRight===z){if(e)c=a.bind(c,e);return f?d.reduceRight(c,h):d.reduceRight(c)}var g=a.toArray(d).reverse();if(e&&!f)c=a.bind(c,e);return f?a.reduce(g,c,h,e):a.reduce(g,c)};a.find=a.detect=function(e,b,d){var a;J(e,function(e,f,g){if(b.call(d,e,f,g)){a=e;return c}});return a};a.filter=a.select=function(c,d,e){var a=[];if(c==b)return a;if(C&&c.filter===C)return c.filter(d,e);f(c,function(b,c,f){if(d.call(e,b,c,f))a[a.length]=b});return a};a.reject=function(c,d,e){var a=[];if(c==b)return a;f(c,function(b,c,f){if(!d.call(e,b,c,f))a[a.length]=b});return a};a.every=a.all=function(d,e,g){var a=c;if(d==b)return a;if(E&&d.every===E)return d.every(e,g);f(d,function(c,b,d){if(!(a=a&&e.call(g,c,b,d)))return r});return!!a};var J=a.some=a.any=function(g,c,h){c||(c=a.identity);var d=e;if(g==b)return d;if(F&&g.some===F)return g.some(c,h);f(g,function(b,a,e){if(d||(d=c.call(h,b,a,e)))return r});return!!d};a.include=a.contains=function(a,d){var c=e;if(a==b)return c;if(k&&a.indexOf===k)return a.indexOf(d)!=-1;c=J(a,function(a){return a===d});return c};a.invoke=function(e,b){var c=d.call(arguments,2);return a.map(e,function(d){return(a.isFunction(b)?b||d:d[b]).apply(d,c)})};a.pluck=function(c,b){return a.map(c,function(a){return a[b]})};a.max=function(b,c,e){if(!c&&a.isArray(b)&&b[0]===+b[0])return Math.max.apply(Math,b);if(!c&&a.isEmpty(b))return-Infinity;var d={computed:-Infinity};f(b,function(a,f,g){var b=c?c.call(e,a,f,g):a;b>=d.computed&&(d={value:a,computed:b})});return d.value};a.min=function(b,c,e){if(!c&&a.isArray(b)&&b[0]===+b[0])return Math.min.apply(Math,b);if(!c&&a.isEmpty(b))return Infinity;var d={computed:Infinity};f(b,function(a,f,g){var b=c?c.call(e,a,f,g):a;b<d.computed&&(d={value:a,computed:b})});return d.value};a.shuffle=function(c){var a=[],b;f(c,function(d,c){b=Math.floor(Math.random()*(c+1));a[c]=a[b];a[b]=d});return a};a.sortBy=function(e,b,d){var c=a.isFunction(b)?b:function(a){return a[b]};return a.pluck(a.map(e,function(a,b,e){return{value:a,criteria:c.call(d,a,b,e)}}).sort(function(d,c){var a=d.criteria,b=c.criteria;return a===void 0?1:b===void 0?-1:a<b?-1:a>b?1:0}),"value")};a.groupBy=function(e,c){var b={},d=a.isFunction(c)?c:function(a){return a[c]};f(e,function(a,e){var c=d(a,e);(b[c]||(b[c]=[])).push(a)});return b};a.sortedIndex=function(f,g,b){b||(b=a.identity);var c=0,d=f.length;while(c<d){var e=c+d>>1;b(f[e])<b(g)?(c=e+1):(d=e)}return c};a.toArray=function(b){return!b?[]:a.isArray(b)?d.call(b):a.isArguments(b)?d.call(b):b.toArray&&a.isFunction(b.toArray)?b.toArray():a.values(b)};a.size=function(b){return a.isArray(b)?b.length:a.keys(b).length};a.first=a.head=a.take=function(a,c,e){return c!=b&&!e?d.call(a,0,c):a[0]};a.initial=function(a,c,e){return d.call(a,0,a.length-(c==b||e?1:c))};a.last=function(a,c,e){return c!=b&&!e?d.call(a,Math.max(a.length-c,0)):a[a.length-1]};a.rest=a.tail=function(c,a,e){return d.call(c,a==b||e?1:a)};a.compact=function(b){return a.filter(b,function(a){return!!a})};a.flatten=function(c,b){return a.reduce(c,function(d,c){if(a.isArray(c))return d.concat(b?c:a.flatten(c));d[d.length]=c;return d},[])};a.without=function(b){return a.difference(b,d.call(arguments,1))};a.uniq=a.unique=function(b,d,e){var g=e?a.map(b,e):b,f=[];if(b.length<3)d=c;a.reduce(g,function(c,e,g){if(d?a.last(c)!==e||!c.length:!a.include(c,e)){c.push(e);f.push(b[g])}return c},[]);return f};a.union=function(){return a.uniq(a.flatten(arguments,c))};a.intersection=a.intersect=function(b){var c=d.call(arguments,1);return a.filter(a.uniq(b),function(b){return a.every(c,function(c){return a.indexOf(c,b)>=0})})};a.difference=function(b){var e=a.flatten(d.call(arguments,1),c);return a.filter(b,function(b){return!a.include(e,b)})};a.zip=function(){for(var f=d.call(arguments),e=a.max(a.pluck(f,"length")),c=new Array(e),b=0;b<e;b++)c[b]=a.pluck(f,""+b);return c};a.indexOf=function(d,e,g){if(d==b)return-1;var c,f;if(g){c=a.sortedIndex(d,e);return d[c]===e?c:-1}if(k&&d.indexOf===k)return d.indexOf(e);for(c=0,f=d.length;c<f;c++)if(c in d&&d[c]===e)return c;return-1};a.lastIndexOf=function(a,d){if(a==b)return-1;if(y&&a.lastIndexOf===y)return a.lastIndexOf(d);var c=a.length;while(c--)if(c in a&&a[c]===d)return c;return-1};a.range=function(a,d,b){if(arguments.length<=1){d=a||0;a=0}b=arguments[2]||1;var f=Math.max(Math.ceil((d-a)/b),0),e=0,c=new Array(f);while(e<f){c[e++]=a;a+=b}return c};var I=function(){};a.bind=function(b,f){var e,c;if(b.bind===s&&s)return s.apply(b,d.call(arguments,1));if(!a.isFunction(b))throw new TypeError;c=d.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(f,c.concat(d.call(arguments)));I.prototype=b.prototype;var g=new I,a=b.apply(g,c.concat(d.call(arguments)));return Object(a)===a?a:g}};a.bindAll=function(b){var c=d.call(arguments,1);if(c.length==0)c=a.functions(b);f(c,function(c){b[c]=a.bind(b[c],b)});return b};a.memoize=function(d,b){var c={};b||(b=a.identity);return function(){var e=b.apply(this,arguments);return a.has(c,e)?c[e]:(c[e]=d.apply(this,arguments))}};a.delay=function(c,e){var a=d.call(arguments,2);return setTimeout(function(){return c.apply(b,a)},e)};a.defer=function(b){return a.delay.apply(a,[b,1].concat(d.call(arguments,1)))};a.throttle=function(l,m){var f,h,g,d,i,k,j=a.debounce(function(){i=d=e},m);return function(){f=this;h=arguments;var a=function(){g=b;i&&l.apply(f,h);j()};if(!g)g=setTimeout(a,m);if(d)i=c;else k=l.apply(f,h);j();d=c;return k}};a.debounce=function(d,e,c){var a;return function(){var f=this,g=arguments,h=function(){a=b;!c&&d.apply(f,g)};c&&!a&&d.apply(f,g);clearTimeout(a);a=setTimeout(h,e)}};a.once=function(d){var b=e,a;return function(){if(b)return a;b=c;return a=d.apply(this,arguments)}};a.wrap=function(b,a){return function(){var c=[b].concat(d.call(arguments,0));return a.apply(this,c)}};a.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}};a.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};a.keys=P||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var c=[];for(var d in b)if(a.has(b,d))c[c.length]=d;return c};a.values=function(b){return a.map(b,a.identity)};a.functions=a.methods=function(d){var b=[];for(var c in d)a.isFunction(d[c])&&b.push(c);return b.sort()};a.extend=function(a){f(d.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a};a.pick=function(c){var b={};f(a.flatten(d.call(arguments,1)),function(a){if(a in c)b[a]=c[a]});return b};a.defaults=function(a){f(d.call(arguments,1),function(d){for(var c in d)if(a[c]==b)a[c]=d[c]});return a};a.clone=function(b){return!a.isObject(b)?b:a.isArray(b)?b.slice():a.extend({},b)};a.tap=function(a,b){b(a);return a};function x(d,f,j){var r="constructor";if(d===f)return d!==0||1/d==1/f;if(d==b||f==b)return d===f;if(d._chain)d=d._wrapped;if(f._chain)f=f._wrapped;if(d.isEqual&&a.isFunction(d.isEqual))return d.isEqual(f);if(f.isEqual&&a.isFunction(f.isEqual))return f.isEqual(d);var s=h.call(d);if(s!=h.call(f))return e;switch(s){case l:return d==String(f);case m:return d!=+d?f!=+f:d==0?1/d==1/f:d==+f;case n:case o:return+d==+f;case p:return d.source==f.source&&d.global==f.global&&d.multiline==f.multiline&&d.ignoreCase==f.ignoreCase}if(typeof d!="object"||typeof f!="object")return e;var t=j.length;while(t--)if(j[t]==d)return c;j.push(d);var g=0,i=c;if(s==q){g=d.length;i=g==f.length;if(i)while(g--)if(!(i=g in d==g in f&&x(d[g],f[g],j)))break}else{if(r in d!=r in f||d.constructor!=f.constructor)return e;for(var k in d)if(a.has(d,k)){g++;if(!(i=a.has(f,k)&&x(d[k],f[k],j)))break}if(i){for(k in f)if(a.has(f,k)&&!g--)break;i=!g}}j.pop();return i}a.isEqual=function(a,b){return x(a,b,[])};a.isEmpty=function(d){if(d==b)return c;if(a.isArray(d)||a.isString(d))return d.length===0;for(var f in d)if(a.has(d,f))return e;return c};a.isElement=function(a){return!!(a&&a.nodeType==1)};a.isArray=N||function(a){return h.call(a)==q};a.isObject=function(a){return a===Object(a)};a.isArguments=function(a){return h.call(a)=="[object Arguments]"};if(!a.isArguments(arguments))a.isArguments=function(b){return!!(b&&a.has(b,"callee"))};a.isFunction=function(a){return h.call(a)=="[object Function]"};a.isString=function(a){return h.call(a)==l};a.isNumber=function(a){return h.call(a)==m};a.isFinite=function(b){return a.isNumber(b)&&isFinite(b)};a.isNaN=function(a){return a!==a};a.isBoolean=function(a){return a===c||a===e||h.call(a)==o};a.isDate=function(a){return h.call(a)==n};a.isRegExp=function(a){return h.call(a)==p};a.isNull=function(a){return a===b};a.isUndefined=function(a){return a===void 0};a.has=function(b,a){return M.call(b,a)};a.noConflict=function(){w._=L;return this};a.identity=function(a){return a};a.times=function(d,b,c){for(var a=0;a<d;a++)b.call(c,a)};a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};a.result=function(c,e){if(c==b)return b;var d=c[e];return a.isFunction(d)?d.call(c):d};a.mixin=function(b){f(a.functions(b),function(c){O(c,a[c]=b[c])})};var R=0;a.uniqueId=function(a){var b=R++;return a?a+b:b};a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var u=/.^/,j={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"",u2029:""};for(var K in j)j[j[K]]=K;var T=/\\|'|\r|\n|\t|\u2028|\u2029/g,S=/\\(\\|'|r|n|t|u2028|u2029)/g,t=function(a){return a.replace(S,function(b,a){return j[a]})};a.template=function(g,f,b){b=a.defaults(b||{},a.templateSettings);var c="__p+='"+g.replace(T,function(a){return"\\"+j[a]}).replace(b.escape||u,function(b,a){return"'+\n_.escape("+t(a)+")+\n'"}).replace(b.interpolate||u,function(b,a){return"'+\n("+t(a)+")+\n'"}).replace(b.evaluate||u,function(b,a){return"';\n"+t(a)+"\n;__p+='"})+"';\n";if(!b.variable)c="with(obj||{}){\n"+c+"}\n";c="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+c+"return __p;\n";var e=new Function(b.variable||"obj","_",c);if(f)return e(f,a);var d=function(b){return e.call(this,b,a)};d.source="function("+(b.variable||"obj")+"){\n"+c+"}";return d};a.chain=function(b){return a(b).chain()};var i=function(a){this._wrapped=a};a.prototype=i.prototype;var v=function(b,c){return c?a(b).chain():b},O=function(c,b){i.prototype[c]=function(){var c=d.call(arguments);U.call(c,this._wrapped);return v(b.apply(a,c),this._chain)}};a.mixin(a);f(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=g[a];i.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;if((a=="shift"||a=="splice")&&d===0)delete c[0];return v(c,this._chain)}});f(["concat","join","slice"],function(a){var b=g[a];i.prototype[a]=function(){return v(b.apply(this._wrapped,arguments),this._chain)}});i.prototype.chain=function(){this._chain=c;return this};i.prototype.value=function(){return this._wrapped}}).call(this);var XDate=function(e,j,B,l){var w="yyyy-MM-dd'T'HH:mm:ss(.fff)zzz",p=",",b="",o=8.64e7,d=12,n="string",m="boolean";function c(){var b=this instanceof c?this:new c,d=arguments,a=d.length,f;typeof d[a-1]==m&&(f=d[--a],d=r(d,0,a));if(a)if(a==1){if(a=d[0],a instanceof e||typeof a=="number")b[0]=new e(+a);else if(a instanceof c){var d=b,g=new e(+a[0]);if(h(a))g.toString=x;d[0]=g}else if(typeof a==n){b[0]=new e(0);a:{for(var d=a,a=f||!1,g=c.parsers,i=0,j;i<g.length;i++)if(j=g[i](d,a,b)){b=j;break a}b[0]=new e(d)}}}else b[0]=new e(k.apply(e,d)),f||(b[0]=s(b[0]));else b[0]=new e;typeof f==m&&C(b,f);return b}function h(a){return a[0].toString===x}function C(a,c,b){if(c){if(!h(a))b&&(a[0]=new e(k(a[0].getFullYear(),a[0].getMonth(),a[0].getDate(),a[0].getHours(),a[0].getMinutes(),a[0].getSeconds(),a[0].getMilliseconds()))),a[0].toString=x}else h(a)&&(a[0]=b?s(a[0]):new e(+a[0]));return a}function D(a,h,f,b,e){var c=i(g,a[0],e),a=i(E,a[0],e),e=h==1?f%d:c(1),j=!1;b.length==2&&typeof b[1]==m&&(j=b[1],b=[f]);a(h,b);j&&c(1)!=e&&(a(1,[c(1)-1]),a(2,[F(c(0),c(1))]))}function G(c,a,b,e){var b=Number(b),d=j.floor(b);c["set"+q[a]](c["get"+q[a]]()+d,e||!1);d!=b&&a<6&&G(c,a+1,(b-d)*H[a],e)}function I(e,f,a){var e=e.clone().setUTCMode(!0,!0),f=c(f).setUTCMode(!0,!0),b=0;if(a==0||a==1){for(var h=6;h>=a;h--)b/=H[h],b+=g(f,!1,h)-g(e,!1,h);a==1&&(b+=(f.getFullYear()-e.getFullYear())*d)}else a==2?(a=e.toDate().setUTCHours(0,0,0,0),b=f.toDate().setUTCHours(0,0,0,0),b=j.round((b-a)/o)+(f-b-(e-a))/o):(b=(f-e)/([3.6e6,6e4,1e3,1])[a-3]);return b}function t(a){var b=a(0),c=a(1),a=a(2),c=new e(k(b,c,a)),d=u(b),a=d;c<d?(a=u(b-1)):(b=u(b+1),c>=b&&(a=b));return j.floor(j.round((c-a)/o)/7)+1}function u(a){a=new e(k(a,0,4));a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+6)%7);return a}function J(b,e,a,c){var d=i(g,b,c),f=i(E,b,c),a=u(a===l?d(0):a);c||(a=s(a));b.setTime(+a);f(2,[d(2)+(e-1)*7])}function K(b,j,a,d,e){var h=c.locales,k=h[c.defaultLocale]||{},f=i(g,b,e),a=(typeof a==n?h[a]:a)||{};return y(b,j,function(a){if(d)for(var b=(a==7?2:a)-1;b>=0;b--)d.push(f(b));return f(a)},function(b){return a[b]||k[b]},e)}function y(i,e,j,k,m){for(var a,f,c=b;a=e.match(N);){c+=e.substr(0,a.index);if(a[1]){f=c;for(var c=i,d=a[1],o=j,p=k,q=m,g=d.length,h=void 0,n=b;g>0;)h=O(c,d.substr(0,g),o,p,q),h!==l?(n+=h,d=d.substr(g),g=d.length):g--;c=f+(n+d)}else a[3]?(f=y(i,a[4],j,k,m),parseInt(f.replace(/\D/g,b),10)&&(c+=f)):(c+=a[7]||"'");e=e.substr(a.index+a[0].length)}return c+e}function O(i,g,a,e,h){var k=c.formatters[g];if(typeof k==n)return y(i,k,a,e,h);else if(typeof k=="function")return k(i,h||!1,e);switch(g){case"fff":return f(a(6),3);case"s":return a(5);case"ss":return f(a(5));case"m":return a(4);case"mm":return f(a(4));case"h":return a(3)%d||d;case"hh":return f(a(3)%d||d);case"H":return a(3);case"HH":return f(a(3));case"d":return a(2);case"dd":return f(a(2));case"ddd":return e("dayNamesShort")[a(7)]||b;case"dddd":return e("dayNames")[a(7)]||b;case"M":return a(1)+1;case"MM":return f(a(1)+1);case"MMM":return e("monthNamesShort")[a(1)]||b;case"MMMM":return e("monthNames")[a(1)]||b;case"yy":return(a(0)+b).substring(2);case"yyyy":return a(0);case"t":return v(a,e).substr(0,1).toLowerCase();case"tt":return v(a,e).toLowerCase();case"T":return v(a,e).substr(0,1);case"TT":return v(a,e);case"z":case"zz":case"zzz":return h?(g="Z"):(e=i.getTimezoneOffset(),i=e<0?"+":"-",a=j.floor(j.abs(e)/60),e=j.abs(e)%60,h=a,g=="zz"?(h=f(a)):g=="zzz"&&(h=f(a)+":"+f(e)),g=i+h),g;case"w":return t(a);case"ww":return f(t(a));case"S":return g=a(2),g>10&&g<20?"th":(["st","nd","rd"])[g%10-1]||"th"}}function v(b,a){return b(3)<d?a("amDesignator"):a("pmDesignator")}function z(a){return!isNaN(+a[0])}function g(a,d,c){return a["get"+(d?"UTC":b)+q[c]]()}function E(a,d,c,e){a["set"+(d?"UTC":b)+q[c]].apply(a,e)}function s(a){return new e(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())}function F(a,b){return 32-(new e(k(a,b,32))).getUTCDate()}function A(a){return function(){return a.apply(l,[this].concat(r(arguments)))}}function i(a){var b=r(arguments,1);return function(){return a.apply(l,b.concat(r(arguments)))}}function r(a,c,b){return B.prototype.slice.call(a,c||0,b===l?a.length:b)}function L(b,c){for(var a=0;a<b.length;a++)c(b[a],a)}function f(a,c){c=c||2;for(a+=b;a.length<c;)a="0"+a;return a}var q="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(p),M=["Years","Months","Days"],H=[d,31,24,60,60,1e3,1],N=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,k=e.UTC,x=e.prototype.toUTCString,a=c.prototype;a.length=1;a.splice=B.prototype.splice;a.getUTCMode=A(h);a.setUTCMode=A(C);a.getTimezoneOffset=function(){return h(this)?0:this[0].getTimezoneOffset()};L(q,function(c,b){a["get"+c]=function(){return g(this[0],h(this),b)};b!=8&&(a["getUTC"+c]=function(){return g(this[0],!0,b)});b!=7&&(a["set"+c]=function(a){D(this,b,a,arguments,h(this));return this},b!=8&&(a["setUTC"+c]=function(a){D(this,b,a,arguments,!0);return this},a["add"+(M[b]||c)]=function(a,c){G(this,b,a,c);return this},a["diff"+(M[b]||c)]=function(a){return I(this,a,b)}))});a.getWeek=function(){return t(i(g,this,!1))};a.getUTCWeek=function(){return t(i(g,this,!0))};a.setWeek=function(a,b){J(this,a,b,!1);return this};a.setUTCWeek=function(a,b){J(this,a,b,!0);return this};a.addWeeks=function(a){return this.addDays(Number(a)*7)};a.diffWeeks=function(a){return I(this,a,2)/7};c.parsers=[function(a,f,c){if(a=a.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var b=new e(k(a[1],a[3]?a[3]-1:0,a[5]||1,a[7]||0,a[8]||0,a[10]||0,a[d]?Number("0."+a[d])*1e3:0));a[13]?a[14]&&b.setUTCMinutes(b.getUTCMinutes()+(a[15]=="-"?1:-1)*(Number(a[16])*60+(a[18]?Number(a[18]):0))):f||(b=s(b));return c.setTime(+b)}}];c.parse=function(a){return+c(b+a)};a.toString=function(b,d,c){var a=this;return b===l||!z(a)?a[0].toString():K(a,b,d,c,h(a))};a.toUTCString=a.toGMTString=function(a,c,b){return a===l||!z(this)?this[0].toUTCString():K(this,a,c,b,!0)};a.toISOString=function(){return this.toUTCString(w)};c.defaultLocale=b;c.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(p),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(p),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(p),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(p),amDesignator:"AM",pmDesignator:"PM"}};c.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:w};L("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(p),function(b){a[b]=function(){return this[0][b]()}});a.setTime=function(a){this[0].setTime(a);return this};a.valid=A(z);a.clone=function(){return new c(this)};a.clearTime=function(){return this.setHours(0,0,0,0)};a.toDate=function(){return new e(+this[0])};c.now=function(){return+new e};c.today=function(){return(new c).clearTime()};c.UTC=k;c.getDaysInMonth=F;if(typeof module!=="undefined"&&module.exports)module.exports=c;return c}(Date,Math,Array);function parseMdyyyyHHmmTT(c){if(c.indexOf("t")==-1||c.indexOf("-")==-1)return null;var g=c.split("t")[0],d=c.split("t")[1],a=g.split("-"),e=d.split(" ")[0],f=d.split(" ")[1],b=e.split(":");return a.length==3&&b.length==2?new XDate(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),f=="AM"?parseInt(b[0]):parseInt(b[0])+12,parseInt(b[1])):null}function parseMdyyyyHHmmTTSlashes(c){if(c.indexOf("t")==-1||c.indexOf("/")==-1)return null;var g=c.split("t")[0],d=c.split("t")[1],a=g.split("/"),e=d.split(" ")[0],f=d.split(" ")[1],b=e.split(":");return a.length==3&&b.length==2?new XDate(parseInt(a[2]),parseInt(a[1]),parseInt(a[0]),f=="AM"?parseInt(b[0]):parseInt(b[0])+12,parseInt(b[1])):null}XDate.parsers.push(parseMdyyyyHHmmTT);XDate.parsers.push(parseMdyyyyHHmmTTSlashes);$.fn.ccMenu=function(b){if(!this)return;var a=b;$(this).each(function(){var b=new CCMenu(this,a);$(this).data().ccMenu=b;b.showMenu();a.startingTokens&&b.goToItem(a.startingTokens);return this})};function CCMenu(o,m){var l=".fg-menu li a",d="li",k=".fg-menu-breadcrumb",c="ul",i=".fg-menu",h=false,e=true,f=this,g=f,j=$(o);$(j).wrap("<div />");var n=$(j).parent().hide(),a=jQuery.extend({content:n.html(),width:220,maxHeight:400,positionOpts:{posX:"left",posY:"bottom",offsetX:0,offsetY:0,directionH:"right",directionV:"down",detectH:e,detectV:e,linkToFront:h},showSpeed:200,callerOnState:"ui-state-active",loadingState:"ui-state-loading",linkHover:"ui-state-hover",linkHoverSecondary:"li-hover",crossSpeed:200,crumbDefaultText:"Choose an option:",backLink:e,backLinkText:"Back",flyOut:h,flyOutOnState:"ui-state-default",nextMenuLink:"ui-icon-triangle-1-e",topLinkText:"Home",nextCrumbLink:"ui-icon-carat-1-e",containingElement:".mf_menuContainer"},m);f.showLoading=function(){j.addClass(a.loadingState)};var b=$('<div class="mf_menuContainer ui-widget ui-widget-content ui-corner-all">'+a.content+"</div>");$(j).hide();f.getLocationString=function(){var a="";$(".fg-menu-breadcrumb li").each(function(c,b){if(c>0)a+=$(b).text().trim()+"/"});return a.length>0?a.substring(0,a.length-1):""};f.setMenuByUrl=function(f){var d=b.find(i).find("a[href='"+f+"']");if($(d).size()==0)return;var c="";function e(b){var a=$(b).parents("ul:eq(0)");if(!a||$(a).hasClass("ccMenu"))return;c+=a.siblings("a").children("span").text().trim()+"/";e(a)}e(d);if(!c)g.resetDrilldownMenu();else{c=c.substring(0,c.length-1).split("/").reverse().join("/");g.goToItem(c)}$(d).addClass(a.callerOnState)};f.goToItem=function(h){var f="fg-menu-current";$(".fg-menu-current").removeClass(f);b.find(i).find(c).each(function(){$(this).hide();$(this).removeClass("fg-menu-scroll").removeClass(f).height("auto")});$(".fg-menu-all-lists").find("span").remove();$(k).empty().append($('<li class="fg-menu-breadcrumb-text">'+a.crumbDefaultText+"</li>"));var j=h.split("/"),g=b.find(i);$(j).each(function(f,b){$(g).children(d).children("a").each(function(f,d){if($(d).text()==b){$(d).trigger("click",e);$(g).removeClass(a.callerOnState);g=$(this).next(c)}})})};f.showMenu=function(){!g.menuExists&&g.create();g.menuOpen=e;$(document).keydown(function(a){var b;if(a.which!="")b=a.which;else if(a.charCode!="")b=a.charCode;else if(a.keyCode!="")b=a.keyCode;var c=$(a.target).parents("div").is(".fg-menu-flyout")?"flyout":"ipod"})};f.create=function(){var e="id",f="active-menuitem";b.css({width:a.width}).appendTo(a.containingElement).find("ul:first").not(k).addClass("fg-menu");b.find("ul, li a").addClass("ui-corner-all");b.find(c).attr("role","menu").eq(0).attr("aria-activedescendant",f).attr("aria-labelledby",j.attr(e));b.find(d).attr("role","menuitem");b.find("li:has(ul)").attr("aria-haspopup","true").find(c).attr("aria-expanded","false");b.find("a").attr("tabindex","-1");if(b.find(c).size()>1)g.drilldown(b,a);else b.find("a").click(function(){g.chooseItem(this);return h});if(a.linkHover){var i=b.find(l);i.hover(function(){var b=$(this);$("."+a.linkHover).removeClass(a.linkHover).blur().parent().removeAttr(e);$(this).addClass(a.linkHover).focus().parent().attr(e,f)},function(){$(this).removeClass(a.linkHover).blur().parent().removeAttr(e)})}a.linkHoverSecondary&&b.find(".fg-menu li").hover(function(){$(this).siblings(d).removeClass(a.linkHoverSecondary);a.flyOutOnState&&$(this).siblings(d).find("a").removeClass(a.flyOutOnState);$(this).addClass(a.linkHoverSecondary)},function(){$(this).removeClass(a.linkHoverSecondary)});g.setPosition(b,j,a)};f.chooseItem=function(c){$(l,b).removeClass(a.callerOnState);$(c).addClass(a.callerOnState);MF.vent.trigger("menuItem",$(c).attr("rel"));return h}}CCMenu.prototype.drilldown=function(e,a){var c=false,h='"></span>',k=".fg-menu-footer",g=".fg-menu-current",d="fg-menu-current",j="fg-menu-scroll",m="</a></li>",n=this,b=e.find(".fg-menu"),f=$('<ul class="fg-menu-breadcrumb ui-widget-header ui-corner-all ui-helper-clearfix"></ul>'),o=$('<li class="fg-menu-breadcrumb-text">'+a.crumbDefaultText+"</li>"),t=a.backLink?a.backLinkText:a.topLinkText,r=a.backLink?"fg-menu-prev-list":"fg-menu-all-lists",q=a.backLink?"ui-state-default ui-corner-all":"",s=a.backLink?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"",p=$('<li class="'+r+'"><a href="#" class="'+q+'">'+s+t+m);e.addClass("fg-menu-ipod");if(a.backLink)f.addClass("fg-menu-footer").appendTo(e).hide();else f.addClass("fg-menu-header").prependTo(e);f.append(o);var i=function(b){b.height()>a.maxHeight&&b.addClass(j);b.css({height:a.maxHeight})},l=function(a){a.removeClass(j).removeClass(d).height("auto")};this.getTopList=function(){return b};this.resetDrilldownMenu=function(){$("."+a.callerOnState).removeClass(a.callerOnState);$(g).removeClass(d);b.animate({left:0},a.crossSpeed,function(){$(this).find("ul").each(function(){$(this).hide();l($(this))});b.addClass(d)});$(".fg-menu-all-lists").find("span").remove();f.empty().append(o);f.hide();$(k).empty().hide();i(b)};b.addClass("fg-menu-content fg-menu-current ui-widget-content ui-helper-clearfix").css({width:e.width()}).find("ul").css({width:e.width(),left:e.width()}).addClass("ui-widget-content").hide();i(b);b.find("a").each(function(){if($(this).next().is("ul"))$(this).addClass("fg-menu-indicator").each(function(){$(this).html("<span>"+$(this).text()+'</span><span class="ui-icon '+a.nextMenuLink+h)}).click(u);else $(this).click(function(){n.chooseItem(this);return c})});function u(D,A){var s="fg-menu-current-crumb",r=".fg-menu-current-crumb",q="aria-expanded",j="left",o="ul:eq(0)",z=D.currentTarget,y=$(z).next(),w=$(z).parents(o),B=w.is(".fg-menu-content")?0:parseFloat(b.css(j)),x=Math.round(B-parseFloat(e.width())),t=$(k);l(w);i(y);if(A)b.css(j,x);else b.animate({left:x},a.crossSpeed);y.show().addClass(d).attr(q,"true");var u=function(c){var e=c,b=$(g),a=b.parents(o);b.hide().attr(q,"false");l(b);i(a);a.addClass(d).attr(q,"true");if(a.hasClass("fg-menu-content")){e.remove();t.hide()}};if(a.backLink){if(t.find("a").size()==0){t.show();$('<a href="#"><span class="ui-icon ui-icon-triangle-1-w"></span> <span>Back</span></a>').appendTo(t).click(function(){var f=$(this),d=parseFloat(b.css(j))+e.width();b.animate({left:d},a.crossSpeed,function(){u(f)});return c})}}else{if(f.find("li").size()==1){f.empty().append(p);p.find("a").click(function(){n.resetDrilldownMenu();return c})}$(r).removeClass(s);var C=$(this).find("span:eq(0)").text(),v=$('<li class="fg-menu-current-crumb"><a href="javascript://" class="fg-menu-crumb">'+C+m);f.show();$($(v).find("a")[0]).data().representsList=w;v.appendTo(f).find("a").click(function(){var d=this;if($(d).parent().is(r))n.chooseItem(d);else{var h=$(d).parents(o).find("li"),f=h.size()-h.index($(d).parent());while(f>1){var g=parseFloat(b.css(j));if(f>2){b.css(j,g+e.width());u()}else b.animate({left:g+e.width()},a.crossSpeed,function(){u()});f--}$(d).parent().addClass(s).find("span").remove();$(d).parent().nextAll().remove()}return c});v.prev().append(' <span class="ui-icon '+a.nextCrumbLink+h)}return c}};CCMenu.prototype.setPosition=function(i,h,b){var c="auto",a=i,f=h,g={refX:f.offset().left,refY:f.offset().top,refW:f.getTotalWidth(),refH:f.getTotalHeight()},b=b,d,e;switch(b.positionOpts.posX){case"left":d=0;break;case"center":d=g.refW/2;break;case"right":d=g.refW}switch(b.positionOpts.posY){case"top":e=0;break;case"center":e=g.refH/2;break;case"bottom":e=g.refH}d+=b.positionOpts.offsetX;e+=b.positionOpts.offsetY;if(b.positionOpts.directionV=="up"){a.css({top:c,bottom:e});b.positionOpts.detectV&&!fitVertical(a)&&a.css({bottom:c,top:e})}else{a.css({bottom:c,top:e});b.positionOpts.detectV&&!fitVertical(a)&&a.css({top:c,bottom:e})}if(b.positionOpts.directionH=="left"){a.css({left:c,right:d});b.positionOpts.detectH&&!fitHorizontal(a)&&a.css({right:c,left:d})}else{a.css({right:c,left:d});b.positionOpts.detectH&&!fitHorizontal(a)&&a.css({left:c,right:d})}};function sortBigToSmall(a,b){return b-a}jQuery.fn.getTotalWidth=function(){var a=this;return $(a).width()+parseInt($(a).css("paddingRight"))+parseInt($(a).css("paddingLeft"))+parseInt($(a).css("borderRightWidth"))+parseInt($(a).css("borderLeftWidth"))};jQuery.fn.getTotalHeight=function(){var a=this;return $(a).height()+parseInt($(a).css("paddingTop"))+parseInt($(a).css("paddingBottom"))+parseInt($(a).css("borderTopWidth"))+parseInt($(a).css("borderBottomWidth"))};function getScrollTop(){return self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function getScrollLeft(){return self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}function getWindowHeight(){var a=document.documentElement;return self.innerHeight||a&&a.clientHeight||document.body.clientHeight}function getWindowWidth(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth}function fitHorizontal(b,c){var a=parseInt(c)||$(b).offset().left;return a+$(b).width()<=getWindowWidth()+getScrollLeft()&&a-getScrollLeft()>=0}function fitVertical(b,c){var a=parseInt(c)||$(b).offset().top;return a+$(b).height()<=getWindowHeight()+getScrollTop()&&a-getScrollTop()>=0}Number.prototype.pxToEm=String.prototype.pxToEm=function(b){var c="font-size",a="body";b=jQuery.extend({scope:a,reverse:false},b);var f=this==""?0:parseFloat(this),d,e=function(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth};if(b.scope==a&&$.browser.msie&&(parseFloat($(a).css(c))/e()).toFixed(1)>0){var g=function(){return(parseFloat($(a).css(c))/e()).toFixed(3)*16};d=g()}else d=parseFloat(jQuery(b.scope).css(c));var h=b.reverse==true?(f*d).toFixed(2)+"px":(f/d).toFixed(2)+"em";return h};if(typeof MF=="undefined")var MF={};if(typeof cc=="undefined")var cc={};cc.namespace=function(){for(var e=arguments,b=null,a,c,d=0;d<e.length;d=d+1){c=e[d].split(".");b=window;for(a=0;a<c.length;a=a+1){b[c[a]]=b[c[a]]||{};b=b[c[a]]}}return b};cc.namespace("cc.utilities");(function(a){a.fn.crudForm=function(c,d){return this.each(function(){var e="crudForm",f=a(this);if(f.data(e)&&f.data(e)[_.first(_.keys(c))])return f.data(e)[_.first(_.keys(c))].call(this,_.first(_.values(c)));else!f.data(e)&&f.data(e,new b(c,f,d))})};var b=function(i,j,f){var b="select-one",c=a.extend({},a.fn.crudForm.defaults,i||{}),d=f,h=function(b){var e=b,c={dataType:"json",success:function(b){var c=a(e).data().viewId;MF.notificationService.resetArea(d);MF.notificationService.processResult(b,d,c)},beforeSubmit:g};a(b).ajaxSubmit(c)},g=function(d){var b=d;a(c.beforeSubmitCallbackFunctions).each(function(c,a){typeof a==="function"&&a(b)})},e=MF.notificationService.retrieveArea(d);this.setBeforeSubmitFuncs=function(b){var d=!a.isArray(b)?[b]:b;a(d).each(function(d,b){a.inArray(b,c.beforeSubmitCallbackFunctions)<=0&&c.beforeSubmitCallbackFunctions.push(b)})};a(j).validate({submitHandler:h,errorContainer:e.getErrorContainer(),errorLabelContainer:e.getErrorContainer().find("ul"),wrapper:"li",validClass:"valid_field",errorClass:"invalid_field",ignore:"",extraAreasToValidate:c.extraAreasToValidate,highlight:function(c,d,f){e.getErrorContainer().find("ul").addClass(d);if(c.type==b)a(c).next("div").addClass(d);else if(c.type==="radio")this.findByName(c.name).addClass(d).removeClass(f);else a(c).addClass(d).removeClass(f)},unhighlight:function(c,d,e){if(c.type==="radio")this.findByName(c.name).removeClass(d).addClass(e);else if(c.type==b)a(c).next("div").removeClass(d).addClass(e);else a(c).removeClass(d).addClass(e)}})};a.fn.crudForm.defaults={dataType:"json",beforeSubmitCallbackFunctions:[]}})(jQuery);if(typeof cc=="undefined")var cc={};if(typeof cc.grid=="undefined")cc.grid={};cc.grid.columnService=function(){return{columnNames:function(a){return $.map(a.Columns,function(a){return a.header})},columnModel:function(a){return $.map(a.Columns,function(a){if(a.formatoptions&&typeof a.formatoptions=="string")a.formatoptions=JSON.parse(a.formatoptions);a.hidden=a.hidden=="true";a.search=a.search!="false";a.sortable=a.sortable!="false";if(!a.width)a.width="100%";if(a.editRules)a.editable=true;return a})}}}();cc.gridHelper=function(){return{adjustSize:function(a){var b=a.parents(".content-inner:eq(0)"),c=$(window).height()-$("#main-header").height();b.height(c-80);a.setGridHeight(b.height()-31);a.setGridWidth(b.width()-2)},adjustSortStyles:function(){var a="is-sorted";$(".ui-jqgrid th").removeClass(a);$('.ui-jqgrid th[aria-selected="true"]').addClass(a)},getCheckedBoxes:function(b){var a=[];$(b.jqGrid("getGridParam","selarrrow")).each(function(c,b){a.push(b)});return a}}}();cc.MessageNotficationService=function(){this.areaCache=[]};cc.MessageNotficationService.extend=cc.extend;$.extend(cc.MessageNotficationService.prototype,{processResult:function(a,c,b){if(typeof a=="string")a=JSON.parse(a);if(a.LoggedOut){window.location.replace(a.RedirectUrl);return}var d=this.retrieveArea(c);return d.processResult(a,b)},addArea:function(a){this.areaCache.push(a)},removeArea:function(a){MF.notificationService.areaCache=_.reject(this.areaCache,function(b){return b.name===a},this)},retrieveArea:function(a){if(!a)throw Error("No areaName provided");var b=_.find(this.areaCache,function(b){return b.name==a});if(!b)throw Error("Notification area not found");return b},resetArea:function(b){var a=this.retrieveArea(b);a&&a.resetArea()}});cc.NotificationArea=function(e,b,c,d){var a=this;a.name=e;a.errorContainer=c;a.successContainer=b;a.ventHandler=d;a.handleData=function(a,d){var b=this;if(a.Success&&a.Redirect){if(a.RedirectUrl)window.location.href=a.RedirectUrl;else if(ReturnUrl)window.location.href=ReturnUrl;return false}var c=a.Success?"success":"error";a.Message&&b.messageHandler.addMessage(c,a.Message,"");_.each(a.Errors||[],function(a){this.messageHandler.addMessage("error",a.ErrorMessage,a.PropertyName)},b);if(a.Success)b.messageHandler.showAllMessages(b.$successContainer,"valid_field",true);else b.messageHandler.showAllMessages(b.$errorContainer,"invalid_field");b.ventHandler&&b.ventHandler.trigger(b.name+":"+d+":"+c,a);return c}};cc.NotificationArea.extend=cc.extend;$.extend(cc.NotificationArea.prototype,{render:function(b){var a=this;a.$errorContainer=$(a.errorContainer,b);a.$successContainer=$(a.successContainer);a.$successContainer.hide().find("ul").removeClass();a.$errorContainer.hide().find("ul").removeClass();a.messageHandler=new cc.NotificationMessageHandler},areaName:function(){return this.name},processResult:function(a,b){return this.handleData(a,b)},getSuccessContainer:function(){return this.$successContainer},getErrorContainer:function(){return this.$errorContainer},resetArea:function(){this.$successContainer.hide().find("ul").removeClass();this.$errorContainer.hide().find("ul").removeClass();this.messageHandler.resetHandler()}});cc.NotificationMessageHandler=function(){this.messages=[];this.hasMessages=function(){return this.messages.length>0}};cc.NotificationMessageHandler.extend=cc.extend;$.extend(cc.NotificationMessageHandler.prototype,{addMessage:function(c,a,b){if(_.any(this.messages,function(b){return b.getMessage()==a}))return false;this.messages.push(new cc.Message(c,a,b))},createHtmlForAllMessages:function(){var a="";if(!this.hasMessages())return a;_.each(this.messages,function(b){a+=this.createHtmlForMessage(b)},this);return a},createHtmlForMessage:function(a){var c;if(a.getMessageType()=="success")c="valid_field";if(a.getMessageType()=="error")c="invalid_field";var b="<li>";b+='<label for="'+a.getField()+'" generated="true" class="'+c+'" style="display: block;">'+a.getMessage()+"</label>";b+="</li>";return b},showMessage:function(a,c,b){a.find("ul").removeClass();!a.isVisible()&&a.show();a.find("ul").addClass(b).html(this.createHtmlForMessage(c))},showAllMessages:function(a,c,d){var b="ul";a.find(b).removeClass();if(this.hasMessages()){a.find(b).addClass(c).html(this.createHtmlForAllMessages());a.show();if(d)a.find(b).show().delay(3e3).fadeOut(2e3);else a.find(b).show()}else a.hide().find(b).removeClass()},resetHandler:function(){this.messages=[]}});cc.Message=function(c,a,b){this.messageType=c;this._message=a;this._field=b};cc.Message.extend=cc.extend;$.extend(cc.Message.prototype,{getMessage:function(){return this._message},getMessageType:function(){return this.messageType},getField:function(){return this._field}});if(typeof cc=="undefined")var cc={};cc.namespace=function(){for(var e=arguments,b=null,a,c,d=0;d<e.length;d=d+1){c=e[d].split(".");b=window;for(a=0;a<c.length;a=a+1){b[c[a]]=b[c[a]]||{};b=b[c[a]]}}return b};cc.object=function(b){function a(){}a.prototype=b;return new a};cc.namespace("cc.utilities");cc.utilities.toggleForm=function(b,c){if(c&&$("#"+b+"Collapsible .mf_container:visible").length>0)return;var a=$("#"+b+"Collapsible .mf_container");if(!a.is(":hidden"))a.hide();else a.is(":hidden")&&a.show()};cc.utilities.clearInputs=function(b){var a="input, checkbox, select, textarea";$(b).find(a).each(function(){var a=this;if(a.tagName=="SELECT")$(a).find("option:selected").removeAttr("selected");else if($(a).text())$(a).text("");else if(a.type=="radio")$(a).attr("checked",false);else if(a.type=="checkbox")$(a).attr("checked",false);else $(a).val()&&a.type!="radio"&&$(a).val("")})};cc.utilities.findAndRemoveItem=function(b,d,c){if(!$.isArray(b))return false;var a;$(b).each(function(b,e){if(c){if(e[c]==d)a=b}else if(e==d)a=b});a>=0&&b.splice(a,1)};cc.utilities.openDocInNewWindow=function(a){window.open(a,"_blank","")};cc.utilities.cleanAndHideErrorMessageDiv=function(a){$(a).html("");$(a).hide()};cc.straightNotification=function(b,c,a){a.result(b)};(function(a){a.fn.convertToListItems=function(c,b){var a=[];this.each(function(g,d){var e="";if(d.IsDefault)e='selected="selected"';var f='<option value="'+d[c]+'" '+e+"> "+d[b]+" </option>";a.push(f)});return a}})(jQuery);cc.utilities.trim=function(a){return a.replace(/(^\s*|\s*$)/,"")};cc.utilities.fixedWidthDropdown=function(){var a="select.mf_fixedWidthDropdown";if($.browser.msie)$(a).css("width","auto");else $(a).ieSelectStyle({applyStyle:false})};(function(a){a.fn.extend({exclusiveCheck:function(){var b=a(this).find("input:checkbox");b.each(function(d,c){a(c).click(function(){this.checked&&b.each(function(){if(a(this)[0]!==a(c)[0])this.checked=false})})})}})})(jQuery);$.fn.clearForm=function(){return this.each(function(){var a=this,b=a.type,c=a.tagName.toLowerCase();if(c!="input")return $(":input",a).clearForm();if(b=="text"||b=="password"||c=="textarea")a.value="";else if(b=="checkbox"||b=="radio")a.checked=false;else if(c=="select")a.selectedIndex=-1})};if(typeof cc=="undefined")cc=function(){};if(typeof cc.grid=="undefined")cc.grid=function(){};(function(a){a.fn.AsGrid=function(c,g){var b=true;if(!this)return;var d={url:c.Url,datatype:"json",mtype:"GET",colNames:cc.grid.columnService.columnNames(c),colModel:cc.grid.columnService.columnModel(c),rowNum:1e4,multiselect:b,scrollOffset:0,altRows:b,height:"100%",autowidth:b,beforeSubmitCell:function(a,b,c){return{RootId:rootId,ParentId:entityId,EntityId:a,rowId:a,cellName:b,cellValue:c}},afterSubmitCell:function(a){eval("var cellEditResult ="+a.responseText);return[cellEditResult.success,cellEditResult.message]},loadtext:"",gridComplete:function(){a(this).find(".cbox").parent().addClass("jqg_cb")},sortorder:"asc",sortname:c.DefaultSortColumn?c.DefaultSortColumn:"",onSortCol:function(b,c,a){cc.gridHelper.adjustSortStyles(b,c,a)},jsonReader:{repeatitems:b,root:"items",cell:"cell",id:"id"}};c.EditUrl&&a.extend(d,{cellEdit:b,cellurl:c.EditUrl}||{});cc.gridHelper.adjustSortStyles();var f=a.extend(d,g||{}),e=this;e.jqGrid(f);return e}})(jQuery);(function(a){a.fn.asCalendar=function(c,g){var b="calendar:",e={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},defaultView:"agendaWeek",editable:true,theme:true,firstDay:1,allDaySlot:false,allDayDefault:false,slotMinutes:15,minTime:4,maxTime:22,events:{url:c.Url,data:{Loc:a("[name=Location]").val()}},dayClick:function(e,d,a,f){MF.vent.trigger(b+c.id+":dayClick",e,d,a,f)},eventClick:function(a,d,e){MF.vent.trigger(b+c.id+":eventClick",a,d,e)},eventDrop:function(g,e,a,f,d){MF.vent.trigger(b+c.id+":eventDrop",g,e,a,f,d)},eventResize:function(g,e,a,d,f,i,h){MF.vent.trigger(b+c.id+":eventResize",g,e,a,d,f,i,h)}},f=a.extend(e,g||{}),d=this;d.fullCalendar(f);return d}})(jQuery);$.fn.gridSearch=function(b){var a={default_empty_message:"Start typing to search",lightFontColor:"#CCCCCC",fontColor:"#000000",onClear:function(){},onSubmit:function(){},searchSelector:".search"};return this.each(function(){var e="color",f=this,c=f,i=$(f),g,h;c.options=$.extend(a,b);var d=i.find(c.options.searchSelector);f.render=function(){d.parent().append('<img class="clear-search" src="/content/images/clear-search.png">');g=d.parent().find("img.clear-search");$.trim(d.val())==""&&d.val(c.options.default_empty_message);if(d.val()==c.options.default_empty_message)d.css(e,c.options.lightFontColor);else d.css(e,c.options.fontColor)};f.registerEventHandlers=function(){d.keyup(function(a){if(a.keyCode=="13"){c.submitSearch($(this).val());d.next().focus()}else{if($.trim($(this).val())!=""&&$(this).val()!=c.options.default_empty_message)g.show();else g.hide();h=null}});d.blur(function(){if($.trim($(this).val())==""){d.val(c.options.default_empty_message).css(e,c.options.lightFontColor);g.hide()}else this.submitSearch(d.val())});d.focus(function(){$(this).val()==c.options.default_empty_message&&d.val("").css(e,c.options.fontColor)});g.click(function(){c.clearSearch()})};f.clearSearch=function(){d.val("");d.focus();c.options.onClear()};f.submitSearch=function(a){if(a!=""&&a!=c.options.default_empty_message&&a!=h){this.options.onSubmit(a);h=a}};function j(){c.render();c.registerEventHandlers()}j()})};if(typeof mf=="undefined")var mf={};if(typeof mf.mediaHandler=="undefined")mf.mediaHandler={};mf.mediaHandler.controller=function(){var b="Input",a="#uploadNew",c=function(e,c,f,g){var d="#CRUDForm";$(e).find(a+c).hide();$(e).find("#addNew"+c).click(function(){$(d+c).validate().resetForm();$(a+c).show()});$(e).find("#newUpload"+c).click(function(){$(d+c).submit()});$(e).find("#"+c+b).tokenInput(f?f:{},{prePopulate:g,internalTokenMarkup:function(a){var b=tooltipAjaxUrl?"class='mf_tokenTooltip selectedItem' rel='"+tooltipAjaxUrl+"?EntityId="+a.id+"'":"class='selectedItem'";return"<p><a "+b+">"+a.name+"</a></p>"},afterTokenSelectedFunction:function(){$(".mf_tokenTooltip").cluetip({showTitle:false,cluetipClass:"rounded",arrows:true,hoverIntent:{sensitivity:3,interval:50,timeout:500},mouseOutClose:true})}})};return{init:function(e,a){var b=eval("availableItems"+a),d=eval("selectedItems"+a);c(e,a,b,d)},successHandler:function(c,d){$(a+d).hide();$("#"+d+b).tokenInput("add",{id:c.EntityId,name:c.Variable});$("#"+d+b).tokenInput("addToAvailableList",{id:c.EntityId,name:c.Variable})}}}();if(typeof mf=="undefined")var mf={};mf.multiItemRepeater=function(j,l){var g=".move-down",f=".move-up",b="visibility",e="a.close",a=".unit",d=j,h=$.extend({},mf.multiItemRepeaterDefaults,l||{}),k={},i,c;return{init:function(){c=this;i=$(a,h.template).clone();i.find("input").val("");c.delegateEvents();if(!$.isEmptyObject(h.existingItems))$.each(h.existingItems,function(d,b){var a=c.addRow();h.existingItemFunc(a,b)});else c.addRow()},destroy:function(){for(var a in k)a.destroy();$(d).empty()},delegateEvents:function(){var h="click";$("span.bottom_add button",d).click(function(){c.addRow(this);return false});$(d).delegate(e,h,function(){c.deleteRow(this);return false});$(d).delegate(a,"hover",function(){var a="visible",d=this;c.clearCurrents();$(e,d).css(b,a);$(f,d).css(b,a);$(g,d).css(b,a);$(d).addClass("current")});$(d).hover(function(){},function(){c.clearCurrents()});$(d).delegate(f,h,function(){c.moveUp($(this))});$(d).delegate(g,h,function(){c.moveDown($(this))})},clearCurrents:function(){$(a,d).each(function(){var a="hidden";$(e).css(b,a);$(f).css(b,a);$(g).css(b,a);$(this).removeClass("current")})},moveUp:function(e){var c=$(e).closest(a),b=c.prev(a);if(!b||b.find("th").length>0)return;var d=c.clone();b.before(d);c.remove()},moveDown:function(e){var b=$(e).closest(a),c=b.next(a);if(c.length==0)return;var d=b.clone();c.after(d);b.remove()},deleteRow:function(b){$(b).closest(a).remove()},addRow:function(){var b=i.clone();$(".items",d).last(a).append(b);return b}}};mf.multiItemRepeaterDefaults={existingItems:{},existingItemFunc:function(){}};if(typeof mf=="undefined")var mf={};if(typeof mf.popupCrud=="undefined")mf.popupCrud={};if(typeof mf.popup=="undefined")mf.popup={};runBeforeSubmit=null;mf.popupCrud.controller=function(){var a=".ui-dialog";return{itemCRU:function(c,a,b){mf.popupCrud.repository.itemCall(c,a,b)},saveItem:function(){var b=$(a).data().metaData.getCrudFormName();$(b).submit()},success:function(c,g,e){var d=$(a).data().metaData.getRunAfterSuccess();$(d).each(function(d,b){b(c,$(a).data().metaData)});var b=cc.utilities.messageHandling.messageHandler();b.setMessageType="success";var f=cc.utilities.messageHandling.mhMessage("success",c.Message,"");b.addMessage(f);b.showAllMessages(e.getSuccessContainer());mf.popupCrud.controller.cancelDialog()},cancelDialog:function(){$("#dialogHolder").dialog("close");$(a).remove();$(".mf_dyn #dialogHolder").remove()},editFromDisplay:function(g){var b=$(a).data().metaData;b.setIsDisplay(false);var d=$("#AddEditUrl").val(),c=$(g.target).parent().parent().siblings()[1],f=$(c).find("#EntityId").val(),e=$(c).attr("id");$("#"+e+".ui-dialog-content").dialog("close");mf.popupCrud.controller.itemCRU(d,b,{EntityId:f})}}}();mf.popupCrud.buttonBuilder=function(){var b={},a=function(c,a){b[c]=a},d=function(){mf.popupCrud.controller.saveItem(this)},e=function(a){mf.popupCrud.controller.editFromDisplay(a)},c=function(){$(this).dialog("close")};return{getButtons:function(){return b},getSaveFunc:function(){return d},getCancelFunc:function(){return c},addSaveButton:function(){a("Save",d)},addEditButton:function(){a("Edit",e)},addCancelButton:function(){a("Cancel",c)},addButton:function(c,b){a(c,b)},clearButtons:function(){b={}}}};mf.popupCrud.popup=function(){var b=".mf_dyn #dialogHolder",a=".ui-dialog",d=function(a){a.addSaveButton();a.addCancelButton();return a.getButtons()},c=function(a){a.addEditButton();a.addCancelButton();return a.getButtons()},e=function(c,d){c.dialog({autoOpen:false,modal:true,width:550,buttons:d,close:function(){$("#dialogHolder").empty();$(a).remove();$(b).remove()}})};return{displayPopup:function(k,f){var j="function";$(a).remove();$(b).remove();var h=$("<div></div>").attr("id","dialogHolder");$(".mf_dyn").append(h);var i=mf.popupCrud.buttonBuilder(),g;if(f.getIsDisplay())if(f.getDisplayButtonBuilder()&&typeof f.getDisplayButtonBuilder()==j)g=f.getEditButtonBuilder()(i);else g=c(i);else if(f.getEditButtonBuilder()&&typeof f.getEditButtonBuilder()==j)g=f.getEditButtonBuilder()(i);else g=d(i);e(h,g);$(h).html(k);$(h).dialog("open");$(h).dialog("option","title",f.getPopupTitle()||titlePopup)}}}();mf.popupCrud.repository=function(){var a=function(a,b){if(a.LoggedOut){window.location.replace(a.RedirectUrl);return}mf.popupCrud.popup.displayPopup(a,b);mf.popupCrud.repository.processDetailMetaData(b)};return{itemCall:function(c,b,d){var e=c?c:b.getAddUrl();$.get(e,d,function(c){a(c,b)})},processDetailMetaData:function(c){var a=".ui-dialog";$(a).data().metaData=c;b(c);function b(c){var d=c.getCrudFormName();if($(d).size()>0){$(d).data().metaData=c;var e={metaData:c};if(c.getSuccessHandler())e.successHandler=c.getSuccessHandler();if(c.getErrorContainer())e.errorContainer=c.getErrorContainer();if(c.getSuccessContainer())e.successContainer=c.getSuccessContainer();$(d).crudForm(e)}$(c.getRunAfterRenderAddUpdate()).each(function(c,b){runBeforeSubmit&&$(d).data().crudForm.setBeforeSubmitFuncs(runBeforeSubmit);b($(a))});$(c.getMetaDatas()).each(function(c,a){b(a)})}}}}();if(typeof mf=="undefined")var mf={};if(typeof mf.repeatableInputSection=="undefined")mf.repeatableInputSection={};mf.repeatableInputSection.controller=function(){var a;return{init:function(c){var b="div.mf_repeatableSection";a=$.extend({},mf.repeatableInputSection.defaults,c||{});$(a.container).data().repeatableSection=this;$(a.container).delegate("#addNewSection","click",function(a){$(this).closest(b).data().repeatableSection.addNewSection(a)});$(a.container).delegate(".mf_remove","click",function(a){$(this).closest(b).data().repeatableSection.removeSection(a)});this.addNewSection()},addNewSection:function(){var c=$(a.template).children("li"),b=$(c).clone();cc.utilities.clearInputs(b);$(a.container).find("ul").append(b);return b},removeSection:function(a){$(a.target).closest("li").remove()}}};mf.repeatableInputSection.defaults={container:"#repeatableItems",template:"#repeatableItemTemplate"};if(typeof MF=="undefined")var MF={};MF.repository=function(){var a="#ajaxLoading",b=function(b){if(b.LoggedOut){window.location.replace(b.RedirectUrl);return null}clearTimeout(MF.throbberTimeout);MF.showThrob=false;$(a).hide();return b},c=function(){MF.showThrob=true;if(!MF.throbberTimeout)MF.throbberTimeout=setTimeout(function(){MF.showThrob&&$(a).show()},500)};return{ajaxPost:function(d,a){c();$.post(d,a).done(b)},ajaxGet:function(d,a){c();return $.get(d,a).done(b)},ajaxPostModel:function(d,a){c();return $.ajax({type:"post",url:d,data:a,contentType:"application/json; charset=utf-8",traditional:true}).done(b)}}}();$.fn.multiRows=function(c,b,a){return this.each(function(){var d=".unit",f=this,h=f,i=$(c),e=$(f),g;f.render=function(){g=i.find(d).clone();g.find("input").val("")};f.registerEventHandlers=function(){var g="click",f=".move-down",c=".move-up",a="visibility",b="a.close";function h(){$(d,e).each(function(){var d="hidden";$(b).css(a,d);$(c).css(a,d);$(f).css(a,d);$(this).removeClass("current")})}$("span.bottom_add button",e.parent()).click(function(){addRow(this);return false});$(b,e).live(g,function(){deleteRow(this);return false});$(d,e).live("hover",function(){var d="visible",e=this;h();$(b,e).css(a,d);$(c,e).css(a,d);$(f,e).css(a,d);$(e).addClass("current")});e.hover(function(){},function(){h()});$(c,e).live(g,function(){moveUp($(this))});$(f,e).live(g,function(){moveDown($(this))})};moveUp=function(e){var b=$(e).closest(d),a=b.prev(d);if(!a||a.find("th").length>0)return;var c=b.clone();a.before(c);b.remove()};moveDown=function(e){var a=$(e).closest(d),b=a.next(d);if(b.length==0)return;var c=a.clone();b.after(c);a.remove()};deleteRow=function(a){$(a).closest(d).remove()};addRow=function(){var a=g.clone();e.last(d).append(a);return a};function j(){h.render();h.registerEventHandlers();if(!$.isEmptyObject(b)&&a)$.each(b,function(d,c){var b=addRow();a(b,c)});else addRow()}j()})};(function(a){var c=false,e=true,b=null,g={hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",searchDelay:300,minChars:1,tokenLimit:b,jsonContainer:b,method:"GET",contentType:"json",queryParam:"q",tokenDelimiter:",",preventDuplicates:e,prePopulate:b,processPrePopulate:c,animateDropdown:e,onResult:b,onAdd:b,onDelete:b,idPrefix:"token-input-",internalTokenMarkup:function(a){return"<p>"+a.name+"</p>"},afterTokenSelectedFunction:function(){},beforeTokenAddedFunction:function(){}},f={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-container",tokenInput:"token-input-Input"},d={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188};a.fn.tokenInput=function(b,d){var c=a.extend({},g,d||{});return this.each(function(){a(this).data("tokenInputObject",new a.TokenList(this,b,c))})};a.TokenList=function(l,i,k){var h=l,j=i,g=k;this.init=function(a){this.binding=a;return this};this.render=function(T){var s="mouseover",i="li",m="data-bind",k="li.",l="id",t=this;a.extend(g,T||{});var w=a(h).attr("name"),H=a("<div></div>").attr(l,w+"_container");a(h).after(H);a(h).hide();g.viewModel=j;if(g.classes)g.classes=a.extend({},f,g.classes);else if(g.theme){g.classes={};a.each(f,function(b,a){g.classes[b]=a+"-"+g.theme})}else g.classes=f;var C=function(){return g.viewModel.selectedItems().length},D,B=function(){return a(o).find(k+g.classes.selectedToken)},v=function(){return a(q).find(k+g.classes.selectedDropdownItem)},o=a("<ul />").addClass(g.classes.tokenList).attr(m,"foreach: selectedItems").delegate("span","click",function(){z(a(this).parent())}).delegate(i,"click",function(){var b=a(this);N(b);n.focus();MF.vent.trigger(w+":tokenizer:selectedClick",b.attr(l))}).delegate(i,s,function(){var b=a(this);B()!==this&&b.addClass(g.classes.highlightedToken)}).delegate(i,"mouseout",function(){var b=a(this);B()!==this&&b.removeClass(g.classes.highlightedToken)}).appendTo(H),J=a("<li>").addClass(g.classes.token).attr(m,"attr:{id:id}").append(g.internalTokenMarkup()),W=a("<span>"+g.deleteText+"</span>").addClass(g.classes.tokenDelete).appendTo(J);o.append(J);var n=a('<input type="text"  autocomplete="off">').addClass(g.classes.tokenInput).css({outline:"none"}).attr(l,g.idPrefix+h.id).blur(function(){p();a(this).val("")}).keydown(function(f){var i,j,g=v();switch(f.keyCode){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:if(!a(this).val()){i=g.prev();j=g.next();if((f.keyCode===d.LEFT||f.keyCode===d.UP)&&i.length)u(a(i.get(0)));else(f.keyCode===d.RIGHT||f.keyCode===d.DOWN)&&j.length&&u(a(j.get(0)))}else{var h=b;if(f.keyCode===d.DOWN||f.keyCode===d.RIGHT)h=g.next();else h=g.prev();h().length&&u(h);return c}break;case d.TAB:case d.ENTER:case d.NUMPAD_ENTER:case d.COMMA:if(v().length){var k=E(v());y(k);p();return c}break;case d.ESCAPE:p();return e;default:String.fromCharCode(f.which)&&setTimeout(function(){F()},5)}}),R=a("<div />").addClass("token-input-sprite"),S=a("<div/>").click(function(){(g.tokenLimit===b||g.tokenLimit!==C())&&F()}).addClass(g.classes.inputToken).append(n).append(R).insertAfter(o),r=a("<div>").addClass(g.classes.dropdown).hide().insertAfter(S),q=a("<ul>").attr(m,"foreach: _resultsItems").delegate(i,s,function(){u(a(this))}).delegate(i,"mousedown",function(){var a=E(this);y(a);return c}).hide().appendTo(r);a("<li>").attr(m,"text:name, attr:{id:id}").appendTo(q);t.getSelectedItems=function(){return g.viewModel.selectedItems()};t.clear=function(){o.children(i).each(z)};t.add=function(a){y(a)};t.remove=function(b){o.children(i).each(function(){var g=a(this).data("tokeninput"),d=e;for(var f in b)if(b[f]!==g[f]){d=c;break}d&&z(a(this))})};t.addToAvailableList=function(a){!_.any(g.viewModel._availableItems,function(c,b){return b.id()==a.id})&&g.viewModel._availableItems.push(a)};function O(){if(g.tokenLimit!==b&&C()>=g.tokenLimit){n.hide();p()}else n.focus()}function M(b){var a={id:ko.observable(b.id()),name:ko.observable(b.name())};g.beforeTokenAddedFunction(a);g.viewModel.selectedItems.push(a);g.afterTokenSelectedFunction(a);return a}function y(b){var d=g.onAdd;if(C()>0&&g.preventDuplicates){var c=_.find(g.viewModel.selectedItems(),function(a){return b.id()===a.id()});if(c){var f=o.find("li[id='"+c.id()+"']");x(f);n.focus();p();return}}M(b);var e=o.find("li[id='"+b.id()+"']");x(e);O();n.val("");p();MF.vent.trigger(w+":tokenizer:add",g.viewModel.selectedItems());a.isFunction(d)&&d.call(b)}function z(e){var d=K(e),c=g.onDelete;g.viewModel.selectedItems.remove(d);n.focus();g.tokenLimit!==b&&n.show().val("").focus();MF.vent.trigger(w+":tokenizer:remove",g.viewModel.selectedItems());a.isFunction(c)&&c.call(args)}function K(b){return _.find(g.viewModel.selectedItems(),function(c){return a(b).find("p").text().indexOf(c.name())>-1})}function E(b){return _.find(g.viewModel._availableItems(),function(c){return a(b).attr(l)===c.id()})}function N(a){var b=B().get(0);if(b===a.get(0))a.removeClass(g.classes.selectedToken);else x(a);n.val("")}function x(a){o.find(k+g.classes.selectedToken).removeClass(g.classes.selectedToken);a.addClass(g.classes.selectedToken)}function u(b){if(b){v().length&&L(v());a(b).addClass(g.classes.selectedDropdownItem)}}function L(a){a.removeClass(g.classes.selectedDropdownItem)}function P(a,b){if(b)a=a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");return a}function A(b){a(r).children("*").not("ul").remove();g.viewModel._resultsItems.removeAll();_.each(b,function(a){g.viewModel._resultsItems.push(a)})}function p(){r.hide();a(q).html();a(r).children("*").not("ul").remove();q.find(k+g.classes.selectedDropdownItem).removeClass(g.classes.selectedDropdownItem)}function I(){function a(){var a=setTimeout(function(){p()},8e3);r.mouseenter(function(){clearTimeout(a)})}r.show().mouseleave(function(){a()});if(g.animateDropdown)q.slideDown("fast");else q.show("slow");a()}function G(b){if(g.viewModel._resultsItems().length>0)a.each(a(q).find(i),function(d,e){var c=a(e);c.html(P(c.text(),b));if(d%2)c.addClass(g.classes.dropdownItem);else c.addClass(g.classes.dropdownItem2);d===0&&u(e)});else g.noResultsText&&a(r).append("<p>"+g.noResultsText+"</p>")}function F(){var a=n.val().toLowerCase();if(!a||!a.length){A(g.viewModel._availableItems());G("");I();return}a.length>=g.minChars&&Q(a)}function Q(c){var d=a.grep(g.viewModel._availableItems(),function(a){return a.name().toLowerCase().indexOf(c.toLowerCase())>-1});A(d);if(a.isFunction(g.onResult)){var b=g.onResult.call(g.viewModel._resultsItems);b&&A(b)}G(c);I()}t.binding()}}})(jQuery);(function(c){var a="",b="Cancel";c.jgrid={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:["equal","not equal","less","less or equal","greater","greater or equal","begins with","does not begin with","is in","is not in","ends with","does not end with","contains","does not contain"],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],matchText:" match",rulesText:" rules"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:b,bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:b,msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:b},nav:{edittext:a,edittitle:"Edit selected row",addtext:a,addtitle:"Add new row",deltext:a,deltitle:"Delete selected row",searchtext:a,searchtitle:"Find records",refreshtext:a,refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:a,viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:b},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:" ",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,prefix:a,suffix:a,defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(a){return a<11||a>13?(["st","nd","rd","th"])[Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"d/m/Y",masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:false},baseLinkUrl:a,showAction:a,target:a,checkbox:{disabled:true},idName:"id"}}})(jQuery);
/*
 * jQuery JavaScript Library v1.6.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Jun 30 14:16:56 2011 -0400
 */
(function(m,f){var eb="scroll",Nb="position",nb="static",Cb="relative",db="fixed",mb="toggle",cb=":hidden",G="hide",S="olddisplay",F="show",Mb="marginLeft",lb="marginTop",fc="application/x-www-form-urlencoded",Lb="marginRight",Z="inline-block",ec="cssFloat",Y="opacity",dc="replaceWith",Vb="<$1></$2>",Bb="nextSibling",X="previousSibling",kb="parentNode",Ab="live",Ub=".specialChange",Tb="focusout",zb="_change_data",Sb="select-multiple",yb="password",K="submit",uc="mouseout",tc="mouseover",W="auto",O="height",v="button",R="form",Rb="tabIndex",V="set",bb="value",N="get",jb="inprogress",s="fx",l="undefined",M="inline",ib="absolute",E="hidden",Q="type",D="on",C="href",xb="select",hb="className",o="div",p="number",gb="parsererror",B="function",P="boolean",h=-1,z="body",J="mark",y="queue",Kb="mouseleave",Jb="mouseenter",wb="(\\.|$)",vb="\\.(?:.*\\.)?",ub="(^|\\.)",tb="events",ab="tbody",n=".",Qb="textarea",sb="option",r="radio",x="checkbox",Pb="getElementsByTagName",k="input",u="script",q="px",fb="Width",U="margin",I="padding",L="border",w="width",b=null,j="object",d=" ",i="*",e="string",Ib="CSS1Compat",c="",t="none",A="display";function lc(b){return a.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:!1}function Qc(b){if(!jc[b]){var f=g.body,d=a("<"+b+">").appendTo(f),e=d.css(A);d.remove();if(e===t||e===c){T||(T=g.createElement("iframe"),T.frameBorder=T.width=T.height=0),f.appendChild(T);if(!Fb||!T.createElement)Fb=(T.contentWindow||T.contentDocument).document,Fb.write((g.compatMode===Ib?"<!doctype html>":c)+"<html><body>"),Fb.close();d=Fb.createElement(b),Fb.body.appendChild(d),e=a.css(d,A),f.removeChild(T)}jc[b]=e}return jc[b]}function Hb(c,d){var b={};a.each(Oc.concat.apply([],Oc.slice(0,d)),function(){b[this]=c});return b}function Md(){Zb=f}function Pc(){setTimeout(Md,0);return Zb=a.now()}function Jd(){try{return new m.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function Nc(){try{return new m.XMLHttpRequest}catch(a){}}function hd(j,k){j.dataFilter&&(k=j.dataFilter(k,j.dataType));for(var q=j.dataTypes,l={},o,s=q.length,p,b=q[0],m,r,c,g,h,n=1;n<s;n++){if(n===1)for(o in j.converters)typeof o==e&&(l[o.toLowerCase()]=j.converters[o]);m=b,b=q[n];if(b===i)b=m;else if(m!==i&&m!==b){r=m+d+b,c=l[r]||l["* "+b];if(!c){h=f;for(g in l){p=g.split(d);if(p[0]===m||p[0]===i){h=l[p[1]+d+b];if(h){g=l[g],g===!0?(c=h):h===!0&&(c=g);break}}}}!c&&!h&&a.error("No conversion from "+r.replace(d," to ")),c!==!0&&(k=c?c(k):h(g(k)))}}return k}function Gd(e,l,g){var j=e.contents,b=e.dataTypes,m=e.responseFields,h,a,c,k;for(a in m)a in g&&(l[m[a]]=g[a]);while(b[0]===i)b.shift(),h===f&&(h=e.mimeType||l.getResponseHeader("content-type"));if(h)for(a in j)if(j[a]&&j[a].test(h)){b.unshift(a);break}if(b[0]in g)c=b[0];else{for(a in g){if(!b[0]||e.converters[a+d+b[0]]){c=a;break}k||(k=a)}c=c||k}if(c){c!==b[0]&&b.unshift(c);return g[c]}}function hc(e,d,f,g){if(a.isArray(d))a.each(d,function(d,b){f||kd.test(e)?g(e,b):hc(e+"["+(typeof b==j||a.isArray(b)?d:c)+"]",b,f,g)});else if(!f&&d!=b&&typeof d==j)for(var h in d)hc(e+"["+h+"]",d[h],f,g);else g(e,d)}function Xb(d,c,h,j,g,b){g=g||c.dataTypes[0],b=b||{},b[g]=!0;for(var k=d[g],l=0,n=k?k.length:0,m=d===gc,a;l<n&&(m||!a);l++)a=k[l](c,h,j),typeof a==e&&(!m||b[a]?(a=f):(c.dataTypes.unshift(a),a=Xb(d,c,h,j,a,b)));(m||!a)&&!b[i]&&(a=Xb(d,c,h,j,i,b));return a}function Kc(b){return function(d,f){typeof d!=e&&(f=d,d=i);if(a.isFunction(f))for(var j=d.toLowerCase().split(Ec),g=0,l=j.length,c,k,h;g<l;g++)c=j[g],h=/^\+/.test(c),h&&(c=c.substr(1)||i),k=b[c]=b[c]||[],k[h?"unshift":"push"](f)}}function vc(d,f,e){var c=f===w?d.offsetWidth:d.offsetHeight,g=f===w?Ed:Fd;if(c>0){e!==L&&a.each(g,function(){e||(c-=parseFloat(a.css(d,I+this))||0),e===U?(c+=parseFloat(a.css(d,e+this))||0):(c-=parseFloat(a.css(d,L+this+fb))||0)});return c+q}c=Db(d,f,f);if(c<0||c==b)c=d.style[f]||0;c=parseFloat(c)||0,e&&a.each(g,function(){c+=parseFloat(a.css(d,I+this))||0,e!==I&&(c+=parseFloat(a.css(d,L+this+fb))||0),e===U&&(c+=parseFloat(a.css(d,e+this))||0)});return c+q}function vd(d,b){b.src?a.ajax({url:b.src,async:!1,dataType:u}):a.globalEval((b.text||b.textContent||b.innerHTML||c).replace(nd,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function Dc(b){a.nodeName(b,k)?Cc(b):Pb in b&&a.grep(b.getElementsByTagName(k),Cc)}function Cc(a){if(a.type===x||a.type===r)a.defaultChecked=a.checked}function Wb(a){return Pb in a?a.getElementsByTagName(i):"querySelectorAll"in a?a.querySelectorAll(i):[]}function Ac(c,b){var d;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(c),d=b.nodeName.toLowerCase();if(d===j)b.outerHTML=c.outerHTML;else if(d!==k||c.type!==x&&c.type!==r){if(d===sb)b.selected=c.defaultSelected;else if(d===k||d===Qb)b.defaultValue=c.defaultValue}else c.checked&&(b.defaultChecked=b.checked=c.checked),b.value!==c.value&&(b.value=c.value);b.removeAttribute(a.expando)}}function zc(i,h){if(h.nodeType===1&&!!a.hasData(i)){var j=a.expando,f=a.data(i),g=a.data(h,f);if(f=f[j]){var b=f.events;g=g[j]=a.extend({},f);if(b){delete g.handle,g.events={};for(var d in b)for(var e=0,k=b[d].length;e<k;e++)a.event.add(h,d+(b[d][e].namespace?n:c)+b[d][e].namespace,b[d][e],b[d][e].data)}}}}function pd(b){return a.nodeName(b,"table")?b.getElementsByTagName(ab)[0]||b.appendChild(b.ownerDocument.createElement(ab)):b}function fd(c,b,d){b=b||0;if(a.isFunction(b))return a.grep(c,function(a,c){var e=!!b.call(a,c,a);return e===d});if(b.nodeType)return a.grep(c,function(a){return a===b===d});if(typeof b==e){var f=a.grep(c,function(a){return a.nodeType===1});if(ce.test(b))return a.filter(b,f,!d);b=a.filter(b,f)}return a.grep(c,function(c){return a.inArray(c,b)>=0===d})}function dd(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function cc(a,b){return(a&&a!==i?a+n:c)+b.replace(ie,"`").replace(Od,"&")}function Vd(d){var t,o,i,e,f,j,g,h,m,v,k,p,q,r=[],u=[],s=a._data(this,tb);if(!(d.liveFired===this||!s||!s.live||d.target.disabled||d.button&&d.type==="click")){d.namespace&&(p=new RegExp(ub+d.namespace.split(n).join(vb)+wb)),d.liveFired=this;var l=s.live.slice(0);for(g=0;g<l.length;g++)f=l[g],f.origType.replace(qc,c)===d.type?u.push(f.selector):l.splice(g--,1);e=a(d.target).closest(u,d.currentTarget);for(h=0,m=e.length;h<m;h++){k=e[h];for(g=0;g<l.length;g++){f=l[g];if(k.selector===f.selector&&(!p||p.test(f.namespace))&&!k.elem.disabled){j=k.elem,i=b;if(f.preType===Jb||f.preType===Kb)d.type=f.preType,i=a(d.relatedTarget).closest(f.selector)[0],i&&a.contains(j,i)&&(i=j);(!i||i!==j)&&r.push({elem:j,handleObj:f,level:k.level})}}}for(h=0,m=r.length;h<m;h++){e=r[h];if(o&&e.level>o)break;d.currentTarget=e.elem,d.data=e.handleObj.data,d.handleObj=e.handleObj,q=e.handleObj.origHandler.apply(e.elem,arguments);if(q===!1||d.isPropagationStopped()){o=e.level,q===!1&&(t=!1);if(d.isImmediatePropagationStopped())break}}return t}}function Yc(d,e,c){var b=a.extend({},c[0]);b.type=d,b.originalEvent={},b.liveFired=f,a.event.handle.call(e,b),b.isDefaultPrevented()&&c[0].preventDefault()}function ac(){return!0}function qb(){return!1}function Zc(b,c,d){var e=c+"defer",g=c+y,h=c+J,i=a.data(b,e,f,!0);i&&(d===y||!a.data(b,g,f,!0))&&(d===J||!a.data(b,h,f,!0))&&setTimeout(function(){!a.data(b,g,f,!0)&&!a.data(b,h,f,!0)&&(a.removeData(b,e,!0),i.resolve())},0)}function oc(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function Xc(d,g,c){if(c===f&&d.nodeType===1){var h="data-"+g.replace(Ud,"$1-$2").toLowerCase();c=d.getAttribute(h);if(typeof c==e){try{c=c==="true"?!0:c==="false"?!1:c==="null"?b:a.isNaN(c)?Td.test(c)?a.parseJSON(c):c:parseFloat(c)}catch(i){}a.data(d,g,c)}else c=f}return c}var g=m.document,Rd=m.navigator,Sd=m.location,a=function(){var l="onreadystatechange",k="DOMContentLoaded",i="complete";function A(){if(!a.isReady){try{g.documentElement.doScroll("left")}catch(b){setTimeout(A,1);return}a.ready()}}var a=function(b,c){return new a.fn.init(b,c,w)},G=m.jQuery,H=m.$,w,I=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=/\S/,D=/^\s+/,E=/\s+$/,J=/\d/,K=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,L=/^[\],:{}\s]*$/,M=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,N=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,O=/(?:^|:|,)(?:\s*\[)+/g,Q=/(webkit)[ \/]([\w.]+)/,R=/(opera)(?:.*version)?[ \/]([\w.]+)/,S=/(msie) ([\w.]+)/,T=/(mozilla)(?:.*? rv:([\w.]+))?/,U=/-([a-z])/ig,V=function(b,a){return a.toUpperCase()},W=Rd.userAgent,s,r,o,F=Object.prototype.toString,t=Object.prototype.hasOwnProperty,u=Array.prototype.push,q=Array.prototype.slice,v=String.prototype.trim,x=Array.prototype.indexOf,y={};a.fn=a.prototype={constructor:a,init:function(c,h,l){var d=this,i,k,j,m;if(!c)return d;if(c.nodeType){d.context=d[0]=c,d.length=1;return d}if(c===z&&!h&&g.body){d.context=g,d[0]=g.body,d.selector=c,d.length=1;return d}if(typeof c==e){c.charAt(0)!=="<"||c.charAt(c.length-1)!==">"||c.length<3?(i=I.exec(c)):(i=[b,c,b]);if(i&&(i[1]||!h)){if(i[1]){h=h instanceof a?h[0]:h,m=h?h.ownerDocument||h:g,j=K.exec(c),j?a.isPlainObject(h)?(c=[g.createElement(j[1])],a.fn.attr.call(c,h,!0)):(c=[m.createElement(j[1])]):(j=a.buildFragment([i[1]],[m]),c=(j.cacheable?a.clone(j.fragment):j.fragment).childNodes);return a.merge(d,c)}k=g.getElementById(i[2]);if(k&&k.parentNode){if(k.id!==i[2])return l.find(c);d.length=1,d[0]=k}d.context=g,d.selector=c;return d}return!h||h.jquery?(h||l).find(c):d.constructor(h).find(c)}if(a.isFunction(c))return l.ready(c);c.selector!==f&&(d.selector=c.selector,d.context=c.context);return a.makeArray(c,d)},selector:c,jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return q.call(this,0)},"get":function(c){var a=this;return c==b?a.toArray():c<0?a[a.length+c]:a[c]},pushStack:function(f,g,h){var e=this,b=e.constructor();a.isArray(f)?u.apply(b,f):a.merge(b,f),b.prevObject=e,b.context=e.context,g==="find"?(b.selector=e.selector+(e.selector?d:c)+h):g&&(b.selector=e.selector+n+g+"("+h+")");return b},each:function(b,c){return a.each(this,b,c)},ready:function(b){a.bindReady(),r.done(b);return this},eq:function(a){return a===h?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(h)},slice:function(){return this.pushStack(q.apply(this,arguments),"slice",q.call(arguments).join(","))},map:function(b){return this.pushStack(a.map(this,function(a,c){return b.call(a,c,a)}))},end:function(){return this.prevObject||this.constructor(b)},push:u,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var i,h,e,d,k,l,c=arguments[0]||{},g=1,n=arguments.length,m=!1;typeof c==P&&(m=c,c=arguments[1]||{},g=2),typeof c!=j&&!a.isFunction(c)&&(c={}),n===g&&(c=this,--g);for(;g<n;g++)if((i=arguments[g])!=b)for(h in i){e=c[h],d=i[h];if(c===d)continue;m&&d&&(a.isPlainObject(d)||(k=a.isArray(d)))?(k?(k=!1,l=e&&a.isArray(e)?e:[]):(l=e&&a.isPlainObject(e)?e:{}),c[h]=a.extend(m,l,d)):d!==f&&(c[h]=d)}return c},a.extend({noConflict:function(b){m.$===a&&(m.$=H),b&&m.jQuery===a&&(m.jQuery=G);return a},isReady:!1,readyWait:1,holdReady:function(b){b?a.readyWait++:a.ready(!0)},ready:function(b){if(b===!0&&!--a.readyWait||b!==!0&&!a.isReady){if(!g.body)return setTimeout(a.ready,1);a.isReady=!0;if(b!==!0&&--a.readyWait>0)return;r.resolveWith(g,[a]),a.fn.trigger&&a(g).trigger("ready").unbind("ready")}},bindReady:function(){if(!r){r=a._Deferred();if(g.readyState===i)return setTimeout(a.ready,1);if(g.addEventListener)g.addEventListener(k,o,!1),m.addEventListener("load",a.ready,!1);else if(g.attachEvent){g.attachEvent(l,o),m.attachEvent("onload",a.ready);var c=!1;try{c=m.frameElement==b}catch(d){}g.documentElement.doScroll&&c&&A()}}},isFunction:function(b){return a.type(b)===B},isArray:Array.isArray||function(b){return a.type(b)==="array"},isWindow:function(a){return a&&typeof a==j&&"setInterval"in a},isNaN:function(a){return a==b||!J.test(a)||isNaN(a)},type:function(a){return a==b?String(a):y[F.call(a)]||j},isPlainObject:function(b){if(!b||a.type(b)!==j||b.nodeType||a.isWindow(b))return!1;if(b.constructor&&!t.call(b,"constructor")&&!t.call(b.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in b);return c===f||t.call(b,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(d){if(typeof d!=e||!d)return b;d=a.trim(d);if(m.JSON&&m.JSON.parse)return m.JSON.parse(d);if(L.test(d.replace(M,"@").replace(N,"]").replace(O,c)))return new Function("return "+d)();a.error("Invalid JSON: "+d)},parseXML:function(d,b,c){m.DOMParser?(c=new DOMParser,b=c.parseFromString(d,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(d)),c=b.documentElement,(!c||!c.nodeName||c.nodeName===gb)&&a.error("Invalid XML: "+d);return b},noop:function(){},globalEval:function(a){a&&C.test(a)&&(m.execScript||function(a){m.eval.call(m,a)})(a)},camelCase:function(a){return a.replace(U,V)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,e,g){var c,d=0,h=b.length,i=h===f||a.isFunction(b);if(g){if(i){for(c in b)if(e.apply(b[c],g)===!1)break}else for(;d<h;)if(e.apply(b[d++],g)===!1)break}else if(i){for(c in b)if(e.call(b[c],c,b[c])===!1)break}else for(;d<h;)if(e.call(b[d],d,b[d++])===!1)break;return b},trim:v?function(a){return a==b?c:v.call(a)}:function(a){return a==b?c:(a+c).replace(D,c).replace(E,c)},makeArray:function(c,g){var d=g||[];if(c!=b){var f=a.type(c);c.length==b||f===e||f===B||f==="regexp"||a.isWindow(c)?u.call(d,c):a.merge(d,c)}return d},inArray:function(c,b){if(x)return x.call(b,c);for(var a=0,d=b.length;a<d;a++)if(b[a]===c)return a;return h},merge:function(a,b){var d=a.length,c=0;if(typeof b.length==p)for(var e=b.length;c<e;c++)a[d++]=b[c];else while(b[c]!==f)a[d++]=b[c++];a.length=d;return a},grep:function(b,f,c){var d=[],e;c=!!c;for(var a=0,g=b.length;a<g;a++)e=!!f(b[a],a),c!==e&&d.push(b[a]);return d},map:function(c,j,k){var d,i,e=[],h=0,g=c.length,l=c instanceof a||g!==f&&typeof g==p&&(g>0&&c[0]&&c[g-1]||g===0||a.isArray(c));if(l)for(;h<g;h++)d=j(c[h],h,k),d!=b&&(e[e.length]=d);else for(i in c)d=j(c[i],i,k),d!=b&&(e[e.length]=d);return e.concat.apply([],e)},guid:1,proxy:function(b,c){if(typeof c==e){var g=b[c];c=b,b=g}if(!a.isFunction(b))return f;var h=q.call(arguments,2),d=function(){return b.apply(c,h.concat(q.call(arguments)))};d.guid=b.guid=b.guid||d.guid||a.guid++;return d},access:function(b,c,e,g,h,i){var k=b.length;if(typeof c==j){for(var l in c)a.access(b,l,c[l],g,h,e);return b}if(e!==f){g=!i&&g&&a.isFunction(e);for(var d=0;d<k;d++)h(b[d],c,g?e.call(b[d],d,h(b[d],c)):e,i);return b}return k?h(b[0],c):f},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=Q.exec(a)||R.exec(a)||S.exec(a)||a.indexOf("compatible")<0&&T.exec(a)||[];return{browser:b[1]||c,version:b[2]||"0"}},sub:function(){var c=this;function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,c),b.superclass=c,b.fn=b.prototype=c(),b.fn.constructor=b,b.sub=c.sub,b.fn.init=function(e,c){c&&c instanceof a&&!(c instanceof b)&&(c=b(c));return a.fn.init.call(this,e,c,d)},b.fn.init.prototype=b.fn;var d=b(g);return b},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(d),function(b,a){y["[object "+a+"]"]=a.toLowerCase()}),s=a.uaMatch(W),s.browser&&(a.browser[s.browser]=!0,a.browser.version=s.version),a.browser.webkit&&(a.browser.safari=!0),C.test(d)&&(D=/^[\s\xA0]+/,E=/[\s\xA0]+$/),w=a(g),g.addEventListener?(o=function(){g.removeEventListener(k,o,!1),a.ready()}):g.attachEvent&&(o=function(){g.readyState===i&&(g.detachEvent(l,o),a.ready())});return a}(),mc="done fail isResolved isRejected promise then always pipe".split(d),Vc=[].slice;a.extend({_Deferred:function(){var d=[],b,e,f,c={done:function(){if(!f){var j=arguments,e,k,g,i,h;b&&(h=b,b=0);for(e=0,k=j.length;e<k;e++)g=j[e],i=a.type(g),i==="array"?c.done.apply(c,g):i===B&&d.push(g);h&&c.resolveWith(h[0],h[1])}return this},resolveWith:function(c,a){if(!f&&!b&&!e){a=a||[],e=1;try{while(d[0])d.shift().apply(c,a)}finally{b=[c,a],e=0}}return this},resolve:function(){c.resolveWith(this,arguments);return this},isResolved:function(){return!!e||!!b},cancel:function(){f=1,d=[];return this}};return c},Deferred:function(f){var c=a._Deferred(),d=a._Deferred(),e;a.extend(c,{then:function(a,b){c.done(a).fail(b);return this},always:function(){return c.done.apply(c,arguments).fail.apply(this,arguments)},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,pipe:function(b,d){return a.Deferred(function(e){a.each({done:[b,"resolve"],fail:[d,"reject"]},function(d,f){var g=f[0],h=f[1],b;a.isFunction(g)?c[d](function(){b=g.apply(this,arguments),b&&a.isFunction(b.promise)?b.promise().then(e.resolve,e.reject):e[h](b)}):c[d](e[h])})}).promise()},promise:function(a){if(a==b){if(e)return e;e=a={}}var d=mc.length;while(d--)a[mc[d]]=c[mc[d]];return a}}),c.done(d.cancel).fail(c.cancel),delete c.cancel,f&&f.call(c,c);return c},when:function(e){function h(a){return function(d){c[a]=arguments.length>1?Vc.call(arguments,0):d,--g||b.resolveWith(b,Vc.call(c,0))}}var c=arguments,d=0,f=c.length,g=f,b=f<=1&&e&&a.isFunction(e.promise)?e:a.Deferred();if(f>1){for(;d<f;d++)c[d]&&a.isFunction(c[d].promise)?c[d].promise().then(h(d),b.reject):--g;g||b.resolveWith(b,c)}else b!==e&&b.resolveWith(b,f?[e]:[]);return b.promise()}}),a.support=function(){var d=g.createElement(o),F=g.documentElement,A,j,s,u,f,l,e,v,p,w,h,x,q,G,y,m,n;d.setAttribute(hb,"t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",A=d.getElementsByTagName(i),j=d.getElementsByTagName("a")[0];if(!A||!A.length||!j)return{};s=g.createElement(xb),u=s.appendChild(g.createElement(sb)),f=d.getElementsByTagName(k)[0],e={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName(ab).length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(j.getAttribute("style")),hrefNormalized:j.getAttribute(C)==="/a",opacity:/^0.55$/.test(j.style.opacity),cssFloat:!!j.style.cssFloat,checkOn:f.value===D,optSelected:u.selected,getSetAttribute:d.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},f.checked=!0,e.noCloneChecked=f.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!u.disabled;try{delete d.test}catch(H){e.deleteExpando=!1}!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),f=g.createElement(k),f.value="t",f.setAttribute(Q,r),e.radioValue=f.value==="t",f.setAttribute("checked","checked"),d.appendChild(f),v=g.createDocumentFragment(),v.appendChild(d.firstChild),e.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML=c,d.style.width=d.style.paddingLeft="1px",p=g.getElementsByTagName(z)[0],h=g.createElement(p?o:z),x={visibility:E,width:0,height:0,border:0,margin:0},p&&a.extend(x,{position:ib,left:-1e3,top:-1e3});for(m in x)h.style[m]=x[m];h.appendChild(d),w=p||F,w.insertBefore(h,w.firstChild),e.appendChecked=f.checked,e.boxModel=d.offsetWidth===2,"zoom"in d.style&&(d.style.display=M,d.style.zoom=1,e.inlineBlockNeedsLayout=d.offsetWidth===2,d.style.display=c,d.innerHTML="<div style='width:4px;'></div>",e.shrinkWrapBlocks=d.offsetWidth!==2),d.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",q=d.getElementsByTagName("td"),n=q[0].offsetHeight===0,q[0].style.display=c,q[1].style.display=t,e.reliableHiddenOffsets=n&&q[0].offsetHeight===0,d.innerHTML=c,g.defaultView&&g.defaultView.getComputedStyle&&(l=g.createElement(o),l.style.width="0",l.style.marginRight="0",d.appendChild(l),e.reliableMarginRight=(parseInt((g.defaultView.getComputedStyle(l,b)||{marginRight:0}).marginRight,10)||0)===0),h.innerHTML=c,w.removeChild(h);if(d.attachEvent)for(m in{submit:1,change:1,focusin:1})y=D+m,n=y in d,n||(d.setAttribute(y,"return;"),n=typeof d[y]==B),e[m+"Bubbles"]=n;h=v=s=u=p=l=d=f=b;return e}(),a.boxModel=a.support.boxModel;var Td=/^(?:\{.*\}|\[.*\])$/,Ud=/([a-z])([A-Z])/g;a.extend({cache:{},uuid:0,expando:"jQuery"+(a.fn.jquery+Math.random()).replace(/\D/g,c),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){b=b.nodeType?a.cache[b[a.expando]]:b[a.expando];return!!b&&!oc(b)},data:function(i,d,l,m){if(!!a.acceptData(i)){var h=a.expando,n=typeof d==e,c,k=i.nodeType,g=k?a.cache:i,b=k?i[a.expando]:i[a.expando]&&a.expando;if((!b||m&&b&&!g[b][h])&&n&&l===f)return;b||(k?(i[a.expando]=b=++a.uuid):(b=a.expando)),g[b]||(g[b]={},k||(g[b].toJSON=a.noop));if(typeof d==j||typeof d==B)m?(g[b][h]=a.extend(g[b][h],d)):(g[b]=a.extend(g[b],d));c=g[b],m&&(c[h]||(c[h]={}),c=c[h]),l!==f&&(c[a.camelCase(d)]=l);return d===tb&&!c[d]?c[h]&&c[h].events:n?c[a.camelCase(d)]||c[d]:c}},removeData:function(e,i,j){if(!!a.acceptData(e)){var f=a.expando,g=e.nodeType,c=g?a.cache:e,d=g?e[a.expando]:a.expando;if(!c[d])return;if(i){var h=j?c[d][f]:c[d];if(h){delete h[i];if(!oc(h))return}}if(j){delete c[d][f];if(!oc(c[d]))return}var k=c[d][f];a.support.deleteExpando||c!=m?delete c[d]:(c[d]=b),k?(c[d]={},g||(c[d].toJSON=a.noop),c[d][f]=k):g&&(a.support.deleteExpando?delete e[a.expando]:e.removeAttribute?e.removeAttribute(a.expando):(e[a.expando]=b))}},_data:function(b,c,d){return a.data(b,c,d,!0)},acceptData:function(b){if(b.nodeName){var c=a.noData[b.nodeName.toLowerCase()];if(c)return c!==!0&&b.getAttribute("classid")===c}return!0}}),a.fn.extend({data:function(h,k){var d=this,e=b;if(typeof h==l){if(d.length){e=a.data(d[0]);if(d[0].nodeType===1)for(var o=d[0].attributes,i,m=0,p=o.length;m<p;m++)i=o[m].name,i.indexOf("data-")===0&&(i=a.camelCase(i.substring(5)),Xc(d[0],i,e[i]))}return e}if(typeof h==j)return d.each(function(){a.data(this,h)});var g=h.split(n);g[1]=g[1]?n+g[1]:c;if(k===f){e=d.triggerHandler("getData"+g[1]+"!",[g[0]]),e===f&&d.length&&(e=a.data(d[0],h),e=Xc(d[0],h,e));return e===f&&g[1]?d.data(g[0]):e}return d.each(function(){var b=a(this),c=[g[0],k];b.triggerHandler("setData"+g[1]+"!",c),a.data(this,h,k),b.triggerHandler("changeData"+g[1]+"!",c)})},removeData:function(b){return this.each(function(){a.removeData(this,b)})}}),a.extend({_mark:function(c,b){c&&(b=(b||s)+J,a.data(c,b,(a.data(c,b,f,!0)||0)+1,!0))},_unmark:function(d,b,c){d!==!0&&(c=b,b=d,d=!1);if(b){c=c||s;var e=c+J,g=d?0:(a.data(b,e,f,!0)||1)-1;g?a.data(b,e,g,!0):(a.removeData(b,e,!0),Zc(b,c,J))}},queue:function(e,b,c){if(e){b=(b||s)+y;var d=a.data(e,b,f,!0);c&&(!d||a.isArray(c)?(d=a.data(e,b,a.makeArray(c),!0)):d.push(c));return d||[]}},dequeue:function(c,b){b=b||s;var d=a.queue(c,b),e=d.shift(),f;e===jb&&(e=d.shift()),e&&(b===s&&d.unshift(jb),e.call(c,function(){a.dequeue(c,b)})),d.length||(a.removeData(c,b+y,!0),Zc(c,b,y))}}),a.fn.extend({queue:function(b,c){typeof b!=e&&(c=b,b=s);return c===f?a.queue(this[0],b):this.each(function(){var d=a.queue(this,b,c);b===s&&d[0]!==jb&&a.dequeue(this,b)})},dequeue:function(b){return this.each(function(){a.dequeue(this,b)})},delay:function(b,c){b=a.fx?a.fx.speeds[b]||b:b,c=c||s;return this.queue(c,function(){var d=this;setTimeout(function(){a.dequeue(d,c)},b)})},clearQueue:function(a){return this.queue(a||s,[])},promise:function(b,l){function k(){--h||g.resolveWith(c,[c])}typeof b!=e&&(l=b,b=f),b=b||s;var g=a.Deferred(),c=this,d=c.length,h=1,i=b+"defer",m=b+y,n=b+J,j;while(d--)if(j=a.data(c[d],i,f,!0)||(a.data(c[d],m,f,!0)||a.data(c[d],n,f,!0))&&a.data(c[d],i,a._Deferred(),!0))h++,j.done(k);k();return g.promise()}});var ad=/[\n\t\r]/g,pc=/\s+/,Xd=/\r/g,ae=/^(?:button|input)$/i,be=/^(?:button|input|object|select|textarea)$/i,de=/^a(?:rea)?$/i,cd=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,fe=/\:|^on/,rb,ed;a.fn.extend({attr:function(b,c){return a.access(this,b,c,!0,a.attr)},removeAttr:function(b){return this.each(function(){a.removeAttr(this,b)})},prop:function(b,c){return a.access(this,b,c,!0,a.prop)},removeProp:function(b){b=a.propFix[b]||b;return this.each(function(){try{this[b]=f,delete this[b]}catch(a){}})},addClass:function(b){var h=this,f,i,k,c,j,g,l;if(a.isFunction(b))return h.each(function(c){a(this).addClass(b.call(this,c,this.className))});if(b&&typeof b==e){f=b.split(pc);for(i=0,k=h.length;i<k;i++){c=h[i];if(c.nodeType===1)if(!c.className&&f.length===1)c.className=b;else{j=d+c.className+d;for(g=0,l=f.length;g<l;g++)~j.indexOf(d+f[g]+d)||(j+=f[g]+d);c.className=a.trim(j)}}}return h},removeClass:function(b){var h=this,l,i,m,g,j,k,n;if(a.isFunction(b))return h.each(function(c){a(this).removeClass(b.call(this,c,this.className))});if(b&&typeof b==e||b===f){l=(b||c).split(pc);for(i=0,m=h.length;i<m;i++){g=h[i];if(g.nodeType===1&&g.className)if(b){j=(d+g.className+d).replace(ad,d);for(k=0,n=l.length;k<n;k++)j=j.replace(d+l[k]+d,d);g.className=a.trim(j)}else g.className=c}}return h},toggleClass:function(b,d){var f=typeof b,g=typeof d==P;return a.isFunction(b)?this.each(function(c){a(this).toggleClass(b.call(this,c,this.className,d),d)}):this.each(function(){var i="__className__",h=this;if(f===e){var j,n=0,m=a(h),k=d,o=b.split(pc);while(j=o[n++])k=g?k:!m.hasClass(j),m[k?"addClass":"removeClass"](j)}else if(f===l||f===P)h.className&&a._data(h,i,h.className),h.className=h.className||b===!1?c:a._data(h,i)||c})},hasClass:function(b){for(var c=d+b+d,a=0,e=this.length;a<e;a++)if((d+this[a].className+d).replace(ad,d).indexOf(c)>h)return!0;return!1},val:function(i){var d,g,h=this[0];if(!arguments.length){if(h){d=a.valHooks[h.nodeName.toLowerCase()]||a.valHooks[h.type];if(d&&N in d&&(g=d.get(h,bb))!==f)return g;g=h.value;return typeof g==e?g.replace(Xd,c):g==b?c:g}return f}var j=a.isFunction(i);return this.each(function(h){var g=this,k=a(g),e;if(g.nodeType===1){j?(e=i.call(g,h,k.val())):(e=i),e==b?(e=c):typeof e==p?(e+=c):a.isArray(e)&&(e=a.map(e,function(a){return a==b?c:a+c})),d=a.valHooks[g.nodeName.toLowerCase()]||a.valHooks[g.type];if(!d||!(V in d)||d.set(g,e,bb)===f)g.value=e}})}}),a.extend({valHooks:{option:{"get":function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{"get":function(g){var h,d=g.selectedIndex,i=[],e=g.options,f=g.type==="select-one";if(d<0)return b;for(var j=f?d:0,k=f?d+1:e.length;j<k;j++){var c=e[j];if(c.selected&&(a.support.optDisabled?!c.disabled:c.getAttribute("disabled")===b)&&(!c.parentNode.disabled||!a.nodeName(c.parentNode,"optgroup"))){h=a(c).val();if(f)return h;i.push(h)}}return f&&!i.length&&e.length?a(e[d]).val():i},"set":function(c,d){var b=a.makeArray(d);a(c).find(sb).each(function(){this.selected=a.inArray(a(this).val(),b)>=0}),b.length||(c.selectedIndex=h);return b}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:Rb},attr:function(e,d,h,l){var j=e.nodeType;if(!e||j===3||j===8||j===2)return f;if(l&&d in a.attrFn)return a(e)[d](h);if(!("getAttribute"in e))return a.prop(e,d,h);var i,g,k=j!==1||!a.isXMLDoc(e);k&&(d=a.attrFix[d]||d,g=a.attrHooks[d],g||(cd.test(d)?(g=ed):rb&&d!==hb&&(a.nodeName(e,R)||fe.test(d))&&(g=rb)));if(h!==f){if(h===b){a.removeAttr(e,d);return f}if(g&&V in g&&k&&(i=g.set(e,h,d))!==f)return i;e.setAttribute(d,c+h);return h}if(g&&N in g&&k&&(i=g.get(e,d))!==b)return i;i=e.getAttribute(d);return i===b?f:i},removeAttr:function(d,b){var e;d.nodeType===1&&(b=a.attrFix[b]||b,a.support.getSetAttribute?d.removeAttribute(b):(a.attr(d,b,c),d.removeAttributeNode(d.getAttributeNode(b))),cd.test(b)&&(e=a.propFix[b]||b)in d&&(d[e]=!1))},attrHooks:{type:{"set":function(b,c){if(ae.test(b.nodeName)&&b.parentNode)a.error("type property can't be changed");else if(!a.support.radioValue&&c===r&&a.nodeName(b,k)){var d=b.value;b.setAttribute(Q,c),d&&(b.value=d);return c}}},tabIndex:{"get":function(a){var b=a.getAttributeNode(Rb);return b&&b.specified?parseInt(b.value,10):be.test(a.nodeName)||de.test(a.nodeName)&&a.href?0:f}},value:{"get":function(c,d){return rb&&a.nodeName(c,v)?rb.get(c,d):d in c?c.value:b},"set":function(b,c,d){if(rb&&a.nodeName(b,v))return rb.set(b,c,d);b.value=c}}},propFix:{tabindex:Rb,readonly:"readOnly","for":"htmlFor","class":hb,maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,b,h){var e=c.nodeType;if(!c||e===3||e===8||e===2)return f;var g,d,i=e!==1||!a.isXMLDoc(c);i&&(b=a.propFix[b]||b,d=a.propHooks[b]);return h!==f?d&&V in d&&(g=d.set(c,h,b))!==f?g:(c[b]=h):d&&N in d&&(g=d.get(c,b))!==f?g:c[b]},propHooks:{}}),ed={"get":function(c,b){return a.prop(c,b)?b.toLowerCase():f},"set":function(c,e,b){var d;e===!1?a.removeAttr(c,b):(d=a.propFix[b]||b,d in c&&(c[d]=!0),c.setAttribute(b,b.toLowerCase()));return b}},a.support.getSetAttribute||(a.attrFix=a.propFix,rb=a.attrHooks.name=a.attrHooks.title=a.valHooks.button={"get":function(b,d){var a;a=b.getAttributeNode(d);return a&&a.nodeValue!==c?a.nodeValue:f},"set":function(c,a,d){var b=c.getAttributeNode(d);if(b){b.nodeValue=a;return a}}},a.each([w,O],function(d,b){a.attrHooks[b]=a.extend(a.attrHooks[b],{"set":function(d,a){if(a===c){d.setAttribute(b,W);return a}}})})),a.support.hrefNormalized||a.each([C,"src",w,O],function(d,c){a.attrHooks[c]=a.extend(a.attrHooks[c],{"get":function(d){var a=d.getAttribute(c,2);return a===b?f:a}})}),a.support.style||(a.attrHooks.style={"get":function(a){return a.style.cssText.toLowerCase()||f},"set":function(a,b){return a.style.cssText=c+b}}),a.support.optSelected||(a.propHooks.selected=a.extend(a.propHooks.selected,{"get":function(b){var a=b.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}})),a.support.checkOn||a.each([r,x],function(){a.valHooks[this]={"get":function(a){return a.getAttribute(bb)===b?D:a.value}}}),a.each([r,x],function(){a.valHooks[this]=a.extend(a.valHooks[this],{"set":function(b,c){if(a.isArray(c))return b.checked=a.inArray(a(b).val(),c)>=0}})});var qc=/\.(.*)$/,rc=/^(?:textarea|input|select)$/i,ie=/\./g,Od=/ /g,Pd=/[^\w\s.|`]/g,Qd=function(a){return a.replace(Pd,"\\$&")};a.event={add:function(e,s,g,u){if(e.nodeType!==3&&e.nodeType!==8){if(g===!1)g=qb;else if(!g)return;var p,j;g.handler&&(p=g,g=p.handler),g.guid||(g.guid=a.guid++);var m=a._data(e);if(!m)return;var q=m.events,k=m.handle;q||(m.events=q={}),k||(m.handle=k=function(b){return typeof a!=l&&(!b||a.event.triggered!==b.type)?a.event.handle.apply(k.elem,arguments):f}),k.elem=e,s=s.split(d);var i,v=0,o;while(i=s[v++]){j=p?a.extend({},p):{handler:g,data:u},i.indexOf(n)>h?(o=i.split(n),i=o.shift(),j.namespace=o.slice(0).sort().join(n)):(o=[],j.namespace=c),j.type=i,j.guid||(j.guid=g.guid);var t=q[i],r=a.event.special[i]||{};if(!t){t=q[i]=[];if(!r.setup||r.setup.call(e,u,o,k)===!1)e.addEventListener?e.addEventListener(i,k,!1):e.attachEvent&&e.attachEvent(D+i,k)}r.add&&(r.add.call(e,j),j.handler.guid||(j.handler.guid=g.guid)),t.push(j),a.event.global[i]=!0}e=b}},global:{},remove:function(j,g,o,s){if(j.nodeType!==3&&j.nodeType!==8){o===!1&&(o=qb);var x,h,z,i,y=0,t,p,u,q,k,l,v,m=a.hasData(j)&&a._data(j),r=m&&m.events;if(!m||!r)return;g&&g.type&&(o=g.handler,g=g.type);if(!g||typeof g==e&&g.charAt(0)===n){g=g||c;for(h in r)a.event.remove(j,h+g);return}g=g.split(d);while(h=g[y++]){v=h,l=b,t=h.indexOf(n)<0,p=[],t||(p=h.split(n),h=p.shift(),u=new RegExp(ub+a.map(p.slice(0).sort(),Qd).join(vb)+wb)),k=r[h];if(!k)continue;if(!o){for(i=0;i<k.length;i++){l=k[i];if(t||u.test(l.namespace))a.event.remove(j,v,l.handler,i),k.splice(i--,1)}continue}q=a.event.special[h]||{};for(i=s||0;i<k.length;i++){l=k[i];if(o.guid===l.guid){if(t||u.test(l.namespace))s==b&&k.splice(i--,1),q.remove&&q.remove.call(j,l);if(s!=b)break}}if(k.length===0||s!=b&&k.length===1)(!q.teardown||q.teardown.call(j,p)===!1)&&a.removeEvent(j,h,m.handle),x=b,delete r[h]}if(a.isEmptyObject(r)){var w=m.handle;w&&(w.elem=b),delete m.events,delete m.handle,a.isEmptyObject(m)&&a.removeData(j,f,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(d,k,g,t){var e=d.type||d,o=[],q;e.indexOf("!")>=0&&(e=e.slice(0,h),q=!0),e.indexOf(n)>=0&&(o=e.split(n),e=o.shift(),o.sort());if(!!g&&!a.event.customEvent[e]||!!a.event.global[e]){d=typeof d==j?d[a.expando]?d:new a.Event(e,d):new a.Event(e),d.type=e,d.exclusive=q,d.namespace=o.join(n),d.namespace_re=new RegExp(ub+o.join(vb)+wb);if(t||!g)d.preventDefault(),d.stopPropagation();if(!g){a.each(a.cache,function(){var c=a.expando,b=this[c];b&&b.events&&b.events[e]&&a.event.trigger(d,k,b.handle.elem)});return}if(g.nodeType===3||g.nodeType===8)return;d.result=f,d.target=g,k=k!=b?a.makeArray(k):[],k.unshift(d);var i=g,l=e.indexOf(":")<0?D+e:c;do{var r=a._data(i,"handle");d.currentTarget=i,r&&r.apply(i,k),l&&a.acceptData(i)&&i[l]&&i[l].apply(i,k)===!1&&(d.result=!1,d.preventDefault()),i=i.parentNode||i.ownerDocument||i===d.target.ownerDocument&&m}while(i&&!d.isPropagationStopped());if(!d.isDefaultPrevented()){var p,s=a.event.special[e]||{};if((!s._default||s._default.call(g.ownerDocument,d)===!1)&&(e!=="click"||!a.nodeName(g,"a"))&&a.acceptData(g)){try{l&&g[e]&&(p=g[l],p&&(g[l]=b),a.event.triggered=e,g[e]())}catch(u){}p&&(g[l]=p),a.event.triggered=f}}return d.result}},handle:function(b){b=a.event.fix(b||m.event);var g=((a._data(this,tb)||{})[b.type]||[]).slice(0),i=!b.exclusive&&!b.namespace,h=Array.prototype.slice.call(arguments,0);h[0]=b,b.currentTarget=this;for(var d=0,j=g.length;d<j;d++){var c=g[d];if(i||b.namespace_re.test(c.namespace)){b.handler=c.handler,b.data=c.data,b.handleObj=c;var e=c.handler.apply(this,h);e!==f&&(b.result=e,e===!1&&(b.preventDefault(),b.stopPropagation()));if(b.isImmediatePropagationStopped())break}}return b.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(d),fix:function(c){if(c[a.expando])return c;var i=c;c=a.Event(i);for(var j=this.props.length,h;j;)h=this.props[--j],c[h]=i[h];c.target||(c.target=c.srcElement||g),c.target.nodeType===3&&(c.target=c.target.parentNode),!c.relatedTarget&&c.fromElement&&(c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement);if(c.pageX==b&&c.clientX!=b){var k=c.target.ownerDocument||g,d=k.documentElement,e=k.body;c.pageX=c.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),c.pageY=c.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)}c.which==b&&(c.charCode!=b||c.keyCode!=b)&&(c.which=c.charCode!=b?c.charCode:c.keyCode),!c.metaKey&&c.ctrlKey&&(c.metaKey=c.ctrlKey),!c.which&&c.button!==f&&(c.which=c.button&1?1:c.button&2?3:c.button&4?2:0);return c},guid:1e8,proxy:a.proxy,special:{ready:{setup:a.bindReady,teardown:a.noop},live:{add:function(b){a.event.add(this,cc(b.origType,b.selector),a.extend({},b,{handler:Vd,guid:b.handler.guid}))},remove:function(b){a.event.remove(this,cc(b.origType,b.selector),b)}},beforeunload:{setup:function(c,d,b){a.isWindow(this)&&(this.onbeforeunload=b)},teardown:function(c,a){this.onbeforeunload===a&&(this.onbeforeunload=b)}}}},a.removeEvent=g.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent(D+b,c)},a.Event=function(b,d){var c=this;if(!c.preventDefault)return new a.Event(b,d);b&&b.type?(c.originalEvent=b,c.type=b.type,c.isDefaultPrevented=b.defaultPrevented||b.returnValue===!1||b.getPreventDefault&&b.getPreventDefault()?ac:qb):(c.type=b),d&&a.extend(c,d),c.timeStamp=a.now(),c[a.expando]=!0},a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ac;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():(a.returnValue=!1))},stopPropagation:function(){this.isPropagationStopped=ac;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ac,this.stopPropagation()},isDefaultPrevented:qb,isPropagationStopped:qb,isImmediatePropagationStopped:qb};var Tc=function(b){var c=b.relatedTarget,d=!1,e=b.type;b.type=b.data,c!==this&&(c&&(d=a.contains(this,c)),d||(a.event.handle.apply(this,arguments),b.type=e))},Uc=function(b){b.type=b.data,a.event.handle.apply(this,arguments)};a.each({mouseenter:tc,mouseleave:uc},function(b,c){a.event.special[b]={setup:function(d){a.event.add(this,c,d&&d.selector?Uc:Tc,b)},teardown:function(b){a.event.remove(this,c,b&&b.selector?Uc:Tc)}}}),a.support.submitBubbles||(a.event.special.submit={setup:function(){if(!a.nodeName(this,R))a.event.add(this,"click.specialSubmit",function(d){var b=d.target,c=b.type;(c===K||c==="image")&&a(b).closest(R).length&&Yc(K,this,arguments)}),a.event.add(this,"keypress.specialSubmit",function(b){var c=b.target,d=c.type;(d==="text"||d===yb)&&a(c).closest(R).length&&b.keyCode===13&&Yc(K,this,arguments)});else return!1},teardown:function(){a.event.remove(this,".specialSubmit")}});if(!a.support.changeBubbles){var Ob,Wc=function(b){var e=b.type,d=b.value;e===r||e===x?(d=b.checked):e===Sb?(d=b.selectedIndex>h?a.map(b.options,function(a){return a.selected}).join("-"):c):a.nodeName(b,xb)&&(d=b.selectedIndex);return d},bc=function(d){var c=d.target,e,g;if(!!rc.test(c.nodeName)&&!c.readOnly){e=a._data(c,zb),g=Wc(c),(d.type!==Tb||c.type!==r)&&a._data(c,zb,g);if(e===f||g===e)return;if(e!=b||g)d.type="change",d.liveFired=f,a.event.trigger(d,arguments[1],c)}};a.event.special.change={filters:{focusout:bc,beforedeactivate:bc,click:function(d){var b=d.target,e=a.nodeName(b,k)?b.type:c;(e===r||e===x||a.nodeName(b,xb))&&bc.call(this,d)},keydown:function(b){var d=b.target,e=a.nodeName(d,k)?d.type:c;(b.keyCode===13&&!a.nodeName(d,Qb)||b.keyCode===32&&(e===x||e===r)||e===Sb)&&bc.call(this,b)},beforeactivate:function(c){var b=c.target;a._data(b,zb,Wc(b))}},setup:function(){if(this.type==="file")return!1;for(var b in Ob)a.event.add(this,b+Ub,Ob[b]);return rc.test(this.nodeName)},teardown:function(){a.event.remove(this,Ub);return rc.test(this.nodeName)}},Ob=a.event.special.change.filters,Ob.focus=Ob.beforeactivate}a.support.focusinBubbles||a.each({focus:"focusin",blur:Tb},function(c,d){function f(e){var c=a.event.fix(e);c.type=d,c.originalEvent={},a.event.trigger(c,b,c.target),c.isDefaultPrevented()&&e.preventDefault()}var e=0;a.event.special[d]={setup:function(){e++===0&&g.addEventListener(c,f,!0)},teardown:function(){--e===0&&g.removeEventListener(c,f,!0)}}}),a.each(["bind","one"],function(c,b){a.fn[b]=function(d,e,g){var c=this,h;if(typeof d==j){for(var k in d)c[b](k,e,d[k],g);return c}if(arguments.length===2||e===!1)g=e,e=f;b==="one"?(h=function(b){a(this).unbind(b,h);return g.apply(this,arguments)},h.guid=g.guid||a.guid++):(h=g);if(d==="unload"&&b!=="one")c.one(d,e,g);else for(var i=0,l=c.length;i<l;i++)a.event.add(c[i],d,h,e);return c}}),a.fn.extend({unbind:function(b,f){var c=this;if(typeof b==j&&!b.preventDefault)for(var e in b)c.unbind(e,b[e]);else for(var d=0,g=c.length;d<g;d++)a.event.remove(c[d],b,f);return c},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,c,d){return arguments.length===0?this.unbind(Ab):this.die(c,b,d,a)},trigger:function(b,c){return this.each(function(){a.event.trigger(b,c,this)})},triggerHandler:function(b,c){if(this[0])return a.event.trigger(b,c,this[0],!0)},toggle:function(b){var c=arguments,e=b.guid||a.guid++,d=0,f=function(g){var e="lastToggle",f=(a.data(this,e+b.guid)||0)%d;a.data(this,e+b.guid,f+1),g.preventDefault();return c[f].apply(this,arguments)||!1};f.guid=e;while(d<c.length)c[d++].guid=e;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var nc={focus:"focusin",blur:Tb,mouseenter:tc,mouseleave:uc};a.each([Ab,"die"],function(g,e){a.fn[e]=function(h,l,p,m){var k=this,g,v=0,r,i,t,q=m||k.selector,o=m?k:a(k.context);if(typeof h==j&&!h.preventDefault){for(var u in h)o[e](u,l,h[u],q);return k}if(e==="die"&&!h&&m&&m.charAt(0)===n){o.unbind(m);return k}if(l===!1||a.isFunction(l))p=l||qb,l=f;h=(h||c).split(d);while((g=h[v++])!=b){r=qc.exec(g),i=c,r&&(i=r[0],g=g.replace(qc,c));if(g==="hover"){h.push(Jb+i,Kb+i);continue}t=g,nc[g]?(h.push(nc[g]+i),g=g+i):(g=(nc[g]||g)+i);if(e===Ab)for(var s=0,w=o.length;s<w;s++)a.event.add(o[s],"live."+cc(g,q),{data:l,selector:q,handler:p,origType:g,origHandler:p,preType:t});else o.unbind("live."+cc(g,q),p)}return k}}),a.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(d),function(d,c){a.fn[c]=function(a,d){d==b&&(d=a,a=b);return arguments.length>0?this.bind(c,a,d):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),function(){var q="id",t="[object Array]";function M(g,f,h,c,k,i){for(var b=0,j=c.length;b<j;b++){var a=c[b];if(a){var d=!1;a=a[g];while(a){if(a.sizcache===h){d=c[a.sizset];break}if(a.nodeType===1){i||(a.sizcache=h,a.sizset=b);if(typeof f!=e){if(a===f){d=!0;break}}else if(m.filter(f,[a]).length>0){d=a;break}}a=a[g]}c[b]=d}}}function L(e,g,f,c,j,h){for(var b=0,i=c.length;b<i;b++){var a=c[b];if(a){var d=!1;a=a[e];while(a){if(a.sizcache===f){d=c[a.sizset];break}a.nodeType===1&&!h&&(a.sizcache=f,a.sizset=b);if(a.nodeName.toLowerCase()===g){d=a;break}a=a[e]}c[b]=d}}}var G=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,H=0,I=Object.prototype.toString,A=!1,J=!0,w=/\\/g,B=/\W/;[0,0].sort(function(){J=!1;return 0});var m=function(k,d,i,r){i=i||[],d=d||g;var y=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!k||typeof k!=e)return i;var o,l,f,v,j,p,q,h,w=!0,u=m.isXML(d),a=[],x=k;do{G.exec(c),o=G.exec(x);if(o){x=o[3],a.push(o[1]);if(o[2]){v=o[3];break}}}while(o);if(a.length>1&&O.exec(k))if(a.length===2&&n.relative[a[0]])l=N(a[0]+a[1],d);else{l=n.relative[a[0]]?[d]:m(a.shift(),d);while(a.length)k=a.shift(),n.relative[k]&&(k+=a.shift()),l=N(k,l)}else{!r&&a.length>1&&d.nodeType===9&&!u&&n.match.ID.test(a[0])&&!n.match.ID.test(a[a.length-1])&&(j=m.find(a.shift(),d,u),d=j.expr?m.filter(j.expr,j.set)[0]:j.set[0]);if(d){j=r?{expr:a.pop(),"set":s(r)}:m.find(a.pop(),a.length===1&&(a[0]==="~"||a[0]==="+")&&d.parentNode?d.parentNode:d,u),l=j.expr?m.filter(j.expr,j.set):j.set,a.length>0?(f=s(l)):(w=!1);while(a.length)p=a.pop(),q=p,n.relative[p]?(q=a.pop()):(p=c),q==b&&(q=d),n.relative[p](f,q,u)}else f=a=[]}f||(f=l),f||m.error(p||k);if(I.call(f)===t)if(!w)i.push.apply(i,f);else if(d&&d.nodeType===1)for(h=0;f[h]!=b;h++)f[h]&&(f[h]===!0||f[h].nodeType===1&&m.contains(d,f[h]))&&i.push(l[h]);else for(h=0;f[h]!=b;h++)f[h]&&f[h].nodeType===1&&i.push(l[h]);else s(f,i);v&&(m(v,y,i,r),m.uniqueSort(i));return i};m.uniqueSort=function(a){if(F){A=J,a.sort(F);if(A)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,c){return m(a,b,b,c)},m.matchesSelector=function(a,c){return m(c,b,b,[a]).length>0},m.find=function(d,f,k){var e;if(!d)return[];for(var g=0,m=n.order.length;g<m;g++){var a,h=n.order[g];if(a=n.leftMatch[h].exec(d)){var j=a[1];a.splice(1,1);if(j.substr(j.length-1)!=="\\"){a[1]=(a[1]||c).replace(w,c),e=n.find[h](a,f,k);if(e!=b){d=d.replace(n.match[h],c);break}}}}e||(e=typeof f.getElementsByTagName!=l?f.getElementsByTagName(i):[]);return{"set":e,expr:d}},m.filter=function(d,h,p,q){var a,g,r=d,i=[],e=h,u=h&&h[0]&&m.isXML(h[0]);while(d&&h.length){for(var j in n.filter)if((a=n.leftMatch[j].exec(d))!=b&&a[2]){var k,l,v=n.filter[j],s=a[1];g=!1,a.splice(1,1);if(s.substr(s.length-1)==="\\")continue;e===i&&(i=[]);if(n.preFilter[j]){a=n.preFilter[j](a,e,p,i,q,u);if(!a)g=k=!0;else if(a===!0)continue}if(a)for(var o=0;(l=e[o])!=b;o++)if(l){k=v(l,a,o,e);var t=q^!!k;p&&k!=b?t?(g=!0):(e[o]=!1):t&&(i.push(l),g=!0)}if(k!==f){p||(e=i),d=d.replace(n.match[j],c);if(!g)return[];break}}if(d===r)if(g==b)m.error(d);else break;r=d}return e},m.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var n=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":hb,"for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute(C)},type:function(a){return a.getAttribute(Q)}},relative:{"+":function(c,b){var f=typeof b==e,g=f&&!B.test(b),h=f&&!g;g&&(b=b.toLowerCase());for(var d=0,i=c.length,a;d<i;d++)if(a=c[d]){while((a=a.previousSibling)&&a.nodeType!==1);c[d]=h||a&&a.nodeName.toLowerCase()===b?a||!1:a===b}h&&m.filter(b,c,!0)},">":function(d,b){var c,f=typeof b==e,a=0,g=d.length;if(f&&!B.test(b)){b=b.toLowerCase();for(;a<g;a++){c=d[a];if(c){var h=c.parentNode;d[a]=h.nodeName.toLowerCase()===b?h:!1}}}else{for(;a<g;a++)c=d[a],c&&(d[a]=f?c.parentNode:c.parentNode===b);f&&m.filter(b,d,!0)}},"":function(d,a,f){var b,g=H++,c=M;typeof a==e&&!B.test(a)&&(a=a.toLowerCase(),b=a,c=L),c(kb,a,g,d,b,f)},"~":function(d,a,f){var b,g=H++,c=M;typeof a==e&&!B.test(a)&&(a=a.toLowerCase(),b=a,c=L),c(X,a,g,d,b,f)}},find:{ID:function(c,b,d){if(typeof b.getElementById!=l&&!d){var a=b.getElementById(c[1]);return a&&a.parentNode?[a]:[]}},NAME:function(e,f){if(typeof f.getElementsByName!=l){for(var c=[],d=f.getElementsByName(e[1]),a=0,g=d.length;a<g;a++)d[a].getAttribute("name")===e[1]&&c.push(d[a]);return c.length===0?b:c}},TAG:function(b,a){if(typeof a.getElementsByTagName!=l)return a.getElementsByTagName(b[1])}},preFilter:{CLASS:function(e,g,h,i,j,k){e=d+e[1].replace(w,c)+d;if(k)return e;for(var f=0,a;(a=g[f])!=b;f++)a&&(j^(a.className&&(d+a.className+d).replace(/[\t\n\r]/g,d).indexOf(e)>=0)?h||i.push(a):h&&(g[f]=!1));return!1},ID:function(a){return a[1].replace(w,c)},TAG:function(a){return a[1].replace(w,c).toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,c);var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=H++;return a},ATTR:function(a,f,g,h,i,e){var b=a[1]=a[1].replace(w,c);!e&&n.attrMap[b]&&(a[1]=n.attrMap[b]),a[4]=(a[4]||a[5]||c).replace(w,c),a[2]==="~="&&(a[4]=d+a[4]+d);return a},PSEUDO:function(a,d,e,f,g){if(a[1]==="not")if((G.exec(a[3])||c).length>1||/^\w/.test(a[3]))a[3]=m(a[3],b,b,d);else{var h=m.filter(a[3],d,e,!0^g);e||f.push.apply(f,h);return!1}else if(n.match.POS.test(a[0])||n.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!==E},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,b){return!!m(b[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var c=a.getAttribute(Q),d=a.type;return a.nodeName.toLowerCase()===k&&"text"===d&&(c===d||c===b)},radio:function(a){return a.nodeName.toLowerCase()===k&&r===a.type},checkbox:function(a){return a.nodeName.toLowerCase()===k&&x===a.type},file:function(a){return a.nodeName.toLowerCase()===k&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()===k&&yb===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b===k||b===v)&&K===a.type},image:function(a){return a.nodeName.toLowerCase()===k&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b===k||b===v)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b===k&&v===a.type||b===v},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(b,a){return a===0},last:function(c,a,d,b){return a===b.length-1},even:function(b,a){return a%2===0},odd:function(b,a){return a%2===1},lt:function(c,a,b){return a<b[3]-0},gt:function(c,a,b){return a>b[3]-0},nth:function(c,a,b){return b[3]-0===a},eq:function(c,a,b){return b[3]-0===a}},filter:{PSEUDO:function(a,b,h,i){var d=b[1],f=n.filters[d];if(f)return f(a,h,b,i);if(d==="contains")return(a.textContent||a.innerText||m.getText([a])||c).indexOf(b[3])>=0;if(d==="not"){for(var g=b[3],e=0,j=g.length;e<j;e++)if(g[e]===a)return!1;return!0}m.error(d)},CHILD:function(b,c){var g=c[1],a=b;switch(g){case"only":case"first":while(a=a.previousSibling)if(a.nodeType===1)return!1;if(g==="first")return!0;a=b;case"last":while(a=a.nextSibling)if(a.nodeType===1)return!1;return!0;case"nth":var d=c[2],h=c[3];if(d===1&&h===0)return!0;var i=c[0],e=b.parentNode;if(e&&(e.sizcache!==i||!b.nodeIndex)){var j=0;for(a=e.firstChild;a;a=a.nextSibling)a.nodeType===1&&(a.nodeIndex=++j);e.sizcache=i}var f=b.nodeIndex-h;return d===0?f===0:f%d===0&&f/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute(q)===b},TAG:function(a,b){return b===i&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(d+(a.className||a.getAttribute("class"))+d).indexOf(b)>h},ATTR:function(h,i){var g=i[1],j=n.attrHandle[g]?n.attrHandle[g](h):h[g]!=b?h[g]:h.getAttribute(g),e=j+c,f=i[2],a=i[4];return j==b?f==="!=":f==="="?e===a:f==="*="?e.indexOf(a)>=0:f==="~="?(d+e+d).indexOf(a)>=0:a?f==="!="?e!==a:f==="^="?e.indexOf(a)===0:f==="$="?e.substr(e.length-a.length)===a:f==="|="?e===a||e.substr(0,a.length+1)===a+"-":!1:e&&j!==!1},POS:function(c,a,d,e){var f=a[2],b=n.setFilters[f];if(b)return b(c,d,a,e)}}},O=n.match.POS,P=function(b,a){return"\\"+(a-0+1)};for(var D in n.match)n.match[D]=new RegExp(n.match[D].source+/(?![^\[]*\])(?![^\(]*\))/.source),n.leftMatch[D]=new RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[D].source.replace(/\\(\d+)/g,P));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(g.documentElement.childNodes,0)[0].nodeType}catch(R){s=function(a,d){var b=0,c=d||[];if(I.call(a)===t)Array.prototype.push.apply(c,a);else if(typeof a.length==p)for(var e=a.length;b<e;b++)c.push(a[b]);else for(;a[b];b++)c.push(a[b]);return c}}var F,y;g.documentElement.compareDocumentPosition?(F=function(a,b){if(a===b){A=!0;return 0}return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?h:1:a.compareDocumentPosition(b)&4?h:1}):(F=function(c,d){if(c===d){A=!0;return 0}if(c.sourceIndex&&d.sourceIndex)return c.sourceIndex-d.sourceIndex;var g,k,e=[],f=[],i=c.parentNode,j=d.parentNode,b=i;if(i===j)return y(c,d);if(!i)return h;if(!j)return 1;while(b)e.unshift(b),b=b.parentNode;b=j;while(b)f.unshift(b),b=b.parentNode;g=e.length,k=f.length;for(var a=0;a<g&&a<k;a++)if(e[a]!==f[a])return y(e[a],f[a]);return a===g?y(c,f[a],h):y(e[a],d,1)},y=function(b,c,d){if(b===c)return d;var a=b.nextSibling;while(a){if(a===c)return h;a=a.nextSibling}return 1}),m.getText=function(e){for(var b=c,a,d=0;e[d];d++)a=e[d],a.nodeType===3||a.nodeType===4?(b+=a.nodeValue):a.nodeType!==8&&(b+=m.getText(a.childNodes));return b},function(){var a=g.createElement(o),d=u+(new Date).getTime(),c=g.documentElement;a.innerHTML="<a name='"+d+"'/>",c.insertBefore(a,c.firstChild),g.getElementById(d)&&(n.find.ID=function(b,c,d){if(typeof c.getElementById!=l&&!d){var a=c.getElementById(b[1]);return a?a.id===b[1]||typeof a.getAttributeNode!=l&&a.getAttributeNode(q).nodeValue===b[1]?[a]:f:[]}},n.filter.ID=function(a,c){var b=typeof a.getAttributeNode!=l&&a.getAttributeNode(q);return a.nodeType===1&&b&&b.nodeValue===c}),c.removeChild(a),c=a=b}(),function(){var a=g.createElement(o);a.appendChild(g.createComment(c)),a.getElementsByTagName(i).length>0&&(n.find.TAG=function(c,e){var a=e.getElementsByTagName(c[1]);if(c[1]===i){for(var d=[],b=0;a[b];b++)a[b].nodeType===1&&d.push(a[b]);a=d}return a}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!=l&&a.firstChild.getAttribute(C)!=="#"&&(n.attrHandle.href=function(a){return a.getAttribute(C,2)}),a=b}(),g.querySelectorAll&&function(){var c=m,a=g.createElement(o),e="__sizzle__";a.innerHTML="<p class='TEST'></p>";if(!a.querySelectorAll||a.querySelectorAll(".TEST").length!==0){m=function(f,a,b,l){a=a||g;if(!l&&!m.isXML(a)){var d=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(f);if(d&&(a.nodeType===1||a.nodeType===9)){if(d[1])return s(a.getElementsByTagName(f),b);if(d[2]&&n.find.CLASS&&a.getElementsByClassName)return s(a.getElementsByClassName(d[2]),b)}if(a.nodeType===9){if(f===z&&a.body)return s([a.body],b);if(d&&d[3]){var h=a.getElementById(d[3]);if(!h||!h.parentNode)return s([],b);if(h.id===d[3])return s([h],b)}try{return s(a.querySelectorAll(f),b)}catch(t){}}else if(a.nodeType===1&&a.nodeName.toLowerCase()!==j){var r=a,k=a.getAttribute(q),i=k||e,o=a.parentNode,p=/^\s*[+~]/.test(f);k?(i=i.replace(/'/g,"\\$&")):a.setAttribute(q,i),p&&o&&(a=a.parentNode);try{if(!p||o)return s(a.querySelectorAll("[id='"+i+"'] "+f),b)}catch(u){}finally{k||r.removeAttribute(q)}}}return c(f,a,b,l)};for(var d in c)m[d]=c[d];a=b}}(),function(){var a=g.documentElement,c=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(c){var e=!c.call(g.createElement(o),o),d=!1;try{c.call(g.documentElement,"[test!='']:sizzle")}catch(f){d=!0}m.matchesSelector=function(f,a){a=a.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(f))try{if(d||!n.match.PSEUDO.test(a)&&!/!=/.test(a)){var g=c.call(f,a);if(g||!e||f.document&&f.document.nodeType!==11)return g}}catch(h){}return m(a,b,b,[f]).length>0}}}(),function(){var a=g.createElement(o);a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;n.order.splice(1,0,"CLASS"),n.find.CLASS=function(b,a,c){if(typeof a.getElementsByClassName!=l&&!c)return a.getElementsByClassName(b[1])},a=b}}(),g.documentElement.contains?(m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}):g.documentElement.compareDocumentPosition?(m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}):(m.contains=function(){return!1}),m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var N=function(a,b){var e,f=[],g=c,h=b.nodeType?[b]:b;while(e=n.match.PSEUDO.exec(a))g+=e[0],a=a.replace(n.match.PSEUDO,c);a=n.relative[a]?a+i:a;for(var d=0,j=h.length;d<j;d++)m(a,h[d],f);return m.filter(g,f)};a.find=m,a.expr=m.selectors,a.expr[":"]=a.expr.filters,a.unique=m.uniqueSort,a.text=m.getText,a.isXMLDoc=m.isXML,a.contains=m.contains}();var Wd=/Until$/,Yd=/^(?:parents|prevUntil|prevAll)/,Zd=/,/,ce=/^.[^:#\[\.,]*$/,ee=Array.prototype.slice,bd=a.expr.match.POS,ge={children:!0,contents:!0,next:!0,prev:!0};a.fn.extend({find:function(h){var g=this,l=g,b,i;if(typeof h!=e)return a(h).filter(function(){for(b=0,i=l.length;b<i;b++)if(a.contains(l[b],this))return!0});var d=g.pushStack(c,"find",h),k,f,j;for(b=0,i=g.length;b<i;b++){k=d.length,a.find(h,g[b],d);if(b>0)for(f=k;f<d.length;f++)for(j=0;j<k;j++)if(d[j]===d[f]){d.splice(f--,1);break}}return d},has:function(c){var b=a(c);return this.filter(function(){for(var c=0,d=b.length;c<d;c++)if(a.contains(this,b[c]))return!0})},not:function(a){return this.pushStack(fd(this,a,!1),"not",a)},filter:function(a){return this.pushStack(fd(this,a,!0),"filter",a)},is:function(b){return!!b&&(typeof b==e?a.filter(b,this).length>0:this.filter(b).length>0)},closest:function(c,j){var i=this,f=[],g,k,b=i[0];if(a.isArray(c)){var l,d,m={},n=1;if(b&&c.length){for(g=0,k=c.length;g<k;g++)d=c[g],m[d]||(m[d]=bd.test(d)?a(d,j||i.context):d);while(b&&b.ownerDocument&&b!==j){for(d in m)l=m[d],(l.jquery?l.index(b)>h:a(b).is(l))&&f.push({selector:d,elem:b,level:n});b=b.parentNode,n++}}return f}var o=bd.test(c)||typeof c!=e?a(c,j||i.context):0;for(g=0,k=i.length;g<k;g++){b=i[g];while(b){if(o?o.index(b)>h:a.find.matchesSelector(b,c)){f.push(b);break}b=b.parentNode;if(!b||!b.ownerDocument||b===j||b.nodeType===11)break}}f=f.length>1?a.unique(f):f;return i.pushStack(f,"closest",c)},index:function(b){return!b||typeof b==e?a.inArray(this[0],b?a(b):this.parent().children()):a.inArray(b.jquery?b[0]:b,this)},add:function(b,f){var d=typeof b==e?a(b,f):a.makeArray(b&&b.nodeType?[b]:b),c=a.merge(this.get(),d);return this.pushStack(dd(d[0])||dd(c[0])?c:a.unique(c))},andSelf:function(){return this.add(this.prevObject)}}),a.each({parent:function(c){var a=c.parentNode;return a&&a.nodeType!==11?a:b},parents:function(b){return a.dir(b,kb)},parentsUntil:function(b,d,c){return a.dir(b,kb,c)},next:function(b){return a.nth(b,2,Bb)},prev:function(b){return a.nth(b,2,X)},nextAll:function(b){return a.dir(b,Bb)},prevAll:function(b){return a.dir(b,X)},nextUntil:function(b,d,c){return a.dir(b,Bb,c)},prevUntil:function(b,d,c){return a.dir(b,X,c)},siblings:function(b){return a.sibling(b.parentNode.firstChild,b)},children:function(b){return a.sibling(b.firstChild)},contents:function(b){return a.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:a.makeArray(b.childNodes)}},function(b,c){a.fn[b]=function(h,f){var g=this,d=a.map(g,c,h),i=ee.call(arguments);Wd.test(b)||(f=h),f&&typeof f==e&&(d=a.filter(f,d)),d=g.length>1&&!ge[b]?a.unique(d):d,(g.length>1||Zd.test(f))&&Yd.test(b)&&(d=d.reverse());return g.pushStack(d,b,i.join(","))}}),a.extend({filter:function(b,c,d){d&&(b=":not("+b+")");return c.length===1?a.find.matchesSelector(c[0],b)?[c[0]]:[]:a.find.matches(b,c)},dir:function(g,c,d){var e=[],b=g[c];while(b&&b.nodeType!==9&&(d===f||b.nodeType!==1||!a(b).is(d)))b.nodeType===1&&e.push(b),b=b[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,c){for(var b=[];a;a=a.nextSibling)a.nodeType===1&&a!==c&&b.push(a);return b}});var he=/ jQuery\d+="(?:\d+|null)"/g,sc=/^\s+/,gd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Sc=/<([\w:]+)/,je=/<tbody/i,id=/<|&#?\w+;/,wc=/<(?:script|object|embed|option|style)/i,xc=/checked\s*(?:[^=]|=\s*.checked.)/i,ld=/\/(java|ecma)script/i,nd=/^\s*<!(?:\[CDATA\[|\-\-)/,H={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,c,c]};H.optgroup=H.option,H.tbody=H.tfoot=H.colgroup=H.caption=H.thead,H.th=H.td,a.support.htmlSerialize||(H._default=[1,"div<div>","</div>"]),a.fn.extend({text:function(c){var b=this;return a.isFunction(c)?b.each(function(d){var b=a(this);b.text(c.call(this,d,b.text()))}):typeof c!=j&&c!==f?b.empty().append((b[0]&&b[0].ownerDocument||g).createTextNode(c)):a.text(b)},wrapAll:function(c){var b=this;if(a.isFunction(c))return b.each(function(b){a(this).wrapAll(c.call(this,b))});if(b[0]){var d=a(c,b[0].ownerDocument).eq(0).clone(!0);b[0].parentNode&&d.insertBefore(b[0]),d.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(b)}return b},wrapInner:function(b){return a.isFunction(b)?this.each(function(c){a(this).wrapInner(b.call(this,c))}):this.each(function(){var c=a(this),d=c.contents();d.length?d.wrapAll(b):c.append(b)})},wrap:function(b){return this.each(function(){a(this).wrapAll(b)})},unwrap:function(){return this.parent().each(function(){a.nodeName(this,z)||a(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){var b=this;if(b[0]&&b[0].parentNode)return b.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var c=a(arguments[0]);c.push.apply(c,b.toArray());return b.pushStack(c,"before",arguments)}},after:function(){var b=this;if(b[0]&&b[0].parentNode)return b.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var c=b.pushStack(b,"after",arguments);c.push.apply(c,a(arguments[0]).toArray());return c}},remove:function(d,f){for(var e=0,c;(c=this[e])!=b;e++)if(!d||a.filter(d,[c]).length)!f&&c.nodeType===1&&(a.cleanData(c.getElementsByTagName(i)),a.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var d=0,c;(c=this[d])!=b;d++){c.nodeType===1&&a.cleanData(c.getElementsByTagName(i));while(c.firstChild)c.removeChild(c.firstChild)}return this},clone:function(c,d){c=c==b?!1:c,d=d==b?c:d;return this.map(function(){return a.clone(this,c,d)})},html:function(d){var g=this;if(d===f)return g[0]&&g[0].nodeType===1?g[0].innerHTML.replace(he,c):b;if(typeof d==e&&!wc.test(d)&&(a.support.leadingWhitespace||!sc.test(d))&&!H[(Sc.exec(d)||[c,c])[1].toLowerCase()]){d=d.replace(gd,Vb);try{for(var h=0,j=g.length;h<j;h++)g[h].nodeType===1&&(a.cleanData(g[h].getElementsByTagName(i)),g[h].innerHTML=d)}catch(k){g.empty().append(d)}}else a.isFunction(d)?g.each(function(c){var b=a(this);b.html(d.call(this,c,b.html()))}):g.empty().append(d);return g},replaceWith:function(b){var c=this;if(c[0]&&c[0].parentNode){if(a.isFunction(b))return c.each(function(d){var c=a(this),e=c.html();c.replaceWith(b.call(this,d,e))});typeof b!=e&&(b=a(b).detach());return c.each(function(){var c=this.nextSibling,d=this.parentNode;a(this).remove(),c?a(c).before(b):a(d).append(b)})}return c.length?c.pushStack(a(a.isFunction(b)?b():b),dc,b):c},detach:function(a){return this.remove(a,!0)},domManip:function(h,d,m){var b=this,l,i,c,j,g=h[0],n=[];if(!a.support.checkClone&&arguments.length===3&&typeof g==e&&xc.test(g))return b.each(function(){a(this).domManip(h,d,m,!0)});if(a.isFunction(g))return b.each(function(c){var b=a(this);h[0]=g.call(this,c,d?b.html():f),b.domManip(h,d,m)});if(b[0]){j=g&&g.parentNode,a.support.parentNode&&j&&j.nodeType===11&&j.childNodes.length===b.length?(l={fragment:j}):(l=a.buildFragment(h,b,n)),c=l.fragment,c.childNodes.length===1?(i=c=c.firstChild):(i=c.firstChild);if(i){d=d&&a.nodeName(i,"tr");for(var k=0,o=b.length,p=o-1;k<o;k++)m.call(d?pd(b[k],i):b[k],l.cacheable||o>1&&k<p?a.clone(c,!0,!0):c)}n.length&&a.each(n,vd)}return b}}),a.buildFragment=function(b,h,j){var c,i,f,d;h&&h[0]&&(d=h[0].ownerDocument||h[0]),d.createDocumentFragment||(d=g),b.length===1&&typeof b[0]==e&&b[0].length<512&&d===g&&b[0].charAt(0)==="<"&&!wc.test(b[0])&&(a.support.checkClone||!xc.test(b[0]))&&(i=!0,f=a.fragments[b[0]],f&&f!==1&&(c=f)),c||(c=d.createDocumentFragment(),a.clean(b,d,c,j)),i&&(a.fragments[b[0]]=f?c:1);return{fragment:c,cacheable:i}},a.fragments={},a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:dc},function(b,c){a.fn[b]=function(j){var d=this,g=[],e=a(j),h=d.length===1&&d[0].parentNode;if(h&&h.nodeType===11&&h.childNodes.length===1&&e.length===1){e[c](d[0]);return d}for(var f=0,k=e.length;f<k;f++){var i=(f>0?d.clone(!0):d).get();a(e[f])[c](i),g=g.concat(i)}return d.pushStack(g,b,e.selector)}}),a.extend({clone:function(d,h,i){var f=d.cloneNode(!0),e,g,c;if((!a.support.noCloneEvent||!a.support.noCloneChecked)&&(d.nodeType===1||d.nodeType===11)&&!a.isXMLDoc(d)){Ac(d,f),e=Wb(d),g=Wb(f);for(c=0;e[c];++c)Ac(e[c],g[c])}if(h){zc(d,f);if(i){e=Wb(d),g=Wb(f);for(c=0;e[c];++c)zc(e[c],g[c])}}e=g=b;return f},clean:function(x,j,q,r){var s;j=j||g,typeof j.createElement==l&&(j=j.ownerDocument||j[0]&&j[0].ownerDocument||g);for(var f=[],i,h=0,d;(d=x[h])!=b;h++){typeof d==p&&(d+=c);if(!d)continue;if(typeof d==e)if(!id.test(d))d=j.createTextNode(d);else{d=d.replace(gd,Vb);var t=(Sc.exec(d)||[c,c])[1].toLowerCase(),n=H[t]||H._default,y=n[0],k=j.createElement(o);k.innerHTML=n[1]+d+n[2];while(y--)k=k.lastChild;if(!a.support.tbody){var v=je.test(d),m=t==="table"&&!v?k.firstChild&&k.firstChild.childNodes:n[1]==="<table>"&&!v?k.childNodes:[];for(i=m.length-1;i>=0;--i)a.nodeName(m[i],ab)&&!m[i].childNodes.length&&m[i].parentNode.removeChild(m[i])}!a.support.leadingWhitespace&&sc.test(d)&&k.insertBefore(j.createTextNode(sc.exec(d)[0]),k.firstChild),d=k.childNodes}var w;if(!a.support.appendChecked)if(d[0]&&typeof(w=d.length)==p)for(i=0;i<w;i++)Dc(d[i]);else Dc(d);d.nodeType?f.push(d):(f=a.merge(f,d))}if(q){s=function(a){return!a.type||ld.test(a.type)};for(h=0;f[h];h++)if(r&&a.nodeName(f[h],u)&&(!f[h].type||f[h].type.toLowerCase()==="text/javascript"))r.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]);else{if(f[h].nodeType===1){var z=a.grep(f[h].getElementsByTagName(u),s);f.splice.apply(f,[h+1,0].concat(z))}q.appendChild(f[h])}}return f},cleanData:function(i){for(var d,e,f=a.cache,j=a.expando,k=a.event.special,l=a.support.deleteExpando,h=0,c;(c=i[h])!=b;h++){if(c.nodeName&&a.noData[c.nodeName.toLowerCase()])continue;e=c[a.expando];if(e){d=f[e]&&f[e][j];if(d&&d.events){for(var g in d.events)k[g]?a.event.remove(c,g):a.removeEvent(c,g,d.handle);d.handle&&(d.handle.elem=b)}l?delete c[a.expando]:c.removeAttribute&&c.removeAttribute(a.expando),delete f[e]}}}});var Fc=/alpha\([^)]*\)/i,xd=/opacity=([^)]*)/,zd=/([A-Z]|^ms)/g,Ic=/^-?\d+(?:px)?$/i,Ad=/^-?\d/,Bd=/^[+\-]=/,Cd=/[^+\-\.\de]+/g,Dd={position:ib,visibility:E,display:"block"},Ed=["Left","Right"],Fd=["Top","Bottom"],Db,Lc,Mc;a.fn.css=function(c,b){return arguments.length===2&&b===f?this:a.access(this,c,b,!0,function(b,c,d){return d!==f?a.style(b,c,d):a.css(b,c)})},a.extend({cssHooks:{opacity:{"get":function(a,d){if(d){var b=Db(a,Y,Y);return b===c?"1":b}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":a.support.cssFloat?ec:"styleFloat"},style:function(g,i,d,n){if(!!g&&g.nodeType!==3&&g.nodeType!==8&&!!g.style){var l,j,k=a.camelCase(i),m=g.style,h=a.cssHooks[k];i=a.cssProps[k]||k;if(d===f)return h&&N in h&&(l=h.get(g,!1,n))!==f?l:m[i];j=typeof d;if(j===p&&isNaN(d)||d==b)return;j===e&&Bd.test(d)&&(d=+d.replace(Cd,c)+parseFloat(a.css(g,i)),j=p),j===p&&!a.cssNumber[k]&&(d+=q);if(!h||!(V in h)||(d=h.set(g,d))!==f)try{m[i]=d}catch(o){}}},css:function(d,b,g){var e,c;b=a.camelCase(b),c=a.cssHooks[b],b=a.cssProps[b]||b,b===ec&&(b="float");return c&&N in c&&(e=c.get(d,!0,g))!==f?e:Db?Db(d,b):void 0},swap:function(b,c,e){var d={};for(var a in c)d[a]=b.style[a],b.style[a]=c[a];e.call(b);for(a in c)b.style[a]=d[a]}}),a.curCSS=a.css,a.each([O,w],function(c,b){a.cssHooks[b]={"get":function(c,f,d){var e;if(f){if(c.offsetWidth!==0)return vc(c,b,d);a.swap(c,Dd,function(){e=vc(c,b,d)});return e}},"set":function(b,a){if(!Ic.test(a))return a;a=parseFloat(a);if(a>=0)return a+q}}}),a.support.opacity||(a.cssHooks.opacity={"get":function(a,b){return xd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||c)?parseFloat(RegExp.$1)/100+c:b?"1":c},"set":function(f,g){var b=f.style,h=f.currentStyle;b.zoom=1;var i=a.isNaN(g)?c:"alpha(opacity="+g*100+")",e=h&&h.filter||b.filter||c;b.filter=Fc.test(e)?e.replace(Fc,i):e+d+i}}),a(function(){a.support.reliableMarginRight||(a.cssHooks.marginRight={"get":function(b,d){var c;a.swap(b,{display:Z},function(){d?(c=Db(b,"margin-right",Lb)):(c=b.style.marginRight)});return c}})}),g.defaultView&&g.defaultView.getComputedStyle&&(Lc=function(d,e){var g,h,i;e=e.replace(zd,"-$1").toLowerCase();if(!(h=d.ownerDocument.defaultView))return f;if(i=h.getComputedStyle(d,b))g=i.getPropertyValue(e),g===c&&!a.contains(d.ownerDocument.documentElement,d)&&(g=a.style(d,e));return g}),g.documentElement.currentStyle&&(Mc=function(a,e){var g,b=a.currentStyle&&a.currentStyle[e],f=a.runtimeStyle&&a.runtimeStyle[e],d=a.style;!Ic.test(b)&&Ad.test(b)&&(g=d.left,f&&(a.runtimeStyle.left=a.currentStyle.left),d.left=e==="fontSize"?"1em":b||0,b=d.pixelLeft+q,d.left=g,f&&(a.runtimeStyle.left=f));return b===c?W:b}),Db=Lc||Mc,a.expr&&a.expr.filters&&(a.expr.filters.hidden=function(b){var c=b.offsetWidth,d=b.offsetHeight;return c===0&&d===0||!a.support.reliableHiddenOffsets&&(b.style.display||a.css(b,A))===t},a.expr.filters.visible=function(b){return!a.expr.filters.hidden(b)});var jd=/%20/g,kd=/\[\]$/,yc=/\r?\n/g,md=/#.*$/,od=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,qd=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rd=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,sd=/^(?:GET|HEAD)$/,td=/^\/\//,Bc=/\?/,ud=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,wd=/^(?:select|textarea)/i,Ec=/\s+/,yd=/([?&])_=[^&]*/,Gc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Hc=a.fn.load,gc={},Jc={},ob,pb;try{ob=Sd.href}catch(ke){ob=g.createElement("a"),ob.href=c,ob=ob.href}pb=Gc.exec(ob.toLowerCase())||[],a.fn.extend({load:function(g,b,i){var h=this;if(typeof g!=e&&Hc)return Hc.apply(h,arguments);if(!h.length)return h;var k=g.indexOf(d);if(k>=0){var l=g.slice(k,g.length);g=g.slice(0,k)}var m="GET";b&&(a.isFunction(b)?(i=b,b=f):typeof b==j&&(b=a.param(b,a.ajaxSettings.traditional),m="POST"));var n=h;a.ajax({url:g,type:m,dataType:"html",data:b,complete:function(d,e,b){b=d.responseText,d.isResolved()&&(d.done(function(a){b=a}),n.html(l?a("<div>").append(b.replace(ud,c)).find(l):b)),i&&n.each(i,[b,e,d])}});return h},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){var a=this;return a.name&&!a.disabled&&(a.checked||wd.test(a.nodeName)||qd.test(a.type))}).map(function(e,d){var c=a(this).val();return c==b?b:a.isArray(c)?a.map(c,function(a){return{name:d.name,value:a.replace(yc,"\r\n")}}):{name:d.name,value:c.replace(yc,"\r\n")}}).get()}}),a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(d),function(c,b){a.fn[b]=function(a){return this.bind(b,a)}}),a.each([N,"post"],function(c,b){a[b]=function(g,c,d,e){a.isFunction(c)&&(e=e||d,d=c,c=f);return a.ajax({type:b,url:g,data:c,success:d,dataType:e})}}),a.extend({getScript:function(b,c){return a.get(b,f,c,u)},getJSON:function(b,c,d){return a.get(b,c,d,"json")},ajaxSetup:function(b,c){c?a.extend(!0,b,a.ajaxSettings,c):(c=b,b=a.extend(!0,a.ajaxSettings,c));for(var d in{context:1,url:1})d in c?(b[d]=c[d]):d in a.ajaxSettings&&(b[d]=a.ajaxSettings[d]);return b},ajaxSettings:{url:ob,isLocal:rd.test(pb[1]),global:!0,type:"GET",contentType:fc,processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":m.String,"text html":!0,"text json":a.parseJSON,"text xml":a.parseXML}},ajaxPrefilter:Kc(gc),ajaxTransport:Kc(Jc),ajax:function(s,n){function v(e,b,n,s){if(k!==2){k=2,z&&clearTimeout(z),o=f,y=s||c,g.readyState=e?4:0;var h,j,i,u=n?Gd(d,g,n):f,p,q;if(e>=200&&e<300||e===304){if(d.ifModified){if(p=g.getResponseHeader("Last-Modified"))a.lastModified[l]=p;if(q=g.getResponseHeader("Etag"))a.etag[l]=q}if(e===304)b="notmodified",h=!0;else try{j=hd(d,u),b="success",h=!0}catch(v){b=gb,i=v}}else{i=b;if(!b||e)b="error",e<0&&(e=0)}g.status=e,g.statusText=b,h?x.resolveWith(m,[j,b,g]):x.rejectWith(m,[g,b,i]),g.statusCode(t),t=f,r&&w.trigger("ajax"+(h?"Success":"Error"),[g,d,h?j:i]),A.resolveWith(m,[g,b]),r&&(w.trigger("ajaxComplete",[g,d]),--a.active||a.event.trigger("ajaxStop"))}}typeof s==j&&(n=s,s=f),n=n||{};var d=a.ajaxSetup({},n),m=d.context||d,w=m!==d&&(m.nodeType||m instanceof a)?a(m):a.event,x=a.Deferred(),A=a._Deferred(),t=d.statusCode||{},l,B={},C={},y,u,o,z,p,k=0,r,q,g={readyState:0,setRequestHeader:function(a,c){if(!k){var b=a.toLowerCase();a=C[b]=C[b]||a,B[a]=c}return this},getAllResponseHeaders:function(){return k===2?y:b},getResponseHeader:function(c){var a;if(k===2){if(!u){u={};while(a=od.exec(y))u[a[1].toLowerCase()]=a[2]}a=u[c.toLowerCase()]}return a===f?b:a},overrideMimeType:function(a){k||(d.mimeType=a);return this},abort:function(a){a=a||"abort",o&&o.abort(a),v(0,a);return this}};x.promise(g),g.success=g.done,g.error=g.fail,g.complete=A.done,g.statusCode=function(b){if(b){var a;if(k<2)for(a in b)t[a]=[t[a],b[a]];else a=b[g.status],g.then(a,a)}return this},d.url=((s||d.url)+c).replace(md,c).replace(td,pb[1]+"//"),d.dataTypes=a.trim(d.dataType||i).toLowerCase().split(Ec),d.crossDomain==b&&(p=Gc.exec(d.url.toLowerCase()),d.crossDomain=!(!p||p[1]==pb[1]&&p[2]==pb[2]&&(p[3]||(p[1]==="http:"?80:443))==(pb[3]||(pb[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!=e&&(d.data=a.param(d.data,d.traditional)),Xb(gc,d,n,g);if(k===2)return!1;r=d.global,d.type=d.type.toUpperCase(),d.hasContent=!sd.test(d.type),r&&a.active++===0&&a.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(Bc.test(d.url)?"&":"?")+d.data),l=d.url;if(d.cache===!1){var D=a.now(),E=d.url.replace(yd,"$1_="+D);d.url=E+(E===d.url?(Bc.test(d.url)?"&":"?")+"_="+D:c)}}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&g.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(l=l||d.url,a.lastModified[l]&&g.setRequestHeader("If-Modified-Since",a.lastModified[l]),a.etag[l]&&g.setRequestHeader("If-None-Match",a.etag[l])),g.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!==i?", */*; q=0.01":c):d.accepts[i]);for(q in d.headers)g.setRequestHeader(q,d.headers[q]);if(d.beforeSend&&(d.beforeSend.call(m,g,d)===!1||k===2)){g.abort();return!1}for(q in{success:1,error:1,complete:1})g[q](d[q]);o=Xb(Jc,d,n,g);if(!o)v(h,"No Transport");else{g.readyState=1,r&&w.trigger("ajaxSend",[g,d]),d.async&&d.timeout>0&&(z=setTimeout(function(){g.abort("timeout")},d.timeout));try{k=1,o.send(B,v)}catch(F){status<2?v(h,F):a.error(F)}}return g},param:function(b,c){var d=[],e=function(c,b){b=a.isFunction(b)?b():b,d[d.length]=encodeURIComponent(c)+"="+encodeURIComponent(b)};c===f&&(c=a.ajaxSettings.traditional);if(a.isArray(b)||b.jquery&&!a.isPlainObject(b))a.each(b,function(){e(this.name,this.value)});else for(var g in b)hc(g,b[g],c,e);return d.join("&").replace(jd,"+")}}),a.extend({active:0,lastModified:{},etag:{}});var Hd=a.now(),Yb=/(\=)\?(&|$)|\?\?/i;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return a.expando+"_"+Hd++}}),a.ajaxPrefilter("json jsonp",function(b,l,k){var h=b.contentType===fc&&typeof b.data==e;if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(Yb.test(b.url)||h&&Yb.test(b.data))){var f,c=b.jsonpCallback=a.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=m[c],d=b.url,g=b.data,j="$1"+c+"$2";b.jsonp!==!1&&(d=d.replace(Yb,j),b.url===d&&(h&&(g=g.replace(Yb,j)),b.data===g&&(d+=(/\?/.test(d)?"&":"?")+b.jsonp+"="+c))),b.url=d,b.data=g,m[c]=function(a){f=[a]},k.always(function(){m[c]=i,f&&a.isFunction(i)&&m[c](f[0])}),b.converters["script json"]=function(){f||a.error(c+" was not called");return f[0]},b.dataTypes[0]="json";return u}}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){a.globalEval(b);return b}}}),a.ajaxPrefilter(u,function(a){a.cache===f&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),a.ajaxTransport(u,function(c){if(c.crossDomain){var a,d=g.head||g.getElementsByTagName("head")[0]||g.documentElement;return{send:function(h,e){a=g.createElement(u),a.async="async",c.scriptCharset&&(a.charset=c.scriptCharset),a.src=c.url,a.onload=a.onreadystatechange=function(g,c){if(c||!a.readyState||/loaded|complete/.test(a.readyState))a.onload=a.onreadystatechange=b,d&&a.parentNode&&d.removeChild(a),a=f,c||e(200,"success")},d.insertBefore(a,d.firstChild)},abort:function(){a&&a.onload(0,1)}}}});var ic=m.ActiveXObject?function(){for(var a in Eb)Eb[a](0,1)}:!1,Id=0,Eb;a.ajaxSettings.xhr=m.ActiveXObject?function(){return!this.isLocal&&Nc()||Jd()}:Nc,function(b){a.extend(a.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})}(a.ajaxSettings.xhr()),a.support.ajax&&a.ajaxTransport(function(d){if(!d.crossDomain||a.support.cors){var e;return{send:function(k,n){var i="X-Requested-With",g=d.xhr(),l,j;d.username?g.open(d.type,d.url,d.async,d.username,d.password):g.open(d.type,d.url,d.async);if(d.xhrFields)for(j in d.xhrFields)g[j]=d.xhrFields[j];d.mimeType&&g.overrideMimeType&&g.overrideMimeType(d.mimeType),!d.crossDomain&&!k[i]&&(k[i]="XMLHttpRequest");try{for(j in k)g.setRequestHeader(j,k[j])}catch(o){}g.send(d.hasContent&&d.data||b),e=function(p,k){var b,m,o,i,j;try{if(e&&(k||g.readyState===4)){e=f,l&&(g.onreadystatechange=a.noop,ic&&delete Eb[l]);if(k)g.readyState!==4&&g.abort();else{b=g.status,o=g.getAllResponseHeaders(),i={},j=g.responseXML,j&&j.documentElement&&(i.xml=j),i.text=g.responseText;try{m=g.statusText}catch(q){m=c}!b&&d.isLocal&&!d.crossDomain?(b=i.text?200:404):b===1223&&(b=204)}}}catch(r){k||n(h,r)}i&&n(b,m,i,o)},!d.async||g.readyState===4?e():(l=++Id,ic&&(Eb||(Eb={},a(m).unload(ic)),Eb[l]=e),g.onreadystatechange=e)},abort:function(){e&&e(0,1)}}}});var jc={},T,Fb,Kd=/^(?:toggle|show|hide)$/,Ld=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Gb,Oc=[[O,lb,"marginBottom","paddingTop","paddingBottom"],[w,Mb,Lb,"paddingLeft","paddingRight"],[Y]],Zb,kc=m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame;a.fn.extend({show:function(g,i,j){var f=this,b,d;if(g||g===0)return f.animate(Hb(F,3),g,i,j);for(var e=0,h=f.length;e<h;e++)b=f[e],b.style&&(d=b.style.display,!a._data(b,S)&&d===t&&(d=b.style.display=c),d===c&&a.css(b,A)===t&&a._data(b,S,Qc(b.nodeName)));for(e=0;e<h;e++){b=f[e];if(b.style){d=b.style.display;if(d===c||d===t)b.style.display=a._data(b,S)||c}}return f},hide:function(d,g,h){var c=this;if(d||d===0)return c.animate(Hb(G,3),d,g,h);for(var b=0,e=c.length;b<e;b++)if(c[b].style){var f=a.css(c[b],A);f!==t&&!a._data(c[b],S)&&a._data(c[b],S,f)}for(b=0;b<e;b++)c[b].style&&(c[b].style.display=t);return c},_toggle:a.fn.toggle,toggle:function(d,e,g){var c=this,f=typeof d==P;a.isFunction(d)&&a.isFunction(e)?c._toggle.apply(c,arguments):d==b||f?c.each(function(){var b=f?d:a(this).is(cb);a(this)[b?F:G]()}):c.animate(Hb(mb,3),d,e,g);return c},fadeTo:function(a,b,c,d){return this.filter(cb).css(Y,0).show().end().animate({opacity:b},a,c,d)},animate:function(d,f,g,i){var e=a.speed(f,g,i);if(a.isEmptyObject(d))return this.each(e.complete,[!1]);d=a.extend({},d);return this[e.queue===!1?"each":y](function(){var f=this;e.queue===!1&&a._mark(f);var j=a.extend({},e),s=f.nodeType===1,r=s&&a(f).is(cb),k,g,i,u,m,n,l,o,p;j.animatedProperties={};for(i in d){k=a.camelCase(i),i!==k&&(d[k]=d[i],delete d[i]),g=d[k],a.isArray(g)?(j.animatedProperties[k]=g[1],g=d[k]=g[0]):(j.animatedProperties[k]=j.specialEasing&&j.specialEasing[k]||j.easing||"swing");if(g===G&&r||g===F&&!r)return j.complete.call(f);s&&(k===O||k===w)&&(j.overflow=[f.style.overflow,f.style.overflowX,f.style.overflowY],a.css(f,A)===M&&a.css(f,"float")===t&&(a.support.inlineBlockNeedsLayout?(u=Qc(f.nodeName),u===M?(f.style.display=Z):(f.style.display=M,f.style.zoom=1)):(f.style.display=Z)))}j.overflow!=b&&(f.style.overflow=E);for(i in d)m=new a.fx(f,j,i),g=d[i],Kd.test(g)?m[g===mb?r?F:G:g]():(n=Ld.exec(g),l=m.cur(),n?(o=parseFloat(n[2]),p=n[3]||(a.cssNumber[i]?c:q),p!==q&&(a.style(f,i,(o||1)+p),l=(o||1)/m.cur()*l,a.style(f,i,l+p)),n[1]&&(o=(n[1]==="-="?h:1)*o+l),m.custom(l,o,p)):m.custom(l,g,c));return!0})},stop:function(d,c){var b=this;d&&b.queue([]),b.each(function(){var b=a.timers,d=b.length;c||a._unmark(!0,this);while(d--)b[d].elem===this&&(c&&b[d](!0),b.splice(d,1))}),c||b.dequeue();return b}}),a.each({slideDown:Hb(F,1),slideUp:Hb(G,1),slideToggle:Hb(mb,1),fadeIn:{opacity:F},fadeOut:{opacity:G},fadeToggle:{opacity:mb}},function(b,c){a.fn[b]=function(a,b,d){return this.animate(c,a,b,d)}}),a.extend({speed:function(c,d,e){var b=c&&typeof c==j?a.extend({},c):{complete:e||!e&&d||a.isFunction(c)&&c,duration:c,easing:e&&d||d&&!a.isFunction(d)&&d};b.duration=a.fx.off?0:typeof b.duration==p?b.duration:b.duration in a.fx.speeds?a.fx.speeds[b.duration]:a.fx.speeds._default,b.old=b.complete,b.complete=function(c){a.isFunction(b.old)&&b.old.call(this),b.queue!==!1?a.dequeue(this):c!==!1&&a._unmark(this)};return b},easing:{linear:function(a,d,b,c){return b+c*a},swing:function(a,d,b,c){return(-Math.cos(a*Math.PI)/2+.5)*c+b}},timers:[],fx:function(b,a,c){this.options=a,this.elem=b,this.prop=c,a.orig=a.orig||{}}}),a.fx.prototype={update:function(){var b=this;b.options.step&&b.options.step.call(b.elem,b.now,b),(a.fx.step[b.prop]||a.fx.step._default)(b)},cur:function(){var c=this;if(c.elem[c.prop]!=b&&(!c.elem.style||c.elem.style[c.prop]==b))return c.elem[c.prop];var e,d=a.css(c.elem,c.prop);return isNaN(e=parseFloat(d))?!d||d===W?0:d:e},custom:function(g,h,i){var b=this;function f(a){return j.step(a)}var j=b,d=a.fx,e;b.startTime=Zb||Pc(),b.start=g,b.end=h,b.unit=i||b.unit||(a.cssNumber[b.prop]?c:q),b.now=b.start,b.pos=b.state=0,f.elem=b.elem,f()&&a.timers.push(f)&&!Gb&&(kc?(Gb=!0,e=function(){Gb&&(kc(e),d.tick())},kc(e)):(Gb=setInterval(d.tick,d.interval)))},show:function(){var b=this;b.options.orig[b.prop]=a.style(b.elem,b.prop),b.options.show=!0,b.custom(b.prop===w||b.prop===O?1:0,b.cur()),a(b.elem).show()},hide:function(){var b=this;b.options.orig[b.prop]=a.style(b.elem,b.prop),b.options.hide=!0,b.custom(b.cur(),0)},step:function(l){var d=this,g=Zb||Pc(),i=!0,f=d.elem,e=d.options,j,h;if(l||g>=e.duration+d.startTime){d.now=d.end,d.pos=d.state=1,d.update(),e.animatedProperties[d.prop]=!0;for(j in e.animatedProperties)e.animatedProperties[j]!==!0&&(i=!1);if(i){e.overflow!=b&&!a.support.shrinkWrapBlocks&&a.each([c,"X","Y"],function(a,b){f.style["overflow"+b]=e.overflow[a]}),e.hide&&a(f).hide();if(e.hide||e.show)for(var k in e.animatedProperties)a.style(f,k,e.orig[k]);e.complete.call(f)}return!1}e.duration==Infinity?(d.now=g):(h=g-d.startTime,d.state=h/e.duration,d.pos=a.easing[e.animatedProperties[d.prop]](d.state,h,0,1,e.duration),d.now=d.start+(d.end-d.start)*d.pos),d.update();return!0}},a.extend(a.fx,{tick:function(){for(var b=a.timers,c=0;c<b.length;++c)b[c]()||b.splice(c--,1);b.length||a.fx.stop()},interval:13,stop:function(){clearInterval(Gb),Gb=b},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){a.style(b.elem,Y,b.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=b?(a.elem.style[a.prop]=(a.prop===w||a.prop===O?Math.max(0,a.now):a.now)+a.unit):(a.elem[a.prop]=a.now)}}}),a.expr&&a.expr.filters&&(a.expr.filters.animated=function(b){return a.grep(a.timers,function(a){return b===a.elem}).length});var Nd=/^t(?:able|d|h)$/i,Rc=/^(?:body|html)$/i;"getBoundingClientRect"in g.documentElement?(a.fn.offset=function(h){var c=this[0],d;if(h)return this.each(function(b){a.offset.setOffset(this,h,b)});if(!c||!c.ownerDocument)return b;if(c===c.ownerDocument.body)return a.offset.bodyOffset(c);try{d=c.getBoundingClientRect()}catch(p){}var g=c.ownerDocument,e=g.documentElement;if(!d||!a.contains(e,c))return d?{top:d.top,left:d.left}:{top:0,left:0};var f=g.body,i=lc(g),j=e.clientTop||f.clientTop||0,k=e.clientLeft||f.clientLeft||0,l=i.pageYOffset||a.support.boxModel&&e.scrollTop||f.scrollTop,m=i.pageXOffset||a.support.boxModel&&e.scrollLeft||f.scrollLeft,n=d.top+l-j,o=d.left+m-k;return{top:n,left:o}}):(a.fn.offset=function(m){var c=this[0];if(m)return this.each(function(b){a.offset.setOffset(this,m,b)});if(!c||!c.ownerDocument)return b;if(c===c.ownerDocument.body)return a.offset.bodyOffset(c);a.offset.initialize();var d,j=c.offsetParent,n=c,k=c.ownerDocument,l=k.documentElement,g=k.body,i=k.defaultView,h=i?i.getComputedStyle(c,b):c.currentStyle,e=c.offsetTop,f=c.offsetLeft;while((c=c.parentNode)&&c!==g&&c!==l){if(a.offset.supportsFixedPosition&&h.position===db)break;d=i?i.getComputedStyle(c,b):c.currentStyle,e-=c.scrollTop,f-=c.scrollLeft,c===j&&(e+=c.offsetTop,f+=c.offsetLeft,a.offset.doesNotAddBorder&&(!a.offset.doesAddBorderForTableAndCells||!Nd.test(c.nodeName))&&(e+=parseFloat(d.borderTopWidth)||0,f+=parseFloat(d.borderLeftWidth)||0),n=j,j=c.offsetParent),a.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(e+=parseFloat(d.borderTopWidth)||0,f+=parseFloat(d.borderLeftWidth)||0),h=d}if(h.position===Cb||h.position===nb)e+=g.offsetTop,f+=g.offsetLeft;a.offset.supportsFixedPosition&&h.position===db&&(e+=Math.max(l.scrollTop,g.scrollTop),f+=Math.max(l.scrollLeft,g.scrollLeft));return{top:e,left:f}}),a.offset={initialize:function(){var d=this,e=g.body,f=g.createElement(o),h,b,l,i,j=parseFloat(a.css(e,lb))||0,k="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.extend(f.style,{position:ib,top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:E}),f.innerHTML=k,e.insertBefore(f,e.firstChild),h=f.firstChild,b=h.firstChild,i=h.nextSibling.firstChild.firstChild,d.doesNotAddBorder=b.offsetTop!==5,d.doesAddBorderForTableAndCells=i.offsetTop===5,b.style.position=db,b.style.top="20px",d.supportsFixedPosition=b.offsetTop===20||b.offsetTop===15,b.style.position=b.style.top=c,h.style.overflow=E,h.style.position=Cb,d.subtractsBorderForOverflowNotVisible=b.offsetTop===-5,d.doesNotIncludeMarginInBodyOffset=e.offsetTop!==j,e.removeChild(f),a.offset.initialize=a.noop},bodyOffset:function(b){var c=b.offsetTop,d=b.offsetLeft;a.offset.initialize(),a.offset.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(a.css(b,lb))||0,d+=parseFloat(a.css(b,Mb))||0);return{top:c,left:d}},setOffset:function(d,c,o){var f=a.css(d,Nb);f===nb&&(d.style.position=Cb);var g=a(d),i=g.offset(),m=a.css(d,"top"),n=a.css(d,"left"),p=(f===ib||f===db)&&a.inArray(W,[m,n])>h,e={},j={},k,l;p?(j=g.position(),k=j.top,l=j.left):(k=parseFloat(m)||0,l=parseFloat(n)||0),a.isFunction(c)&&(c=c.call(d,o,i)),c.top!=b&&(e.top=c.top-i.top+k),c.left!=b&&(e.left=c.left-i.left+l),"using"in c?c.using.call(d,e):g.css(e)}},a.fn.extend({position:function(){var c=this;if(!c[0])return b;var g=c[0],d=c.offsetParent(),e=c.offset(),f=Rc.test(d[0].nodeName)?{top:0,left:0}:d.offset();e.top-=parseFloat(a.css(g,lb))||0,e.left-=parseFloat(a.css(g,Mb))||0,f.top+=parseFloat(a.css(d[0],"borderTopWidth"))||0,f.left+=parseFloat(a.css(d[0],"borderLeftWidth"))||0;return{top:e.top-f.top,left:e.left-f.left}},offsetParent:function(){return this.map(function(){var b=this.offsetParent||g.body;while(b&&!Rc.test(b.nodeName)&&a.css(b,Nb)===nb)b=b.offsetParent;return b})}}),a.each(["Left","Top"],function(d,e){var c=eb+e;a.fn[c]=function(h){var g="pageXOffset",i,e;if(h===f){i=this[0];if(!i)return b;e=lc(i);return e?g in e?e[d?"pageYOffset":g]:a.support.boxModel&&e.document.documentElement[c]||e.document.body[c]:i[c]}return this.each(function(){e=lc(this),e?e.scrollTo(d?a(e).scrollLeft():h,d?h:a(e).scrollTop()):(this[c]=h)})}}),a.each(["Height",fb],function(g,c){var d=c.toLowerCase();a.fn["inner"+c]=function(){var c=this[0];return c&&c.style?parseFloat(a.css(c,d,I)):b},a.fn["outer"+c]=function(e){var c=this[0];return c&&c.style?parseFloat(a.css(c,d,e?U:L)):b},a.fn[d]=function(i){var h="client",j=this,g=j[0];if(!g)return i==b?b:j;if(a.isFunction(i))return j.each(function(c){var b=a(this);b[d](i.call(this,c,b[d]()))});if(a.isWindow(g)){var k=g.document.documentElement[h+c];return g.document.compatMode===Ib&&k||g.document.body[h+c]||k}if(g.nodeType===9)return Math.max(g.documentElement[h+c],g.body[eb+c],g.documentElement[eb+c],g.body["offset"+c],g.documentElement["offset"+c]);if(i===f){var l=a.css(g,d),m=parseFloat(l);return a.isNaN(m)?l:m}return j.css(d,typeof i==e?i:i+q)}}),m.jQuery=m.$=a})(window);
/*
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
(function(o,h){var ib="scroll",Ib="position",qb="static",Hb="CSS1Compat",L="fxshow",B="toggle",hb=":hidden",A="hide",T="olddisplay",x="show",Gb="marginLeft",Fb="marginTop",Zb="application/x-www-form-urlencoded",H="display",Eb="Width",pb="margin",cb="padding",bb="border",Db="marginRight",wb="inline-block",Yb="cssFloat",ab="opacity",Xb="absolute",Wb="replaceWith",Lb="<$1></$2>",vb="nextSibling",v="script",Z="previousSibling",ob="parentNode",sc="focusout",Kb="\\.(?:.*\\.)?",G="checkbox",Y="auto",S="height",C="width",w="button",X="set",gb="value",N="get",R=".run",nb="inprogress",t="fx",K="mark",Q="queue",fb="events",mb="relative",P="hidden",W="fixed",V="inline",l="undefined",u="none",s="px",lb="checked",y="radio",O="type",ub="form",F="on",E="href",eb="tbody",n="input",tb="option",j="*",Cb="className",p="div",r="number",kb="parsererror",jb="false",z="function",M="once memory",m="object",J="boolean",e=false,k=-1,q=".",g=" ",b=true,c=null,f="string",D="body",d="",i=o.document,wd=o.navigator,Bd=o.location,a=function(){var p="onreadystatechange",n="DOMContentLoaded",l="complete",a=function(b,c){return new a.fn.init(b,c,A)},W=o.jQuery,Z=o.$,A,Q=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,B=/\S/,E=/^\s+/,C=/\s+$/,P=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,L=/^[\],:{}\s]*$/,I=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,K=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,H=/(?:^|:|,)(?:\s*\[)+/g,V=/(webkit)[ \/]([\w.]+)/,X=/(opera)(?:.*version)?[ \/]([\w.]+)/,Y=/(msie) ([\w.]+)/,T=/(mozilla)(?:.*? rv:([\w.]+))?/,O=/-([a-z]|[0-9])/ig,R=/^-ms-/,N=function(b,a){return(a+d).toUpperCase()},S=wd.userAgent,t,u,j,U=Object.prototype.toString,v=Object.prototype.hasOwnProperty,w=Array.prototype.push,s=Array.prototype.slice,G=String.prototype.trim,F=Array.prototype.indexOf,y={};a.fn=a.prototype={constructor:a,init:function(d,g,m){var e=this,j,l,k,n;if(!d)return e;if(d.nodeType){e.context=e[0]=d;e.length=1;return e}if(d===D&&!g&&i.body){e.context=i;e[0]=i.body;e.selector=d;e.length=1;return e}if(typeof d===f){if(d.charAt(0)==="<"&&d.charAt(d.length-1)===">"&&d.length>=3)j=[c,d,c];else j=Q.exec(d);if(j&&(j[1]||!g))if(j[1]){g=g instanceof a?g[0]:g;n=g?g.ownerDocument||g:i;k=P.exec(d);if(k)if(a.isPlainObject(g)){d=[i.createElement(k[1])];a.fn.attr.call(d,g,b)}else d=[n.createElement(k[1])];else{k=a.buildFragment([j[1]],[n]);d=(k.cacheable?a.clone(k.fragment):k.fragment).childNodes}return a.merge(e,d)}else{l=i.getElementById(j[2]);if(l&&l.parentNode){if(l.id!==j[2])return m.find(d);e.length=1;e[0]=l}e.context=i;e.selector=d;return e}else return!g||g.jquery?(g||m).find(d):e.constructor(g).find(d)}else if(a.isFunction(d))return m.ready(d);if(d.selector!==h){e.selector=d.selector;e.context=d.context}return a.makeArray(d,e)},selector:d,jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return s.call(this,0)},"get":function(b){var a=this;return b==c?a.toArray():b<0?a[a.length+b]:a[b]},pushStack:function(e,f,h){var c=this,b=c.constructor();if(a.isArray(e))w.apply(b,e);else a.merge(b,e);b.prevObject=c;b.context=c.context;if(f==="find")b.selector=c.selector+(c.selector?g:d)+h;else if(f)b.selector=c.selector+q+f+"("+h+")";return b},each:function(b,c){return a.each(this,b,c)},ready:function(b){a.bindReady();u.add(b);return this},eq:function(a){a=+a;return a===k?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(k)},slice:function(){return this.pushStack(s.apply(this,arguments),"slice",s.call(arguments).join(","))},map:function(b){return this.pushStack(a.map(this,function(a,c){return b.call(a,c,a)}))},end:function(){return this.prevObject||this.constructor(c)},push:w,sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.extend=a.fn.extend=function(){var k,i,f,d,j,l,b=arguments[0]||{},g=1,o=arguments.length,n=e;if(typeof b===J){n=b;b=arguments[1]||{};g=2}if(typeof b!==m&&!a.isFunction(b))b={};if(o===g){b=this;--g}for(;g<o;g++)if((k=arguments[g])!=c)for(i in k){f=b[i];d=k[i];if(b===d)continue;if(n&&d&&(a.isPlainObject(d)||(j=a.isArray(d)))){if(j){j=e;l=f&&a.isArray(f)?f:[]}else l=f&&a.isPlainObject(f)?f:{};b[i]=a.extend(n,l,d)}else if(d!==h)b[i]=d}return b};a.extend({noConflict:function(b){if(o.$===a)o.$=Z;if(b&&o.jQuery===a)o.jQuery=W;return a},isReady:e,readyWait:1,holdReady:function(c){if(c)a.readyWait++;else a.ready(b)},ready:function(c){if(c===b&&!--a.readyWait||c!==b&&!a.isReady){if(!i.body)return setTimeout(a.ready,1);a.isReady=b;if(c!==b&&--a.readyWait>0)return;u.fireWith(i,[a]);a.fn.trigger&&a(i).trigger("ready").off("ready")}},bindReady:function(){if(u)return;u=a.Callbacks(M);if(i.readyState===l)return setTimeout(a.ready,1);if(i.addEventListener){i.addEventListener(n,j,e);o.addEventListener("load",a.ready,e)}else if(i.attachEvent){i.attachEvent(p,j);o.attachEvent("onload",a.ready);var b=e;try{b=o.frameElement==c}catch(d){}i.documentElement.doScroll&&b&&x()}},isFunction:function(b){return a.type(b)===z},isArray:Array.isArray||function(b){return a.type(b)==="array"},isWindow:function(a){return a&&typeof a===m&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==c?String(a):y[U.call(a)]||m},isPlainObject:function(b){if(!b||a.type(b)!==m||b.nodeType||a.isWindow(b))return e;try{if(b.constructor&&!v.call(b,"constructor")&&!v.call(b.constructor.prototype,"isPrototypeOf"))return e}catch(d){return e}var c;for(c in b);return c===h||v.call(b,c)},isEmptyObject:function(a){for(var c in a)return e;return b},error:function(a){throw new Error(a);},parseJSON:function(b){if(typeof b!==f||!b)return c;b=a.trim(b);if(o.JSON&&o.JSON.parse)return o.JSON.parse(b);if(L.test(b.replace(I,"@").replace(K,"]").replace(H,d)))return new Function("return "+b)();a.error("Invalid JSON: "+b)},parseXML:function(c){var b,d;try{if(o.DOMParser){d=new DOMParser;b=d.parseFromString(c,"text/xml")}else{b=new ActiveXObject("Microsoft.XMLDOM");b.async=jb;b.loadXML(c)}}catch(e){b=h}(!b||!b.documentElement||b.getElementsByTagName(kb).length)&&a.error("Invalid XML: "+c);return b},noop:function(){},globalEval:function(a){a&&B.test(a)&&(o.execScript||function(a){o.eval.call(o,a)})(a)},camelCase:function(a){return a.replace(R,"ms-").replace(O,N)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,f,i){var c,d=0,g=b.length,j=g===h||a.isFunction(b);if(i){if(j){for(c in b)if(f.apply(b[c],i)===e)break}else for(;d<g;)if(f.apply(b[d++],i)===e)break}else if(j){for(c in b)if(f.call(b[c],c,b[c])===e)break}else for(;d<g;)if(f.call(b[d],d,b[d++])===e)break;return b},trim:G?function(a){return a==c?d:G.call(a)}:function(a){return a==c?d:a.toString().replace(E,d).replace(C,d)},makeArray:function(b,g){var e=g||[];if(b!=c){var d=a.type(b);if(b.length==c||d===f||d===z||d==="regexp"||a.isWindow(b))w.call(e,b);else a.merge(e,b)}return e},inArray:function(d,b,a){var c;if(b){if(F)return F.call(b,d,a);c=b.length;a=a?a<0?Math.max(0,c+a):a:0;for(;a<c;a++)if(a in b&&b[a]===d)return a}return k},merge:function(b,a){var d=b.length,c=0;if(typeof a.length===r)for(var e=a.length;c<e;c++)b[d++]=a[c];else while(a[c]!==h)b[d++]=a[c++];b.length=d;return b},grep:function(b,f,c){var e=[],d;c=!!c;for(var a=0,g=b.length;a<g;a++){d=!!f(b[a],a);c!==d&&e.push(b[a])}return e},map:function(b,j,k){var e,i,f=[],g=0,d=b.length,l=b instanceof a||d!==h&&typeof d===r&&(d>0&&b[0]&&b[d-1]||d===0||a.isArray(b));if(l)for(;g<d;g++){e=j(b[g],g,k);if(e!=c)f[f.length]=e}else for(i in b){e=j(b[i],i,k);if(e!=c)f[f.length]=e}return f.concat.apply([],f)},guid:1,proxy:function(b,c){if(typeof c===f){var g=b[c];c=b;b=g}if(!a.isFunction(b))return h;var e=s.call(arguments,2),d=function(){return b.apply(c,e.concat(s.call(arguments)))};d.guid=b.guid=b.guid||d.guid||a.guid++;return d},access:function(b,c,e,f,g,j){var i=b.length;if(typeof c===m){for(var k in c)a.access(b,k,c[k],f,g,e);return b}if(e!==h){f=!j&&f&&a.isFunction(e);for(var d=0;d<i;d++)g(b[d],c,f?e.call(b[d],d,g(b[d],c)):e,j);return b}return i?g(b[0],c):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=V.exec(a)||X.exec(a)||Y.exec(a)||a.indexOf("compatible")<0&&T.exec(a)||[];return{browser:b[1]||d,version:b[2]||"0"}},sub:function(){var d=this;function c(a,b){return new c.fn.init(a,b)}a.extend(b,c,d);c.superclass=d;c.fn=c.prototype=d();c.fn.constructor=c;c.sub=d.sub;c.fn.init=function(d,b){if(b&&b instanceof a&&!(b instanceof c))b=c(b);return a.fn.init.call(this,d,b,e)};c.fn.init.prototype=c.fn;var e=c(i);return c},browser:{}});a.each("Boolean Number String Function Array Date RegExp Object".split(g),function(b,a){y["[object "+a+"]"]=a.toLowerCase()});t=a.uaMatch(S);if(t.browser){a.browser[t.browser]=b;a.browser.version=t.version}if(a.browser.webkit)a.browser.safari=b;if(B.test("")){E=/^[\s\xA0]+/;C=/[\s\xA0]+$/}A=a(i);if(i.addEventListener)j=function(){i.removeEventListener(n,j,e);a.ready()};else if(i.attachEvent)j=function(){if(i.readyState===l){i.detachEvent(p,j);a.ready()}};function x(){if(a.isReady)return;try{i.documentElement.doScroll("left")}catch(b){setTimeout(x,1);return}a.ready()}return a}(),Cc={};function kd(a){var e=Cc[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)e[a[c]]=b;return e}a.Callbacks=function(f){f=f?Cc[f]||kd(f):{};var c=[],g=[],d,l,m,k,i,o=function(h){var d,g,b,e,i;for(d=0,g=h.length;d<g;d++){b=h[d];e=a.type(b);if(e==="array")o(b);else if(e===z)(!f.unique||!j.has(b))&&c.push(b)}},n=function(h,a){a=a||[];d=!f.memory||[h,a];l=b;i=m||0;m=0;k=c.length;for(;c&&i<k;i++)if(c[i].apply(h,a)===e&&f.stopOnFalse){d=b;break}l=e;if(c)if(!f.once){if(g&&g.length){d=g.shift();j.fireWith(d[0],d[1])}}else if(d===b)j.disable();else c=[]},j={add:function(){if(c){var a=c.length;o(arguments);if(l)k=c.length;else if(d&&d!==b){m=a;n(d[0],d[1])}}return this},remove:function(){if(c)for(var d=arguments,b=0,e=d.length;b<e;b++)for(var a=0;a<c.length;a++)if(d[b]===c[a]){if(l)if(a<=k){k--;if(a<=i)i--}c.splice(a--,1);if(f.unique)break}return this},has:function(f){if(c)for(var a=0,d=c.length;a<d;a++)if(f===c[a])return b;return e},empty:function(){c=[];return this},disable:function(){c=g=d=h;return this},disabled:function(){return!c},lock:function(){g=h;(!d||d===b)&&j.disable();return this},locked:function(){return!g},fireWith:function(a,b){if(g)if(l)!f.once&&g.push([a,b]);else!(f.once&&d)&&n(a,b);return this},fire:function(){j.fireWith(this,arguments);return this},fired:function(){return!!d}};return j};var Vb=[].slice;a.extend({Deferred:function(k){var f=a.Callbacks(M),g=a.Callbacks(M),e=a.Callbacks("memory"),j="pending",i={resolve:f,reject:g,notify:e},h={done:f.add,fail:g.add,progress:e.add,state:function(){return j},isResolved:f.fired,isRejected:g.fired,then:function(c,d,a){b.done(c).fail(d).progress(a);return this},always:function(){b.done.apply(b,arguments).fail.apply(b,arguments);return this},pipe:function(d,e,c){return a.Deferred(function(f){a.each({done:[d,"resolve"],fail:[e,"reject"],progress:[c,"notify"]},function(d,g){var h=g[0],e=g[1],c;if(a.isFunction(h))b[d](function(){c=h.apply(this,arguments);if(c&&a.isFunction(c.promise))c.promise().then(f.resolve,f.reject,f.notify);else f[e+"With"](this===b?f:this,[c])});else b[d](f[e])})}).promise()},promise:function(a){if(a==c)a=h;else for(var b in h)a[b]=h[b];return a}},b=h.promise({}),d;for(d in i){b[d]=i[d].fire;b[d+"With"]=i[d].fireWith}b.done(function(){j="resolved"},g.disable,e.lock).fail(function(){j="rejected"},f.disable,e.lock);k&&k.call(b,b);return b},when:function(f){var c=Vb.call(arguments,0),d=0,e=c.length,i=new Array(e),g=e,l=e,b=e<=1&&f&&a.isFunction(f.promise)?f:a.Deferred(),h=b.promise();function k(a){return function(d){c[a]=arguments.length>1?Vb.call(arguments,0):d;!--g&&b.resolveWith(b,c)}}function j(a){return function(c){i[a]=arguments.length>1?Vb.call(arguments,0):c;b.notifyWith(h,i)}}if(e>1){for(;d<e;d++)if(c[d]&&c[d].promise&&a.isFunction(c[d].promise))c[d].promise().then(k(d),b.reject,j(d));else--g;!g&&b.resolveWith(b,c)}else b!==f&&b.resolveWith(b,e?[f]:[]);return h}});a.support=function(){var g,A,r,w,x,h,q,k,t,G,v,B,m,f=i.createElement(p),C=i.documentElement;f.setAttribute(Cb,"t");f.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";A=f.getElementsByTagName(j);r=f.getElementsByTagName("a")[0];if(!A||!A.length||!r)return{};w=i.createElement("select");x=w.appendChild(i.createElement(tb));h=f.getElementsByTagName(n)[0];g={leadingWhitespace:f.firstChild.nodeType===3,tbody:!f.getElementsByTagName(eb).length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute(E)==="/a",opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:h.value===F,optSelected:x.selected,getSetAttribute:f.className!=="t",enctype:!!i.createElement(ub).enctype,html5Clone:i.createElement("nav").cloneNode(b).outerHTML!=="<:nav></:nav>",submitBubbles:b,changeBubbles:b,focusinBubbles:e,deleteExpando:b,noCloneEvent:b,inlineBlockNeedsLayout:e,shrinkWrapBlocks:e,reliableMarginRight:b};h.checked=b;g.noCloneChecked=h.cloneNode(b).checked;w.disabled=b;g.optDisabled=!x.disabled;try{delete f.test}catch(H){g.deleteExpando=e}if(!f.addEventListener&&f.attachEvent&&f.fireEvent){f.attachEvent("onclick",function(){g.noCloneEvent=e});f.cloneNode(b).fireEvent("onclick")}h=i.createElement(n);h.value="t";h.setAttribute(O,y);g.radioValue=h.value==="t";h.setAttribute(lb,lb);f.appendChild(h);k=i.createDocumentFragment();k.appendChild(f.lastChild);g.checkClone=k.cloneNode(b).cloneNode(b).lastChild.checked;g.appendChecked=h.checked;k.removeChild(h);k.appendChild(f);f.innerHTML=d;if(o.getComputedStyle){q=i.createElement(p);q.style.width="0";q.style.marginRight="0";f.style.width="2px";f.appendChild(q);g.reliableMarginRight=(parseInt((o.getComputedStyle(q,c)||{marginRight:0}).marginRight,10)||0)===0}if(f.attachEvent)for(B in{submit:1,change:1,focusin:1}){v=F+B;m=v in f;if(!m){f.setAttribute(v,"return;");m=typeof f[v]===z}g[B+"Bubbles"]=m}k.removeChild(f);k=w=x=q=f=h=c;a(function(){var e,j,b,x,w,h,n,q,r,o,v,k=i.getElementsByTagName(D)[0];if(!k)return;n=1;q="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;";r="visibility:hidden;border:0;";o="style='"+q+"border:5px solid #000;padding:0;'";v="<div "+o+"><div></div></div><table "+o+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";e=i.createElement(p);e.style.cssText=r+"width:0;height:0;position:static;top:0;margin-top:"+n+s;k.insertBefore(e,k.firstChild);f=i.createElement(p);e.appendChild(f);f.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";t=f.getElementsByTagName("td");m=t[0].offsetHeight===0;t[0].style.display=d;t[1].style.display=u;g.reliableHiddenOffsets=m&&t[0].offsetHeight===0;f.innerHTML=d;f.style.width=f.style.paddingLeft="1px";a.boxModel=g.boxModel=f.offsetWidth===2;if(typeof f.style.zoom!==l){f.style.display=V;f.style.zoom=1;g.inlineBlockNeedsLayout=f.offsetWidth===2;f.style.display=d;f.innerHTML="<div style='width:4px;'></div>";g.shrinkWrapBlocks=f.offsetWidth!==2}f.style.cssText=q+r;f.innerHTML=v;j=f.firstChild;b=j.firstChild;w=j.nextSibling.firstChild.firstChild;h={doesNotAddBorder:b.offsetTop!==5,doesAddBorderForTableAndCells:w.offsetTop===5};b.style.position=W;b.style.top="20px";h.fixedPosition=b.offsetTop===20||b.offsetTop===15;b.style.position=b.style.top=d;j.style.overflow=P;j.style.position=mb;h.subtractsBorderForOverflowNotVisible=b.offsetTop===-5;h.doesNotIncludeMarginInBodyOffset=k.offsetTop!==n;k.removeChild(e);f=e=c;a.extend(g,h)});return g}();var Nd=/^(?:\{.*\}|\[.*\])$/,td=/([A-Z])/g;a.extend({cache:{},uuid:0,expando:"jQuery"+(a.fn.jquery+Math.random()).replace(/\D/g,d),noData:{embed:b,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:b},hasData:function(b){b=b.nodeType?a.cache[b[a.expando]]:b[a.expando];return!!b&&!Tb(b)},data:function(i,g,n,o){if(!a.acceptData(i))return;var p,d,k,j=a.expando,q=typeof g===f,l=i.nodeType,e=l?a.cache:i,b=l?i[j]:i[j]&&j,r=g===fb;if((!b||!e[b]||!r&&!o&&!e[b].data)&&q&&n===h)return;if(!b)if(l)i[j]=b=++a.uuid;else b=j;if(!e[b]){e[b]={};if(!l)e[b].toJSON=a.noop}if(typeof g===m||typeof g===z)if(o)e[b]=a.extend(e[b],g);else e[b].data=a.extend(e[b].data,g);p=d=e[b];if(!o){if(!d.data)d.data={};d=d.data}if(n!==h)d[a.camelCase(g)]=n;if(r&&!d[g])return p.events;if(q){k=d[g];if(k==c)k=d[a.camelCase(g)]}else k=d;return k},removeData:function(e,b,l){if(!a.acceptData(e))return;var h,j,m,i=a.expando,k=e.nodeType,d=k?a.cache:e,f=k?e[i]:i;if(!d[f])return;if(b){h=l?d[f]:d[f].data;if(h){if(!a.isArray(b))if(b in h)b=[b];else{b=a.camelCase(b);if(b in h)b=[b];else b=b.split(g)}for(j=0,m=b.length;j<m;j++)delete h[b[j]];if(!(l?Tb:a.isEmptyObject)(h))return}}if(!l){delete d[f].data;if(!Tb(d[f]))return}if(a.support.deleteExpando||!d.setInterval)delete d[f];else d[f]=c;if(k)if(a.support.deleteExpando)delete e[i];else if(e.removeAttribute)e.removeAttribute(i);else e[i]=c},_data:function(d,e,c){return a.data(d,e,c,b)},acceptData:function(d){if(d.nodeName){var c=a.noData[d.nodeName.toLowerCase()];if(c)return!(c===b||d.getAttribute("classid")!==c)}return b}});a.fn.extend({data:function(i,n){var k="parsedAttrs",e=this,f,o,j,g=c;if(typeof i===l){if(e.length){g=a.data(e[0]);if(e[0].nodeType===1&&!a._data(e[0],k)){o=e[0].attributes;for(var p=0,r=o.length;p<r;p++){j=o[p].name;if(j.indexOf("data-")===0){j=a.camelCase(j.substring(5));Jc(e[0],j,g[j])}}a._data(e[0],k,b)}}return g}else if(typeof i===m)return e.each(function(){a.data(this,i)});f=i.split(q);f[1]=f[1]?q+f[1]:d;if(n===h){g=e.triggerHandler("getData"+f[1]+"!",[f[0]]);if(g===h&&e.length){g=a.data(e[0],i);g=Jc(e[0],i,g)}return g===h&&f[1]?e.data(f[0]):g}else return e.each(function(){var c=a(this),b=[f[0],n];c.triggerHandler("setData"+f[1]+"!",b);a.data(this,i,n);c.triggerHandler("changeData"+f[1]+"!",b)})},removeData:function(b){return this.each(function(){a.removeData(this,b)})}});function Jc(g,i,d){if(d===h&&g.nodeType===1){var j="data-"+i.replace(td,"-$1").toLowerCase();d=g.getAttribute(j);if(typeof d===f){try{d=d==="true"?b:d===jb?e:d==="null"?c:a.isNumeric(d)?parseFloat(d):Nd.test(d)?a.parseJSON(d):d}catch(k){}a.data(g,i,d)}else d=h}return d}function Tb(d){for(var c in d){if(c==="data"&&a.isEmptyObject(d[c]))continue;if(c!=="toJSON")return e}return b}function hc(c,d,i){var e=d+"defer",f=d+Q,g=d+K,h=a._data(c,e);h&&(i===Q||!a._data(c,f))&&(i===K||!a._data(c,g))&&setTimeout(function(){if(!a._data(c,f)&&!a._data(c,g)){a.removeData(c,e,b);h.fire()}},0)}a.extend({_mark:function(c,b){if(c){b=(b||t)+K;a._data(c,b,(a._data(c,b)||0)+1)}},_unmark:function(f,c,d){if(f!==b){d=c;c=f;f=e}if(c){d=d||t;var g=d+K,h=f?0:(a._data(c,g)||1)-1;if(h)a._data(c,g,h);else{a.removeData(c,g,b);hc(c,d,K)}}},queue:function(e,d,c){var b;if(e){d=(d||t)+Q;b=a._data(e,d);if(c)if(!b||a.isArray(c))b=a._data(e,d,a.makeArray(c));else b.push(c);return b||[]}},dequeue:function(d,c){c=c||t;var e=a.queue(d,c),f=e.shift(),g={};if(f===nb)f=e.shift();if(f){c===t&&e.unshift(nb);a._data(d,c+R,g);f.call(d,function(){a.dequeue(d,c)},g)}if(!e.length){a.removeData(d,c+"queue "+c+R,b);hc(d,c,Q)}}});a.fn.extend({queue:function(b,c){if(typeof b!==f){c=b;b=t}return c===h?a.queue(this[0],b):this.each(function(){var d=a.queue(this,b,c);b===t&&d[0]!==nb&&a.dequeue(this,b)})},dequeue:function(b){return this.each(function(){a.dequeue(this,b)})},delay:function(b,c){b=a.fx?a.fx.speeds[b]||b:b;c=c||t;return this.queue(c,function(d,c){var a=setTimeout(d,b);c.stop=function(){clearTimeout(a)}})},clearQueue:function(a){return this.queue(a||t,[])},promise:function(c,o){if(typeof c!==f){o=c;c=h}c=c||t;var k=a.Deferred(),d=this,e=d.length,j=1,g=c+"defer",m=c+Q,n=c+K,l;function i(){!--j&&k.resolveWith(d,[d])}while(e--)if(l=a.data(d[e],g,h,b)||(a.data(d[e],m,h,b)||a.data(d[e],n,h,b))&&a.data(d[e],g,a.Callbacks(M),b)){j++;l.add(i)}i();return k.promise()}});var Oc=/[\n\t\r]/g,Pb=/\s+/,Ld=/\r/g,Wd=/^(?:button|input)$/i,rd=/^(?:button|input|object|select|textarea)$/i,qd=/^a(?:rea)?$/i,Kc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,nc=a.support.getSetAttribute,db,Ic,uc;a.fn.extend({attr:function(d,c){return a.access(this,d,c,b,a.attr)},removeAttr:function(b){return this.each(function(){a.removeAttr(this,b)})},prop:function(d,c){return a.access(this,d,c,b,a.prop)},removeProp:function(b){b=a.propFix[b]||b;return this.each(function(){try{this[b]=h;delete this[b]}catch(a){}})},addClass:function(b){var i=this,d,j,l,c,h,e,k;if(a.isFunction(b))return i.each(function(c){a(this).addClass(b.call(this,c,this.className))});if(b&&typeof b===f){d=b.split(Pb);for(j=0,l=i.length;j<l;j++){c=i[j];if(c.nodeType===1)if(!c.className&&d.length===1)c.className=b;else{h=g+c.className+g;for(e=0,k=d.length;e<k;e++)if(!~h.indexOf(g+d[e]+g))h+=d[e]+g;c.className=a.trim(h)}}}return i},removeClass:function(b){var i=this,l,k,n,c,e,j,m;if(a.isFunction(b))return i.each(function(c){a(this).removeClass(b.call(this,c,this.className))});if(b&&typeof b===f||b===h){l=(b||d).split(Pb);for(k=0,n=i.length;k<n;k++){c=i[k];if(c.nodeType===1&&c.className)if(b){e=(g+c.className+g).replace(Oc,g);for(j=0,m=l.length;j<m;j++)e=e.replace(g+l[j]+g,g);c.className=a.trim(e)}else c.className=d}}return i},toggleClass:function(b,c){var g=typeof b,h=typeof c===J;return a.isFunction(b)?this.each(function(d){a(this).toggleClass(b.call(this,d,this.className,c),c)}):this.each(function(){var j="__className__",i=this;if(g===f){var k,p=0,n=a(i),m=c,o=b.split(Pb);while(k=o[p++]){m=h?m:!n.hasClass(k);n[m?"addClass":"removeClass"](k)}}else if(g===l||g===J){i.className&&a._data(i,j,i.className);i.className=i.className||b===e?d:a._data(i,j)||d}})},hasClass:function(d){for(var c=g+d+g,a=0,f=this.length;a<f;a++)if(this[a].nodeType===1&&(g+this[a].className+g).replace(Oc,g).indexOf(c)>k)return b;return e},val:function(i){var b,e,j,g=this[0];if(!arguments.length){if(g){b=a.valHooks[g.nodeName.toLowerCase()]||a.valHooks[g.type];if(b&&N in b&&(e=b.get(g,gb))!==h)return e;e=g.value;return typeof e===f?e.replace(Ld,d):e==c?d:e}return}j=a.isFunction(i);return this.each(function(k){var f=this,g=a(f),e;if(f.nodeType!==1)return;if(j)e=i.call(f,k,g.val());else e=i;if(e==c)e=d;else if(typeof e===r)e+=d;else if(a.isArray(e))e=a.map(e,function(a){return a==c?d:a+d});b=a.valHooks[f.nodeName.toLowerCase()]||a.valHooks[f.type];if(!b||!(X in b)||b.set(f,e,gb)===h)f.value=e})}});a.extend({valHooks:{option:{"get":function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{"get":function(j){var i,g,k,b,e=j.selectedIndex,h=[],d=j.options,f=j.type==="select-one";if(e<0)return c;g=f?e:0;k=f?e+1:d.length;for(;g<k;g++){b=d[g];if(b.selected&&(a.support.optDisabled?!b.disabled:b.getAttribute("disabled")===c)&&(!b.parentNode.disabled||!a.nodeName(b.parentNode,"optgroup"))){i=a(b).val();if(f)return i;h.push(i)}}return f&&!h.length&&d.length?a(d[e]).val():h},"set":function(c,d){var b=a.makeArray(d);a(c).find(tb).each(function(){this.selected=a.inArray(a(this).val(),b)>=0});if(!b.length)c.selectedIndex=k;return b}}},attrFn:{val:b,css:b,html:b,text:b,data:b,width:b,height:b,offset:b},attr:function(e,b,g,m){var i,f,j,k=e.nodeType;if(!e||k===3||k===8||k===2)return;if(m&&b in a.attrFn)return a(e)[b](g);if(typeof e.getAttribute===l)return a.prop(e,b,g);j=k!==1||!a.isXMLDoc(e);if(j){b=b.toLowerCase();f=a.attrHooks[b]||(Kc.test(b)?Ic:db)}if(g!==h)if(g===c){a.removeAttr(e,b);return}else if(f&&X in f&&j&&(i=f.set(e,g,b))!==h)return i;else{e.setAttribute(b,d+g);return g}else if(f&&N in f&&j&&(i=f.get(e,b))!==c)return i;else{i=e.getAttribute(b);return i===c?h:i}},removeAttr:function(c,i){var f,g,b,j,h=0;if(i&&c.nodeType===1){g=i.toLowerCase().split(Pb);j=g.length;for(;h<j;h++){b=g[h];if(b){f=a.propFix[b]||b;a.attr(c,b,d);c.removeAttribute(nc?b:f);if(Kc.test(b)&&f in c)c[f]=e}}}},attrHooks:{type:{"set":function(b,c){if(Wd.test(b.nodeName)&&b.parentNode)a.error("type property can't be changed");else if(!a.support.radioValue&&c===y&&a.nodeName(b,n)){var d=b.value;b.setAttribute(O,c);if(d)b.value=d;return c}}},value:{"get":function(b,d){return db&&a.nodeName(b,w)?db.get(b,d):d in b?b.value:c},"set":function(b,c,d){if(db&&a.nodeName(b,w))return db.set(b,c,d);b.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":Cb,maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,b,i){var g,d,j,f=e.nodeType;if(!e||f===3||f===8||f===2)return;j=f!==1||!a.isXMLDoc(e);if(j){b=a.propFix[b]||b;d=a.propHooks[b]}return i!==h?d&&X in d&&(g=d.set(e,i,b))!==h?g:(e[b]=i):d&&N in d&&(g=d.get(e,b))!==c?g:e[b]},propHooks:{tabIndex:{"get":function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):rd.test(a.nodeName)||qd.test(a.nodeName)&&a.href?0:h}}}});a.attrHooks.tabindex=a.propHooks.tabIndex;Ic={"get":function(g,c){var d,f=a.prop(g,c);return f===b||typeof f!==J&&(d=g.getAttributeNode(c))&&d.nodeValue!==e?c.toLowerCase():h},"set":function(d,g,c){var f;if(g===e)a.removeAttr(d,c);else{f=a.propFix[c]||c;if(f in d)d[f]=b;d.setAttribute(c,c.toLowerCase())}return c}};if(!nc){uc={name:b,id:b};db=a.valHooks.button={"get":function(c,b){var a;a=c.getAttributeNode(b);return a&&(uc[b]?a.nodeValue!==d:a.specified)?a.nodeValue:h},"set":function(b,e,c){var a=b.getAttributeNode(c);if(!a){a=i.createAttribute(c);b.setAttributeNode(a)}return a.nodeValue=e+d}};a.attrHooks.tabindex.set=db.set;a.each([C,S],function(c,b){a.attrHooks[b]=a.extend(a.attrHooks[b],{"set":function(c,a){if(a===d){c.setAttribute(b,Y);return a}}})});a.attrHooks.contenteditable={"get":db.get,"set":function(b,a,c){if(a===d)a=jb;db.set(b,a,c)}}}!a.support.hrefNormalized&&a.each([E,"src",C,S],function(d,b){a.attrHooks[b]=a.extend(a.attrHooks[b],{"get":function(d){var a=d.getAttribute(b,2);return a===c?h:a}})});if(!a.support.style)a.attrHooks.style={"get":function(a){return a.style.cssText.toLowerCase()||h},"set":function(b,a){return b.style.cssText=d+a}};if(!a.support.optSelected)a.propHooks.selected=a.extend(a.propHooks.selected,{"get":function(b){var a=b.parentNode;if(a){a.selectedIndex;if(a.parentNode)a.parentNode.selectedIndex}return c}});if(!a.support.enctype)a.propFix.enctype="encoding";!a.support.checkOn&&a.each([y,G],function(){a.valHooks[this]={"get":function(a){return a.getAttribute(gb)===c?F:a.value}}});a.each([y,G],function(){a.valHooks[this]=a.extend(a.valHooks[this],{"set":function(c,b){if(a.isArray(b))return c.checked=a.inArray(a(c).val(),b)>=0}})});var dc=/^(?:textarea|input|select)$/i,rc=/^([^\.]*)?(?:\.(.+))?$/,sd=/\bhover(\.\S+)?\b/,xd=/^key/,ld=/^(?:mouse|contextmenu)|click/,yc=/^(?:focusinfocus|focusoutblur)$/,Hd=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,pd=function(b){var a=Hd.exec(b);if(a){a[1]=(a[1]||d).toLowerCase();a[3]=a[3]&&new RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},Jd=function(c,a){var b=c.attributes||{};return(!a[1]||c.nodeName.toLowerCase()===a[1])&&(!a[2]||(b.id||{}).value===a[2])&&(!a[3]||a[3].test((b["class"]||{}).value))},Ec=function(b){return a.event.special.hover?b:b.replace(sd,"mouseenter$1 mouseleave$1")};a.event={add:function(f,s,j,y,t){var p,k,r,v,u,i,x,o,w,z,n,m;if(f.nodeType===3||f.nodeType===8||!s||!j||!(p=a._data(f)))return;if(j.handler){w=j;j=w.handler}if(!j.guid)j.guid=a.guid++;r=p.events;if(!r)p.events=r={};k=p.handle;if(!k){p.handle=k=function(b){return typeof a!==l&&(!b||a.event.triggered!==b.type)?a.event.dispatch.apply(k.elem,arguments):h};k.elem=f}s=a.trim(Ec(s)).split(g);for(v=0;v<s.length;v++){u=rc.exec(s[v])||[];i=u[1];x=(u[2]||d).split(q).sort();m=a.event.special[i]||{};i=(t?m.delegateType:m.bindType)||i;m=a.event.special[i]||{};o=a.extend({type:i,origType:u[1],data:y,handler:j,guid:j.guid,selector:t,quick:pd(t),"namespace":x.join(q)},w);n=r[i];if(!n){n=r[i]=[];n.delegateCount=0;if(!m.setup||m.setup.call(f,y,x,k)===e)if(f.addEventListener)f.addEventListener(i,k,e);else f.attachEvent&&f.attachEvent(F+i,k)}if(m.add){m.add.call(f,o);if(!o.handler.guid)o.handler.guid=j.guid}if(t)n.splice(n.delegateCount++,0,o);else n.push(o);a.event.global[i]=b}f=c},global:{},remove:function(l,o,t,m,y){var s=a.hasData(l)&&a._data(l),r,v,f,x,j,w,p,n,k,u,h,i;if(!s||!(n=s.events))return;o=a.trim(Ec(o||d)).split(g);for(r=0;r<o.length;r++){v=rc.exec(o[r])||[];f=x=v[1];j=v[2];if(!f){for(f in n)a.event.remove(l,f+o[r],t,m,b);continue}k=a.event.special[f]||{};f=(m?k.delegateType:k.bindType)||f;h=n[f]||[];w=h.length;j=j?new RegExp("(^|\\.)"+j.split(q).sort().join(Kb)+"(\\.|$)"):c;for(p=0;p<h.length;p++){i=h[p];if((y||x===i.origType)&&(!t||t.guid===i.guid)&&(!j||j.test(i.namespace))&&(!m||m===i.selector||m==="**"&&i.selector)){h.splice(p--,1);if(i.selector)h.delegateCount--;k.remove&&k.remove.call(l,i)}}if(h.length===0&&w!==h.length){(!k.teardown||k.teardown.call(l,j)===e)&&a.removeEvent(l,f,s.handle);delete n[f]}}if(a.isEmptyObject(n)){u=s.handle;if(u)u.elem=c;a.removeData(l,[fb,"handle"],b)}},customEvent:{getData:b,setData:b,changeData:b},trigger:function(f,n,i,y){if(i&&(i.nodeType===3||i.nodeType===8))return;var g=f.type||f,v=[],w,z,p,j,l,s,r,u,t,x;if(yc.test(g+a.event.triggered))return;if(g.indexOf("!")>=0){g=g.slice(0,k);z=b}if(g.indexOf(q)>=0){v=g.split(q);g=v.shift();v.sort()}if((!i||a.event.customEvent[g])&&!a.event.global[g])return;f=typeof f===m?f[a.expando]?f:new a.Event(g,f):new a.Event(g);f.type=g;f.isTrigger=b;f.exclusive=z;f.namespace=v.join(q);f.namespace_re=f.namespace?new RegExp("(^|\\.)"+v.join(Kb)+"(\\.|$)"):c;s=g.indexOf(":")<0?F+g:d;if(!i){w=a.cache;for(p in w)w[p].events&&w[p].events[g]&&a.event.trigger(f,n,w[p].handle.elem,b);return}f.result=h;if(!f.target)f.target=i;n=n!=c?a.makeArray(n):[];n.unshift(f);r=a.event.special[g]||{};if(r.trigger&&r.trigger.apply(i,n)===e)return;t=[[i,r.bindType||g]];if(!y&&!r.noBubble&&!a.isWindow(i)){x=r.delegateType||g;j=yc.test(x+g)?i:i.parentNode;l=c;for(;j;j=j.parentNode){t.push([j,x]);l=j}l&&l===i.ownerDocument&&t.push([l.defaultView||l.parentWindow||o,x])}for(p=0;p<t.length&&!f.isPropagationStopped();p++){j=t[p][0];f.type=t[p][1];u=(a._data(j,fb)||{})[f.type]&&a._data(j,"handle");u&&u.apply(j,n);u=s&&j[s];u&&a.acceptData(j)&&u.apply(j,n)===e&&f.preventDefault()}f.type=g;if(!y&&!f.isDefaultPrevented())if((!r._default||r._default.apply(i.ownerDocument,n)===e)&&!(g==="click"&&a.nodeName(i,"a"))&&a.acceptData(i))if(s&&i[g]&&(g!=="focus"&&g!=="blur"||f.target.offsetWidth!==0)&&!a.isWindow(i)){l=i[s];if(l)i[s]=c;a.event.triggered=g;i[g]();a.event.triggered=h;if(l)i[s]=l}return f.result},dispatch:function(b){var d=this;b=a.event.fix(b||o.event);var m=(a._data(d,fb)||{})[b.type]||[],k=m.delegateCount,t=[].slice.call(arguments,0),u=!b.exclusive&&!b.namespace,l=[],f,s,g,q,r,n,i,p,c,j,v;t[0]=b;b.delegateTarget=d;if(k&&!b.target.disabled&&!(b.button&&b.type==="click")){q=a(d);q.context=d.ownerDocument||d;for(g=b.target;g!=d;g=g.parentNode||d){n={};p=[];q[0]=g;for(f=0;f<k;f++){c=m[f];j=c.selector;if(n[j]===h)n[j]=c.quick?Jd(g,c.quick):q.is(j);n[j]&&p.push(c)}p.length&&l.push({elem:g,matches:p})}}m.length>k&&l.push({elem:d,matches:m.slice(k)});for(f=0;f<l.length&&!b.isPropagationStopped();f++){i=l[f];b.currentTarget=i.elem;for(s=0;s<i.matches.length&&!b.isImmediatePropagationStopped();s++){c=i.matches[s];if(u||!b.namespace&&!c.namespace||b.namespace_re&&b.namespace_re.test(c.namespace)){b.data=c.data;b.handleObj=c;r=((a.event.special[c.origType]||{}).handle||c.handler).apply(i.elem,t);if(r!==h){b.result=r;if(r===e){b.preventDefault();b.stopPropagation()}}}}}return b.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(g),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(g),filter:function(b,a){if(b.which==c)b.which=a.charCode!=c?a.charCode:a.keyCode;return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(g),filter:function(a,e){var j,d,b,f=e.button,g=e.fromElement;if(a.pageX==c&&e.clientX!=c){j=a.target.ownerDocument||i;d=j.documentElement;b=j.body;a.pageX=e.clientX+(d&&d.scrollLeft||b&&b.scrollLeft||0)-(d&&d.clientLeft||b&&b.clientLeft||0);a.pageY=e.clientY+(d&&d.scrollTop||b&&b.scrollTop||0)-(d&&d.clientTop||b&&b.clientTop||0)}if(!a.relatedTarget&&g)a.relatedTarget=g===a.target?e.toElement:g;if(!a.which&&f!==h)a.which=f&1?1:f&2?3:f&4?2:0;return a}},fix:function(b){if(b[a.expando])return b;var f,e,c=b,d=a.event.fixHooks[b.type]||{},g=d.props?this.props.concat(d.props):this.props;b=a.Event(c);for(f=g.length;f;){e=g[--f];b[e]=c[e]}if(!b.target)b.target=c.srcElement||i;if(b.target.nodeType===3)b.target=b.target.parentNode;if(b.metaKey===h)b.metaKey=b.ctrlKey;return d.filter?d.filter(b,c):b},special:{ready:{setup:a.bindReady},load:{noBubble:b},focus:{delegateType:"focusin"},blur:{delegateType:sc},beforeunload:{setup:function(d,c,b){if(a.isWindow(this))this.onbeforeunload=b},teardown:function(b,a){if(this.onbeforeunload===a)this.onbeforeunload=c}}},simulate:function(h,f,e,g){var d=a.extend(new a.Event,e,{type:h,isSimulated:b,originalEvent:{}});if(g)a.event.trigger(d,c,f);else a.event.dispatch.call(f,d);d.isDefaultPrevented()&&e.preventDefault()}};a.event.handle=a.event.dispatch;a.removeEvent=i.removeEventListener?function(a,c,b){a.removeEventListener&&a.removeEventListener(c,b,e)}:function(a,c,b){a.detachEvent&&a.detachEvent(F+c,b)};a.Event=function(c,f){var d=this;if(!(d instanceof a.Event))return new a.Event(c,f);if(c&&c.type){d.originalEvent=c;d.type=c.type;d.isDefaultPrevented=c.defaultPrevented||c.returnValue===e||c.getPreventDefault&&c.getPreventDefault()?Mb:yb}else d.type=c;f&&a.extend(d,f);d.timeStamp=c&&c.timeStamp||a.now();d[a.expando]=b};function yb(){return e}function Mb(){return b}a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Mb;var a=this.originalEvent;if(!a)return;if(a.preventDefault)a.preventDefault();else a.returnValue=e},stopPropagation:function(){this.isPropagationStopped=Mb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation();a.cancelBubble=b},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Mb;this.stopPropagation()},isDefaultPrevented:yb,isPropagationStopped:yb,isImmediatePropagationStopped:yb};a.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,b){a.event.special[c]={delegateType:b,bindType:b,handle:function(c){var f=this,e=c.relatedTarget,d=c.handleObj,h=d.selector,g;if(!e||e!==f&&!a.contains(f,e)){c.type=d.origType;g=d.handler.apply(this,arguments);c.type=b}return g}}});if(!a.support.submitBubbles)a.event.special.submit={setup:function(){if(a.nodeName(this,ub))return e;a.event.add(this,"click._submit keypress._submit",function(e){var d=e.target,c=a.nodeName(d,n)||a.nodeName(d,w)?d.form:h;if(c&&!c._submit_attached){a.event.add(c,"submit._submit",function(c){this.parentNode&&!c.isTrigger&&a.event.simulate("submit",this.parentNode,c,b)});c._submit_attached=b}})},teardown:function(){if(a.nodeName(this,ub))return e;a.event.remove(this,"._submit")}};if(!a.support.changeBubbles)a.event.special.change={setup:function(){var c=this;if(dc.test(c.nodeName)){if(c.type===G||c.type===y){a.event.add(c,"propertychange._change",function(a){if(a.originalEvent.propertyName===lb)this._just_changed=b});a.event.add(c,"click._change",function(c){if(this._just_changed&&!c.isTrigger){this._just_changed=e;a.event.simulate("change",this,c,b)}})}return e}a.event.add(c,"beforeactivate._change",function(d){var c=d.target;if(dc.test(c.nodeName)&&!c._change_attached){a.event.add(c,"change._change",function(c){this.parentNode&&!c.isSimulated&&!c.isTrigger&&a.event.simulate("change",this.parentNode,c,b)});c._change_attached=b}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!==y&&b.type!==G)return a.handleObj.handler.apply(this,arguments)},teardown:function(){a.event.remove(this,"._change");return dc.test(this.nodeName)}};!a.support.focusinBubbles&&a.each({focus:"focusin",blur:sc},function(e,f){var c=0,d=function(c){a.event.simulate(f,c.target,a.event.fix(c),b)};a.event.special[f]={setup:function(){c++===0&&i.addEventListener(e,d,b)},teardown:function(){--c===0&&i.removeEventListener(e,d,b)}}});a.fn.extend({on:function(k,d,g,b,n){var j=this,i,l;if(typeof k===m){if(typeof d!==f){g=d;d=h}for(l in k)j.on(l,d,g,k[l],n);return j}if(g==c&&b==c){b=d;g=d=h}else if(b==c)if(typeof d===f){b=g;g=h}else{b=g;g=d;d=h}if(b===e)b=yb;else if(!b)return j;if(n===1){i=b;b=function(b){a().off(b);return i.apply(this,arguments)};b.guid=i.guid||(i.guid=a.guid++)}return j.each(function(){a.event.add(this,k,b,g,d)})},one:function(b,a,c,d){return this.on.call(this,b,a,c,d,1)},off:function(b,d,g){var f=this;if(b&&b.preventDefault&&b.handleObj){var c=b.handleObj;a(b.delegateTarget).off(c.namespace?c.type+q+c.namespace:c.type,c.selector,c.handler);return f}if(typeof b===m){for(var i in b)f.off(i,d,b[i]);return f}if(d===e||typeof d===z){g=d;d=h}if(g===e)g=yb;return f.each(function(){a.event.remove(this,b,g,d)})},bind:function(a,b,d){return this.on(a,c,b,d)},unbind:function(a,b){return this.off(a,c,b)},live:function(b,c,d){a(this.context).on(b,this.selector,c,d);return this},die:function(b,c){a(this.context).off(b,this.selector||"**",c);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(c,b){return this.each(function(){a.event.trigger(c,b,this)})},triggerHandler:function(d,c){if(this[0])return a.event.trigger(d,c,this[0],b)},toggle:function(c){var b=arguments,g=c.guid||a.guid++,d=0,f=function(h){var f="lastToggle",g=(a._data(this,f+c.guid)||0)%d;a._data(this,f+c.guid,g+1);h.preventDefault();return b[g].apply(this,arguments)||e};f.guid=g;while(d<b.length)b[d++].guid=g;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});a.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(g),function(e,d){a.fn[d]=function(a,b){if(b==c){b=a;a=c}return arguments.length>0?this.on(d,c,a,b):this.trigger(d)};if(a.attrFn)a.attrFn[d]=b;if(xd.test(d))a.event.fixHooks[d]=a.event.keyHooks;if(ld.test(d))a.event.fixHooks[d]=a.event.mouseHooks});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var t="id",x="[object Array]",J=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,A="sizcache"+(Math.random()+d).replace(q,d),L=0,S=Object.prototype.toString,C=e,M=b,z=/\\/g,V=/\r\n/g,H=/\W/;[0,0].sort(function(){M=e;return 0});var o=function(m,g,k,q){k=k||[];g=g||i;var A=g;if(g.nodeType!==1&&g.nodeType!==9)return[];if(!m||typeof m!==f)return k;var p,n,h,w,l,r,t,j,y=b,v=o.isXML(g),a=[],z=m;do{J.exec(d);p=J.exec(z);if(p){z=p[3];a.push(p[1]);if(p[2]){w=p[3];break}}}while(p);if(a.length>1&&U.exec(m))if(a.length===2&&s.relative[a[0]])n=Q(a[0]+a[1],g,q);else{n=s.relative[a[0]]?[g]:o(a.shift(),g);while(a.length){m=a.shift();if(s.relative[m])m+=a.shift();n=Q(m,n,q)}}else{if(!q&&a.length>1&&g.nodeType===9&&!v&&s.match.ID.test(a[0])&&!s.match.ID.test(a[a.length-1])){l=o.find(a.shift(),g,v);g=l.expr?o.filter(l.expr,l.set)[0]:l.set[0]}if(g){l=q?{expr:a.pop(),"set":u(q)}:o.find(a.pop(),a.length===1&&(a[0]==="~"||a[0]==="+")&&g.parentNode?g.parentNode:g,v);n=l.expr?o.filter(l.expr,l.set):l.set;if(a.length>0)h=u(n);else y=e;while(a.length){r=a.pop();t=r;if(!s.relative[r])r=d;else t=a.pop();if(t==c)t=g;s.relative[r](h,t,v)}}else h=a=[]}if(!h)h=n;!h&&o.error(r||m);if(S.call(h)===x)if(!y)k.push.apply(k,h);else if(g&&g.nodeType===1)for(j=0;h[j]!=c;j++)h[j]&&(h[j]===b||h[j].nodeType===1&&o.contains(g,h[j]))&&k.push(n[j]);else for(j=0;h[j]!=c;j++)h[j]&&h[j].nodeType===1&&k.push(n[j]);else u(h,k);if(w){o(w,A,k,q);o.uniqueSort(k)}return k};o.uniqueSort=function(a){if(F){C=M;a.sort(F);if(C)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};o.matches=function(a,b){return o(a,c,c,b)};o.matchesSelector=function(b,a){return o(a,c,c,[b]).length>0};o.find=function(b,h,m){var e,g,k,a,f,i;if(!b)return[];for(g=0,k=s.order.length;g<k;g++){f=s.order[g];if(a=s.leftMatch[f].exec(b)){i=a[1];a.splice(1,1);if(i.substr(i.length-1)!=="\\"){a[1]=(a[1]||d).replace(z,d);e=s.find[f](a,h,m);if(e!=c){b=b.replace(s.match[f],d);break}}}}if(!e)e=typeof h.getElementsByTagName!==l?h.getElementsByTagName(j):[];return{"set":e,expr:b}};o.filter=function(f,m,q,v){var a,i,j,l,p,u,r,n,t,w=f,k=[],g=m,x=m&&m[0]&&o.isXML(m[0]);while(f&&m.length){for(j in s.filter)if((a=s.leftMatch[j].exec(f))!=c&&a[2]){u=s.filter[j];r=a[1];i=e;a.splice(1,1);if(r.substr(r.length-1)==="\\")continue;if(g===k)k=[];if(s.preFilter[j]){a=s.preFilter[j](a,g,q,k,v,x);if(!a)i=l=b;else if(a===b)continue}if(a)for(n=0;(p=g[n])!=c;n++)if(p){l=u(p,a,n,g);t=v^l;if(q&&l!=c)if(t)i=b;else g[n]=e;else if(t){k.push(p);i=b}}if(l!==h){if(!q)g=k;f=f.replace(s.match[j],d);if(!i)return[];break}}if(f===w)if(i==c)o.error(f);else break;w=f}return g};o.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a);};var K=o.getText=function(a){var g,c,b=a.nodeType,e=d;if(b){if(b===1||b===9)if(typeof a.textContent===f)return a.textContent;else if(typeof a.innerText===f)return a.innerText.replace(V,d);else for(a=a.firstChild;a;a=a.nextSibling)e+=K(a);else if(b===3||b===4)return a.nodeValue}else for(g=0;c=a[g];g++)if(c.nodeType!==8)e+=K(c);return e},s=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":Cb,"for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute(E)},type:function(a){return a.getAttribute(O)}},relative:{"+":function(d,c){var i=typeof c===f,j=i&&!H.test(c),h=i&&!j;if(j)c=c.toLowerCase();for(var g=0,k=d.length,a;g<k;g++)if(a=d[g]){while((a=a.previousSibling)&&a.nodeType!==1);d[g]=h||a&&a.nodeName.toLowerCase()===c?a||e:a===c}h&&o.filter(c,d,b)},">":function(g,d){var c,h=typeof d===f,a=0,j=g.length;if(h&&!H.test(d)){d=d.toLowerCase();for(;a<j;a++){c=g[a];if(c){var i=c.parentNode;g[a]=i.nodeName.toLowerCase()===d?i:e}}}else{for(;a<j;a++){c=g[a];if(c)g[a]=h?c.parentNode:c.parentNode===d}h&&o.filter(d,g,b)}},"":function(d,a,g){var b,e=L++,c=R;if(typeof a===f&&!H.test(a)){a=a.toLowerCase();b=a;c=N}c(ob,a,e,d,b,g)},"~":function(d,a,g){var b,e=L++,c=R;if(typeof a===f&&!H.test(a)){a=a.toLowerCase();b=a;c=N}c(Z,a,e,d,b,g)}},find:{ID:function(d,b,c){if(typeof b.getElementById!==l&&!c){var a=b.getElementById(d[1]);return a&&a.parentNode?[a]:[]}},NAME:function(f,e){if(typeof e.getElementsByName!==l){for(var d=[],b=e.getElementsByName(f[1]),a=0,g=b.length;a<g;a++)b[a].getAttribute("name")===f[1]&&d.push(b[a]);return d.length===0?c:d}},TAG:function(b,a){if(typeof a.getElementsByTagName!==l)return a.getElementsByTagName(b[1])}},preFilter:{CLASS:function(b,h,i,j,l,k){b=g+b[1].replace(z,d)+g;if(k)return b;for(var f=0,a;(a=h[f])!=c;f++)if(a)if(l^(a.className&&(g+a.className+g).replace(/[\t\n\r]/g,g).indexOf(b)>=0))!i&&j.push(a);else if(i)h[f]=e;return e},ID:function(a){return a[1].replace(z,d)},TAG:function(a){return a[1].replace(z,d).toLowerCase()},CHILD:function(a){if(a[1]==="nth"){!a[2]&&o.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,d);var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&o.error(a[0]);a[0]=L++;return a},ATTR:function(a,e,f,h,i,c){var b=a[1]=a[1].replace(z,d);if(!c&&s.attrMap[b])a[1]=s.attrMap[b];a[4]=(a[4]||a[5]||d).replace(z,d);if(a[2]==="~=")a[4]=g+a[4]+g;return a},PSEUDO:function(a,f,g,h,i){if(a[1]==="not")if((J.exec(a[3])||d).length>1||/^\w/.test(a[3]))a[3]=o(a[3],c,c,f);else{var j=o.filter(a[3],f,g,b^i);!g&&h.push.apply(h,j);return e}else if(s.match.POS.test(a[0])||s.match.CHILD.test(a[0]))return b;return a},POS:function(a){a.unshift(b);return a}},filters:{enabled:function(a){return a.disabled===e&&a.type!==P},disabled:function(a){return a.disabled===b},checked:function(a){return a.checked===b},selected:function(a){if(a.parentNode)a.parentNode.selectedIndex;return a.selected===b},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(b,c,a){return!!o(a[3],b).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute(O),d=a.type;return a.nodeName.toLowerCase()===n&&"text"===d&&(b===d||b===c)},radio:function(a){return a.nodeName.toLowerCase()===n&&y===a.type},checkbox:function(a){return a.nodeName.toLowerCase()===n&&G===a.type},file:function(a){return a.nodeName.toLowerCase()===n&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()===n&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b===n||b===w)&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()===n&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b===n||b===w)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b===n&&w===a.type||b===w},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(b,a){return a===0},last:function(d,b,c,a){return b===a.length-1},even:function(b,a){return a%2===0},odd:function(b,a){return a%2===1},lt:function(c,b,a){return b<a[3]-0},gt:function(c,b,a){return b>a[3]-0},nth:function(c,b,a){return a[3]-0===b},eq:function(c,b,a){return a[3]-0===b}},filter:{PSEUDO:function(a,c,k,j){var f=c[1],h=s.filters[f];if(h)return h(a,k,c,j);else if(f==="contains")return(a.textContent||a.innerText||K([a])||d).indexOf(c[3])>=0;else if(f==="not"){for(var i=c[3],g=0,l=i.length;g<l;g++)if(i[g]===a)return e;return b}else o.error(f)},CHILD:function(f,g){var d,j,i,c,m,k,h,l=g[1],a=f;switch(l){case"only":case"first":while(a=a.previousSibling)if(a.nodeType===1)return e;if(l==="first")return b;a=f;case"last":while(a=a.nextSibling)if(a.nodeType===1)return e;return b;case"nth":d=g[2];j=g[3];if(d===1&&j===0)return b;i=g[0];c=f.parentNode;if(c&&(c[A]!==i||!f.nodeIndex)){k=0;for(a=c.firstChild;a;a=a.nextSibling)if(a.nodeType===1)a.nodeIndex=++k;c[A]=i}h=f.nodeIndex-j;return d===0?h===0:h%d===0&&h/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute(t)===b},TAG:function(a,b){return b===j&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(g+(a.className||a.getAttribute("class"))+g).indexOf(b)>k},ATTR:function(i,k){var h=k[1],j=o.attr?o.attr(i,h):s.attrHandle[h]?s.attrHandle[h](i):i[h]!=c?i[h]:i.getAttribute(h),b=j+d,f=k[2],a=k[4];return j==c?f==="!=":!f&&o.attr?j!=c:f==="="?b===a:f==="*="?b.indexOf(a)>=0:f==="~="?(g+b+g).indexOf(a)>=0:!a?b&&j!==e:f==="!="?b!==a:f==="^="?b.indexOf(a)===0:f==="$="?b.substr(b.length-a.length)===a:f==="|="?b===a||b.substr(0,a.length+1)===a+"-":e},POS:function(d,b,f,c){var e=b[2],a=s.setFilters[e];if(a)return a(d,f,b,c)}}},U=s.match.POS,T=function(b,a){return"\\"+(a-0+1)};for(var I in s.match){s.match[I]=new RegExp(s.match[I].source+/(?![^\[]*\])(?![^\(]*\))/.source);s.leftMatch[I]=new RegExp(/(^(?:.|\r|\n)*?)/.source+s.match[I].source.replace(/\\(\d+)/g,T))}var u=function(b,a){b=Array.prototype.slice.call(b,0);if(a){a.push.apply(a,b);return a}return b};try{Array.prototype.slice.call(i.documentElement.childNodes,0)[0].nodeType}catch(W){u=function(a,d){var b=0,c=d||[];if(S.call(a)===x)Array.prototype.push.apply(c,a);else if(typeof a.length===r)for(var e=a.length;b<e;b++)c.push(a[b]);else for(;a[b];b++)c.push(a[b]);return c}}var F,B;if(i.documentElement.compareDocumentPosition)F=function(a,c){if(a===c){C=b;return 0}return!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?k:1:a.compareDocumentPosition(c)&4?k:1};else{F=function(d,e){if(d===e){C=b;return 0}else if(d.sourceIndex&&e.sourceIndex)return d.sourceIndex-e.sourceIndex;var j,l,f=[],g=[],h=d.parentNode,i=e.parentNode,c=h;if(h===i)return B(d,e);else if(!h)return k;else if(!i)return 1;while(c){f.unshift(c);c=c.parentNode}c=i;while(c){g.unshift(c);c=c.parentNode}j=f.length;l=g.length;for(var a=0;a<j&&a<l;a++)if(f[a]!==g[a])return B(f[a],g[a]);return a===j?B(d,g[a],k):B(f[a],e,1)};B=function(b,c,d){if(b===c)return d;var a=b.nextSibling;while(a){if(a===c)return k;a=a.nextSibling}return 1}}(function(){var a=i.createElement(p),d=v+(new Date).getTime(),b=i.documentElement;a.innerHTML="<a name='"+d+"'/>";b.insertBefore(a,b.firstChild);if(i.getElementById(d)){s.find.ID=function(b,c,d){if(typeof c.getElementById!==l&&!d){var a=c.getElementById(b[1]);return a?a.id===b[1]||typeof a.getAttributeNode!==l&&a.getAttributeNode(t).nodeValue===b[1]?[a]:h:[]}};s.filter.ID=function(a,c){var b=typeof a.getAttributeNode!==l&&a.getAttributeNode(t);return a.nodeType===1&&b&&b.nodeValue===c}}b.removeChild(a);b=a=c})();(function(){var a=i.createElement(p);a.appendChild(i.createComment(d));if(a.getElementsByTagName(j).length>0)s.find.TAG=function(c,e){var a=e.getElementsByTagName(c[1]);if(c[1]===j){for(var d=[],b=0;a[b];b++)a[b].nodeType===1&&d.push(a[b]);a=d}return a};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!==l&&a.firstChild.getAttribute(E)!=="#")s.attrHandle.href=function(a){return a.getAttribute(E,2)};a=c})();i.querySelectorAll&&(function(){var b=o,a=i.createElement(p),e="__sizzle__";a.innerHTML="<p class='TEST'></p>";if(a.querySelectorAll&&a.querySelectorAll(".TEST").length===0)return;o=function(f,a,c,n){a=a||i;if(!n&&!o.isXML(a)){var d=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(f);if(d&&(a.nodeType===1||a.nodeType===9))if(d[1])return u(a.getElementsByTagName(f),c);else if(d[2]&&s.find.CLASS&&a.getElementsByClassName)return u(a.getElementsByClassName(d[2]),c);if(a.nodeType===9){if(f===D&&a.body)return u([a.body],c);else if(d&&d[3]){var g=a.getElementById(d[3]);if(g&&g.parentNode){if(g.id===d[3])return u([g],c)}else return u([],c)}try{return u(a.querySelectorAll(f),c)}catch(r){}}else if(a.nodeType===1&&a.nodeName.toLowerCase()!==m){var p=a,j=a.getAttribute(t),h=j||e,l=a.parentNode,k=/^\s*[+~]/.test(f);if(!j)a.setAttribute(t,h);else h=h.replace(/'/g,"\\$&");if(k&&l)a=a.parentNode;try{if(!k||l)return u(a.querySelectorAll("[id='"+h+"'] "+f),c)}catch(q){}finally{!j&&p.removeAttribute(t)}}}return b(f,a,c,n)};for(var d in b)o[d]=b[d];a=c})();(function(){var d=i.documentElement,a=d.matchesSelector||d.mozMatchesSelector||d.webkitMatchesSelector||d.msMatchesSelector;if(a){var g=!a.call(i.createElement(p),p),f=e;try{a.call(i.documentElement,"[test!='']:sizzle")}catch(h){f=b}o.matchesSelector=function(d,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!o.isXML(d))try{if(f||!s.match.PSEUDO.test(b)&&!/!=/.test(b)){var e=a.call(d,b);if(e||!g||d.document&&d.document.nodeType!==11)return e}}catch(h){}return o(b,c,c,[d]).length>0}}})();(function(){var a=i.createElement(p);a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;s.order.splice(1,0,"CLASS");s.find.CLASS=function(c,a,b){if(typeof a.getElementsByClassName!==l&&!b)return a.getElementsByClassName(c[1])};a=c})();function N(g,i,f,c,k,h){for(var b=0,j=c.length;b<j;b++){var a=c[b];if(a){var d=e;a=a[g];while(a){if(a[A]===f){d=c[a.sizset];break}if(a.nodeType===1&&!h){a[A]=f;a.sizset=b}if(a.nodeName.toLowerCase()===i){d=a;break}a=a[g]}c[b]=d}}}function R(j,h,i,d,m,k){for(var c=0,l=d.length;c<l;c++){var a=d[c];if(a){var g=e;a=a[j];while(a){if(a[A]===i){g=d[a.sizset];break}if(a.nodeType===1){if(!k){a[A]=i;a.sizset=c}if(typeof h!==f){if(a===h){g=b;break}}else if(o.filter(h,[a]).length>0){g=a;break}}a=a[j]}d[c]=g}}}if(i.documentElement.contains)o.contains=function(a,c){return a!==c&&(a.contains?a.contains(c):b)};else if(i.documentElement.compareDocumentPosition)o.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)};else o.contains=function(){return e};o.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":e};var Q=function(a,b,i){var g,e=[],f=d,h=b.nodeType?[b]:b;while(g=s.match.PSEUDO.exec(a)){f+=g[0];a=a.replace(s.match.PSEUDO,d)}a=s.relative[a]?a+j:a;for(var c=0,k=h.length;c<k;c++)o(a,h[c],e,i);return o.filter(f,e)};o.attr=a.attr;o.selectors.attrMap={};a.find=o;a.expr=o.selectors;a.expr[":"]=a.expr.filters;a.unique=o.uniqueSort;a.text=o.getText;a.isXMLDoc=o.isXML;a.contains=o.contains})();var Sd=/Until$/,id=/^(?:parents|prevUntil|prevAll)/,dd=/,/,Ad=/^.[^:#\[\.,]*$/,Xd=Array.prototype.slice,Xc=a.expr.match.POS,Zc={children:b,contents:b,next:b,prev:b};a.fn.extend({find:function(h){var i=this,m=i,c,j;if(typeof h!==f)return a(h).filter(function(){for(c=0,j=m.length;c<j;c++)if(a.contains(m[c],this))return b});var e=i.pushStack(d,"find",h),l,g,k;for(c=0,j=i.length;c<j;c++){l=e.length;a.find(h,i[c],e);if(c>0)for(g=l;g<e.length;g++)for(k=0;k<l;k++)if(e[k]===e[g]){e.splice(g--,1);break}}return e},has:function(d){var c=a(d);return this.filter(function(){for(var d=0,e=c.length;d<e;d++)if(a.contains(this,c[d]))return b})},not:function(a){return this.pushStack(Rc(this,a,e),"not",a)},filter:function(a){return this.pushStack(Rc(this,a,b),"filter",a)},is:function(b){var c=this;return!!b&&(typeof b===f?Xc.test(b)?a(b,c.context).index(c[0])>=0:a.filter(b,c).length>0:c.filter(b).length>0)},closest:function(c,h){var g=this,e=[],d,l,b=g[0];if(a.isArray(c)){var i=1;while(b&&b.ownerDocument&&b!==h){for(d=0;d<c.length;d++)a(b).is(c[d])&&e.push({selector:c[d],elem:b,level:i});b=b.parentNode;i++}return e}var j=Xc.test(c)||typeof c!==f?a(c,h||g.context):0;for(d=0,l=g.length;d<l;d++){b=g[d];while(b)if(j?j.index(b)>k:a.find.matchesSelector(b,c)){e.push(b);break}else{b=b.parentNode;if(!b||!b.ownerDocument||b===h||b.nodeType===11)break}}e=e.length>1?a.unique(e):e;return g.pushStack(e,"closest",c)},index:function(b){var c=this;return!b?c[0]&&c[0].parentNode?c.prevAll().length:k:typeof b===f?a.inArray(c[0],a(b)):a.inArray(b.jquery?b[0]:b,c)},add:function(b,e){var d=typeof b===f?a(b,e):a.makeArray(b&&b.nodeType?[b]:b),c=a.merge(this.get(),d);return this.pushStack(qc(d[0])||qc(c[0])?c:a.unique(c))},andSelf:function(){return this.add(this.prevObject)}});function qc(a){return!a||!a.parentNode||a.parentNode.nodeType===11}a.each({parent:function(b){var a=b.parentNode;return a&&a.nodeType!==11?a:c},parents:function(b){return a.dir(b,ob)},parentsUntil:function(c,d,b){return a.dir(c,ob,b)},next:function(b){return a.nth(b,2,vb)},prev:function(b){return a.nth(b,2,Z)},nextAll:function(b){return a.dir(b,vb)},prevAll:function(b){return a.dir(b,Z)},nextUntil:function(c,d,b){return a.dir(c,vb,b)},prevUntil:function(c,d,b){return a.dir(c,Z,b)},siblings:function(b){return a.sibling(b.parentNode.firstChild,b)},children:function(b){return a.sibling(b.firstChild)},contents:function(b){return a.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:a.makeArray(b.childNodes)}},function(b,c){a.fn[b]=function(h,e){var g=this,d=a.map(g,c,h);if(!Sd.test(b))e=h;if(e&&typeof e===f)d=a.filter(e,d);d=g.length>1&&!Zc[b]?a.unique(d):d;if((g.length>1||dd.test(e))&&id.test(b))d=d.reverse();return g.pushStack(d,b,Xd.call(arguments).join(","))}});a.extend({filter:function(c,b,d){if(d)c=":not("+c+")";return b.length===1?a.find.matchesSelector(b[0],c)?[b[0]]:[]:a.find.matches(c,b)},dir:function(f,e,d){var c=[],b=f[e];while(b&&b.nodeType!==9&&(d===h||b.nodeType!==1||!a(b).is(d))){b.nodeType===1&&c.push(b);b=b[e]}return c},nth:function(a,b,c){b=b||1;for(var d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,c){for(var b=[];a;a=a.nextSibling)a.nodeType===1&&a!==c&&b.push(a);return b}});function Rc(c,b,d){b=b||0;if(a.isFunction(b))return a.grep(c,function(a,e){var c=!!b.call(a,e,a);return c===d});else if(b.nodeType)return a.grep(c,function(a){return a===b===d});else if(typeof b===f){var e=a.grep(c,function(a){return a.nodeType===1});if(Ad.test(b))return a.filter(b,e,!d);else b=a.filter(b,e)}return a.grep(c,function(c){return a.inArray(c,b)>=0===d})}function jc(c){var b=Fc.split("|"),a=c.createDocumentFragment();if(a.createElement)while(b.length)a.createElement(b.pop());return a}var Fc="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ed=/ jQuery\d+="(?:\d+|null)"/g,Sb=/^\s+/,Gc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Mc=/<([\w:]+)/,Rd=/<tbody/i,Vd=/<|&#?\w+;/,hd=/<(?:script|style)/i,Fd=/<(?:script|object|embed|option|style)/i,vc=new RegExp("<(?:"+Fc+")","i"),Lc=/checked\s*(?:[^=]|=\s*.checked.)/i,md=/\/(java|ecma)script/i,gd=/^\s*<!(?:\[CDATA\[|\-\-)/,I={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,d,d]},wc=jc(i);I.optgroup=I.option;I.tbody=I.tfoot=I.colgroup=I.caption=I.thead;I.th=I.td;if(!a.support.htmlSerialize)I._default=[1,"div<div>","</div>"];a.fn.extend({text:function(c){var b=this;return a.isFunction(c)?b.each(function(d){var b=a(this);b.text(c.call(this,d,b.text()))}):typeof c!==m&&c!==h?b.empty().append((b[0]&&b[0].ownerDocument||i).createTextNode(c)):a.text(b)},wrapAll:function(d){var c=this;if(a.isFunction(d))return c.each(function(b){a(this).wrapAll(d.call(this,b))});if(c[0]){var e=a(d,c[0].ownerDocument).eq(0).clone(b);c[0].parentNode&&e.insertBefore(c[0]);e.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(c)}return c},wrapInner:function(b){return a.isFunction(b)?this.each(function(c){a(this).wrapInner(b.call(this,c))}):this.each(function(){var d=a(this),c=d.contents();if(c.length)c.wrapAll(b);else d.append(b)})},wrap:function(b){var c=a.isFunction(b);return this.each(function(d){a(this).wrapAll(c?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){!a.nodeName(this,D)&&a(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,b,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,b,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){var b=this;if(b[0]&&b[0].parentNode)return b.domManip(arguments,e,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var c=a.clean(arguments);c.push.apply(c,b.toArray());return b.pushStack(c,"before",arguments)}},after:function(){var b=this;if(b[0]&&b[0].parentNode)return b.domManip(arguments,e,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var c=b.pushStack(b,"after",arguments);c.push.apply(c,a.clean(arguments));return c}},remove:function(d,f){for(var e=0,b;(b=this[e])!=c;e++)if(!d||a.filter(d,[b]).length){if(!f&&b.nodeType===1){a.cleanData(b.getElementsByTagName(j));a.cleanData([b])}b.parentNode&&b.parentNode.removeChild(b)}return this},empty:function(){for(var d=0,b;(b=this[d])!=c;d++){b.nodeType===1&&a.cleanData(b.getElementsByTagName(j));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(b,d){b=b==c?e:b;d=d==c?b:d;return this.map(function(){return a.clone(this,b,d)})},html:function(b){var e=this;if(b===h)return e[0]&&e[0].nodeType===1?e[0].innerHTML.replace(ed,d):c;else if(typeof b===f&&!hd.test(b)&&(a.support.leadingWhitespace||!Sb.test(b))&&!I[(Mc.exec(b)||[d,d])[1].toLowerCase()]){b=b.replace(Gc,Lb);try{for(var g=0,i=e.length;g<i;g++)if(e[g].nodeType===1){a.cleanData(e[g].getElementsByTagName(j));e[g].innerHTML=b}}catch(k){e.empty().append(b)}}else if(a.isFunction(b))e.each(function(d){var c=a(this);c.html(b.call(this,d,c.html()))});else e.empty().append(b);return e},replaceWith:function(b){var c=this;if(c[0]&&c[0].parentNode){if(a.isFunction(b))return c.each(function(e){var c=a(this),d=c.html();c.replaceWith(b.call(this,e,d))});if(typeof b!==f)b=a(b).detach();return c.each(function(){var c=this.nextSibling,d=this.parentNode;a(this).remove();if(c)a(c).before(b);else a(d).append(b)})}else return c.length?c.pushStack(a(a.isFunction(b)?b():b),Wb,b):c},detach:function(a){return this.remove(a,b)},domManip:function(k,e,n){var c=this,m,j,d,i,g=k[0],o=[];if(!a.support.checkClone&&arguments.length===3&&typeof g===f&&Lc.test(g))return c.each(function(){a(this).domManip(k,e,n,b)});if(a.isFunction(g))return c.each(function(c){var b=a(this);k[0]=g.call(this,c,e?b.html():h);b.domManip(k,e,n)});if(c[0]){i=g&&g.parentNode;if(a.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===c.length)m={fragment:i};else m=a.buildFragment(k,c,o);d=m.fragment;if(d.childNodes.length===1)j=d=d.firstChild;else j=d.firstChild;if(j){e=e&&a.nodeName(j,"tr");for(var l=0,p=c.length,q=p-1;l<p;l++)n.call(e?ae(c[l],j):c[l],m.cacheable||p>1&&l<q?a.clone(d,b,b):d)}o.length&&a.each(o,od)}return c}});function ae(b){return a.nodeName(b,"table")?b.getElementsByTagName(eb)[0]||b.appendChild(b.ownerDocument.createElement(eb)):b}function oc(i,g){if(g.nodeType!==1||!a.hasData(i))return;var c,e,j,h=a._data(i),f=a._data(g,h),b=h.events;if(b){delete f.handle;f.events={};for(c in b)for(e=0,j=b[c].length;e<j;e++)a.event.add(g,c+(b[c][e].namespace?q:d)+b[c][e].namespace,b[c][e],b[c][e].data)}if(f.data)f.data=a.extend({},f.data)}function ic(c,b){var d;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(c);d=b.nodeName.toLowerCase();if(d===m)b.outerHTML=c.outerHTML;else if(d===n&&(c.type===G||c.type===y)){if(c.checked)b.defaultChecked=b.checked=c.checked;if(b.value!==c.value)b.value=c.value}else if(d===tb)b.selected=c.defaultSelected;else if(d===n||d==="textarea")b.defaultValue=c.defaultValue;b.removeAttribute(a.expando)}a.buildFragment=function(k,h,l){var d,j,g,e,c=k[0];if(h&&h[0])e=h[0].ownerDocument||h[0];if(!e.createDocumentFragment)e=i;if(k.length===1&&typeof c===f&&c.length<512&&e===i&&c.charAt(0)==="<"&&!Fd.test(c)&&(a.support.checkClone||!Lc.test(c))&&(a.support.html5Clone||!vc.test(c))){j=b;g=a.fragments[c];if(g&&g!==1)d=g}if(!d){d=e.createDocumentFragment();a.clean(k,e,d,l)}if(j)a.fragments[c]=g?d:1;return{fragment:d,cacheable:j}};a.fragments={};a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:Wb},function(d,c){a.fn[d]=function(k){var e=this,i=[],f=a(k),h=e.length===1&&e[0].parentNode;if(h&&h.nodeType===11&&h.childNodes.length===1&&f.length===1){f[c](e[0]);return e}else{for(var g=0,l=f.length;g<l;g++){var j=(g>0?e.clone(b):e).get();a(f[g])[c](j);i=i.concat(j)}return e.pushStack(i,d,f.selector)}}});function Ob(a){return typeof a.getElementsByTagName!==l?a.getElementsByTagName(j):typeof a.querySelectorAll!==l?a.querySelectorAll(j):[]}function lc(a){if(a.type===G||a.type===y)a.defaultChecked=a.checked}function Bc(b){var c=(b.nodeName||d).toLowerCase();if(c===n)lc(b);else c!==v&&typeof b.getElementsByTagName!==l&&a.grep(b.getElementsByTagName(n),lc)}function fd(b){var a=i.createElement(p);wc.appendChild(a);a.innerHTML=b.outerHTML;return a.firstChild}a.extend({clone:function(e,j,i){var f,g,d,h=a.support.html5Clone||!vc.test("<"+e.nodeName)?e.cloneNode(b):fd(e);if((!a.support.noCloneEvent||!a.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!a.isXMLDoc(e)){ic(e,h);f=Ob(e);g=Ob(h);for(d=0;f[d];++d)g[d]&&ic(f[d],g[d])}if(j){oc(e,h);if(i){f=Ob(e);g=Ob(h);for(d=0;f[d];++d)oc(f[d],g[d])}}f=g=c;return h},clean:function(z,h,q,t){var o;h=h||i;if(typeof h.createElement===l)h=h.ownerDocument||h[0]&&h[0].ownerDocument||i;for(var e=[],k,g=0,b;(b=z[g])!=c;g++){if(typeof b===r)b+=d;if(!b)continue;if(typeof b===f)if(!Vd.test(b))b=h.createTextNode(b);else{b=b.replace(Gc,Lb);var w=(Mc.exec(b)||[d,d])[1].toLowerCase(),n=I[w]||I._default,y=n[0],j=h.createElement(p);if(h===i)wc.appendChild(j);else jc(h).appendChild(j);j.innerHTML=n[1]+b+n[2];while(y--)j=j.lastChild;if(!a.support.tbody){var s=Rd.test(b),m=w==="table"&&!s?j.firstChild&&j.firstChild.childNodes:n[1]==="<table>"&&!s?j.childNodes:[];for(k=m.length-1;k>=0;--k)a.nodeName(m[k],eb)&&!m[k].childNodes.length&&m[k].parentNode.removeChild(m[k])}!a.support.leadingWhitespace&&Sb.test(b)&&j.insertBefore(h.createTextNode(Sb.exec(b)[0]),j.firstChild);b=j.childNodes}var u;if(!a.support.appendChecked)if(b[0]&&typeof(u=b.length)===r)for(k=0;k<u;k++)Bc(b[k]);else Bc(b);if(b.nodeType)e.push(b);else e=a.merge(e,b)}if(q){o=function(a){return!a.type||md.test(a.type)};for(g=0;e[g];g++)if(t&&a.nodeName(e[g],v)&&(!e[g].type||e[g].type.toLowerCase()==="text/javascript"))t.push(e[g].parentNode?e[g].parentNode.removeChild(e[g]):e[g]);else{if(e[g].nodeType===1){var x=a.grep(e[g].getElementsByTagName(v),o);e.splice.apply(e,[g+1,0].concat(x))}q.appendChild(e[g])}}return e},cleanData:function(k){for(var d,e,g=a.cache,j=a.event.special,i=a.support.deleteExpando,h=0,b;(b=k[h])!=c;h++){if(b.nodeName&&a.noData[b.nodeName.toLowerCase()])continue;e=b[a.expando];if(e){d=g[e];if(d&&d.events){for(var f in d.events)if(j[f])a.event.remove(b,f);else a.removeEvent(b,f,d.handle);if(d.handle)d.handle.elem=c}if(i)delete b[a.expando];else b.removeAttribute&&b.removeAttribute(a.expando);delete g[e]}}}});function od(c,b){if(b.src)a.ajax({url:b.src,async:e,dataType:v});else a.globalEval((b.text||b.textContent||b.innerHTML||d).replace(gd,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}var fc=/alpha\([^)]*\)/i,Gd=/opacity=([^)]*)/,Td=/([A-Z]|^ms)/g,Pc=/^-?\d+(?:px)?$/i,Zd=/^-?\d/,Kd=/^([\-+])=([\-+.\de]+)/,Id={position:Xb,visibility:P,display:"block"},zd=["Left","Right"],vd=["Top","Bottom"],Ab,mc,tc;a.fn.css=function(d,c){return arguments.length===2&&c===h?this:a.access(this,d,c,b,function(c,d,b){return b!==h?a.style(c,d,b):a.css(c,d)})};a.extend({cssHooks:{opacity:{"get":function(a,c){if(c){var b=Ab(a,ab,ab);return b===d?"1":b}else return a.style.opacity}}},cssNumber:{fillOpacity:b,fontWeight:b,lineHeight:b,opacity:b,orphans:b,widows:b,zIndex:b,zoom:b},cssProps:{"float":a.support.cssFloat?Yb:"styleFloat"},style:function(d,i,b,n){if(!d||d.nodeType===3||d.nodeType===8||!d.style)return;var k,j,l=a.camelCase(i),m=d.style,g=a.cssHooks[l];i=a.cssProps[l]||l;if(b!==h){j=typeof b;if(j===f&&(k=Kd.exec(b))){b=+(k[1]+1)*+k[2]+parseFloat(a.css(d,i));j=r}if(b==c||j===r&&isNaN(b))return;if(j===r&&!a.cssNumber[l])b+=s;if(!g||!(X in g)||(b=g.set(d,b))!==h)try{m[i]=b}catch(o){}}else return g&&N in g&&(k=g.get(d,e,n))!==h?k:m[i]},css:function(e,c,g){var f,d;c=a.camelCase(c);d=a.cssHooks[c];c=a.cssProps[c]||c;if(c===Yb)c="float";return d&&N in d&&(f=d.get(e,b,g))!==h?f:Ab?Ab(e,c):void 0},swap:function(b,c,e){var d={};for(var a in c){d[a]=b.style[a];b.style[a]=c[a]}e.call(b);for(a in c)b.style[a]=d[a]}});a.curCSS=a.css;a.each([S,C],function(c,b){a.cssHooks[b]={"get":function(c,f,d){var e;if(f){if(c.offsetWidth!==0)return Sc(c,b,d);else a.swap(c,Id,function(){e=Sc(c,b,d)});return e}},"set":function(b,a){if(Pc.test(a)){a=parseFloat(a);if(a>=0)return a+s}else return a}}});if(!a.support.opacity)a.cssHooks.opacity={"get":function(a,b){return Gd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||d)?parseFloat(RegExp.$1)/100+d:b?"1":d},"set":function(i,f){var e=i.style,b=i.currentStyle,h=a.isNumeric(f)?"alpha(opacity="+f*100+")":d,c=b&&b.filter||e.filter||d;e.zoom=1;if(f>=1&&a.trim(c.replace(fc,d))===d){e.removeAttribute("filter");if(b&&!b.filter)return}e.filter=fc.test(c)?c.replace(fc,h):c+g+h}};a(function(){if(!a.support.reliableMarginRight)a.cssHooks.marginRight={"get":function(b,d){var c;a.swap(b,{display:wb},function(){if(d)c=Ab(b,"margin-right",Db);else c=b.style.marginRight});return c}}});if(i.defaultView&&i.defaultView.getComputedStyle)mc=function(b,e){var f,h,g;e=e.replace(Td,"-$1").toLowerCase();if((h=b.ownerDocument.defaultView)&&(g=h.getComputedStyle(b,c))){f=g.getPropertyValue(e);if(f===d&&!a.contains(b.ownerDocument.documentElement,b))f=a.style(b,e)}return f};if(i.documentElement.currentStyle)tc=function(a,g){var i,f,h,b=a.currentStyle&&a.currentStyle[g],e=a.style;if(b===c&&e&&(h=e[g]))b=h;if(!Pc.test(b)&&Zd.test(b)){i=e.left;f=a.runtimeStyle&&a.runtimeStyle.left;if(f)a.runtimeStyle.left=a.currentStyle.left;e.left=g==="fontSize"?"1em":b||0;b=e.pixelLeft+s;e.left=i;if(f)a.runtimeStyle.left=f}return b===d?Y:b};Ab=mc||tc;function Sc(d,h,f){var b=h===C?d.offsetWidth:d.offsetHeight,g=h===C?zd:vd,e=0,i=g.length;if(b>0){if(f!==bb)for(;e<i;e++){if(!f)b-=parseFloat(a.css(d,cb+g[e]))||0;if(f===pb)b+=parseFloat(a.css(d,f+g[e]))||0;else b-=parseFloat(a.css(d,bb+g[e]+Eb))||0}return b+s}b=Ab(d,h,h);if(b<0||b==c)b=d.style[h]||0;b=parseFloat(b)||0;if(f)for(;e<i;e++){b+=parseFloat(a.css(d,cb+g[e]))||0;if(f!==cb)b+=parseFloat(a.css(d,bb+g[e]+Eb))||0;if(f===pb)b+=parseFloat(a.css(d,f+g[e]))||0}return b+s}if(a.expr&&a.expr.filters){a.expr.filters.hidden=function(b){var d=b.offsetWidth,c=b.offsetHeight;return d===0&&c===0||!a.support.reliableHiddenOffsets&&(b.style&&b.style.display||a.css(b,H))===u};a.expr.filters.visible=function(b){return!a.expr.filters.hidden(b)}}var ce=/%20/g,Cd=/\[\]$/,Tc=/\r?\n/g,Ud=/#.*$/,Ed=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Pd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,cd=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,ud=/^(?:GET|HEAD)$/,yd=/^\/\//,Qc=/\?/,Md=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bd=/^(?:select|textarea)/i,zc=/\s+/,de=/([?&])_=[^&]*/,Wc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Vc=a.fn.load,cc={},Dc={},rb,sb,Hc=["*/"]+[j];try{rb=Bd.href}catch(ee){rb=i.createElement("a");rb.href=d;rb=rb.href}sb=Wc.exec(rb.toLowerCase())||[];function gc(b){return function(d,g){if(typeof d!==f){g=d;d=j}if(a.isFunction(g))for(var i=d.toLowerCase().split(zc),h=0,l=i.length,c,k,e;h<l;h++){c=i[h];e=/^\+/.test(c);if(e)c=c.substr(1)||j;k=b[c]=b[c]||[];k[e?"unshift":"push"](g)}}}function Jb(e,d,i,l,g,c){g=g||d.dataTypes[0];c=c||{};c[g]=b;for(var m=e[g],n=0,o=m?m.length:0,k=e===cc,a;n<o&&(k||!a);n++){a=m[n](d,i,l);if(typeof a===f)if(!k||c[a])a=h;else{d.dataTypes.unshift(a);a=Jb(e,d,i,l,a,c)}}if((k||!a)&&!c[j])a=Jb(e,d,i,l,j,c);return a}function Ac(f,e){var c,d,g=a.ajaxSettings.flatOptions||{};for(c in e)if(e[c]!==h)(g[c]?f:d||(d={}))[c]=e[c];d&&a.extend(b,f,d)}a.fn.extend({load:function(c,b,i){var e=this;if(typeof c!==f&&Vc)return Vc.apply(e,arguments);else if(!e.length)return e;var j=c.indexOf(g);if(j>=0){var k=c.slice(j,c.length);c=c.slice(0,j)}var n="GET";if(b)if(a.isFunction(b)){i=b;b=h}else if(typeof b===m){b=a.param(b,a.ajaxSettings.traditional);n="POST"}var l=e;a.ajax({url:c,type:n,dataType:"html",data:b,complete:function(c,e,b){b=c.responseText;if(c.isResolved()){c.done(function(a){b=a});l.html(k?a("<div>").append(b.replace(Md,d)).find(k):b)}i&&l.each(i,[b,e,c])}});return e},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){var a=this;return a.name&&!a.disabled&&(a.checked||bd.test(a.nodeName)||Pd.test(a.type))}).map(function(e,d){var b=a(this).val();return b==c?c:a.isArray(b)?a.map(b,function(a){return{name:d.name,value:a.replace(Tc,"\r\n")}}):{name:d.name,value:b.replace(Tc,"\r\n")}}).get()}});a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(g),function(c,b){a.fn[b]=function(a){return this.on(b,a)}});a.each([N,"post"],function(c,b){a[b]=function(f,c,d,e){if(a.isFunction(c)){e=e||d;d=c;c=h}return a.ajax({type:b,url:f,data:c,success:d,dataType:e})}});a.extend({getScript:function(c,b){return a.get(c,h,b,v)},getJSON:function(d,c,b){return a.get(d,c,b,"json")},ajaxSetup:function(b,c){if(c)Ac(b,a.ajaxSettings);else{c=b;b=a.ajaxSettings}Ac(b,c);return b},ajaxSettings:{url:rb,isLocal:cd.test(sb[1]),global:b,type:"GET",contentType:Zb,processData:b,async:b,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Hc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":o.String,"text html":b,"text json":a.parseJSON,"text xml":a.parseXML},flatOptions:{context:b,url:b}},ajaxPrefilter:gc(cc),ajaxTransport:gc(Dc),ajax:function(x,p){if(typeof x===m){p=x;x=h}p=p||{};var g=a.ajaxSetup({},p),o=g.context||g,z=o!==g&&(o.nodeType||o instanceof a)?a(o):a.event,B=a.Deferred(),D=a.Callbacks(M),v=g.statusCode||{},n,E={},C={},y,u,q,A,r,l=0,t,s,i={readyState:0,setRequestHeader:function(a,c){if(!l){var b=a.toLowerCase();a=C[b]=C[b]||a;E[a]=c}return this},getAllResponseHeaders:function(){return l===2?y:c},getResponseHeader:function(b){var a;if(l===2){if(!u){u={};while(a=Ed.exec(y))u[a[1].toLowerCase()]=a[2]}a=u[b.toLowerCase()]}return a===h?c:a},overrideMimeType:function(a){if(!l)g.mimeType=a;return this},abort:function(a){a=a||"abort";q&&q.abort(a);w(0,a);return this}};function w(e,m,r,w){if(l===2)return;l=2;A&&clearTimeout(A);q=h;y=w||d;i.readyState=e>0?4:0;var f,k,j,c=m,u=r?Yc(g,i,r):h,p,s;if(e>=200&&e<300||e===304){if(g.ifModified){if(p=i.getResponseHeader("Last-Modified"))a.lastModified[n]=p;if(s=i.getResponseHeader("Etag"))a.etag[n]=s}if(e===304){c="notmodified";f=b}else try{k=jd(g,u);c="success";f=b}catch(x){c=kb;j=x}}else{j=c;if(!c||e){c="error";if(e<0)e=0}}i.status=e;i.statusText=d+(m||c);if(f)B.resolveWith(o,[k,c,i]);else B.rejectWith(o,[i,c,j]);i.statusCode(v);v=h;t&&z.trigger("ajax"+(f?"Success":"Error"),[i,g,f?k:j]);D.fireWith(o,[i,c]);if(t){z.trigger("ajaxComplete",[i,g]);!--a.active&&a.event.trigger("ajaxStop")}}B.promise(i);i.success=i.done;i.error=i.fail;i.complete=D.add;i.statusCode=function(b){if(b){var a;if(l<2)for(a in b)v[a]=[v[a],b[a]];else{a=b[i.status];i.then(a,a)}}return this};g.url=((x||g.url)+d).replace(Ud,d).replace(yd,sb[1]+"//");g.dataTypes=a.trim(g.dataType||j).toLowerCase().split(zc);if(g.crossDomain==c){r=Wc.exec(g.url.toLowerCase());g.crossDomain=!!(r&&(r[1]!=sb[1]||r[2]!=sb[2]||(r[3]||(r[1]==="http:"?80:443))!=(sb[3]||(sb[1]==="http:"?80:443))))}if(g.data&&g.processData&&typeof g.data!==f)g.data=a.param(g.data,g.traditional);Jb(cc,g,p,i);if(l===2)return e;t=g.global;g.type=g.type.toUpperCase();g.hasContent=!ud.test(g.type);t&&a.active++===0&&a.event.trigger("ajaxStart");if(!g.hasContent){if(g.data){g.url+=(Qc.test(g.url)?"&":"?")+g.data;delete g.data}n=g.url;if(g.cache===e){var G=a.now(),F=g.url.replace(de,"$1_="+G);g.url=F+(F===g.url?(Qc.test(g.url)?"&":"?")+"_="+G:d)}}(g.data&&g.hasContent&&g.contentType!==e||p.contentType)&&i.setRequestHeader("Content-Type",g.contentType);if(g.ifModified){n=n||g.url;a.lastModified[n]&&i.setRequestHeader("If-Modified-Since",a.lastModified[n]);a.etag[n]&&i.setRequestHeader("If-None-Match",a.etag[n])}i.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!==j?", "+Hc+"; q=0.01":d):g.accepts[j]);for(s in g.headers)i.setRequestHeader(s,g.headers[s]);if(g.beforeSend&&(g.beforeSend.call(o,i,g)===e||l===2)){i.abort();return e}for(s in{success:1,error:1,complete:1})i[s](g[s]);q=Jb(Dc,g,p,i);if(!q)w(k,"No Transport");else{i.readyState=1;t&&z.trigger("ajaxSend",[i,g]);if(g.async&&g.timeout>0)A=setTimeout(function(){i.abort("timeout")},g.timeout);try{l=1;q.send(E,w)}catch(H){if(l<2)w(k,H);else throw H;}}return i},param:function(b,c){var d=[],f=function(c,b){b=a.isFunction(b)?b():b;d[d.length]=encodeURIComponent(c)+"="+encodeURIComponent(b)};if(c===h)c=a.ajaxSettings.traditional;if(a.isArray(b)||b.jquery&&!a.isPlainObject(b))a.each(b,function(){f(this.name,this.value)});else for(var e in b)ac(e,b[e],c,f);return d.join("&").replace(ce,"+")}});function ac(e,b,f,g){if(a.isArray(b))a.each(b,function(c,b){if(f||Cd.test(e))g(e,b);else ac(e+"["+(typeof b===m||a.isArray(b)?c:d)+"]",b,f,g)});else if(!f&&b!=c&&typeof b===m)for(var h in b)ac(e+"["+h+"]",b[h],f,g);else g(e,b)}a.extend({active:0,lastModified:{},etag:{}});function Yc(e,m,d){var k=e.contents,b=e.dataTypes,l=e.responseFields,f,a,c,i;for(a in l)if(a in d)m[l[a]]=d[a];while(b[0]===j){b.shift();if(f===h)f=e.mimeType||m.getResponseHeader("content-type")}if(f)for(a in k)if(k[a]&&k[a].test(f)){b.unshift(a);break}if(b[0]in d)c=b[0];else{for(a in d){if(!b[0]||e.converters[a+g+b[0]]){c=a;break}if(!i)i=a}c=c||i}if(c){c!==b[0]&&b.unshift(c);return d[c]}}function jd(n,l){if(n.dataFilter)l=n.dataFilter(l,n.dataType);for(var s=n.dataTypes,k={},o,t=s.length,p,c=s[0],m,r,d,e,i,q=1;q<t;q++){if(q===1)for(o in n.converters)if(typeof o===f)k[o.toLowerCase()]=n.converters[o];m=c;c=s[q];if(c===j)c=m;else if(m!==j&&m!==c){r=m+g+c;d=k[r]||k["* "+c];if(!d){i=h;for(e in k){p=e.split(g);if(p[0]===m||p[0]===j){i=k[p[1]+g+c];if(i){e=k[e];if(e===b)d=i;else if(i===b)d=e;break}}}}!(d||i)&&a.error("No conversion from "+r.replace(g," to "));if(d!==b)l=d?d(l):i(e(l))}}return l}var be=a.now(),Rb=/(\=)\?(&|$)|\?\?/i;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return a.expando+"_"+be++}});a.ajaxPrefilter("json jsonp",function(b,m,l){var i=b.contentType===Zb&&typeof b.data===f;if(b.dataTypes[0]==="jsonp"||b.jsonp!==e&&(Rb.test(b.url)||i&&Rb.test(b.data))){var g,c=b.jsonpCallback=a.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,j=o[c],d=b.url,h=b.data,k="$1"+c+"$2";if(b.jsonp!==e){d=d.replace(Rb,k);if(b.url===d){if(i)h=h.replace(Rb,k);if(b.data===h)d+=(/\?/.test(d)?"&":"?")+b.jsonp+"="+c}}b.url=d;b.data=h;o[c]=function(a){g=[a]};l.always(function(){o[c]=j;g&&a.isFunction(j)&&o[c](g[0])});b.converters["script json"]=function(){!g&&a.error(c+" was not called");return g[0]};b.dataTypes[0]="json";return v}});a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){a.globalEval(b);return b}}});a.ajaxPrefilter(v,function(a){if(a.cache===h)a.cache=e;if(a.crossDomain){a.type="GET";a.global=e}});a.ajaxTransport(v,function(d){if(d.crossDomain){var a,b=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(f,e){a=i.createElement(v);a.async="async";if(d.scriptCharset)a.charset=d.scriptCharset;a.src=d.url;a.onload=a.onreadystatechange=function(f,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState)){a.onload=a.onreadystatechange=c;b&&a.parentNode&&b.removeChild(a);a=h;!d&&e(200,"success")}};b.insertBefore(a,b.firstChild)},abort:function(){if(a)a.onload(0,1)}}}});var Ub=o.ActiveXObject?function(){for(var a in xb)xb[a](0,1)}:e,Yd=0,xb;function kc(){try{return new o.XMLHttpRequest}catch(a){}}function ad(){try{return new o.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.ajaxSettings.xhr=o.ActiveXObject?function(){return!this.isLocal&&kc()||ad()}:kc;(function(b){a.extend(a.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(a.ajaxSettings.xhr());a.support.ajax&&a.ajaxTransport(function(b){if(!b.crossDomain||a.support.cors){var e;return{send:function(j,m){var g="X-Requested-With",f=b.xhr(),l,i;if(b.username)f.open(b.type,b.url,b.async,b.username,b.password);else f.open(b.type,b.url,b.async);if(b.xhrFields)for(i in b.xhrFields)f[i]=b.xhrFields[i];b.mimeType&&f.overrideMimeType&&f.overrideMimeType(b.mimeType);if(!b.crossDomain&&!j[g])j[g]="XMLHttpRequest";try{for(i in j)f.setRequestHeader(i,j[i])}catch(n){}f.send(b.hasContent&&b.data||c);e=function(r,n){var g,j,o,c,i;try{if(e&&(n||f.readyState===4)){e=h;if(l){f.onreadystatechange=a.noop;if(Ub)delete xb[l]}if(n)f.readyState!==4&&f.abort();else{g=f.status;o=f.getAllResponseHeaders();c={};i=f.responseXML;if(i&&i.documentElement)c.xml=i;c.text=f.responseText;try{j=f.statusText}catch(q){j=d}if(!g&&b.isLocal&&!b.crossDomain)g=c.text?200:404;else if(g===1223)g=204}}}catch(p){!n&&m(k,p)}c&&m(g,j,c,o)};if(!b.async||f.readyState===4)e();else{l=++Yd;if(Ub){if(!xb){xb={};a(o).unload(Ub)}xb[l]=e}f.onreadystatechange=e}},abort:function(){e&&e(0,1)}}}});var bc={},U,zb,Dd=/^(?:toggle|show|hide)$/,Od=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Nb,Nc=[[S,Fb,"marginBottom","paddingTop","paddingBottom"],[C,Gb,Db,"paddingLeft","paddingRight"],[ab]],Qb;a.fn.extend({show:function(g,j,i){var f=this,b,c;if(g||g===0)return f.animate(Bb(x,3),g,j,i);else{for(var e=0,h=f.length;e<h;e++){b=f[e];if(b.style){c=b.style.display;if(!a._data(b,T)&&c===u)c=b.style.display=d;c===d&&a.css(b,H)===u&&a._data(b,T,pc(b.nodeName))}}for(e=0;e<h;e++){b=f[e];if(b.style){c=b.style.display;if(c===d||c===u)b.style.display=a._data(b,T)||d}}return f}},hide:function(f,i,h){var c=this;if(f||f===0)return c.animate(Bb(A,3),f,i,h);else{for(var d,e,b=0,g=c.length;b<g;b++){d=c[b];if(d.style){e=a.css(d,H);e!==u&&!a._data(d,T)&&a._data(d,T,e)}}for(b=0;b<g;b++)if(c[b].style)c[b].style.display=u;return c}},_toggle:a.fn.toggle,toggle:function(d,f,g){var b=this,e=typeof d===J;if(a.isFunction(d)&&a.isFunction(f))b._toggle.apply(b,arguments);else if(d==c||e)b.each(function(){var b=e?d:a(this).is(hb);a(this)[b?x:A]()});else b.animate(Bb(B,3),d,f,g);return b},fadeTo:function(c,d,b,a){return this.filter(hb).css(ab,0).show().end().animate({opacity:d},c,b,a)},animate:function(f,l,j,i){var g=a.speed(l,j,i);if(a.isEmptyObject(f))return this.each(g.complete,[e]);f=a.extend({},f);function h(){var h=this;g.queue===e&&a._mark(h);var m=a.extend({},g),w=h.nodeType===1,v=w&&a(h).is(hb),l,i,j,o,p,n,q,r,t;m.animatedProperties={};for(j in f){l=a.camelCase(j);if(j!==l){f[l]=f[j];delete f[j]}i=f[l];if(a.isArray(i)){m.animatedProperties[l]=i[1];i=f[l]=i[0]}else m.animatedProperties[l]=m.specialEasing&&m.specialEasing[l]||m.easing||"swing";if(i===A&&v||i===x&&!v)return m.complete.call(h);if(w&&(l===S||l===C)){m.overflow=[h.style.overflow,h.style.overflowX,h.style.overflowY];if(a.css(h,H)===V&&a.css(h,"float")===u)if(!a.support.inlineBlockNeedsLayout||pc(h.nodeName)===V)h.style.display=wb;else h.style.zoom=1}}if(m.overflow!=c)h.style.overflow=P;for(j in f){o=new a.fx(h,m,j);i=f[j];if(Dd.test(i)){t=a._data(h,B+j)||(i===B?v?x:A:0);if(t){a._data(h,B+j,t===x?A:x);o[t]()}else o[i]()}else{p=Od.exec(i);n=o.cur();if(p){q=parseFloat(p[2]);r=p[3]||(a.cssNumber[j]?d:s);if(r!==s){a.style(h,j,(q||1)+r);n=(q||1)/o.cur()*n;a.style(h,j,n+r)}if(p[1])q=(p[1]==="-="?k:1)*q+n;o.custom(n,q,r)}else o.custom(n,i,d)}}return b}return g.queue===e?this.each(h):this.queue(g.queue,h)},stop:function(d,i,g){if(typeof d!==f){g=i;i=d;d=h}i&&d!==e&&this.queue(d||t,[]);return this.each(function(){var j=this,f,k=e,i=a.timers,h=a._data(j);!g&&a._unmark(b,j);function l(f,e,c){var d=e[c];a.removeData(f,c,b);d.stop(g)}if(d==c)for(f in h)h[f]&&h[f].stop&&f.indexOf(R)===f.length-4&&l(j,h,f);else h[f=d+R]&&h[f].stop&&l(j,h,f);for(f=i.length;f--;)if(i[f].elem===j&&(d==c||i[f].queue===d)){if(g)i[f](b);else i[f].saveState();k=b;i.splice(f,1)}!(g&&k)&&a.dequeue(j,d)})}});function xc(){setTimeout(nd,0);return Qb=a.now()}function nd(){Qb=h}function Bb(c,d){var b={};a.each(Nc.concat.apply([],Nc.slice(0,d)),function(){b[this]=c});return b}a.each({slideDown:Bb(x,1),slideUp:Bb(A,1),slideToggle:Bb(B,1),fadeIn:{opacity:x},fadeOut:{opacity:A},fadeToggle:{opacity:B}},function(c,b){a.fn[c]=function(d,c,a){return this.animate(b,d,c,a)}});a.extend({speed:function(f,g,h){var d=f&&typeof f===m?a.extend({},f):{complete:h||!h&&g||a.isFunction(f)&&f,duration:f,easing:h&&g||g&&!a.isFunction(g)&&g};d.duration=a.fx.off?0:typeof d.duration===r?d.duration:d.duration in a.fx.speeds?a.fx.speeds[d.duration]:a.fx.speeds._default;if(d.queue==c||d.queue===b)d.queue=t;d.old=d.complete;d.complete=function(b){a.isFunction(d.old)&&d.old.call(this);if(d.queue)a.dequeue(this,d.queue);else b!==e&&a._unmark(this)};return d},easing:{linear:function(c,d,a,b){return a+b*c},swing:function(c,d,a,b){return(-Math.cos(c*Math.PI)/2+.5)*b+a}},timers:[],fx:function(b,a,c){this.options=a;this.elem=b;this.prop=c;a.orig=a.orig||{}}});a.fx.prototype={update:function(){var b=this;b.options.step&&b.options.step.call(b.elem,b.now,b);(a.fx.step[b.prop]||a.fx.step._default)(b)},cur:function(){var b=this;if(b.elem[b.prop]!=c&&(!b.elem.style||b.elem.style[b.prop]==c))return b.elem[b.prop];var e,d=a.css(b.elem,b.prop);return isNaN(e=parseFloat(d))?!d||d===Y?0:d:e},custom:function(g,j,i){var b=this,c=b,f=a.fx;b.startTime=Qb||xc();b.end=j;b.now=b.start=g;b.pos=b.state=0;b.unit=i||b.unit||(a.cssNumber[b.prop]?d:s);function e(a){return c.step(a)}e.queue=b.options.queue;e.elem=b.elem;e.saveState=function(){c.options.hide&&a._data(c.elem,L+c.prop)===h&&a._data(c.elem,L+c.prop,c.start)};if(e()&&a.timers.push(e)&&!Nb)Nb=setInterval(f.tick,f.interval)},show:function(){var c=this,d=a._data(c.elem,L+c.prop);c.options.orig[c.prop]=d||a.style(c.elem,c.prop);c.options.show=b;if(d!==h)c.custom(c.cur(),d);else c.custom(c.prop===C||c.prop===S?1:0,c.cur());a(c.elem).show()},hide:function(){var c=this;c.options.orig[c.prop]=a._data(c.elem,L+c.prop)||a.style(c.elem,c.prop);c.options.hide=b;c.custom(c.cur(),0)},step:function(n){var f=this,h,k,j,l=Qb||xc(),m=b,i=f.elem,g=f.options;if(n||l>=g.duration+f.startTime){f.now=f.end;f.pos=f.state=1;f.update();g.animatedProperties[f.prop]=b;for(h in g.animatedProperties)if(g.animatedProperties[h]!==b)m=e;if(m){g.overflow!=c&&!a.support.shrinkWrapBlocks&&a.each([d,"X","Y"],function(a,b){i.style["overflow"+b]=g.overflow[a]});g.hide&&a(i).hide();if(g.hide||g.show)for(h in g.animatedProperties){a.style(i,h,g.orig[h]);a.removeData(i,L+h,b);a.removeData(i,B+h,b)}j=g.complete;if(j){g.complete=e;j.call(i)}}return e}else{if(g.duration==Infinity)f.now=l;else{k=l-f.startTime;f.state=k/g.duration;f.pos=a.easing[g.animatedProperties[f.prop]](f.state,k,0,1,g.duration);f.now=f.start+(f.end-f.start)*f.pos}f.update()}return b}};a.extend(a.fx,{tick:function(){for(var d,b=a.timers,c=0;c<b.length;c++){d=b[c];!d()&&b[c]===d&&b.splice(c--,1)}!b.length&&a.fx.stop()},interval:13,stop:function(){clearInterval(Nb);Nb=c},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){a.style(b.elem,ab,b.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=c)a.elem.style[a.prop]=a.now+a.unit;else a.elem[a.prop]=a.now}}});a.each([C,S],function(c,b){a.fx.step[b]=function(c){a.style(c.elem,b,Math.max(0,c.now)+c.unit)}});if(a.expr&&a.expr.filters)a.expr.filters.animated=function(b){return a.grep(a.timers,function(a){return b===a.elem}).length};function pc(b){if(!bc[b]){var f=i.body,c=a("<"+b+">").appendTo(f),e=c.css(H);c.remove();if(e===u||e===d){if(!U){U=i.createElement("iframe");U.frameBorder=U.width=U.height=0}f.appendChild(U);if(!zb||!U.createElement){zb=(U.contentWindow||U.contentDocument).document;zb.write((i.compatMode===Hb?"<!doctype html>":d)+"<html><body>");zb.close()}c=zb.createElement(b);zb.body.appendChild(c);e=a.css(c,H);f.removeChild(U)}bc[b]=e}return bc[b]}var Qd=/^t(?:able|d|h)$/i,Uc=/^(?:body|html)$/i;if("getBoundingClientRect"in i.documentElement)a.fn.offset=function(h){var b=this[0],d;if(h)return this.each(function(b){a.offset.setOffset(this,h,b)});if(!b||!b.ownerDocument)return c;if(b===b.ownerDocument.body)return a.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(p){}var g=b.ownerDocument,e=g.documentElement;if(!d||!a.contains(e,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var f=g.body,i=ec(g),l=e.clientTop||f.clientTop||0,j=e.clientLeft||f.clientLeft||0,m=i.pageYOffset||a.support.boxModel&&e.scrollTop||f.scrollTop,k=i.pageXOffset||a.support.boxModel&&e.scrollLeft||f.scrollLeft,o=d.top+m-l,n=d.left+k-j;return{top:o,left:n}};else a.fn.offset=function(m){var b=this[0];if(m)return this.each(function(b){a.offset.setOffset(this,m,b)});if(!b||!b.ownerDocument)return c;if(b===b.ownerDocument.body)return a.offset.bodyOffset(b);var d,j=b.offsetParent,n=b,l=b.ownerDocument,k=l.documentElement,h=l.body,i=l.defaultView,g=i?i.getComputedStyle(b,c):b.currentStyle,f=b.offsetTop,e=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==k){if(a.support.fixedPosition&&g.position===W)break;d=i?i.getComputedStyle(b,c):b.currentStyle;f-=b.scrollTop;e-=b.scrollLeft;if(b===j){f+=b.offsetTop;e+=b.offsetLeft;if(a.support.doesNotAddBorder&&!(a.support.doesAddBorderForTableAndCells&&Qd.test(b.nodeName))){f+=parseFloat(d.borderTopWidth)||0;e+=parseFloat(d.borderLeftWidth)||0}n=j;j=b.offsetParent}if(a.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){f+=parseFloat(d.borderTopWidth)||0;e+=parseFloat(d.borderLeftWidth)||0}g=d}if(g.position===mb||g.position===qb){f+=h.offsetTop;e+=h.offsetLeft}if(a.support.fixedPosition&&g.position===W){f+=Math.max(k.scrollTop,h.scrollTop);e+=Math.max(k.scrollLeft,h.scrollLeft)}return{top:f,left:e}};a.offset={bodyOffset:function(b){var d=b.offsetTop,c=b.offsetLeft;if(a.support.doesNotIncludeMarginInBodyOffset){d+=parseFloat(a.css(b,Fb))||0;c+=parseFloat(a.css(b,Gb))||0}return{top:d,left:c}},setOffset:function(d,b,p){var h=a.css(d,Ib);if(h===qb)d.style.position=mb;var i=a(d),g=i.offset(),n=a.css(d,"top"),m=a.css(d,"left"),o=(h===Xb||h===W)&&a.inArray(Y,[n,m])>k,e={},f={},l,j;if(o){f=i.position();l=f.top;j=f.left}else{l=parseFloat(n)||0;j=parseFloat(m)||0}if(a.isFunction(b))b=b.call(d,p,g);if(b.top!=c)e.top=b.top-g.top+l;if(b.left!=c)e.left=b.left-g.left+j;if("using"in b)b.using.call(d,e);else i.css(e)}};a.fn.extend({position:function(){var f=this;if(!f[0])return c;var g=f[0],b=f.offsetParent(),e=f.offset(),d=Uc.test(b[0].nodeName)?{top:0,left:0}:b.offset();e.top-=parseFloat(a.css(g,Fb))||0;e.left-=parseFloat(a.css(g,Gb))||0;d.top+=parseFloat(a.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(a.css(b[0],"borderLeftWidth"))||0;return{top:e.top-d.top,left:e.left-d.left}},offsetParent:function(){return this.map(function(){var b=this.offsetParent||i.body;while(b&&(!Uc.test(b.nodeName)&&a.css(b,Ib)===qb))b=b.offsetParent;return b})}});a.each(["Left","Top"],function(d,e){var b=ib+e;a.fn[b]=function(i){var f="pageXOffset",g,e;if(i===h){g=this[0];if(!g)return c;e=ec(g);return e?f in e?e[d?"pageYOffset":f]:a.support.boxModel&&e.document.documentElement[b]||e.document.body[b]:g[b]}return this.each(function(){e=ec(this);if(e)e.scrollTo(!d?i:a(e).scrollLeft(),d?i:a(e).scrollTop());else this[b]=i})}});function ec(b){return a.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:e}a.each(["Height",Eb],function(e,b){var d=b.toLowerCase();a.fn["inner"+b]=function(){var b=this[0];return b?b.style?parseFloat(a.css(b,d,cb)):this[d]():c};a.fn["outer"+b]=function(e){var b=this[0];return b?b.style?parseFloat(a.css(b,d,e?pb:bb)):this[d]():c};a.fn[d]=function(i){var g="client",j=this,e=j[0];if(!e)return i==c?c:j;if(a.isFunction(i))return j.each(function(c){var b=a(this);b[d](i.call(this,c,b[d]()))});if(a.isWindow(e)){var k=e.document.documentElement[g+b],l=e.document.body;return e.document.compatMode===Hb&&k||l&&l[g+b]||k}else if(e.nodeType===9)return Math.max(e.documentElement[g+b],e.body[ib+b],e.documentElement[ib+b],e.body["offset"+b],e.documentElement["offset"+b]);else if(i===h){var m=a.css(e,d),n=parseFloat(m);return a.isNumeric(n)?n:m}else return j.css(d,typeof i===f?i:i+s)}});o.jQuery=o.$=a;typeof define===z&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return a})})(window);
/*
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(a){var g="null",e="string",c="tmplItem",b=null,v=a.fn.domManip,h="_tmplitem",u=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,d={},j={},i,t={key:0,data:{}},m=0,f=0,p=[];function k(g,e,h,f){var c={data:f||(f===0||f===false)?f:e?e.data:{},_wrap:e?e._wrap:b,tmpl:b,parent:e||b,nodes:[],calls:y,nest:A,wrap:B,html:z,update:x};g&&a.extend(c,g,{nodes:[],parent:e});if(h){c.tmpl=h;c._ctnt=c._ctnt||c.tmpl(a,c);c.key=++m;(p.length?j:d)[m]=c}return c}a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,c){a.fn[e]=function(p){var g=this,h=[],k=a(p),m,j,o,n,l=g.length===1&&g[0].parentNode;i=d||{};if(l&&l.nodeType===11&&l.childNodes.length===1&&k.length===1){k[c](g[0]);h=g}else{for(j=0,o=k.length;j<o;j++){f=j;m=(j>0?g.clone(true):g).get();a(k[j])[c](m);h=h.concat(m)}f=0;h=g.pushStack(h,e,k.selector)}n=i;i=b;a.tmpl.complete(n);return h}});a.fn.extend({tmpl:function(d,c,b){return a.tmpl(this[0],d,c,b)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(b,n,l){if(b[0]&&a.isArray(b[0])){var g=a.makeArray(arguments),h=b[0],k=h.length,j=0,e;while(j<k&&!(e=a.data(h[j++],c)));if(e&&f)g[2]=function(b){a.tmpl.afterManip(this,b,l)};v.apply(this,g)}else v.apply(this,arguments);f=0;!i&&a.tmpl.complete(d);return this}});a.extend({tmpl:function(e,g,f,c){var h,i=!c;if(i){c=t;e=a.template[e]||a.template(b,e);j={}}else if(!e){e=c.tmpl;d[c.key]=c;c.nodes=[];c.wrapped&&r(c,c.wrapped);return a(n(c,b,c.tmpl(a,c)))}if(!e)return[];if(typeof g==="function")g=g.call(c||{});f&&f.wrapped&&r(f,f.wrapped);h=a.isArray(g)?a.map(g,function(a){return a?k(f,c,e,a):b}):[k(f,c,e,g)];return i?a(n(c,b,h)):h},tmplItem:function(b){var d;if(b instanceof a)b=b[0];while(b&&b.nodeType===1&&!(d=a.data(b,c))&&(b=b.parentNode));return d||t},template:function(d,c){if(c){if(typeof c===e)c=s(c);else if(c instanceof a)c=c[0]||{};if(c.nodeType)c=a.data(c,"tmpl")||a.data(c,"tmpl",s(c.innerHTML));return typeof d===e?(a.template[d]=c):c}return d?typeof d!==e?a.template(b,d):a.template[d]||a.template(b,u.test(d)?d:a(d)):b},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:g},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:g},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){d={}},afterManip:function(e,b,c){var d=b.nodeType===11?a.makeArray(b.childNodes):b.nodeType===1?[b]:[];c.call(e,b);q(d);f++}});function n(d,g,f){var b,c=f?a.map(f,function(a){return typeof a===e?d.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+h+'="'+d.key+'" $2'):a:n(a,d,a._ctnt)}):d;if(g)return c;c=c.join("");c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,c,e,d){b=a(e).get();q(b);if(c)b=o(c).concat(b);if(d)b=b.concat(o(d))});return b?b:o(c)}function o(c){var b=document.createElement("div");b.innerHTML=c;return a.makeArray(b.childNodes)}function s(b){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(n,m,k,h,b,c,d){var j=a.tmpl.tag[k],i,e,f;if(!j)throw"Unknown template tag: "+k;i=j._default||[];if(c&&!/\w$/.test(b)){b+=c;c=""}if(b){b=l(b);d=d?","+l(d)+")":c?")":"";e=c?b.indexOf(".")>-1?b+l(c):"("+b+").call($item"+d:b;f=c?e:"(typeof("+b+")==='function'?("+b+").call($item):("+b+"))"}else f=e=i.$1||g;h=l(h);return"');"+j[m?"close":"open"].split("$notnull_1").join(b?"typeof("+b+")!=='undefined' && ("+b+")!=null":"true").split("$1a").join(f).split("$1").join(e).split("$2").join(h||i.$2||"")+"__.push('"})+"');}return __;")}function r(c,b){c._wrap=n(c,true,a.isArray(b)?b:[u.test(b)?b:a(b).html()]).join("")}function l(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):b}function w(b){var a=document.createElement("div");a.appendChild(b.cloneNode(true));return a.innerHTML}function q(p){var o="_"+f,i,g,l={},b,q,e;for(b=0,q=p.length;b<q;b++){if((i=p[b]).nodeType!==1)continue;g=i.getElementsByTagName("*");for(e=g.length-1;e>=0;e--)n(g[e]);n(i)}function n(g){var q,e=g,i,b,n;if(n=g.getAttribute(h)){while(e.parentNode&&(e=e.parentNode).nodeType===1&&!(q=e.getAttribute(h)));if(q!==n){e=e.parentNode?e.nodeType===11?0:e.getAttribute(h)||0:0;if(!(b=d[n])){b=j[n];b=k(b,d[e]||j[e]);b.key=++m;d[m]=b}f&&p(n)}g.removeAttribute(h)}else if(f&&(b=a.data(g,c))){p(b.key);d[b.key]=b;e=a.data(g.parentNode,c);e=e?e.key:0}if(b){i=b;while(i&&i.key!=e){i.nodes.push(g);i=i.parent}delete b._ctnt;delete b._wrap;a.data(g,c,b)}function p(a){a=a+o;b=l[a]=l[a]||k(b,d[b.parent.key+o]||b.parent)}}}function y(a,d,c,b){if(!a)return p.pop();p.push({_:a,tmpl:d,item:this,data:c,options:b})}function A(d,c,b){return a.tmpl(a.template(d),c,b,this)}function B(b,d){var c=b.options||{};c.wrapped=d;return a.tmpl(a.template(b.tmpl),b.data,c,b.item)}function z(d,c){var b=this._wrap;return a.map(a(a.isArray(b)?b.join(""):b).filter(d||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||w(a)})}function x(){var c=this.nodes;a.tmpl(b,b,b,this).insertBefore(c[0]);a(c).remove()}})(jQuery);
/*
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,h){var g="tabindex",b=true,e="Width",f=".ui-disableSelection",d="overflow",c="position";function i(b,d){var c=b.nodeName.toLowerCase();if("area"===c){d=b.parentNode;c=d.name;if(!b.href||!c||d.nodeName.toLowerCase()!=="map")return false;b=a("img[usemap=#"+c+"]")[0];return!!b&&j(b)}return(/input|select|textarea|button|object/.test(c)?!b.disabled:"a"==c?b.href||d:d)&&j(b)}function j(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b==="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus();c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var e="overflow-x",b="overflow-y",f=this,g;g=a.browser.msie&&/(static|relative)/.test(f.css(c))||/absolute/.test(f.css(c))?f.parents().filter(function(){var f=this;return/(relative|absolute|fixed)/.test(a.curCSS(f,c,1))&&/(auto|scroll)/.test(a.curCSS(f,d,1)+a.curCSS(f,b,1)+a.curCSS(f,e,1))}).eq(0):f.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,d,1)+a.curCSS(this,b,1)+a.curCSS(this,e,1))}).eq(0);return/fixed/.test(f.css(c))||!g.length?a(document):g},zIndex:function(b){if(b!==h)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var d;b.length&&b[0]!==document;){d=b.css(c);if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(b.css("zIndex"),10);if(!isNaN(d)&&d!==0)return d}b=b.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+f,function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(f)}});a.each([e,"Height"],function(j,c){function d(d,c,f,g){a.each(i,function(){c-=parseFloat(a.curCSS(d,"padding"+this,b))||0;if(f)c-=parseFloat(a.curCSS(d,"border"+this+e,b))||0;if(g)c-=parseFloat(a.curCSS(d,"margin"+this,b))||0});return c}var i=c===e?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return b===h?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})};a.fn["outer"+c]=function(e,h){return typeof e!=="number"?g["outer"+c].call(this,e):this.each(function(){a(this).css(f,d(this,e,b,h)+"px")})}});a.extend(a.expr[":"],{data:function(b,d,c){return!!a.data(b,c[3])},focusable:function(b){return i(b,!isNaN(a.attr(b,g)))},tabbable:function(b){var c=a.attr(b,g),d=isNaN(c);return(d||c>=0)&&i(b,!d)}});a(function(){var c=document.body,b=c.appendChild(b=document.createElement("div"));a.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=b.offsetHeight===100;a.support.selectstart="onselectstart"in b;c.removeChild(b).style.display="none"});a.extend(a.ui,{plugin:{add:function(b,e,d){b=a.ui[b].prototype;for(var c in d){b.plugins[c]=b.plugins[c]||[];b.plugins[c].push([e,d[c]])}},call:function(b,a,d){if((a=b.plugins[a])&&b.element[0].parentNode)for(var c=0;c<a.length;c++)b.options[a[c][0]]&&a[c][1].apply(b.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(e,c){if(a(e).css(d)==="hidden")return false;c=c&&c==="left"?"scrollLeft":"scrollTop";var f=false;if(e[c]>0)return b;e[c]=1;f=e[c]>0;e[c]=0;return f},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})}})(jQuery);
/*
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,g){var d="disabled",f="-disabled ui-state-disabled",e="aria-disabled",c=false,b=true;if(a.cleanData){var h=a.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!=null;c++)try{a(d).triggerHandler("remove")}catch(e){}h(b)}}else{var i=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){var d=this;if(!c)(!b||a.filter(b,[d]).length)&&a("*",d).add([d]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return i.call(a(d),b,c)})}}a.widget=function(c,e,f){var d=c.split(".")[0],g;c=c.split(".")[1];g=d+"-"+c;if(!f){f=e;e=a.Widget}a.expr[":"][g]=function(b){return!!a.data(b,c)};a[d]=a[d]||{};a[d][c]=function(b,a){arguments.length&&this._createWidget(b,a)};e=new e;e.options=a.extend(b,{},e.options);a[d][c].prototype=a.extend(b,e,{"namespace":d,widgetName:c,widgetEventPrefix:a[d][c].prototype.widgetEventPrefix||c,widgetBaseClass:g},f);a.widget.bridge(c,a[d][c])};a.widget.bridge=function(d,e){a.fn[d]=function(f){var h=typeof f==="string",i=Array.prototype.slice.call(arguments,1),j=this;f=!h&&i.length?a.extend.apply(null,[b,f].concat(i)):f;if(h&&f.charAt(0)==="_")return j;h?this.each(function(){var b=a.data(this,d),e=b&&a.isFunction(b[f])?b[f].apply(b,i):b;if(e!==b&&e!==g){j=e;return c}}):this.each(function(){var b=a.data(this,d);b?b.option(f||{})._init():a.data(this,d,new e(f,this))});return j}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:c},_createWidget:function(e,d){var c=this;a.data(d,c.widgetName,c);c.element=a(d);c.options=a.extend(b,{},c.options,c._getCreateOptions(),e);var f=c;c.element.bind("remove."+c.widgetName,function(){f.destroy()});c._create();c._trigger("create");c._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){var a=this;a.element.unbind("."+a.widgetName).removeData(a.widgetName);a.widget().unbind("."+a.widgetName).removeAttr(e).removeClass(a.widgetBaseClass+f)},widget:function(){return this.element},option:function(c,e){var b=this,d=c;if(arguments.length===0)return a.extend({},b.options);if(typeof c==="string"){if(e===g)return b.options[c];d={};d[c]=e}b._setOptions(d);return b},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(c,b){var a=this;a.options[c]=b;c===d&&a.widget()[b?"addClass":"removeClass"](a.widgetBaseClass+f).attr(e,b);return a},enable:function(){return this._setOption(d,c)},disable:function(){return this._setOption(d,b)},_trigger:function(d,b,f){var e=this,h=e.options[d];b=a.Event(b);b.type=(d===e.widgetEventPrefix?d:e.widgetEventPrefix+d).toLowerCase();f=f||{};if(b.originalEvent){d=a.event.props.length;for(var g;d;){g=a.event.props[--d];b[g]=b.originalEvent[g]}}e.element.trigger(b,f);return!(a.isFunction(h)&&h.call(e.element[0],b,f)===c||b.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(d){var f="mouseup.",e="mousemove.",c=".preventClickEvent",b=true,a=false,g=a;d(document).mouseup(function(){g=a});d.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this,f=e;e.element.bind("mousedown."+e.widgetName,function(a){return f._mouseDown(a)}).bind("click."+e.widgetName,function(e){if(b===d.data(e.target,f.widgetName+c)){d.removeData(e.target,f.widgetName+c);e.stopImmediatePropagation();return a}});e.started=a},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(i){var h=this;if(!g){h._mouseStarted&&h._mouseUp(i);h._mouseDownEvent=i;var j=h,k=i.which==1,l=typeof h.options.cancel=="string"&&i.target.nodeName?d(i.target).closest(h.options.cancel).length:a;if(!k||l||!h._mouseCapture(i))return b;h.mouseDelayMet=!h.options.delay;if(!h.mouseDelayMet)h._mouseDelayTimer=setTimeout(function(){j.mouseDelayMet=b},h.options.delay);if(h._mouseDistanceMet(i)&&h._mouseDelayMet(i)){h._mouseStarted=h._mouseStart(i)!==a;if(!h._mouseStarted){i.preventDefault();return b}}b===d.data(i.target,h.widgetName+c)&&d.removeData(i.target,h.widgetName+c);h._mouseMoveDelegate=function(a){return j._mouseMove(a)};h._mouseUpDelegate=function(a){return j._mouseUp(a)};d(document).bind(e+h.widgetName,h._mouseMoveDelegate).bind(f+h.widgetName,h._mouseUpDelegate);i.preventDefault();return g=b}},_mouseMove:function(c){var b=this;if(d.browser.msie&&!(document.documentMode>=9)&&!c.button)return b._mouseUp(c);if(b._mouseStarted){b._mouseDrag(c);return c.preventDefault()}if(b._mouseDistanceMet(c)&&b._mouseDelayMet(c))(b._mouseStarted=b._mouseStart(b._mouseDownEvent,c)!==a)?b._mouseDrag(c):b._mouseUp(c);return!b._mouseStarted},_mouseUp:function(h){var g=this;d(document).unbind(e+g.widgetName,g._mouseMoveDelegate).unbind(f+g.widgetName,g._mouseUpDelegate);if(g._mouseStarted){g._mouseStarted=a;h.target==g._mouseDownEvent.target&&d.data(h.target,g.widgetName+c,b);g._mouseStop(h)}return a},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return b}})})(jQuery);(function(b){var e="top",d="left",c=true,g="bottom",f="right",a="center";b.ui=b.ui||{};var h=/left|center|right/,i=/top|center|bottom/,j=b.fn.position,k=b.fn.offset;b.fn.position=function(k){if(!k||!k.of)return j.apply(this,arguments);k=b.extend({},k);var m=b(k.of),r=m[0],q=(k.collision||"flip").split(" "),n=k.offset?k.offset.split(" "):[0,0],o,p,l;if(r.nodeType===9){o=m.width();p=m.height();l={top:0,left:0}}else if(r.setTimeout){o=m.width();p=m.height();l={top:m.scrollTop(),left:m.scrollLeft()}}else if(r.preventDefault){k.at="left top";o=p=0;l={top:k.of.pageY,left:k.of.pageX}}else{o=m.outerWidth();p=m.outerHeight();l=m.offset()}b.each(["my","at"],function(){var b=(k[this]||"").split(" ");if(b.length===1)b=h.test(b[0])?b.concat([a]):i.test(b[0])?[a].concat(b):[a,a];b[0]=h.test(b[0])?b[0]:a;b[1]=i.test(b[1])?b[1]:a;k[this]=b});if(q.length===1)q[1]=q[0];n[0]=parseInt(n[0],10)||0;if(n.length===1)n[1]=n[0];n[1]=parseInt(n[1],10)||0;if(k.at[0]===f)l.left+=o;else if(k.at[0]===a)l.left+=o/2;if(k.at[1]===g)l.top+=p;else if(k.at[1]===a)l.top+=p/2;l.left+=n[0];l.top+=n[1];return this.each(function(){var i=this,j=b(i),m=j.outerWidth(),r=j.outerHeight(),s=parseInt(b.curCSS(i,"marginLeft",c))||0,t=parseInt(b.curCSS(i,"marginTop",c))||0,v=m+s+(parseInt(b.curCSS(i,"marginRight",c))||0),w=r+t+(parseInt(b.curCSS(i,"marginBottom",c))||0),h=b.extend({},l),u;if(k.my[0]===f)h.left-=m;else if(k.my[0]===a)h.left-=m/2;if(k.my[1]===g)h.top-=r;else if(k.my[1]===a)h.top-=r/2;h.left=Math.round(h.left);h.top=Math.round(h.top);u={left:h.left-s,top:h.top-t};b.each([d,e],function(a,c){b.ui.position[q[a]]&&b.ui.position[q[a]][c](h,{targetWidth:o,targetHeight:p,elemWidth:m,elemHeight:r,collisionPosition:u,collisionWidth:v,collisionHeight:w,offset:n,my:k.my,at:k.at})});b.fn.bgiframe&&j.bgiframe();j.offset(b.extend(h,{using:k.using}))})};b.ui.position={fit:{left:function(c,d){var a=b(window);a=d.collisionPosition.left+d.collisionWidth-a.width()-a.scrollLeft();c.left=a>0?c.left-a:Math.max(c.left-d.collisionPosition.left,c.left)},top:function(c,d){var a=b(window);a=d.collisionPosition.top+d.collisionHeight-a.height()-a.scrollTop();c.top=a>0?c.top-a:Math.max(c.top-d.collisionPosition.top,c.top)}},flip:{left:function(j,c){if(c.at[0]!==a){var e=b(window);e=c.collisionPosition.left+c.collisionWidth-e.width()-e.scrollLeft();var h=c.my[0]===d?-c.elemWidth:c.my[0]===f?c.elemWidth:0,g=c.at[0]===d?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];j.left+=c.collisionPosition.left<0?h+g+i:e>0?h+g+i:0}},top:function(j,c){if(c.at[1]!==a){var d=b(window);d=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();var h=c.my[1]===e?-c.elemHeight:c.my[1]===g?c.elemHeight:0,f=c.at[1]===e?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];j.top+=c.collisionPosition.top<0?h+f+i:d>0?h+f+i:0}}}};if(!b.offset.setOffset){b.offset.setOffset=function(a,g){if(/static/.test(b.curCSS(a,"position")))a.style.position="relative";var h=b(a),f=h.offset(),i=parseInt(b.curCSS(a,e,c),10)||0,j=parseInt(b.curCSS(a,d,c),10)||0;f={top:g.top-f.top+i,left:g.left-f.left+j};"using"in g?g.using.call(a,f):h.css(f)};b.fn.offset=function(c){var a=this[0];return!a||!a.ownerDocument?null:c?this.each(function(){b.offset.setOffset(this,c)}):k.call(this)}}})(jQuery);(function(a){var i="zIndex",m="opacity",l="cursor",h="fixed",r="borderLeftWidth",q="borderTopWidth",d=10,u="ui-draggable-dragging",k="body",g="absolute",j="px",e="draggable",f="relative",o="position",n="original",p="auto",b=false,t="parent",c=true,s="drag";a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:s,options:{addClasses:c,appendTo:t,axis:b,connectToSortable:b,containment:b,cursor:p,cursorAt:b,grid:b,handle:b,helper:n,iframeFix:b,opacity:b,refreshPositions:b,revert:b,revertDuration:500,scope:"default",scroll:c,scrollSensitivity:20,scrollSpeed:20,snap:b,snapMode:"both",snapTolerance:20,stack:b,zIndex:b},_create:function(){var a=this;if(a.options.helper==n&&!/^(?:r|a|f)/.test(a.element.css(o)))a.element[0].style.position=f;a.options.addClasses&&a.element.addClass("ui-draggable");a.options.disabled&&a.element.addClass("ui-draggable-disabled");a._mouseInit()},destroy:function(){var a=this;if(a.element.data(e)){a.element.removeData(e).unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");a._mouseDestroy();return a}},_mouseCapture:function(f){var d=this,e=d.options;if(d.helper||e.disabled||a(f.target).is(".ui-resizable-handle"))return b;d.handle=d._getHandle(f);if(!d.handle)return b;e.iframeFix&&a(e.iframeFix===c?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+j,height:this.offsetHeight+j,position:g,opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo(k)});return c},_mouseStart:function(e){var d=this,f=d.options;d.helper=d._createHelper(e);d._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=d;d._cacheMargins();d.cssPosition=d.helper.css(o);d.scrollParent=d.helper.scrollParent();d.offset=d.positionAbs=d.element.offset();d.offset={top:d.offset.top-d.margins.top,left:d.offset.left-d.margins.left};a.extend(d.offset,{click:{left:e.pageX-d.offset.left,top:e.pageY-d.offset.top},parent:d._getParentOffset(),relative:d._getRelativeOffset()});d.originalPosition=d.position=d._generatePosition(e);d.originalPageX=e.pageX;d.originalPageY=e.pageY;f.cursorAt&&d._adjustOffsetFromHelper(f.cursorAt);f.containment&&d._setContainment();if(d._trigger("start",e)===b){d._clear();return b}d._cacheHelperProportions();a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,e);d.helper.addClass(u);d._mouseDrag(e,c);a.ui.ddmanager&&a.ui.ddmanager.dragStart(d,e);return c},_mouseDrag:function(e,d){var c=this;c.position=c._generatePosition(e);c.positionAbs=c._convertPositionTo(g);if(!d){d=c._uiHash();if(c._trigger(s,e,d)===b){c._mouseUp({});return b}c.position=d.position}if(!c.options.axis||c.options.axis!="y")c.helper[0].style.left=c.position.left+j;if(!c.options.axis||c.options.axis!="x")c.helper[0].style.top=c.position.top+j;a.ui.ddmanager&&a.ui.ddmanager.drag(c,e);return b},_mouseStop:function(g){var e=this,f=b;if(a.ui.ddmanager&&!e.options.dropBehaviour)f=a.ui.ddmanager.drop(e,g);if(e.dropped){f=e.dropped;e.dropped=b}if((!e.element[0]||!e.element[0].parentNode)&&e.options.helper==n)return b;if(e.options.revert=="invalid"&&!f||e.options.revert=="valid"&&f||e.options.revert===c||a.isFunction(e.options.revert)&&e.options.revert.call(e.element,f)){var h=e;a(e.helper).animate(e.originalPosition,parseInt(e.options.revertDuration,d),function(){h._trigger("stop",g)!==b&&h._clear()})}else e._trigger("stop",g)!==b&&e._clear();return b},_mouseUp:function(b){this.options.iframeFix===c&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){var a=this;a.helper.is(".ui-draggable-dragging")?a._mouseUp({}):a._clear();return a},_getHandle:function(f){var d=this,e=!d.options.handle||!a(d.options.handle,d.element).length?c:b;a(d.options.handle,d.element).find("*").andSelf().each(function(){if(this==f.target)e=c});return e},_createHelper:function(b){var c=this,d=c.options;b=a.isFunction(d.helper)?a(d.helper.apply(c.element[0],[b])):d.helper=="clone"?c.element.clone().removeAttr("id"):c.element;b.parents(k).length||b.appendTo(d.appendTo==t?c.element[0].parentNode:d.appendTo);b[0]!=c.element[0]&&!/(fixed|absolute)/.test(b.css(o))&&b.css(o,g);return b},_adjustOffsetFromHelper:function(b){var c=this;if(typeof b=="string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||0};if("left"in b)c.offset.click.left=b.left+c.margins.left;if("right"in b)c.offset.click.left=c.helperProportions.width-b.right+c.margins.left;if("top"in b)c.offset.click.top=b.top+c.margins.top;if("bottom"in b)c.offset.click.top=c.helperProportions.height-b.bottom+c.margins.top},_getParentOffset:function(){var b=this;b.offsetParent=b.helper.offsetParent();var c=b.offsetParent.offset();if(b.cssPosition==g&&b.scrollParent[0]!=document&&a.ui.contains(b.scrollParent[0],b.offsetParent[0])){c.left+=b.scrollParent.scrollLeft();c.top+=b.scrollParent.scrollTop()}if(b.offsetParent[0]==document.body||b.offsetParent[0].tagName&&b.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(b.offsetParent.css(q),d)||0),left:c.left+(parseInt(b.offsetParent.css(r),d)||0)}},_getRelativeOffset:function(){var a=this;if(a.cssPosition==f){var b=a.element.position();return{top:b.top-(parseInt(a.helper.css("top"),d)||0)+a.scrollParent.scrollTop(),left:b.left-(parseInt(a.helper.css("left"),d)||0)+a.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){var a=this;a.margins={left:parseInt(a.element.css("marginLeft"),d)||0,top:parseInt(a.element.css("marginTop"),d)||0,right:parseInt(a.element.css("marginRight"),d)||0,bottom:parseInt(a.element.css("marginBottom"),d)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f="document",b=this,c=b.options;if(c.containment==t)c.containment=b.helper[0].parentNode;if(c.containment==f||c.containment=="window")b.containment=[c.containment==f?0:a(window).scrollLeft()-b.offset.relative.left-b.offset.parent.left,c.containment==f?0:a(window).scrollTop()-b.offset.relative.top-b.offset.parent.top,(c.containment==f?0:a(window).scrollLeft())+a(c.containment==f?document:window).width()-b.helperProportions.width-b.margins.left,(c.containment==f?0:a(window).scrollTop())+(a(c.containment==f?document:window).height()||document.body.parentNode.scrollHeight)-b.helperProportions.height-b.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){c=a(c.containment);var e=c[0];if(e){c.offset();var g=a(e).css("overflow")!="hidden";b.containment=[(parseInt(a(e).css(r),d)||0)+(parseInt(a(e).css("paddingLeft"),d)||0),(parseInt(a(e).css(q),d)||0)+(parseInt(a(e).css("paddingTop"),d)||0),(g?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css(r),d)||0)-(parseInt(a(e).css("paddingRight"),d)||0)-b.helperProportions.width-b.margins.left-b.margins.right,(g?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css(q),d)||0)-(parseInt(a(e).css("paddingBottom"),d)||0)-b.helperProportions.height-b.margins.top-b.margins.bottom];b.relative_container=c}}else if(c.containment.constructor==Array)b.containment=c.containment},_convertPositionTo:function(c,d){var b=this;if(!d)d=b.position;c=c==g?1:-1;var e=b.cssPosition==g&&!(b.scrollParent[0]!=document&&a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:d.top+b.offset.relative.top*c+b.offset.parent.top*c-(a.browser.safari&&a.browser.version<526&&b.cssPosition==h?0:(b.cssPosition==h?-b.scrollParent.scrollTop():f?0:e.scrollTop())*c),left:d.left+b.offset.relative.left*c+b.offset.parent.left*c-(a.browser.safari&&a.browser.version<526&&b.cssPosition==h?0:(b.cssPosition==h?-b.scrollParent.scrollLeft():f?0:e.scrollLeft())*c)}},_generatePosition:function(i){var b=this,f=b.options,j=b.cssPosition==g&&!(b.scrollParent[0]!=document&&a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,k=/(html|body)/i.test(j[0].tagName),d=i.pageX,e=i.pageY;if(b.originalPosition){var c;if(b.containment){if(b.relative_container){c=b.relative_container.offset();c=[b.containment[0]+c.left,b.containment[1]+c.top,b.containment[2]+c.left,b.containment[3]+c.top]}else c=b.containment;if(i.pageX-b.offset.click.left<c[0])d=c[0]+b.offset.click.left;if(i.pageY-b.offset.click.top<c[1])e=c[1]+b.offset.click.top;if(i.pageX-b.offset.click.left>c[2])d=c[2]+b.offset.click.left;if(i.pageY-b.offset.click.top>c[3])e=c[3]+b.offset.click.top}if(f.grid){e=f.grid[1]?b.originalPageY+Math.round((e-b.originalPageY)/f.grid[1])*f.grid[1]:b.originalPageY;e=c?!(e-b.offset.click.top<c[1]||e-b.offset.click.top>c[3])?e:!(e-b.offset.click.top<c[1])?e-f.grid[1]:e+f.grid[1]:e;d=f.grid[0]?b.originalPageX+Math.round((d-b.originalPageX)/f.grid[0])*f.grid[0]:b.originalPageX;d=c?!(d-b.offset.click.left<c[0]||d-b.offset.click.left>c[2])?d:!(d-b.offset.click.left<c[0])?d-f.grid[0]:d+f.grid[0]:d}}return{top:e-b.offset.click.top-b.offset.relative.top-b.offset.parent.top+(a.browser.safari&&a.browser.version<526&&b.cssPosition==h?0:b.cssPosition==h?-b.scrollParent.scrollTop():k?0:j.scrollTop()),left:d-b.offset.click.left-b.offset.relative.left-b.offset.parent.left+(a.browser.safari&&a.browser.version<526&&b.cssPosition==h?0:b.cssPosition==h?-b.scrollParent.scrollLeft():k?0:j.scrollLeft())}},_clear:function(){var a=this;a.helper.removeClass(u);a.helper[0]!=a.element[0]&&!a.cancelHelperRemoval&&a.helper.remove();a.helper=null;a.cancelHelperRemoval=b},_trigger:function(d,e,c){var b=this;c=c||b._uiHash();a.ui.plugin.call(b,d,[e,c]);if(d==s)b.positionAbs=b._convertPositionTo(g);return a.Widget.prototype._trigger.call(b,d,e,c)},plugins:{},_uiHash:function(){var a=this;return{helper:a.helper,position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.16"});a.ui.plugin.add(e,"connectToSortable",{start:function(c,d){var b=a(this).data(e),g=b.options,f=a.extend({},d,{item:b.element});b.sortables=[];a(g.connectToSortable).each(function(){var d=a.data(this,"sortable");if(d&&!d.options.disabled){b.sortables.push({instance:d,shouldRevert:d.options.revert});d.refreshPositions();d._trigger("activate",c,f)}})},stop:function(f,g){var d=a(this).data(e),h=a.extend({},g,{item:d.element});a.each(d.sortables,function(){var a=this;if(a.instance.isOver){a.instance.isOver=0;d.cancelHelperRemoval=c;a.instance.cancelHelperRemoval=b;if(a.shouldRevert)a.instance.options.revert=c;a.instance._mouseStop(f);a.instance.options.helper=a.instance.options._helper;d.options.helper==n&&a.instance.currentItem.css({top:p,left:p})}else{a.instance.cancelHelperRemoval=b;a.instance._trigger("deactivate",f,h)}})},drag:function(f,g){var d=a(this).data(e),h=this;a.each(d.sortables,function(){var e=this;e.instance.positionAbs=d.positionAbs;e.instance.helperProportions=d.helperProportions;e.instance.offset.click=d.offset.click;if(e.instance._intersectsWith(e.instance.containerCache)){if(!e.instance.isOver){e.instance.isOver=1;e.instance.currentItem=a(h).clone().removeAttr("id").appendTo(e.instance.element).data("sortable-item",c);e.instance.options._helper=e.instance.options.helper;e.instance.options.helper=function(){return g.helper[0]};f.target=e.instance.currentItem[0];e.instance._mouseCapture(f,c);e.instance._mouseStart(f,c,c);e.instance.offset.click.top=d.offset.click.top;e.instance.offset.click.left=d.offset.click.left;e.instance.offset.parent.left-=d.offset.parent.left-e.instance.offset.parent.left;e.instance.offset.parent.top-=d.offset.parent.top-e.instance.offset.parent.top;d._trigger("toSortable",f);d.dropped=e.instance.element;d.currentItem=d.element;e.instance.fromOutside=d}e.instance.currentItem&&e.instance._mouseDrag(f)}else if(e.instance.isOver){e.instance.isOver=0;e.instance.cancelHelperRemoval=c;e.instance.options.revert=b;e.instance._trigger("out",f,e.instance._uiHash(e.instance));e.instance._mouseStop(f,c);e.instance.options.helper=e.instance.options._helper;e.instance.currentItem.remove();e.instance.placeholder&&e.instance.placeholder.remove();d._trigger("fromSortable",f);d.dropped=b}})}});a.ui.plugin.add(e,l,{start:function(){var b=a(k),c=a(this).data(e).options;if(b.css(l))c._cursor=b.css(l);b.css(l,c.cursor)},stop:function(){var b=a(this).data(e).options;b._cursor&&a(k).css(l,b._cursor)}});a.ui.plugin.add(e,m,{start:function(b,c){b=a(c.helper);c=a(this).data(e).options;if(b.css(m))c._opacity=b.css(m);b.css(m,c.opacity)},stop:function(b,c){b=a(this).data(e).options;b._opacity&&a(c.helper).css(m,b._opacity)}});a.ui.plugin.add(e,"scroll",{start:function(){var b=a(this).data(e);if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(f){var d=a(this).data(e),c=d.options,g=b;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-f.pageY<c.scrollSensitivity)d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop+c.scrollSpeed;else if(f.pageY-d.overflowOffset.top<c.scrollSensitivity)d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||c.axis!="y")if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-f.pageX<c.scrollSensitivity)d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft+c.scrollSpeed;else if(f.pageX-d.overflowOffset.left<c.scrollSensitivity)d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(f.pageY-a(document).scrollTop()<c.scrollSensitivity)g=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed);else if(a(window).height()-(f.pageY-a(document).scrollTop())<c.scrollSensitivity)g=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(f.pageX-a(document).scrollLeft()<c.scrollSensitivity)g=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed);else if(a(window).width()-(f.pageX-a(document).scrollLeft())<c.scrollSensitivity)g=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)}g!==b&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,f)}});a.ui.plugin.add(e,"snap",{start:function(){var b=a(this).data(e),c=b.options;b.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(v,h){for(var c=a(this).data(e),u=c.options,d=u.snapTolerance,m=h.offset.left,o=m+c.helperProportions.width,n=h.offset.top,p=n+c.helperProportions.height,g=c.snapElements.length-1;g>=0;g--){var i=c.snapElements[g].left,k=i+c.snapElements[g].width,j=c.snapElements[g].top,l=j+c.snapElements[g].height;if(i-d<m&&m<k+d&&j-d<n&&n<l+d||i-d<m&&m<k+d&&j-d<p&&p<l+d||i-d<o&&o<k+d&&j-d<n&&n<l+d||i-d<o&&o<k+d&&j-d<p&&p<l+d){if(u.snapMode!="inner"){var q=Math.abs(j-p)<=d,r=Math.abs(l-n)<=d,s=Math.abs(i-o)<=d,t=Math.abs(k-m)<=d;if(q)h.position.top=c._convertPositionTo(f,{top:j-c.helperProportions.height,left:0}).top-c.margins.top;if(r)h.position.top=c._convertPositionTo(f,{top:l,left:0}).top-c.margins.top;if(s)h.position.left=c._convertPositionTo(f,{top:0,left:i-c.helperProportions.width}).left-c.margins.left;if(t)h.position.left=c._convertPositionTo(f,{top:0,left:k}).left-c.margins.left}var w=q||r||s||t;if(u.snapMode!="outer"){q=Math.abs(j-n)<=d;r=Math.abs(l-p)<=d;s=Math.abs(i-m)<=d;t=Math.abs(k-o)<=d;if(q)h.position.top=c._convertPositionTo(f,{top:j,left:0}).top-c.margins.top;if(r)h.position.top=c._convertPositionTo(f,{top:l-c.helperProportions.height,left:0}).top-c.margins.top;if(s)h.position.left=c._convertPositionTo(f,{top:0,left:i}).left-c.margins.left;if(t)h.position.left=c._convertPositionTo(f,{top:0,left:k-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[g].snapping&&(q||r||s||t||w))c.options.snap.snap&&c.options.snap.snap.call(c.element,v,a.extend(c._uiHash(),{snapItem:c.snapElements[g].item}));c.snapElements[g].snapping=q||r||s||t||w}else{c.snapElements[g].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,v,a.extend(c._uiHash(),{snapItem:c.snapElements[g].item}));c.snapElements[g].snapping=b}}}});a.ui.plugin.add(e,"stack",{start:function(){var b=a(this).data(e).options;b=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css(i),d)||0)-(parseInt(a(c).css(i),d)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(a){this.style.zIndex=c+a});this[0].style.zIndex=c+b.length}}});a.ui.plugin.add(e,i,{start:function(b,c){b=a(c.helper);c=a(this).data(e).options;if(b.css(i))c._zIndex=b.css(i);b.css(i,c.zIndex)},stop:function(b,c){b=a(this).data(e).options;b._zIndex&&a(c.helper).css(i,b._zIndex)}})})(jQuery);(function(a){var f="scroll.droppable",e=":not(body,html)",d=":data(droppable)",c="droppable",g="intersect",b=false;a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:b,addClasses:true,greedy:b,hoverClass:b,scope:"default",tolerance:g},_create:function(){var b=this,c=b.options,d=c.accept;b.isover=0;b.isout=1;b.accept=a.isFunction(d)?d:function(a){return a.is(d)};b.proportions={width:b.element[0].offsetWidth,height:b.element[0].offsetHeight};a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[];a.ui.ddmanager.droppables[c.scope].push(b);c.addClasses&&b.element.addClass("ui-droppable")},destroy:function(){var b=this;for(var e=a.ui.ddmanager.droppables[b.options.scope],d=0;d<e.length;d++)e[d]==b&&e.splice(d,1);b.element.removeClass("ui-droppable ui-droppable-disabled").removeData(c).unbind(".droppable");return b},_setOption:function(c,b){if(c=="accept")this.accept=a.isFunction(b)?b:function(a){return a.is(b)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var b=this,c=a.ui.ddmanager.current;b.options.activeClass&&b.element.addClass(b.options.activeClass);c&&b._trigger("activate",d,b.ui(c))},_deactivate:function(d){var b=this,c=a.ui.ddmanager.current;b.options.activeClass&&b.element.removeClass(b.options.activeClass);c&&b._trigger("deactivate",d,b.ui(c))},_over:function(d){var b=this,c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==b.element[0]))if(b.accept.call(b.element[0],c.currentItem||c.element)){b.options.hoverClass&&b.element.addClass(b.options.hoverClass);b._trigger("over",d,b.ui(c))}},_out:function(d){var b=this,c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==b.element[0]))if(b.accept.call(b.element[0],c.currentItem||c.element)){b.options.hoverClass&&b.element.removeClass(b.options.hoverClass);b._trigger("out",d,b.ui(c))}},_drop:function(h,i){var e=this,f=i||a.ui.ddmanager.current;if(!f||(f.currentItem||f.element)[0]==e.element[0])return b;var g=b;e.element.find(d).not(".ui-draggable-dragging").each(function(){var d=a.data(this,c);if(d.options.greedy&&!d.options.disabled&&d.options.scope==f.options.scope&&d.accept.call(d.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(d,{offset:d.element.offset()}),d.options.tolerance)){g=true;return b}});if(g)return b;if(e.accept.call(e.element[0],f.currentItem||f.element)){e.options.activeClass&&e.element.removeClass(e.options.activeClass);e.options.hoverClass&&e.element.removeClass(e.options.hoverClass);e._trigger("drop",h,e.ui(f));return e.element}return b},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.16"});a.ui.intersect=function(c,d,n){if(!d.offset)return b;var h=(c.positionAbs||c.position.absolute).left,j=h+c.helperProportions.width,i=(c.positionAbs||c.position.absolute).top,k=i+c.helperProportions.height,e=d.offset.left,l=e+d.proportions.width,f=d.offset.top,m=f+d.proportions.height;switch(n){case"fit":return e<=h&&j<=l&&f<=i&&k<=m;case g:return e<h+c.helperProportions.width/2&&j-c.helperProportions.width/2<l&&f<i+c.helperProportions.height/2&&k-c.helperProportions.height/2<m;case"pointer":return a.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,f,e,d.proportions.height,d.proportions.width);case"touch":return(i>=f&&i<=m||k>=f&&k<=m||i<f&&k>m)&&(h>=e&&h<=l||j>=e&&j<=l||h<e&&j>l);default:return b}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,f){var c=a.ui.ddmanager.droppables[e.options.scope]||[],i=f?f.type:null,h=(e.currentItem||e.element).find(d).andSelf(),b=0;a:for(;b<c.length;b++)if(!(c[b].options.disabled||e&&!c[b].accept.call(c[b].element[0],e.currentItem||e.element))){for(var g=0;g<h.length;g++)if(h[g]==c[b].element[0]){c[b].proportions.height=0;continue a}c[b].visible=c[b].element.css("display")!="none";if(c[b].visible){i=="mousedown"&&c[b]._activate.call(c[b],f);c[b].offset=c[b].element.offset();c[b].proportions={width:c[b].element[0].offsetWidth,height:c[b].element[0].offsetHeight}}}},drop:function(c,e){var d=b;a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){var b=this;if(b.options){if(!b.options.disabled&&b.visible&&a.ui.intersect(c,b,b.options.tolerance))d=d||b._drop.call(b,e);if(!b.options.disabled&&b.visible&&b.accept.call(b.element[0],c.currentItem||c.element)){b.isout=1;b.isover=0;b._deactivate.call(b,e)}}});return d},dragStart:function(b,c){b.element.parents(e).bind(f,function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,d){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,d);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){var e="isover",g="isout",f=this;if(!(f.options.disabled||f.greedyChild||!f.visible)){var i=a.ui.intersect(b,f,f.options.tolerance);if(i=!i&&f.isover==1?g:i&&f.isover==0?e:null){var h;if(f.options.greedy){var j=f.element.parents(":data(droppable):eq(0)");if(j.length){h=a.data(j[0],c);h.greedyChild=i==e?1:0}}if(h&&i==e){h.isover=0;h.isout=1;h._out.call(h,d)}f[i]=1;f[i==g?e:g]=0;f[i==e?"_over":"_out"].call(f,d);if(h&&i==g){h.isout=0;h.isover=1;h._over.call(h,d)}}}})},dragStop:function(b,c){b.element.parents(e).unbind(f);b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);(function(a){var p="height",o="width",v="object",k="resizable-alsoresize",n="px",x="ui-resizable-resizing",u="body",t="cursor",r="absolute",w=".ui-resizable-",s=".ui-resizable-handle",m=true,c="resizable",d="left",g="top",i="auto",q="relative",e="position",b=10,f=null,h=false,j="resize";a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:j,options:{alsoResize:h,animate:h,animateDuration:"slow",animateEasing:"swing",aspectRatio:h,autoHide:h,containment:h,ghost:h,grid:h,handles:"e,s,se",helper:h,maxHeight:f,maxWidth:f,minHeight:b,minWidth:b,zIndex:1e3},_create:function(){var k="ui-resizable-autohide",b=this,l=b,h=b.options;b.element.addClass("ui-resizable");a.extend(b,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:b.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":f});if(b.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(b.element.css(e))&&a.browser.opera&&b.element.css({position:q,top:i,left:i});b.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:b.element.css(e),width:b.element.outerWidth(),height:b.element.outerHeight(),top:b.element.css(g),left:b.element.css(d)}));b.element=b.element.parent().data(c,b.element.data(c));b.elementIsWrapper=m;b.element.css({marginLeft:b.originalElement.css("marginLeft"),marginTop:b.originalElement.css("marginTop"),marginRight:b.originalElement.css("marginRight"),marginBottom:b.originalElement.css("marginBottom")});b.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});b.originalResizeStyle=b.originalElement.css(j);b.originalElement.css(j,"none");b._proportionallyResizeElements.push(b.originalElement.css({position:"static",zoom:1,display:"block"}));b.originalElement.css({margin:b.originalElement.css("margin")});b._proportionallyResize()}b.handles=h.handles||(!a(s,b.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(b.handles.constructor==String){if(b.handles=="all")b.handles="n,e,s,w,se,sw,ne,nw";var r=b.handles.split(",");b.handles={};for(var o=0;o<r.length;o++){var n=a.trim(r[o]),p=a('<div class="ui-resizable-handle '+("ui-resizable-"+n)+'"></div>');/sw|se|ne|nw/.test(n)&&p.css({zIndex:++h.zIndex});"se"==n&&p.addClass("ui-icon ui-icon-gripsmall-diagonal-se");b.handles[n]=w+n;b.element.append(p)}}b._renderAxis=function(e){var b=this;e=e||b.element;for(var c in b.handles){if(b.handles[c].constructor==String)b.handles[c]=a(b.handles[c],b.element).show();if(b.elementIsWrapper&&b.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(b.handles[c],b.element),f=0;f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();d=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");e.css(d,f);b._proportionallyResize()}a(b.handles[c])}};b._renderAxis(b.element);b._handles=a(s,b.element).disableSelection();b._handles.mouseover(function(){if(!l.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);l.axis=a&&a[1]?a[1]:"se"}});if(h.autoHide){b._handles.hide();a(b.element).addClass(k).hover(function(){if(!h.disabled){a(this).removeClass(k);l._handles.show()}},function(){if(!h.disabled)if(!l.resizing){a(this).addClass(k);l._handles.hide()}})}b._mouseInit()},destroy:function(){var b=this;b._mouseDestroy();var h=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData(c).unbind(".resizable").find(s).remove()};if(b.elementIsWrapper){h(b.element);var f=b.element;f.after(b.originalElement.css({position:f.css(e),width:f.outerWidth(),height:f.outerHeight(),top:f.css(g),left:f.css(d)})).remove()}b.originalElement.css(j,b.originalResizeStyle);h(b.originalElement);return b},_mouseCapture:function(c){var b=h;for(var d in this.handles)if(a(this.handles[d])[0]==c.target)b=m;return!this.options.disabled&&b},_mouseStart:function(j){var b=this,f=b.options,h=b.element.position(),c=b.element;b.resizing=m;b.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};(c.is(".ui-draggable")||/absolute/.test(c.css(e)))&&c.css({position:r,top:h.top,left:h.left});a.browser.opera&&/relative/.test(c.css(e))&&c.css({position:q,top:i,left:i});b._renderProxy();h=y(b.helper.css(d));var k=y(b.helper.css(g));if(f.containment){h+=a(f.containment).scrollLeft()||0;k+=a(f.containment).scrollTop()||0}b.offset=b.helper.offset();b.position={left:h,top:k};b.size=b._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()};b.originalSize=b._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()};b.originalPosition={left:h,top:k};b.sizeDiff={width:c.outerWidth()-c.width(),height:c.outerHeight()-c.height()};b.originalMousePosition={left:j.pageX,top:j.pageY};b.aspectRatio=typeof f.aspectRatio=="number"?f.aspectRatio:b.originalSize.width/b.originalSize.height||1;f=a(w+b.axis).css(t);a(u).css(t,f==i?b.axis+"-resize":f);c.addClass(x);b._propagate("start",j);return m},_mouseDrag:function(b){var a=this,e=a.helper,c=a.originalMousePosition,d=a._change[a.axis];if(!d)return h;c=d.apply(a,[b,b.pageX-c.left||0,b.pageY-c.top||0]);a._updateVirtualBoundaries(b.shiftKey);if(a._aspectRatio||b.shiftKey)c=a._updateRatio(c,b);c=a._respectSize(c,b);a._propagate(j,b);e.css({top:a.position.top+n,left:a.position.left+n,width:a.size.width+n,height:a.size.height+n});!a._helper&&a._proportionallyResizeElements.length&&a._proportionallyResize();a._updateCache(c);a._trigger(j,b,a.ui());return h},_mouseStop:function(m){var e=this;e.resizing=h;var l=e.options,c=e;if(e._helper){var j=e._proportionallyResizeElements,k=j.length&&/textarea/i.test(j[0].nodeName);j=k&&a.ui.hasScroll(j[0],d)?0:c.sizeDiff.height;k=k?0:c.sizeDiff.width;k={width:c.helper.width()-k,height:c.helper.height()-j};j=parseInt(c.element.css(d),b)+(c.position.left-c.originalPosition.left)||f;var n=parseInt(c.element.css(g),b)+(c.position.top-c.originalPosition.top)||f;l.animate||e.element.css(a.extend(k,{top:n,left:j}));c.helper.height(c.size.height);c.helper.width(c.size.width);e._helper&&!l.animate&&e._proportionallyResize()}a(u).css(t,i);e.element.removeClass(x);e._propagate("stop",m);e._helper&&e.helper.remove();return h},_updateVirtualBoundaries:function(c){var b=this,a=b.options,d,e,f;a={minWidth:l(a.minWidth)?a.minWidth:0,maxWidth:l(a.maxWidth)?a.maxWidth:Infinity,minHeight:l(a.minHeight)?a.minHeight:0,maxHeight:l(a.maxHeight)?a.maxHeight:Infinity};if(b._aspectRatio||c){c=a.minHeight*b.aspectRatio;e=a.minWidth/b.aspectRatio;d=a.maxHeight*b.aspectRatio;f=a.maxWidth/b.aspectRatio;if(c>a.minWidth)a.minWidth=c;if(e>a.minHeight)a.minHeight=e;if(d<a.maxWidth)a.maxWidth=d;if(f<a.maxHeight)a.maxHeight=f}b._vBoundaries=a},_updateCache:function(a){var b=this;b.offset=b.helper.offset();if(l(a.left))b.position.left=a.left;if(l(a.top))b.position.top=a.top;if(l(a.height))b.size.height=a.height;if(l(a.width))b.size.width=a.width},_updateRatio:function(a){var b=this,c=b.position,d=b.size,e=b.axis;if(l(a.height))a.width=a.height*b.aspectRatio;else if(l(a.width))a.height=a.width/b.aspectRatio;if(e=="sw"){a.left=c.left+(d.width-a.width);a.top=f}if(e=="nw"){a.top=c.top+(d.height-a.height);a.left=c.left+(d.width-a.width)}return a},_respectSize:function(a){var c=this,b=c._vBoundaries,d=c.axis,e=l(a.width)&&b.maxWidth&&b.maxWidth<a.width,g=l(a.height)&&b.maxHeight&&b.maxHeight<a.height,h=l(a.width)&&b.minWidth&&b.minWidth>a.width,i=l(a.height)&&b.minHeight&&b.minHeight>a.height;if(h)a.width=b.minWidth;if(i)a.height=b.minHeight;if(e)a.width=b.maxWidth;if(g)a.height=b.maxHeight;var j=c.originalPosition.left+c.originalSize.width,k=c.position.top+c.size.height,m=/sw|nw|w/.test(d);d=/nw|ne|n/.test(d);if(h&&m)a.left=j-b.minWidth;if(e&&m)a.left=j-b.maxWidth;if(i&&d)a.top=k-b.minHeight;if(g&&d)a.top=k-b.maxHeight;if((b=!a.width&&!a.height)&&!a.left&&a.top)a.top=f;else if(b&&!a.top&&a.left)a.left=f;return a},_proportionallyResize:function(){var c=this;if(c._proportionallyResizeElements.length)for(var e=c.helper||c.element,f=0;f<c._proportionallyResizeElements.length;f++){var d=c._proportionallyResizeElements[f];if(!c.borderDif){var g=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],h=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];c.borderDif=a.map(g,function(a,c){a=parseInt(a,b)||0;c=parseInt(h[c],b)||0;return a+c})}a.browser.msie&&(a(e).is(":hidden")||a(e).parents(":hidden").length)||d.css({height:e.height()-c.borderDif[0]-c.borderDif[2]||0,width:e.width()-c.borderDif[1]-c.borderDif[3]||0})}},_renderProxy:function(){var b=this,e=b.options;b.elementOffset=b.element.offset();if(b._helper){b.helper=b.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,d=c?1:0;c=c?2:-1;b.helper.addClass(b._helper).css({width:b.element.outerWidth()+c,height:b.element.outerHeight()+c,position:r,left:b.elementOffset.left-d+n,top:b.elementOffset.top-d+n,zIndex:++e.zIndex});b.helper.appendTo(u).disableSelection()}else b.helper=b.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-a}},n:function(c,b,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(c,b,a){return{height:this.originalSize.height+a}},se:function(d,c,e){var b=this;return a.extend(b._change.s.apply(b,arguments),b._change.e.apply(b,[d,c,e]))},sw:function(d,c,e){var b=this;return a.extend(b._change.s.apply(b,arguments),b._change.w.apply(b,[d,c,e]))},ne:function(d,c,e){var b=this;return a.extend(b._change.n.apply(b,arguments),b._change.e.apply(b,[d,c,e]))},nw:function(d,c,e){var b=this;return a.extend(b._change.n.apply(b,arguments),b._change.w.apply(b,[d,c,e]))}},_propagate:function(c,d){var b=this;a.ui.plugin.call(b,c,[d,b.ui()]);c!=j&&b._trigger(c,d,b.ui())},plugins:{},ui:function(){var a=this;return{originalElement:a.originalElement,element:a.element,helper:a.helper,position:a.position,size:a.size,originalSize:a.originalSize,originalPosition:a.originalPosition}}});a.extend(a.ui.resizable,{version:"1.8.16"});a.ui.plugin.add(c,"alsoResize",{start:function(){var f=a(this).data(c).options,h=function(c){a(c).each(function(){var c=a(this);c.data(k,{width:parseInt(c.width(),b),height:parseInt(c.height(),b),left:parseInt(c.css(d),b),top:parseInt(c.css(g),b),position:c.css(e)})})};if(typeof f.alsoResize==v&&!f.alsoResize.parentNode)if(f.alsoResize.length){f.alsoResize=f.alsoResize[0];h(f.alsoResize)}else a.each(f.alsoResize,function(a){h(a)});else h(f.alsoResize)},resize:function(h,q){var b=a(this).data(c);h=b.options;var j=b.originalSize,l=b.originalPosition,s={height:b.size.height-j.height||0,width:b.size.width-j.width||0,top:b.position.top-l.top||0,left:b.position.left-l.left||0},n=function(h,c){a(h).each(function(){var h=a(this),l=a(this).data(k),j={},n=c&&c.length?c:h.parents(q.originalElement[0]).length?[o,p]:[o,p,g,d];a.each(n,function(a,b){if((a=(l[b]||0)+(s[b]||0))&&a>=0)j[b]=a||f});if(a.browser.opera&&/relative/.test(h.css(e))){b._revertToRelativePosition=m;h.css({position:r,top:i,left:i})}h.css(j)})};typeof h.alsoResize==v&&!h.alsoResize.nodeType?a.each(h.alsoResize,function(a,b){n(a,b)}):n(h.alsoResize)},stop:function(){var d=a(this).data(c),b=d.options,e=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data(k).position})})};if(d._revertToRelativePosition){d._revertToRelativePosition=h;typeof b.alsoResize==v&&!b.alsoResize.nodeType?a.each(b.alsoResize,function(a){e(a)}):e(b.alsoResize)}a(this).removeData(k)}});a.ui.plugin.add(c,"animate",{stop:function(n){var e=a(this).data(c),l=e.options,h=e._proportionallyResizeElements,i=h.length&&/textarea/i.test(h[0].nodeName),k=i&&a.ui.hasScroll(h[0],d)?0:e.sizeDiff.height;i={width:e.size.width-(i?0:e.sizeDiff.width),height:e.size.height-k};k=parseInt(e.element.css(d),b)+(e.position.left-e.originalPosition.left)||f;var m=parseInt(e.element.css(g),b)+(e.position.top-e.originalPosition.top)||f;e.element.animate(a.extend(i,m&&k?{top:m,left:k}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var c={width:parseInt(e.element.css(o),b),height:parseInt(e.element.css(p),b),top:parseInt(e.element.css(g),b),left:parseInt(e.element.css(d),b)};h&&h.length&&a(h[0]).css({width:c.width,height:c.height});e._updateCache(c);e._propagate(j,n)}})}});a.ui.plugin.add(c,"containment",{start:function(){var b=a(this).data(c),e=b.element,f=b.options.containment;if(e=f instanceof a?f.get(0):/parent/.test(f)?e.parent().get(0):f){b.containerElement=a(e);if(/document/.test(f)||f==document){b.containerOffset={left:0,top:0};b.containerPosition={left:0,top:0};b.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var g=a(e),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){h[a]=y(g.css("padding"+b))});b.containerOffset=g.offset();b.containerPosition=g.position();b.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]};f=b.containerOffset;var i=b.containerSize.height,j=b.containerSize.width;j=a.ui.hasScroll(e,d)?e.scrollWidth:j;i=a.ui.hasScroll(e)?e.scrollHeight:i;b.parentData={element:e,left:f.left,top:f.top,width:j,height:i}}}},resize:function(h){var b=a(this).data(c),f=b.options,d=b.containerOffset,i=b.position;h=b._aspectRatio||h.shiftKey;var g={top:0,left:0},j=b.containerElement;if(j[0]!=document&&/static/.test(j.css(e)))g=d;if(i.left<(b._helper?d.left:0)){b.size.width+=b._helper?b.position.left-d.left:b.position.left-g.left;if(h)b.size.height=b.size.width/f.aspectRatio;b.position.left=f.helper?d.left:0}if(i.top<(b._helper?d.top:0)){b.size.height+=b._helper?b.position.top-d.top:b.position.top;if(h)b.size.width=b.size.height*f.aspectRatio;b.position.top=b._helper?d.top:0}b.offset.left=b.parentData.left+b.position.left;b.offset.top=b.parentData.top+b.position.top;f=Math.abs((b._helper?b.offset.left-g.left:b.offset.left-g.left)+b.sizeDiff.width);d=Math.abs((b._helper?b.offset.top-g.top:b.offset.top-d.top)+b.sizeDiff.height);i=b.containerElement.get(0)==b.element.parent().get(0);g=/relative|absolute/.test(b.containerElement.css(e));if(i&&g)f-=b.parentData.left;if(f+b.size.width>=b.parentData.width){b.size.width=b.parentData.width-f;if(h)b.size.height=b.size.width/b.aspectRatio}if(d+b.size.height>=b.parentData.height){b.size.height=b.parentData.height-d;if(h)b.size.width=b.size.height*b.aspectRatio}},stop:function(){var b=a(this).data(c),f=b.options,g=b.containerOffset,h=b.containerPosition,i=b.containerElement,d=a(b.helper),j=d.offset(),k=d.outerWidth()-b.sizeDiff.width;d=d.outerHeight()-b.sizeDiff.height;b._helper&&!f.animate&&/relative/.test(i.css(e))&&a(this).css({left:j.left-h.left-g.left,width:k,height:d});b._helper&&!f.animate&&/static/.test(i.css(e))&&a(this).css({left:j.left-h.left-g.left,width:k,height:d})}});a.ui.plugin.add(c,"ghost",{start:function(){var b=a(this).data(c),d=b.options,e=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:q,height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof d.ghost=="string"?d.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data(c);b.ghost&&b.ghost.css({position:q,height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data(c);b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add(c,"grid",{resize:function(){var d=a(this).data(c),b=d.options,i=d.size,e=d.originalSize,g=d.originalPosition,h=d.axis;b.grid=typeof b.grid=="number"?[b.grid,b.grid]:b.grid;var f=Math.round((i.width-e.width)/(b.grid[0]||1))*(b.grid[0]||1);b=Math.round((i.height-e.height)/(b.grid[1]||1))*(b.grid[1]||1);if(/^(se|s|e)$/.test(h)){d.size.width=e.width+f;d.size.height=e.height+b}else if(/^(ne)$/.test(h)){d.size.width=e.width+f;d.size.height=e.height+b;d.position.top=g.top-b}else{if(/^(sw)$/.test(h)){d.size.width=e.width+f;d.size.height=e.height+b}else{d.size.width=e.width+f;d.size.height=e.height+b;d.position.top=g.top-b}d.position.left=g.left-f}}});var y=function(a){return parseInt(a,b)||0},l=function(a){return!isNaN(parseInt(a,b))}})(jQuery);(function(g){var i="selecting",h="unselecting",j="ui-selectee",d="ui-unselecting",f="ui-selecting",c="ui-selected",e="selectable-item",a=false,b=true;g.widget("ui.selectable",g.ui.mouse,{options:{appendTo:"body",autoRefresh:b,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this,i=b;b.element.addClass("ui-selectable");b.dragged=a;var h;b.refresh=function(){h=g(i.options.filter,i.element[0]);h.each(function(){var b=g(this),h=b.offset();g.data(this,e,{element:this,$element:b,left:h.left,top:h.top,right:h.left+b.outerWidth(),bottom:h.top+b.outerHeight(),startselected:a,selected:b.hasClass(c),selecting:b.hasClass(f),unselecting:b.hasClass(d)})})};b.refresh();b.selectees=h.addClass(j);b._mouseInit();b.helper=g("<div class='ui-selectable-helper'></div>")},destroy:function(){var a=this;a.selectees.removeClass(j).removeData(e);a.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");a._mouseDestroy();return a},_mouseStart:function(k){var j=this,m=j;j.opos=[k.pageX,k.pageY];if(!j.options.disabled){var l=j.options;j.selectees=g(l.filter,j.element[0]);j._trigger("start",k);g(l.appendTo).append(j.helper);j.helper.css({left:k.clientX,top:k.clientY,width:0,height:0});l.autoRefresh&&j.refresh();j.selectees.filter(".ui-selected").each(function(){var f=g.data(this,e);f.startselected=b;if(!k.metaKey){f.$element.removeClass(c);f.selected=a;f.$element.addClass(d);f.unselecting=b;m._trigger(h,k,{unselecting:f.element})}});g(k.target).parents().andSelf().each(function(){var b=g.data(this,e);if(b){var j=!k.metaKey||!b.$element.hasClass(c);b.$element.removeClass(j?d:c).addClass(j?f:d);b.unselecting=!j;b.selecting=j;(b.selected=j)?m._trigger(i,k,{selecting:b.element}):m._trigger(h,k,{unselecting:b.element});return a}})}},_mouseDrag:function(l){var j=this,p=j;j.dragged=b;if(!j.options.disabled){var r=j.options,k=j.opos[0],m=j.opos[1],n=l.pageX,o=l.pageY;if(k>n){var q=n;n=k;k=q}if(m>o){q=o;o=m;m=q}j.helper.css({left:k,top:m,width:n-k,height:o-m});j.selectees.each(function(){var j=g.data(this,e);if(!(!j||j.element==p.element[0])){var q=a;if(r.tolerance=="touch")q=!(j.left>n||j.right<k||j.top>o||j.bottom<m);else if(r.tolerance=="fit")q=j.left>k&&j.right<n&&j.top>m&&j.bottom<o;if(q){if(j.selected){j.$element.removeClass(c);j.selected=a}if(j.unselecting){j.$element.removeClass(d);j.unselecting=a}if(!j.selecting){j.$element.addClass(f);j.selecting=b;p._trigger(i,l,{selecting:j.element})}}else{if(j.selecting)if(l.metaKey&&j.startselected){j.$element.removeClass(f);j.selecting=a;j.$element.addClass(c);j.selected=b}else{j.$element.removeClass(f);j.selecting=a;if(j.startselected){j.$element.addClass(d);j.unselecting=b}p._trigger(h,l,{unselecting:j.element})}if(j.selected)if(!l.metaKey&&!j.startselected){j.$element.removeClass(c);j.selected=a;j.$element.addClass(d);j.unselecting=b;p._trigger(h,l,{unselecting:j.element})}}}});return a}},_mouseStop:function(i){var h=this,j=h;h.dragged=a;g(".ui-unselecting",h.element[0]).each(function(){var b=g.data(this,e);b.$element.removeClass(d);b.unselecting=a;b.startselected=a;j._trigger("unselected",i,{unselected:b.element})});g(".ui-selecting",h.element[0]).each(function(){var d=g.data(this,e);d.$element.removeClass(f).addClass(c);d.selecting=a;d.selected=b;d.startselected=b;j._trigger("selected",i,{selected:d.element})});h._trigger("stop",i);h.helper.remove();return a}});g.extend(g.ui.selectable,{version:"1.8.16"})})(jQuery);(function(a){var f="fixed",G="relative",y="borderLeftWidth",x="borderTopWidth",k="top",F="paddingRight",E="paddingLeft",D="paddingBottom",C="paddingTop",w=".ui-sortable-helper",h="left",q="right",v="deactivate",c=10,u="change",t="pointer",i="down",m="ui-sortable-helper",p="zIndex",o="opacity",n="cursor",j="body",g="absolute",s="position",d=null,l="sortable-item",r="sortable",B="original",e=true,A="auto",b=false,z="parent";a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:z,axis:b,connectWith:b,containment:b,cursor:A,cursorAt:b,dropOnEmpty:e,forcePlaceholderSize:b,forceHelperSize:b,grid:b,handle:b,helper:B,items:"> *",opacity:b,placeholder:b,revert:b,scroll:e,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this,c=a.options;a.containerCache={};a.element.addClass("ui-sortable");a.refresh();a.floating=a.items.length?c.axis==="x"||/left|right/.test(a.items[0].item.css("float"))||/inline|table-cell/.test(a.items[0].item.css("display")):b;a.offset=a.element.offset();a._mouseInit()},destroy:function(){var a=this;a.element.removeClass("ui-sortable ui-sortable-disabled").removeData(r).unbind(".sortable");a._mouseDestroy();for(var b=a.items.length-1;b>=0;b--)a.items[b].item.removeData(l);return a},_setOption:function(b,c){if(b==="disabled"){this.options[b]=c;this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")}else a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(f,j){var c=this;if(c.reverting)return b;if(c.options.disabled||c.options.type=="static")return b;c._refreshItems(f);var g=d,h=c;a(f.target).parents().each(function(){if(a.data(this,l)==h){g=a(this);return b}});if(a.data(f.target,l)==h)g=a(f.target);if(!g)return b;if(c.options.handle&&!j){var i=b;a(c.options.handle,g).find("*").andSelf().each(function(){if(this==f.target)i=e});if(!i)return b}c.currentItem=g;c._removeCurrentsFromItems();return e},_mouseStart:function(d,c,f){var b=this;c=b.options;var h=b;b.currentContainer=b;b.refreshPositions();b.helper=b._createHelper(d);b._cacheHelperProportions();b._cacheMargins();b.scrollParent=b.helper.scrollParent();b.offset=b.currentItem.offset();b.offset={top:b.offset.top-b.margins.top,left:b.offset.left-b.margins.left};b.helper.css(s,g);b.cssPosition=b.helper.css(s);a.extend(b.offset,{click:{left:d.pageX-b.offset.left,top:d.pageY-b.offset.top},parent:b._getParentOffset(),relative:b._getRelativeOffset()});b.originalPosition=b._generatePosition(d);b.originalPageX=d.pageX;b.originalPageY=d.pageY;c.cursorAt&&b._adjustOffsetFromHelper(c.cursorAt);b.domPosition={prev:b.currentItem.prev()[0],parent:b.currentItem.parent()[0]};b.helper[0]!=b.currentItem[0]&&b.currentItem.hide();b._createPlaceholder();c.containment&&b._setContainment();if(c.cursor){if(a(j).css(n))b._storedCursor=a(j).css(n);a(j).css(n,c.cursor)}if(c.opacity){if(b.helper.css(o))b._storedOpacity=b.helper.css(o);b.helper.css(o,c.opacity)}if(c.zIndex){if(b.helper.css(p))b._storedZIndex=b.helper.css(p);b.helper.css(p,c.zIndex)}if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset();b._trigger("start",d,b._uiHash());b._preserveHelperProportions||b._cacheHelperProportions();if(!f)for(f=b.containers.length-1;f>=0;f--)b.containers[f]._trigger("activate",d,h._uiHash(b));if(a.ui.ddmanager)a.ui.ddmanager.current=b;a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d);b.dragging=e;b.helper.addClass(m);b._mouseDrag(d);return e},_mouseDrag:function(f){var c=this;c.position=c._generatePosition(f);c.positionAbs=c._convertPositionTo(g);if(!c.lastPositionAbs)c.lastPositionAbs=c.positionAbs;if(c.options.scroll){var d=c.options,h=b;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(c.overflowOffset.top+c.scrollParent[0].offsetHeight-f.pageY<d.scrollSensitivity)c.scrollParent[0].scrollTop=h=c.scrollParent[0].scrollTop+d.scrollSpeed;else if(f.pageY-c.overflowOffset.top<d.scrollSensitivity)c.scrollParent[0].scrollTop=h=c.scrollParent[0].scrollTop-d.scrollSpeed;if(c.overflowOffset.left+c.scrollParent[0].offsetWidth-f.pageX<d.scrollSensitivity)c.scrollParent[0].scrollLeft=h=c.scrollParent[0].scrollLeft+d.scrollSpeed;else if(f.pageX-c.overflowOffset.left<d.scrollSensitivity)c.scrollParent[0].scrollLeft=h=c.scrollParent[0].scrollLeft-d.scrollSpeed}else{if(f.pageY-a(document).scrollTop()<d.scrollSensitivity)h=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed);else if(a(window).height()-(f.pageY-a(document).scrollTop())<d.scrollSensitivity)h=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed);if(f.pageX-a(document).scrollLeft()<d.scrollSensitivity)h=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed);else if(a(window).width()-(f.pageX-a(document).scrollLeft())<d.scrollSensitivity)h=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)}h!==b&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,f)}c.positionAbs=c._convertPositionTo(g);if(!c.options.axis||c.options.axis!="y")c.helper[0].style.left=c.position.left+"px";if(!c.options.axis||c.options.axis!="x")c.helper[0].style.top=c.position.top+"px";for(d=c.items.length-1;d>=0;d--){h=c.items[d];var j=h.item[0],k=c._intersectsWithPointer(h);if(k)if(j!=c.currentItem[0]&&c.placeholder[k==1?"next":"prev"]()[0]!=j&&!a.ui.contains(c.placeholder[0],j)&&(c.options.type=="semi-dynamic"?!a.ui.contains(c.element[0],j):e)){c.direction=k==1?i:"up";if(c.options.tolerance==t||c._intersectsWithSides(h))c._rearrange(f,h);else break;c._trigger(u,f,c._uiHash());break}}c._contactContainers(f);a.ui.ddmanager&&a.ui.ddmanager.drag(c,f);c._trigger("sort",f,c._uiHash());c.lastPositionAbs=c.positionAbs;return b},_mouseStop:function(g,h){var d=this;if(g){a.ui.ddmanager&&!d.options.dropBehaviour&&a.ui.ddmanager.drop(d,g);if(d.options.revert){var f=d;h=f.placeholder.offset();f.reverting=e;a(d.helper).animate({left:h.left-d.offset.parent.left-f.margins.left+(d.offsetParent[0]==document.body?0:d.offsetParent[0].scrollLeft),top:h.top-d.offset.parent.top-f.margins.top+(d.offsetParent[0]==document.body?0:d.offsetParent[0].scrollTop)},parseInt(d.options.revert,c)||500,function(){f._clear(g)})}else d._clear(g,h);return b}},cancel:function(){var c=this,f=c;if(c.dragging){c._mouseUp({target:d});c.options.helper==B?c.currentItem.css(c._storedCSS).removeClass(m):c.currentItem.show();for(var e=c.containers.length-1;e>=0;e--){c.containers[e]._trigger(v,d,f._uiHash(c));if(c.containers[e].containerCache.over){c.containers[e]._trigger("out",d,f._uiHash(c));c.containers[e].containerCache.over=0}}}if(c.placeholder){c.placeholder[0].parentNode&&c.placeholder[0].parentNode.removeChild(c.placeholder[0]);c.options.helper!=B&&c.helper&&c.helper[0].parentNode&&c.helper.remove();a.extend(c,{helper:d,dragging:b,reverting:b,_noFinalSort:d});c.domPosition.prev?a(c.domPosition.prev).after(c.currentItem):a(c.domPosition.parent).prepend(c.currentItem)}return c},serialize:function(b){var d=this._getItemsAsjQuery(b&&b.connected),c=[];b=b||{};a(d).each(function(){var d=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);d&&c.push((b.key||d[1]+"[]")+"="+(b.key&&b.expression?d[1]:d[2]))});!c.length&&b.key&&c.push(b.key+"=");return c.join("&")},toArray:function(b){var d=this._getItemsAsjQuery(b&&b.connected),c=[];b=b||{};d.each(function(){c.push(a(b.item||this).attr(b.attribute||"id")||"")});return c},_intersectsWith:function(b){var a=this,c=a.positionAbs.left,k=c+a.helperProportions.width,d=a.positionAbs.top,l=d+a.helperProportions.height,f=b.left,h=f+b.width,g=b.top,i=g+b.height,e=a.offset.click.top,j=a.offset.click.left;e=d+e>g&&d+e<i&&c+j>f&&c+j<h;return a.options.tolerance==t||a.options.forcePointerForContainers||a.options.tolerance!=t&&a.helperProportions[a.floating?"width":"height"]>b[a.floating?"width":"height"]?e:f<c+a.helperProportions.width/2&&k-a.helperProportions.width/2<h&&g<d+a.helperProportions.height/2&&l-a.helperProportions.height/2<i},_intersectsWithPointer:function(c){var d=this,e=a.ui.isOverAxis(d.positionAbs.top+d.offset.click.top,c.top,c.height);c=a.ui.isOverAxis(d.positionAbs.left+d.offset.click.left,c.left,c.width);e=e&&c;c=d._getDragVerticalDirection();var f=d._getDragHorizontalDirection();return!e?b:d.floating?f&&f==q||c==i?2:1:c&&(c==i?2:1)},_intersectsWithSides:function(b){var c=this,f=a.ui.isOverAxis(c.positionAbs.top+c.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(c.positionAbs.left+c.offset.click.left,b.left+b.width/2,b.width);var d=c._getDragVerticalDirection(),e=c._getDragHorizontalDirection();return c.floating&&e?e==q&&b||e==h&&!b:d&&(d==i&&f||d=="up"&&!f)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?i:"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?q:h)},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(c){var f=".ui-sortable-placeholder",b=this,j=[],g=[],h=b._connectWith();if(h&&c)for(c=h.length-1;c>=0;c--)for(var k=a(h[c]),i=k.length-1;i>=0;i--){var e=a.data(k[i],r);e&&e!=b&&!e.options.disabled&&g.push([a.isFunction(e.options.items)?e.options.items.call(e.element):a(e.options.items,e.element).not(w).not(f),e])}g.push([a.isFunction(b.options.items)?b.options.items.call(b.element,d,{options:b.options,item:b.currentItem}):a(b.options.items,b.element).not(w).not(f),b]);for(c=g.length-1;c>=0;c--)g[c][0].each(function(){j.push(this)});return a(j)},_removeCurrentsFromItems:function(){var a=this;for(var d=a.currentItem.find(":data(sortable-item)"),b=0;b<a.items.length;b++)for(var c=0;c<d.length;c++)d[c]==a.items[b].item[0]&&a.items.splice(b,1)},_refreshItems:function(g){var b=this;b.items=[];b.containers=[b];var j=b.items,h=[[a.isFunction(b.options.items)?b.options.items.call(b.element[0],g,{item:b.currentItem}):a(b.options.items,b.element),b]],f=b._connectWith();if(f)for(var d=f.length-1;d>=0;d--)for(var i=a(f[d]),e=i.length-1;e>=0;e--){var c=a.data(i[e],r);if(c&&c!=b&&!c.options.disabled){h.push([a.isFunction(c.options.items)?c.options.items.call(c.element[0],g,{item:b.currentItem}):a(c.options.items,c.element),c]);b.containers.push(c)}}for(d=h.length-1;d>=0;d--){g=h[d][1];f=h[d][0];e=0;for(i=f.length;e<i;e++){c=a(f[e]);c.data(l,g);j.push({item:c,instance:g,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){var b=this;if(b.offsetParent&&b.helper)b.offset.parent=b._getParentOffset();for(var c=b.items.length-1;c>=0;c--){var e=b.items[c];if(!(e.instance!=b.currentContainer&&b.currentContainer&&e.item[0]!=b.currentItem[0])){var d=b.options.toleranceElement?a(b.options.toleranceElement,e.item):e.item;if(!f){e.width=d.outerWidth();e.height=d.outerHeight()}d=d.offset();e.left=d.left;e.top=d.top}}if(b.options.custom&&b.options.custom.refreshContainers)b.options.custom.refreshContainers.call(b);else for(c=b.containers.length-1;c>=0;c--){d=b.containers[c].element.offset();b.containers[c].containerCache.left=d.left;b.containers[c].containerCache.top=d.top;b.containers[c].containerCache.width=b.containers[c].element.outerWidth();b.containers[c].containerCache.height=b.containers[c].element.outerHeight()}return b},_createPlaceholder:function(f){var b=f||this,d=b.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var c=a(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass(m)[0];if(!e)c.style.visibility="hidden";return c},update:function(f,a){if(!(e&&!d.forcePlaceholderSize)){a.height()||a.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css(C)||0,c)-parseInt(b.currentItem.css(D)||0,c));a.width()||a.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css(E)||0,c)-parseInt(b.currentItem.css(F)||0,c))}}}}b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);d.placeholder.update(b,b.placeholder)},_contactContainers:function(g){var b=this;for(var i=d,f=d,c=b.containers.length-1;c>=0;c--)if(!a.ui.contains(b.currentItem[0],b.containers[c].element[0]))if(b._intersectsWith(b.containers[c].containerCache)){if(!(i&&a.ui.contains(b.containers[c].element[0],i.element[0]))){i=b.containers[c];f=c}}else if(b.containers[c].containerCache.over){b.containers[c]._trigger("out",g,b._uiHash(b));b.containers[c].containerCache.over=0}if(i)if(b.containers.length===1){b.containers[f]._trigger("over",g,b._uiHash(b));b.containers[f].containerCache.over=1}else if(b.currentContainer!=b.containers[f]){i=1e4;c=d;for(var l=b.positionAbs[b.containers[f].floating?h:k],j=b.items.length-1;j>=0;j--)if(a.ui.contains(b.containers[f].element[0],b.items[j].item[0])){var m=b.items[j][b.containers[f].floating?h:k];if(Math.abs(m-l)<i){i=Math.abs(m-l);c=b.items[j]}}if(c||b.options.dropOnEmpty){b.currentContainer=b.containers[f];c?b._rearrange(g,c,d,e):b._rearrange(g,d,b.containers[f].element,e);b._trigger(u,g,b._uiHash());b.containers[f]._trigger(u,g,b._uiHash(b));b.options.placeholder.update(b.currentContainer,b.placeholder);b.containers[f]._trigger("over",g,b._uiHash(b));b.containers[f].containerCache.over=1}}},_createHelper:function(c){var b=this,d=b.options;c=a.isFunction(d.helper)?a(d.helper.apply(b.element[0],[c,b.currentItem])):d.helper=="clone"?b.currentItem.clone():b.currentItem;c.parents(j).length||a(d.appendTo!=z?d.appendTo:b.currentItem[0].parentNode)[0].appendChild(c[0]);if(c[0]==b.currentItem[0])b._storedCSS={width:b.currentItem[0].style.width,height:b.currentItem[0].style.height,position:b.currentItem.css(s),top:b.currentItem.css(k),left:b.currentItem.css(h)};(c[0].style.width==""||d.forceHelperSize)&&c.width(b.currentItem.width());(c[0].style.height==""||d.forceHelperSize)&&c.height(b.currentItem.height());return c},_adjustOffsetFromHelper:function(b){var c=this;if(typeof b=="string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||0};if(h in b)c.offset.click.left=b.left+c.margins.left;if(q in b)c.offset.click.left=c.helperProportions.width-b.right+c.margins.left;if(k in b)c.offset.click.top=b.top+c.margins.top;if("bottom"in b)c.offset.click.top=c.helperProportions.height-b.bottom+c.margins.top},_getParentOffset:function(){var b=this;b.offsetParent=b.helper.offsetParent();var d=b.offsetParent.offset();if(b.cssPosition==g&&b.scrollParent[0]!=document&&a.ui.contains(b.scrollParent[0],b.offsetParent[0])){d.left+=b.scrollParent.scrollLeft();d.top+=b.scrollParent.scrollTop()}if(b.offsetParent[0]==document.body||b.offsetParent[0].tagName&&b.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(b.offsetParent.css(x),c)||0),left:d.left+(parseInt(b.offsetParent.css(y),c)||0)}},_getRelativeOffset:function(){var a=this;if(a.cssPosition==G){var b=a.currentItem.position();return{top:b.top-(parseInt(a.helper.css(k),c)||0)+a.scrollParent.scrollTop(),left:b.left-(parseInt(a.helper.css(h),c)||0)+a.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),c)||0,top:parseInt(this.currentItem.css("marginTop"),c)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f="document",b=this,e=b.options;if(e.containment==z)e.containment=b.helper[0].parentNode;if(e.containment==f||e.containment=="window")b.containment=[0-b.offset.relative.left-b.offset.parent.left,0-b.offset.relative.top-b.offset.parent.top,a(e.containment==f?document:window).width()-b.helperProportions.width-b.margins.left,(a(e.containment==f?document:window).height()||document.body.parentNode.scrollHeight)-b.helperProportions.height-b.margins.top];if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0];e=a(e.containment).offset();var g=a(d).css("overflow")!="hidden";b.containment=[e.left+(parseInt(a(d).css(y),c)||0)+(parseInt(a(d).css(E),c)||0)-b.margins.left,e.top+(parseInt(a(d).css(x),c)||0)+(parseInt(a(d).css(C),c)||0)-b.margins.top,e.left+(g?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(y),c)||0)-(parseInt(a(d).css(F),c)||0)-b.helperProportions.width-b.margins.left,e.top+(g?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(x),c)||0)-(parseInt(a(d).css(D),c)||0)-b.helperProportions.height-b.margins.top]}},_convertPositionTo:function(c,d){var b=this;if(!d)d=b.position;c=c==g?1:-1;var e=b.cssPosition==g&&!(b.scrollParent[0]!=document&&a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,h=/(html|body)/i.test(e[0].tagName);return{top:d.top+b.offset.relative.top*c+b.offset.parent.top*c-(a.browser.safari&&b.cssPosition==f?0:(b.cssPosition==f?-b.scrollParent.scrollTop():h?0:e.scrollTop())*c),left:d.left+b.offset.relative.left*c+b.offset.parent.left*c-(a.browser.safari&&b.cssPosition==f?0:(b.cssPosition==f?-b.scrollParent.scrollLeft():h?0:e.scrollLeft())*c)}},_generatePosition:function(h){var b=this,e=b.options,i=b.cssPosition==g&&!(b.scrollParent[0]!=document&&a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,j=/(html|body)/i.test(i[0].tagName);if(b.cssPosition==G&&!(b.scrollParent[0]!=document&&b.scrollParent[0]!=b.offsetParent[0]))b.offset.relative=b._getRelativeOffset();var c=h.pageX,d=h.pageY;if(b.originalPosition){if(b.containment){if(h.pageX-b.offset.click.left<b.containment[0])c=b.containment[0]+b.offset.click.left;if(h.pageY-b.offset.click.top<b.containment[1])d=b.containment[1]+b.offset.click.top;if(h.pageX-b.offset.click.left>b.containment[2])c=b.containment[2]+b.offset.click.left;if(h.pageY-b.offset.click.top>b.containment[3])d=b.containment[3]+b.offset.click.top}if(e.grid){d=b.originalPageY+Math.round((d-b.originalPageY)/e.grid[1])*e.grid[1];d=b.containment?!(d-b.offset.click.top<b.containment[1]||d-b.offset.click.top>b.containment[3])?d:!(d-b.offset.click.top<b.containment[1])?d-e.grid[1]:d+e.grid[1]:d;c=b.originalPageX+Math.round((c-b.originalPageX)/e.grid[0])*e.grid[0];c=b.containment?!(c-b.offset.click.left<b.containment[0]||c-b.offset.click.left>b.containment[2])?c:!(c-b.offset.click.left<b.containment[0])?c-e.grid[0]:c+e.grid[0]:c}}return{top:d-b.offset.click.top-b.offset.relative.top-b.offset.parent.top+(a.browser.safari&&b.cssPosition==f?0:b.cssPosition==f?-b.scrollParent.scrollTop():j?0:i.scrollTop()),left:c-b.offset.click.left-b.offset.relative.left-b.offset.parent.left+(a.browser.safari&&b.cssPosition==f?0:b.cssPosition==f?-b.scrollParent.scrollLeft():j?0:i.scrollLeft())}},_rearrange:function(g,b,c,e){var a=this;c?c[0].appendChild(a.placeholder[0]):b.item[0].parentNode.insertBefore(a.placeholder[0],a.direction==i?b.item[0]:b.item[0].nextSibling);a.counter=a.counter?++a.counter:1;var d=a,f=a.counter;window.setTimeout(function(){f==d.counter&&d.refreshPositions(!e)},0)},_clear:function(i,h){var k="beforeStop",c=this;c.reverting=b;var g=[];!c._noFinalSort&&c.currentItem.parent().length&&c.placeholder.before(c.currentItem);c._noFinalSort=d;if(c.helper[0]==c.currentItem[0]){for(var f in c._storedCSS)if(c._storedCSS[f]==A||c._storedCSS[f]=="static")c._storedCSS[f]="";c.currentItem.css(c._storedCSS).removeClass(m)}else c.currentItem.show();c.fromOutside&&!h&&g.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(c.fromOutside||c.domPosition.prev!=c.currentItem.prev().not(w)[0]||c.domPosition.parent!=c.currentItem.parent()[0])&&!h&&g.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(c.element[0],c.currentItem[0])){h||g.push(function(a){this._trigger("remove",a,this._uiHash())});for(f=c.containers.length-1;f>=0;f--)if(a.ui.contains(c.containers[f].element[0],c.currentItem[0])&&!h){g.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(c,c.containers[f]));g.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(c,c.containers[f]))}}for(f=c.containers.length-1;f>=0;f--){h||g.push(function(a){return function(b){a._trigger(v,b,this._uiHash(this))}}.call(c,c.containers[f]));if(c.containers[f].containerCache.over){g.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(c,c.containers[f]));c.containers[f].containerCache.over=0}}c._storedCursor&&a(j).css(n,c._storedCursor);c._storedOpacity&&c.helper.css(o,c._storedOpacity);c._storedZIndex&&c.helper.css(p,c._storedZIndex==A?"":c._storedZIndex);c.dragging=b;if(c.cancelHelperRemoval){if(!h){c._trigger(k,i,c._uiHash());for(f=0;f<g.length;f++)g[f].call(c,i);c._trigger("stop",i,c._uiHash())}return b}h||c._trigger(k,i,c._uiHash());c.placeholder[0].parentNode.removeChild(c.placeholder[0]);c.helper[0]!=c.currentItem[0]&&c.helper.remove();c.helper=d;if(!h){for(f=0;f<g.length;f++)g[f].call(c,i);c._trigger("stop",i,c._uiHash())}c.fromOutside=b;return e},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===b&&this.cancel()},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:c?c.element:d}}});a.extend(a.ui.sortable,{version:"1.8.16"})})(jQuery);(function(a){var g="overflow",f="height",n="ui-accordion-icons",e=".ui-icon",m=".accordion",d="tabIndex",k="true",j="false",c="role",i="ui-accordion-content-active",l="ui-accordion ui-widget ui-helper-reset",b=false,h=true;a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:h,clearStyle:b,collapsible:b,event:"click",fillSpace:b,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:b,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var g="ui-state-focus",f="ui-state-hover",b=this,e=b.options;b.running=0;b.element.addClass(l).children("li").addClass("ui-accordion-li-fix");b.headers=b.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){e.disabled||a(this).addClass(f)}).bind("mouseleave.accordion",function(){e.disabled||a(this).removeClass(f)}).bind("focus.accordion",function(){e.disabled||a(this).addClass(g)}).bind("blur.accordion",function(){e.disabled||a(this).removeClass(g)});b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(e.navigation){var h=b.element.find("a").filter(e.navigationFilter).eq(0);if(h.length){var n=h.closest(".ui-accordion-header");b.active=n.length?n:h.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||e.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");b.active.next().addClass(i);b._createIcons();b.resize();b.element.attr(c,"tablist");b.headers.attr(c,"tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr(c,"tabpanel");b.headers.not(b.active||"").attr({"aria-expanded":j,"aria-selected":j,tabIndex:-1}).next().hide();b.active.length?b.active.attr({"aria-expanded":k,"aria-selected":k,tabIndex:0}):b.headers.eq(0).attr(d,0);a.browser.safari||b.headers.find("a").attr(d,-1);e.event&&b.headers.bind(e.event.split(" ").join(".accordion ")+m,function(a){b._clickHandler.call(b,a,this);a.preventDefault()})},_createIcons:function(){var b=this,c=b.options;if(c.icons){a("<span></span>").addClass("ui-icon "+c.icons.header).prependTo(b.headers);b.active.children(e).toggleClass(c.icons.header).toggleClass(c.icons.headerSelected);b.element.addClass(n)}},_destroyIcons:function(){this.headers.children(e).remove();this.element.removeClass(n)},destroy:function(){var b=this,e=b.options;b.element.removeClass(l).removeAttr(c);b.headers.unbind(m).removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr(c).removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr(d);b.headers.find("a").removeAttr(d);b._destroyIcons();var g=b.headers.next().css("display","").removeAttr(c).removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(e.autoHeight||e.fillHeight)&&g.css(f,"");return a.Widget.prototype.destroy.call(b)},_setOption:function(c,d){var b=this;a.Widget.prototype._setOption.apply(b,arguments);c=="active"&&b.activate(d);if(c=="icons"){b._destroyIcons();d&&b._createIcons()}c=="disabled"&&b.headers.add(b.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(c){var e=this;if(!(e.options.disabled||c.altKey||c.ctrlKey)){var f=a.ui.keyCode,i=e.headers.length,j=e.headers.index(c.target),g=b;switch(c.keyCode){case f.RIGHT:case f.DOWN:g=e.headers[(j+1)%i];break;case f.LEFT:case f.UP:g=e.headers[(j-1+i)%i];break;case f.SPACE:case f.ENTER:e._clickHandler({target:c.target},c.target);c.preventDefault()}if(g){a(c.target).attr(d,-1);a(g).attr(d,0);g.focus();return b}return h}},resize:function(){var b=this,d=b.options,c;if(d.fillSpace){if(a.browser.msie){var e=b.element.parent().css(g);b.element.parent().css(g,"hidden")}c=b.element.parent().height();a.browser.msie&&b.element.parent().css(g,e);b.headers.each(function(){c-=a(this).outerHeight(h)});b.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css(g,"auto")}else if(d.autoHeight){c=0;b.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c)}return b},activate:function(a){var b=this;b.options.active=a;a=b._findActive(a)[0];b._clickHandler({target:a},a);return b},_findActive:function(c){var d=this;return c?typeof c==="number"?d.headers.filter(":eq("+c+")"):d.headers.not(d.headers.not(c)):c===b?a([]):d.headers.filter(":eq(0)")},_clickHandler:function(f,g){var j="ui-state-default ui-corner-all",h="ui-state-active ui-corner-top",c=this,d=c.options;if(!d.disabled)if(f.target){f=a(f.currentTarget||g);g=f[0]===c.active[0];d.active=d.collapsible&&g?b:c.headers.index(f);if(!(c.running||!d.collapsible&&g)){var o=c.active;l=f.next();k=c.active.next();m={options:d,newHeader:g&&d.collapsible?a([]):f,oldHeader:c.active,newContent:g&&d.collapsible?a([]):l,oldContent:k};var n=c.headers.index(c.active[0])>c.headers.index(f[0]);c.active=g?a([]):f;c._toggle(l,k,m,g,n);o.removeClass(h).addClass(j).children(e).removeClass(d.icons.headerSelected).addClass(d.icons.header);if(!g){f.removeClass(j).addClass(h).children(e).removeClass(d.icons.header).addClass(d.icons.headerSelected);f.next().addClass(i)}}}else if(d.collapsible){c.active.removeClass(h).addClass(j).children(e).removeClass(d.icons.headerSelected).addClass(d.icons.header);c.active.next().addClass(i);var k=c.active.next(),m={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:k},l=c.active=a([]);c._toggle(l,k,m)}},_toggle:function(g,e,i,f,m){var c=this,b=c.options;c.toShow=g;c.toHide=e;c.data=i;var l=function(){if(c)return c._completed.apply(c,arguments)};c._trigger("changestart",null,c.data);c.running=e.size()===0?g.size():e.size();if(b.animated){i={};i=b.collapsible&&f?{toShow:a([]),toHide:e,complete:l,down:m,autoHeight:b.autoHeight||b.fillSpace}:{toShow:g,toHide:e,complete:l,down:m,autoHeight:b.autoHeight||b.fillSpace};if(!b.proxied)b.proxied=b.animated;if(!b.proxiedDuration)b.proxiedDuration=b.duration;b.animated=a.isFunction(b.proxied)?b.proxied(i):b.proxied;b.duration=a.isFunction(b.proxiedDuration)?b.proxiedDuration(i):b.proxiedDuration;f=a.ui.accordion.animations;var n=b.duration,d=b.animated;if(d&&!f[d]&&!a.easing[d])d="slide";f[d]||(f[d]=function(a){this.slide(a,{easing:d,duration:n||700})});f[d](i)}else{if(b.collapsible&&f)g.toggle();else{e.hide();g.show()}l(h)}e.prev().attr({"aria-expanded":j,"aria-selected":j,tabIndex:-1}).blur();g.prev().attr({"aria-expanded":k,"aria-selected":k,tabIndex:0}).focus()},_completed:function(b){var a=this;a.running=b?0:--a.running;if(!a.running){a.options.clearStyle&&a.toShow.add(a.toHide).css({height:"",overflow:""});a.toHide.removeClass(i);if(a.toHide.length)a.toHide.parent()[0].className=a.toHide.parent()[0].className;a._trigger("change",null,a.data)}}});a.extend(a.ui.accordion,{version:"1.8.16",animations:{slide:function(b,d){var e="show",c="hide";b=a.extend({easing:"swing",duration:300},b,d);if(b.toHide.size())if(b.toShow.size()){var l=b.toShow.css(g),k=0,h={},j={},i;d=b.toShow;i=d[0].style.width;d.width(parseInt(d.parent().width(),10)-parseInt(d.css("paddingLeft"),10)-parseInt(d.css("paddingRight"),10)-(parseInt(d.css("borderLeftWidth"),10)||0)-(parseInt(d.css("borderRightWidth"),10)||0));a.each([f,"paddingTop","paddingBottom"],function(e,d){j[d]=c;e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);h[d]={value:e[1],unit:e[2]||"px"}});b.toShow.css({height:0,overflow:"hidden"}).show();b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(j,{step:function(c,a){if(a.prop==f)k=a.end-a.start===0?0:(a.now-a.start)/(a.end-a.start);b.toShow[0].style[a.prop]=k*h[a.prop].value+h[a.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css(f,"");b.toShow.css({width:i,overflow:l});b.complete()}})}else b.toHide.animate({height:c,paddingTop:c,paddingBottom:c},b);else b.toShow.animate({height:e,paddingTop:e,paddingBottom:e},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})})(jQuery);(function(a){var i="ui-autocomplete-loading",e=":visible",d="item.autocomplete",h="autocomplete",g="ui-autocomplete-input",b=null,c=false,f="body",j=0;a.widget("ui.autocomplete",{options:{appendTo:f,autoFocus:c,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:b},pending:0,_create:function(){var j=this,i=j,l=j.element[0].ownerDocument,k;j.element.addClass(g).attr(h,"off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){if(!(i.options.disabled||i.element.propAttr("readOnly"))){k=c;var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:i._move("previousPage",d);break;case e.PAGE_DOWN:i._move("nextPage",d);break;case e.UP:i._move("previous",d);d.preventDefault();break;case e.DOWN:i._move("next",d);d.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:if(i.menu.active){k=true;d.preventDefault()}case e.TAB:if(!i.menu.active)return;i.menu.select(d);break;case e.ESCAPE:i.element.val(i.term);i.close(d);break;default:clearTimeout(i.searching);i.searching=setTimeout(function(){if(i.term!=i.element.val()){i.selectedItem=b;i.search(b,d)}},i.options.delay)}}}).bind("keypress.autocomplete",function(a){if(k){k=c;a.preventDefault()}}).bind("focus.autocomplete",function(){if(!i.options.disabled){i.selectedItem=b;i.previous=i.element.val()}}).bind("blur.autocomplete",function(a){if(!i.options.disabled){clearTimeout(i.searching);i.closing=setTimeout(function(){i.close(a);i._change(a)},150)}});j._initSource();j.response=function(){return i._response.apply(i,arguments)};j.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(j.options.appendTo||f,l)[0]).mousedown(function(c){var b=i.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==i.element[0]&&c.target!==b&&!a.ui.contains(b,c.target)&&i.close()})},1);setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(b,a){a=a.item.data(d);c!==i._trigger("focus",b,{item:a})&&/^key/.test(b.originalEvent.type)&&i.element.val(a.value)},selected:function(b,f){var a=f.item.data(d),e=i.previous;if(i.element[0]!==l.activeElement){i.element.focus();i.previous=e;setTimeout(function(){i.previous=e;i.selectedItem=a},1)}c!==i._trigger("select",b,{item:a})&&i.element.val(a.value);i.term=i.element.val();i.close(b);i.selectedItem=a},blur:function(){i.menu.element.is(e)&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(j.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&j.menu.element.bgiframe()},destroy:function(){this.element.removeClass(g).removeAttr(h).removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(c,d){var b=this;a.Widget.prototype._setOption.apply(b,arguments);c==="source"&&b._initSource();c==="appendTo"&&b.menu.element.appendTo(a(d||f,b.element[0].ownerDocument)[0]);c==="disabled"&&d&&b.xhr&&b.xhr.abort()},_initSource:function(){var b=this,c=b,d,e;if(a.isArray(b.options.source)){d=b.options.source;b.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}}else if(typeof b.options.source==="string"){e=b.options.source;b.source=function(d,b){c.xhr&&c.xhr.abort();c.xhr=a.ajax({url:e,data:d,dataType:"json",autocompleteRequest:++j,success:function(a){this.autocompleteRequest===j&&b(a)},error:function(){this.autocompleteRequest===j&&b([])}})}}else b.source=b.options.source},search:function(d,e){var a=this;d=d!=b?d:a.element.val();a.term=a.element.val();if(d.length<a.options.minLength)return a.close(e);clearTimeout(a.closing);if(a._trigger("search",e)!==c)return a._search(d)},_search:function(b){var a=this;a.pending++;a.element.addClass(i);a.source({term:b},a.response)},_response:function(b){var a=this;if(!a.options.disabled&&b&&b.length){b=a._normalize(b);a._suggest(b);a._trigger("open")}else a.close();a.pending--;a.pending||a.element.removeClass(i)},close:function(b){var a=this;clearTimeout(a.closing);if(a.menu.element.is(e)){a.menu.element.hide();a.menu.deactivate();a._trigger("close",b)}},_change:function(b){var a=this;a.previous!==a.element.val()&&a._trigger("change",b,{item:a.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b==="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(d){var b=this,c=b.menu.element.empty().zIndex(b.element.zIndex()+1);b._renderMenu(c,d);b.menu.deactivate();b.menu.refresh();c.show();b._resizeMenu();c.position(a.extend({of:b.element},b.options.position));b.options.autoFocus&&b.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(c,a){d._renderItem(b,a)})},_renderItem:function(c,b){return a("<li></li>").data(d,b).append(a("<a></a>").text(b.label)).appendTo(c)},_move:function(c,d){var a=this;if(a.menu.element.is(e))if(a.menu.first()&&/^previous/.test(c)||a.menu.last()&&/^next/.test(c)){a.element.val(a.term);a.menu.deactivate()}else a.menu[c](d);else a.search(b,d)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery);(function(b){var a=".ui-menu-item",d=".ui-menu-item:last",c=".ui-menu-item:first",f="ui-state-hover",e="ui-active-menuitem";b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":e}).click(function(c){if(b(c.target).closest(".ui-menu-item a").length){c.preventDefault();a.select(c)}});this.refresh()},refresh:function(){var a=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){a.activate(c,b(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(h,b){var a=this;a.deactivate();if(a.hasScroll()){var c=b.offset().top-a.element.offset().top,g=a.element.scrollTop(),d=a.element.height();if(c<0)a.element.scrollTop(g+c);else c>=d&&a.element.scrollTop(g+c-d+b.height())}a.active=b.eq(0).children("a").addClass(f).attr("id",e).end();a._trigger("focus",h,{item:b})},deactivate:function(){var a=this;if(a.active){a.active.children("a").removeClass(f).removeAttr("id");a._trigger("blur");a.active=null}},next:function(a){this.move("next",c,a)},previous:function(a){this.move("prev",d,a)},first:function(){return this.active&&!this.active.prevAll(a).length},last:function(){return this.active&&!this.active.nextAll(a).length},move:function(c,e,d){var b=this;if(b.active){c=b.active[c+"All"](a).eq(0);c.length?b.activate(d,c):b.activate(d,b.element.children(e))}else b.activate(d,b.element.children(e))},nextPage:function(f){var e=this;if(e.hasScroll())if(!e.active||e.last())e.activate(f,e.element.children(c));else{var h=e.active.offset().top,i=e.element.height(),g=e.element.children(a).filter(function(){var a=b(this).offset().top-h-i+b(this).height();return a<10&&a>-10});g.length||(g=e.element.children(d));e.activate(f,g)}else e.activate(f,e.element.children(a).filter(!e.active||e.last()?":first":":last"))},previousPage:function(f){var e=this;if(e.hasScroll())if(!e.active||e.first())e.activate(f,e.element.children(d));else{var g=e.active.offset().top,h=e.element.height();result=e.element.children(a).filter(function(){var a=b(this).offset().top-g+h-b(this).height();return a<10&&a>-10});result.length||(result=e.element.children(c));e.activate(f,result)}else e.activate(f,e.element.children(a).filter(!e.active||e.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})})(jQuery);(function(b){var t="ui-buttonset",m=":checked",s="ui-helper-hidden-accessible",p="input",l="false",e="widget",k="true",c="aria-pressed",d=false,a="ui-state-active",r=":disabled",i="radio",h="checkbox",o="title",f="disabled",j=true,g=null,n=":ui-button",u,v,w,q,y=function(){var a=b(this).find(n);setTimeout(function(){a.button("refresh")},1)},x=function(a){var c=a.name,d=a.form,e=b([]);if(c)e=d?b(d).find("[name='"+c+"']"):b("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form});return e};b.widget("ui.button",{options:{disabled:g,text:j,label:g,icons:{primary:g,secondary:g}},_create:function(){var C="mouseup.button",B="mousedown.button",t="ui-state-focus",s="click.button",z="ui-state-hover",A="reset.button",m=this;m.element.closest("form").unbind(A).bind(A,y);if(typeof m.options.disabled!=="boolean")m.options.disabled=m.element.propAttr(f);m._determineButtonType();m.hasTitle=!!m.buttonElement.attr(o);var p=m,n=m.options,D=m.type===h||m.type===i,E=z+(!D?" ui-state-active":"");if(n.label===g)n.label=m.buttonElement.html();if(m.element.is(r))n.disabled=j;m.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!n.disabled){b(this).addClass(z);this===u&&b(this).addClass(a)}}).bind("mouseleave.button",function(){n.disabled||b(this).removeClass(E)}).bind(s,function(a){if(n.disabled){a.preventDefault();a.stopImmediatePropagation()}});m.element.bind("focus.button",function(){p.buttonElement.addClass(t)}).bind("blur.button",function(){p.buttonElement.removeClass(t)});if(D){m.element.bind("change.button",function(){q||p.refresh()});m.buttonElement.bind(B,function(a){if(!n.disabled){q=d;v=a.pageX;w=a.pageY}}).bind(C,function(a){if(!n.disabled)if(v!==a.pageX||w!==a.pageY)q=j})}if(m.type===h)m.buttonElement.bind(s,function(){if(n.disabled||q)return d;b(this).toggleClass(a);p.buttonElement.attr(c,p.element[0].checked)});else if(m.type===i)m.buttonElement.bind(s,function(){if(n.disabled||q)return d;b(this).addClass(a);p.buttonElement.attr(c,k);var f=p.element[0];x(f).not(f).map(function(){return b(this).button(e)[0]}).removeClass(a).attr(c,l)});else{m.buttonElement.bind(B,function(){if(n.disabled)return d;b(this).addClass(a);u=this;b(document).one("mouseup",function(){u=g})}).bind(C,function(){if(n.disabled)return d;b(this).removeClass(a)}).bind("keydown.button",function(c){if(n.disabled)return d;(c.keyCode==b.ui.keyCode.SPACE||c.keyCode==b.ui.keyCode.ENTER)&&b(this).addClass(a)}).bind("keyup.button",function(){b(this).removeClass(a)});m.buttonElement.is("a")&&m.buttonElement.keyup(function(a){a.keyCode===b.ui.keyCode.SPACE&&b(this).click()})}m._setOption(f,n.disabled);m._resetButton()},_determineButtonType:function(){var b=this;b.type=b.element.is(":checkbox")?h:b.element.is(":radio")?i:b.element.is(p)?p:"button";if(b.type===h||b.type===i){var d=b.element.parents().filter(":last"),e="label[for='"+b.element.attr("id")+"']";b.buttonElement=d.find(e);if(!b.buttonElement.length){d=d.length?d.siblings():b.element.siblings();b.buttonElement=d.filter(e);if(!b.buttonElement.length)b.buttonElement=d.find(e)}b.element.addClass(s);(d=b.element.is(m))&&b.buttonElement.addClass(a);b.buttonElement.attr(c,d)}else b.buttonElement=b.element},widget:function(){return this.buttonElement},destroy:function(){var a=this;a.element.removeClass(s);a.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr(c).html(a.buttonElement.find(".ui-button-text").html());a.hasTitle||a.buttonElement.removeAttr(o);b.Widget.prototype.destroy.call(a)},_setOption:function(c,e){var a=this;b.Widget.prototype._setOption.apply(a,arguments);if(c===f)e?a.element.propAttr(f,j):a.element.propAttr(f,d);else a._resetButton()},refresh:function(){var d=this,g=d.element.is(r);g!==d.options.disabled&&d._setOption(f,g);if(d.type===i)x(d.element[0]).each(function(){b(this).is(m)?b(this).button(e).addClass(a).attr(c,k):b(this).button(e).removeClass(a).attr(c,l)});else if(d.type===h)d.element.is(m)?d.buttonElement.addClass(a).attr(c,k):d.buttonElement.removeClass(a).attr(c,l)},_resetButton:function(){var e="'></span>",a=this;if(a.type===p)a.options.label&&a.element.val(a.options.label);else{var d=a.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),h=b("<span></span>").addClass("ui-button-text").html(a.options.label).appendTo(d.empty()).text(),c=a.options.icons,g=c.primary&&c.secondary,f=[];if(c.primary||c.secondary){a.options.text&&f.push("ui-button-text-icon"+(g?"s":c.primary?"-primary":"-secondary"));c.primary&&d.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+e);c.secondary&&d.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+e);if(!a.options.text){f.push(g?"ui-button-icons-only":"ui-button-icon-only");a.hasTitle||d.attr(o,h)}}else f.push("ui-button-text-only");d.addClass(f.join(" "))}}});b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass(t)},_init:function(){this.refresh()},_setOption:function(a,c){a===f&&this.buttons.button("option",a,c);b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var c="ui-corner-right",a="ui-corner-left",d=this,f=d.element.css("direction")==="ltr";d.buttons=d.element.find(d.options.items).filter(n).button("refresh").end().not(n).button().end().map(function(){return b(this).button(e)[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(f?a:c).end().filter(":last").addClass(f?c:a).end().end()},destroy:function(){this.element.removeClass(t);this.buttons.map(function(){return b(this).button(e)[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");b.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a,v){var e="px",u=".dialog-overlay",n="option",m=":data(resizable)",t=":visible",l="position",s="document",g="z-index",r="keypress.ui-dialog",q="beforeClose",p="ui-dialog-content ui-widget-content",o="ui-dialog ui-widget ui-widget-content ui-corner-all ",f="<div></div>",i="string",h="title",c=false,d="auto",k=null,j="close",b=true,w={buttons:b,height:b,maxHeight:b,maxWidth:b,minHeight:b,minWidth:b,width:b},x={maxHeight:b,maxWidth:b,minHeight:b,minWidth:b},y=a.attrFn||{val:b,css:b,html:b,text:b,data:b,width:b,height:b,offset:b,click:b};a.widget("ui.dialog",{options:{autoOpen:b,buttons:{},closeOnEscape:b,closeText:j,dialogClass:"",draggable:b,hide:k,height:d,maxHeight:c,maxWidth:c,minHeight:150,minWidth:150,modal:c,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:b,show:k,stack:b,title:"",width:300,zIndex:1e3},_create:function(){var l="<span></span>",j="ui-state-focus",g="ui-state-hover",e=this;e.originalTitle=e.element.attr(h);if(typeof e.originalTitle!==i)e.originalTitle="";e.options.title=e.options.title||e.originalTitle;var b=e,d=b.options,r=d.title||"&#160;",q=a.ui.dialog.getTitleId(b.element),n=(b.uiDialog=a(f)).appendTo(document.body).hide().addClass(o+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){if(d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE){b.close(c);c.preventDefault()}}).attr({role:"dialog","aria-labelledby":q}).mousedown(function(a){b.moveToTop(c,a)});b.element.show().removeAttr(h).addClass(p).appendTo(n);var m=(b.uiDialogTitlebar=a(f)).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(n),k=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){k.addClass(g)},function(){k.removeClass(g)}).focus(function(){k.addClass(j)}).blur(function(){k.removeClass(j)}).click(function(a){b.close(a);return c}).appendTo(m);(b.uiDialogTitlebarCloseText=a(l)).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(k);a(l).addClass("ui-dialog-title").attr("id",q).html(r).prependTo(m);if(a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose))d.beforeClose=d.beforeclose;m.find("*").add(m).disableSelection();d.draggable&&a.fn.draggable&&b._makeDraggable();d.resizable&&a.fn.resizable&&b._makeResizable();b._createButtons(d.buttons);b._isOpen=c;a.fn.bgiframe&&n.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy();a.uiDialog.hide();a.element.unbind(".dialog").removeData("dialog").removeClass(p).hide().appendTo("body");a.uiDialog.remove();a.originalTitle&&a.element.attr(h,a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(e){var b=this,d,f;if(c!==b._trigger(q,e)){b.overlay&&b.overlay.destroy();b.uiDialog.unbind(r);b._isOpen=c;if(b.options.hide)b.uiDialog.hide(b.options.hide,function(){b._trigger(j,e)});else{b.uiDialog.hide();b._trigger(j,e)}a.ui.dialog.overlay.resize();if(b.options.modal){d=0;a(".ui-dialog").each(function(){if(this!==b.uiDialog[0]){f=a(this).css(g);isNaN(f)||(d=Math.max(d,f))}});a.ui.dialog.maxZ=d}return b}},isOpen:function(){return this._isOpen},moveToTop:function(d,e){var b=this,c=b.options;if(c.modal&&!d||!c.stack&&!c.modal)return b._trigger("focus",e);if(c.zIndex>a.ui.dialog.maxZ)a.ui.dialog.maxZ=c.zIndex;if(b.overlay){a.ui.dialog.maxZ+=1;b.overlay.$el.css(g,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)}d={scrollTop:b.element.scrollTop(),scrollLeft:b.element.scrollLeft()};a.ui.dialog.maxZ+=1;b.uiDialog.css(g,a.ui.dialog.maxZ);b.element.attr(d);b._trigger("focus",e);return b},open:function(){var e=":tabbable";if(!this._isOpen){var d=this,f=d.options,g=d.uiDialog;d.overlay=f.modal?new a.ui.dialog.overlay(d):k;d._size();d._position(f.position);g.show(f.show);d.moveToTop(b);f.modal&&g.bind(r,function(b){if(b.keyCode===a.ui.keyCode.TAB){var d=a(e,this),f=d.filter(":first");d=d.filter(":last");if(b.target===d[0]&&!b.shiftKey){f.focus(1);return c}else if(b.target===f[0]&&b.shiftKey){d.focus(1);return c}}});a(d.element.find(e).get().concat(g.find(".ui-dialog-buttonpane :tabbable").get().concat(g.get()))).eq(0).focus();d._isOpen=b;d._trigger("open");return d}},_createButtons:function(d){var e=this,g=c,h=a(f).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),i=a(f).addClass("ui-dialog-buttonset").appendTo(h);e.uiDialog.find(".ui-dialog-buttonpane").remove();typeof d==="object"&&d!==k&&a.each(d,function(){return!(g=b)});if(g){a.each(d,function(d,b){b=a.isFunction(b)?{click:b,text:d}:b;var c=a('<button type="button"></button>').click(function(){b.click.apply(e.element[0],arguments)}).appendTo(i);a.each(b,function(a,b){if(a!=="click")a in y?c[a](b):c.attr(a,b)});a.fn.button&&c.button()});h.appendTo(e.uiDialog)}},_makeDraggable:function(){var b="ui-dialog-dragging";function e(a){return{position:a.position,offset:a.offset}}var c=this,f=c.options,g=a(document),h;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:s,start:function(g,i){h=f.height===d?d:a(this).height();a(this).height(a(this).height()).addClass(b);c._trigger("dragStart",g,e(i))},drag:function(a,b){c._trigger("drag",a,e(b))},stop:function(i,d){f.position=[d.position.left-g.scrollLeft(),d.position.top-g.scrollTop()];a(this).removeClass(b).height(h);c._trigger("dragStop",i,e(d));a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){var d="ui-dialog-resizing";function f(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===v?this.options.resizable:c;var b=this,e=b.options,g=b.uiDialog.css(l);c=typeof c===i?c:"n,e,s,w,se,sw,ne,nw";b.uiDialog.resizable({cancel:".ui-dialog-content",containment:s,alsoResize:b.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:b._minHeight(),handles:c,start:function(c,e){a(this).addClass(d);b._trigger("resizeStart",c,f(e))},resize:function(a,c){b._trigger("resize",a,f(c))},stop:function(c,g){a(this).removeClass(d);e.height=a(this).height();e.width=a(this).width();b._trigger("resizeStop",c,f(g));a.ui.dialog.overlay.resize()}}).css(l,g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height===d?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var d=this,c=[],e=[0,0],f;if(b){if(typeof b===i||typeof b==="object"&&"0"in b){c=b.split?b.split(" "):[b[0],b[1]];if(c.length===1)c[1]=c[0];a.each(["left","top"],function(a,b){if(+c[a]===c[a]){e[a]=c[a];c[a]=b}});b={my:c.join(" "),at:c.join(" "),offset:e.join(" ")}}b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;(f=d.uiDialog.is(t))||d.uiDialog.show();d.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b));f||d.uiDialog.hide()},_setOptions:function(g){var d=this,h=d,e={},f=c;a.each(g,function(a,c){h._setOption(a,c);if(a in w)f=b;if(a in x)e[a]=c});f&&d._size();d.uiDialog.is(m)&&d.uiDialog.resizable(n,e)},_setOption:function(j,b){var g="ui-dialog-disabled",d=this,e=d.uiDialog;switch(j){case"beforeclose":j=q;break;case"buttons":d._createButtons(b);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+b);break;case"dialogClass":e.removeClass(d.options.dialogClass).addClass(o+b);break;case"disabled":b?e.addClass(g):e.removeClass(g);break;case"draggable":var f=e.is(":data(draggable)");f&&!b&&e.draggable("destroy");!f&&b&&d._makeDraggable();break;case l:d._position(b);break;case"resizable":(f=e.is(m))&&!b&&e.resizable("destroy");f&&typeof b===i&&e.resizable(n,"handles",b);!f&&b!==c&&d._makeResizable(b);break;case h:a(".ui-dialog-title",d.uiDialogTitlebar).html(""+(b||"&#160;"))}a.Widget.prototype._setOption.apply(d,arguments)},_size:function(){var b=this,c=b.options,e,f,g=b.uiDialog.is(t);b.element.show().css({width:d,minHeight:0,height:0});if(c.minWidth>c.width)c.width=c.minWidth;e=b.uiDialog.css({height:d,width:c.width}).height();f=Math.max(0,c.minHeight-e);if(c.height===d)if(a.support.minHeight)b.element.css({minHeight:f,height:d});else{b.uiDialog.show();c=b.element.css("height",d).height();g||b.uiDialog.hide();b.element.height(Math.max(c,f))}else b.element.height(Math.max(c.height-e,0));b.uiDialog.is(m)&&b.uiDialog.resizable(n,"minHeight",b._minHeight())}});a.extend(a.ui.dialog,{version:"1.8.16",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");if(!a){this.uuid+=1;a=this.uuid}return"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}});a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+u}).join(" "),create:function(e){var b=this;if(b.instances.length===0){setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return c})},1);a(document).bind("keydown.dialog-overlay",function(b){if(e.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE){e.close(b);b.preventDefault()}});a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize)}var d=(b.oldInstances.pop()||a(f).addClass("ui-widget-overlay")).appendTo(document.body).css({width:b.width(),height:b.height()});a.fn.bgiframe&&d.bgiframe();b.instances.push(d);return d},destroy:function(d){var b=this,e=a.inArray(d,b.instances);e!=-1&&b.oldInstances.push(b.instances.splice(e,1)[0]);b.instances.length===0&&a([document,window]).unbind(u);d.remove();var c=0;a.each(b.instances,function(){c=Math.max(c,this.css(g))});b.maxZ=c},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+e:b+e}else return a(document).height()+e},width:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+e:b+e}else return a(document).width()+e},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)});b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}});a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(b){var h="vertical",g="ui-state-active",f="ui-state-hover",c=true,j=".ui-slider-handle",e=null,d="horizontal",a=false,i="slide";b.widget("ui.slider",b.ui.mouse,{widgetEventPrefix:i,options:{animate:a,distance:0,max:100,min:0,orientation:d,range:a,step:1,value:0,values:e},_create:function(){var l="index.ui-slider-handle",k="ui-state-focus",h=this,d=h,i=h.options,m=h.element.find(j).addClass("ui-state-default ui-corner-all"),p=i.values&&i.values.length||1,n=[];h._mouseSliding=h._keySliding=a;h._animateOff=c;h._handleIndex=e;h._detectOrientation();h._mouseInit();h.element.addClass("ui-slider ui-slider-"+h.orientation+" ui-widget ui-widget-content ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":""));h.range=b([]);if(i.range){if(i.range===c){if(!i.values)i.values=[h._valueMin(),h._valueMin()];if(i.values.length&&i.values.length!==2)i.values=[i.values[0],i.values[0]]}h.range=b("<div></div>").appendTo(h.element).addClass("ui-slider-range ui-widget-header"+(i.range==="min"||i.range==="max"?" ui-slider-range-"+i.range:""))}for(var o=m.length;o<p;o+=1)n.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");h.handles=m.add(b(n.join("")).appendTo(d.element));h.handle=h.handles.eq(0);h.handles.add(h.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){i.disabled||b(this).addClass(f)},function(){b(this).removeClass(f)}).focus(function(){if(i.disabled)b(this).blur();else{b(".ui-slider .ui-state-focus").removeClass(k);b(this).addClass(k)}}).blur(function(){b(this).removeClass(k)});h.handles.each(function(a){b(this).data(l,a)});h.handles.keydown(function(h){var k=c,i=b(this).data(l),f,e,j;if(!d.options.disabled){switch(h.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:k=a;if(!d._keySliding){d._keySliding=c;b(this).addClass(g);f=d._start(h,i);if(f===a)return}}j=d.options.step;f=d.options.values&&d.options.values.length?(e=d.values(i)):(e=d.value());switch(h.keyCode){case b.ui.keyCode.HOME:e=d._valueMin();break;case b.ui.keyCode.END:e=d._valueMax();break;case b.ui.keyCode.PAGE_UP:e=d._trimAlignValue(f+(d._valueMax()-d._valueMin())/5);break;case b.ui.keyCode.PAGE_DOWN:e=d._trimAlignValue(f-(d._valueMax()-d._valueMin())/5);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(f===d._valueMax())return;e=d._trimAlignValue(f+j);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f===d._valueMin())return;e=d._trimAlignValue(f-j)}d._slide(h,i,e);return k}}).keyup(function(c){var e=b(this).data(l);if(d._keySliding){d._keySliding=a;d._stop(c,e);d._change(c,e);b(this).removeClass(g)}});h._refreshValue();h._animateOff=a},destroy:function(){var a=this;a.handles.remove();a.range.remove();a.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");a._mouseDestroy();return a},_mouseCapture:function(h){var d=this,i=d.options,l,m,e,n,k;if(i.disabled)return a;d.elementSize={width:d.element.outerWidth(),height:d.element.outerHeight()};d.elementOffset=d.element.offset();l=d._normValueFromMouse({x:h.pageX,y:h.pageY});m=d._valueMax()-d._valueMin()+1;n=d;d.handles.each(function(a){var c=Math.abs(l-n.values(a));if(m>c){m=c;e=b(this);k=a}});if(i.range===c&&d.values(1)===i.min){k+=1;e=b(d.handles[k])}if(d._start(h,k)===a)return a;d._mouseSliding=c;n._handleIndex=k;e.addClass(g).focus();i=e.offset();d._clickOffset=!b(h.target).parents().andSelf().is(j)?{left:0,top:0}:{left:h.pageX-i.left-e.width()/2,top:h.pageY-i.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)};d.handles.hasClass(f)||d._slide(h,k,l);return d._animateOff=c},_mouseStart:function(){return c},_mouseDrag:function(b){var c=this._normValueFromMouse({x:b.pageX,y:b.pageY});this._slide(b,this._handleIndex,c);return a},_mouseStop:function(c){var b=this;b.handles.removeClass(g);b._mouseSliding=a;b._stop(c,b._handleIndex);b._change(c,b._handleIndex);b._clickOffset=b._handleIndex=e;return b._animateOff=a},_detectOrientation:function(){this.orientation=this.options.orientation===h?h:d},_normValueFromMouse:function(c){var a=this,b;if(a.orientation===d){b=a.elementSize.width;c=c.x-a.elementOffset.left-(a._clickOffset?a._clickOffset.left:0)}else{b=a.elementSize.height;c=c.y-a.elementOffset.top-(a._clickOffset?a._clickOffset.top:0)}b=c/b;if(b>1)b=1;if(b<0)b=0;if(a.orientation===h)b=1-b;c=a._valueMax()-a._valueMin();return a._trimAlignValue(a._valueMin()+b*c)},_start:function(d,c){var a=this,b={handle:a.handles[c],value:a.value()};if(a.options.values&&a.options.values.length){b.value=a.values(c);b.values=a.values()}return a._trigger("start",d,b)},_slide:function(g,e,d){var b=this,f;if(b.options.values&&b.options.values.length){f=b.values(e?0:1);if(b.options.values.length===2&&b.options.range===c&&(e===0&&d>f||e===1&&d<f))d=f;if(d!==b.values(e)){f=b.values();f[e]=d;g=b._trigger(i,g,{handle:b.handles[e],value:d,values:f});b.values(e?0:1);g!==a&&b.values(e,d,c)}}else if(d!==b.value()){g=b._trigger(i,g,{handle:b.handles[e],value:d});g!==a&&b.value(d)}},_stop:function(d,c){var a=this,b={handle:a.handles[c],value:a.value()};if(a.options.values&&a.options.values.length){b.value=a.values(c);b.values=a.values()}a._trigger("stop",d,b)},_change:function(d,c){var a=this;if(!a._keySliding&&!a._mouseSliding){var b={handle:a.handles[c],value:a.value()};if(a.options.values&&a.options.values.length){b.value=a.values(c);b.values=a.values()}a._trigger("change",d,b)}},value:function(b){var a=this;if(arguments.length){a.options.value=a._trimAlignValue(b);a._refreshValue();a._change(e,0)}else return a._value()},values:function(d,h){var a=this,f,g,c;if(arguments.length>1){a.options.values[d]=a._trimAlignValue(h);a._refreshValue();a._change(e,d)}else if(arguments.length)if(b.isArray(arguments[0])){f=a.options.values;g=arguments[0];for(c=0;c<f.length;c+=1){f[c]=a._trimAlignValue(g[c]);a._change(e,c)}a._refreshValue()}else return a.options.values&&a.options.values.length?a._values(d):a.value();else return a._values()},_setOption:function(k,l){var h="ui-disabled",g="disabled",d=this,i,j=0;if(b.isArray(d.options.values))j=d.options.values.length;b.Widget.prototype._setOption.apply(d,arguments);switch(k){case g:if(l){d.handles.filter(".ui-state-focus").blur();d.handles.removeClass(f);d.handles.propAttr(g,c);d.element.addClass(h)}else{d.handles.propAttr(g,a);d.element.removeClass(h)}break;case"orientation":d._detectOrientation();d.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+d.orientation);d._refreshValue();break;case"value":d._animateOff=c;d._refreshValue();d._change(e,0);d._animateOff=a;break;case"values":d._animateOff=c;d._refreshValue();for(i=0;i<j;i+=1)d._change(e,i);d._animateOff=a}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(d){var c=this,a,b;if(arguments.length){a=c.options.values[d];return a=c._trimAlignValue(a)}else{a=c.options.values.slice();for(b=0;b<a.length;b+=1)a[b]=c._trimAlignValue(a[b]);return a}},_trimAlignValue:function(b){var a=this;if(b<=a._valueMin())return a._valueMin();if(b>=a._valueMax())return a._valueMax();var c=a.options.step>0?a.options.step:1,d=(b-a._valueMin())%c;b=b-d;if(Math.abs(d)*2>=c)b+=d>0?c:-c;return parseFloat(b.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var g="css",f="animate",e="%",i=this,n=i.options.range,l=i.options,k=i,m=!i._animateOff?l.animate:a,j,o={},q,s,p,r;if(i.options.values&&i.options.values.length)i.handles.each(function(h){j=(k.values(h)-k._valueMin())/(k._valueMax()-k._valueMin())*100;o[k.orientation===d?"left":"bottom"]=j+e;b(this).stop(1,1)[m?f:g](o,l.animate);if(k.options.range===c)if(k.orientation===d){h===0&&k.range.stop(1,1)[m?f:g]({left:j+e},l.animate);h===1&&k.range[m?f:g]({width:j-q+e},{queue:a,duration:l.animate})}else{h===0&&k.range.stop(1,1)[m?f:g]({bottom:j+e},l.animate);h===1&&k.range[m?f:g]({height:j-q+e},{queue:a,duration:l.animate})}q=j});else{s=i.value();p=i._valueMin();r=i._valueMax();j=r!==p?(s-p)/(r-p)*100:0;o[k.orientation===d?"left":"bottom"]=j+e;i.handle.stop(1,1)[m?f:g](o,l.animate);n==="min"&&i.orientation===d&&i.range.stop(1,1)[m?f:g]({width:j+e},l.animate);n==="max"&&i.orientation===d&&i.range[m?f:g]({width:100-j+e},{queue:a,duration:l.animate});n==="min"&&i.orientation===h&&i.range.stop(1,1)[m?f:g]({height:j+e},l.animate);n==="max"&&i.orientation===h&&i.range[m?f:g]({height:100-j+e},{queue:a,duration:l.animate})}}});b.extend(b.ui.slider,{version:"1.8.16"})})(jQuery);(function(a,x){var o="load",n="cache.tabs",m="ui-state-disabled",l="ui-tabs-selected",e=".tabs",j="show",c="tabs",h="ui-tabs-selected ui-state-active",g="ui-tabs-hide",v="ui-state-default ui-corner-top",u="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",k="destroy.tabs",r="load.tabs",s="href.tabs",f="#",p="label.tabs",q="ui-state-processing",i=true,w="ui-tabs-",d=false,b=null;function y(){return++z}function A(){return++B}var z=0,B=0;a.widget("ui.tabs",{options:{add:b,ajaxOptions:b,cache:d,cookie:b,collapsible:d,disable:b,disabled:[],enable:b,event:"click",fx:b,idPrefix:w,load:b,panelTemplate:"<div></div>",remove:b,select:b,show:b,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(i)},_setOption:function(c,b){var a=this;if(c=="selected")a.options.collapsible&&b==a.options.selected||a.select(b);else{a.options[c]=b;a._tabify()}},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+y()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||w+A());return a.cookie.apply(b,[c].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass(q).find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data(p)).removeData(p)})},_tabify:function(D){var w="li",z="ui-state-",F="removeClass",E="addClass",y=".ui-tabs-selected",C="ui-tabs-panel ui-widget-content ui-corner-bottom",t=this;function H(b,c){b.css("display","");!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var p=t,o=t.options,M=/^#.+/;t.list=t.element.find("ol,ul").eq(0);t.lis=a(" > li:has(a[href])",t.list);t.anchors=t.lis.map(function(){return a("a",this)[0]});t.panels=a([]);t.anchors.each(function(e,c){var b=a(c).attr("href"),d=b.split(f)[0],g;if(d&&(d===location.toString().split(f)[0]||(g=a("base")[0])&&d===g.href)){b=c.hash;c.href=b}if(M.test(b))p.panels=p.panels.add(p.element.find(p._sanitizeSelector(b)));else if(b&&b!==f){a.data(c,s,b);a.data(c,r,b.replace(/#.*$/,""));b=p._tabId(c);c.href=f+b;c=p.element.find(f+b);if(!c.length){c=a(o.panelTemplate).attr("id",b).addClass(C).insertAfter(p.panels[e-1]||p.list);c.data(k,i)}p.panels=p.panels.add(c)}else o.disabled.push(e)});if(D){t.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");t.list.addClass(u);t.lis.addClass(v);t.panels.addClass(C);if(o.selected===x){location.hash&&t.anchors.each(function(b,a){if(a.hash==location.hash){o.selected=b;return d}});if(typeof o.selected!=="number"&&o.cookie)o.selected=parseInt(p._cookie(),10);if(typeof o.selected!=="number"&&t.lis.filter(y).length)o.selected=t.lis.index(t.lis.filter(y));o.selected=o.selected||(t.lis.length?0:-1)}else if(o.selected===b)o.selected=-1;o.selected=o.selected>=0&&t.anchors[o.selected]||o.selected<0?o.selected:0;o.disabled=a.unique(o.disabled.concat(a.map(t.lis.filter(".ui-state-disabled"),function(a){return p.lis.index(a)}))).sort();a.inArray(o.selected,o.disabled)!=-1&&o.disabled.splice(a.inArray(o.selected,o.disabled),1);t.panels.addClass(g);t.lis.removeClass(h);if(o.selected>=0&&t.anchors.length){p.element.find(p._sanitizeSelector(p.anchors[o.selected].hash)).removeClass(g);t.lis.eq(o.selected).addClass(h);p.element.queue(c,function(){p._trigger(j,b,p._ui(p.anchors[o.selected],p.element.find(p._sanitizeSelector(p.anchors[o.selected].hash))[0]))});t.load(o.selected)}a(window).bind("unload",function(){p.lis.add(p.anchors).unbind(e);p.lis=p.anchors=p.panels=b})}else o.selected=t.lis.index(t.lis.filter(y));t.element[o.collapsible?E:F]("ui-tabs-collapsible");o.cookie&&t._cookie(o.selected,o.cookie);D=0;for(var G;G=t.lis[D];D++)a(G)[a.inArray(D,o.disabled)!=-1&&!a(G).hasClass(l)?E:F](m);o.cache===d&&t.anchors.removeData(n);t.lis.add(t.anchors).unbind(e);if(o.event!=="mouseover"){var I=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass(z+b)},J=function(b,a){a.removeClass(z+b)};t.lis.bind("mouseover.tabs",function(){I("hover",a(this))});t.lis.bind("mouseout.tabs",function(){J("hover",a(this))});t.anchors.bind("focus.tabs",function(){I("focus",a(this).closest(w))});t.anchors.bind("blur.tabs",function(){J("focus",a(this).closest(w))})}var A,B;if(o.fx)if(a.isArray(o.fx)){A=o.fx[0];B=o.fx[1]}else A=B=o.fx;var K=B?function(d,c){a(d).closest(w).addClass(h);c.hide().removeClass(g).animate(B,B.duration||"normal",function(){H(c,B);p._trigger(j,b,p._ui(d,c[0]))})}:function(d,c){a(d).closest(w).addClass(h);c.removeClass(g);p._trigger(j,b,p._ui(d,c[0]))},L=A?function(b,a){a.animate(A,A.duration||"normal",function(){p.lis.removeClass(h);a.addClass(g);H(a,A);p.element.dequeue(c)})}:function(b,a){p.lis.removeClass(h);a.addClass(g);p.element.dequeue(c)};t.anchors.bind(o.event+e,function(){var e=this,f=e,g=a(f).closest(w),h=p.panels.filter(":not(.ui-tabs-hide)"),i=p.element.find(p._sanitizeSelector(f.hash));if(g.hasClass(l)&&!o.collapsible||g.hasClass(m)||g.hasClass(q)||p.panels.filter(":animated").length||p._trigger("select",b,p._ui(e,i[0]))===d){e.blur();return d}o.selected=p.anchors.index(e);p.abort();if(o.collapsible)if(g.hasClass(l)){o.selected=-1;o.cookie&&p._cookie(o.selected,o.cookie);p.element.queue(c,function(){L(f,h)}).dequeue(c);e.blur();return d}else if(!h.length){o.cookie&&p._cookie(o.selected,o.cookie);p.element.queue(c,function(){K(f,i)});p.load(p.anchors.index(e));e.blur();return d}o.cookie&&p._cookie(o.selected,o.cookie);if(i.length){h.length&&p.element.queue(c,function(){L(f,h)});p.element.queue(c,function(){K(f,i)});p.load(p.anchors.index(e))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&e.blur()});t.anchors.bind("click.tabs",function(){return d})},_getIndex:function(a){if(typeof a=="string")a=this.anchors.index(this.anchors.filter("[href$="+a+"]"));return a},destroy:function(){var d=this,f=d.options;d.abort();d.element.unbind(e).removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData(c);d.list.removeClass(u);d.anchors.each(function(){var b=a.data(this,s);if(b)this.href=b;var c=a(this).unbind(e);a.each(["href",o,"cache"],function(b,a){c.removeData(a+e)})});d.lis.unbind(e).add(d.panels).each(function(){a.data(this,k)?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});f.cookie&&d._cookie(b,f.cookie);return d},add:function(m,l,e){var d=this;if(e===x)e=d.anchors.length;var o=d,p=d.options;l=a(p.tabTemplate.replace(/#\{href\}/g,m).replace(/#\{label\}/g,l));m=!m.indexOf(f)?m.replace(f,""):d._tabId(a("a",l)[0]);l.addClass(v).data(k,i);var n=o.element.find(f+m);n.length||(n=a(p.panelTemplate).attr("id",m).data(k,i));n.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(e>=d.lis.length){l.appendTo(d.list);n.appendTo(d.list[0].parentNode)}else{l.insertBefore(d.lis[e]);n.insertBefore(d.panels[e])}p.disabled=a.map(p.disabled,function(a){return a>=e?++a:a});d._tabify();if(d.anchors.length==1){p.selected=0;l.addClass(h);n.removeClass(g);d.element.queue(c,function(){o._trigger(j,b,o._ui(o.anchors[0],o.panels[0]))});d.load(0)}d._trigger("add",b,d._ui(d.anchors[e],d.panels[e]));return d},remove:function(d){var c=this;d=c._getIndex(d);var f=c.options,e=c.lis.eq(d).remove(),g=c.panels.eq(d).remove();e.hasClass(l)&&c.anchors.length>1&&c.select(d+(d+1<c.anchors.length?1:-1));f.disabled=a.map(a.grep(f.disabled,function(a){return a!=d}),function(a){return a>=d?--a:a});c._tabify();c._trigger("remove",b,c._ui(e.find("a")[0],g[0]));return c},enable:function(d){var c=this;d=c._getIndex(d);var e=c.options;if(a.inArray(d,e.disabled)!=-1){c.lis.eq(d).removeClass(m);e.disabled=a.grep(e.disabled,function(a){return a!=d});c._trigger("enable",b,c._ui(c.anchors[d],c.panels[d]));return c}},disable:function(c){var a=this;c=a._getIndex(c);var d=a.options;if(c!=d.selected){a.lis.eq(c).addClass(m);d.disabled.push(c);d.disabled.sort();a._trigger("disable",b,a._ui(a.anchors[c],a.panels[c]))}return a},select:function(b){var a=this;b=a._getIndex(b);if(b==-1)if(a.options.collapsible&&a.options.selected!=-1)b=a.options.selected;else return a;a.anchors.eq(b).trigger(a.options.event+e);return a},load:function(f){var e=this;f=e._getIndex(f);var d=e,g=e.options,h=e.anchors.eq(f)[0],j=a.data(h,r);e.abort();if(!j||e.element.queue(c).length!==0&&a.data(h,n))e.element.dequeue(c);else{e.lis.eq(f).addClass(q);if(g.spinner){var k=a("span",h);k.data(p,k.html()).html(g.spinner)}e.xhr=a.ajax(a.extend({},g.ajaxOptions,{url:j,success:function(c,e){d.element.find(d._sanitizeSelector(h.hash)).html(c);d._cleanup();g.cache&&a.data(h,n,i);d._trigger(o,b,d._ui(d.anchors[f],d.panels[f]));try{g.ajaxOptions.success(c,e)}catch(j){}},error:function(a,c){d._cleanup();d._trigger(o,b,d._ui(d.anchors[f],d.panels[f]));try{g.ajaxOptions.error(a,c,f,h)}catch(e){}}}));d.element.dequeue(c);return e}},abort:function(){var a=this;a.element.queue([]);a.panels.stop(d,i);a.element.queue(c,a.element.queue(c).splice(-2,2));if(a.xhr){a.xhr.abort();delete a.xhr}a._cleanup();return a},url:function(a,b){this.anchors.eq(a).removeData(n).data(r,b);return this},length:function(){return this.anchors.length}});a.extend(a.ui.tabs,{version:"1.8.16"});a.extend(a.ui.tabs.prototype,{rotation:b,rotate:function(i,g){var d="tabsshow",c=this,a=c,f=c.options,h=a._rotate||(a._rotate=function(b){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var b=f.selected;a.select(++b<a.anchors.length?b:0)},i);b&&b.stopPropagation()});g=a._unrotate||(a._unrotate=!g?function(c){c.clientX&&a.rotate(b)}:function(){t=f.selected;h()});if(i){c.element.bind(d,h);c.anchors.bind(f.event+e,g);h()}else{clearTimeout(a.rotation);c.element.unbind(d,h);c.anchors.unbind(f.event+e,g);delete c._rotate;delete c._unrotate}return c}})})(jQuery);(function(a,E){var Q="&#xa0;",P="</div>",jb="D, d M yy",hb="D, d M y",gb="yy-mm-dd",r="m",o="d",h="'",n="y",t="@",O="object",f=10,eb="gotoCurrent",db="showCurrentAtPos",cb=":disabled",bb=":visible",ab="showOptions",S="iframe.ui-datepicker-cover",Z="duration",Y="showAnim",N="absolute",j="D",i=-1,g="M",v="stepMonths",X="onSelect",C="max",B="min",l="string",M="disabled",W="select.ui-datepicker-month, select.ui-datepicker-year",V="ui-state-disabled",A="px",L="left",q=100,K="body",J="dayNamesShort",I="dayNames",H="monthNamesShort",G="monthNames",p="dateFormat",F="button",z="</span>",m='">',u="isRTL",k="datepicker",U="getData.datepicker",T="setData.datepicker",s="input",y="span",x="div",R=".ui-datepicker-calendar",e=true,w="focus",b="",c=null,d=false;function kb(){var f=this;f.debug=d;f._curInst=c;f._keyEvent=d;f._disabledInputs=[];f._inDialog=f._datepickerShowing=d;f._mainDivId="ui-datepicker-div";f._inlineClass="ui-datepicker-inline";f._appendClass="ui-datepicker-append";f._triggerClass="ui-datepicker-trigger";f._dialogClass="ui-datepicker-dialog";f._disableClass="ui-datepicker-disabled";f._unselectableClass="ui-datepicker-unselectable";f._currentClass="ui-datepicker-current-day";f._dayOverClass="ui-datepicker-days-cell-over";f.regional=[];f.regional[b]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:d,showMonthAfterYear:d,yearSuffix:b};f._defaults={showOn:w,showAnim:"fadeIn",showOptions:{},defaultDate:c,appendText:b,buttonText:"...",buttonImage:b,buttonImageOnly:d,hideIfNoPrevNext:d,navigationAsDateFormat:d,gotoCurrent:d,changeMonth:d,changeYear:d,yearRange:"c-10:c+10",showOtherMonths:d,selectOtherMonths:d,showWeek:d,calculateWeek:f.iso8601Week,shortYearCutoff:"+10",minDate:c,maxDate:c,duration:"fast",beforeShowDay:c,beforeShow:c,onSelect:c,onChangeMonthYear:c,onClose:c,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:b,altFormat:b,constrainInput:e,showButtonPanel:d,autoSize:d,disabled:d};a.extend(f._defaults,f.regional[b]);f.dpDiv=lb(a('<div id="'+f._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function lb(c){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return c.bind("mouseout",function(c){c=a(c.target).closest(b);c.length&&c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(d){var e="ui-state-hover";d=a(d.target).closest(b);if(!(a.datepicker._isDisabledDatepicker(ib.inline?c.parent()[0]:ib.input[0])||!d.length)){d.parents(R).find("a").removeClass(e);d.addClass(e);d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover");d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")}})}function fb(e,b){a.extend(e,b);for(var d in b)if(b[d]==c||b[d]==E)e[d]=b[d];return e}a.extend(a.ui,{datepicker:{version:"1.8.16"}});var D=(new Date).getTime(),ib;a.extend(kb.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply(b,arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){fb(this._defaults,a||{});return this},_attachDatepicker:function(b,i){var e=this,g=c;for(var d in e._defaults){var f=b.getAttribute("date:"+d);if(f){g=g||{};try{g[d]=eval(f)}catch(j){g[d]=f}}}d=b.nodeName.toLowerCase();f=d==x||d==y;if(!b.id){e.uuid+=1;b.id="dp"+e.uuid}var h=e._newInst(a(b),f);h.settings=a.extend({},i||{},g||{});if(d==s)e._connectDatepicker(b,h);else f&&e._inlineDatepicker(b,h)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:!c?this.dpDiv:lb(a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(d,c){var b=this,e=a(d);c.append=a([]);c.trigger=a([]);if(!e.hasClass(b.markerClassName)){b._attachments(e,c);e.addClass(b.markerClassName).keydown(b._doKeyDown).keypress(b._doKeyPress).keyup(b._doKeyUp).bind(T,function(d,a,b){c.settings[a]=b}).bind(U,function(b,a){return this._get(c,a)});b._autoSize(c);a.data(d,k,c);c.settings.disabled&&b._disableDatepicker(d)}},_attachments:function(g,c){var f=this,e=f._get(c,"appendText"),i=f._get(c,u);c.append&&c.append.remove();if(e){c.append=a('<span class="'+f._appendClass+m+e+z);g[i?"before":"after"](c.append)}g.unbind(w,f._showDatepicker);c.trigger&&c.trigger.remove();e=f._get(c,"showOn");(e==w||e=="both")&&g.focus(f._showDatepicker);if(e==F||e=="both"){e=f._get(c,"buttonText");var h=f._get(c,"buttonImage");c.trigger=a(f._get(c,"buttonImageOnly")?a("<img/>").addClass(f._triggerClass).attr({src:h,alt:e,title:e}):a('<button type="button"></button>').addClass(f._triggerClass).html(h==b?e:a("<img/>").attr({src:h,alt:e,title:e})));g[i?"before":"after"](c.trigger);c.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput==g[0]?a.datepicker._hideDatepicker():a.datepicker._showDatepicker(g[0]);return d})}},_autoSize:function(a){var b=this;if(b._get(a,"autoSize")&&!a.inline){var c=new Date(2009,11,20),d=b._get(a,p);if(d.match(/[DM]/)){var e=function(b){for(var c=0,d=0,a=0;a<b.length;a++)if(b[a].length>c){c=b[a].length;d=a}return d};c.setMonth(e(b._get(a,d.match(/MM/)?G:H)));c.setDate(e(b._get(a,d.match(/DD/)?I:J))+20-c.getDay())}a.input.attr("size",b._formatDate(a,c).length)}},_inlineDatepicker:function(d,b){var c=this,f=a(d);if(!f.hasClass(c.markerClassName)){f.addClass(c.markerClassName).append(b.dpDiv).bind(T,function(d,a,c){b.settings[a]=c}).bind(U,function(c,a){return this._get(b,a)});a.data(d,k,b);c._setDate(b,c._getDefaultDate(b),e);c._updateDatepicker(b);c._updateAlternate(b);b.settings.disabled&&c._disableDatepicker(d);b.dpDiv.css("display","block")}},_dialogDatepicker:function(f,g,i,j,h){var b=this;f=b._dialogInst;if(!f){b.uuid+=1;b._dialogInput=a('<input type="text" id="'+("dp"+b.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');b._dialogInput.keydown(b._doKeyDown);a(K).append(b._dialogInput);f=b._dialogInst=b._newInst(b._dialogInput,d);f.settings={};a.data(b._dialogInput[0],k,f)}fb(f.settings,j||{});g=g&&g.constructor==Date?b._formatDate(f,g):g;b._dialogInput.val(g);b._pos=h?h.length?h:[h.pageX,h.pageY]:c;if(!b._pos)b._pos=[document.documentElement.clientWidth/2-q+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];b._dialogInput.css(L,b._pos[0]+20+A).css("top",b._pos[1]+A);f.settings.onSelect=i;b._inDialog=e;b.dpDiv.addClass(b._dialogClass);b._showDatepicker(b._dialogInput[0]);a.blockUI&&a.blockUI(b.dpDiv);a.data(b._dialogInput[0],k,f);return b},_destroyDatepicker:function(c){var b=this,d=a(c),f=a.data(c,k);if(d.hasClass(b.markerClassName)){var e=c.nodeName.toLowerCase();a.removeData(c,k);if(e==s){f.append.remove();f.trigger.remove();d.removeClass(b.markerClassName).unbind(w,b._showDatepicker).unbind("keydown",b._doKeyDown).unbind("keypress",b._doKeyPress).unbind("keyup",b._doKeyUp)}else(e==x||e==y)&&d.removeClass(b.markerClassName).empty()}},_enableDatepicker:function(e){var g=this,f=a(e),i=a.data(e,k);if(f.hasClass(g.markerClassName)){var h=e.nodeName.toLowerCase();if(h==s){e.disabled=d;i.trigger.filter(F).each(function(){this.disabled=d}).end().filter("img").css({opacity:"1.0",cursor:b})}else if(h==x||h==y){f=f.children("."+g._inlineClass);f.children().removeClass(V);f.find(W).removeAttr(M)}g._disabledInputs=a.map(g._disabledInputs,function(a){return a==e?c:a})}},_disableDatepicker:function(d){var b=this,f=a(d),h=a.data(d,k);if(f.hasClass(b.markerClassName)){var g=d.nodeName.toLowerCase();if(g==s){d.disabled=e;h.trigger.filter(F).each(function(){this.disabled=e}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(g==x||g==y){f=f.children("."+b._inlineClass);f.children().addClass(V);f.find(W).attr(M,M)}b._disabledInputs=a.map(b._disabledInputs,function(a){return a==d?c:a});b._disabledInputs[b._disabledInputs.length]=d}},_isDisabledDatepicker:function(b){if(!b)return d;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]==b)return e;return d},_getInst:function(b){try{return a.data(b,k)}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(h,f,k){var d=this,b=d._getInst(h);if(arguments.length==2&&typeof f==l)return f=="defaults"?a.extend({},a.datepicker._defaults):b?f=="all"?a.extend({},b.settings):d._get(b,f):c;var g=f||{};if(typeof f==l){g={};g[f]=k}if(b){d._curInst==b&&d._hideDatepicker();var m=d._getDateDatepicker(h,e),j=d._getMinMaxDate(b,B),i=d._getMinMaxDate(b,C);fb(b.settings,g);if(j!==c&&g.dateFormat!==E&&g.minDate===E)b.settings.minDate=d._formatDate(b,j);if(i!==c&&g.dateFormat!==E&&g.maxDate===E)b.settings.maxDate=d._formatDate(b,i);d._attachments(a(h),b);d._autoSize(b);d._setDate(b,m);d._updateAlternate(b);d._updateDatepicker(b)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,c){var b=this;if(a=b._getInst(a)){b._setDate(a,c);b._updateDatepicker(a);b._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):c},_doKeyDown:function(b){var k="stepBigMonths",f=a.datepicker._getInst(b.target),h=e,l=f.dpDiv.is(".ui-datepicker-rtl");f._keyEvent=e;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();h=d;break;case 13:h=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv);h[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,h[0]);if(b=a.datepicker._get(f,X)){h=a.datepicker._formatDate(f);b.apply(f.input?f.input[0]:c,[h,f])}else a.datepicker._hideDatepicker();return d;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,k):-a.datepicker._get(f,v),g);break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,k):+a.datepicker._get(f,v),g);break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);h=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);h=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,l?+1:i,j);h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,k):-a.datepicker._get(f,v),g);break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,j);h=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,l?i:+1,j);h=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,k):+a.datepicker._get(f,v),g);break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,+7,j);h=b.ctrlKey||b.metaKey;break;default:h=d}else if(b.keyCode==36&&b.ctrlKey)a.datepicker._showDatepicker(this);else h=d;if(h){b.preventDefault();b.stopPropagation()}},_doKeyPress:function(b){var c=a.datepicker._getInst(b.target);if(a.datepicker._get(c,"constrainInput")){c=a.datepicker._possibleChars(a.datepicker._get(c,p));var d=String.fromCharCode(b.charCode==E?b.keyCode:b.charCode);return b.ctrlKey||b.metaKey||d<" "||!c||c.indexOf(d)>i}},_doKeyUp:function(b){b=a.datepicker._getInst(b.target);if(b.input.val()!=b.lastVal)try{if(a.datepicker.parseDate(a.datepicker._get(b,p),b.input?b.input.val():c,a.datepicker._getFormatConfig(b))){a.datepicker._setDateFromField(b);a.datepicker._updateAlternate(b);a.datepicker._updateDatepicker(b)}}catch(d){a.datepicker.log(d)}return e},_showDatepicker:function(g){g=g.target||g;if(g.nodeName.toLowerCase()!=s)g=a(s,g.parentNode)[0];if(!(a.datepicker._isDisabledDatepicker(g)||a.datepicker._lastInput==g)){var f=a.datepicker._getInst(g);if(a.datepicker._curInst&&a.datepicker._curInst!=f){a.datepicker._datepickerShowing&&a.datepicker._triggerOnClose(a.datepicker._curInst);a.datepicker._curInst.dpDiv.stop(e,e)}var h=a.datepicker._get(f,"beforeShow");h=h?h.apply(g,[g,f]):{};if(h!==d){fb(f.settings,h);f.lastVal=c;a.datepicker._lastInput=g;a.datepicker._setDateFromField(f);if(a.datepicker._inDialog)g.value=b;if(!a.datepicker._pos){a.datepicker._pos=a.datepicker._findPos(g);a.datepicker._pos[1]+=g.offsetHeight}var i=d;a(g).parents().each(function(){i|=a(this).css("position")=="fixed";return!i});if(i&&a.browser.opera){a.datepicker._pos[0]-=document.documentElement.scrollLeft;a.datepicker._pos[1]-=document.documentElement.scrollTop}h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=c;f.dpDiv.empty();f.dpDiv.css({position:N,display:"block",top:"-1000px"});a.datepicker._updateDatepicker(f);h=a.datepicker._checkOffset(f,h,i);f.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":i?"fixed":N,display:"none",left:h.left+A,top:h.top+A});if(!f.inline){h=a.datepicker._get(f,Y);var j=a.datepicker._get(f,Z),k=function(){var c=f.dpDiv.find(S);if(c.length){var b=a.datepicker._getBorders(f.dpDiv);c.css({left:-b[0],top:-b[1],width:f.dpDiv.outerWidth(),height:f.dpDiv.outerHeight()})}};f.dpDiv.zIndex(a(g).zIndex()+1);a.datepicker._datepickerShowing=e;a.effects&&a.effects[h]?f.dpDiv.show(h,a.datepicker._get(f,ab),j,k):f.dpDiv[h||"show"](h?j:c,k);(!h||!j)&&k();f.input.is(bb)&&!f.input.is(cb)&&f.input.focus();a.datepicker._curInst=f}}}},_updateDatepicker:function(d){var g=this;g.maxRows=4;var e=a.datepicker._getBorders(d.dpDiv);ib=d;d.dpDiv.empty().append(g._generateHTML(d));var f=d.dpDiv.find(S);f.length&&f.css({left:-e[0],top:-e[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()});d.dpDiv.find("."+g._dayOverClass+" a").mouseover();e=g._getNumberOfMonths(d);f=e[1];d.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(b);f>1&&d.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");d.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");d.dpDiv[(g._get(d,u)?"add":"remove")+"Class"]("ui-datepicker-rtl");d==a.datepicker._curInst&&a.datepicker._datepickerShowing&&d.input&&d.input.is(bb)&&!d.input.is(cb)&&d.input[0]!=document.activeElement&&d.input.focus();if(d.yearshtml){var h=d.yearshtml;setTimeout(function(){h===d.yearshtml&&d.yearshtml&&d.dpDiv.find("select.ui-datepicker-year:first").replaceWith(d.yearshtml);h=d.yearshtml=c},0)}},_getBorders:function(a){var b=function(a){return({thin:1,medium:2,thick:3})[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(c,b,g){var d=c.dpDiv.outerWidth(),e=c.dpDiv.outerHeight(),j=c.input?c.input.outerWidth():0,h=c.input?c.input.outerHeight():0,f=document.documentElement.clientWidth+a(document).scrollLeft(),i=document.documentElement.clientHeight+a(document).scrollTop();b.left-=this._get(c,u)?d-j:0;b.left-=g&&b.left==c.input.offset().left?a(document).scrollLeft():0;b.top-=g&&b.top==c.input.offset().top+h?a(document).scrollTop():0;b.left-=Math.min(b.left,b.left+d>f&&f>d?Math.abs(b.left+d-f):0);b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+h):0);return b},_findPos:function(b){for(var c=this._get(this._getInst(b),u);b&&(b.type=="hidden"||b.nodeType!=1||a.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_triggerOnClose:function(a){var d=this._get(a,"onClose");d&&d.apply(a.input?a.input[0]:c,[a.input?a.input.val():b,a])},_hideDatepicker:function(e){var b=this,f=b._curInst;if(!(!f||e&&f!=a.data(e,k)))if(b._datepickerShowing){e=b._get(f,Y);var h=b._get(f,Z),g=function(){a.datepicker._tidyDialog(f);this._curInst=c};a.effects&&a.effects[e]?f.dpDiv.hide(e,a.datepicker._get(f,ab),h,g):f.dpDiv[e=="slideDown"?"slideUp":e=="fadeIn"?"fadeOut":"hide"](e?h:c,g);e||g();a.datepicker._triggerOnClose(f);b._datepickerShowing=d;b._lastInput=c;if(b._inDialog){b._dialogInput.css({position:N,left:"0",top:"-100px"});if(a.blockUI){a.unblockUI();a(K).append(b.dpDiv)}}b._inDialog=d}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(R)},_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);b[0].id!=a.datepicker._mainDivId&&b.parents("#"+a.datepicker._mainDivId).length==0&&!b.hasClass(a.datepicker.markerClassName)&&!b.hasClass(a.datepicker._triggerClass)&&a.datepicker._datepickerShowing&&!(a.datepicker._inDialog&&a.blockUI)&&a.datepicker._hideDatepicker()}},_adjustDate:function(c,f,e){var b=this;c=a(c);var d=b._getInst(c[0]);if(!b._isDisabledDatepicker(c[0])){b._adjustInstDate(d,f+(e==g?b._get(d,db):0),e);b._updateDatepicker(d)}},_gotoToday:function(d){var c=this;d=a(d);var b=c._getInst(d[0]);if(c._get(b,eb)&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var e=new Date;b.selectedDay=e.getDate();b.drawMonth=b.selectedMonth=e.getMonth();b.drawYear=b.selectedYear=e.getFullYear()}c._notifyChange(b);c._adjustDate(d)},_selectMonthYear:function(b,d,e){b=a(b);var c=this._getInst(b[0]);c["selected"+(e==g?"Month":"Year")]=c["draw"+(e==g?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,f);this._notifyChange(c);this._adjustDate(b)},_selectDay:function(d,f,g,e){var c=this,b=a(d);if(!(a(e).hasClass(c._unselectableClass)||c._isDisabledDatepicker(b[0]))){b=c._getInst(b[0]);b.selectedDay=b.currentDay=a("a",e).html();b.selectedMonth=b.currentMonth=f;b.selectedYear=b.currentYear=g;c._selectDate(d,c._formatDate(b,b.currentDay,b.currentMonth,b.currentYear))}},_clearDate:function(c){c=a(c);this._getInst(c[0]);this._selectDate(c,b)},_selectDate:function(b,e){var d=this;b=d._getInst(a(b)[0]);e=e!=c?e:d._formatDate(b);b.input&&b.input.val(e);d._updateAlternate(b);var f=d._get(b,X);if(f)f.apply(b.input?b.input[0]:c,[e,b]);else b.input&&b.input.trigger("change");if(b.inline)d._updateDatepicker(b);else{d._hideDatepicker();d._lastInput=b.input[0];typeof b.input[0]!=O&&b.input.focus();d._lastInput=c}},_updateAlternate:function(c){var b=this,d=b._get(c,"altField");if(d){var e=b._get(c,"altFormat")||b._get(c,p),f=b._getDate(c),g=b.formatDate(e,f,b._getFormatConfig(c));a(d).each(function(){a(this).val(g)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,b]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/8.64e7)/7)+1},parseDate:function(z,p,k){var v=this;if(z==c||p==c)throw"Invalid arguments";p=typeof p==O?p.toString():p+b;if(p==b)return c;var x=(k?k.shortYearCutoff:c)||v._defaults.shortYearCutoff;x=typeof x!=l?x:(new Date).getFullYear()%q+parseInt(x,f);for(var G=(k?k.dayNamesShort:c)||v._defaults.dayNamesShort,I=(k?k.dayNames:c)||v._defaults.dayNames,J=(k?k.monthNamesShort:c)||v._defaults.monthNamesShort,H=(k?k.monthNames:c)||v._defaults.monthNames,u=k=i,y=i,E=i,C=d,B=function(a){(a=w+1<z.length&&z.charAt(w+1)==a)&&w++;return a},A=function(a){var b=B(a);a=new RegExp("^\\d{1,"+(a==t?14:a=="!"?20:a==n&&b?4:a=="o"?3:2)+"}");a=p.substring(s).match(a);if(!a)throw"Missing number at position "+s;s+=a[0].length;return parseInt(a[0],f)},F=function(c,e,f){c=a.map(B(c)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});var b=i;a.each(c,function(a,c){a=c[1];if(p.substr(s,a.length).toLowerCase()==a.toLowerCase()){b=c[0];s+=a.length;return d}});if(b!=i)return b+1;else throw"Unknown name at position "+s;},D=function(){if(p.charAt(s)!=z.charAt(w))throw"Unexpected literal at position "+s;s++},s=0,w=0;w<z.length;w++)if(C)if(z.charAt(w)==h&&!B(h))C=d;else D();else switch(z.charAt(w)){case o:y=A(o);break;case j:F(j,G,I);break;case"o":E=A("o");break;case r:u=A(r);break;case g:u=F(g,J,H);break;case n:k=A(n);break;case t:var m=new Date(A(t));k=m.getFullYear();u=m.getMonth()+1;y=m.getDate();break;case"!":m=new Date((A("!")-v._ticksTo1970)/1e4);k=m.getFullYear();u=m.getMonth()+1;y=m.getDate();break;case h:if(B(h))D();else C=e;break;default:D()}if(s<p.length)throw"Extra/unparsed characters found in date: "+p.substring(s);if(k==i)k=(new Date).getFullYear();else if(k<q)k+=(new Date).getFullYear()-(new Date).getFullYear()%q+(k<=x?0:-100);if(E>i){u=1;y=E;do{x=v._getDaysInMonth(k,u-1);if(y<=x)break;u++;y-=x}while(1)}m=v._daylightSavingAdjust(new Date(k,u-1,y));if(m.getFullYear()!=k||m.getMonth()+1!=u||m.getDate()!=y)throw"Invalid date";return m},ATOM:gb,COOKIE:"D, dd M yy",ISO_8601:gb,RFC_822:hb,RFC_850:"DD, dd-M-y",RFC_1036:hb,RFC_1123:jb,RFC_2822:jb,RSS:hb,TICKS:"!",TIMESTAMP:t,W3C:gb,_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(m,a,k){var p=this;if(!a)return b;var x=(k?k.dayNamesShort:c)||p._defaults.dayNamesShort,y=(k?k.dayNames:c)||p._defaults.dayNames,z=(k?k.monthNamesShort:c)||p._defaults.monthNamesShort;k=(k?k.monthNames:c)||p._defaults.monthNames;var s=function(a){(a=l+1<m.length&&m.charAt(l+1)==a)&&l++;return a},u=function(d,a,c){a=b+a;if(s(d))for(;a.length<c;)a="0"+a;return a},w=function(c,a,b,d){return s(c)?d[a]:b[a]},i=b,v=d;if(a)for(var l=0;l<m.length;l++)if(v)if(m.charAt(l)==h&&!s(h))v=d;else i+=m.charAt(l);else switch(m.charAt(l)){case o:i+=u(o,a.getDate(),2);break;case j:i+=w(j,a.getDay(),x,y);break;case"o":i+=u("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/8.64e7),3);break;case r:i+=u(r,a.getMonth()+1,2);break;case g:i+=w(g,a.getMonth(),z,k);break;case n:i+=s(n)?a.getFullYear():(a.getYear()%q<f?"0":b)+a.getYear()%q;break;case t:i+=a.getTime();break;case"!":i+=a.getTime()*1e4+p._ticksTo1970;break;case h:if(s(h))i+=h;else v=e;break;default:i+=m.charAt(l)}return i},_possibleChars:function(f){for(var i=b,k=d,l=function(b){(b=a+1<f.length&&f.charAt(a+1)==b)&&a++;return b},a=0;a<f.length;a++)if(k)if(f.charAt(a)==h&&!l(h))k=d;else i+=f.charAt(a);else switch(f.charAt(a)){case o:case r:case n:case t:i+="0123456789";break;case j:case g:return c;case h:if(l(h))i+=h;else k=e;break;default:i+=f.charAt(a)}return i},_get:function(b,a){return b.settings[a]!==E?b.settings[a]:this._defaults[a]},_setDateFromField:function(a,h){var e=this;if(a.input.val()!=a.lastVal){var i=e._get(a,p),f=a.lastVal=a.input?a.input.val():c,d,g;d=g=e._getDefaultDate(a);var j=e._getFormatConfig(a);try{d=e.parseDate(i,f,j)||g}catch(k){e.log(k);f=h?b:f}a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();a.currentDay=f?d.getDate():0;a.currentMonth=f?d.getMonth():0;a.currentYear=f?d.getFullYear():0;e._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(e,d,h){var i=function(b){var a=new Date;a.setDate(a.getDate()+b);return a},k=function(h){try{return a.datepicker.parseDate(a.datepicker._get(e,p),h,a.datepicker._getFormatConfig(e))}catch(m){}var b=(h.toLowerCase().match(/^c/)?a.datepicker._getDate(e):c)||new Date,i=b.getFullYear(),k=b.getMonth();b=b.getDate();for(var l=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=l.exec(h);d;){switch(d[2]||o){case o:case j:b+=parseInt(d[1],f);break;case"w":case"W":b+=parseInt(d[1],f)*7;break;case r:case g:k+=parseInt(d[1],f);b=Math.min(b,a.datepicker._getDaysInMonth(i,k));break;case n:case"Y":i+=parseInt(d[1],f);b=Math.min(b,a.datepicker._getDaysInMonth(i,k))}d=l.exec(h)}return new Date(i,k,b)};if(d=(d=d==c||d===b?h:typeof d==l?k(d):typeof d=="number"?isNaN(d)?h:i(d):new Date(d.getTime()))&&d.toString()=="Invalid Date"?h:d){d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0)}return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){if(!a)return c;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,c,e){var d=this,f=!c,g=a.selectedMonth,h=a.selectedYear;c=d._restrictMinMax(a,d._determineDate(a,c,new Date));a.selectedDay=a.currentDay=c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=c.getFullYear();(g!=a.selectedMonth||h!=a.selectedYear)&&!e&&d._notifyChange(a);d._adjustInstDate(a);a.input&&a.input.val(f?b:d._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==b?c:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(g){var W=" ui-corner-",V="calculateWeek",U="</button>",A="</span></a>",y='"><span class="ui-icon ui-icon-circle-triangle-',T=", 'M');\" title=\"",S=".datepicker._adjustDate('#",h=this,E=new Date;E=h._daylightSavingAdjust(new Date(E.getFullYear(),E.getMonth(),E.getDate()));var w=h._get(g,u),Z=h._get(g,"showButtonPanel"),N=h._get(g,"hideIfNoPrevNext"),o=h._get(g,"navigationAsDateFormat"),x=h._getNumberOfMonths(g),j=h._get(g,db),q=h._get(g,v),bb=x[0]!=1||x[1]!=1,cb=h._daylightSavingAdjust(!g.currentDay?new Date(9999,9,9):new Date(g.currentYear,g.currentMonth,g.currentDay)),M=h._getMinMaxDate(g,B),F=h._getMinMaxDate(g,C);j=g.drawMonth-j;var n=g.drawYear;if(j<0){j+=12;n--}if(F)for(var p=h._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth()-x[0]*x[1]+1,F.getDate())),p=M&&p<M?M:p;h._daylightSavingAdjust(new Date(n,j,1))>p;){j--;if(j<0){j=11;n--}}g.drawMonth=j;g.drawYear=n;p=h._get(g,"prevText");p=!o?p:h.formatDate(p,h._daylightSavingAdjust(new Date(n,j-q,1)),h._getFormatConfig(g));p=h._canAdjustMonth(g,i,n,j)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+D+S+g.id+"', -"+q+T+p+y+(w?"e":"w")+m+p+A:N?b:'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+p+y+(w?"e":"w")+m+p+A;var r=h._get(g,"nextText");r=!o?r:h.formatDate(r,h._daylightSavingAdjust(new Date(n,j+q,1)),h._getFormatConfig(g));N=h._canAdjustMonth(g,+1,n,j)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+D+S+g.id+"', +"+q+T+r+y+(w?"w":"e")+m+r+A:N?b:'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+y+(w?"w":"e")+m+r+A;q=h._get(g,"currentText");r=h._get(g,eb)&&g.currentDay?cb:E;q=!o?q:h.formatDate(q,r,h._getFormatConfig(g));o=!g.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+D+'.datepicker._hideDatepicker();">'+h._get(g,"closeText")+U:b;Z=Z?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(w?o:b)+(h._isInRange(g,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+D+".datepicker._gotoToday('#"+g.id+"');\">"+q+U:b)+(w?b:o)+P:b;o=parseInt(h._get(g,"firstDay"),f);o=isNaN(o)?0:o;q=h._get(g,"showWeek");r=h._get(g,I);h._get(g,J);var ob=h._get(g,"dayNamesMin"),mb=h._get(g,G),pb=h._get(g,H),jb=h._get(g,"beforeShowDay"),Y=h._get(g,"showOtherMonths"),nb=h._get(g,"selectOtherMonths");h._get(g,V);for(var gb=h._getDefaultDate(g),fb=b,R=0;R<x[0];R++){var hb=b;h.maxRows=4;for(var O=0;O<x[1];O++){var ib=h._daylightSavingAdjust(new Date(n,j,g.selectedDay)),l=" ui-corner-all",s=b;if(bb){s+='<div class="ui-datepicker-group';if(x[1]>1)switch(O){case 0:s+=" ui-datepicker-group-first";l=W+(w?"right":L);break;case x[1]-1:s+=" ui-datepicker-group-last";l=W+(w?L:"right");break;default:s+=" ui-datepicker-group-middle";l=b}s+=m}s+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+l+m+(/all|left/.test(l)&&R==0?w?N:p:b)+(/all|right/.test(l)&&R==0?w?p:N:b)+h._generateMonthYearHeader(g,j,n,M,F,R>0||O>0,mb,pb)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var t=q?'<th class="ui-datepicker-week-col">'+h._get(g,"weekHeader")+"</th>":b;for(l=0;l<7;l++){var k=(l+o)%7;t+="<th"+((l+o+6)%7>=5?' class="ui-datepicker-week-end"':b)+'><span title="'+r[k]+m+ob[k]+"</span></th>"}s+=t+"</tr></thead><tbody>";t=h._getDaysInMonth(n,j);if(n==g.selectedYear&&j==g.selectedMonth)g.selectedDay=Math.min(g.selectedDay,t);l=(h._getFirstDayOfMonth(n,j)-o+7)%7;t=Math.ceil((l+t)/7);h.maxRows=t=bb?h.maxRows>t?h.maxRows:t:t;k=h._daylightSavingAdjust(new Date(n,j,1-l));for(var kb=0;kb<t;kb++){s+="<tr>";var lb=!q?b:'<td class="ui-datepicker-week-col">'+h._get(g,V)(k)+"</td>";for(l=0;l<7;l++){var X=jb?jb.apply(g.input?g.input[0]:c,[k]):[e,b],K=k.getMonth()!=j,ab=K&&!nb||!X[0]||M&&k<M||F&&k>F;lb+='<td class="'+((l+o+6)%7>=5?" ui-datepicker-week-end":b)+(K?" ui-datepicker-other-month":b)+(k.getTime()==ib.getTime()&&j==g.selectedMonth&&g._keyEvent||gb.getTime()==k.getTime()&&gb.getTime()==ib.getTime()?" "+h._dayOverClass:b)+(ab?" "+h._unselectableClass+" ui-state-disabled":b)+(K&&!Y?b:" "+X[1]+(k.getTime()==cb.getTime()?" "+h._currentClass:b)+(k.getTime()==E.getTime()?" ui-datepicker-today":b))+'"'+((!K||Y)&&X[2]?' title="'+X[2]+'"':b)+(ab?b:' onclick="DP_jQuery_'+D+".datepicker._selectDay('#"+g.id+"',"+k.getMonth()+","+k.getFullYear()+', this);return false;"')+">"+(K&&!Y?Q:ab?'<span class="ui-state-default">'+k.getDate()+z:'<a class="ui-state-default'+(k.getTime()==E.getTime()?" ui-state-highlight":b)+(k.getTime()==cb.getTime()?" ui-state-active":b)+(K?" ui-priority-secondary":b)+'" href="#">'+k.getDate()+"</a>")+"</td>";k.setDate(k.getDate()+1);k=h._daylightSavingAdjust(k)}s+=lb+"</tr>"}j++;if(j>11){j=0;n++}s+="</tbody></table>"+(bb?P+(x[0]>0&&O==x[1]-1?'<div class="ui-datepicker-row-break"></div>':b):b);hb+=s}fb+=hb}fb+=Z+(a.browser.msie&&parseInt(a.browser.version,f)<7&&!g.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':b);g._keyEvent=d;return fb},_generateMonthYearHeader:function(a,d,l,m,n,t,i,e){var s="</select>",r="</option>",q=' selected="selected"',p='<option value="',o=".datepicker._selectMonthYear('#",k=this,u=k._get(a,"changeMonth"),v=k._get(a,"changeYear"),x=k._get(a,"showMonthAfterYear"),g='<div class="ui-datepicker-title">',j=b;if(t||!u)j+='<span class="ui-datepicker-month">'+i[d]+z;else{i=m&&m.getFullYear()==l;var y=n&&n.getFullYear()==l;j+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+D+o+a.id+"', this, 'M');\" >";for(var h=0;h<12;h++)if((!i||h>=m.getMonth())&&(!y||h<=n.getMonth()))j+=p+h+'"'+(h==d?q:b)+">"+e[h]+r;j+=s}x||(g+=j+(t||!(u&&v)?Q:b));if(!a.yearshtml){a.yearshtml=b;if(t||!v)g+='<span class="ui-datepicker-year">'+l+z;else{e=k._get(a,"yearRange").split(":");var w=(new Date).getFullYear();i=function(a){a=a.match(/c[+-].*/)?l+parseInt(a.substring(1),f):a.match(/[+-].*/)?w+parseInt(a,f):parseInt(a,f);return isNaN(a)?w:a};d=i(e[0]);e=Math.max(d,i(e[1]||b));d=m?Math.max(d,m.getFullYear()):d;e=n?Math.min(e,n.getFullYear()):e;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+D+o+a.id+"', this, 'Y');\" >";d<=e;d++)a.yearshtml+=p+d+'"'+(d==l?q:b)+">"+d+r;a.yearshtml+=s;g+=a.yearshtml;a.yearshtml=c}}g+=k._get(a,"yearSuffix");if(x)g+=(t||!(u&&v)?Q:b)+j;g+=P;return g},_adjustInstDate:function(a,c,d){var e=this,b=a.drawYear+(d=="Y"?c:0),f=a.drawMonth+(d==g?c:0);c=Math.min(a.selectedDay,e._getDaysInMonth(b,f))+(d==j?c:0);b=e._restrictMinMax(a,e._daylightSavingAdjust(new Date(b,f,c)));a.selectedDay=b.getDate();a.drawMonth=a.selectedMonth=b.getMonth();a.drawYear=a.selectedYear=b.getFullYear();(d==g||d=="Y")&&e._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,B);a=this._getMinMaxDate(a,C);b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:c,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==c?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),c)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(d,c,a,f){var b=this,e=b._getNumberOfMonths(d);a=b._daylightSavingAdjust(new Date(a,f+(c<0?c:e[0]*e[1]),1));c<0&&a.setDate(b._getDaysInMonth(a.getFullYear(),a.getMonth()));return b._isInRange(d,a)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,B);a=this._getMinMaxDate(a,C);return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(b){var a=this,c=a._get(b,"shortYearCutoff");c=typeof c!=l?c:(new Date).getFullYear()%q+parseInt(c,f);return{shortYearCutoff:c,dayNamesShort:a._get(b,J),dayNames:a._get(b,I),monthNamesShort:a._get(b,H),monthNames:a._get(b,G)}},_formatDate:function(a,b,d,e){var c=this;if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b==O?b:c._daylightSavingAdjust(new Date(e,d,b)):c._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return c.formatDate(c._get(a,p),b,c._getFormatConfig(a))}});a.fn.datepicker=function(b){var c="Datepicker",d=this;if(!d.length)return d;if(!a.datepicker.initialized){a(document).mousedown(a.datepicker._checkExternalClick).find(K).append(a.datepicker.dpDiv);a.datepicker.initialized=e}var f=Array.prototype.slice.call(arguments,1);return typeof b==l&&(b=="isDisabled"||b=="getDate"||b=="widget")?a.datepicker["_"+b+c].apply(a.datepicker,[d[0]].concat(f)):b=="option"&&arguments.length==2&&typeof arguments[1]==l?a.datepicker["_"+b+c].apply(a.datepicker,[d[0]].concat(f)):d.each(function(){typeof b==l?a.datepicker["_"+b+c].apply(a.datepicker,[this].concat(f)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new kb;a.datepicker.initialized=d;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.8.16";window["DP_jQuery_"+D]=a})(jQuery);(function(a,d){var c="aria-valuenow",b="ui-progressbar ui-widget ui-widget-content ui-corner-all";a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){var c=this;c.element.addClass(b).attr({role:"progressbar","aria-valuemin":c.min,"aria-valuemax":c.options.max,"aria-valuenow":c._value()});c.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(c.element);c.oldValue=c._value();c._refreshValue()},destroy:function(){this.element.removeClass(b).removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr(c);this.valueDiv.remove();a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===d)return this._value();this._setOption("value",a);return this},_setOption:function(c,d){var b=this;if(c==="value"){b.options.value=d;b._refreshValue();b._value()===b.options.max&&b._trigger("complete")}a.Widget.prototype._setOption.apply(b,arguments)},_value:function(){var a=this.options.value;if(typeof a!=="number")a=0;return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this,b=a.value(),d=a._percentage();if(a.oldValue!==b){a.oldValue=b;a._trigger("change")}a.valueDiv.toggle(b>a.min).toggleClass("ui-corner-right",b===a.options.max).width(d.toFixed(0)+"%");a.element.attr(c,b)}});a.extend(a.ui.progressbar,{version:"1.8.16"})})(jQuery);jQuery.effects||function(a,o){var e=1.70158,n=".ui-effects-wrapper",m="ec.storage.",k="toggle",g=128,j=139,b=255,f=true,i="number",h="string",d=null,q="backgroundColor",l="transparent",c=10;function s(d){var b;return d&&d.constructor==Array&&d.length==3?d:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))?[parseInt(b[1],c),parseInt(b[2],c),parseInt(b[3],c)]:(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))?[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(d)?t.transparent:t[a.trim(d).toLowerCase()]}function x(c,d){var b;do{b=a.curCSS(c,d);if(b!=""&&b!=l||a.nodeName(c,"body"))break;d=q}while(c=c.parentNode);return s(b)}function u(){var a=document.defaultView?document.defaultView.getComputedStyle(this,d):this.currentStyle,c={},b,e;if(a&&a.length&&a[0]&&a[a[0]])for(var f=a.length;f--;){b=a[f];if(typeof a[b]==h){e=b.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()});c[e]=a[b]}}else for(b in a)if(typeof a[b]===h)c[b]=a[b];return c}function v(e){var b,c;for(b in e){c=e[b];if(c==d||a.isFunction(c)||b in y||/scrollbar/.test(b)||!/color/i.test(b)&&isNaN(parseFloat(c)))delete e[b]}return e}function z(d,b){var c={_:0},a;for(a in b)if(d[a]!=b[a])c[a]=b[a];return c}function p(f,b,c,e){if(typeof f=="object"){e=b;c=d;b=f;f=b.effect}if(a.isFunction(b)){e=b;c=d;b={}}if(typeof b==i||a.fx.speeds[b]){e=c;c=b;b={}}if(a.isFunction(c)){e=c;c=d}b=b||{};c=c||b.duration;c=a.fx.off?0:typeof c==i?c:c in a.fx.speeds?a.fx.speeds[c]:a.fx.speeds._default;e=e||b.complete;return[f,b,c,e]}function r(b){return!b||typeof b===i||a.fx.speeds[b]?f:typeof b===h&&!a.effects[b]?f:false}a.effects={};a.each([q,"borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,d){a.fx.step[d]=function(a){if(!a.colorInit){a.start=x(a.elem,d);a.end=s(a.end);a.colorInit=f}a.elem.style[d]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],c),b),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],c),b),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],c),b),0)+")"}});var t={aqua:[0,b,b],azure:[240,b,b],beige:[245,245,220],black:[0,0,0],blue:[0,0,b],brown:[165,42,42],cyan:[0,b,b],darkblue:[0,0,j],darkcyan:[0,j,j],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[j,0,j],darkolivegreen:[85,107,47],darkorange:[b,140,0],darkorchid:[153,50,204],darkred:[j,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[b,0,b],gold:[b,215,0],green:[0,g,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,b,b],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[b,182,193],lightyellow:[b,b,224],lime:[0,b,0],magenta:[b,0,b],maroon:[g,0,0],navy:[0,0,g],olive:[g,g,0],orange:[b,165,0],pink:[b,192,203],purple:[g,0,g],violet:[g,0,g],red:[b,0,0],silver:[192,192,192],white:[b,b,b],yellow:[b,b,0],transparent:[b,b,b]},w=["add","remove",k],y={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(c,f,b,e){if(a.isFunction(b)){e=b;b=d}return this.queue(function(){var d="style",g=a(this),h=g.attr(d)||" ",j=v(u.call(this)),i,k=g.attr("class");a.each(w,function(b,a){c[a]&&g[a+"Class"](c[a])});i=v(u.call(this));g.attr("class",k);g.animate(z(j,i),{queue:false,duration:f,easing:b,complete:function(){a.each(w,function(b,a){c[a]&&g[a+"Class"](c[a])});if(typeof g.attr(d)=="object"){g.attr(d).cssText="";g.attr(d).cssText=h}else g.attr(d,h);e&&e.apply(this,arguments);a.dequeue(this)}})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(c,b,d,e){return b?a.effects.animateClass.apply(this,[{add:c},b,d,e]):this._addClass(c)},_removeClass:a.fn.removeClass,removeClass:function(c,b,d,e){return b?a.effects.animateClass.apply(this,[{remove:c},b,d,e]):this._removeClass(c)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,b,d,e,f){return typeof b=="boolean"||b===o?d?a.effects.animateClass.apply(this,[b?{add:c}:{remove:c},d,e,f]):this._toggleClass(c,b):a.effects.animateClass.apply(this,[{toggle:c},b,d,e])},switchClass:function(d,b,c,e,f){return a.effects.animateClass.apply(this,[{add:b,remove:d},c,e,f])}});a.extend(a.effects,{version:"1.8.16",save:function(c,b){for(var a=0;a<b.length;a++)b[a]!==d&&c.data(m+b[a],c[0].style[b[a]])},restore:function(c,b){for(var a=0;a<b.length;a++)b[a]!==d&&c.css(b[a],c.data(m+b[a]))},setMode:function(b,a){if(a==k)a=b.is(":hidden")?"show":"hide";return a},getBaseline:function(a,c){var b;switch(a[0]){case"top":b=0;break;case"middle":b=.5;break;case"bottom":b=1;break;default:b=a[0]/c.height}switch(a[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=a[1]/c.width}return{x:a,y:b}},createWrapper:function(b){var d="auto",e="relative",h="position";if(b.parent().is(n))return b.parent();var g={width:b.outerWidth(f),height:b.outerHeight(f),"float":b.css("float")},i=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:l,border:"none",margin:0,padding:0}),j=document.activeElement;b.wrap(i);(b[0]===j||a.contains(b[0],j))&&a(j).focus();i=b.parent();if(b.css(h)=="static"){i.css({position:e});b.css({position:e})}else{a.extend(g,{position:b.css(h),zIndex:b.css("z-index")});a.each(["top","left","bottom","right"],function(e,a){g[a]=b.css(a);if(isNaN(parseInt(g[a],c)))g[a]=d});b.css({position:e,top:0,left:0,right:d,bottom:d})}return i.css(g).show()},removeWrapper:function(b){var d,c=document.activeElement;if(b.parent().is(n)){d=b.parent().replaceWith(b);(b[0]===c||a.contains(b[0],c))&&a(c).focus();return d}return b},setTransition:function(e,c,d,b){b=b||{};a.each(c,function(c,a){unit=e.cssUnit(a);if(unit[0]>0)b[a]=unit[0]*d+unit[1]});return b}});a.fn.extend({effect:function(f){var d=this,b=p.apply(d,arguments),c={options:b[1],duration:b[2],callback:b[3]};b=c.options.mode;var e=a.effects[f];return a.fx.off||!e?b?d[b](c.duration,c.callback):d.each(function(){c.callback&&c.callback.call(this)}):e.call(d,c)},_show:a.fn.show,show:function(c){var a=this;if(r(c))return a._show.apply(a,arguments);else{var b=p.apply(a,arguments);b[1].mode="show";return a.effect.apply(a,b)}},_hide:a.fn.hide,hide:function(c){var a=this;if(r(c))return a._hide.apply(a,arguments);else{var b=p.apply(a,arguments);b[1].mode="hide";return a.effect.apply(a,b)}},__toggle:a.fn.toggle,toggle:function(c){var b=this;if(r(c)||typeof c==="boolean"||a.isFunction(c))return b.__toggle.apply(b,arguments);else{var d=p.apply(b,arguments);d[1].mode=k;return b.effect.apply(b,d)}},cssUnit:function(d){var b=this.css(d),c=[];a.each(["em","px","%","pt"],function(d,a){if(b.indexOf(a)>0)c=[parseFloat(b),a]});return c}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(d,b,c,e,f){return a.easing[a.easing.def](d,b,c,e,f)},easeInQuad:function(e,a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(e,a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(e,a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(e,a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(e,a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(e,a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(e,a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(e,b,c,a,d){return-a*Math.cos(b/d*(Math.PI/2))+a+c},easeOutSine:function(e,a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(e,a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(f,a,b,d,e){return a==0?b:d*Math.pow(2,c*(a/e-1))+b},easeOutExpo:function(e,a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(f,a,b,d,e){return a==0?b:a==e?b+d:(a/=e/2)<1?d/2*Math.pow(2,c*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(e,a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(e,a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(e,a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(f,d,h,a,i){f=e;var b=0,g=a;if(d==0)return h;if((d/=i)==1)return h+a;b||(b=i*.3);if(g<Math.abs(a)){g=a;f=b/4}else f=b/(2*Math.PI)*Math.asin(a/g);return-(g*Math.pow(2,c*(d-=1))*Math.sin((d*i-f)*2*Math.PI/b))+h},easeOutElastic:function(d,c,g,a,h){d=e;var b=0,f=a;if(c==0)return g;if((c/=h)==1)return g+a;b||(b=h*.3);if(f<Math.abs(a)){f=a;d=b/4}else d=b/(2*Math.PI)*Math.asin(a/f);return f*Math.pow(2,-10*c)*Math.sin((c*h-d)*2*Math.PI/b)+a+g},easeInOutElastic:function(f,a,h,b,i){f=e;var d=0,g=b;if(a==0)return h;if((a/=i/2)==2)return h+b;d||(d=i*.3*1.5);if(g<Math.abs(b)){g=b;f=d/4}else f=d/(2*Math.PI)*Math.asin(b/g);return a<1?-.5*g*Math.pow(2,c*(a-=1))*Math.sin((a*i-f)*2*Math.PI/d)+h:g*Math.pow(2,-10*(a-=1))*Math.sin((a*i-f)*2*Math.PI/d)*.5+b+h},easeInBack:function(g,b,c,d,f,a){if(a==o)a=e;return d*(b/=f)*b*((a+1)*b-a)+c},easeOutBack:function(g,a,c,d,f,b){if(b==o)b=e;return d*((a=a/f-1)*a*((b+1)*a+b)+1)+c},easeInOutBack:function(g,a,c,d,f,b){if(b==o)b=e;return(a/=f/2)<1?d/2*a*a*(((b*=1.525)+1)*a-b)+c:d/2*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)+c},easeInBounce:function(f,d,e,b,c){return b-a.easing.easeOutBounce(f,c-d,0,b,c)+e},easeOutBounce:function(g,b,d,e,f){var c=7.5625,a=2.75;return(b/=f)<1/a?e*c*b*b+d:b<2/a?e*(c*(b-=1.5/a)*b+.75)+d:b<2.5/a?e*(c*(b-=2.25/a)*b+.9375)+d:e*(c*(b-=2.625/a)*b+.984375)+d},easeInOutBounce:function(f,c,e,d,b){return c<b/2?a.easing.easeInBounce(f,c*2,0,d,b)*.5+e:a.easing.easeOutBounce(f,c*2-b,0,d,b)*.5+d*.5+e}})}(jQuery);(function(a){a.effects.blind=function(b){return this.queue(function(){var c="vertical",d=a(this),h=["position","top","bottom","left","right"],g=a.effects.setMode(d,b.options.mode||"hide"),e=b.options.direction||c;a.effects.save(d,h);d.show();var f=a.effects.createWrapper(d).css({overflow:"hidden"}),i=e==c?"height":"width";e=e==c?f.height():f.width();g=="show"&&f.css(i,0);var j={};j[i]=g=="show"?e:0;f.animate(j,b.duration,b.options.easing,function(){g=="hide"&&d.hide();a.effects.restore(d,h);a.effects.removeWrapper(d);b.callback&&b.callback.apply(d[0],arguments);d.dequeue()})})}})(jQuery);(function(a){a.effects.bounce=function(b){return this.queue(function(){var f="-=",e="+=",h="hide",c="pos",j="left",d=a(this),q=["position","top","bottom",j,"right"],m=a.effects.setMode(d,b.options.mode||"effect"),i=b.options.direction||"up",g=b.options.distance||20,r=b.options.times||5,n=b.duration||250;/show|hide/.test(m)&&q.push("opacity");a.effects.save(d,q);d.show();a.effects.createWrapper(d);var k=i=="up"||i=="down"?"top":j;i=i=="up"||i==j?c:"neg";g=b.options.distance||(k=="top"?d.outerHeight({margin:true})/3:d.outerWidth({margin:true})/3);m=="show"&&d.css("opacity",0).css(k,i==c?-g:g);if(m==h)g/=r*2;m!=h&&r--;if(m=="show"){var l={opacity:1};l[k]=(i==c?e:f)+g;d.animate(l,n/2,b.options.easing);g/=2;r--}for(l=0;l<r;l++){var o={},p={};o[k]=(i==c?f:e)+g;p[k]=(i==c?e:f)+g;d.animate(o,n/2,b.options.easing).animate(p,n/2,b.options.easing);g=m==h?g*2:g/2}if(m==h){l={opacity:0};l[k]=(i==c?f:e)+g;d.animate(l,n/2,b.options.easing,function(){d.hide();a.effects.restore(d,q);a.effects.removeWrapper(d);b.callback&&b.callback.apply(this,arguments)})}else{o={};p={};o[k]=(i==c?f:e)+g;p[k]=(i==c?e:f)+g;d.animate(o,n/2,b.options.easing).animate(p,n/2,b.options.easing,function(){a.effects.restore(d,q);a.effects.removeWrapper(d);b.callback&&b.callback.apply(this,arguments)})}d.queue("fx",function(){d.dequeue()});d.dequeue()})}})(jQuery);(function(a){a.effects.clip=function(b){return this.queue(function(){var e="show",c="vertical",d=a(this),k=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(d,b.options.mode||"hide"),f=b.options.direction||c;a.effects.save(d,k);d.show();var g=a.effects.createWrapper(d).css({overflow:"hidden"});g=d[0].tagName=="IMG"?g:d;var i={size:f==c?"height":"width",position:f==c?"top":"left"};f=f==c?g.height():g.width();if(h==e){g.css(i.size,0);g.css(i.position,f/2)}var j={};j[i.size]=h==e?f:0;j[i.position]=h==e?0:f/2;g.animate(j,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){h=="hide"&&d.hide();a.effects.restore(d,k);a.effects.removeWrapper(d);b.callback&&b.callback.apply(d[0],arguments);d.dequeue()}})})}})(jQuery);(function(a){a.effects.drop=function(b){return this.queue(function(){var f="show",d="pos",c="left",e=a(this),k=["position","top","bottom",c,"right","opacity"],h=a.effects.setMode(e,b.options.mode||"hide"),g=b.options.direction||c;a.effects.save(e,k);e.show();a.effects.createWrapper(e);var i=g=="up"||g=="down"?"top":c;g=g=="up"||g==c?d:"neg";var j=b.options.distance||(i=="top"?e.outerHeight({margin:true})/2:e.outerWidth({margin:true})/2);h==f&&e.css("opacity",0).css(i,g==d?-j:j);var l={opacity:h==f?1:0};l[i]=(h==f?g==d?"+=":"-=":g==d?"-=":"+=")+j;e.animate(l,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){h=="hide"&&e.hide();a.effects.restore(e,k);a.effects.removeWrapper(e);b.callback&&b.callback.apply(this,arguments);e.dequeue()}})})}})(jQuery);(function(a){a.effects.explode=function(b){return this.queue(function(){var d="visible",j="absolute",c="show",f=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,g=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":c:b.options.mode;var e=a(this).show().css("visibility","hidden"),k=e.offset();k.top-=parseInt(e.css("marginTop"),10)||0;k.left-=parseInt(e.css("marginLeft"),10)||0;for(var l=e.outerWidth(true),m=e.outerHeight(true),h=0;h<f;h++)for(var i=0;i<g;i++)e.clone().appendTo("body").wrap("<div></div>").css({position:j,visibility:d,left:-i*(l/g),top:-h*(m/f)}).parent().addClass("ui-effects-explode").css({position:j,overflow:"hidden",width:l/g,height:m/f,left:k.left+i*(l/g)+(b.options.mode==c?(i-Math.floor(g/2))*(l/g):0),top:k.top+h*(m/f)+(b.options.mode==c?(h-Math.floor(f/2))*(m/f):0),opacity:b.options.mode==c?0:1}).animate({left:k.left+i*(l/g)+(b.options.mode==c?0:(i-Math.floor(g/2))*(l/g)),top:k.top+h*(m/f)+(b.options.mode==c?0:(h-Math.floor(f/2))*(m/f)),opacity:b.options.mode==c?1:0},b.duration||500);setTimeout(function(){b.options.mode==c?e.css({visibility:d}):e.css({visibility:d}).hide();b.callback&&b.callback.apply(e[0]);e.dequeue();a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);(function(a){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);(function(a){a.effects.fold=function(b){return this.queue(function(){var c="show",d="hide",e=a(this),l=["position","top","bottom","left","right"],f=a.effects.setMode(e,b.options.mode||d),i=b.options.size||15,j=!!b.options.horizFirst,m=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(e,l);e.show();var g=a.effects.createWrapper(e).css({overflow:"hidden"}),h=f==c!=j,n=h?["width","height"]:["height","width"];h=h?[g.width(),g.height()]:[g.height(),g.width()];var k=/([0-9]+)%/.exec(i);if(k)i=parseInt(k[1],10)/100*h[f==d?0:1];f==c&&g.css(j?{height:0,width:i}:{height:i,width:0});j={};k={};j[n[0]]=f==c?h[0]:i;k[n[1]]=f==c?h[1]:0;g.animate(j,m,b.options.easing).animate(k,m,b.options.easing,function(){f==d&&e.hide();a.effects.restore(e,l);a.effects.removeWrapper(e);b.callback&&b.callback.apply(e[0],arguments);e.dequeue()})})}})(jQuery);(function(a){a.effects.highlight=function(b){return this.queue(function(){var d="backgroundColor",c=a(this),f=["backgroundImage",d,"opacity"],e=a.effects.setMode(c,b.options.mode||"show"),g={backgroundColor:c.css(d)};if(e=="hide")g.opacity=0;a.effects.save(c,f);c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(g,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide();a.effects.restore(c,f);e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter");b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);(function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1;duration=b.duration?b.duration/2:a.fx.speeds._default/2;isVisible=c.is(":visible");animateTo=0;if(!isVisible){c.css("opacity",0).show();animateTo=1}if(d=="hide"&&isVisible||d=="show"&&!isVisible)times--;for(d=0;d<times;d++){c.animate({opacity:animateTo},duration,b.options.easing);animateTo=(animateTo+1)%2}c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide();b.callback&&b.callback.apply(this,arguments)});c.queue("fx",function(){c.dequeue()}).dequeue()})}})(jQuery);(function(a){var c="both",d="effect",b="hide";a.effects.puff=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||b),g=parseInt(c.options.percent,10)||150,h=g/100,f={height:d.height(),width:d.width()};a.extend(c.options,{fade:true,mode:e,percent:e==b?g:100,from:e==b?f:{height:f.height*h,width:f.width*h}});d.effect("scale",c.options,c.duration,c.callback);d.dequeue()})};a.effects.scale=function(e){return this.queue(function(){var f=a(this),g=a.extend(true,{},e.options),h=a.effects.setMode(f,e.options.mode||d),j=parseInt(e.options.percent,10)||(parseInt(e.options.percent,10)==0?0:h==b?0:100),k=e.options.direction||c,i=e.options.origin;if(h!=d){g.origin=i||["middle","center"];g.restore=true}i={height:f.height(),width:f.width()};f.from=e.options.from||(h=="show"?{height:0,width:0}:i);j={y:k!="horizontal"?j/100:1,x:k!="vertical"?j/100:1};f.to={height:i.height*j.y,width:i.width*j.x};if(e.options.fade){if(h=="show"){f.from.opacity=0;f.to.opacity=1}if(h==b){f.from.opacity=1;f.to.opacity=0}}g.from=f.from;g.to=f.to;g.mode=h;f.effect("size",g,e.duration,e.callback);f.dequeue()})};a.effects.size=function(e){return this.queue(function(){var j="opacity",h="overflow",o="position",f=a(this),k=[o,"top","bottom","left","right","width","height",h,j],t=[o,"top","bottom","left","right",h,j],s=["width","height",h],q=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=a.effects.setMode(f,e.options.mode||d),r=e.options.restore||false,p=e.options.scale||c,n=e.options.origin,i={height:f.height(),width:f.width()};f.from=e.options.from||i;f.to=e.options.to||i;if(n){n=a.effects.getBaseline(n,i);f.from.top=(i.height-f.from.height)*n.y;f.from.left=(i.width-f.from.width)*n.x;f.to.top=(i.height-f.to.height)*n.y;f.to.left=(i.width-f.to.width)*n.x}var g={from:{y:f.from.height/i.height,x:f.from.width/i.width},to:{y:f.to.height/i.height,x:f.to.width/i.width}};if(p=="box"||p==c){if(g.from.y!=g.to.y){k=k.concat(l);f.from=a.effects.setTransition(f,l,g.from.y,f.from);f.to=a.effects.setTransition(f,l,g.to.y,f.to)}if(g.from.x!=g.to.x){k=k.concat(m);f.from=a.effects.setTransition(f,m,g.from.x,f.from);f.to=a.effects.setTransition(f,m,g.to.x,f.to)}}if(p=="content"||p==c)if(g.from.y!=g.to.y){k=k.concat(q);f.from=a.effects.setTransition(f,q,g.from.y,f.from);f.to=a.effects.setTransition(f,q,g.to.y,f.to)}a.effects.save(f,r?k:t);f.show();a.effects.createWrapper(f);f.css(h,"hidden").css(f.from);if(p=="content"||p==c){l=l.concat(["marginTop","marginBottom"]).concat(q);m=m.concat(["marginLeft","marginRight"]);s=k.concat(l).concat(m);f.find("*[width]").each(function(){child=a(this);r&&a.effects.save(child,s);var b={height:child.height(),width:child.width()};child.from={height:b.height*g.from.y,width:b.width*g.from.x};child.to={height:b.height*g.to.y,width:b.width*g.to.x};if(g.from.y!=g.to.y){child.from=a.effects.setTransition(child,l,g.from.y,child.from);child.to=a.effects.setTransition(child,l,g.to.y,child.to)}if(g.from.x!=g.to.x){child.from=a.effects.setTransition(child,m,g.from.x,child.from);child.to=a.effects.setTransition(child,m,g.to.x,child.to)}child.css(child.from);child.animate(child.to,e.duration,e.options.easing,function(){r&&a.effects.restore(child,s)})})}f.animate(f.to,{queue:false,duration:e.duration,easing:e.options.easing,complete:function(){f.to.opacity===0&&f.css(j,f.from.opacity);u==b&&f.hide();a.effects.restore(f,r?k:t);a.effects.removeWrapper(f);e.callback&&e.callback.apply(this,arguments);f.dequeue()}})})}})(jQuery);(function(a){a.effects.shake=function(b){return this.queue(function(){var d="pos",c="left",e=a(this),l=["position","top","bottom",c,"right"];a.effects.setMode(e,b.options.mode||"effect");var f=b.options.direction||c,g=b.options.distance||20,n=b.options.times||3,h=b.duration||b.options.duration||140;a.effects.save(e,l);e.show();a.effects.createWrapper(e);var i=f=="up"||f=="down"?"top":c,j=f=="up"||f==c?d:"neg";f={};var k={},m={};f[i]=(j==d?"-=":"+=")+g;k[i]=(j==d?"+=":"-=")+g*2;m[i]=(j==d?"-=":"+=")+g*2;e.animate(f,h,b.options.easing);for(g=1;g<n;g++)e.animate(k,h,b.options.easing).animate(m,h,b.options.easing);e.animate(k,h,b.options.easing).animate(f,h/2,b.options.easing,function(){a.effects.restore(e,l);a.effects.removeWrapper(e);b.callback&&b.callback.apply(this,arguments)});e.queue("fx",function(){e.dequeue()});e.dequeue()})}})(jQuery);(function(a){a.effects.slide=function(b){return this.queue(function(){var d="pos",f="show",c="left",e=a(this),k=["position","top","bottom",c,"right"],i=a.effects.setMode(e,b.options.mode||f),g=b.options.direction||c;a.effects.save(e,k);e.show();a.effects.createWrapper(e).css({overflow:"hidden"});var j=g=="up"||g=="down"?"top":c;g=g=="up"||g==c?d:"neg";var h=b.options.distance||(j=="top"?e.outerHeight({margin:true}):e.outerWidth({margin:true}));i==f&&e.css(j,g==d?isNaN(h)?"-"+h:-h:h);var l={};l[j]=(i==f?g==d?"+=":"-=":g==d?"-=":"+=")+h;e.animate(l,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){i=="hide"&&e.hide();a.effects.restore(e,k);a.effects.removeWrapper(e);b.callback&&b.callback.apply(this,arguments);e.dequeue()}})})}})(jQuery);(function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset();d={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()};e=c.offset();var f=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:e.top,left:e.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,b.duration,b.options.easing,function(){f.remove();b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,g){var f="tabindex",d="Width",e=".ui-disableSelection",c="overflow",b="position";function h(b,e){var c=b.nodeName.toLowerCase();if("area"===c){var f=b.parentNode,g=f.name,d;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(d=a("img[usemap=#"+g+"]")[0],!!d&&i(d))}return(/input|select|textarea|button|object/.test(c)?!b.disabled:"a"==c?b.href||e:e)&&i(b)}function i(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.22",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var e="overflow-x",d="overflow-y",f=this,g;return a.browser.msie&&/(static|relative)/.test(f.css(b))||/absolute/.test(f.css(b))?(g=f.parents().filter(function(){var f=this;return/(relative|absolute|fixed)/.test(a.curCSS(f,b,1))&&/(auto|scroll)/.test(a.curCSS(f,c,1)+a.curCSS(f,d,1)+a.curCSS(f,e,1))}).eq(0)):(g=f.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,c,1)+a.curCSS(this,d,1)+a.curCSS(this,e,1))}).eq(0)),/fixed/.test(f.css(b))||!g.length?a(document):g},zIndex:function(f){if(f!==g)return this.css("zIndex",f);if(this.length){var c=a(this[0]),d,e;while(c.length&&c[0]!==document){d=c.css(b);if(d==="absolute"||d==="relative"||d==="fixed"){e=parseInt(c.css("zIndex"),10);if(!isNaN(e)&&e!==0)return e}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+e,function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(e)}}),a("<a>").outerWidth(1).jquery||a.each([d,"Height"],function(i,b){function f(c,b,e,f){return a.each(h,function(){b-=parseFloat(a.curCSS(c,"padding"+this,!0))||0,e&&(b-=parseFloat(a.curCSS(c,"border"+this+d,!0))||0),f&&(b-=parseFloat(a.curCSS(c,"margin"+this,!0))||0)}),b}var h=b===d?["Left","Right"]:["Top","Bottom"],c=b.toLowerCase(),e={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+b]=function(d){return d===g?e["inner"+b].call(this):this.each(function(){a(this).css(c,f(this,d)+"px")})},a.fn["outer"+b]=function(d,g){return typeof d!="number"?e["outer"+b].call(this,d):this.each(function(){a(this).css(c,f(this,d,!0,g)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,d,c){return!!a.data(b,c[3])},focusable:function(b){return h(b,!isNaN(a.attr(b,f)))},tabbable:function(b){var c=a.attr(b,f),d=isNaN(c);return(d||c>=0)&&h(b,!d)}}),a(function(){var c=document.body,b=c.appendChild(b=document.createElement("div"));b.offsetHeight,a.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=b.offsetHeight===100,a.support.selectstart="onselectstart"in b,c.removeChild(b).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(e,f,d){var c=a.ui[e].prototype;for(var b in d)c.plugins[b]=c.plugins[b]||[],c.plugins[b].push([f,d[b]])},call:function(a,d,e){var b=a.plugins[d];if(!b||!a.element[0].parentNode)return;for(var c=0;c<b.length;c++)a.options[b[c][0]]&&b[c][1].apply(a.element,e)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,e){if(a(b).css(c)==="hidden")return!1;var d=e&&e==="left"?"scrollLeft":"scrollTop",f=!1;return b[d]>0?!0:(b[d]=1,f=b[d]>0,b[d]=0,f)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,e){var b="disabled",d="ui-state-disabled",c="aria-disabled";if(a.cleanData){var f=a.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!=null;c++)try{a(d).triggerHandler("remove")}catch(e){}f(b)}}else{var g=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){var d=this;return c||(!b||a.filter(b,[d]).length)&&a("*",d).add([d]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),g.call(a(d),b,c)})}}a.widget=function(b,d,e){var c=b.split(".")[0],f;b=b.split(".")[1],f=c+"-"+b,e||(e=d,d=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[c]=a[c]||{},a[c][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new d;g.options=a.extend(!0,{},g.options),a[c][b].prototype=a.extend(!0,g,{"namespace":c,widgetName:b,widgetEventPrefix:a[c][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},e),a.widget.bridge(b,a[c][b])},a.widget.bridge=function(b,c){a.fn[b]=function(d){var f=typeof d=="string",g=Array.prototype.slice.call(arguments,1),h=this;return d=!f&&g.length?a.extend.apply(null,[!0,d].concat(g)):d,f&&d.charAt(0)==="_"?h:(f?this.each(function(){var c=a.data(this,b),f=c&&a.isFunction(c[d])?c[d].apply(c,g):c;if(f!==c&&f!==e)return h=f,!1}):this.each(function(){var e=a.data(this,b);e?e.option(d||{})._init():a.data(this,b,new c(d,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(d,c){var b=this;a.data(c,b.widgetName,b),b.element=a(c),b.options=a.extend(!0,{},b.options,b._getCreateOptions(),d);var e=b;b.element.bind("remove."+b.widgetName,function(){e.destroy()}),b._create(),b._trigger("create"),b._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){var a=this;a.element.unbind("."+a.widgetName).removeData(a.widgetName),a.widget().unbind("."+a.widgetName).removeAttr(c).removeClass(a.widgetBaseClass+"-disabled "+d)},widget:function(){return this.element},option:function(c,f){var b=this,d=c;if(arguments.length===0)return a.extend({},b.options);if(typeof c=="string"){if(f===e)return b.options[c];d={},d[c]=f}return b._setOptions(d),b},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(f,e){var a=this;return a.options[f]=e,f===b&&a.widget()[e?"addClass":"removeClass"](a.widgetBaseClass+"-disabled "+d).attr(c,e),a},enable:function(){return this._setOption(b,!1)},disable:function(){return this._setOption(b,!0)},_trigger:function(d,b,e){var c=this,f,g,h=c.options[d];e=e||{},b=a.Event(b),b.type=(d===c.widgetEventPrefix?d:c.widgetEventPrefix+d).toLowerCase(),b.target=c.element[0],g=b.originalEvent;if(g)for(f in g)f in b||(b[f]=g[f]);return c.element.trigger(b,e),!(a.isFunction(h)&&h.call(c.element[0],b,e)===!1||b.isDefaultPrevented())}}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.mouse.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(b){var d="mouseup.",c="mousemove.",a=".preventClickEvent",e=!1;b(document).mouseup(function(){e=!1}),b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this,d=c;c.element.bind("mousedown."+c.widgetName,function(a){return d._mouseDown(a)}).bind("click."+c.widgetName,function(c){if(!0===b.data(c.target,d.widgetName+a))return b.removeData(c.target,d.widgetName+a),c.stopImmediatePropagation(),!1}),c.started=!1},_mouseDestroy:function(){var a=this;a.element.unbind("."+a.widgetName),b(document).unbind(c+a.widgetName,a._mouseMoveDelegate).unbind(d+a.widgetName,a._mouseUpDelegate)},_mouseDown:function(g){var f=this;if(e)return;f._mouseStarted&&f._mouseUp(g),f._mouseDownEvent=g;var h=f,i=g.which==1,j=typeof f.options.cancel=="string"&&g.target.nodeName?b(g.target).closest(f.options.cancel).length:!1;if(!i||j||!f._mouseCapture(g))return!0;f.mouseDelayMet=!f.options.delay,f.mouseDelayMet||(f._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},f.options.delay));if(f._mouseDistanceMet(g)&&f._mouseDelayMet(g)){f._mouseStarted=f._mouseStart(g)!==!1;if(!f._mouseStarted)return g.preventDefault(),!0}return!0===b.data(g.target,f.widgetName+a)&&b.removeData(g.target,f.widgetName+a),f._mouseMoveDelegate=function(a){return h._mouseMove(a)},f._mouseUpDelegate=function(a){return h._mouseUp(a)},b(document).bind(c+f.widgetName,f._mouseMoveDelegate).bind(d+f.widgetName,f._mouseUpDelegate),g.preventDefault(),e=!0,!0},_mouseMove:function(c){var a=this;return!b.browser.msie||document.documentMode>=9||!!c.button?a._mouseStarted?(a._mouseDrag(c),c.preventDefault()):(a._mouseDistanceMet(c)&&a._mouseDelayMet(c)&&(a._mouseStarted=a._mouseStart(a._mouseDownEvent,c)!==!1,a._mouseStarted?a._mouseDrag(c):a._mouseUp(c)),!a._mouseStarted):a._mouseUp(c)},_mouseUp:function(f){var e=this;return b(document).unbind(c+e.widgetName,e._mouseMoveDelegate).unbind(d+e.widgetName,e._mouseUpDelegate),e._mouseStarted&&(e._mouseStarted=!1,f.target==e._mouseDownEvent.target&&b.data(f.target,e.widgetName+a,!0),e._mouseStop(f)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.position.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var d="top",c="left",f="bottom",e="right";a.ui=a.ui||{};var g=/left|center|right/,h=/top|center|bottom/,b="center",i={},j=a.fn.position,k=a.fn.offset;a.fn.position=function(k){if(!k||!k.of)return j.apply(this,arguments);k=a.extend({},k);var m=a(k.of),r=m[0],q=(k.collision||"flip").split(" "),n=k.offset?k.offset.split(" "):[0,0],o,p,l;return r.nodeType===9?(o=m.width(),p=m.height(),l={top:0,left:0}):r.setTimeout?(o=m.width(),p=m.height(),l={top:m.scrollTop(),left:m.scrollLeft()}):r.preventDefault?(k.at="left top",o=p=0,l={top:k.of.pageY,left:k.of.pageX}):(o=m.outerWidth(),p=m.outerHeight(),l=m.offset()),a.each(["my","at"],function(){var a=(k[this]||"").split(" ");a.length===1&&(a=g.test(a[0])?a.concat([b]):h.test(a[0])?[b].concat(a):[b,b]),a[0]=g.test(a[0])?a[0]:b,a[1]=h.test(a[1])?a[1]:b,k[this]=a}),q.length===1&&(q[1]=q[0]),n[0]=parseInt(n[0],10)||0,n.length===1&&(n[1]=n[0]),n[1]=parseInt(n[1],10)||0,k.at[0]===e?(l.left+=o):k.at[0]===b&&(l.left+=o/2),k.at[1]===f?(l.top+=p):k.at[1]===b&&(l.top+=p/2),l.left+=n[0],l.top+=n[1],this.each(function(){var h=this,j=a(h),m=j.outerWidth(),r=j.outerHeight(),s=parseInt(a.curCSS(h,"marginLeft",!0))||0,t=parseInt(a.curCSS(h,"marginTop",!0))||0,v=m+s+(parseInt(a.curCSS(h,"marginRight",!0))||0),w=r+t+(parseInt(a.curCSS(h,"marginBottom",!0))||0),g=a.extend({},l),u;k.my[0]===e?(g.left-=m):k.my[0]===b&&(g.left-=m/2),k.my[1]===f?(g.top-=r):k.my[1]===b&&(g.top-=r/2),i.fractions||(g.left=Math.round(g.left),g.top=Math.round(g.top)),u={left:g.left-s,top:g.top-t},a.each([c,d],function(b,c){a.ui.position[q[b]]&&a.ui.position[q[b]][c](g,{targetWidth:o,targetHeight:p,elemWidth:m,elemHeight:r,collisionPosition:u,collisionWidth:v,collisionHeight:w,offset:n,my:k.my,at:k.at})}),a.fn.bgiframe&&j.bgiframe(),j.offset(a.extend(g,{using:k.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(j,d){if(d.at[0]===b)return;var f=a(window),k=d.collisionPosition.left+d.collisionWidth-f.width()-f.scrollLeft(),g=d.my[0]===c?-d.elemWidth:d.my[0]===e?d.elemWidth:0,h=d.at[0]===c?d.targetWidth:-d.targetWidth,i=-2*d.offset[0];j.left+=d.collisionPosition.left<0?g+h+i:k>0?g+h+i:0},top:function(j,c){if(c.at[1]===b)return;var e=a(window),k=c.collisionPosition.top+c.collisionHeight-e.height()-e.scrollTop(),g=c.my[1]===d?-c.elemHeight:c.my[1]===f?c.elemHeight:0,h=c.at[1]===d?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];j.top+=c.collisionPosition.top<0?g+h+i:k>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,e){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var f=a(b),g=f.offset(),i=parseInt(a.curCSS(b,d,!0),10)||0,j=parseInt(a.curCSS(b,c,!0),10)||0,h={top:e.top-g.top+i,left:e.left-g.left+j};"using"in e?e.using.call(b,h):f.css(h)},a.fn.offset=function(c){var b=this,d=b[0];return!d||!d.ownerDocument?null:c?a.isFunction(c)?b.each(function(b){a(this).offset(c.call(this,b,a(this).offset()))}):b.each(function(){a.offset.setOffset(this,c)}):k.call(b)}),function(){var c=document.getElementsByTagName("body")[0],f=document.createElement("div"),b,d,e,g,h;b=document.createElement(c?"div":"body"),e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},c&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in e)b.style[j]=e[j];b.appendChild(f),d=c||document.documentElement,d.insertBefore(b,d.firstChild),f.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",g=a(f).offset(function(b,a){return a}).offset(),b.innerHTML="",d.removeChild(b),h=g.top+g.left+(c?2e3:0),i.fractions=h>21&&h<22}()})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.draggable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var g="zIndex",k="opacity",j="cursor",f="fixed",p="borderLeftWidth",o="borderTopWidth",b=10,s="ui-draggable-dragging",i="body",e="absolute",h="px",c="draggable",d="relative",m="position",l="original",n="auto",q="parent",r="drag";a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:r,options:{addClasses:!0,appendTo:q,axis:!1,connectToSortable:!1,containment:!1,cursor:n,cursorAt:!1,grid:!1,handle:!1,helper:l,iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){var a=this;a.options.helper==l&&!/^(?:r|a|f)/.test(a.element.css(m))&&(a.element[0].style.position=d),a.options.addClasses&&a.element.addClass("ui-draggable"),a.options.disabled&&a.element.addClass("ui-draggable-disabled"),a._mouseInit()},destroy:function(){var a=this;return!a.element.data(c)?void 0:(a.element.removeData(c).unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),a._mouseDestroy(),a)},_mouseCapture:function(d){var b=this,c=b.options;return b.helper||c.disabled||a(d.target).is(".ui-resizable-handle")?!1:(b.handle=b._getHandle(d),b.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+h,height:this.offsetHeight+h,position:e,opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo(i)}),!0):!1)},_mouseStart:function(c){var b=this,d=b.options;return b.helper=b._createHelper(c),b.helper.addClass(s),b._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=b),b._cacheMargins(),b.cssPosition=b.helper.css(m),b.scrollParent=b.helper.scrollParent(),b.offset=b.positionAbs=b.element.offset(),b.offset={top:b.offset.top-b.margins.top,left:b.offset.left-b.margins.left},a.extend(b.offset,{click:{left:c.pageX-b.offset.left,top:c.pageY-b.offset.top},parent:b._getParentOffset(),relative:b._getRelativeOffset()}),b.originalPosition=b.position=b._generatePosition(c),b.originalPageX=c.pageX,b.originalPageY=c.pageY,d.cursorAt&&b._adjustOffsetFromHelper(d.cursorAt),d.containment&&b._setContainment(),b._trigger("start",c)===!1?(b._clear(),!1):(b._cacheHelperProportions(),a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,c),b._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(b,c),!0)},_mouseDrag:function(c,f){var b=this;b.position=b._generatePosition(c),b.positionAbs=b._convertPositionTo(e);if(!f){var d=b._uiHash();if(b._trigger(r,c,d)===!1)return b._mouseUp({}),!1;b.position=d.position}if(!b.options.axis||b.options.axis!="y")b.helper[0].style.left=b.position.left+h;if(!b.options.axis||b.options.axis!="x")b.helper[0].style.top=b.position.top+h;return a.ui.ddmanager&&a.ui.ddmanager.drag(b,c),!1},_mouseStop:function(f){var c=this,d=!1;a.ui.ddmanager&&!c.options.dropBehaviour&&(d=a.ui.ddmanager.drop(c,f)),c.dropped&&(d=c.dropped,c.dropped=!1);var e=c.element[0],g=!1;while(e&&(e=e.parentNode))e==document&&(g=!0);if(!g&&c.options.helper===l)return!1;if(c.options.revert=="invalid"&&!d||c.options.revert=="valid"&&d||c.options.revert===!0||a.isFunction(c.options.revert)&&c.options.revert.call(c.element,d)){var h=c;a(c.helper).animate(c.originalPosition,parseInt(c.options.revertDuration,b),function(){h._trigger("stop",f)!==!1&&h._clear()})}else c._trigger("stop",f)!==!1&&c._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){var a=this;return a.helper.is(".ui-draggable-dragging")?a._mouseUp({}):a._clear(),a},_getHandle:function(d){var b=this,c=!b.options.handle||!a(b.options.handle,b.element).length?!0:!1;return a(b.options.handle,b.element).find("*").andSelf().each(function(){this==d.target&&(c=!0)}),c},_createHelper:function(f){var b=this,d=b.options,c=a.isFunction(d.helper)?a(d.helper.apply(b.element[0],[f])):d.helper=="clone"?b.element.clone().removeAttr("id"):b.element;return c.parents(i).length||c.appendTo(d.appendTo==q?b.element[0].parentNode:d.appendTo),c[0]!=b.element[0]&&!/(fixed|absolute)/.test(c.css(m))&&c.css(m,e),c},_adjustOffsetFromHelper:function(b){var c=this;typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(c.offset.click.left=b.left+c.margins.left),"right"in b&&(c.offset.click.left=c.helperProportions.width-b.right+c.margins.left),"top"in b&&(c.offset.click.top=b.top+c.margins.top),"bottom"in b&&(c.offset.click.top=c.helperProportions.height-b.bottom+c.margins.top)},_getParentOffset:function(){var c=this;c.offsetParent=c.helper.offsetParent();var d=c.offsetParent.offset();c.cssPosition==e&&c.scrollParent[0]!=document&&a.ui.contains(c.scrollParent[0],c.offsetParent[0])&&(d.left+=c.scrollParent.scrollLeft(),d.top+=c.scrollParent.scrollTop());if(c.offsetParent[0]==document.body||c.offsetParent[0].tagName&&c.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(c.offsetParent.css(o),b)||0),left:d.left+(parseInt(c.offsetParent.css(p),b)||0)}},_getRelativeOffset:function(){var a=this;if(a.cssPosition==d){var c=a.element.position();return{top:c.top-(parseInt(a.helper.css("top"),b)||0)+a.scrollParent.scrollTop(),left:c.left-(parseInt(a.helper.css("left"),b)||0)+a.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){var a=this;a.margins={left:parseInt(a.element.css("marginLeft"),b)||0,top:parseInt(a.element.css("marginTop"),b)||0,right:parseInt(a.element.css("marginRight"),b)||0,bottom:parseInt(a.element.css("marginBottom"),b)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f="document",c=this,e=c.options;e.containment==q&&(e.containment=c.helper[0].parentNode);if(e.containment==f||e.containment=="window")c.containment=[e.containment==f?0:a(window).scrollLeft()-c.offset.relative.left-c.offset.parent.left,e.containment==f?0:a(window).scrollTop()-c.offset.relative.top-c.offset.parent.top,(e.containment==f?0:a(window).scrollLeft())+a(e.containment==f?document:window).width()-c.helperProportions.width-c.margins.left,(e.containment==f?0:a(window).scrollTop())+(a(e.containment==f?document:window).height()||document.body.parentNode.scrollHeight)-c.helperProportions.height-c.margins.top];if(!/^(document|window|parent)$/.test(e.containment)&&e.containment.constructor!=Array){var g=a(e.containment),d=g[0];if(!d)return;var i=g.offset(),h=a(d).css("overflow")!="hidden";c.containment=[(parseInt(a(d).css(p),b)||0)+(parseInt(a(d).css("paddingLeft"),b)||0),(parseInt(a(d).css(o),b)||0)+(parseInt(a(d).css("paddingTop"),b)||0),(h?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(p),b)||0)-(parseInt(a(d).css("paddingRight"),b)||0)-c.helperProportions.width-c.margins.left-c.margins.right,(h?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(o),b)||0)-(parseInt(a(d).css("paddingBottom"),b)||0)-c.helperProportions.height-c.margins.top-c.margins.bottom],c.relative_container=g}else e.containment.constructor==Array&&(c.containment=e.containment)},_convertPositionTo:function(i,d){var b=this;d||(d=b.position);var c=i==e?1:-1,j=b.options,g=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,h=/(html|body)/i.test(g[0].tagName);return{top:d.top+b.offset.relative.top*c+b.offset.parent.top*c-(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:(b.cssPosition==f?-b.scrollParent.scrollTop():h?0:g.scrollTop())*c),left:d.left+b.offset.relative.left*c+b.offset.parent.left*c-(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:(b.cssPosition==f?-b.scrollParent.scrollLeft():h?0:g.scrollLeft())*c)}},_generatePosition:function(i){var b=this,d=b.options,m=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,n=/(html|body)/i.test(m[0].tagName),j=i.pageX,k=i.pageY;if(b.originalPosition){var c;if(b.containment){if(b.relative_container){var l=b.relative_container.offset();c=[b.containment[0]+l.left,b.containment[1]+l.top,b.containment[2]+l.left,b.containment[3]+l.top]}else c=b.containment;i.pageX-b.offset.click.left<c[0]&&(j=c[0]+b.offset.click.left),i.pageY-b.offset.click.top<c[1]&&(k=c[1]+b.offset.click.top),i.pageX-b.offset.click.left>c[2]&&(j=c[2]+b.offset.click.left),i.pageY-b.offset.click.top>c[3]&&(k=c[3]+b.offset.click.top)}if(d.grid){var g=d.grid[1]?b.originalPageY+Math.round((k-b.originalPageY)/d.grid[1])*d.grid[1]:b.originalPageY;k=c?g-b.offset.click.top<c[1]||g-b.offset.click.top>c[3]?g-b.offset.click.top<c[1]?g+d.grid[1]:g-d.grid[1]:g:g;var h=d.grid[0]?b.originalPageX+Math.round((j-b.originalPageX)/d.grid[0])*d.grid[0]:b.originalPageX;j=c?h-b.offset.click.left<c[0]||h-b.offset.click.left>c[2]?h-b.offset.click.left<c[0]?h+d.grid[0]:h-d.grid[0]:h:h}}return{top:k-b.offset.click.top-b.offset.relative.top-b.offset.parent.top+(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:b.cssPosition==f?-b.scrollParent.scrollTop():n?0:m.scrollTop()),left:j-b.offset.click.left-b.offset.relative.left-b.offset.parent.left+(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:b.cssPosition==f?-b.scrollParent.scrollLeft():n?0:m.scrollLeft())}},_clear:function(){var a=this;a.helper.removeClass(s),a.helper[0]!=a.element[0]&&!a.cancelHelperRemoval&&a.helper.remove(),a.helper=null,a.cancelHelperRemoval=!1},_trigger:function(d,f,c){var b=this;return c=c||b._uiHash(),a.ui.plugin.call(b,d,[f,c]),d==r&&(b.positionAbs=b._convertPositionTo(e)),a.Widget.prototype._trigger.call(b,d,f,c)},plugins:{},_uiHash:function(){var a=this;return{helper:a.helper,position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.22"}),a.ui.plugin.add(c,"connectToSortable",{start:function(d,e){var b=a(this).data(c),f=b.options,g=a.extend({},e,{item:b.element});b.sortables=[],a(f.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(b.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",d,g))})},stop:function(d,e){var b=a(this).data(c),f=a.extend({},e,{item:b.element});a.each(b.sortables,function(){var a=this;a.instance.isOver?(a.instance.isOver=0,b.cancelHelperRemoval=!0,a.instance.cancelHelperRemoval=!1,a.shouldRevert&&(a.instance.options.revert=!0),a.instance._mouseStop(d),a.instance.options.helper=a.instance.options._helper,b.options.helper==l&&a.instance.currentItem.css({top:n,left:n})):(a.instance.cancelHelperRemoval=!1,a.instance._trigger("deactivate",d,f))})},drag:function(d,e){var b=a(this).data(c),f=this,g=function(c){var b=this,d=b.offset.click.top,e=b.offset.click.left,f=b.positionAbs.top,g=b.positionAbs.left,h=c.height,i=c.width,j=c.top,k=c.left;return a.ui.isOver(f+d,g+e,j,k,h,i)};a.each(b.sortables,function(){var c=this;c.instance.positionAbs=b.positionAbs,c.instance.helperProportions=b.helperProportions,c.instance.offset.click=b.offset.click,c.instance._intersectsWith(c.instance.containerCache)?(c.instance.isOver||(c.instance.isOver=1,c.instance.currentItem=a(f).clone().removeAttr("id").appendTo(c.instance.element).data("sortable-item",!0),c.instance.options._helper=c.instance.options.helper,c.instance.options.helper=function(){return e.helper[0]},d.target=c.instance.currentItem[0],c.instance._mouseCapture(d,!0),c.instance._mouseStart(d,!0,!0),c.instance.offset.click.top=b.offset.click.top,c.instance.offset.click.left=b.offset.click.left,c.instance.offset.parent.left-=b.offset.parent.left-c.instance.offset.parent.left,c.instance.offset.parent.top-=b.offset.parent.top-c.instance.offset.parent.top,b._trigger("toSortable",d),b.dropped=c.instance.element,b.currentItem=b.element,c.instance.fromOutside=b),c.instance.currentItem&&c.instance._mouseDrag(d)):c.instance.isOver&&(c.instance.isOver=0,c.instance.cancelHelperRemoval=!0,c.instance.options.revert=!1,c.instance._trigger("out",d,c.instance._uiHash(c.instance)),c.instance._mouseStop(d,!0),c.instance.options.helper=c.instance.options._helper,c.instance.currentItem.remove(),c.instance.placeholder&&c.instance.placeholder.remove(),b._trigger("fromSortable",d),b.dropped=!1)})}}),a.ui.plugin.add(c,j,{start:function(){var b=a(i),d=a(this).data(c).options;b.css(j)&&(d._cursor=b.css(j)),b.css(j,d.cursor)},stop:function(){var b=a(this).data(c).options;b._cursor&&a(i).css(j,b._cursor)}}),a.ui.plugin.add(c,k,{start:function(f,e){var b=a(e.helper),d=a(this).data(c).options;b.css(k)&&(d._opacity=b.css(k)),b.css(k,d.opacity)},stop:function(e,d){var b=a(this).data(c).options;b._opacity&&a(d.helper).css(k,b._opacity)}}),a.ui.plugin.add(c,"scroll",{start:function(){var b=a(this).data(c);b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset())},drag:function(e){var d=a(this).data(c),b=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!b.axis||b.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-e.pageY<b.scrollSensitivity?(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+b.scrollSpeed):e.pageY-d.overflowOffset.top<b.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||b.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-e.pageX<b.scrollSensitivity?(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+b.scrollSpeed):e.pageX-d.overflowOffset.left<b.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||b.axis!="x")e.pageY-a(document).scrollTop()<b.scrollSensitivity?(f=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed)):a(window).height()-(e.pageY-a(document).scrollTop())<b.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed));if(!b.axis||b.axis!="y")e.pageX-a(document).scrollLeft()<b.scrollSensitivity?(f=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed)):a(window).width()-(e.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,e)}}),a.ui.plugin.add(c,"snap",{start:function(){var b=a(this).data(c),d=b.options;b.snapElements=[],a(d.snap.constructor!=String?d.snap.items||":data(draggable)":d.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(u,g){for(var b=a(this).data(c),t=b.options,e=t.snapTolerance,l=g.offset.left,n=l+b.helperProportions.width,m=g.offset.top,o=m+b.helperProportions.height,f=b.snapElements.length-1;f>=0;f--){var h=b.snapElements[f].left,j=h+b.snapElements[f].width,i=b.snapElements[f].top,k=i+b.snapElements[f].height;if(!(h-e<l&&l<j+e&&i-e<m&&m<k+e||h-e<l&&l<j+e&&i-e<o&&o<k+e||h-e<n&&n<j+e&&i-e<m&&m<k+e||h-e<n&&n<j+e&&i-e<o&&o<k+e)){b.snapElements[f].snapping&&b.options.snap.release&&b.options.snap.release.call(b.element,u,a.extend(b._uiHash(),{snapItem:b.snapElements[f].item})),b.snapElements[f].snapping=!1;continue}if(t.snapMode!="inner"){var p=Math.abs(i-o)<=e,q=Math.abs(k-m)<=e,r=Math.abs(h-n)<=e,s=Math.abs(j-l)<=e;p&&(g.position.top=b._convertPositionTo(d,{top:i-b.helperProportions.height,left:0}).top-b.margins.top),q&&(g.position.top=b._convertPositionTo(d,{top:k,left:0}).top-b.margins.top),r&&(g.position.left=b._convertPositionTo(d,{top:0,left:h-b.helperProportions.width}).left-b.margins.left),s&&(g.position.left=b._convertPositionTo(d,{top:0,left:j}).left-b.margins.left)}var v=p||q||r||s;if(t.snapMode!="outer"){var p=Math.abs(i-m)<=e,q=Math.abs(k-o)<=e,r=Math.abs(h-l)<=e,s=Math.abs(j-n)<=e;p&&(g.position.top=b._convertPositionTo(d,{top:i,left:0}).top-b.margins.top),q&&(g.position.top=b._convertPositionTo(d,{top:k-b.helperProportions.height,left:0}).top-b.margins.top),r&&(g.position.left=b._convertPositionTo(d,{top:0,left:h}).left-b.margins.left),s&&(g.position.left=b._convertPositionTo(d,{top:0,left:j-b.helperProportions.width}).left-b.margins.left)}!b.snapElements[f].snapping&&(p||q||r||s||v)&&b.options.snap.snap&&b.options.snap.snap.call(b.element,u,a.extend(b._uiHash(),{snapItem:b.snapElements[f].item})),b.snapElements[f].snapping=p||q||r||s||v}}}),a.ui.plugin.add(c,"stack",{start:function(){var f=a(this).data(c).options,d=a.makeArray(a(f.stack)).sort(function(c,d){return(parseInt(a(c).css(g),b)||0)-(parseInt(a(d).css(g),b)||0)});if(!d.length)return;var e=parseInt(d[0].style.zIndex)||0;a(d).each(function(a){this.style.zIndex=e+a}),this[0].style.zIndex=e+d.length}}),a.ui.plugin.add(c,g,{start:function(f,e){var b=a(e.helper),d=a(this).data(c).options;b.css(g)&&(d._zIndex=b.css(g)),b.css(g,d.zIndex)},stop:function(e,d){var b=a(this).data(c).options;b._zIndex&&a(d.helper).css(g,b._zIndex)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.droppable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var e="scroll.droppable",d=":not(body,html)",c=":data(droppable)",b="droppable",f="intersect";a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:f},_create:function(){var b=this,c=b.options,d=c.accept;b.isover=0,b.isout=1,b.accept=a.isFunction(d)?d:function(a){return a.is(d)},b.proportions={width:b.element[0].offsetWidth,height:b.element[0].offsetHeight},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(b),c.addClasses&&b.element.addClass("ui-droppable")},destroy:function(){var c=this;for(var e=a.ui.ddmanager.droppables[c.options.scope],d=0;d<e.length;d++)e[d]==c&&e.splice(d,1);return c.element.removeClass("ui-droppable ui-droppable-disabled").removeData(b).unbind(".droppable"),c},_setOption:function(c,b){c=="accept"&&(this.accept=a.isFunction(b)?b:function(a){return a.is(b)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var b=this,c=a.ui.ddmanager.current;b.options.activeClass&&b.element.addClass(b.options.activeClass),c&&b._trigger("activate",d,b.ui(c))},_deactivate:function(d){var b=this,c=a.ui.ddmanager.current;b.options.activeClass&&b.element.removeClass(b.options.activeClass),c&&b._trigger("deactivate",d,b.ui(c))},_over:function(d){var b=this,c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==b.element[0])return;b.accept.call(b.element[0],c.currentItem||c.element)&&(b.options.hoverClass&&b.element.addClass(b.options.hoverClass),b._trigger("over",d,b.ui(c)))},_out:function(d){var b=this,c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==b.element[0])return;b.accept.call(b.element[0],c.currentItem||c.element)&&(b.options.hoverClass&&b.element.removeClass(b.options.hoverClass),b._trigger("out",d,b.ui(c)))},_drop:function(g,h){var d=this,e=h||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==d.element[0])return!1;var f=!1;return d.element.find(c).not(".ui-draggable-dragging").each(function(){var c=a.data(this,b);if(c.options.greedy&&!c.options.disabled&&c.options.scope==e.options.scope&&c.accept.call(c.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(c,{offset:c.element.offset()}),c.options.tolerance))return f=!0,!1}),f?!1:d.accept.call(d.element[0],e.currentItem||e.element)?(d.options.activeClass&&d.element.removeClass(d.options.activeClass),d.options.hoverClass&&d.element.removeClass(d.options.hoverClass),d._trigger("drop",g,d.ui(e)),d.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.22"}),a.ui.intersect=function(b,c,m){if(!c.offset)return!1;var g=(b.positionAbs||b.position.absolute).left,i=g+b.helperProportions.width,h=(b.positionAbs||b.position.absolute).top,j=h+b.helperProportions.height,d=c.offset.left,k=d+c.proportions.width,e=c.offset.top,l=e+c.proportions.height;switch(m){case"fit":return d<=g&&i<=k&&e<=h&&j<=l;case f:return d<g+b.helperProportions.width/2&&i-b.helperProportions.width/2<k&&e<h+b.helperProportions.height/2&&j-b.helperProportions.height/2<l;case"pointer":var n=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,o=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,p=a.ui.isOver(o,n,e,d,c.proportions.height,c.proportions.width);return p;case"touch":return(h>=e&&h<=l||j>=e&&j<=l||h<e&&j>l)&&(g>=d&&g<=k||i>=d&&i<=k||g<d&&i>k);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,f){var d=a.ui.ddmanager.droppables[e.options.scope]||[],i=f?f.type:null,h=(e.currentItem||e.element).find(c).andSelf();a:for(var b=0;b<d.length;b++){if(d[b].options.disabled||e&&!d[b].accept.call(d[b].element[0],e.currentItem||e.element))continue;for(var g=0;g<h.length;g++)if(h[g]==d[b].element[0]){d[b].proportions.height=0;continue a}d[b].visible=d[b].element.css("display")!="none";if(!d[b].visible)continue;i=="mousedown"&&d[b]._activate.call(d[b],f),d[b].offset=d[b].element.offset(),d[b].proportions={width:d[b].element[0].offsetWidth,height:d[b].element[0].offsetHeight}}},drop:function(b,d){var c=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){var e=this;if(!e.options)return;!e.options.disabled&&e.visible&&a.ui.intersect(b,e,e.options.tolerance)&&(c=e._drop.call(e,d)||c),!e.options.disabled&&e.visible&&e.accept.call(e.element[0],b.currentItem||b.element)&&(e.isout=1,e.isover=0,e._deactivate.call(e,d))}),c},dragStart:function(b,c){b.element.parents(d).bind(e,function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(c,d){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,d),a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){var e="isover",g="isout",f=this;if(f.options.disabled||f.greedyChild||!f.visible)return;var j=a.ui.intersect(c,f,f.options.tolerance),i=!j&&f.isover==1?g:j&&f.isover==0?e:null;if(!i)return;var h;if(f.options.greedy){var k=f.element.parents(":data(droppable):eq(0)");k.length&&(h=a.data(k[0],b),h.greedyChild=i==e?1:0)}h&&i==e&&(h.isover=0,h.isout=1,h._out.call(h,d)),f[i]=1,f[i==g?e:g]=0,f[i==e?"_over":"_out"].call(f,d),h&&i==g&&(h.isout=0,h.isover=1,h._over.call(h,d))})},dragStop:function(b,c){b.element.parents(d).unbind(e),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.resizable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var t="relative",l="height",k="width",m="resizable-alsoresize",j="px",s="ui-resizable-resizing",p="body",o="cursor",r="absolute",q=".ui-resizable-",n=".ui-resizable-handle",c="resizable",d="left",f="top",h="position",b=10,e=null,g="resize";a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:g,options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:e,maxWidth:e,minHeight:b,minWidth:b,zIndex:1e3},_create:function(){var j="ui-resizable-autohide",b=this,k=b,i=b.options;b.element.addClass("ui-resizable"),a.extend(b,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:b.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":e}),b.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(b.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:b.element.css(h),width:b.element.outerWidth(),height:b.element.outerHeight(),top:b.element.css(f),left:b.element.css(d)})),b.element=b.element.parent().data(c,b.element.data(c)),b.elementIsWrapper=!0,b.element.css({marginLeft:b.originalElement.css("marginLeft"),marginTop:b.originalElement.css("marginTop"),marginRight:b.originalElement.css("marginRight"),marginBottom:b.originalElement.css("marginBottom")}),b.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),b.originalResizeStyle=b.originalElement.css(g),b.originalElement.css(g,"none"),b._proportionallyResizeElements.push(b.originalElement.css({position:"static",zoom:1,display:"block"})),b.originalElement.css({margin:b.originalElement.css("margin")}),b._proportionallyResize()),b.handles=i.handles||(a(n,b.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(b.handles.constructor==String){b.handles=="all"&&(b.handles="n,e,s,w,se,sw,ne,nw");var p=b.handles.split(",");b.handles={};for(var m=0;m<p.length;m++){var l=a.trim(p[m]),r="ui-resizable-"+l,o=a('<div class="ui-resizable-handle '+r+'"></div>');o.css({zIndex:i.zIndex}),"se"==l&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),b.handles[l]=q+l,b.element.append(o)}}b._renderAxis=function(d){var b=this;d=d||b.element;for(var c in b.handles){b.handles[c].constructor==String&&(b.handles[c]=a(b.handles[c],b.element).show());if(b.elementIsWrapper&&b.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var e=a(b.handles[c],b.element),f=0;f=/sw|ne|nw|se|n|s/.test(c)?e.outerHeight():e.outerWidth();var g=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");d.css(g,f),b._proportionallyResize()}if(!a(b.handles[c]).length)continue}},b._renderAxis(b.element),b._handles=a(n,b.element).disableSelection(),b._handles.mouseover(function(){if(!k.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);k.axis=a&&a[1]?a[1]:"se"}}),i.autoHide&&(b._handles.hide(),a(b.element).addClass(j).hover(function(){if(i.disabled)return;a(this).removeClass(j),k._handles.show()},function(){if(i.disabled)return;k.resizing||(a(this).addClass(j),k._handles.hide())})),b._mouseInit()},destroy:function(){var b=this;b._mouseDestroy();var i=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData(c).unbind(".resizable").find(n).remove()};if(b.elementIsWrapper){i(b.element);var e=b.element;e.after(b.originalElement.css({position:e.css(h),width:e.outerWidth(),height:e.outerHeight(),top:e.css(f),left:e.css(d)})).remove()}return b.originalElement.css(g,b.originalResizeStyle),i(b.originalElement),b},_mouseCapture:function(c){var b=!1;for(var d in this.handles)a(this.handles[d])[0]==c.target&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(g){var b=this,e=b.options,k=b.element.position(),c=b.element;b.resizing=!0,b.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(c.is(".ui-draggable")||/absolute/.test(c.css(h)))&&c.css({position:r,top:k.top,left:k.left}),b._renderProxy();var i=u(b.helper.css(d)),j=u(b.helper.css(f));e.containment&&(i+=a(e.containment).scrollLeft()||0,j+=a(e.containment).scrollTop()||0),b.offset=b.helper.offset(),b.position={left:i,top:j},b.size=b._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()},b.originalSize=b._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()},b.originalPosition={left:i,top:j},b.sizeDiff={width:c.outerWidth()-c.width(),height:c.outerHeight()-c.height()},b.originalMousePosition={left:g.pageX,top:g.pageY},b.aspectRatio=typeof e.aspectRatio=="number"?e.aspectRatio:b.originalSize.width/b.originalSize.height||1;var l=a(q+b.axis).css(o);return a(p).css(o,l=="auto"?b.axis+"-resize":l),c.addClass(s),b._propagate("start",g),!0},_mouseDrag:function(c){var b=this,h=b.helper,m=b.options,n={},o=b,e=b.originalMousePosition,i=b.axis,k=c.pageX-e.left||0,l=c.pageY-e.top||0,f=b._change[i];if(!f)return!1;var d=f.apply(b,[c,k,l]),p=a.browser.msie&&a.browser.version<7,q=b.sizeDiff;b._updateVirtualBoundaries(c.shiftKey);if(b._aspectRatio||c.shiftKey)d=b._updateRatio(d,c);return d=b._respectSize(d,c),b._propagate(g,c),h.css({top:b.position.top+j,left:b.position.left+j,width:b.size.width+j,height:b.size.height+j}),!b._helper&&b._proportionallyResizeElements.length&&b._proportionallyResize(),b._updateCache(d),b._trigger(g,c,b.ui()),!1},_mouseStop:function(k){var g=this;g.resizing=!1;var i=g.options,c=g;if(g._helper){var h=g._proportionallyResizeElements,j=h.length&&/textarea/i.test(h[0].nodeName),l=j&&a.ui.hasScroll(h[0],d)?0:c.sizeDiff.height,m=j?0:c.sizeDiff.width,n={width:c.helper.width()-m,height:c.helper.height()-l},q=parseInt(c.element.css(d),b)+(c.position.left-c.originalPosition.left)||e,r=parseInt(c.element.css(f),b)+(c.position.top-c.originalPosition.top)||e;i.animate||g.element.css(a.extend(n,{top:r,left:q})),c.helper.height(c.size.height),c.helper.width(c.size.width),g._helper&&!i.animate&&g._proportionallyResize()}return a(p).css(o,"auto"),g.element.removeClass(s),g._propagate("stop",k),g._helper&&g.helper.remove(),!1},_updateVirtualBoundaries:function(h){var c=this,b=c.options,d,e,f,g,a;a={minWidth:i(b.minWidth)?b.minWidth:0,maxWidth:i(b.maxWidth)?b.maxWidth:Infinity,minHeight:i(b.minHeight)?b.minHeight:0,maxHeight:i(b.maxHeight)?b.maxHeight:Infinity};if(c._aspectRatio||h)d=a.minHeight*c.aspectRatio,f=a.minWidth/c.aspectRatio,e=a.maxHeight*c.aspectRatio,g=a.maxWidth/c.aspectRatio,d>a.minWidth&&(a.minWidth=d),f>a.minHeight&&(a.minHeight=f),e<a.maxWidth&&(a.maxWidth=e),g<a.maxHeight&&(a.maxHeight=g);c._vBoundaries=a},_updateCache:function(a){var b=this,c=b.options;b.offset=b.helper.offset(),i(a.left)&&(b.position.left=a.left),i(a.top)&&(b.position.top=a.top),i(a.height)&&(b.size.height=a.height),i(a.width)&&(b.size.width=a.width)},_updateRatio:function(a){var b=this,h=b.options,c=b.position,d=b.size,f=b.axis;return i(a.height)?(a.width=a.height*b.aspectRatio):i(a.width)&&(a.height=a.width/b.aspectRatio),f=="sw"&&(a.left=c.left+(d.width-a.width),a.top=e),f=="nw"&&(a.top=c.top+(d.height-a.height),a.left=c.left+(d.width-a.width)),a},_respectSize:function(a,p){var c=this,q=c.helper,b=c._vBoundaries,r=c._aspectRatio||p.shiftKey,d=c.axis,f=i(a.width)&&b.maxWidth&&b.maxWidth<a.width,g=i(a.height)&&b.maxHeight&&b.maxHeight<a.height,h=i(a.width)&&b.minWidth&&b.minWidth>a.width,j=i(a.height)&&b.minHeight&&b.minHeight>a.height;h&&(a.width=b.minWidth),j&&(a.height=b.minHeight),f&&(a.width=b.maxWidth),g&&(a.height=b.maxHeight);var k=c.originalPosition.left+c.originalSize.width,l=c.position.top+c.size.height,m=/sw|nw|w/.test(d),n=/nw|ne|n/.test(d);h&&m&&(a.left=k-b.minWidth),f&&m&&(a.left=k-b.maxWidth),j&&n&&(a.top=l-b.minHeight),g&&n&&(a.top=l-b.maxHeight);var o=!a.width&&!a.height;return o&&!a.left&&a.top?(a.top=e):o&&!a.top&&a.left&&(a.left=e),a},_proportionallyResize:function(){var c=this,i=c.options;if(!c._proportionallyResizeElements.length)return;for(var e=c.helper||c.element,f=0;f<c._proportionallyResizeElements.length;f++){var d=c._proportionallyResizeElements[f];if(!c.borderDif){var g=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],h=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];c.borderDif=a.map(g,function(a,c){var d=parseInt(a,b)||0,e=parseInt(h[c],b)||0;return d+e})}if(!a.browser.msie||!a(e).is(":hidden")&&!a(e).parents(":hidden").length)d.css({height:e.height()-c.borderDif[0]-c.borderDif[2]||0,width:e.width()-c.borderDif[1]-c.borderDif[3]||0});else continue}},_renderProxy:function(){var b=this,f=b.element,g=b.options;b.elementOffset=f.offset();if(b._helper){b.helper=b.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,d=c?1:0,e=c?2:-1;b.helper.addClass(b._helper).css({width:b.element.outerWidth()+e,height:b.element.outerHeight()+e,position:r,left:b.elementOffset.left-d+j,top:b.elementOffset.top-d+j,zIndex:++g.zIndex}),b.helper.appendTo(p).disableSelection()}else b.helper=b.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(d,a){var f=this.options,b=this.originalSize,c=this.originalPosition;return{left:c.left+a,width:b.width-a}},n:function(d,e,a){var f=this.options,b=this.originalSize,c=this.originalPosition;return{top:c.top+a,height:b.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(c,d,e){var b=this;return a.extend(b._change.s.apply(b,arguments),b._change.e.apply(b,[c,d,e]))},sw:function(c,d,e){var b=this;return a.extend(b._change.s.apply(b,arguments),b._change.w.apply(b,[c,d,e]))},ne:function(c,d,e){var b=this;return a.extend(b._change.n.apply(b,arguments),b._change.e.apply(b,[c,d,e]))},nw:function(c,d,e){var b=this;return a.extend(b._change.n.apply(b,arguments),b._change.w.apply(b,[c,d,e]))}},_propagate:function(c,d){var b=this;a.ui.plugin.call(b,c,[d,b.ui()]),c!=g&&b._trigger(c,d,b.ui())},plugins:{},ui:function(){var a=this;return{originalElement:a.originalElement,element:a.element,helper:a.helper,position:a.position,size:a.size,originalSize:a.originalSize,originalPosition:a.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.22"}),a.ui.plugin.add(c,"alsoResize",{start:function(){var h=a(this).data(c),e=h.options,g=function(c){a(c).each(function(){var c=a(this);c.data(m,{width:parseInt(c.width(),b),height:parseInt(c.height(),b),left:parseInt(c.css(d),b),top:parseInt(c.css(f),b)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],g(e.alsoResize)):a.each(e.alsoResize,function(a){g(a)}):g(e.alsoResize)},resize:function(p,n){var b=a(this).data(c),g=b.options,h=b.originalSize,i=b.originalPosition,o={height:b.size.height-h.height||0,width:b.size.width-h.width||0,top:b.position.top-i.top||0,left:b.position.left-i.left||0},j=function(c,b){a(c).each(function(){var c=a(this),h=a(this).data(m),g={},i=b&&b.length?b:c.parents(n.originalElement[0]).length?[k,l]:[k,l,f,d];a.each(i,function(c,a){var b=(h[a]||0)+(o[a]||0);b&&b>=0&&(g[a]=b||e)}),c.css(g)})};typeof g.alsoResize=="object"&&!g.alsoResize.nodeType?a.each(g.alsoResize,function(a,b){j(a,b)}):j(g.alsoResize)},stop:function(){a(this).removeData(m)}}),a.ui.plugin.add(c,"animate",{stop:function(p){var h=a(this).data(c),j=h.options,i=h._proportionallyResizeElements,m=i.length&&/textarea/i.test(i[0].nodeName),q=m&&a.ui.hasScroll(i[0],d)?0:h.sizeDiff.height,r=m?0:h.sizeDiff.width,s={width:h.size.width-r,height:h.size.height-q},n=parseInt(h.element.css(d),b)+(h.position.left-h.originalPosition.left)||e,o=parseInt(h.element.css(f),b)+(h.position.top-h.originalPosition.top)||e;h.element.animate(a.extend(s,o&&n?{top:o,left:n}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var c={width:parseInt(h.element.css(k),b),height:parseInt(h.element.css(l),b),top:parseInt(h.element.css(f),b),left:parseInt(h.element.css(d),b)};i&&i.length&&a(i[0]).css({width:c.width,height:c.height}),h._updateCache(c),h._propagate(g,p)}})}}),a.ui.plugin.add(c,"containment",{start:function(){var b=a(this).data(c),j=b.options,k=b.element,f=j.containment,e=f instanceof a?f.get(0):/parent/.test(f)?k.parent().get(0):f;if(!e)return;b.containerElement=a(e);if(/document/.test(f)||f==document)b.containerOffset={left:0,top:0},b.containerPosition={left:0,top:0},b.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(e),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){h[a]=u(g.css("padding"+b))}),b.containerOffset=g.offset(),b.containerPosition=g.position(),b.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]};var i=b.containerOffset,l=b.containerSize.height,m=b.containerSize.width,n=a.ui.hasScroll(e,d)?e.scrollWidth:m,o=a.ui.hasScroll(e)?e.scrollHeight:l;b.parentData={element:e,left:i.left,top:i.top,width:n,height:o}}},resize:function(l){var b=a(this).data(c),m=b.options,q=b.containerSize,d=b.containerOffset,r=b.size,i=b.position,f=b._aspectRatio||l.shiftKey,e={top:0,left:0},j=b.containerElement;j[0]!=document&&/static/.test(j.css(h))&&(e=d),i.left<(b._helper?d.left:0)&&(b.size.width=b.size.width+(b._helper?b.position.left-d.left:b.position.left-e.left),f&&(b.size.height=b.size.width/b.aspectRatio),b.position.left=m.helper?d.left:0),i.top<(b._helper?d.top:0)&&(b.size.height=b.size.height+(b._helper?b.position.top-d.top:b.position.top),f&&(b.size.width=b.size.height*b.aspectRatio),b.position.top=b._helper?d.top:0),b.offset.left=b.parentData.left+b.position.left,b.offset.top=b.parentData.top+b.position.top;var g=Math.abs((b._helper?b.offset.left-e.left:b.offset.left-e.left)+b.sizeDiff.width),k=Math.abs((b._helper?b.offset.top-e.top:b.offset.top-d.top)+b.sizeDiff.height),n=b.containerElement.get(0)==b.element.parent().get(0),o=/relative|absolute/.test(b.containerElement.css(h));n&&o&&(g-=b.parentData.left),g+b.size.width>=b.parentData.width&&(b.size.width=b.parentData.width-g,f&&(b.size.height=b.size.width/b.aspectRatio)),k+b.size.height>=b.parentData.height&&(b.size.height=b.parentData.height-k,f&&(b.size.width=b.size.height*b.aspectRatio))},stop:function(){var b=a(this).data(c),e=b.options,o=b.position,f=b.containerOffset,g=b.containerPosition,i=b.containerElement,d=a(b.helper),j=d.offset(),k=d.outerWidth()-b.sizeDiff.width,l=d.outerHeight()-b.sizeDiff.height;b._helper&&!e.animate&&/relative/.test(i.css(h))&&a(this).css({left:j.left-g.left-f.left,width:k,height:l}),b._helper&&!e.animate&&/static/.test(i.css(h))&&a(this).css({left:j.left-g.left-f.left,width:k,height:l})}}),a.ui.plugin.add(c,"ghost",{start:function(){var b=a(this).data(c),d=b.options,e=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:t,height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof d.ghost=="string"?d.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data(c),f=b.options;b.ghost&&b.ghost.css({position:t,height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data(c),f=b.options;b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add(c,"grid",{resize:function(k){var b=a(this).data(c),d=b.options,j=b.size,e=b.originalSize,h=b.originalPosition,i=b.axis,m=d._aspectRatio||k.shiftKey;d.grid=typeof d.grid=="number"?[d.grid,d.grid]:d.grid;var f=Math.round((j.width-e.width)/(d.grid[0]||1))*(d.grid[0]||1),g=Math.round((j.height-e.height)/(d.grid[1]||1))*(d.grid[1]||1);/^(se|s|e)$/.test(i)?(b.size.width=e.width+f,b.size.height=e.height+g):/^(ne)$/.test(i)?(b.size.width=e.width+f,b.size.height=e.height+g,b.position.top=h.top-g):/^(sw)$/.test(i)?(b.size.width=e.width+f,b.size.height=e.height+g,b.position.left=h.left-f):(b.size.width=e.width+f,b.size.height=e.height+g,b.position.top=h.top-g,b.position.left=h.left-f)}});var u=function(a){return parseInt(a,b)||0},i=function(a){return!isNaN(parseInt(a,b))}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.selectable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(e){var h="selecting",f="unselecting",b="ui-unselecting",d="ui-selecting",a="ui-selected",c="selectable-item",g="ui-selectee";e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var f=this,i=f;f.element.addClass("ui-selectable"),f.dragged=!1;var h;f.refresh=function(){h=e(i.options.filter,i.element[0]),h.addClass(g),h.each(function(){var f=e(this),g=f.offset();e.data(this,c,{element:this,$element:f,left:g.left,top:g.top,right:g.left+f.outerWidth(),bottom:g.top+f.outerHeight(),startselected:!1,selected:f.hasClass(a),selecting:f.hasClass(d),unselecting:f.hasClass(b)})})},f.refresh(),f.selectees=h.addClass(g),f._mouseInit(),f.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){var a=this;return a.selectees.removeClass(g).removeData(c),a.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),a._mouseDestroy(),a},_mouseStart:function(g){var i=this,j=i;i.opos=[g.pageX,g.pageY];if(i.options.disabled)return;var k=i.options;i.selectees=e(k.filter,i.element[0]),i._trigger("start",g),e(k.appendTo).append(i.helper),i.helper.css({left:g.clientX,top:g.clientY,width:0,height:0}),k.autoRefresh&&i.refresh(),i.selectees.filter(".ui-selected").each(function(){var d=e.data(this,c);d.startselected=!0,!g.metaKey&&!g.ctrlKey&&(d.$element.removeClass(a),d.selected=!1,d.$element.addClass(b),d.unselecting=!0,j._trigger(f,g,{unselecting:d.element}))}),e(g.target).parents().andSelf().each(function(){var i=e.data(this,c);if(i){var k=!g.metaKey&&!g.ctrlKey||!i.$element.hasClass(a);return i.$element.removeClass(k?b:a).addClass(k?d:b),i.unselecting=!k,i.selecting=k,i.selected=k,k?j._trigger(h,g,{selecting:i.element}):j._trigger(f,g,{unselecting:i.element}),!1}})},_mouseDrag:function(g){var i=this,n=i;i.dragged=!0;if(i.options.disabled)return;var o=i.options,j=i.opos[0],k=i.opos[1],l=g.pageX,m=g.pageY;if(j>l){var p=l;l=j,j=p}if(k>m){var p=m;m=k,k=p}return i.helper.css({left:j,top:k,width:l-j,height:m-k}),i.selectees.each(function(){var i=e.data(this,c);if(!i||i.element==n.element[0])return;var p=!1;o.tolerance=="touch"?(p=!(i.left>l||i.right<j||i.top>m||i.bottom<k)):o.tolerance=="fit"&&(p=i.left>j&&i.right<l&&i.top>k&&i.bottom<m),p?(i.selected&&(i.$element.removeClass(a),i.selected=!1),i.unselecting&&(i.$element.removeClass(b),i.unselecting=!1),i.selecting||(i.$element.addClass(d),i.selecting=!0,n._trigger(h,g,{selecting:i.element}))):(i.selecting&&((g.metaKey||g.ctrlKey)&&i.startselected?(i.$element.removeClass(d),i.selecting=!1,i.$element.addClass(a),i.selected=!0):(i.$element.removeClass(d),i.selecting=!1,i.startselected&&(i.$element.addClass(b),i.unselecting=!0),n._trigger(f,g,{unselecting:i.element}))),i.selected&&!g.metaKey&&!g.ctrlKey&&!i.startselected&&(i.$element.removeClass(a),i.selected=!1,i.$element.addClass(b),i.unselecting=!0,n._trigger(f,g,{unselecting:i.element})))}),!1},_mouseStop:function(g){var f=this,h=f;f.dragged=!1;var i=f.options;return e(".ui-unselecting",f.element[0]).each(function(){var a=e.data(this,c);a.$element.removeClass(b),a.unselecting=!1,a.startselected=!1,h._trigger("unselected",g,{unselected:a.element})}),e(".ui-selecting",f.element[0]).each(function(){var b=e.data(this,c);b.$element.removeClass(d).addClass(a),b.selecting=!1,b.selected=!0,b.startselected=!0,h._trigger("selected",g,{selected:b.element})}),f._trigger("stop",g),f.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.sortable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var d="fixed",E="relative",w="borderLeftWidth",v="borderTopWidth",p="top",D="paddingRight",C="paddingLeft",B="paddingBottom",A="paddingTop",u=".ui-sortable-helper",g="left",o="right",t="deactivate",b=10,s="change",r="pointer",n="up",f="down",j="ui-sortable-helper",m="zIndex",l="opacity",k="cursor",h="body",e="absolute",q="position",c=null,i="-item",z="original",y="auto",x="parent";a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:x,axis:!1,connectWith:!1,containment:!1,cursor:y,cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:z,items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this,b=a.options;a.containerCache={},a.element.addClass("ui-sortable"),a.refresh(),a.floating=a.items.length?b.axis==="x"||/left|right/.test(a.items[0].item.css("float"))||/inline|table-cell/.test(a.items[0].item.css("display")):!1,a.offset=a.element.offset(),a._mouseInit(),a.ready=!0},destroy:function(){var b=this;a.Widget.prototype.destroy.call(b),b.element.removeClass("ui-sortable ui-sortable-disabled"),b._mouseDestroy();for(var c=b.items.length-1;c>=0;c--)b.items[c].item.removeData(b.widgetName+i);return b},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,j){var b=this,f=b;if(b.reverting)return!1;if(b.options.disabled||b.options.type=="static")return!1;b._refreshItems(d);var e=c,g=b,k=a(d.target).parents().each(function(){if(a.data(this,f.widgetName+i)==g)return e=a(this),!1});a.data(d.target,f.widgetName+i)==g&&(e=a(d.target));if(!e)return!1;if(b.options.handle&&!j){var h=!1;a(b.options.handle,e).find("*").andSelf().each(function(){this==d.target&&(h=!0)});if(!h)return!1}return b.currentItem=e,b._removeCurrentsFromItems(),!0},_mouseStart:function(c,n,g){var b=this,d=b.options,i=b;b.currentContainer=b,b.refreshPositions(),b.helper=b._createHelper(c),b._cacheHelperProportions(),b._cacheMargins(),b.scrollParent=b.helper.scrollParent(),b.offset=b.currentItem.offset(),b.offset={top:b.offset.top-b.margins.top,left:b.offset.left-b.margins.left},a.extend(b.offset,{click:{left:c.pageX-b.offset.left,top:c.pageY-b.offset.top},parent:b._getParentOffset(),relative:b._getRelativeOffset()}),b.helper.css(q,e),b.cssPosition=b.helper.css(q),b.originalPosition=b._generatePosition(c),b.originalPageX=c.pageX,b.originalPageY=c.pageY,d.cursorAt&&b._adjustOffsetFromHelper(d.cursorAt),b.domPosition={prev:b.currentItem.prev()[0],parent:b.currentItem.parent()[0]},b.helper[0]!=b.currentItem[0]&&b.currentItem.hide(),b._createPlaceholder(),d.containment&&b._setContainment(),d.cursor&&(a(h).css(k)&&(b._storedCursor=a(h).css(k)),a(h).css(k,d.cursor)),d.opacity&&(b.helper.css(l)&&(b._storedOpacity=b.helper.css(l)),b.helper.css(l,d.opacity)),d.zIndex&&(b.helper.css(m)&&(b._storedZIndex=b.helper.css(m)),b.helper.css(m,d.zIndex)),b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset()),b._trigger("start",c,b._uiHash()),b._preserveHelperProportions||b._cacheHelperProportions();if(!g)for(var f=b.containers.length-1;f>=0;f--)b.containers[f]._trigger("activate",c,i._uiHash(b));return a.ui.ddmanager&&(a.ui.ddmanager.current=b),a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,c),b.dragging=!0,b.helper.addClass(j),b._mouseDrag(c),!0},_mouseDrag:function(d){var b=this;b.position=b._generatePosition(d),b.positionAbs=b._convertPositionTo(e),b.lastPositionAbs||(b.lastPositionAbs=b.positionAbs);if(b.options.scroll){var c=b.options,g=!1;b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"?(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?(b.scrollParent[0].scrollTop=g=b.scrollParent[0].scrollTop+c.scrollSpeed):d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=g=b.scrollParent[0].scrollTop-c.scrollSpeed),b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?(b.scrollParent[0].scrollLeft=g=b.scrollParent[0].scrollLeft+c.scrollSpeed):d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=g=b.scrollParent[0].scrollLeft-c.scrollSpeed)):(d.pageY-a(document).scrollTop()<c.scrollSensitivity?(g=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed)):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&(g=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),d.pageX-a(document).scrollLeft()<c.scrollSensitivity?(g=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed)):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(g=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),g!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d)}b.positionAbs=b._convertPositionTo(e);if(!b.options.axis||b.options.axis!="y")b.helper[0].style.left=b.position.left+"px";if(!b.options.axis||b.options.axis!="x")b.helper[0].style.top=b.position.top+"px";for(var j=b.items.length-1;j>=0;j--){var h=b.items[j],i=h.item[0],k=b._intersectsWithPointer(h);if(!k)continue;if(i!=b.currentItem[0]&&b.placeholder[k==1?"next":"prev"]()[0]!=i&&!a.ui.contains(b.placeholder[0],i)&&(b.options.type=="semi-dynamic"?!a.ui.contains(b.element[0],i):!0)){b.direction=k==1?f:n;if(b.options.tolerance==r||b._intersectsWithSides(h))b._rearrange(d,h);else break;b._trigger(s,d,b._uiHash());break}}return b._contactContainers(d),a.ui.ddmanager&&a.ui.ddmanager.drag(b,d),b._trigger("sort",d,b._uiHash()),b.lastPositionAbs=b.positionAbs,!1},_mouseStop:function(e,g){var c=this;if(!e)return;a.ui.ddmanager&&!c.options.dropBehaviour&&a.ui.ddmanager.drop(c,e);if(c.options.revert){var d=c,f=d.placeholder.offset();d.reverting=!0,a(c.helper).animate({left:f.left-c.offset.parent.left-d.margins.left+(c.offsetParent[0]==document.body?0:c.offsetParent[0].scrollLeft),top:f.top-c.offset.parent.top-d.margins.top+(c.offsetParent[0]==document.body?0:c.offsetParent[0].scrollTop)},parseInt(c.options.revert,b)||500,function(){d._clear(e)})}else c._clear(e,g);return!1},cancel:function(){var b=this,e=b;if(b.dragging){b._mouseUp({target:c}),b.options.helper==z?b.currentItem.css(b._storedCSS).removeClass(j):b.currentItem.show();for(var d=b.containers.length-1;d>=0;d--)b.containers[d]._trigger(t,c,e._uiHash(b)),b.containers[d].containerCache.over&&(b.containers[d]._trigger("out",c,e._uiHash(b)),b.containers[d].containerCache.over=0)}return b.placeholder&&(b.placeholder[0].parentNode&&b.placeholder[0].parentNode.removeChild(b.placeholder[0]),b.options.helper!=z&&b.helper&&b.helper[0].parentNode&&b.helper.remove(),a.extend(b,{helper:c,dragging:!1,reverting:!1,_noFinalSort:c}),b.domPosition.prev?a(b.domPosition.prev).after(b.currentItem):a(b.domPosition.parent).prepend(b.currentItem)),b},serialize:function(b){var d=this._getItemsAsjQuery(b&&b.connected),c=[];return b=b||{},a(d).each(function(){var d=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);d&&c.push((b.key||d[1]+"[]")+"="+(b.key&&b.expression?d[1]:d[2]))}),!c.length&&b.key&&c.push(b.key+"="),c.join("&")},toArray:function(b){var d=this._getItemsAsjQuery(b&&b.connected),c=[];return b=b||{},d.each(function(){c.push(a(b.item||this).attr(b.attribute||"id")||"")}),c},_intersectsWith:function(b){var a=this,c=a.positionAbs.left,k=c+a.helperProportions.width,d=a.positionAbs.top,l=d+a.helperProportions.height,e=b.left,g=e+b.width,f=b.top,h=f+b.height,i=a.offset.click.top,j=a.offset.click.left,m=d+i>f&&d+i<h&&c+j>e&&c+j<g;return a.options.tolerance==r||a.options.forcePointerForContainers||a.options.tolerance!=r&&a.helperProportions[a.floating?"width":"height"]>b[a.floating?"width":"height"]?m:e<c+a.helperProportions.width/2&&k-a.helperProportions.width/2<g&&f<d+a.helperProportions.height/2&&l-a.helperProportions.height/2<h},_intersectsWithPointer:function(c){var b=this,g=b.options.axis==="x"||a.ui.isOverAxis(b.positionAbs.top+b.offset.click.top,c.top,c.height),h=b.options.axis==="y"||a.ui.isOverAxis(b.positionAbs.left+b.offset.click.left,c.left,c.width),i=g&&h,d=b._getDragVerticalDirection(),e=b._getDragHorizontalDirection();return i?b.floating?e&&e==o||d==f?2:1:d&&(d==f?2:1):!1},_intersectsWithSides:function(c){var b=this,h=a.ui.isOverAxis(b.positionAbs.top+b.offset.click.top,c.top+c.height/2,c.height),i=a.ui.isOverAxis(b.positionAbs.left+b.offset.click.left,c.left+c.width/2,c.width),d=b._getDragVerticalDirection(),e=b._getDragHorizontalDirection();return b.floating&&e?e==o&&i||e==g&&!i:d&&(d==f&&h||d==n&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?f:n)},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?o:g)},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(l){var f=".ui-sortable-placeholder",b=this,m=b,j=[],g=[],h=b._connectWith();if(h&&l)for(var e=h.length-1;e>=0;e--)for(var k=a(h[e]),i=k.length-1;i>=0;i--){var d=a.data(k[i],b.widgetName);d&&d!=b&&!d.options.disabled&&g.push([a.isFunction(d.options.items)?d.options.items.call(d.element):a(d.options.items,d.element).not(u).not(f),d])}g.push([a.isFunction(b.options.items)?b.options.items.call(b.element,c,{options:b.options,item:b.currentItem}):a(b.options.items,b.element).not(u).not(f),b]);for(var e=g.length-1;e>=0;e--)g[e][0].each(function(){j.push(this)});return a(j)},_removeCurrentsFromItems:function(){var a=this;for(var d=a.currentItem.find(":data("+a.widgetName+"-item)"),b=0;b<a.items.length;b++)for(var c=0;c<d.length;c++)d[c]==a.items[b].item[0]&&a.items.splice(b,1)},_refreshItems:function(h){var b=this;b.items=[],b.containers=[b];var n=b.items,p=b,f=[[a.isFunction(b.options.items)?b.options.items.call(b.element[0],h,{item:b.currentItem}):a(b.options.items,b.element),b]],g=b._connectWith();if(g&&b.ready)for(var d=g.length-1;d>=0;d--)for(var j=a(g[d]),e=j.length-1;e>=0;e--){var c=a.data(j[e],b.widgetName);c&&c!=b&&!c.options.disabled&&(f.push([a.isFunction(c.options.items)?c.options.items.call(c.element[0],h,{item:b.currentItem}):a(c.options.items,c.element),c]),b.containers.push(c))}for(var d=f.length-1;d>=0;d--)for(var k=f[d][1],l=f[d][0],e=0,o=l.length;e<o;e++){var m=a(l[e]);m.data(b.widgetName+i,k),n.push({item:m,instance:k,width:0,height:0,left:0,top:0})}},refreshPositions:function(g){var b=this;b.offsetParent&&b.helper&&(b.offset.parent=b._getParentOffset());for(var c=b.items.length-1;c>=0;c--){var d=b.items[c];if(d.instance!=b.currentContainer&&b.currentContainer&&d.item[0]!=b.currentItem[0])continue;var f=b.options.toleranceElement?a(b.options.toleranceElement,d.item):d.item;g||(d.width=f.outerWidth(),d.height=f.outerHeight());var e=f.offset();d.left=e.left,d.top=e.top}if(b.options.custom&&b.options.custom.refreshContainers)b.options.custom.refreshContainers.call(b);else for(var c=b.containers.length-1;c>=0;c--){var e=b.containers[c].element.offset();b.containers[c].containerCache.left=e.left,b.containers[c].containerCache.top=e.top,b.containers[c].containerCache.width=b.containers[c].element.outerWidth(),b.containers[c].containerCache.height=b.containers[c].element.outerHeight()}return b},_createPlaceholder:function(f){var c=f||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass(j)[0];return e||(b.style.visibility="hidden"),b},update:function(f,a){if(e&&!d.forcePlaceholderSize)return;a.height()||a.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css(A)||0,b)-parseInt(c.currentItem.css(B)||0,b)),a.width()||a.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css(C)||0,b)-parseInt(c.currentItem.css(D)||0,b))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(h){var b=this;for(var j=c,d=c,e=b.containers.length-1;e>=0;e--){if(a.ui.contains(b.currentItem[0],b.containers[e].element[0]))continue;if(b._intersectsWith(b.containers[e].containerCache)){if(j&&a.ui.contains(b.containers[e].element[0],j.element[0]))continue;j=b.containers[e],d=e}else b.containers[e].containerCache.over&&(b.containers[e]._trigger("out",h,b._uiHash(b)),b.containers[e].containerCache.over=0)}if(!j)return;if(b.containers.length===1)b.containers[d]._trigger("over",h,b._uiHash(b)),b.containers[d].containerCache.over=1;else if(b.currentContainer!=b.containers[d]){for(var o=1e4,k=c,l=b.positionAbs[b.containers[d].floating?g:p],i=b.items.length-1;i>=0;i--){if(!a.ui.contains(b.containers[d].element[0],b.items[i].item[0]))continue;var m=b.containers[d].floating?b.items[i].item.offset().left:b.items[i].item.offset().top;Math.abs(m-l)<o&&(o=Math.abs(m-l),k=b.items[i],b.direction=m-l>0?f:n)}if(!k&&!b.options.dropOnEmpty)return;b.currentContainer=b.containers[d],k?b._rearrange(h,k,c,!0):b._rearrange(h,c,b.containers[d].element,!0),b._trigger(s,h,b._uiHash()),b.containers[d]._trigger(s,h,b._uiHash(b)),b.options.placeholder.update(b.currentContainer,b.placeholder),b.containers[d]._trigger("over",h,b._uiHash(b)),b.containers[d].containerCache.over=1}},_createHelper:function(e){var b=this,d=b.options,c=a.isFunction(d.helper)?a(d.helper.apply(b.element[0],[e,b.currentItem])):d.helper=="clone"?b.currentItem.clone():b.currentItem;return c.parents(h).length||a(d.appendTo!=x?d.appendTo:b.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==b.currentItem[0]&&(b._storedCSS={width:b.currentItem[0].style.width,height:b.currentItem[0].style.height,position:b.currentItem.css(q),top:b.currentItem.css(p),left:b.currentItem.css(g)}),(c[0].style.width==""||d.forceHelperSize)&&c.width(b.currentItem.width()),(c[0].style.height==""||d.forceHelperSize)&&c.height(b.currentItem.height()),c},_adjustOffsetFromHelper:function(b){var c=this;typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),g in b&&(c.offset.click.left=b.left+c.margins.left),o in b&&(c.offset.click.left=c.helperProportions.width-b.right+c.margins.left),p in b&&(c.offset.click.top=b.top+c.margins.top),"bottom"in b&&(c.offset.click.top=c.helperProportions.height-b.bottom+c.margins.top)},_getParentOffset:function(){var c=this;c.offsetParent=c.helper.offsetParent();var d=c.offsetParent.offset();c.cssPosition==e&&c.scrollParent[0]!=document&&a.ui.contains(c.scrollParent[0],c.offsetParent[0])&&(d.left+=c.scrollParent.scrollLeft(),d.top+=c.scrollParent.scrollTop());if(c.offsetParent[0]==document.body||c.offsetParent[0].tagName&&c.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(c.offsetParent.css(v),b)||0),left:d.left+(parseInt(c.offsetParent.css(w),b)||0)}},_getRelativeOffset:function(){var a=this;if(a.cssPosition==E){var c=a.currentItem.position();return{top:c.top-(parseInt(a.helper.css(p),b)||0)+a.scrollParent.scrollTop(),left:c.left-(parseInt(a.helper.css(g),b)||0)+a.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),b)||0,top:parseInt(this.currentItem.css("marginTop"),b)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f="document",c=this,e=c.options;e.containment==x&&(e.containment=c.helper[0].parentNode);if(e.containment==f||e.containment=="window")c.containment=[0-c.offset.relative.left-c.offset.parent.left,0-c.offset.relative.top-c.offset.parent.top,a(e.containment==f?document:window).width()-c.helperProportions.width-c.margins.left,(a(e.containment==f?document:window).height()||document.body.parentNode.scrollHeight)-c.helperProportions.height-c.margins.top];if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0],g=a(e.containment).offset(),h=a(d).css("overflow")!="hidden";c.containment=[g.left+(parseInt(a(d).css(w),b)||0)+(parseInt(a(d).css(C),b)||0)-c.margins.left,g.top+(parseInt(a(d).css(v),b)||0)+(parseInt(a(d).css(A),b)||0)-c.margins.top,g.left+(h?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(w),b)||0)-(parseInt(a(d).css(D),b)||0)-c.helperProportions.width-c.margins.left,g.top+(h?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(v),b)||0)-(parseInt(a(d).css(B),b)||0)-c.helperProportions.height-c.margins.top]}},_convertPositionTo:function(i,f){var b=this;f||(f=b.position);var c=i==e?1:-1,j=b.options,g=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,h=/(html|body)/i.test(g[0].tagName);return{top:f.top+b.offset.relative.top*c+b.offset.parent.top*c-(a.browser.safari&&b.cssPosition==d?0:(b.cssPosition==d?-b.scrollParent.scrollTop():h?0:g.scrollTop())*c),left:f.left+b.offset.relative.left*c+b.offset.parent.left*c-(a.browser.safari&&b.cssPosition==d?0:(b.cssPosition==d?-b.scrollParent.scrollLeft():h?0:g.scrollLeft())*c)}},_generatePosition:function(h){var b=this,c=b.options,k=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,l=/(html|body)/i.test(k[0].tagName);b.cssPosition==E&&(b.scrollParent[0]==document||b.scrollParent[0]==b.offsetParent[0])&&(b.offset.relative=b._getRelativeOffset());var i=h.pageX,j=h.pageY;if(b.originalPosition){b.containment&&(h.pageX-b.offset.click.left<b.containment[0]&&(i=b.containment[0]+b.offset.click.left),h.pageY-b.offset.click.top<b.containment[1]&&(j=b.containment[1]+b.offset.click.top),h.pageX-b.offset.click.left>b.containment[2]&&(i=b.containment[2]+b.offset.click.left),h.pageY-b.offset.click.top>b.containment[3]&&(j=b.containment[3]+b.offset.click.top));if(c.grid){var f=b.originalPageY+Math.round((j-b.originalPageY)/c.grid[1])*c.grid[1];j=b.containment?f-b.offset.click.top<b.containment[1]||f-b.offset.click.top>b.containment[3]?f-b.offset.click.top<b.containment[1]?f+c.grid[1]:f-c.grid[1]:f:f;var g=b.originalPageX+Math.round((i-b.originalPageX)/c.grid[0])*c.grid[0];i=b.containment?g-b.offset.click.left<b.containment[0]||g-b.offset.click.left>b.containment[2]?g-b.offset.click.left<b.containment[0]?g+c.grid[0]:g-c.grid[0]:g:g}}return{top:j-b.offset.click.top-b.offset.relative.top-b.offset.parent.top+(a.browser.safari&&b.cssPosition==d?0:b.cssPosition==d?-b.scrollParent.scrollTop():l?0:k.scrollTop()),left:i-b.offset.click.left-b.offset.relative.left-b.offset.parent.left+(a.browser.safari&&b.cssPosition==d?0:b.cssPosition==d?-b.scrollParent.scrollLeft():l?0:k.scrollLeft())}},_rearrange:function(h,b,c,e){var a=this;c?c[0].appendChild(a.placeholder[0]):b.item[0].parentNode.insertBefore(a.placeholder[0],a.direction==f?b.item[0]:b.item[0].nextSibling),a.counter=a.counter?++a.counter:1;var d=a,g=a.counter;window.setTimeout(function(){g==d.counter&&d.refreshPositions(!e)},0)},_clear:function(g,f){var i="beforeStop",b=this;b.reverting=!1;var e=[],n=b;!b._noFinalSort&&b.currentItem.parent().length&&b.placeholder.before(b.currentItem),b._noFinalSort=c;if(b.helper[0]==b.currentItem[0]){for(var d in b._storedCSS)if(b._storedCSS[d]==y||b._storedCSS[d]=="static")b._storedCSS[d]="";b.currentItem.css(b._storedCSS).removeClass(j)}else b.currentItem.show();b.fromOutside&&!f&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(b.fromOutside||b.domPosition.prev!=b.currentItem.prev().not(u)[0]||b.domPosition.parent!=b.currentItem.parent()[0])&&!f&&e.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(b.element[0],b.currentItem[0])){f||e.push(function(a){this._trigger("remove",a,this._uiHash())});for(var d=b.containers.length-1;d>=0;d--)a.ui.contains(b.containers[d].element[0],b.currentItem[0])&&!f&&(e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(b,b.containers[d])),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(b,b.containers[d])))}for(var d=b.containers.length-1;d>=0;d--)f||e.push(function(a){return function(b){a._trigger(t,b,this._uiHash(this))}}.call(b,b.containers[d])),b.containers[d].containerCache.over&&(e.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(b,b.containers[d])),b.containers[d].containerCache.over=0);b._storedCursor&&a(h).css(k,b._storedCursor),b._storedOpacity&&b.helper.css(l,b._storedOpacity),b._storedZIndex&&b.helper.css(m,b._storedZIndex==y?"":b._storedZIndex),b.dragging=!1;if(b.cancelHelperRemoval){if(!f){b._trigger(i,g,b._uiHash());for(var d=0;d<e.length;d++)e[d].call(b,g);b._trigger("stop",g,b._uiHash())}return b.fromOutside=!1,!1}f||b._trigger(i,g,b._uiHash()),b.placeholder[0].parentNode.removeChild(b.placeholder[0]),b.helper[0]!=b.currentItem[0]&&b.helper.remove(),b.helper=c;if(!f){for(var d=0;d<e.length;d++)e[d].call(b,g);b._trigger("stop",g,b._uiHash())}return b.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(d){var b=d||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:d?d.element:c}}}),a.extend(a.ui.sortable,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.accordion.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var f="overflow",e="height",l="ui-accordion-icons",d=".ui-icon",k=".accordion",c="tabIndex",i="true",h="false",b="role",g="ui-accordion-content-active",j="ui-accordion ui-widget ui-helper-reset";a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var l="ui-state-focus",f="ui-state-hover",d=this,e=d.options;d.running=0,d.element.addClass(j).children("li").addClass("ui-accordion-li-fix"),d.headers=d.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(e.disabled)return;a(this).addClass(f)}).bind("mouseleave.accordion",function(){if(e.disabled)return;a(this).removeClass(f)}).bind("focus.accordion",function(){if(e.disabled)return;a(this).addClass(l)}).bind("blur.accordion",function(){if(e.disabled)return;a(this).removeClass(l)}),d.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(e.navigation){var m=d.element.find("a").filter(e.navigationFilter).eq(0);if(m.length){var n=m.closest(".ui-accordion-header");n.length?(d.active=n):(d.active=m.closest(".ui-accordion-content").prev())}}d.active=d._findActive(d.active||e.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),d.active.next().addClass(g),d._createIcons(),d.resize(),d.element.attr(b,"tablist"),d.headers.attr(b,"tab").bind("keydown.accordion",function(a){return d._keydown(a)}).next().attr(b,"tabpanel"),d.headers.not(d.active||"").attr({"aria-expanded":h,"aria-selected":h,tabIndex:-1}).next().hide(),d.active.length?d.active.attr({"aria-expanded":i,"aria-selected":i,tabIndex:0}):d.headers.eq(0).attr(c,0),a.browser.safari||d.headers.find("a").attr(c,-1),e.event&&d.headers.bind(e.event.split(" ").join(".accordion ")+k,function(a){d._clickHandler.call(d,a,this),a.preventDefault()})},_createIcons:function(){var b=this,c=b.options;c.icons&&(a("<span></span>").addClass("ui-icon "+c.icons.header).prependTo(b.headers),b.active.children(d).toggleClass(c.icons.header).toggleClass(c.icons.headerSelected),b.element.addClass(l))},_destroyIcons:function(){this.headers.children(d).remove(),this.element.removeClass(l)},destroy:function(){var d=this,f=d.options;d.element.removeClass(j).removeAttr(b),d.headers.unbind(k).removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr(b).removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr(c),d.headers.find("a").removeAttr(c),d._destroyIcons();var g=d.headers.next().css("display","").removeAttr(b).removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(f.autoHeight||f.fillHeight)&&g.css(e,""),a.Widget.prototype.destroy.call(d)},_setOption:function(c,d){var b=this;a.Widget.prototype._setOption.apply(b,arguments),c=="active"&&b.activate(d),c=="icons"&&(b._destroyIcons(),d&&b._createIcons()),c=="disabled"&&b.headers.add(b.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){var d=this;if(d.options.disabled||b.altKey||b.ctrlKey)return;var e=a.ui.keyCode,g=d.headers.length,h=d.headers.index(b.target),f=!1;switch(b.keyCode){case e.RIGHT:case e.DOWN:f=d.headers[(h+1)%g];break;case e.LEFT:case e.UP:f=d.headers[(h-1+g)%g];break;case e.SPACE:case e.ENTER:d._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr(c,-1),a(f).attr(c,0),f.focus(),!1):!0},resize:function(){var b=this,d=b.options,c;if(d.fillSpace){if(a.browser.msie){var e=b.element.parent().css(f);b.element.parent().css(f,"hidden")}c=b.element.parent().height(),a.browser.msie&&b.element.parent().css(f,e),b.headers.each(function(){c-=a(this).outerHeight(!0)}),b.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css(f,"auto")}else d.autoHeight&&(c=0,b.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return b},activate:function(b){var a=this;a.options.active=b;var c=a._findActive(b)[0];return a._clickHandler({target:c},c),a},_findActive:function(b){var c=this;return b?typeof b=="number"?c.headers.filter(":eq("+b+")"):c.headers.not(c.headers.not(b)):b===!1?a([]):c.headers.filter(":eq(0)")},_clickHandler:function(l,n){var i="ui-state-default ui-corner-all",h="ui-state-active ui-corner-top",b=this,c=b.options;if(c.disabled)return;if(!l.target){if(!c.collapsible)return;b.active.removeClass(h).addClass(i).children(d).removeClass(c.icons.headerSelected).addClass(c.icons.header),b.active.next().addClass(g);var j=b.active.next(),m={options:c,newHeader:a([]),oldHeader:c.active,newContent:a([]),oldContent:j},k=b.active=a([]);b._toggle(k,j,m);return}var e=a(l.currentTarget||n),f=e[0]===b.active[0];c.active=c.collapsible&&f?!1:b.headers.index(e);if(b.running||!c.collapsible&&f)return;var o=b.active,k=e.next(),j=b.active.next(),m={options:c,newHeader:f&&c.collapsible?a([]):e,oldHeader:b.active,newContent:f&&c.collapsible?a([]):k,oldContent:j},p=b.headers.index(b.active[0])>b.headers.index(e[0]);b.active=f?a([]):e,b._toggle(k,j,m,f,p),o.removeClass(h).addClass(i).children(d).removeClass(c.icons.headerSelected).addClass(c.icons.header),f||(e.removeClass(i).addClass(h).children(d).removeClass(c.icons.header).addClass(c.icons.headerSelected),e.next().addClass(g));return},_toggle:function(f,e,n,l,m){var c=this,b=c.options;c.toShow=f,c.toHide=e,c.data=n;var k=function(){return!c?void 0:c._completed.apply(c,arguments)};c._trigger("changestart",null,c.data),c.running=e.size()===0?f.size():e.size();if(b.animated){var g={};b.collapsible&&l?(g={toShow:a([]),toHide:e,complete:k,down:m,autoHeight:b.autoHeight||b.fillSpace}):(g={toShow:f,toHide:e,complete:k,down:m,autoHeight:b.autoHeight||b.fillSpace}),b.proxied||(b.proxied=b.animated),b.proxiedDuration||(b.proxiedDuration=b.duration),b.animated=a.isFunction(b.proxied)?b.proxied(g):b.proxied,b.duration=a.isFunction(b.proxiedDuration)?b.proxiedDuration(g):b.proxiedDuration;var j=a.ui.accordion.animations,o=b.duration,d=b.animated;d&&!j[d]&&!a.easing[d]&&(d="slide"),j[d]||(j[d]=function(a){this.slide(a,{easing:d,duration:o||700})}),j[d](g)}else b.collapsible&&l?f.toggle():(e.hide(),f.show()),k(!0);e.prev().attr({"aria-expanded":h,"aria-selected":h,tabIndex:-1}).blur(),f.prev().attr({"aria-expanded":i,"aria-selected":i,tabIndex:0}).focus()},_completed:function(b){var a=this;a.running=b?0:--a.running;if(a.running)return;a.options.clearStyle&&a.toShow.add(a.toHide).css({height:"",overflow:""}),a.toHide.removeClass(g),a.toHide.length&&(a.toHide.parent()[0].className=a.toHide.parent()[0].className),a._trigger("change",null,a.data)}}),a.extend(a.ui.accordion,{version:"1.8.22",animations:{slide:function(b,l){var c="hide",g="show";b=a.extend({easing:"swing",duration:300},b,l);if(!b.toHide.size()){b.toShow.animate({height:g,paddingTop:g,paddingBottom:g},b);return}if(!b.toShow.size()){b.toHide.animate({height:c,paddingTop:c,paddingBottom:c},b);return}var m=b.toShow.css(f),i=0,h={},j={},n=[e,"paddingTop","paddingBottom"],k,d=b.toShow;k=d[0].style.width,d.width(d.parent().width()-parseFloat(d.css("paddingLeft"))-parseFloat(d.css("paddingRight"))-(parseFloat(d.css("borderLeftWidth"))||0)-(parseFloat(d.css("borderRightWidth"))||0)),a.each(n,function(f,d){j[d]=c;var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);h[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(j,{step:function(c,a){a.prop==e&&(i=a.end-a.start===0?0:(a.now-a.start)/(a.end-a.start)),b.toShow[0].style[a.prop]=i*h[a.prop].value+h[a.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css(e,""),b.toShow.css({width:k,overflow:m}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.autocomplete.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var g="ui-autocomplete-loading",i="beforeunload",c=":visible",d="item.autocomplete",e="autocomplete",h="ui-autocomplete-input",b=null,f="body",j=0;a.widget("ui.autocomplete",{options:{appendTo:f,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:b},pending:0,_create:function(){var j=this,g=j,l=j.element[0].ownerDocument,k;j.isMultiLine=j.element.is("textarea"),j.element.addClass(h).attr(e,"off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(g.options.disabled||g.element.propAttr("readOnly"))return;k=!1;var d=a.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:g._move("previousPage",c);break;case d.PAGE_DOWN:g._move("nextPage",c);break;case d.UP:g._keyEvent("previous",c);break;case d.DOWN:g._keyEvent("next",c);break;case d.ENTER:case d.NUMPAD_ENTER:g.menu.active&&(k=!0,c.preventDefault());case d.TAB:if(!g.menu.active)return;g.menu.select(c);break;case d.ESCAPE:g.element.val(g.term),g.close(c);break;default:clearTimeout(g.searching),g.searching=setTimeout(function(){g.term!=g.element.val()&&(g.selectedItem=b,g.search(b,c))},g.options.delay)}}).bind("keypress.autocomplete",function(a){k&&(k=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(g.options.disabled)return;g.selectedItem=b,g.previous=g.element.val()}).bind("blur.autocomplete",function(a){if(g.options.disabled)return;clearTimeout(g.searching),g.closing=setTimeout(function(){g.close(a),g._change(a)},150)}),j._initSource(),j.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(j.options.appendTo||f,l)[0]).mousedown(function(c){var b=g.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==g.element[0]&&c.target!==b&&!a.ui.contains(b,c.target)&&g.close()})},1),setTimeout(function(){clearTimeout(g.closing)},13)}).menu({focus:function(a,c){var b=c.item.data(d);!1!==g._trigger("focus",a,{item:b})&&/^key/.test(a.originalEvent.type)&&g.element.val(b.value)},selected:function(b,e){var a=e.item.data(d),c=g.previous;g.element[0]!==l.activeElement&&(g.element.focus(),g.previous=c,setTimeout(function(){g.previous=c,g.selectedItem=a},1)),!1!==g._trigger("select",b,{item:a})&&g.element.val(a.value),g.term=g.element.val(),g.close(b),g.selectedItem=a},blur:function(){g.menu.element.is(c)&&g.element.val()!==g.term&&g.element.val(g.term)}}).zIndex(j.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&j.menu.element.bgiframe(),g.beforeunloadHandler=function(){g.element.removeAttr(e)},a(window).bind(i,g.beforeunloadHandler)},destroy:function(){var b=this;b.element.removeClass(h).removeAttr(e).removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),b.menu.element.remove(),a(window).unbind(i,b.beforeunloadHandler),a.Widget.prototype.destroy.call(b)},_setOption:function(c,d){var b=this;a.Widget.prototype._setOption.apply(b,arguments),c==="source"&&b._initSource(),c==="appendTo"&&b.menu.element.appendTo(a(d||f,b.element[0].ownerDocument)[0]),c==="disabled"&&d&&b.xhr&&b.xhr.abort()},_initSource:function(){var b=this,c=b,d,e;a.isArray(b.options.source)?(d=b.options.source,b.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof b.options.source=="string"?(e=b.options.source,b.source=function(d,b){c.xhr&&c.xhr.abort(),c.xhr=a.ajax({url:e,data:d,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):(b.source=b.options.source)},search:function(c,d){var a=this;c=c!=b?c:a.element.val(),a.term=a.element.val();if(c.length<a.options.minLength)return a.close(d);clearTimeout(a.closing);return a._trigger("search",d)===!1?void 0:a._search(c)},_search:function(b){var a=this;a.pending++,a.element.addClass(g),a.source({term:b},a._response())},_response:function(){var a=this,b=++j;return function(c){b===j&&a.__response(c),a.pending--,a.pending||a.element.removeClass(g)}},__response:function(b){var a=this;!a.options.disabled&&b&&b.length?(b=a._normalize(b),a._suggest(b),a._trigger("open")):a.close()},close:function(b){var a=this;clearTimeout(a.closing),a.menu.element.is(c)&&(a.menu.element.hide(),a.menu.deactivate(),a._trigger("close",b))},_change:function(b){var a=this;a.previous!==a.element.val()&&a._trigger("change",b,{item:a.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(d){var b=this,c=b.menu.element.empty().zIndex(b.element.zIndex()+1);b._renderMenu(c,d),b.menu.deactivate(),b.menu.refresh(),c.show(),b._resizeMenu(),c.position(a.extend({of:b.element},b.options.position)),b.options.autoFocus&&b.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(c,a){d._renderItem(b,a)})},_renderItem:function(c,b){return a("<li></li>").data(d,b).append(a("<a></a>").text(b.label)).appendTo(c)},_move:function(d,e){var a=this;if(!a.menu.element.is(c)){a.search(b,e);return}if(a.menu.first()&&/^previous/.test(d)||a.menu.last()&&/^next/.test(d)){a.element.val(a.term),a.menu.deactivate();return}a.menu[d](e)},widget:function(){return this.menu.element},_keyEvent:function(b,a){if(!this.isMultiLine||this.menu.element.is(c))this._move(b,a),a.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(b){var a=".ui-menu-item",d=".ui-menu-item:last",c=".ui-menu-item:first",f="ui-state-hover",e="ui-active-menuitem";b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":e}).click(function(c){if(!b(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),a.select(c)}),this.refresh()},refresh:function(){var a=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){a.activate(c,b(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(h,b){var a=this;a.deactivate();if(a.hasScroll()){var c=b.offset().top-a.element.offset().top,d=a.element.scrollTop(),g=a.element.height();c<0?a.element.scrollTop(d+c):c>=g&&a.element.scrollTop(d+c-g+b.height())}a.active=b.eq(0).children("a").addClass(f).attr("id",e).end(),a._trigger("focus",h,{item:b})},deactivate:function(){var a=this;if(!a.active)return;a.active.children("a").removeClass(f).removeAttr("id"),a._trigger("blur"),a.active=null},next:function(a){this.move("next",c,a)},previous:function(a){this.move("prev",d,a)},first:function(){return this.active&&!this.active.prevAll(a).length},last:function(){return this.active&&!this.active.nextAll(a).length},move:function(f,d,c){var b=this;if(!b.active){b.activate(c,b.element.children(d));return}var e=b.active[f+"All"](a).eq(0);e.length?b.activate(c,e):b.activate(c,b.element.children(d))},nextPage:function(f){var e=this;if(e.hasScroll()){if(!e.active||e.last()){e.activate(f,e.element.children(c));return}var h=e.active.offset().top,i=e.element.height(),g=e.element.children(a).filter(function(){var a=b(this).offset().top-h-i+b(this).height();return a<10&&a>-10});g.length||(g=e.element.children(d)),e.activate(f,g)}else e.activate(f,e.element.children(a).filter(!e.active||e.last()?":first":":last"))},previousPage:function(f){var e=this;if(e.hasScroll()){if(!e.active||e.first()){e.activate(f,e.element.children(d));return}var h=e.active.offset().top,i=e.element.height(),g=e.element.children(a).filter(function(){var a=b(this).offset().top-h+i-b(this).height();return a<10&&a>-10});g.length||(g=e.element.children(c)),e.activate(f,g)}else e.activate(f,e.element.children(a).filter(!e.active||e.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.button.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(b){var q="ui-buttonset",k=":checked",p="ui-helper-hidden-accessible",n="input",j="false",e="widget",i="true",c="aria-pressed",a="ui-state-active",h="radio",g="checkbox",m="title",d="disabled",f=null,l=":ui-button",r,s,t,o,u="ui-button ui-widget ui-state-default ui-corner-all",x="ui-state-hover ui-state-active ",v="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",y=function(){var a=b(this).find(l);setTimeout(function(){a.button("refresh")},1)},w=function(a){var c=a.name,e=a.form,d=b([]);return c&&(e?(d=b(e).find("[name='"+c+"']")):(d=b("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form}))),d};b.widget("ui.button",{options:{disabled:f,text:!0,label:f,icons:{primary:f,secondary:f}},_create:function(){var z="mouseup.button",x="mousedown.button",p="click.button",q="ui-state-hover",v="reset.button",k=this;k.element.closest("form").unbind(v).bind(v,y),typeof k.options.disabled!="boolean"?(k.options.disabled=!!k.element.propAttr(d)):k.element.propAttr(d,k.options.disabled),k._determineButtonType(),k.hasTitle=!!k.buttonElement.attr(m);var n=k,l=k.options,A=k.type===g||k.type===h,C=q+(A?"":" ui-state-active"),B="ui-state-focus";l.label===f&&(l.label=k.buttonElement.html()),k.buttonElement.addClass(u).attr("role","button").bind("mouseenter.button",function(){if(l.disabled)return;b(this).addClass(q),this===r&&b(this).addClass(a)}).bind("mouseleave.button",function(){if(l.disabled)return;b(this).removeClass(C)}).bind(p,function(a){l.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),k.element.bind("focus.button",function(){n.buttonElement.addClass(B)}).bind("blur.button",function(){n.buttonElement.removeClass(B)}),A&&(k.element.bind("change.button",function(){if(o)return;n.refresh()}),k.buttonElement.bind(x,function(a){if(l.disabled)return;o=!1,s=a.pageX,t=a.pageY}).bind(z,function(a){if(l.disabled)return;if(s!==a.pageX||t!==a.pageY)o=!0})),k.type===g?k.buttonElement.bind(p,function(){if(l.disabled||o)return!1;b(this).toggleClass(a),n.buttonElement.attr(c,n.element[0].checked)}):k.type===h?k.buttonElement.bind(p,function(){if(l.disabled||o)return!1;b(this).addClass(a),n.buttonElement.attr(c,i);var d=n.element[0];w(d).not(d).map(function(){return b(this).button(e)[0]}).removeClass(a).attr(c,j)}):(k.buttonElement.bind(x,function(){if(l.disabled)return!1;b(this).addClass(a),r=this,b(document).one("mouseup",function(){r=f})}).bind(z,function(){if(l.disabled)return!1;b(this).removeClass(a)}).bind("keydown.button",function(c){if(l.disabled)return!1;(c.keyCode==b.ui.keyCode.SPACE||c.keyCode==b.ui.keyCode.ENTER)&&b(this).addClass(a)}).bind("keyup.button",function(){b(this).removeClass(a)}),k.buttonElement.is("a")&&k.buttonElement.keyup(function(a){a.keyCode===b.ui.keyCode.SPACE&&b(this).click()})),k._setOption(d,l.disabled),k._resetButton()},_determineButtonType:function(){var b=this;b.element.is(":checkbox")?(b.type=g):b.element.is(":radio")?(b.type=h):b.element.is(n)?(b.type=n):(b.type="button");if(b.type===g||b.type===h){var d=b.element.parents().filter(":last"),e="label[for='"+b.element.attr("id")+"']";b.buttonElement=d.find(e),b.buttonElement.length||(d=d.length?d.siblings():b.element.siblings(),b.buttonElement=d.filter(e),b.buttonElement.length||(b.buttonElement=d.find(e))),b.element.addClass(p);var f=b.element.is(k);f&&b.buttonElement.addClass(a),b.buttonElement.attr(c,f)}else b.buttonElement=b.element},widget:function(){return this.buttonElement},destroy:function(){var a=this;a.element.removeClass(p),a.buttonElement.removeClass(u+" "+x+" "+v).removeAttr("role").removeAttr(c).html(a.buttonElement.find(".ui-button-text").html()),a.hasTitle||a.buttonElement.removeAttr(m),b.Widget.prototype.destroy.call(a)},_setOption:function(c,e){var a=this;b.Widget.prototype._setOption.apply(a,arguments);if(c===d){e?a.element.propAttr(d,!0):a.element.propAttr(d,!1);return}a._resetButton()},refresh:function(){var f=this,l=f.element.is(":disabled");l!==f.options.disabled&&f._setOption(d,l),f.type===h?w(f.element[0]).each(function(){b(this).is(k)?b(this).button(e).addClass(a).attr(c,i):b(this).button(e).removeClass(a).attr(c,j)}):f.type===g&&(f.element.is(k)?f.buttonElement.addClass(a).attr(c,i):f.buttonElement.removeClass(a).attr(c,j))},_resetButton:function(){var e="'></span>",a=this;if(a.type===n){a.options.label&&a.element.val(a.options.label);return}var d=a.buttonElement.removeClass(v),h=b("<span></span>",a.element[0].ownerDocument).addClass("ui-button-text").html(a.options.label).appendTo(d.empty()).text(),c=a.options.icons,g=c.primary&&c.secondary,f=[];c.primary||c.secondary?(a.options.text&&f.push("ui-button-text-icon"+(g?"s":c.primary?"-primary":"-secondary")),c.primary&&d.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+e),c.secondary&&d.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+e),a.options.text||(f.push(g?"ui-button-icons-only":"ui-button-icon-only"),a.hasTitle||d.attr(m,h))):f.push("ui-button-text-only"),d.addClass(f.join(" "))}}),b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass(q)},_init:function(){this.refresh()},_setOption:function(a,c){a===d&&this.buttons.button("option",a,c),b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var c="ui-corner-left",a="ui-corner-right",d=this,f=d.element.css("direction")==="rtl";d.buttons=d.element.find(d.options.items).filter(l).button("refresh").end().not(l).button().end().map(function(){return b(this).button(e)[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(f?a:c).end().filter(":last").addClass(f?c:a).end().end()},destroy:function(){this.element.removeClass(q),this.buttons.map(function(){return b(this).button(e)[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),b.Widget.prototype.destroy.call(this)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.dialog.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,s){var c="px",q=".dialog-overlay",l="option",k=":data(resizable)",p=":visible",j="position",o="document",e="z-index",n="beforeClose",m="ui-dialog-content ui-widget-content",d="<div></div>",g="string",f="title",b="auto",i=null,h="close",r="ui-dialog ui-widget ui-widget-content ui-corner-all ",t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},u={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},v=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:h,dialogClass:"",draggable:!0,hide:i,height:b,maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:i,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){var k="<span></span>",i="ui-state-focus",h="ui-state-hover",e=this;e.originalTitle=e.element.attr(f),typeof e.originalTitle!=g&&(e.originalTitle=""),e.options.title=e.options.title||e.originalTitle;var b=e,c=b.options,p=c.title||"&#160;",o=a.ui.dialog.getTitleId(b.element),n=(b.uiDialog=a(d)).appendTo(document.body).hide().addClass(r+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){c.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}).attr({role:"dialog","aria-labelledby":o}).mousedown(function(a){b.moveToTop(!1,a)}),q=b.element.show().removeAttr(f).addClass(m).appendTo(n),l=(b.uiDialogTitlebar=a(d)).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(n),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass(h)},function(){j.removeClass(h)}).focus(function(){j.addClass(i)}).blur(function(){j.removeClass(i)}).click(function(a){return b.close(a),!1}).appendTo(l),s=(b.uiDialogTitlebarCloseText=a(k)).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(j),t=a(k).addClass("ui-dialog-title").attr("id",o).html(p).prependTo(l);a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose),l.find("*").add(l).disableSelection(),c.draggable&&a.fn.draggable&&b._makeDraggable(),c.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(c.buttons),b._isOpen=!1,a.fn.bgiframe&&n.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass(m).hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr(f,a.originalTitle),a},widget:function(){return this.uiDialog},close:function(d){var b=this,c,f;return!1===b._trigger(n,d)?void 0:(b.overlay&&b.overlay.destroy(),b.uiDialog.unbind("keypress.ui-dialog"),b._isOpen=!1,b.options.hide?b.uiDialog.hide(b.options.hide,function(){b._trigger(h,d)}):(b.uiDialog.hide(),b._trigger(h,d)),a.ui.dialog.overlay.resize(),b.options.modal&&(c=0,a(".ui-dialog").each(function(){this!==b.uiDialog[0]&&(f=a(this).css(e),isNaN(f)||(c=Math.max(c,f)))}),a.ui.dialog.maxZ=c),b)},isOpen:function(){return this._isOpen},moveToTop:function(g,d){var b=this,c=b.options,f;return c.modal&&!g||!c.stack&&!c.modal?b._trigger("focus",d):(c.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=c.zIndex),b.overlay&&(a.ui.dialog.maxZ+=1,b.overlay.$el.css(e,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:b.element.scrollTop(),scrollLeft:b.element.scrollLeft()},a.ui.dialog.maxZ+=1,b.uiDialog.css(e,a.ui.dialog.maxZ),b.element.attr(f),b._trigger("focus",d),b)},open:function(){var c=":tabbable";if(this._isOpen)return;var b=this,d=b.options,e=b.uiDialog;return b.overlay=d.modal?new a.ui.dialog.overlay(b):i,b._size(),b._position(d.position),e.show(d.show),b.moveToTop(!0),d.modal&&e.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var d=a(c,this),e=d.filter(":first"),f=d.filter(":last");return b.target===f[0]&&!b.shiftKey?(e.focus(1),!1):b.target===e[0]&&b.shiftKey?(f.focus(1),!1):void 0}),a(b.element.find(c).get().concat(e.find(".ui-dialog-buttonpane :tabbable").get().concat(e.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,e=!1,f=a(d).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a(d).addClass("ui-dialog-buttonset").appendTo(f);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==i&&a.each(b,function(){return!(e=!0)}),e&&(a.each(b,function(e,b){b=a.isFunction(b)?{click:b,text:e}:b;var d=a('<button type="button"></button>').click(function(){b.click.apply(c.element[0],arguments)}).appendTo(g);a.each(b,function(a,b){if(a==="click")return;a in v?d[a](b):d.attr(a,b)}),a.fn.button&&d.button()}),f.appendTo(c.uiDialog))},_makeDraggable:function(){var c="ui-dialog-dragging";function e(a){return{position:a.position,offset:a.offset}}var d=this,f=d.options,g=a(document),h;d.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:o,start:function(g,i){h=f.height===b?b:a(this).height(),a(this).height(a(this).height()).addClass(c),d._trigger("dragStart",g,e(i))},drag:function(a,b){d._trigger("drag",a,e(b))},stop:function(i,b){f.position=[b.position.left-g.scrollLeft(),b.position.top-g.scrollTop()],a(this).removeClass(c).height(h),d._trigger("dragStop",i,e(b)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(d){var c="ui-dialog-resizing";function f(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}d=d===s?this.options.resizable:d;var b=this,e=b.options,h=b.uiDialog.css(j),i=typeof d==g?d:"n,e,s,w,se,sw,ne,nw";b.uiDialog.resizable({cancel:".ui-dialog-content",containment:o,alsoResize:b.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:b._minHeight(),handles:i,start:function(d,e){a(this).addClass(c),b._trigger("resizeStart",d,f(e))},resize:function(a,c){b._trigger("resize",a,f(c))},stop:function(d,g){a(this).removeClass(c),e.height=a(this).height(),e.width=a(this).width(),b._trigger("resizeStop",d,f(g)),a.ui.dialog.overlay.resize()}}).css(j,h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height===b?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var d=this,c=[],f=[0,0],e;if(b){if(typeof b==g||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(f[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:f.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=d.uiDialog.is(p),e||d.uiDialog.show(),d.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||d.uiDialog.hide()},_setOptions:function(e){var b=this,f=b,c={},d=!1;a.each(e,function(a,b){f._setOption(a,b),a in t&&(d=!0),a in u&&(c[a]=b)}),d&&b._size(),b.uiDialog.is(k)&&b.uiDialog.resizable(l,c)},_setOption:function(i,b){var e="ui-dialog-disabled",c=this,d=c.uiDialog;switch(i){case"beforeclose":i=n;break;case"buttons":c._createButtons(b);break;case"closeText":c.uiDialogTitlebarCloseText.text(""+b);break;case"dialogClass":d.removeClass(c.options.dialogClass).addClass(r+b);break;case"disabled":b?d.addClass(e):d.removeClass(e);break;case"draggable":var m=d.is(":data(draggable)");m&&!b&&d.draggable("destroy"),!m&&b&&c._makeDraggable();break;case j:c._position(b);break;case"resizable":var h=d.is(k);h&&!b&&d.resizable("destroy"),h&&typeof b==g&&d.resizable(l,"handles",b),!h&&b!==!1&&c._makeResizable(b);break;case f:a(".ui-dialog-title",c.uiDialogTitlebar).html(""+(b||"&#160;"))}a.Widget.prototype._setOption.apply(c,arguments)},_size:function(){var c=this,d=c.options,e,f,g=c.uiDialog.is(p);c.element.show().css({width:b,minHeight:0,height:0}),d.minWidth>d.width&&(d.width=d.minWidth),e=c.uiDialog.css({height:b,width:d.width}).height(),f=Math.max(0,d.minHeight-e);if(d.height===b)if(a.support.minHeight)c.element.css({minHeight:f,height:b});else{c.uiDialog.show();var h=c.element.css("height",b).height();g||c.uiDialog.hide(),c.element.height(Math.max(h,f))}else c.element.height(Math.max(d.height-e,0));c.uiDialog.is(k)&&c.uiDialog.resizable(l,"minHeight",c._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.22",uuid:0,maxZ:0,getTitleId:function(b){var a=b.attr("id");return a||(this.uuid+=1,a=this.uuid),"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+q}).join(" "),create:function(e){var b=this;b.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(b){e.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE&&(e.close(b),b.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(b.oldInstances.pop()||a(d).addClass("ui-widget-overlay")).appendTo(document.body).css({width:b.width(),height:b.height()});return a.fn.bgiframe&&c.bgiframe(),b.instances.push(c),c},destroy:function(d){var b=this,f=a.inArray(d,b.instances);f!=-1&&b.oldInstances.push(b.instances.splice(f,1)[0]),b.instances.length===0&&a([document,window]).unbind(q),d.remove();var c=0;a.each(b.instances,function(){c=Math.max(c,this.css(e))}),b.maxZ=c},height:function(){var b,d;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<d?a(window).height()+c:b+c):a(document).height()+c},width:function(){var b,d;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<d?a(window).width()+c:b+c):a(document).width()+c},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var f="vertical",e="ui-state-active",d="ui-state-hover",h=".ui-slider-handle",c=null,b="horizontal",g="slide",i=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:g,options:{animate:!1,distance:0,max:100,min:0,orientation:b,range:!1,step:1,value:0,values:c},_create:function(){var k="index.ui-slider-handle",j="ui-state-focus",f=this,b=f,g=f.options,l=f.element.find(h).addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",p=g.values&&g.values.length||1,m=[];f._keySliding=!1,f._mouseSliding=!1,f._animateOff=!0,f._handleIndex=c,f._detectOrientation(),f._mouseInit(),f.element.addClass("ui-slider ui-slider-"+f.orientation+" ui-widget ui-widget-content ui-corner-all"+(g.disabled?" ui-slider-disabled ui-disabled":"")),f.range=a([]),g.range&&(g.range===!0&&(g.values||(g.values=[f._valueMin(),f._valueMin()]),g.values.length&&g.values.length!==2&&(g.values=[g.values[0],g.values[0]])),f.range=a("<div></div>").appendTo(f.element).addClass("ui-slider-range ui-widget-header"+(g.range==="min"||g.range==="max"?" ui-slider-range-"+g.range:"")));for(var n=l.length;n<p;n+=1)m.push(o);f.handles=l.add(a(m.join("")).appendTo(b.element)),f.handle=f.handles.eq(0),f.handles.add(f.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){g.disabled||a(this).addClass(d)},function(){a(this).removeClass(d)}).focus(function(){g.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass(j),a(this).addClass(j))}).blur(function(){a(this).removeClass(j)}),f.handles.each(function(b){a(this).data(k,b)}),f.handles.keydown(function(f){var g=a(this).data(k),j,d,c,h;if(b.options.disabled)return;switch(f.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:f.preventDefault();if(!b._keySliding){b._keySliding=!0,a(this).addClass(e),j=b._start(f,g);if(j===!1)return}}h=b.options.step,b.options.values&&b.options.values.length?(d=c=b.values(g)):(d=c=b.value());switch(f.keyCode){case a.ui.keyCode.HOME:c=b._valueMin();break;case a.ui.keyCode.END:c=b._valueMax();break;case a.ui.keyCode.PAGE_UP:c=b._trimAlignValue(d+(b._valueMax()-b._valueMin())/i);break;case a.ui.keyCode.PAGE_DOWN:c=b._trimAlignValue(d-(b._valueMax()-b._valueMin())/i);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===b._valueMax())return;c=b._trimAlignValue(d+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===b._valueMin())return;c=b._trimAlignValue(d-h)}b._slide(f,g,c)}).keyup(function(c){var d=a(this).data(k);b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass(e))}),f._refreshValue(),f._animateOff=!1},destroy:function(){var a=this;return a.handles.remove(),a.range.remove(),a.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),a._mouseDestroy(),a},_mouseCapture:function(f){var b=this,i=b.options,n,j,k,c,l,g,o,m,p;return i.disabled?!1:(b.elementSize={width:b.element.outerWidth(),height:b.element.outerHeight()},b.elementOffset=b.element.offset(),n={x:f.pageX,y:f.pageY},j=b._normValueFromMouse(n),k=b._valueMax()-b._valueMin()+1,l=b,b.handles.each(function(b){var d=Math.abs(j-l.values(b));k>d&&(k=d,c=a(this),g=b)}),i.range===!0&&b.values(1)===i.min&&(g+=1,c=a(b.handles[g])),o=b._start(f,g),o===!1?!1:(b._mouseSliding=!0,l._handleIndex=g,c.addClass(e).focus(),m=c.offset(),p=!a(f.target).parents().andSelf().is(h),b._clickOffset=p?{left:0,top:0}:{left:f.pageX-m.left-c.width()/2,top:f.pageY-m.top-c.height()/2-(parseInt(c.css("borderTopWidth"),10)||0)-(parseInt(c.css("borderBottomWidth"),10)||0)+(parseInt(c.css("marginTop"),10)||0)},b.handles.hasClass(d)||b._slide(f,g,j),b._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(b){var a=this;return a.handles.removeClass(e),a._mouseSliding=!1,a._stop(b,a._handleIndex),a._change(b,a._handleIndex),a._handleIndex=c,a._clickOffset=c,a._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation===f?f:b},_normValueFromMouse:function(g){var a=this,d,e,c,h,i;return a.orientation===b?(d=a.elementSize.width,e=g.x-a.elementOffset.left-(a._clickOffset?a._clickOffset.left:0)):(d=a.elementSize.height,e=g.y-a.elementOffset.top-(a._clickOffset?a._clickOffset.top:0)),c=e/d,c>1&&(c=1),c<0&&(c=0),a.orientation===f&&(c=1-c),h=a._valueMax()-a._valueMin(),i=a._valueMin()+c*h,a._trimAlignValue(i)},_start:function(d,c){var a=this,b={handle:a.handles[c],value:a.value()};return a.options.values&&a.options.values.length&&(b.value=a.values(c),b.values=a.values()),a._trigger("start",d,b)},_slide:function(h,c,b){var a=this,d,f,e;a.options.values&&a.options.values.length?(d=a.values(c?0:1),a.options.values.length===2&&a.options.range===!0&&(c===0&&b>d||c===1&&b<d)&&(b=d),b!==a.values(c)&&(f=a.values(),f[c]=b,e=a._trigger(g,h,{handle:a.handles[c],value:b,values:f}),d=a.values(c?0:1),e!==!1&&a.values(c,b,!0))):b!==a.value()&&(e=a._trigger(g,h,{handle:a.handles[c],value:b}),e!==!1&&a.value(b))},_stop:function(d,c){var a=this,b={handle:a.handles[c],value:a.value()};a.options.values&&a.options.values.length&&(b.value=a.values(c),b.values=a.values()),a._trigger("stop",d,b)},_change:function(d,c){var a=this;if(!a._keySliding&&!a._mouseSliding){var b={handle:a.handles[c],value:a.value()};a.options.values&&a.options.values.length&&(b.value=a.values(c),b.values=a.values()),a._trigger("change",d,b)}},value:function(b){var a=this;if(arguments.length){a.options.value=a._trimAlignValue(b),a._refreshValue(),a._change(c,0);return}return a._value()},values:function(e,h){var b=this,f,g,d;if(arguments.length>1){b.options.values[e]=b._trimAlignValue(h),b._refreshValue(),b._change(c,e);return}if(!arguments.length)return b._values();if(!a.isArray(arguments[0]))return b.options.values&&b.options.values.length?b._values(e):b.value();f=b.options.values,g=arguments[0];for(d=0;d<f.length;d+=1)f[d]=b._trimAlignValue(g[d]),b._change(c,d);b._refreshValue()},_setOption:function(i,j){var f="ui-disabled",e="disabled",b=this,g,h=0;a.isArray(b.options.values)&&(h=b.options.values.length),a.Widget.prototype._setOption.apply(b,arguments);switch(i){case e:j?(b.handles.filter(".ui-state-focus").blur(),b.handles.removeClass(d),b.handles.propAttr(e,!0),b.element.addClass(f)):(b.handles.propAttr(e,!1),b.element.removeClass(f));break;case"orientation":b._detectOrientation(),b.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+b.orientation),b._refreshValue();break;case"value":b._animateOff=!0,b._refreshValue(),b._change(c,0),b._animateOff=!1;break;case"values":b._animateOff=!0,b._refreshValue();for(g=0;g<h;g+=1)b._change(c,g);b._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(e){var c=this,d,a,b;if(arguments.length)return d=c.options.values[e],d=c._trimAlignValue(d),d;a=c.options.values.slice();for(b=0;b<a.length;b+=1)a[b]=c._trimAlignValue(a[b]);return a},_trimAlignValue:function(b){var a=this;if(b<=a._valueMin())return a._valueMin();if(b>=a._valueMax())return a._valueMax();var c=a.options.step>0?a.options.step:1,d=(b-a._valueMin())%c,e=b-d;return Math.abs(d)*2>=c&&(e+=d>0?c:-c),parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e="css",d="animate",c="%",g=this,l=g.options.range,j=g.options,i=g,k=g._animateOff?!1:j.animate,h,m={},o,q,n,p;g.options.values&&g.options.values.length?g.handles.each(function(f){h=(i.values(f)-i._valueMin())/(i._valueMax()-i._valueMin())*100,m[i.orientation===b?"left":"bottom"]=h+c,a(this).stop(1,1)[k?d:e](m,j.animate),i.options.range===!0&&(i.orientation===b?(f===0&&i.range.stop(1,1)[k?d:e]({left:h+c},j.animate),f===1&&i.range[k?d:e]({width:h-o+c},{queue:!1,duration:j.animate})):(f===0&&i.range.stop(1,1)[k?d:e]({bottom:h+c},j.animate),f===1&&i.range[k?d:e]({height:h-o+c},{queue:!1,duration:j.animate}))),o=h}):(q=g.value(),n=g._valueMin(),p=g._valueMax(),h=p!==n?(q-n)/(p-n)*100:0,m[i.orientation===b?"left":"bottom"]=h+c,g.handle.stop(1,1)[k?d:e](m,j.animate),l==="min"&&g.orientation===b&&g.range.stop(1,1)[k?d:e]({width:h+c},j.animate),l==="max"&&g.orientation===b&&g.range[k?d:e]({width:100-h+c},{queue:!1,duration:j.animate}),l==="min"&&g.orientation===f&&g.range.stop(1,1)[k?d:e]({height:h+c},j.animate),l==="max"&&g.orientation===f&&g.range[k?d:e]({height:100-h+c},{queue:!1,duration:j.animate}))}}),a.extend(a.ui.slider,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.tabs.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,u){var m="load",l="cache.tabs",j="ui-state-disabled",i="ui-tabs-selected",d=".tabs",h="show",c="tabs",g="ui-tabs-selected ui-state-active",e="ui-tabs-hide",s="ui-state-default ui-corner-top",r="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",k="destroy.tabs",p="load.tabs",q="href.tabs",f="#",n="label.tabs",o="ui-state-processing",t="ui-tabs-",b=null;function x(){return++v}function y(){return++w}var v=0,w=0;a.widget("ui.tabs",{options:{add:b,ajaxOptions:b,cache:!1,cookie:b,collapsible:!1,disable:b,disabled:[],enable:b,event:"click",fx:b,idPrefix:t,load:b,panelTemplate:"<div></div>",remove:b,select:b,show:b,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(c,b){var a=this;if(c=="selected"){if(a.options.collapsible&&b==a.options.selected)return;a.select(b)}else a.options[c]=b,a._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+x()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||t+y());return a.cookie.apply(b,[c].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass(o).find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data(n)).removeData(n)})},_tabify:function(K){var v="li",x="ui-state-",C="removeClass",B="addClass",w=".ui-tabs-selected",A="ui-tabs-panel ui-widget-content ui-corner-bottom",t=this;function H(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var n=t,m=t.options,L=/^#.+/;t.list=t.element.find("ol,ul").eq(0),t.lis=a(" > li:has(a[href])",t.list),t.anchors=t.lis.map(function(){return a("a",this)[0]}),t.panels=a([]),t.anchors.each(function(h,c){var b=a(c).attr("href"),e=b.split(f)[0],i;e&&(e===location.toString().split(f)[0]||(i=a("base")[0])&&e===i.href)&&(b=c.hash,c.href=b);if(L.test(b))n.panels=n.panels.add(n.element.find(n._sanitizeSelector(b)));else if(b&&b!==f){a.data(c,q,b),a.data(c,p,b.replace(/#.*$/,""));var g=n._tabId(c);c.href=f+g;var d=n.element.find(f+g);d.length||(d=a(m.panelTemplate).attr("id",g).addClass(A).insertAfter(n.panels[h-1]||n.list),d.data(k,!0)),n.panels=n.panels.add(d)}else m.disabled.push(h)}),K?(t.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),t.list.addClass(r),t.lis.addClass(s),t.panels.addClass(A),m.selected===u?(location.hash&&t.anchors.each(function(a,b){if(b.hash==location.hash)return m.selected=a,!1}),typeof m.selected!="number"&&m.cookie&&(m.selected=parseInt(n._cookie(),10)),typeof m.selected!="number"&&t.lis.filter(w).length&&(m.selected=t.lis.index(t.lis.filter(w))),m.selected=m.selected||(t.lis.length?0:-1)):m.selected===b&&(m.selected=-1),m.selected=m.selected>=0&&t.anchors[m.selected]||m.selected<0?m.selected:0,m.disabled=a.unique(m.disabled.concat(a.map(t.lis.filter(".ui-state-disabled"),function(a){return n.lis.index(a)}))).sort(),a.inArray(m.selected,m.disabled)!=-1&&m.disabled.splice(a.inArray(m.selected,m.disabled),1),t.panels.addClass(e),t.lis.removeClass(g),m.selected>=0&&t.anchors.length&&(n.element.find(n._sanitizeSelector(n.anchors[m.selected].hash)).removeClass(e),t.lis.eq(m.selected).addClass(g),n.element.queue(c,function(){n._trigger(h,b,n._ui(n.anchors[m.selected],n.element.find(n._sanitizeSelector(n.anchors[m.selected].hash))[0]))}),t.load(m.selected)),a(window).bind("unload",function(){n.lis.add(n.anchors).unbind(d),n.lis=n.anchors=n.panels=b})):(m.selected=t.lis.index(t.lis.filter(w))),t.element[m.collapsible?B:C]("ui-tabs-collapsible"),m.cookie&&t._cookie(m.selected,m.cookie);for(var D=0,E;E=t.lis[D];D++)a(E)[a.inArray(D,m.disabled)!=-1&&!a(E).hasClass(i)?B:C](j);m.cache===!1&&t.anchors.removeData(l),t.lis.add(t.anchors).unbind(d);if(m.event!=="mouseover"){var F=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass(x+b)},G=function(a,b){b.removeClass(x+a)};t.lis.bind("mouseover.tabs",function(){F("hover",a(this))}),t.lis.bind("mouseout.tabs",function(){G("hover",a(this))}),t.anchors.bind("focus.tabs",function(){F("focus",a(this).closest(v))}),t.anchors.bind("blur.tabs",function(){G("focus",a(this).closest(v))})}var y,z;m.fx&&(a.isArray(m.fx)?(y=m.fx[0],z=m.fx[1]):(y=z=m.fx));var I=z?function(d,c){a(d).closest(v).addClass(g),c.hide().removeClass(e).animate(z,z.duration||"normal",function(){H(c,z),n._trigger(h,b,n._ui(d,c[0]))})}:function(c,d){a(c).closest(v).addClass(g),d.removeClass(e),n._trigger(h,b,n._ui(c,d[0]))},J=y?function(b,a){a.animate(y,y.duration||"normal",function(){n.lis.removeClass(g),a.addClass(e),H(a,y),n.element.dequeue(c)})}:function(b,a){n.lis.removeClass(g),a.addClass(e),n.element.dequeue(c)};t.anchors.bind(m.event+d,function(){var d=this,e=d,f=a(e).closest(v),g=n.panels.filter(":not(.ui-tabs-hide)"),h=n.element.find(n._sanitizeSelector(e.hash));if(f.hasClass(i)&&!m.collapsible||f.hasClass(j)||f.hasClass(o)||n.panels.filter(":animated").length||n._trigger("select",b,n._ui(d,h[0]))===!1)return d.blur(),!1;m.selected=n.anchors.index(d),n.abort();if(m.collapsible){if(f.hasClass(i))return m.selected=-1,m.cookie&&n._cookie(m.selected,m.cookie),n.element.queue(c,function(){J(e,g)}).dequeue(c),d.blur(),!1;if(!g.length)return m.cookie&&n._cookie(m.selected,m.cookie),n.element.queue(c,function(){I(e,h)}),n.load(n.anchors.index(d)),d.blur(),!1}m.cookie&&n._cookie(m.selected,m.cookie);if(h.length)g.length&&n.element.queue(c,function(){J(e,g)}),n.element.queue(c,function(){I(e,h)}),n.load(n.anchors.index(d));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&d.blur()}),t.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},destroy:function(){var f=this,g=f.options;return f.abort(),f.element.unbind(d).removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData(c),f.list.removeClass(r),f.anchors.each(function(){var b=a.data(this,q);b&&(this.href=b);var c=a(this).unbind(d);a.each(["href",m,"cache"],function(b,a){c.removeData(a+d)})}),f.lis.unbind(d).add(f.panels).each(function(){a.data(this,k)?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top",i,"ui-state-active","ui-state-hover","ui-state-focus",j,"ui-tabs-panel","ui-widget-content","ui-corner-bottom",e].join(" "))}),g.cookie&&f._cookie(b,g.cookie),f},add:function(o,q,i){var d=this;i===u&&(i=d.anchors.length);var l=d,m=d.options,n=a(m.tabTemplate.replace(/#\{href\}/g,o).replace(/#\{label\}/g,q)),p=o.indexOf(f)?d._tabId(a("a",n)[0]):o.replace(f,"");n.addClass(s).data(k,!0);var j=l.element.find(f+p);return j.length||(j=a(m.panelTemplate).attr("id",p).data(k,!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),i>=d.lis.length?(n.appendTo(d.list),j.appendTo(d.list[0].parentNode)):(n.insertBefore(d.lis[i]),j.insertBefore(d.panels[i])),m.disabled=a.map(m.disabled,function(a){return a>=i?++a:a}),d._tabify(),d.anchors.length==1&&(m.selected=0,n.addClass(g),j.removeClass(e),d.element.queue(c,function(){l._trigger(h,b,l._ui(l.anchors[0],l.panels[0]))}),d.load(0)),d._trigger("add",b,d._ui(d.anchors[i],d.panels[i])),d},remove:function(d){var c=this;d=c._getIndex(d);var e=c.options,f=c.lis.eq(d).remove(),g=c.panels.eq(d).remove();return f.hasClass(i)&&c.anchors.length>1&&c.select(d+(d+1<c.anchors.length?1:-1)),e.disabled=a.map(a.grep(e.disabled,function(a){return a!=d}),function(a){return a>=d?--a:a}),c._tabify(),c._trigger("remove",b,c._ui(f.find("a")[0],g[0])),c},enable:function(d){var c=this;d=c._getIndex(d);var e=c.options;return a.inArray(d,e.disabled)==-1?void 0:(c.lis.eq(d).removeClass(j),e.disabled=a.grep(e.disabled,function(a){return a!=d}),c._trigger("enable",b,c._ui(c.anchors[d],c.panels[d])),c)},disable:function(c){var a=this;c=a._getIndex(c);var e=a,d=a.options;return c!=d.selected&&(a.lis.eq(c).addClass(j),d.disabled.push(c),d.disabled.sort(),a._trigger("disable",b,a._ui(a.anchors[c],a.panels[c]))),a},select:function(b){var a=this;b=a._getIndex(b);if(b==-1)if(a.options.collapsible&&a.options.selected!=-1)b=a.options.selected;else return a;return a.anchors.eq(b).trigger(a.options.event+d),a},load:function(f){var e=this;f=e._getIndex(f);var d=e,g=e.options,h=e.anchors.eq(f)[0],i=a.data(h,p);e.abort();if(!i||e.element.queue(c).length!==0&&a.data(h,l)){e.element.dequeue(c);return}e.lis.eq(f).addClass(o);if(g.spinner){var j=a("span",h);j.data(n,j.html()).html(g.spinner)}return e.xhr=a.ajax(a.extend({},g.ajaxOptions,{url:i,success:function(c,e){d.element.find(d._sanitizeSelector(h.hash)).html(c),d._cleanup(),g.cache&&a.data(h,l,!0),d._trigger(m,b,d._ui(d.anchors[f],d.panels[f]));try{g.ajaxOptions.success(c,e)}catch(i){}},error:function(a,c){d._cleanup(),d._trigger(m,b,d._ui(d.anchors[f],d.panels[f]));try{g.ajaxOptions.error(a,c,f,h)}catch(e){}}})),d.element.dequeue(c),e},abort:function(){var a=this;return a.element.queue([]),a.panels.stop(!1,!0),a.element.queue(c,a.element.queue(c).splice(-2,2)),a.xhr&&(a.xhr.abort(),delete a.xhr),a._cleanup(),a},url:function(a,b){return this.anchors.eq(a).removeData(l).data(p,b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.22"}),a.extend(a.ui.tabs.prototype,{rotation:b,rotate:function(h,j){var e="tabsshow",c=this,a=c,g=c.options,f=a._rotate||(a._rotate=function(b){clearTimeout(a.rotation),a.rotation=setTimeout(function(){var b=g.selected;a.select(++b<a.anchors.length?b:0)},h),b&&b.stopPropagation()}),i=a._unrotate||(a._unrotate=j?function(){f()}:function(c){c.clientX&&a.rotate(b)});return h?(c.element.bind(e,f),c.anchors.bind(g.event+d,i),f()):(clearTimeout(a.rotation),c.element.unbind(e,f),c.anchors.unbind(g.event+d,i),delete c._rotate,delete c._unrotate),c}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.datepicker.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,E){var P="&#xa0;",O="</div>",f="DP_jQuery_",ib="D, d M yy",gb="D, d M y",fb="yy-mm-dd",p="m",m="d",g="'",l="y",s="@",e=10,db="gotoCurrent",cb="showCurrentAtPos",bb=":disabled",ab=":visible",Z="showOptions",R="iframe.ui-datepicker-cover",Y="duration",X="showAnim",N="absolute",i="D",h=-1,d="M",r="stepMonths",W="onSelect",C="max",B="min",j="string",M="disabled",V="select.ui-datepicker-month, select.ui-datepicker-year",U="ui-state-disabled",A="px",L="left",o=100,K="body",J="dayNamesShort",I="dayNames",H="monthNamesShort",G="monthNames",n="dateFormat",F="button",z="</span>",k='">',t="isRTL",T="getData.datepicker",S="setData.datepicker",q="input",y="span",x="div",w="object",Q=".ui-datepicker-calendar",v="focus",b="",c=null;function jb(){var d=this;d.debug=!1,d._curInst=c,d._keyEvent=!1,d._disabledInputs=[],d._datepickerShowing=!1,d._inDialog=!1,d._mainDivId="ui-datepicker-div",d._inlineClass="ui-datepicker-inline",d._appendClass="ui-datepicker-append",d._triggerClass="ui-datepicker-trigger",d._dialogClass="ui-datepicker-dialog",d._disableClass="ui-datepicker-disabled",d._unselectableClass="ui-datepicker-unselectable",d._currentClass="ui-datepicker-current-day",d._dayOverClass="ui-datepicker-days-cell-over",d.regional=[],d.regional[b]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:b},d._defaults={showOn:v,showAnim:"fadeIn",showOptions:{},defaultDate:c,appendText:b,buttonText:"...",buttonImage:b,buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:d.iso8601Week,shortYearCutoff:"+10",minDate:c,maxDate:c,duration:"fast",beforeShowDay:c,beforeShow:c,onSelect:c,onChangeMonthYear:c,onClose:c,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:b,altFormat:b,constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(d._defaults,d.regional[b]),d.dpDiv=kb(a('<div id="'+d._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function kb(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.bind("mouseout",function(d){var b=a(d.target).closest(c);if(!b.length)return;b.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(f){var e="ui-state-hover",d=a(f.target).closest(c);if(a.datepicker._isDisabledDatepicker(hb.inline?b.parent()[0]:hb.input[0])||!d.length)return;d.parents(Q).find("a").removeClass(e),d.addClass(e),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function eb(e,b){a.extend(e,b);for(var d in b)if(b[d]==c||b[d]==E)e[d]=b[d];return e}a.extend(a.ui,{datepicker:{version:"1.8.22"}});var u="datepicker",D=(new Date).getTime(),hb;a.extend(jb.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply(b,arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return eb(this._defaults,a||{}),this},_attachDatepicker:function(b,k){var d=this,e=c;for(var g in d._defaults){var f=b.getAttribute("date:"+g);if(f){e=e||{};try{e[g]=eval(f)}catch(l){e[g]=f}}}var h=b.nodeName.toLowerCase(),j=h==x||h==y;b.id||(d.uuid+=1,b.id="dp"+d.uuid);var i=d._newInst(a(b),j);i.settings=a.extend({},k||{},e||{}),h==q?d._connectDatepicker(b,i):j&&d._inlineDatepicker(b,i)},_newInst:function(b,c){var d=b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:d,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?kb(a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(d,c){var b=this,e=a(d);c.append=a([]),c.trigger=a([]);if(e.hasClass(b.markerClassName))return;b._attachments(e,c),e.addClass(b.markerClassName).keydown(b._doKeyDown).keypress(b._doKeyPress).keyup(b._doKeyUp).bind(S,function(d,a,b){c.settings[a]=b}).bind(T,function(b,a){return this._get(c,a)}),b._autoSize(c),a.data(d,u,c),c.settings.disabled&&b._disableDatepicker(d)},_attachments:function(e,c){var d=this,i=d._get(c,"appendText"),j=d._get(c,t);c.append&&c.append.remove(),i&&(c.append=a('<span class="'+d._appendClass+k+i+z),e[j?"before":"after"](c.append)),e.unbind(v,d._showDatepicker),c.trigger&&c.trigger.remove();var g=d._get(c,"showOn");(g==v||g=="both")&&e.focus(d._showDatepicker);if(g==F||g=="both"){var f=d._get(c,"buttonText"),h=d._get(c,"buttonImage");c.trigger=a(d._get(c,"buttonImageOnly")?a("<img/>").addClass(d._triggerClass).attr({src:h,alt:f,title:f}):a('<button type="button"></button>').addClass(d._triggerClass).html(h==b?f:a("<img/>").attr({src:h,alt:f,title:f}))),e[j?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput==e[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!=e[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(e[0])):a.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(a){var b=this;if(b._get(a,"autoSize")&&!a.inline){var c=new Date(2009,11,20),d=b._get(a,n);if(d.match(/[DM]/)){var e=function(b){for(var c=0,d=0,a=0;a<b.length;a++)b[a].length>c&&(c=b[a].length,d=a);return d};c.setMonth(e(b._get(a,d.match(/MM/)?G:H))),c.setDate(e(b._get(a,d.match(/DD/)?I:J))+20-c.getDay())}a.input.attr("size",b._formatDate(a,c).length)}},_inlineDatepicker:function(d,b){var c=this,e=a(d);if(e.hasClass(c.markerClassName))return;e.addClass(c.markerClassName).append(b.dpDiv).bind(S,function(d,a,c){b.settings[a]=c}).bind(T,function(c,a){return this._get(b,a)}),a.data(d,u,b),c._setDate(b,c._getDefaultDate(b),!0),c._updateDatepicker(b),c._updateAlternate(b),b.settings.disabled&&c._disableDatepicker(d),b.dpDiv.css("display","block")},_dialogDatepicker:function(n,e,g,h,f){var b=this,d=b._dialogInst;if(!d){b.uuid+=1;var i="dp"+b.uuid;b._dialogInput=a('<input type="text" id="'+i+'" style="position: absolute; top: -100px; width: 0px;"/>'),b._dialogInput.keydown(b._doKeyDown),a(K).append(b._dialogInput),d=b._dialogInst=b._newInst(b._dialogInput,!1),d.settings={},a.data(b._dialogInput[0],u,d)}eb(d.settings,h||{}),e=e&&e.constructor==Date?b._formatDate(d,e):e,b._dialogInput.val(e),b._pos=f?f.length?f:[f.pageX,f.pageY]:c;if(!b._pos){var j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop;b._pos=[j/2-o+l,k/2-150+m]}return b._dialogInput.css(L,b._pos[0]+20+A).css("top",b._pos[1]+A),d.settings.onSelect=g,b._inDialog=!0,b.dpDiv.addClass(b._dialogClass),b._showDatepicker(b._dialogInput[0]),a.blockUI&&a.blockUI(b.dpDiv),a.data(b._dialogInput[0],u,d),b},_destroyDatepicker:function(c){var b=this,d=a(c),f=a.data(c,u);if(!d.hasClass(b.markerClassName))return;var e=c.nodeName.toLowerCase();a.removeData(c,u),e==q?(f.append.remove(),f.trigger.remove(),d.removeClass(b.markerClassName).unbind(v,b._showDatepicker).unbind("keydown",b._doKeyDown).unbind("keypress",b._doKeyPress).unbind("keyup",b._doKeyUp)):(e==x||e==y)&&d.removeClass(b.markerClassName).empty()},_enableDatepicker:function(d){var e=this,g=a(d),i=a.data(d,u);if(!g.hasClass(e.markerClassName))return;var f=d.nodeName.toLowerCase();if(f==q)d.disabled=!1,i.trigger.filter(F).each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:b});else if(f==x||f==y){var h=g.children("."+e._inlineClass);h.children().removeClass(U),h.find(V).removeAttr(M)}e._disabledInputs=a.map(e._disabledInputs,function(a){return a==d?c:a})},_disableDatepicker:function(d){var b=this,f=a(d),h=a.data(d,u);if(!f.hasClass(b.markerClassName))return;var e=d.nodeName.toLowerCase();if(e==q)d.disabled=!0,h.trigger.filter(F).each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(e==x||e==y){var g=f.children("."+b._inlineClass);g.children().addClass(U),g.find(V).attr(M,M)}b._disabledInputs=a.map(b._disabledInputs,function(a){return a==d?c:a}),b._disabledInputs[b._disabledInputs.length]=d},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]==b)return!0;return!1},_getInst:function(b){try{return a.data(b,u)}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(g,e,k){var d=this,b=d._getInst(g);if(arguments.length==2&&typeof e==j)return e=="defaults"?a.extend({},a.datepicker._defaults):b?e=="all"?a.extend({},b.settings):d._get(b,e):c;var f=e||{};typeof e==j&&(f={},f[e]=k);if(b){d._curInst==b&&d._hideDatepicker();var l=d._getDateDatepicker(g,!0),h=d._getMinMaxDate(b,B),i=d._getMinMaxDate(b,C);eb(b.settings,f),h!==c&&f.dateFormat!==E&&f.minDate===E&&(b.settings.minDate=d._formatDate(b,h)),i!==c&&f.dateFormat!==E&&f.maxDate===E&&(b.settings.maxDate=d._formatDate(b,i)),d._attachments(a(g),b),d._autoSize(b),d._setDate(b,l),d._updateAlternate(b),d._updateDatepicker(b)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(b){var a=this._getInst(b);a&&this._updateDatepicker(a)},_setDateDatepicker:function(c,d){var a=this,b=a._getInst(c);b&&(a._setDate(b,d),a._updateDatepicker(b),a._updateAlternate(b))},_getDateDatepicker:function(b,d){var a=this._getInst(b);return a&&!a.inline&&this._setDateFromField(a,d),a?this._getDate(a):c},_doKeyDown:function(b){var g="stepBigMonths",e=a.datepicker._getInst(b.target),f=!0,j=e.dpDiv.is(".ui-datepicker-rtl");e._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),f=!1;break;case 13:var k=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",e.dpDiv);k[0]&&a.datepicker._selectDay(b.target,e.selectedMonth,e.selectedYear,k[0]);var l=a.datepicker._get(e,W);if(l){var m=a.datepicker._formatDate(e);l.apply(e.input?e.input[0]:c,[m,e])}else a.datepicker._hideDatepicker();return!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(e,g):-a.datepicker._get(e,r),d);break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(e,g):+a.datepicker._get(e,r),d);break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),f=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),f=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,j?1:h,i),f=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(e,g):-a.datepicker._get(e,r),d);break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,i),f=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,j?h:1,i),f=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(e,g):+a.datepicker._get(e,r),d);break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,i),f=b.ctrlKey||b.metaKey;break;default:f=!1}else b.keyCode==36&&b.ctrlKey?a.datepicker._showDatepicker(this):(f=!1);f&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c=a.datepicker._getInst(b.target);if(a.datepicker._get(c,"constrainInput")){var d=a.datepicker._possibleChars(a.datepicker._get(c,n)),e=String.fromCharCode(b.charCode==E?b.keyCode:b.charCode);return b.ctrlKey||b.metaKey||e<" "||!d||d.indexOf(e)>h}},_doKeyUp:function(d){var b=a.datepicker._getInst(d.target);if(b.input.val()!=b.lastVal)try{var e=a.datepicker.parseDate(a.datepicker._get(b,n),b.input?b.input.val():c,a.datepicker._getFormatConfig(b));e&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b))}catch(f){a.datepicker.log(f)}return!0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!=q&&(e=a(q,e.parentNode)[0]);if(a.datepicker._isDisabledDatepicker(e)||a.datepicker._lastInput==e)return;var d=a.datepicker._getInst(e);a.datepicker._curInst&&a.datepicker._curInst!=d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));var k=a.datepicker._get(d,"beforeShow"),l=k?k.apply(e,[e,d]):{};if(l===!1)return;eb(d.settings,l),d.lastVal=c,a.datepicker._lastInput=e,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(e.value=b),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(e),a.datepicker._pos[1]+=e.offsetHeight);var f=!1;a(e).parents().each(function(){return f|=a(this).css("position")=="fixed",!f}),f&&a.browser.opera&&(a.datepicker._pos[0]-=document.documentElement.scrollLeft,a.datepicker._pos[1]-=document.documentElement.scrollTop);var h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=c,d.dpDiv.empty(),d.dpDiv.css({position:N,display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),h=a.datepicker._checkOffset(d,h,f),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":f?"fixed":N,display:"none",left:h.left+A,top:h.top+A});if(!d.inline){var g=a.datepicker._get(d,X),i=a.datepicker._get(d,Y),j=function(){var b=d.dpDiv.find(R);if(!!b.length){var c=a.datepicker._getBorders(d.dpDiv);b.css({left:-c[0],top:-c[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()})}};d.dpDiv.zIndex(a(e).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects[g]?d.dpDiv.show(g,a.datepicker._get(d,Z),i,j):d.dpDiv[g||"show"](g?i:c,j),(!g||!i)&&j(),d.input.is(ab)&&!d.input.is(bb)&&d.input.focus(),a.datepicker._curInst=d}},_updateDatepicker:function(d){var e=this,k=e;k.maxRows=4;var h=a.datepicker._getBorders(d.dpDiv);hb=d,d.dpDiv.empty().append(e._generateHTML(d)),e._attachHandlers(d);var i=d.dpDiv.find(R);!i.length||i.css({left:-h[0],top:-h[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()}),d.dpDiv.find("."+e._dayOverClass+" a").mouseover();var f=e._getNumberOfMonths(d),g=f[1],l=17;d.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(b),g>1&&d.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",l*g+"em"),d.dpDiv[(f[0]!=1||f[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),d.dpDiv[(e._get(d,t)?"add":"remove")+"Class"]("ui-datepicker-rtl"),d==a.datepicker._curInst&&a.datepicker._datepickerShowing&&d.input&&d.input.is(ab)&&!d.input.is(bb)&&d.input[0]!=document.activeElement&&d.input.focus();if(d.yearshtml){var j=d.yearshtml;setTimeout(function(){j===d.yearshtml&&d.yearshtml&&d.dpDiv.find("select.ui-datepicker-year:first").replaceWith(d.yearshtml),j=d.yearshtml=c},0)}},_getBorders:function(a){var b=function(a){return({thin:1,medium:2,thick:3})[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(c,b,d){var e=c.dpDiv.outerWidth(),f=c.dpDiv.outerHeight(),j=c.input?c.input.outerWidth():0,h=c.input?c.input.outerHeight():0,g=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),i=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return b.left-=this._get(c,t)?e-j:0,b.left-=d&&b.left==c.input.offset().left?a(document).scrollLeft():0,b.top-=d&&b.top==c.input.offset().top+h?a(document).scrollTop():0,b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0),b.top-=Math.min(b.top,b.top+f>i&&i>f?Math.abs(f+h):0),b},_findPos:function(b){var d=this._getInst(b),e=this._get(d,t);while(b&&(b.type=="hidden"||b.nodeType!=1||a.expr.filters.hidden(b)))b=b[e?"previousSibling":"nextSibling"];var c=a(b).offset();return[c.left,c.top]},_hideDatepicker:function(h){var e=this,d=e._curInst;if(!d||h&&d!=a.data(h,u))return;if(e._datepickerShowing){var f=e._get(d,X),i=e._get(d,Y),g=function(){a.datepicker._tidyDialog(d)};a.effects&&a.effects[f]?d.dpDiv.hide(f,a.datepicker._get(d,Z),i,g):d.dpDiv[f=="slideDown"?"slideUp":f=="fadeIn"?"fadeOut":"hide"](f?i:c,g),f||g(),e._datepickerShowing=!1;var j=e._get(d,"onClose");j&&j.apply(d.input?d.input[0]:c,[d.input?d.input.val():b,d]),e._lastInput=c,e._inDialog&&(e._dialogInput.css({position:N,left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a(K).append(e.dpDiv))),e._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(Q)},_checkExternalClick:function(c){if(!a.datepicker._curInst)return;var b=a(c.target),d=a.datepicker._getInst(b[0]);(b[0].id!=a.datepicker._mainDivId&&b.parents("#"+a.datepicker._mainDivId).length==0&&!b.hasClass(a.datepicker.markerClassName)&&!b.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!=d)&&a.datepicker._hideDatepicker()},_adjustDate:function(g,h,e){var b=this,f=a(g),c=b._getInst(f[0]);if(b._isDisabledDatepicker(f[0]))return;b._adjustInstDate(c,h+(e==d?b._get(c,cb):0),e),b._updateDatepicker(c)},_gotoToday:function(f){var c=this,e=a(f),b=c._getInst(e[0]);if(c._get(b,db)&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var d=new Date;b.selectedDay=d.getDate(),b.drawMonth=b.selectedMonth=d.getMonth(),b.drawYear=b.selectedYear=d.getFullYear()}c._notifyChange(b),c._adjustDate(e)},_selectMonthYear:function(h,c,f){var g=a(h),b=this._getInst(g[0]);b["selected"+(f==d?"Month":"Year")]=b["draw"+(f==d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,e),this._notifyChange(b),this._adjustDate(g)},_selectDay:function(d,g,h,e){var c=this,f=a(d);if(a(e).hasClass(c._unselectableClass)||c._isDisabledDatepicker(f[0]))return;var b=c._getInst(f[0]);b.selectedDay=b.currentDay=a("a",e).html(),b.selectedMonth=b.currentMonth=g,b.selectedYear=b.currentYear=h,c._selectDate(d,c._formatDate(b,b.currentDay,b.currentMonth,b.currentYear))},_clearDate:function(d){var c=a(d),e=this._getInst(c[0]);this._selectDate(c,b)},_selectDate:function(g,e){var d=this,h=a(g),b=d._getInst(h[0]);e=e!=c?e:d._formatDate(b),b.input&&b.input.val(e),d._updateAlternate(b);var f=d._get(b,W);f?f.apply(b.input?b.input[0]:c,[e,b]):b.input&&b.input.trigger("change"),b.inline?d._updateDatepicker(b):(d._hideDatepicker(),d._lastInput=b.input[0],typeof b.input[0]!=w&&b.input.focus(),d._lastInput=c)},_updateAlternate:function(c){var b=this,d=b._get(c,"altField");if(d){var e=b._get(c,"altFormat")||b._get(c,n),f=b._getDate(c),g=b.formatDate(e,f,b._getFormatConfig(c));a(d).each(function(){a(this).val(g)})}},noWeekends:function(c){var a=c.getDay();return[a>0&&a<6,b]},iso8601Week:function(b){var a=new Date(b.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var c=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((c-a)/8.64e7)/7)+1},parseDate:function(y,f,q){var u=this;if(y==c||f==c)throw"Invalid arguments";f=typeof f==w?f.toString():f+b;if(f==b)return c;var A=(q?q.shortYearCutoff:c)||u._defaults.shortYearCutoff;A=typeof A!=j?A:(new Date).getFullYear()%o+parseInt(A,e);for(var H=(q?q.dayNamesShort:c)||u._defaults.dayNamesShort,I=(q?q.dayNames:c)||u._defaults.dayNames,J=(q?q.monthNamesShort:c)||u._defaults.monthNamesShort,K=(q?q.monthNames:c)||u._defaults.monthNames,k=h,t=h,v=h,C=h,D=!1,B=function(b){var a=x+1<y.length&&y.charAt(x+1)==b;return a&&x++,a},z=function(a){var c=B(a),d=a==s?14:a=="!"?20:a==l&&c?4:a=="o"?3:2,g=new RegExp("^\\d{1,"+d+"}"),b=f.substring(n).match(g);if(!b)throw"Missing number at position "+n;return n+=b[0].length,parseInt(b[0],e)},F=function(c,d,e){var g=a.map(B(c)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),b=h;a.each(g,function(d,c){var a=c[1];if(f.substr(n,a.length).toLowerCase()==a.toLowerCase())return b=c[0],n+=a.length,!1});if(b!=h)return b+1;throw"Unknown name at position "+n;},E=function(){if(f.charAt(n)!=y.charAt(x))throw"Unexpected literal at position "+n;n++},n=0,x=0;x<y.length;x++)if(D)y.charAt(x)==g&&!B(g)?(D=!1):E();else switch(y.charAt(x)){case m:v=z(m);break;case i:F(i,H,I);break;case"o":C=z("o");break;case p:t=z(p);break;case d:t=F(d,J,K);break;case l:k=z(l);break;case s:var r=new Date(z(s));k=r.getFullYear(),t=r.getMonth()+1,v=r.getDate();break;case"!":var r=new Date((z("!")-u._ticksTo1970)/1e4);k=r.getFullYear(),t=r.getMonth()+1,v=r.getDate();break;case g:B(g)?E():(D=!0);break;default:E()}if(n<f.length)throw"Extra/unparsed characters found in date: "+f.substring(n);k==h?(k=(new Date).getFullYear()):k<o&&(k+=(new Date).getFullYear()-(new Date).getFullYear()%o+(k<=A?0:-100));if(C>h){t=1,v=C;do{var G=u._getDaysInMonth(k,t-1);if(v<=G)break;t++,v-=G}while(!0)}var r=u._daylightSavingAdjust(new Date(k,t-1,v));if(r.getFullYear()!=k||r.getMonth()+1!=t||r.getDate()!=v)throw"Invalid date";return r},ATOM:fb,COOKIE:"D, dd M yy",ISO_8601:fb,RFC_822:gb,RFC_850:"DD, dd-M-y",RFC_1036:gb,RFC_1123:ib,RFC_2822:ib,RSS:gb,TICKS:"!",TIMESTAMP:s,W3C:fb,_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(k,a,j){var n=this;if(!a)return b;var v=(j?j.dayNamesShort:c)||n._defaults.dayNamesShort,w=(j?j.dayNames:c)||n._defaults.dayNames,x=(j?j.monthNamesShort:c)||n._defaults.monthNamesShort,y=(j?j.monthNames:c)||n._defaults.monthNames,q=function(b){var a=h+1<k.length&&k.charAt(h+1)==b;return a&&h++,a},r=function(c,d,e){var a=b+d;if(q(c))while(a.length<e)a="0"+a;return a},u=function(b,a,c,d){return q(b)?d[a]:c[a]},f=b,t=!1;if(a)for(var h=0;h<k.length;h++)if(t)k.charAt(h)==g&&!q(g)?(t=!1):(f+=k.charAt(h));else switch(k.charAt(h)){case m:f+=r(m,a.getDate(),2);break;case i:f+=u(i,a.getDay(),v,w);break;case"o":f+=r("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/8.64e7),3);break;case p:f+=r(p,a.getMonth()+1,2);break;case d:f+=u(d,a.getMonth(),x,y);break;case l:f+=q(l)?a.getFullYear():(a.getYear()%o<e?"0":b)+a.getYear()%o;break;case s:f+=a.getTime();break;case"!":f+=a.getTime()*1e4+n._ticksTo1970;break;case g:q(g)?(f+=g):(t=!0);break;default:f+=k.charAt(h)}return f},_possibleChars:function(e){for(var f=b,h=!1,j=function(c){var b=a+1<e.length&&e.charAt(a+1)==c;return b&&a++,b},a=0;a<e.length;a++)if(h)e.charAt(a)==g&&!j(g)?(h=!1):(f+=e.charAt(a));else switch(e.charAt(a)){case m:case p:case l:case s:f+="0123456789";break;case i:case d:return c;case g:j(g)?(f+=g):(h=!0);break;default:f+=e.charAt(a)}return f},_get:function(b,a){return b.settings[a]!==E?b.settings[a]:this._defaults[a]},_setDateFromField:function(a,h){var e=this;if(a.input.val()==a.lastVal)return;var i=e._get(a,n),f=a.lastVal=a.input?a.input.val():c,d,g;d=g=e._getDefaultDate(a);var j=e._getFormatConfig(a);try{d=e.parseDate(i,f,j)||g}catch(k){e.log(k),f=h?b:f}a.selectedDay=d.getDate(),a.drawMonth=a.selectedMonth=d.getMonth(),a.drawYear=a.selectedYear=d.getFullYear(),a.currentDay=f?d.getDate():0,a.currentMonth=f?d.getMonth():0,a.currentYear=f?d.getFullYear():0,e._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(h,g,k){var o=function(b){var a=new Date;return a.setDate(a.getDate()+b),a},q=function(g){try{return a.datepicker.parseDate(a.datepicker._get(h,n),g,a.datepicker._getFormatConfig(h))}catch(r){}var o=(g.toLowerCase().match(/^c/)?a.datepicker._getDate(h):c)||new Date,j=o.getFullYear(),k=o.getMonth(),b=o.getDate(),q=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=q.exec(g);while(f){switch(f[2]||m){case m:case i:b+=parseInt(f[1],e);break;case"w":case"W":b+=parseInt(f[1],e)*7;break;case p:case d:k+=parseInt(f[1],e),b=Math.min(b,a.datepicker._getDaysInMonth(j,k));break;case l:case"Y":j+=parseInt(f[1],e),b=Math.min(b,a.datepicker._getDaysInMonth(j,k))}f=q.exec(g)}return new Date(j,k,b)},f=g==c||g===b?k:typeof g==j?q(g):typeof g=="number"?isNaN(g)?k:o(g):new Date(g.getTime());return f=f&&f.toString()=="Invalid Date"?k:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):c},_setDate:function(a,e,f){var c=this,g=!e,h=a.selectedMonth,i=a.selectedYear,d=c._restrictMinMax(a,c._determineDate(a,e,new Date));a.selectedDay=a.currentDay=d.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=d.getMonth(),a.drawYear=a.selectedYear=a.currentYear=d.getFullYear(),(h!=a.selectedMonth||i!=a.selectedYear)&&!f&&c._notifyChange(a),c._adjustInstDate(a),a.input&&a.input.val(g?b:c._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==b?c:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(c){var e=this._get(c,r),b="#"+c.id;c.dpDiv.find("[data-handler]").map(function(){var c={prev:function(){window[f+D].datepicker._adjustDate(b,-e,d)},next:function(){window[f+D].datepicker._adjustDate(b,+e,d)},hide:function(){window[f+D].datepicker._hideDatepicker()},today:function(){window[f+D].datepicker._gotoToday(b)},selectDay:function(){return window[f+D].datepicker._selectDay(b,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window[f+D].datepicker._selectMonthYear(b,this,d),!1},selectYear:function(){return window[f+D].datepicker._selectMonthYear(b,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),c[this.getAttribute("data-handler")])})},_generateHTML:function(f){var N=" ui-corner-",M="calculateWeek",K="</button>",p="</span></a>",o='"><span class="ui-icon ui-icon-circle-triangle-',d=this,q=new Date;q=d._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate()));var m=d._get(f,t),xb=d._get(f,"showButtonPanel"),ab=d._get(f,"hideIfNoPrevNext"),U=d._get(f,"navigationAsDateFormat"),n=d._getNumberOfMonths(f),Ab=d._get(f,cb),eb=d._get(f,r),W=n[0]!=1||n[1]!=1,X=d._daylightSavingAdjust(f.currentDay?new Date(f.currentYear,f.currentMonth,f.currentDay):new Date(9999,9,9)),A=d._getMinMaxDate(f,B),s=d._getMinMaxDate(f,C),g=f.drawMonth-Ab,j=f.drawYear;g<0&&(g+=12,j--);if(s){var R=d._daylightSavingAdjust(new Date(s.getFullYear(),s.getMonth()-n[0]*n[1]+1,s.getDate()));R=A&&R<A?A:R;while(d._daylightSavingAdjust(new Date(j,g,1))>R)g--,g<0&&(g=11,j--)}f.drawMonth=g,f.drawYear=j;var u=d._get(f,"prevText");u=U?d.formatDate(u,d._daylightSavingAdjust(new Date(j,g-eb,1)),d._getFormatConfig(f)):u;var ib=d._canAdjustMonth(f,h,j,g)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+u+o+(m?"e":"w")+k+u+p:ab?b:'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+u+o+(m?"e":"w")+k+u+p,v=d._get(f,"nextText");v=U?d.formatDate(v,d._daylightSavingAdjust(new Date(j,g+eb,1)),d._getFormatConfig(f)):v;var kb=d._canAdjustMonth(f,1,j,g)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+v+o+(m?"w":"e")+k+v+p:ab?b:'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+v+o+(m?"w":"e")+k+v+p,S=d._get(f,"currentText"),ob=d._get(f,db)&&f.currentDay?X:q;S=U?d.formatDate(S,ob,d._getFormatConfig(f)):S;var pb=f.inline?b:'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+d._get(f,"closeText")+K,Bb=xb?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(m?pb:b)+(d._isInRange(f,ob)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+S+K:b)+(m?b:pb)+O:b,x=parseInt(d._get(f,"firstDay"),e);x=isNaN(x)?0:x;for(var sb=d._get(f,"showWeek"),ub=d._get(f,I),Cb=d._get(f,J),vb=d._get(f,"dayNamesMin"),wb=d._get(f,G),yb=d._get(f,H),bb=d._get(f,"beforeShowDay"),V=d._get(f,"showOtherMonths"),zb=d._get(f,"selectOtherMonths"),Db=d._get(f,M)||d.iso8601Week,fb=d._getDefaultDate(f),Y=b,E=0;E<n[0];E++){var gb=b;d.maxRows=4;for(var F=0;F<n[1];F++){var hb=d._daylightSavingAdjust(new Date(j,g,f.selectedDay)),D=" ui-corner-all",l=b;if(W){l+='<div class="ui-datepicker-group';if(n[1]>1)switch(F){case 0:l+=" ui-datepicker-group-first",D=N+(m?"right":L);break;case n[1]-1:l+=" ui-datepicker-group-last",D=N+(m?L:"right");break;default:l+=" ui-datepicker-group-middle",D=b}l+=k}l+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+D+k+(/all|left/.test(D)&&E==0?m?kb:ib:b)+(/all|right/.test(D)&&E==0?m?ib:kb:b)+d._generateMonthYearHeader(f,g,j,A,s,E>0||F>0,wb,yb)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var jb=sb?'<th class="ui-datepicker-week-col">'+d._get(f,"weekHeader")+"</th>":b,w=0;w<7;w++){var lb=(w+x)%7;jb+="<th"+((w+x+6)%7>=5?' class="ui-datepicker-week-end"':b)+'><span title="'+ub[lb]+k+vb[lb]+"</span></th>"}l+=jb+"</tr></thead><tbody>";var mb=d._getDaysInMonth(j,g);j==f.selectedYear&&g==f.selectedMonth&&(f.selectedDay=Math.min(f.selectedDay,mb));var nb=(d._getFirstDayOfMonth(j,g)-x+7)%7,Z=Math.ceil((nb+mb)/7),qb=W?d.maxRows>Z?d.maxRows:Z:Z;d.maxRows=qb;for(var i=d._daylightSavingAdjust(new Date(j,g,1-nb)),rb=0;rb<qb;rb++){l+="<tr>";for(var tb=sb?'<td class="ui-datepicker-week-col">'+d._get(f,M)(i)+"</td>":b,w=0;w<7;w++){var Q=bb?bb.apply(f.input?f.input[0]:c,[i]):[!0,b],y=i.getMonth()!=g,T=y&&!zb||!Q[0]||A&&i<A||s&&i>s;tb+='<td class="'+((w+x+6)%7>=5?" ui-datepicker-week-end":b)+(y?" ui-datepicker-other-month":b)+(i.getTime()==hb.getTime()&&g==f.selectedMonth&&f._keyEvent||fb.getTime()==i.getTime()&&fb.getTime()==hb.getTime()?" "+d._dayOverClass:b)+(T?" "+d._unselectableClass+" ui-state-disabled":b)+(y&&!V?b:" "+Q[1]+(i.getTime()==X.getTime()?" "+d._currentClass:b)+(i.getTime()==q.getTime()?" ui-datepicker-today":b))+'"'+((!y||V)&&Q[2]?' title="'+Q[2]+'"':b)+(T?b:' data-handler="selectDay" data-event="click" data-month="'+i.getMonth()+'" data-year="'+i.getFullYear()+'"')+">"+(y&&!V?P:T?'<span class="ui-state-default">'+i.getDate()+z:'<a class="ui-state-default'+(i.getTime()==q.getTime()?" ui-state-highlight":b)+(i.getTime()==X.getTime()?" ui-state-active":b)+(y?" ui-priority-secondary":b)+'" href="#">'+i.getDate()+"</a>")+"</td>",i.setDate(i.getDate()+1),i=d._daylightSavingAdjust(i)}l+=tb+"</tr>"}g++,g>11&&(g=0,j++),l+="</tbody></table>"+(W?O+(n[0]>0&&F==n[1]-1?'<div class="ui-datepicker-row-break"></div>':b):b),gb+=l}Y+=gb}return Y+=Bb+(a.browser.msie&&parseInt(a.browser.version,e)<7&&!f.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':b),f._keyEvent=!1,Y},_generateMonthYearHeader:function(a,u,j,k,l,q,A,B){var p="</select>",o="</option>",n=' selected="selected"',m='<option value="',i=this,s=i._get(a,"changeMonth"),t=i._get(a,"changeYear"),v=i._get(a,"showMonthAfterYear"),f='<div class="ui-datepicker-title">',h=b;if(q||!s)h+='<span class="ui-datepicker-month">'+A[u]+z;else{var C=k&&k.getFullYear()==j,D=l&&l.getFullYear()==j;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!C||g>=k.getMonth())&&(!D||g<=l.getMonth())&&(h+=m+g+'"'+(g==u?n:b)+">"+B[g]+o);h+=p}v||(f+=h+(q||!s||!t?P:b));if(!a.yearshtml){a.yearshtml=b;if(q||!t)f+='<span class="ui-datepicker-year">'+j+z;else{var w=i._get(a,"yearRange").split(":"),x=(new Date).getFullYear(),y=function(a){var b=a.match(/c[+-].*/)?j+parseInt(a.substring(1),e):a.match(/[+-].*/)?x+parseInt(a,e):parseInt(a,e);return isNaN(b)?x:b},d=y(w[0]),r=Math.max(d,y(w[1]||b));d=k?Math.max(d,k.getFullYear()):d,r=l?Math.min(r,l.getFullYear()):r,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;d<=r;d++)a.yearshtml+=m+d+'"'+(d==j?n:b)+">"+d+o;a.yearshtml+=p,f+=a.yearshtml,a.yearshtml=c}}return f+=i._get(a,"yearSuffix"),v&&(f+=(q||!s||!t?P:b)+h),f+=O,f},_adjustInstDate:function(a,e,b){var c=this,g=a.drawYear+(b=="Y"?e:0),h=a.drawMonth+(b==d?e:0),j=Math.min(a.selectedDay,c._getDaysInMonth(g,h))+(b==i?e:0),f=c._restrictMinMax(a,c._daylightSavingAdjust(new Date(g,h,j)));a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),(b==d||b=="Y")&&c._notifyChange(a)},_restrictMinMax:function(d,e){var b=this._getMinMaxDate(d,B),c=this._getMinMaxDate(d,C),a=b&&e<b?b:e;return a=c&&a>c?c:a,a},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:c,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(b){var a=this._get(b,"numberOfMonths");return a==c?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),c)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(d,c,f,g){var a=this,e=a._getNumberOfMonths(d),b=a._daylightSavingAdjust(new Date(f,g+(c<0?c:e[0]*e[1]),1));return c<0&&b.setDate(a._getDaysInMonth(b.getFullYear(),b.getMonth())),a._isInRange(d,b)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,B),d=this._getMinMaxDate(a,C);return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(b){var a=this,c=a._get(b,"shortYearCutoff");return c=typeof c!=j?c:(new Date).getFullYear()%o+parseInt(c,e),{shortYearCutoff:c,dayNamesShort:a._get(b,J),dayNames:a._get(b,I),monthNamesShort:a._get(b,H),monthNames:a._get(b,G)}},_formatDate:function(a,c,d,e){var b=this;c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var f=c?typeof c==w?c:b._daylightSavingAdjust(new Date(e,d,c)):b._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b.formatDate(b._get(a,n),f,b._getFormatConfig(a))}}),a.fn.datepicker=function(b){var c="Datepicker",d=this;if(!d.length)return d;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick).find(K).append(a.datepicker.dpDiv),a.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return typeof b!=j||b!="isDisabled"&&b!="getDate"&&b!="widget"?b=="option"&&arguments.length==2&&typeof arguments[1]==j?a.datepicker["_"+b+c].apply(a.datepicker,[d[0]].concat(e)):d.each(function(){typeof b==j?a.datepicker["_"+b+c].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+c].apply(a.datepicker,[d[0]].concat(e))},a.datepicker=new jb,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.8.22",window[f+D]=a})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.progressbar.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,d){var c="aria-valuenow",b="ui-progressbar ui-widget ui-widget-content ui-corner-all";a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){var c=this;c.element.addClass(b).attr({role:"progressbar","aria-valuemin":c.min,"aria-valuemax":c.options.max,"aria-valuenow":c._value()}),c.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(c.element),c.oldValue=c._value(),c._refreshValue()},destroy:function(){this.element.removeClass(b).removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr(c),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===d?this._value():(this._setOption("value",a),this)},_setOption:function(c,d){var b=this;c==="value"&&(b.options.value=d,b._refreshValue(),b._value()===b.options.max&&b._trigger("complete")),a.Widget.prototype._setOption.apply(b,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this,b=a.value(),d=a._percentage();a.oldValue!==b&&(a.oldValue=b,a._trigger("change")),a.valueDiv.toggle(b>a.min).toggleClass("ui-corner-right",b===a.options.max).width(d.toFixed(0)+"%"),a.element.attr(c,b)}}),a.extend(a.ui.progressbar,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
jQuery.effects||function(a,n){var e=1.70158,m=".ui-effects-wrapper",l="ec.storage.",j="toggle",f=128,i=139,b=255,h="number",g="string",d=null,p="backgroundColor",k="transparent",c=10;function r(d){var b;return d&&d.constructor==Array&&d.length==3?d:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))?[parseInt(b[1],c),parseInt(b[2],c),parseInt(b[3],c)]:(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))?[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:(b=/rgba\(0, 0, 0, 0\)/.exec(d))?s.transparent:s[a.trim(d).toLowerCase()]}function w(b,d){var c;do{c=(a.curCSS||a.css)(b,d);if(c!=""&&c!=k||a.nodeName(b,"body"))break;d=p}while(b=b.parentNode);return r(c)}function u(){var a=document.defaultView?document.defaultView.getComputedStyle(this,d):this.currentStyle,c={},b,e;if(a&&a.length&&a[0]&&a[a[0]]){var f=a.length;while(f--)b=a[f],typeof a[b]==g&&(e=b.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()}),c[e]=a[b])}else for(b in a)typeof a[b]==g&&(c[b]=a[b]);return c}function v(c){var b,e;for(b in c)e=c[b],(e==d||a.isFunction(e)||b in x||/scrollbar/.test(b)||!/color/i.test(b)&&isNaN(parseFloat(e)))&&delete c[b];return c}function y(d,b){var c={_:0},a;for(a in b)d[a]!=b[a]&&(c[a]=b[a]);return c}function o(f,b,c,e){typeof f=="object"&&(e=b,c=d,b=f,f=b.effect),a.isFunction(b)&&(e=b,c=d,b={});if(typeof b==h||a.fx.speeds[b])e=c,c=b,b={};return a.isFunction(c)&&(e=c,c=d),b=b||{},c=c||b.duration,c=a.fx.off?0:typeof c==h?c:c in a.fx.speeds?a.fx.speeds[c]:a.fx.speeds._default,e=e||b.complete,[f,b,c,e]}function q(b){return!b||typeof b==h||a.fx.speeds[b]?!0:typeof b==g&&!a.effects[b]?!0:!1}a.effects={},a.each([p,"borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,d){a.fx.step[d]=function(a){a.colorInit||(a.start=w(a.elem,d),a.end=r(a.end),a.colorInit=!0),a.elem.style[d]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],c),b),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],c),b),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],c),b),0)+")"}});var s={aqua:[0,b,b],azure:[240,b,b],beige:[245,245,220],black:[0,0,0],blue:[0,0,b],brown:[165,42,42],cyan:[0,b,b],darkblue:[0,0,i],darkcyan:[0,i,i],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[i,0,i],darkolivegreen:[85,107,47],darkorange:[b,140,0],darkorchid:[153,50,204],darkred:[i,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[b,0,b],gold:[b,215,0],green:[0,f,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,b,b],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[b,182,193],lightyellow:[b,b,224],lime:[0,b,0],magenta:[b,0,b],maroon:[f,0,0],navy:[0,0,f],olive:[f,f,0],orange:[b,165,0],pink:[b,192,203],purple:[f,0,f],violet:[f,0,f],red:[b,0,0],silver:[192,192,192],white:[b,b,b],yellow:[b,b,0],transparent:[b,b,b]},t=["add","remove",j],x={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,f,c,e){return a.isFunction(c)&&(e=c,c=d),this.queue(function(){var d="style",g=a(this),h=g.attr(d)||" ",j=v(u.call(this)),i,k=g.attr("class")||"";a.each(t,function(c,a){b[a]&&g[a+"Class"](b[a])}),i=v(u.call(this)),g.attr("class",k),g.animate(y(j,i),{queue:!1,duration:f,easing:c,complete:function(){a.each(t,function(c,a){b[a]&&g[a+"Class"](b[a])}),typeof g.attr(d)=="object"?(g.attr(d).cssText="",g.attr(d).cssText=h):g.attr(d,h),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,b,d,e,f){return typeof b=="boolean"||b===n?d?a.effects.animateClass.apply(this,[b?{add:c}:{remove:c},d,e,f]):this._toggleClass(c,b):a.effects.animateClass.apply(this,[{toggle:c},b,d,e])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.22",save:function(c,b){for(var a=0;a<b.length;a++)b[a]!==d&&c.data(l+b[a],c[0].style[b[a]])},restore:function(c,b){for(var a=0;a<b.length;a++)b[a]!==d&&c.css(b[a],c.data(l+b[a]))},setMode:function(b,a){return a==j&&(a=b.is(":hidden")?"show":"hide"),a},getBaseline:function(c,d){var a,b;switch(c[0]){case"top":a=0;break;case"middle":a=.5;break;case"bottom":a=1;break;default:a=c[0]/d.height}switch(c[1]){case"left":b=0;break;case"center":b=.5;break;case"right":b=1;break;default:b=c[1]/d.width}return{x:b,y:a}},createWrapper:function(b){var d="auto",e="relative",h="position";if(b.parent().is(m))return b.parent();var f={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},i=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:k,border:"none",margin:0,padding:0}),g=document.activeElement;try{g.id}catch(j){g=document.body}return b.wrap(i),(b[0]===g||a.contains(b[0],g))&&a(g).focus(),i=b.parent(),b.css(h)=="static"?(i.css({position:e}),b.css({position:e})):(a.extend(f,{position:b.css(h),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(e,a){f[a]=b.css(a),isNaN(parseInt(f[a],c))&&(f[a]=d)}),b.css({position:e,top:0,left:0,right:d,bottom:d})),i.css(f).show()},removeWrapper:function(b){var d,c=document.activeElement;return b.parent().is(m)?(d=b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus(),d):b},setTransition:function(c,d,e,b){return b=b||{},a.each(d,function(f,d){var a=c.cssUnit(d);a[0]>0&&(b[d]=a[0]*e+a[1])}),b}}),a.fn.extend({effect:function(g){var c=this,d=o.apply(c,arguments),b={options:d[1],duration:d[2],callback:d[3]},e=b.options.mode,f=a.effects[g];return a.fx.off||!f?e?c[e](b.duration,b.callback):c.each(function(){b.callback&&b.callback.call(this)}):f.call(c,b)},_show:a.fn.show,show:function(c){var a=this;if(q(c))return a._show.apply(a,arguments);var b=o.apply(a,arguments);return b[1].mode="show",a.effect.apply(a,b)},_hide:a.fn.hide,hide:function(c){var a=this;if(q(c))return a._hide.apply(a,arguments);var b=o.apply(a,arguments);return b[1].mode="hide",a.effect.apply(a,b)},__toggle:a.fn.toggle,toggle:function(c){var b=this;if(q(c)||typeof c=="boolean"||a.isFunction(c))return b.__toggle.apply(b,arguments);var d=o.apply(b,arguments);return d[1].mode=j,b.effect.apply(b,d)},cssUnit:function(d){var b=this.css(d),c=[];return a.each(["em","px","%","pt"],function(d,a){b.indexOf(a)>0&&(c=[parseFloat(b),a])}),c}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(e,a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(e,a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(e,a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(e,a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(e,a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(e,a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(e,a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(e,b,c,a,d){return-a*Math.cos(b/d*(Math.PI/2))+a+c},easeOutSine:function(e,a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(e,a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(f,a,b,d,e){return a==0?b:d*Math.pow(2,c*(a/e-1))+b},easeOutExpo:function(e,a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(f,a,b,d,e){return a==0?b:a==e?b+d:(a/=e/2)<1?d/2*Math.pow(2,c*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(e,a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(e,a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(e,a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(j,d,g,a,h){var i=e,b=0,f=a;if(d==0)return g;if((d/=h)==1)return g+a;b||(b=h*.3);if(f<Math.abs(a)){f=a;var i=b/4}else var i=b/(2*Math.PI)*Math.asin(a/f);return-(f*Math.pow(2,c*(d-=1))*Math.sin((d*h-i)*2*Math.PI/b))+g},easeOutElastic:function(i,c,f,a,g){var h=e,b=0,d=a;if(c==0)return f;if((c/=g)==1)return f+a;b||(b=g*.3);if(d<Math.abs(a)){d=a;var h=b/4}else var h=b/(2*Math.PI)*Math.asin(a/d);return d*Math.pow(2,-10*c)*Math.sin((c*g-h)*2*Math.PI/b)+a+f},easeInOutElastic:function(j,a,g,b,h){var i=e,d=0,f=b;if(a==0)return g;if((a/=h/2)==2)return g+b;d||(d=h*.3*1.5);if(f<Math.abs(b)){f=b;var i=d/4}else var i=d/(2*Math.PI)*Math.asin(b/f);return a<1?-.5*f*Math.pow(2,c*(a-=1))*Math.sin((a*h-i)*2*Math.PI/d)+g:f*Math.pow(2,-10*(a-=1))*Math.sin((a*h-i)*2*Math.PI/d)*.5+b+g},easeInBack:function(g,b,c,d,f,a){return a==n&&(a=e),d*(b/=f)*b*((a+1)*b-a)+c},easeOutBack:function(g,a,c,d,f,b){return b==n&&(b=e),d*((a=a/f-1)*a*((b+1)*a+b)+1)+c},easeInOutBack:function(g,a,c,d,f,b){return b==n&&(b=e),(a/=f/2)<1?d/2*a*a*(((b*=1.525)+1)*a-b)+c:d/2*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)+c},easeInBounce:function(d,e,f,b,c){return b-a.easing.easeOutBounce(d,c-e,0,b,c)+f},easeOutBounce:function(g,b,d,e,f){var c=7.5625,a=2.75;return(b/=f)<1/a?e*c*b*b+d:b<2/a?e*(c*(b-=1.5/a)*b+.75)+d:b<2.5/a?e*(c*(b-=2.25/a)*b+.9375)+d:e*(c*(b-=2.625/a)*b+.984375)+d},easeInOutBounce:function(e,c,f,d,b){return c<b/2?a.easing.easeInBounce(e,c*2,0,d,b)*.5+f:a.easing.easeOutBounce(e,c*2-b,0,d,b)*.5+d*.5+f}})}(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.blind.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){a.effects.blind=function(b){return this.queue(function(){var c="vertical",d=a(this),g=["position","top","bottom","left","right"],f=a.effects.setMode(d,b.options.mode||"hide"),h=b.options.direction||c;a.effects.save(d,g),d.show();var e=a.effects.createWrapper(d).css({overflow:"hidden"}),i=h==c?"height":"width",k=h==c?e.height():e.width();f=="show"&&e.css(i,0);var j={};j[i]=f=="show"?k:0,e.animate(j,b.duration,b.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,g),a.effects.removeWrapper(d),b.callback&&b.callback.apply(d[0],arguments),d.dequeue()})})}})(jQuery);(function(b){var e="?",f="href",c=-1,a="",d="/";b.address=function(){var l="=",s=null,g="#",L=function(a){b(b.address).trigger(b.extend(b.Event(a),function(){for(var d={},a=b.address.parameterNames(),c=0,e=a.length;c<e;c++)d[a[c]]=b.address.parameter(a[c]);return{value:b.address.value(),path:b.address.path(),pathNames:b.address.pathNames(),parameterNames:a,parameters:d,queryString:b.address.queryString()}}.call(b.address)))},G=function(){b().bind.apply(b(b.address),Array.prototype.slice.call(arguments));return b.address},I=function(){return S.pushState&&h.state!==n},V=function(){return(d+j.pathname.replace(new RegExp(h.state),a)+j.search+(B()?g+B():a)).replace(gb,d)},B=function(){var b=j.href.indexOf(g);return b!=c?y(j.href.substr(b+1),p):a},v=function(){return I()?V():B()},nb=function(){try{return top.document!==n?top:window}catch(a){return window}},qb=function(){return"javascript"},O=function(b){b=b.toString();return(h.strict&&b.substr(0,1)!=d?d:a)+b},y=function(b,c){return h.crawlable&&c?(b!==a?"!":a)+b:b.replace(/^\!/,a)},w=function(b,a){return parseInt(b.css(a),10)},ab=function(b){for(var c,d,a=0,e=b.childNodes.length;a<e;a++){try{if("src"in b.childNodes[a]&&b.childNodes[a].src)c=String(b.childNodes[a].src)}catch(f){}d=ab(b.childNodes[a]);if(d)c=d}return c},D=function(){if(!M){var a=v(),b=k!=a;if(b)if(x&&t<7)j.reload();else{x&&t<8&&h.history&&u(R,50);k=a;E(p)}}},E=function(a){L(P);L(a?U:T);u(db,10)},db=function(){if(h.tracker!=="null"&&h.tracker!==s){var e=b.isFunction(h.tracker)?h.tracker:m[h.tracker],c=(j.pathname+j.search+(b.address&&!I()?b.address.value():a)).replace(/\/\//,d).replace(/^\/$/,a);if(b.isFunction(e))e(c);else if(b.isFunction(m.urchinTracker))m.urchinTracker(c);else if(m.pageTracker!==n&&b.isFunction(m.pageTracker._trackPageview))m.pageTracker._trackPageview(c);else m._gaq!==n&&b.isFunction(m._gaq.push)&&m._gaq.push(["_trackPageview",decodeURI(c)])}},R=function(){var b=qb()+":"+p+";document.open();document.writeln('<html><head><title>"+q.title.replace("'","\\'")+"</title><script>var "+z+' = "'+encodeURIComponent(v())+(q.domain!=j.hostname?'";document.domain="'+q.domain:a)+"\";<\/script></head></html>');document.close();";if(t<7)o.src=b;else o.contentWindow.location.replace(b)},Y=function(){if(H&&fb!=c){var a,b=H.substr(fb+1).split("&");for(i=0;i<b.length;i++){a=b[i].split(l);if(/^(autoUpdate|crawlable|history|strict|wrap)$/.test(a[0]))h[a[0]]=isNaN(a[1])?/^(true|yes)$/i.test(a[1]):parseInt(a[1],10)!==0;if(/^(state|tracker)$/.test(a[0]))h[a[0]]=a[1]}H=s}k=v()},eb=function(){if(!Z){Z=r;Y();var f=function(){lb.call(this);jb.call(this)},d=b("body").ajaxComplete(f);f();if(h.wrap){var i=b("body > *").wrapAll('<div style="padding:'+(w(d,"marginTop")+w(d,"paddingTop"))+"px "+(w(d,"marginRight")+w(d,"paddingRight"))+"px "+(w(d,"marginBottom")+w(d,"paddingBottom"))+"px "+(w(d,"marginLeft")+w(d,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+z+'" style="height:100%;overflow:auto;position:relative;'+(F&&!window.statusbar.visible?"resize:both;":a)+'" />');b("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"});F&&b('<style type="text/css" />').appendTo("head").text(g+z+"::-webkit-resizer { background-color: #fff; }")}if(x&&t<8){var e=q.getElementsByTagName("frameset")[0];o=q.createElement((e?a:"i")+"frame");if(e){e.insertAdjacentElement("beforeEnd",o);e[e.cols?"cols":"rows"]+=",0";o.noResize=r;o.frameBorder=o.frameSpacing=0}else{o.style.display="none";o.style.width=o.style.height=0;o.tabIndex=c;q.body.insertAdjacentElement("afterBegin",o)}u(function(){b(o).bind("load",function(){var b=o.contentWindow;k=b[z]!==n?b[z]:a;if(k!=v()){E(p);j.hash=y(k,r)}});o.contentWindow[z]===n&&R()},50)}u(function(){L("init");E(p)},1);if(!I())if(x&&t>7||!x&&"on"+A in m)if(m.addEventListener)m.addEventListener(A,D,p);else m.attachEvent&&m.attachEvent("on"+A,D);else rb(D,50)}},lb=function(){var a,d=b("a"),h=d.size(),e=1,f=c,g=function(){if(++f!=h){a=b(d.get(f));a.is('[rel*="address:"]')&&a.address();u(g,e)}};u(g,e)},ib=function(){if(k!=v()){k=v();E(p)}},mb=function(){if(m.removeEventListener)m.removeEventListener(A,D,p);else m.detachEvent&&m.detachEvent("on"+A,D)},jb=function(){if(h.crawlable){var e=j.pathname.replace(/\/$/,a),d="_escaped_fragment_";b("body").html().indexOf(d)!=c&&b('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var h=b(this).attr(f).replace(/^http:/,a).replace(new RegExp(e+"/?$"),a);(h===a||h.indexOf(d)!=c)&&b(this).attr(f,g+h.replace(new RegExp("/(.*)\\?"+d+"=(.*)$"),"!$2"))})}},n,z="jQueryAddress",ob="string",A="hashchange",pb="init",P="change",U="internalChange",T="externalChange",r=true,p=false,h={autoUpdate:r,crawlable:p,history:r,strict:r,wrap:p},C=b.browser,t=parseFloat(b.browser.version),X=C.mozilla,x=C.msie,cb=C.opera,F=C.webkit||C.safari,J=p,m=nb(),q=m.document,S=m.history,j=m.location,rb=setInterval,u=setTimeout,gb=/\/{2,9}/g,bb=navigator.userAgent,o,tb,H=ab(document),fb=H?H.indexOf(e):c,Q=q.title,M=p,Z=p,N=r,W=r,K=p,sb={},k=v();if(x){t=parseFloat(bb.substr(bb.indexOf("MSIE")+4));if(q.documentMode&&q.documentMode!=t)t=q.documentMode!=8?7:8;var hb=q.onpropertychange;q.onpropertychange=function(){hb&&hb.call(q);if(q.title!=Q&&q.title.indexOf(g+v())!=c)q.title=Q}}J=X&&t>=1||x&&t>=6||cb&&t>=9.5||F&&t>=523;if(J){if(cb)history.navigationMode="compatible";if(document.readyState=="complete")var kb=setInterval(function(){if(b.address){eb();clearInterval(kb)}},50);else{Y();b(eb)}b(window).bind("popstate",ib).bind("unload",mb)}else if(!J&&B()!==a)j.replace(j.href.substr(0,j.href.indexOf(g)));else db();return{trigger:function(){return L(P)},bind:function(b,a,c){return G(b,a,c)},init:function(a){return G(pb,a)},change:function(a){return G(P,a)},internalChange:function(a){return G(U,a)},externalChange:function(a){return G(T,a)},baseURL:function(){var a=j.href;if(a.indexOf(g)!=c)a=a.substr(0,a.indexOf(g));if(/\/$/.test(a))a=a.substr(0,a.length-1);return a},autoUpdate:function(a){if(a!==n){h.autoUpdate=a;return this}return h.autoUpdate},crawlable:function(a){if(a!==n){h.crawlable=a;return this}return h.crawlable},history:function(a){if(a!==n){h.history=a;return this}return h.history},state:function(c){if(c!==n){h.state=c;var b=V();if(h.state!==n)if(S.pushState)b.substr(0,3)=="/#/"&&j.replace(h.state.replace(/^\/$/,a)+b.substr(2));else b!=d&&b.replace(/^\/#/,a)!=B()&&u(function(){j.replace(h.state.replace(/^\/$/,a)+"/#"+b)},1);return this}return h.state},strict:function(a){if(a!==n){h.strict=a;return this}return h.strict},tracker:function(a){if(a!==n){h.tracker=a;return this}return h.tracker},wrap:function(a){if(a!==n){h.wrap=a;return this}return h.wrap},update:function(){K=r;this.value(k);K=p;return this},title:function(a){if(a!==n){u(function(){Q=q.title=a;if(W&&o&&o.contentWindow&&o.contentWindow.document){o.contentWindow.document.title=a;W=p}!N&&X&&j.replace(j.href.indexOf(g)!=c?j.href:j.href+g);N=p},50);return this}return q.title},value:function(b){if(b!==n){b=O(b);if(b==d)b=a;if(k==b&&!K)return;N=r;k=b;if(h.autoUpdate||K){E(r);if(I())S[h.history?"pushState":"replaceState"]({},a,h.state.replace(/\/$/,a)+(k===a?d:k));else{M=r;if(F)if(h.history)j.hash=g+y(k,r);else j.replace(g+y(k,r));else if(k!=v())if(h.history)j.hash=g+y(k,r);else j.replace(g+y(k,r));x&&t<8&&h.history&&u(R,50);if(F)u(function(){M=p},1);else M=p}}return this}return!J?s:O(k)},path:function(c){var b=this;if(c!==n){var f=b.queryString(),d=b.hash();b.value(c+(f?e+f:a)+(d?g+d:a));return b}return O(k).split(g)[0].split(e)[0]},pathNames:function(){var a=this.path(),b=a.replace(gb,d).split(d);(a.substr(0,1)==d||a.length===0)&&b.splice(0,1);a.substr(a.length-1,1)==d&&b.splice(b.length-1,1);return b},queryString:function(c){var b=this;if(c!==n){var d=b.hash();b.value(b.path()+(c?e+c:a)+(d?g+d:a));return b}var f=k.split(e);return f.slice(1,f.length).join(e).split(g)[0]},parameter:function(j,d,q){var h=this,e,f;if(d!==n){var k=h.parameterNames();f=[];d=d?d.toString():a;for(e=0;e<k.length;e++){var o=k[e],g=h.parameter(o);if(typeof g==ob)g=[g];if(o==j)g=d===s||d===a?[]:q?g.concat([d]):[d];for(var m=0;m<g.length;m++)f.push(o+l+g[m])}b.inArray(j,k)==c&&d!==s&&d!==a&&f.push(j+l+d);h.queryString(f.join("&"));return h}d=h.queryString();if(d){var i=[];f=d.split("&");for(e=0;e<f.length;e++){var p=f[e].split(l);p[0]==j&&i.push(p.slice(1).join(l))}if(i.length!==0)return i.length!=1?i:i[0]}},parameterNames:function(){var d=this.queryString(),a=[];if(d&&d.indexOf(l)!=c)for(var f=d.split("&"),e=0;e<f.length;e++){var g=f[e].split(l)[0];b.inArray(g,a)==c&&a.push(g)}return a},hash:function(b){if(b!==n){this.value(k.split(g)[0]+(b?g+b:a));return this}var c=k.split(g);return c.slice(1,c.length).join(g)}}}();b.fn.address=function(g){if(!b(this).attr("address")){var h=function(e){var c=this;if(e.shiftKey||e.ctrlKey||e.metaKey)return true;if(b(c).is("a")){var h=g?g.call(c):/address:/.test(b(c).attr("rel"))?b(c).attr("rel").split("address:")[1].split(" ")[0]:b.address.state()!==undefined&&b.address.state()!=d?b(c).attr(f).replace(new RegExp("^(.*"+b.address.state()+"|\\.)"),a):b(c).attr(f).replace(/^(#\!?|\.)/,a);b.address.value(h);e.preventDefault()}};b(this).click(h).live("click",h).live("submit",function(i){var d=this;if(b(d).is("form")){var f=b(d).attr("action"),h=g?g.call(d):(f.indexOf(e)!=c?f.replace(/&$/,a):f+e)+b(d).serialize();b.address.value(h);i.preventDefault()}}).attr("address",true)}return this}})(jQuery);(function(b){var e="?",f="href",c=-1,a="",d="/";b.address=function(){var l="=",s=null,g="#",R=function(a){b(b.address).trigger(b.extend(b.Event(a),function(){for(var d={},a=b.address.parameterNames(),c=0,e=a.length;c<e;c++)d[a[c]]=b.address.parameter(a[c]);return{value:b.address.value(),path:b.address.path(),pathNames:b.address.pathNames(),parameterNames:a,parameters:d,queryString:b.address.queryString()}}.call(b.address)))},H=function(){b().bind.apply(b(b.address),Array.prototype.slice.call(arguments));return b.address},K=function(){return L.pushState&&h.state!==n},ab=function(){return(d+j.pathname.replace(new RegExp(h.state),a)+j.search+(B()?g+B():a)).replace(bb,d)},B=function(){var b=j.href.indexOf(g);return b!=c?z(j.href.substr(b+1),o):a},v=function(){return K()?ab():B()},hb=function(){return"javascript"},M=function(b){b=b.toString();return(h.strict&&b.substr(0,1)!=d?d:a)+b},z=function(b,c){return h.crawlable&&c?(b!==a?"!":a)+b:b.replace(/^\!/,a)},w=function(a,b){return parseInt(a.css(b),10)},cb=function(b){for(var c,d,a=0,e=b.childNodes.length;a<e;a++){try{if("src"in b.childNodes[a]&&b.childNodes[a].src)c=String(b.childNodes[a].src)}catch(f){}if(d=cb(b.childNodes[a]))c=d}return c},D=function(){if(!I){var a=v();if(k!=a)if(x&&t<7)j.reload();else{x&&t<8&&h.history&&u(N,50);k=a;C(o)}}},C=function(a){R(db);R(a?eb:fb);u(gb,10)},gb=function(){if(h.tracker!=="null"&&h.tracker!==s){var e=b.isFunction(h.tracker)?h.tracker:m[h.tracker],c=(j.pathname+j.search+(b.address&&!K()?b.address.value():a)).replace(/\/\//,d).replace(/^\/$/,a);if(b.isFunction(e))e(c);else if(b.isFunction(m.urchinTracker))m.urchinTracker(c);else if(m.pageTracker!==n&&b.isFunction(m.pageTracker._trackPageview))m.pageTracker._trackPageview(c);else m._gaq!==n&&b.isFunction(m._gaq.push)&&m._gaq.push(["_trackPageview",decodeURI(c)])}},N=function(){var b=hb()+":"+o+";document.open();document.writeln('<html><head><title>"+q.title.replace("'","\\'")+"</title><script>var "+A+' = "'+encodeURIComponent(v())+(q.domain!=j.hostname?'";document.domain="'+q.domain:a)+"\";<\/script></head></html>');document.close();";if(t<7)p.src=b;else p.contentWindow.location.replace(b)},S=function(){if(E&&Z!=c){var a,b=E.substr(Z+1).split("&");for(i=0;i<b.length;i++){a=b[i].split(l);if(/^(autoUpdate|crawlable|history|strict|wrap)$/.test(a[0]))h[a[0]]=isNaN(a[1])?/^(true|yes)$/i.test(a[1]):parseInt(a[1],10)!==0;if(/^(state|tracker)$/.test(a[0]))h[a[0]]=a[1]}E=s}k=v()},U=function(){if(!T){T=r;S();var d=function(){ib.call(this);jb.call(this)},e=b("body").ajaxComplete(d);d();if(h.wrap){b("body > *").wrapAll('<div style="padding:'+(w(e,"marginTop")+w(e,"paddingTop"))+"px "+(w(e,"marginRight")+w(e,"paddingRight"))+"px "+(w(e,"marginBottom")+w(e,"paddingBottom"))+"px "+(w(e,"marginLeft")+w(e,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+A+'" style="height:100%;overflow:auto;position:relative;'+(F&&!window.statusbar.visible?"resize:both;":a)+'" />');b("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"});F&&b('<style type="text/css" />').appendTo("head").text(g+A+"::-webkit-resizer { background-color: #fff; }")}if(x&&t<8){d=q.getElementsByTagName("frameset")[0];p=q.createElement((d?a:"i")+"frame");if(d){d.insertAdjacentElement("beforeEnd",p);d[d.cols?"cols":"rows"]+=",0";p.noResize=r;p.frameBorder=p.frameSpacing=0}else{p.style.display="none";p.style.width=p.style.height=0;p.tabIndex=c;q.body.insertAdjacentElement("afterBegin",p)}u(function(){b(p).bind("load",function(){var b=p.contentWindow;k=b[A]!==n?b[A]:a;if(k!=v()){C(o);j.hash=z(k,r)}});p.contentWindow[A]===n&&N()},50)}u(function(){R("init");C(o)},1);if(!K())if(x&&t>7||!x&&"on"+G in m)if(m.addEventListener)m.addEventListener(G,D,o);else m.attachEvent&&m.attachEvent("on"+G,D);else kb(D,50)}},ib=function(){var a,d=b("a"),g=d.size(),e=c,f=function(){if(++e!=g){a=b(d.get(e));a.is('[rel*="address:"]')&&a.address();u(f,1)}};u(f,1)},lb=function(){if(k!=v()){k=v();C(o)}},mb=function(){if(m.removeEventListener)m.removeEventListener(G,D,o);else m.detachEvent&&m.detachEvent("on"+G,D)},jb=function(){var d="_escaped_fragment_";if(h.crawlable){var e=j.pathname.replace(/\/$/,a);b("body").html().indexOf(d)!=c&&b('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var h=b(this).attr(f).replace(/^http:/,a).replace(new RegExp(e+"/?$"),a);(h===a||h.indexOf(d)!=c)&&b(this).attr(f,g+h.replace(/\/(.*)\?_escaped_fragment_=(.*)$/,"!$2"))})}},n,A="jQueryAddress",G="hashchange",db="change",eb="internalChange",fb="externalChange",r=true,o=false,h={autoUpdate:r,crawlable:o,history:r,strict:r,wrap:o},y=b.browser,t=parseFloat(b.browser.version),V=y.mozilla,x=y.msie,W=y.opera,F=y.webkit||y.safari,O=o,m=function(){try{return top.document!==n?top:window}catch(a){return window}}(),q=m.document,L=m.history,j=m.location,kb=setInterval,u=setTimeout,bb=/\/{2,9}/g;y=navigator.userAgent;var p,E=cb(document),Z=E?E.indexOf(e):c,P=q.title,I=o,T=o,Q=r,X=r,J=o,k=v();if(x){t=parseFloat(y.substr(y.indexOf("MSIE")+4));if(q.documentMode&&q.documentMode!=t)t=q.documentMode!=8?7:8;var Y=q.onpropertychange;q.onpropertychange=function(){Y&&Y.call(q);if(q.title!=P&&q.title.indexOf(g+v())!=c)q.title=P}}if(O=V&&t>=1||x&&t>=6||W&&t>=9.5||F&&t>=523){if(W)history.navigationMode="compatible";if(document.readyState=="complete")var nb=setInterval(function(){if(b.address){U();clearInterval(nb)}},50);else{S();b(U)}b(window).bind("popstate",lb).bind("unload",mb)}else!O&&B()!==a?j.replace(j.href.substr(0,j.href.indexOf(g))):gb();return{bind:function(a,b,c){return H(a,b,c)},init:function(a){return H("init",a)},change:function(a){return H(db,a)},internalChange:function(a){return H(eb,a)},externalChange:function(a){return H(fb,a)},baseURL:function(){var a=j.href;if(a.indexOf(g)!=c)a=a.substr(0,a.indexOf(g));if(/\/$/.test(a))a=a.substr(0,a.length-1);return a},autoUpdate:function(a){if(a!==n){h.autoUpdate=a;return this}return h.autoUpdate},crawlable:function(a){if(a!==n){h.crawlable=a;return this}return h.crawlable},history:function(a){if(a!==n){h.history=a;return this}return h.history},state:function(c){if(c!==n){h.state=c;var b=ab();if(h.state!==n)if(L.pushState)b.substr(0,3)=="/#/"&&j.replace(h.state.replace(/^\/$/,a)+b.substr(2));else b!=d&&b.replace(/^\/#/,a)!=B()&&u(function(){j.replace(h.state.replace(/^\/$/,a)+"/#"+b)},1);return this}return h.state},strict:function(a){if(a!==n){h.strict=a;return this}return h.strict},tracker:function(a){if(a!==n){h.tracker=a;return this}return h.tracker},wrap:function(a){if(a!==n){h.wrap=a;return this}return h.wrap},update:function(){J=r;this.value(k);J=o;return this},title:function(a){if(a!==n){u(function(){P=q.title=a;if(X&&p&&p.contentWindow&&p.contentWindow.document){p.contentWindow.document.title=a;X=o}!Q&&V&&j.replace(j.href.indexOf(g)!=c?j.href:j.href+g);Q=o},50);return this}return q.title},value:function(b){if(b!==n){b=M(b);if(b==d)b=a;if(k==b&&!J)return;Q=r;k=b;if(h.autoUpdate||J){C(r);if(K())L[h.history?"pushState":"replaceState"]({},a,h.state.replace(/\/$/,a)+(k===a?d:k));else{I=r;if(F)if(h.history)j.hash=g+z(k,r);else j.replace(g+z(k,r));else if(k!=v())if(h.history)j.hash=g+z(k,r);else j.replace(g+z(k,r));x&&t<8&&h.history&&u(N,50);if(F)u(function(){I=o},1);else I=o}}return this}return!O?s:M(k)},path:function(c){var b=this;if(c!==n){var d=b.queryString(),f=b.hash();b.value(c+(d?e+d:a)+(f?g+f:a));return b}return M(k).split(g)[0].split(e)[0]},pathNames:function(){var a=this.path(),b=a.replace(bb,d).split(d);(a.substr(0,1)==d||a.length===0)&&b.splice(0,1);a.substr(a.length-1,1)==d&&b.splice(b.length-1,1);return b},queryString:function(b){var c=this;if(b!==n){var d=c.hash();c.value(c.path()+(b?e+b:a)+(d?g+d:a));return c}b=k.split(e);return b.slice(1,b.length).join(e).split(g)[0]},parameter:function(j,d,g){var i=this,e,h;if(d!==n){var k=i.parameterNames();h=[];d=d?d.toString():a;for(e=0;e<k.length;e++){var m=k[e],f=i.parameter(m);if(typeof f=="string")f=[f];if(m==j)f=d===s||d===a?[]:g?f.concat([d]):[d];for(var o=0;o<f.length;o++)h.push(m+l+f[o])}b.inArray(j,k)==c&&d!==s&&d!==a&&h.push(j+l+d);i.queryString(h.join("&"));return i}if(d=i.queryString()){g=[];h=d.split("&");for(e=0;e<h.length;e++){d=h[e].split(l);d[0]==j&&g.push(d.slice(1).join(l))}if(g.length!==0)return g.length!=1?g:g[0]}},parameterNames:function(){var a=this.queryString(),d=[];if(a&&a.indexOf(l)!=c){a=a.split("&");for(var e=0;e<a.length;e++){var f=a[e].split(l)[0];b.inArray(f,d)==c&&d.push(f)}}return d},hash:function(b){if(b!==n){this.value(k.split(g)[0]+(b?g+b:a));return this}b=k.split(g);return b.slice(1,b.length).join(g)}}}();b.fn.address=function(g){if(!b(this).attr("address")){var h=function(e){var c=this;if(e.shiftKey||e.ctrlKey||e.metaKey)return true;if(b(c).is("a")){var h=g?g.call(c):/address:/.test(b(c).attr("rel"))?b(c).attr("rel").split("address:")[1].split(" ")[0]:b.address.state()!==undefined&&b.address.state()!=d?b(c).attr(f).replace(new RegExp("^(.*"+b.address.state()+"|\\.)"),a):b(c).attr(f).replace(/^(#\!?|\.)/,a);b.address.value(h);e.preventDefault()}};b(this).click(h).live("click",h).live("submit",function(h){var f=this;if(b(f).is("form")){var d=b(f).attr("action");d=g?g.call(f):(d.indexOf(e)!=c?d.replace(/&$/,a):d+e)+b(f).serialize();b.address.value(d);h.preventDefault()}}).attr("address",true)}return this}})(jQuery);(function(a){a.fn.centerInClient=function(c){var b={forceAbsolute:false,container:window,completed:null};a.extend(b,c);return this.each(function(){var d=a(this),c=a(b.container),e=b.container==window;if(b.forceAbsolute)if(e)d.remove().appendTo("body");else d.remove().appendTo(c.get(0));d.css("position","absolute");var j,i=2.2,g=(e?c.width():c.outerWidth())/2-d.outerWidth()/2,h=(e?c.height():c.outerHeight())/i-d.outerHeight()/2;if(h+c.scrollTop()<0)d.css({left:g+c.scrollLeft(),top:0});else d.css({left:g+c.scrollLeft(),top:h+c.scrollTop()});var f=d.css("zIndex");(!f||f=="auto")&&d.css("zIndex",1);b.completed&&b.completed(this)})}})(jQuery);(function(a){var s="inserthtml",r="backcolor",v="pastetext",f=null,h="on",c=true,E="transparent",b="",d=false;a.cleditor={defaultOptions:{width:500,height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:d,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:b,bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return S()}};a.fn.cleditor=function(c){var b=a([]);this.each(function(f,e){if(e.tagName=="TEXTAREA"){var d=a.data(e,V);if(!d)d=new cleditor(e,c);b=b.add(d)}});return b};var D="backgroundColor",B="button",t="buttonName",C="change",V="cleditor",l="click",i="disabled",g="<div>",nb=E,G="unselectable",fb="cleditorMain",ab="cleditorToolbar",P="cleditorGroup",M="cleditorButton",K="cleditorDisabled",Z="cleditorDivider",eb="cleditorPopup",T="cleditorList",db="cleditorColor",w="cleditorPrompt",hb="cleditorMsg",e=a.browser.msie,mb=/msie\s6/i.test(navigator.userAgent),I=/iphone|ipad|ipod/i.test(navigator.userAgent),k={},J,p=a.cleditor.buttons;a.each(p.init.split("|"),function(e,d){var a=d.split(","),c=a[0];p[c]={stripIndex:e,name:c,title:a[1]===b?c.charAt(0).toUpperCase()+c.substr(1):a[1],command:a[2]===b?c:a[2],popupName:a[3]===b?c:a[3]}});delete p.init;cleditor=function(o,f){var d=this;d.options=f=a.extend({},a.cleditor.defaultOptions,f);var m=d.$area=a(o).hide().data(V,d).blur(function(){z(d,c)}),n=d.$main=a(g).addClass(fb).width(f.width).height(f.height),k=d.$toolbar=a(g).addClass(ab).appendTo(n),i=a(g).addClass(P).appendTo(k);a.each(f.controls.split(" "),function(r,n){if(n===b)return c;if(n=="|"){var q=a(g).addClass(Z).appendTo(i);i=a(g).addClass(P).appendTo(k)}else{var j=p[n],o=a(g).data(t,j.name).addClass(M).attr("title",j.title).bind(l,a.proxy(cb,d)).appendTo(i).hover(Q,R),m={};if(j.css)m=j.css;else if(j.image)m.backgroundImage=ib(j.image);if(j.stripIndex)m.backgroundPosition=j.stripIndex*-24;o.css(m);e&&o.attr(G,h);j.popupName&&O(j.popupName,f,j.popupClass,j.popupContent,j.popupHover)}});n.insertBefore(m).append(m);if(!J){a(document).click(function(c){var b=a(c.target);!b.add(b.parents()).is("."+w)&&j()});J=c}/auto|%/.test(b+f.width+f.height)&&a(window).resize(function(){H(d)});H(d)};var Y=cleditor.prototype,jb=[["clear",lb],["disable",W],["execCommand",n],["focus",q],["hidePopups",j],["sourceMode",o,c],["refresh",H],["select",kb],["selectedHTML",bb,c],["selectedText",N,c],["showMessage",y],["updateFrame",z],["updateTextArea",L]];a.each(jb,function(b,a){Y[a[0]]=function(){for(var b=this,d=[b],c=0;c<arguments.length;c++)d.push(arguments[c]);var e=a[1].apply(b,d);return a[2]?e:b}});Y.change=function(b){var c=a(this);return b?c.bind(C,b):c.trigger(C)};function cb(x){var c=this,e=x.target,h=a.data(e,t),s=p[h],r=s.popupName,w=k[r];if(c.disabled||a(e).attr(i)==i)return;var g={editor:c,button:e,buttonName:h,popup:w,popupName:r,command:s.command,useCSS:c.options.useCSS};if(s.buttonClick&&s.buttonClick(x,g)===d)return d;if(h=="source"){if(o(c)){delete c.range;c.$area.hide();c.$frame.show();e.title=s.title}else{c.$frame.hide();c.$area.show();e.title="Show Rich Text"}setTimeout(function(){m(c)},100)}else if(!o(c))if(r){var u=a(w);if(r=="url"){if(h=="link"&&N(c)===b){y(c,"A selection is required when inserting a link.",e);return d}u.children(":button").unbind(l).bind(l,function(){var d=u.find(":text"),e=a.trim(d.val());e!==b&&n(c,g.command,e,f,g.button);d.val("http://");j();q(c)})}else r==v&&u.children(":button").unbind(l).bind(l,function(){var a=u.find("textarea"),d=a.val().replace(/\n/g,"<br />");d!==b&&n(c,g.command,d,f,g.button);a.val(b);j();q(c)});if(e!==a.data(w,B)){U(c,w,e);return d}return}else if(h=="print")c.$frame[0].contentWindow.print();else if(!n(c,g.command,g.value,g.useCSS,e))return d;q(c)}function Q(c){var b=a(c.target).closest("div");b.css(D,b.data(t)?"#FFF":"#FFC")}function R(b){a(b.target).closest("div").css(D,E)}function gb(u){var m=this,o=u.data.popup,f=u.target;if(o===k.msg||a(o).hasClass(w))return;var s=a.data(o,B),g=a.data(s,t),l=p[g],v=l.command,h,x=m.options.useCSS;if(g=="font")h=f.style.fontFamily.replace(/"/g,b);else if(g=="size"){if(f.tagName=="DIV")f=f.children[0];h=f.innerHTML}else if(g=="style")h="<"+f.tagName+">";else if(g=="color")h=X(f.style.backgroundColor);else if(g=="highlight"){h=X(f.style.backgroundColor);if(e)v=r;else x=c}var i={editor:m,button:s,buttonName:g,popup:o,popupName:l.popupName,command:v,value:h,useCSS:x};if(l.popupClick&&l.popupClick(u,i)===d)return;if(i.command&&!n(m,i.command,i.value,i.useCSS,s))return d;j();q(m)}function A(d){for(var a=1,c=0,b=0;b<d.length;++b){a=(a+d.charCodeAt(b))%65521;c=(c+a)%65521}return c<<16|a}function lb(a){a.$area.val(b);z(a)}function O(d,i,f,j,m){if(k[d])return k[d];var b=a(g).hide().addClass(eb).appendTo("body");if(j)b.html(j);else if(d=="color"){var l=i.colors.split(" ");l.length<10&&b.width("auto");a.each(l,function(d,c){a(g).appendTo(b).css(D,"#"+c)});f=db}else if(d=="font")a.each(i.fonts.split(","),function(d,c){a(g).appendTo(b).css("fontFamily",c).html(c)});else if(d=="size")a.each(i.sizes.split(","),function(d,c){a(g).appendTo(b).html("<font size="+c+">"+c+"</font>")});else if(d=="style")a.each(i.styles,function(d,c){a(g).appendTo(b).html(c[1]+c[0]+c[1].replace("<","</"))});else if(d=="url"){b.html('Enter URL:<br><input type=text value="http://" size=35><br><input type=button value="Submit">');f=w}else if(d==v){b.html("Paste your content here and click submit.<br /><textarea cols=40 rows=3></textarea><br /><input type=button value=Submit>");f=w}if(!f&&!j)f=T;b.addClass(f);e&&b.attr(G,h).find("div,font,p,h1,h2,h3,h4,h5,h6").attr(G,h);(b.hasClass(T)||m===c)&&b.children().hover(Q,R);k[d]=b[0];return b[0]}function W(a,b){if(b){a.$area.attr(i,i);a.disabled=c}else{a.$area.removeAttr(i);delete a.disabled}try{if(e)a.doc.body.contentEditable=!b;else a.doc.designMode=!b?h:"off"}catch(d){}m(a)}function n(a,b,k,h,j){x(a);if(!e){if(h===undefined||h===f)h=a.options.useCSS;a.doc.execCommand("styleWithCSS",0,h.toString())}var g=c,i;if(e&&b.toLowerCase()==s)u(a).pasteHTML(k);else{try{g=a.doc.execCommand(b,0,k||f)}catch(l){i=l.description;g=d}if(!g)if("cutcopypaste".indexOf(b)>-1)y(a,"For security reasons, your browser does not support the "+b+" command. Try using the keyboard shortcut or context menu instead.",j);else y(a,i?i:"Error executing the "+b+" command.",j)}m(a);return g}function q(a){setTimeout(function(){if(o(a))a.$area.focus();else a.$frame[0].contentWindow.focus();m(a)},0)}function u(a){return e?F(a).createRange():F(a).getRangeAt(0)}function F(a){return e?a.doc.selection:a.$frame[0].contentWindow.getSelection()}function X(a){var d=/rgba?\((\d+), (\d+), (\d+)/.exec(a),c=a.split(b);if(d){a=(d[1]<<16|d[2]<<8|d[3]).toString(16);while(a.length<6)a="0"+a}return"#"+(a.length==6?a:c[1]+c[1]+c[2]+c[2]+c[3]+c[3])}function j(){a.each(k,function(c,b){a(b).hide().unbind(l).removeData(B)})}function S(){var b="jquery.cleditor.css",c=a("link[href$='"+b+"']").attr("href");return c.substr(0,c.length-b.length)+"images/"}function ib(a){return"url("+S()+a+")"}function H(d){var k=d.$main,f=d.options;d.$frame&&d.$frame.remove();var g=d.$frame=a('<iframe frameborder="0" src="javascript:true;">').hide().appendTo(k),l=g[0].contentWindow,i=d.doc=l.document,h=a(i);i.open();i.write(f.docType+"<html>"+(f.docCSSFile===b?b:'<head><link rel="stylesheet" type="text/css" href="'+f.docCSSFile+'" /></head>')+'<body style="'+f.bodyStyle+'"></body></html>');i.close();e&&h.click(function(){q(d)});z(d);if(e){h.bind("beforedeactivate beforeactivate selectionchange keypress",function(a){if(a.type=="beforedeactivate")d.inactive=c;else if(a.type=="beforeactivate"){!d.inactive&&d.range&&d.range.length>1&&d.range.shift();delete d.inactive}else if(!d.inactive){if(!d.range)d.range=[];d.range.unshift(u(d));while(d.range.length>2)d.range.pop()}});g.focus(function(){x(d)})}(a.browser.mozilla?h:a(l)).blur(function(){L(d,c)});h.click(j).bind("keyup mouseup",function(){m(d)});if(I)d.$area.show();else g.show();a(function(){var c=d.$toolbar,e=c.children("div:last"),h=k.width(),a=e.offset().top+e.outerHeight()-c.offset().top+1;c.height(a);a=(/%/.test(b+f.height)?k.height():parseInt(f.height))-a;g.width(h).height(a);d.$area.width(h).height(mb?a-2:a);W(d,d.disabled);m(d)})}function m(b){if(!I&&a.browser.webkit&&!b.focused){b.$frame[0].contentWindow.focus();window.focus();b.focused=c}var f=b.doc;if(e)f=u(b);var g=o(b);a.each(b.$toolbar.find("."+M),function(q,n){var m=a(n),l=a.cleditor.buttons[a.data(n,t)],h=l.command,j=c;if(b.disabled)j=d;else if(l.getEnabled){var o={editor:b,button:n,buttonName:l.name,popup:k[l.popupName],popupName:l.popupName,command:l.command,useCSS:b.options.useCSS};j=l.getEnabled(o);if(j===undefined)j=c}else if((g||I)&&l.name!="source"||e&&(h=="undo"||h=="redo"))j=d;else if(h&&h!="print"){if(e&&h=="hilitecolor")h=r;if(!e||h!=s)try{j=f.queryCommandEnabled(h)}catch(p){j=d}}if(j){m.removeClass(K);m.removeAttr(i)}else{m.addClass(K);m.attr(i,i)}})}function x(a){e&&a.range&&a.range[0].select()}function kb(a){setTimeout(function(){if(o(a))a.$area.select();else n(a,"selectall")},0)}function bb(c){x(c);var d=u(c);if(e)return d.htmlText;var b=a("<layer>")[0];b.appendChild(d.cloneContents());var g=b.innerHTML;b=f;return g}function N(a){x(a);return e?u(a).text:F(a).toString()}function y(a,c,d){var b=O("msg",a.options,hb);b.innerHTML=c;U(a,b,d)}function U(k,f,d){var b,g,h,c=a(f);if(d){var i=a(d);b=i.offset();g=--b.left;h=b.top+i.height()}else{var e=k.$toolbar;b=e.offset();g=Math.floor((e.width()-c.width())/2)+b.left;h=b.top+e.height()-2}j();c.css({left:g,top:h}).show();if(d){a.data(f,B,d);c.bind(l,{popup:f},a.proxy(gb,k))}setTimeout(function(){c.find(":text,textarea").eq(0).focus().select()},100)}function o(a){return a.$area.is(":visible")}function z(b,i){var e=b.$area.val(),f=b.options,d=f.updateFrame,g=a(b.doc.body);if(d){var h=A(e);if(i&&b.areaChecksum==h)return;b.areaChecksum=h}var c=d?d(e):e;c=c.replace(/<(?=\/?script)/ig,"&lt;");if(f.updateTextArea)b.frameChecksum=A(c);if(c!=g.html()){g.html(c);a(b).triggerHandler(C)}}function L(b,i){var e=a(b.doc.body).html(),f=b.options,c=f.updateTextArea,g=b.$area;if(c){var h=A(e);if(i&&b.frameChecksum==h)return;b.frameChecksum=h}var d=c?c(e):e;if(f.updateFrame)b.areaChecksum=A(d);if(d!=g.val()){g.val(d);a(b).triggerHandler(C)}}})(jQuery);(function(a){var s="inserthtml",h="on",c=true,r="backcolor",v="pastetext",g=null,b="",d=false;function X(y){var c=this,e=y.target,h=a.data(e,t),s=m[h],r=s.popupName,u=j[r];if(!(c.disabled||a(e).attr(i)==i)){var f={editor:c,button:e,buttonName:h,popup:u,popupName:r,command:s.command,useCSS:c.options.useCSS};if(s.buttonClick&&s.buttonClick(y,f)===d)return d;if(h=="source"){if(n(c)){delete c.range;c.$area.hide();c.$frame.show();e.title=s.title}else{c.$frame.hide();c.$area.show();e.title="Show Rich Text"}setTimeout(function(){o(c)},100)}else if(!n(c))if(r){var x=a(u);if(r=="url"){if(h=="link"&&J(c)===b){C(c,"A selection is required when inserting a link.",e);return d}x.children(":button").unbind(k).bind(k,function(){var d=x.find(":text"),e=a.trim(d.val());e!==b&&p(c,f.command,e,g,f.button);d.val("http://");l();q(c)})}else r==v&&x.children(":button").unbind(k).bind(k,function(){var a=x.find("textarea"),d=a.val().replace(/\n/g,"<br />");d!==b&&p(c,f.command,d,g,f.button);a.val(b);l();q(c)});if(e!==a.data(u,w)){K(c,u,e);return d}return}else if(h=="print")c.$frame[0].contentWindow.print();else if(!p(c,f.command,f.value,f.useCSS,e))return d;q(c)}}function L(b){b=a(b.target).closest("div");b.css(D,b.data(t)?"#FFF":"#FFC")}function M(b){a(b.target).closest("div").css(D,"transparent")}function Y(o){var k=this,f=o.data.popup,g=o.target;if(!(f===j.msg||a(f).hasClass(x))){var s=a.data(f,w),h=a.data(s,t),n=m[h],u=n.command,i,v=k.options.useCSS;if(h=="font")i=g.style.fontFamily.replace(/"/g,b);else if(h=="size"){if(g.tagName=="DIV")g=g.children[0];i=g.innerHTML}else if(h=="style")i="<"+g.tagName+">";else if(h=="color")i=N(g.style.backgroundColor);else if(h=="highlight"){i=N(g.style.backgroundColor);if(e)u=r;else v=c}f={editor:k,button:s,buttonName:h,popup:f,popupName:n.popupName,command:u,value:i,useCSS:v};if(!(n.popupClick&&n.popupClick(o,f)===d)){if(f.command&&!p(k,f.command,f.value,f.useCSS,s))return d;l();q(k)}}}function y(d){for(var a=1,b=0,c=0;c<d.length;++c){a=(a+d.charCodeAt(c))%65521;b=(b+a)%65521}return b<<16|a}function O(d,g,i,k,l){if(j[d])return j[d];var b=a(f).hide().addClass(Z).appendTo("body");if(k)b.html(k);else if(d=="color"){g=g.colors.split(" ");g.length<10&&b.width("auto");a.each(g,function(d,c){a(f).appendTo(b).css(D,"#"+c)});i=ab}else if(d=="font")a.each(g.fonts.split(","),function(d,c){a(f).appendTo(b).css("fontFamily",c).html(c)});else if(d=="size")a.each(g.sizes.split(","),function(d,c){a(f).appendTo(b).html("<font size="+c+">"+c+"</font>")});else if(d=="style")a.each(g.styles,function(d,c){a(f).appendTo(b).html(c[1]+c[0]+c[1].replace("<","</"))});else if(d=="url"){b.html('Enter URL:<br><input type=text value="http://" size=35><br><input type=button value="Submit">');i=x}else if(d==v){b.html("Paste your content here and click submit.<br /><textarea cols=40 rows=3></textarea><br /><input type=button value=Submit>");i=x}if(!i&&!k)i=P;b.addClass(i);e&&b.attr(E,h).find("div,font,p,h1,h2,h3,h4,h5,h6").attr(E,h);(b.hasClass(P)||l===c)&&b.children().hover(L,M);j[d]=b[0];return b[0]}function Q(a,b){if(b){a.$area.attr(i,i);a.disabled=c}else{a.$area.removeAttr(i);delete a.disabled}try{if(e)a.doc.body.contentEditable=!b;else a.doc.designMode=!b?h:"off"}catch(d){}o(a)}function p(b,f,i,a,j){z(b);if(!e){if(a===undefined||a===g)a=b.options.useCSS;b.doc.execCommand("styleWithCSS",0,a.toString())}a=c;var h;if(e&&f.toLowerCase()==s)u(b).pasteHTML(i);else{try{a=b.doc.execCommand(f,0,i||g)}catch(k){h=k.description;a=d}a||("cutcopypaste".indexOf(f)>-1?C(b,"For security reasons, your browser does not support the "+f+" command. Try using the keyboard shortcut or context menu instead.",j):C(b,h?h:"Error executing the "+f+" command.",j))}o(b);return a}function q(a){setTimeout(function(){n(a)?a.$area.focus():a.$frame[0].contentWindow.focus();o(a)},0)}function u(a){return e?F(a).createRange():F(a).getRangeAt(0)}function F(a){return e?a.doc.selection:a.$frame[0].contentWindow.getSelection()}function N(a){var d=/rgba?\((\d+), (\d+), (\d+)/.exec(a),c=a.split(b);if(d)for(a=(d[1]<<16|d[2]<<8|d[3]).toString(16);a.length<6;)a="0"+a;return"#"+(a.length==6?a:c[1]+c[1]+c[2]+c[2]+c[3]+c[3])}function l(){a.each(j,function(c,b){a(b).hide().unbind(k).removeData(w)})}function R(){var b=a("link[href$='jquery.cleditor.css']").attr("href");return b.substr(0,b.length-19)+"images/"}function G(d){var j=d.$main,f=d.options;d.$frame&&d.$frame.remove();var g=d.$frame=a('<iframe frameborder="0" src="javascript:true;">').hide().appendTo(j),k=g[0].contentWindow,h=d.doc=k.document,i=a(h);h.open();h.write(f.docType+"<html>"+(f.docCSSFile===b?b:'<head><link rel="stylesheet" type="text/css" href="'+f.docCSSFile+'" /></head>')+'<body style="'+f.bodyStyle+'"></body></html>');h.close();e&&i.click(function(){q(d)});A(d);if(e){i.bind("beforedeactivate beforeactivate selectionchange keypress",function(a){if(a.type=="beforedeactivate")d.inactive=c;else if(a.type=="beforeactivate"){!d.inactive&&d.range&&d.range.length>1&&d.range.shift();delete d.inactive}else if(!d.inactive){if(!d.range)d.range=[];for(d.range.unshift(u(d));d.range.length>2;)d.range.pop()}});g.focus(function(){z(d)})}(a.browser.mozilla?i:a(k)).blur(function(){S(d,c)});i.click(l).bind("keyup mouseup",function(){o(d)});H?d.$area.show():g.show();a(function(){var c=d.$toolbar,a=c.children("div:last"),e=j.width();a=a.offset().top+a.outerHeight()-c.offset().top+1;c.height(a);a=(/%/.test(b+f.height)?j.height():parseInt(f.height))-a;g.width(e).height(a);d.$area.width(e).height(bb?a-2:a);Q(d,d.disabled);o(d)})}function o(b){if(!H&&a.browser.webkit&&!b.focused){b.$frame[0].contentWindow.focus();window.focus();b.focused=c}var f=b.doc;if(e)f=u(b);var g=n(b);a.each(b.$toolbar.find("."+T),function(o,n){var m=a(n),k=a.cleditor.buttons[a.data(n,t)],h=k.command,l=c;if(b.disabled)l=d;else if(k.getEnabled){l=k.getEnabled({editor:b,button:n,buttonName:k.name,popup:j[k.popupName],popupName:k.popupName,command:k.command,useCSS:b.options.useCSS});if(l===undefined)l=c}else if((g||H)&&k.name!="source"||e&&(h=="undo"||h=="redo"))l=d;else if(h&&h!="print"){if(e&&h=="hilitecolor")h=r;if(!e||h!=s)try{l=f.queryCommandEnabled(h)}catch(p){l=d}}if(l){m.removeClass(U);m.removeAttr(i)}else{m.addClass(U);m.attr(i,i)}})}function z(a){e&&a.range&&a.range[0].select()}function J(a){z(a);return e?u(a).text:F(a).toString()}function C(a,c,d){var b=O("msg",a.options,cb);b.innerHTML=c;K(a,b,d)}function K(h,f,d){var b,g,e=a(f);if(d){var c=a(d);b=c.offset();g=--b.left;b=b.top+c.height()}else{c=h.$toolbar;b=c.offset();g=Math.floor((c.width()-e.width())/2)+b.left;b=b.top+c.height()-2}l();e.css({left:g,top:b}).show();if(d){a.data(f,w,d);e.bind(k,{popup:f},a.proxy(Y,h))}setTimeout(function(){e.find(":text,textarea").eq(0).focus().select()},100)}function n(a){return a.$area.is(":visible")}function A(c,h){var b=c.$area.val(),e=c.options,d=e.updateFrame,f=a(c.doc.body);if(d){var g=y(b);if(h&&c.areaChecksum==g)return;c.areaChecksum=g}b=d?d(b):b;b=b.replace(/<(?=\/?script)/ig,"&lt;");if(e.updateTextArea)c.frameChecksum=y(b);if(b!=f.html()){f.html(b);a(c).triggerHandler(B)}}function S(b,h){var c=a(b.doc.body).html(),e=b.options,d=e.updateTextArea,f=b.$area;if(d){var g=y(c);if(h&&b.frameChecksum==g)return;b.frameChecksum=g}c=d?d(c):c;if(e.updateFrame)b.areaChecksum=y(c);if(c!=f.val()){f.val(c);a(b).triggerHandler(B)}}a.cleditor={defaultOptions:{width:500,height:250,controls:"bold italic underline strikethrough subscript superscript | font size style | color highlight removeformat | bullets numbering | outdent indent | alignleft center alignright justify | undo redo | rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C 999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C 666 900 C60 C93 990 090 399 33F 60C 939 333 600 930 963 660 060 366 009 339 636 000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:d,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:b,bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|italic,,|underline,,|strikethrough,,|subscript,,|superscript,,|font,,fontname,|size,Font Size,fontsize,|style,,formatblock,|color,Font Color,forecolor,|highlight,Text Highlight Color,hilitecolor,color|removeformat,Remove Formatting,|bullets,,insertunorderedlist|numbering,,insertorderedlist|outdent,,|indent,,|alignleft,Align Text Left,justifyleft|center,,justifycenter|alignright,Align Text Right,justifyright|justify,,justifyfull|undo,,|redo,,|rule,Insert Horizontal Rule,inserthorizontalrule|image,Insert Image,insertimage,url|link,Insert Hyperlink,createlink,url|unlink,Remove Hyperlink,|cut,,|copy,,|paste,,|pastetext,Paste as Text,inserthtml,|print,,|source,Show Source"},imagesPath:function(){return R()}};a.fn.cleditor=function(c){var b=a([]);this.each(function(f,d){if(d.tagName=="TEXTAREA"){var e=a.data(d,V);e||(e=new cleditor(d,c));b=b.add(e)}});return b};var D="backgroundColor",w="button",t="buttonName",B="change",V="cleditor",k="click",i="disabled",f="<div>",E="unselectable",T="cleditorButton",U="cleditorDisabled",Z="cleditorPopup",P="cleditorList",ab="cleditorColor",x="cleditorPrompt",cb="cleditorMsg",e=a.browser.msie,bb=/msie\s6/i.test(navigator.userAgent),H=/iphone|ipad|ipod/i.test(navigator.userAgent),j={},W,m=a.cleditor.buttons;a.each(m.init.split("|"),function(d,e){var a=e.split(","),c=a[0];m[c]={stripIndex:d,name:c,title:a[1]===b?c.charAt(0).toUpperCase()+c.substr(1):a[1],command:a[2]===b?c:a[2],popupName:a[3]===b?c:a[3]}});delete m.init;cleditor=function(q,g){var i="cleditorGroup",d=this;d.options=g=a.extend({},a.cleditor.defaultOptions,g);var n=d.$area=a(q).hide().data(V,d).blur(function(){A(d,c)}),p=d.$main=a(f).addClass("cleditorMain").width(g.width).height(g.height),o=d.$toolbar=a(f).addClass("cleditorToolbar").appendTo(p),j=a(f).addClass(i).appendTo(o);a.each(g.controls.split(" "),function(r,p){if(p===b)return c;if(p=="|"){a(f).addClass("cleditorDivider").appendTo(j);j=a(f).addClass(i).appendTo(o)}else{var l=m[p],q=a(f).data(t,l.name).addClass(T).attr("title",l.title).bind(k,a.proxy(X,d)).appendTo(j).hover(L,M),n={};if(l.css)n=l.css;else if(l.image)n.backgroundImage="url("+R()+l.image+")";if(l.stripIndex)n.backgroundPosition=l.stripIndex*-24;q.css(n);e&&q.attr(E,h);l.popupName&&O(l.popupName,g,l.popupClass,l.popupContent,l.popupHover)}});p.insertBefore(n).append(n);if(!W){a(document).click(function(b){b=a(b.target);b.add(b.parents()).is("."+x)||l()});W=c}/auto|%/.test(b+g.width+g.height)&&a(window).resize(function(){G(d)});G(d)};var I=cleditor.prototype;a.each([["clear",function(a){a.$area.val(b);A(a)}],["disable",Q],["execCommand",p],["focus",q],["hidePopups",l],["sourceMode",n,c],["refresh",G],["select",function(a){setTimeout(function(){n(a)?a.$area.select():p(a,"selectall")},0)}],["selectedHTML",function(b){z(b);b=u(b);if(e)return b.htmlText;var c=a("<layer>")[0];c.appendChild(b.cloneContents());return c.innerHTML},c],["selectedText",J,c],["showMessage",C],["updateFrame",A],["updateTextArea",S]],function(b,a){I[a[0]]=function(){for(var b=[this],c=0;c<arguments.length;c++)b.push(arguments[c]);b=a[1].apply(this,b);return a[2]?b:this}});I.change=function(b){var c=a(this);return b?c.bind(B,b):c.trigger(B)}})(jQuery);
/*
 * jQuery clueTip plugin v1.2.1
 *
 * Date: Mon Jul 18 11:21:34 2011 EDT
 * Requires: jQuery v1.3+
 *
 * Copyright 2011, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 * Examples can be found at http://plugins.learningjquery.com/cluetip/demo/
 *
*/
(function(c){var e="title",d=true,i=null,f="auto",b=false,k="appendTo",a="",h="</div>";c.cluetip={version:"1.2.1",template:["<div>",'<div class="cluetip-outer">','<h3 class="cluetip-title ui-widget-header ui-cluetip-header"></h3>','<div class="cluetip-inner ui-widget-content ui-cluetip-content"></div>',h,'<div class="cluetip-extra"></div>','<div class="cluetip-arrows ui-state-default"></div>',h].join(a),setup:{insertionType:k,insertionElement:"body"},defaults:{multiple:b,width:275,height:f,cluezIndex:97,positionBy:f,topOffset:15,leftOffset:15,local:b,localPrefix:i,localIdSuffix:i,hideLocal:d,attribute:"rel",titleAttribute:e,splitTitle:a,escapeTitle:b,showTitle:d,cluetipClass:"default",hoverClass:a,waitImage:d,cursor:"help",arrows:b,dropShadow:d,dropShadowSteps:6,sticky:b,mouseOutClose:b,activation:"hover",clickThrough:d,tracking:b,delayedClose:0,closePosition:"top",closeText:"Close",truncate:0,closeOnMouseOutOfTip:d,fx:{open:"show",openSpeed:a},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(){return d},onShow:function(){},onHide:function(){},ajaxCache:d,ajaxProcess:function(b){b=b.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,a).replace(/<(link|meta)[^>]+>/g,a);return b},ajaxSettings:{dataType:"html"},debug:b}};var g,m="cluetip ui-widget ui-widget-content ui-cluetip",l=0,j=0;c.fn.attrProp=c.fn.prop||c.fn.attr;c.fn.cluetip=function(s,y){var w="cluetip-title",r="cluetip-inner",v="cluetip-outer",q="absolute",u="cluetip-",B=".cluetip",n="cluetip",z=this,o,p,C,x,A,E;if(typeof s=="object"){y=s;s=i}if(s=="destroy"){var I=z.data(n);if(I){c(I.selector).remove();c.removeData(z,e);c.removeData(z,n);c(document).unbind(B);return z.unbind(B)}}y=c.extend(d,{},c.cluetip.defaults,y||{});l++;var H=c.cluetip.backCompat||!y.multiple?n:u+l,G="#"+H,t=c.cluetip.backCompat?"#":".",D=c.cluetip.setup.insertionType,K=c.cluetip.setup.insertionElement||"body";D=/appendTo|prependTo|insertBefore|insertAfter/.test(D)?D:k;o=c(G);if(!o.length){o=c(c.cluetip.template)[D](K).attr("id",H).css({position:q,display:"none"});var F=+y.cluezIndex;C=o.find(t+v).css({position:"relative",zIndex:F});p=o.find(t+r);x=o.find(t+w)}g=c("#cluetip-waitimage");if(!g.length)g=c("<div></div>").attr("id","cluetip-waitimage").css({position:q});g.insertBefore(o).hide();var L=(parseInt(o.css("paddingLeft"),10)||0)+(parseInt(o.css("paddingRight"),10)||0);z.each(function(vb){var ab="hideCluetip.cluetip",H="cluetip-clicked",z="mouseleave.cluetip",Q="click.cluetip",W="bottomTop",V=" cluetip-",D="area",l="mousemove.cluetip",U="cluetip-arrows",O=this,k=c(this),i=c.extend(d,{},y,c.metadata?k.metadata():c.meta?k.data():k.data(n)||{}),qb=b,cb=b,ob=b,rb=0,I=i[i.attribute]||k.attrProp(i.attribute)||k.attr(i.attribute),ib=i.cluetipClass;F=+i.cluezIndex;k.data(n,{title:O.title,zIndex:F,selector:G});if(!I&&!i.splitTitle&&!s)return d;if(i.local&&i.localPrefix)I=i.localPrefix+I;i.local&&i.hideLocal&&I&&c(I+":first").hide();var R=parseInt(i.topOffset,10),Y=parseInt(i.leftOffset,10),X,pb,jb=isNaN(parseInt(i.height,10))?f:/\D/g.test(i.height)?i.height:i.height+"px",mb,ub,T,P,fb,lb,nb=parseInt(i.width,10)||275,K=nb+L+i.dropShadowSteps,Z=this.offsetWidth,S,B,xb,M,eb,db,N=i.attribute!=e?k.attrProp(i.titleAttribute):a;if(i.splitTitle){if(N==undefined)N=a;db=N.split(i.splitTitle);N=db.shift()}if(i.escapeTitle)N=N.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;");var wb;function tb(){return b}var kb=function(e){var P=i.onActivate(k);if(P===b)return b;cb=d;o=c(G).css({position:q});C=o.find(t+v);p=o.find(t+r);x=o.find(t+w);A=o.find(t+U);i.closeOnMouseOutOfTip&&o.mouseenter(function(){ob=d;o.mouseleave(function(){hb(e);k.unbind(l);ob=b})});o.removeClass().css({width:nb});I==k.attr("href")&&k.css("cursor",i.cursor);i.hoverClass&&k.addClass(i.hoverClass);ub=T=k.offset().top;S=k.offset().left;Z=k.innerWidth();if(e.type==focus){M=S+Z/2+Y;o.css({left:B});fb=T+R}else{M=e.pageX;fb=e.pageY}if(O.tagName.toLowerCase()!=D){mb=c(document).scrollTop();eb=c(window).width()}if(i.positionBy=="fixed"){B=Z+S+Y;o.css({left:B})}else{B=Z>S&&S>K||S+Z+K+Y>eb?S-K-Y:Z+S+Y;if(O.tagName.toLowerCase()==D||i.positionBy=="mouse"||Z+K>eb)if(M+20+K>eb){o.addClass(V+ib);B=M-K-Y>=0?M-K-Y-parseInt(o.css("marginLeft"),10)+parseInt(p.css("marginRight"),10):M-K/2}else B=M+Y;var f=B<0?e.pageY+R:e.pageY;o.css({left:B>0&&i.positionBy!=W?B:M+K/2>eb?eb/2-K/2:Math.max(M-K/2,0),zIndex:k.data(n).zIndex});A.css({zIndex:k.data(n).zIndex+1})}pb=c(window).height();if(s){if(typeof s=="function")s=s.call(O);p.html(s);bb(f)}else if(db){var u=db.length;p.html(u?db[0]:a);if(u>1)for(var y=1;y<u;y++)p.append('<div class="split-body">'+db[y]+h);bb(f)}else if(!i.local&&I.indexOf("#")!==0)if(/\.(jpe?g|tiff?|gif|png)(?:\?.*)?$/i.test(I)){p.html('<img src="'+I+'" alt="'+N+'" />');bb(f)}else{var z=i.ajaxSettings.beforeSend,H=i.ajaxSettings.error,F=i.ajaxSettings.success,E=i.ajaxSettings.complete,L={cache:i.ajaxCache,url:I,beforeSend:function(b,a){z&&z.call(O,b,o,p,a);C.children().empty();i.waitImage&&g.css({top:fb+20,left:M+20,zIndex:k.data(n).zIndex-1}).show()},error:function(b,a){if(cb)if(H)H.call(O,b,a,o,p);else p.html("<i>sorry, the contents could not be loaded</i>")},success:function(a,b){qb=i.ajaxProcess.call(O,a);if(cb){F&&F.call(O,a,b,o,p);p.html(qb)}},complete:function(e,d){E&&E.call(O,e,d,o,p);var a=p[0].getElementsByTagName("img");j=a.length;for(var b=0,h=a.length;b<h;b++)if(a[b].complete)j--;if(j&&!c.browser.opera)c(a).bind("load error",function(){j--;if(j<1){g.hide();cb&&bb(f)}});else{g.hide();cb&&bb(f)}}},J=c.extend(d,{},i.ajaxSettings,L);c.ajax(J)}else if(i.local){var m=c(I+(/#\S+$/.test(I)?a:":eq("+vb+")")).clone(d).show();i.localIdSuffix&&m.attr("id",m[0].id+i.localIdSuffix);p.html(m);bb(f)}},bb=function(q){var h,j,l,g=a,d=a;o.addClass(u+ib);if(i.truncate){var r=p.text().slice(0,i.truncate)+"...";p.html(r)}N?x.show().html(N):i.showTitle?x.show().html("&nbsp;"):x.hide();if(i.sticky){h=c('<div class="cluetip-close"><a href="#">'+i.closeText+"</a></div>");i.closePosition=="bottom"?h.appendTo(p):i.closePosition==e?h.prependTo(x):h.prependTo(p);h.bind(Q,function(){gb();return b});if(i.mouseOutClose)o.bind(z,function(){gb()});else o.unbind(z)}C.css({zIndex:k.data(n).zIndex,overflow:jb==f?"visible":f,height:jb});X=jb==f?Math.max(o.outerHeight(),o.height()):parseInt(jb,10);P=T;lb=mb+pb;if(i.positionBy=="fixed")P=T-i.dropShadowSteps+R;else if(B<M&&Math.max(B,0)+K>M||i.positionBy==W)if(T+X+R>lb&&fb-mb>X+R){P=fb-X-R;d="top"}else{P=fb+R;d="bottom"}else if(T+X+R>lb)P=X>=pb?mb:lb-X-R;else if(k.css("display")=="block"||O.tagName.toLowerCase()==D||i.positionBy=="mouse")P=q-R;else P=T-i.dropShadowSteps;if(d==a)B<S?(d="left"):(d="right");j=" clue-"+d+"-"+ib+V+ib;if(ib=="rounded")j+=" ui-corner-all";o.css({top:P+"px"}).attrProp({className:m+j});if(i.arrows){if(/(left|right)/.test(d)){l=o.height()-A.height();g=B>=0&&q>0?T-P-i.dropShadowSteps:0;g=l>g?g:l;g+="px"}A.css({top:g}).show()}else A.hide();E=J(o,i);E&&E.length&&E.hide().css({height:X,width:nb,zIndex:k.data(n).zIndex-1}).show();o.hide()[i.fx.open](i.fx.openSpeed||0);c.fn.bgiframe&&o.bgiframe();if(i.delayedClose>0)rb=setTimeout(gb,i.delayedClose);i.onShow.call(O,o,p)},hb=function(){cb=b;g.hide();if(!i.sticky||/click|toggle/.test(i.activation)){gb();clearTimeout(rb)}i.hoverClass&&k.removeClass(i.hoverClass)},gb=function(e){var b=e&&e.data(n)?e:k,h=b.data(n).selector,d=c(h),g=d.find(t+r),f=d.find(t+U);d.hide().removeClass();i.onHide.call(b[0],d,g);b.removeClass(H);N&&b.attrProp(i.titleAttribute,N);b.css("cursor",a);i.arrows&&f.css({top:a})};c(document).unbind(ab).bind(ab,function(a){gb(c(a.target))});if(/click|toggle/.test(i.activation))k.bind(Q,function(d){var a=".cluetip-clicked";if(o.is(":hidden")||!k.is(a)){kb(d);c(a).removeClass(H);k.addClass(H)}else hb(d);return b});else if(i.activation=="focus"){k.bind("focus.cluetip",function(b){k.attrProp(e,a);kb(b)});k.bind("blur.cluetip",function(a){k.attrProp(e,k.data(n).title);hb(a)})}else{k[i.clickThrough?"unbind":"bind"](Q,tb);var sb=function(a){if(i.tracking==d){var b=B-a.pageX,c=P?P-a.pageY:T-a.pageY;k.bind(l,function(a){o.css({left:a.pageX+b,top:a.pageY+c})})}};if(c.fn.hoverIntent&&i.hoverIntent)k.hoverIntent({sensitivity:i.hoverIntent.sensitivity,interval:i.hoverIntent.interval,over:function(a){kb(a);sb(a)},timeout:i.hoverIntent.timeout,out:function(a){if(i.closeOnMouseOutOfTip&&ob)return;hb(a);k.unbind(l)}});else k.bind("mouseenter.cluetip",function(a){kb(a);sb(a)}).bind(z,function(a){hb(a);k.unbind(l)});k.bind("mouseover.cluetip",function(){k.attrProp(e,a)}).bind(z,function(){k.attrProp(e,k.data(n).title)})}});function J(k,h,i){var d="cluetip-drop-shadow",e=h.dropShadow&&h.dropShadowSteps?+h.dropShadowSteps:0;if(c.support.boxShadow){var l=e===0?"0 0 ":"1px 1px ";k.css(c.support.boxShadow,l+e+"px rgba(0,0,0,0.5)");return b}var g=k.find(d);if(e==g.length)return g;g.remove();for(var j=[],f=0;f<e;)j[f++]='<div style="top:'+f+"px;left:"+f+'px;"></div>';i=c(j.join(a)).css({position:q,backgroundColor:"#000",zIndex:F-1,opacity:.1}).addClass(d).prependTo("#cluetip");return i}return z};(function(){var b="undefined";c.support=c.support||{};for(var k=document.createElement("div"),h=k.style,g=["boxShadow"],e=["moz","Moz","webkit","o"],f=0,m=g.length;f<m;f++){var a=g[f],j=a.charAt(0).toUpperCase()+a.slice(1);if(typeof h[a]!==b)c.support[a]=a;else for(var d=0,l=e.length;d<l;d++)if(typeof h[e[d]+j]!==b){c.support[a]=e[d]+j;break}}k=i})();c.fn.cluetip.defaults=c.cluetip.defaults})(jQuery);
/*
 * jQuery corner plugin: simple corner rounding
 * Examples and documentation at: http://jquery.malsup.com/corner/
 * version 2.12 (23-MAY-2011)
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Dave Methvin and Mike Alsup
 */
(function(a){var d="round",g="transparent",b="width",c="div",h=document.createElement(c).style,f=h.MozBorderRadius!==undefined,i=h.WebkitBorderRadius!==undefined,e=h.borderRadius!==undefined||h.BorderRadius!==undefined,l=document.documentMode||0,n=a.browser.msie&&(a.browser.version<8&&!l||l<8),k=a.browser.msie&&function(){var a=document.createElement(c);try{a.style.setExpression(b,"0+0");a.style.removeExpression(b)}catch(d){return false}return true}();a.support=a.support||{};a.support.borderRadius=f||i||e;function m(b,c){return parseInt(a.css(b,c))||0}function j(a){a=parseInt(a).toString(16);return a.length<2?"0"+a:a}function p(c){while(c){var b=a.css(c,"backgroundColor"),d;if(b&&b!=g&&b!="rgba(0, 0, 0, 0)"){if(b.indexOf("rgb")>=0){d=b.match(/\d+/g);return"#"+j(d[0])+j(d[1])+j(d[2])}return b}if(c.nodeName.toLowerCase()=="html")break;c=c.parentNode}return"#ffffff"}function o(c,b,a){switch(c){case d:return Math.round(a*(1-Math.cos(Math.asin(b/a))));case"cool":return Math.round(a*(1+Math.cos(Math.asin(b/a))));case"sharp":return a-b;case"bite":return Math.round(a*Math.cos(Math.asin((a-b-1)/a)));case"slide":return Math.round(a*Math.atan2(b,a/b));case"jut":return Math.round(a*Math.atan2(a,a-b-1));case"curl":return Math.round(a*Math.atan(b));case"tear":return Math.round(a*Math.cos(b));case"wicked":return Math.round(a*Math.tan(b));case"long":return Math.round(a*Math.sqrt(b));case"sculpt":return Math.round(a*Math.log(a-b-1,a));case"dogfold":case"dog":return b&1?b+1:a;case"dog2":return b&2?b+1:a;case"dog3":return b&3?b+1:a;case"fray":return b%2*a;case"notch":return a;case"bevelfold":case"bevel":return b+1;case"steep":return b/2+1;case"invsteep":return(a-b)/2+1}}a.fn.corner=function(j){var h=this;if(h.length==0){if(!a.isReady&&h.selector){var q=h.selector,l=h.context;a(function(){a(q,l).corner(j)})}return h}return h.each(function(){var t="px -",B="absolute",A="relative",E="position",v="none",z="solid",s="1px",h="px",l=this,I=a(l),y=[I.attr(a.fn.corner.defaults.metaAttr)||"",j||""].join(" ").toLowerCase(),V=/keep/.test(y),R=(y.match(/cc:(#[0-9a-f]+)/)||[])[1],T=(y.match(/sc:(#[0-9a-f]+)/)||[])[1],u=parseInt((y.match(/(\d+)px/)||[])[1])||10,W=/round|bevelfold|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dogfold|dog|invsteep|steep/,S=(y.match(W)||[d])[0],U=/dogfold|bevelfold/.test(y),P={T:0,B:1},q={TL:/top|tl|left/.test(y),TR:/top|tr|right/.test(y),BL:/bottom|bl|left/.test(y),BR:/bottom|br|right/.test(y)},G,C,O,H,w,x,r,Q,L,N,K,D,M,F;if(!q.TL&&!q.TR&&!q.BL&&!q.BR)q={TL:1,TR:1,BL:1,BR:1};if(a.fn.corner.defaults.useNative&&S==d&&(e||f||i)&&!R&&!T){q.TL&&I.css(e?"border-top-left-radius":f?"-moz-border-radius-topleft":"-webkit-border-top-left-radius",u+h);q.TR&&I.css(e?"border-top-right-radius":f?"-moz-border-radius-topright":"-webkit-border-top-right-radius",u+h);q.BL&&I.css(e?"border-bottom-left-radius":f?"-moz-border-radius-bottomleft":"-webkit-border-bottom-left-radius",u+h);q.BR&&I.css(e?"border-bottom-right-radius":f?"-moz-border-radius-bottomright":"-webkit-border-bottom-right-radius",u+h);return}G=document.createElement(c);a(G).css({overflow:"hidden",height:s,minHeight:s,fontSize:s,backgroundColor:T||g,borderStyle:z});C={T:parseInt(a.css(l,"paddingTop"))||0,R:parseInt(a.css(l,"paddingRight"))||0,B:parseInt(a.css(l,"paddingBottom"))||0,L:parseInt(a.css(l,"paddingLeft"))||0};if(typeof l.style.zoom!=undefined)l.style.zoom=1;if(!V)l.style.border=v;G.style.borderColor=R||p(l.parentNode);O=a(l).outerHeight();for(H in P){w=P[H];if(w&&(q.BL||q.BR)||!w&&(q.TL||q.TR)){G.style.borderStyle="none "+(q[H+"R"]?z:v)+" none "+(q[H+"L"]?z:v);x=document.createElement(c);a(x).addClass("jquery-corner");r=x.style;w?l.appendChild(x):l.insertBefore(x,l.firstChild);if(w&&O!="auto"){if(a.css(l,E)=="static")l.style.position=A;r.position=B;r.bottom=r.left=r.padding=r.margin="0";if(k)r.setExpression(b,"this.parentNode.offsetWidth");else r.width="100%"}else if(!w&&a.browser.msie){if(a.css(l,E)=="static")l.style.position=A;r.position=B;r.top=r.left=r.right=r.padding=r.margin="0";if(k){Q=m(l,"borderLeftWidth")+m(l,"borderRightWidth");r.setExpression(b,"this.parentNode.offsetWidth - "+Q+'+ "px"')}else r.width="100%"}else{r.position=A;r.margin=!w?"-"+C.T+t+C.R+"px "+(C.T-u)+t+C.L+h:C.B-u+t+C.R+t+C.B+t+C.L+h}for(L=0;L<u;L++){N=Math.max(0,o(S,L,u));K=G.cloneNode(false);K.style.borderWidth="0 "+(q[H+"R"]?N:0)+"px 0 "+(q[H+"L"]?N:0)+h;w?x.appendChild(K):x.insertBefore(K,x.firstChild)}if(U&&a.support.boxModel){if(w&&n)continue;for(D in q){if(!q[D])continue;if(w&&(D=="TL"||D=="TR"))continue;if(!w&&(D=="BL"||D=="BR"))continue;M={position:B,border:v,margin:0,padding:0,overflow:"hidden",backgroundColor:G.style.borderColor};F=a("<div/>").css(M).css({width:u+h,height:s});switch(D){case"TL":F.css({bottom:0,left:0});break;case"TR":F.css({bottom:0,right:0});break;case"BL":F.css({top:0,left:0});break;case"BR":F.css({top:0,right:0})}x.appendChild(F[0]);var J=a("<div/>").css(M).css({top:0,bottom:0,width:s,height:u+h});switch(D){case"TL":J.css({left:u});break;case"TR":J.css({right:u});break;case"BL":J.css({left:u});break;case"BR":J.css({right:u})}x.appendChild(J[0])}}}}})};a.fn.uncorner=function(){(e||f||i)&&this.css(e?"border-radius":f?"-moz-border-radius":"-webkit-border-radius",0);a("div.jquery-corner",this).remove();return this};a.fn.corner.defaults={useNative:true,metaAttr:"data-corner"}})(jQuery);(function(c){var d="undefined",a=false,b=true;if(c.fn.dotdotdot)return;c.fn.dotdotdot=function(t){var h="update",l=this;if(l.length==0){o(b,'No element found for "'+l.selector+'".');return l}if(l.length>1)return l.each(function(){c(this).dotdotdot(t)});var d=l,u=l[0];d.bind_events=function(){d.bind("update.dot"+r,function(h){h.stopPropagation();var g=k(d);f.maxHeight=typeof f.height=="number"?f.height:g;i.empty();i.append(s.clone(b));var c=a;if(f.afterElement){c=f.afterElement.clone(b);f.afterElement.remove()}if(e(i,f))if(f.wrap=="children")n(i,f,c);else j(i,i,f,c)});d.bind("destroy.dot"+r,function(a){a.stopPropagation();d.unwatch();d.unbind_events();d.empty();d.append(s)})};d.unbind_events=function(){d.unbind(".dot"+r)};d.watch=function(){d.unwatch();if(f.watch=="window")c(window).bind("resize.dot"+r,function(){p&&clearInterval(p);p=setTimeout(function(){d.trigger(h)},10)});else{q=g(d);p=setInterval(function(){var a=g(d);if(q.width!=a.width||q.height!=a.height){d.trigger(h);q=g(d)}},100)}};d.unwatch=function(){p&&clearInterval(p)};d.find("> .dotdotdot").length>0&&d.trigger("destroy");var f=c.extend(b,{},c.fn.dotdotdot.defaults,t),r=c.fn.dotdotdot.serial++,s=d.contents(),q={},p=null,i=d.wrapInner("<"+f.wrapper+' class="dotdotdot" />').children();f.afterElement=m(f.after,i);i.css({height:"auto",width:"auto"});d.bind_events();f.watch&&d.watch();d.trigger(h);return d};c.fn.dotdotdot.serial=0;c.fn.dotdotdot.defaults={wrapper:"div",ellipsis:"... ",wrap:"word",after:null,height:null,watch:a,debug:a};function n(c,k,d){var g=c.children(),h=a;c.empty();for(var f=0,j=g.length;f<j;f++){var i=g.eq(f);c.append(i);d&&c.append(d);if(e(c,k)){i.remove();h=b;break}else d&&d.remove()}return h}function j(g,k,n,f){var o=g.contents(),b=a;g.empty();for(var l=0,p=o.length;l<p;l++){if(b)break;var m=o[l],i=c(m);if(typeof m==d)continue;g.append(i);f&&g.append(f);if(m.nodeType==3){if(e(k,n))b=h(i,k,n)}else b=j(i,k,n,f);if(!b)f&&f.remove()}return b}function h(m,o,g){var j=a,c=m[0];if(typeof c==d)return a;var k=g.wrap=="letter"?"":" ",l=f(c).split(k);i(c,l.join(k)+g.ellipsis);for(var n=l.length-1;n>=0;n--)if(e(o,g))i(c,f(c).substring(0,f(c).length-(l[n].length+k.length+g.ellipsis.length))+g.ellipsis);else{j=b;break}if(!j){var p=m.parent();m.remove();j=h(p.contents().last(),o,g)}return j}function e(a,b){return a.innerHeight()>b.maxHeight}function g(a){return{width:a.innerWidth(),height:a.innerHeight()}}function i(a,b){if(a.innerText)a.innerText=b;else if(a.nodeValue)a.nodeValue=b;else if(a.textContent)a.textContent=b}function f(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function m(b,e){if(typeof b==d)return a;if(!b)return a;if(typeof b=="string"){b=c(b,e);return b.length?b:a}return typeof b=="object"?typeof b.jquery==d?a:b:a}function k(b){var d=b.innerHeight(),c=["paddingTop","paddingBottom"];for(z=0,l=c.length;z<l;z++){var a=parseInt(b.css(c[z]));if(isNaN(a))a=0;d-=a}return d}function o(c,b){if(!c)return a;if(typeof b=="string")b="dotdotdot: "+b;else b=["dotdotdot:",b];window.console&&window.console.log&&window.console.log(b);return a}})(jQuery);$.fn.customFileInput=function(){var g="customfile-disabled",f="disabled",c="checkChange",e="customfile-focus",d="customfile-hover",a=$(this).addClass("customfile-input").mouseover(function(){b.addClass(d)}).mouseout(function(){b.removeClass(d)}).focus(function(){b.addClass(e);a.data("val",a.val())}).blur(function(){b.removeClass(e);$(this).trigger(c)}).bind("disable",function(){a.attr(f,true);b.addClass(g)}).bind("enable",function(){a.removeAttr(f);b.removeClass(g)}).bind(c,function(){a.val()&&a.val()!=a.data("val")&&a.trigger("change")}).bind("change",function(){var a=$(this).val().split(/\\/).pop(),b="customfile-ext-"+a.split(".").pop().toLowerCase();h.text(a).removeClass(h.data("fileExt")||"").addClass(b).data("fileExt",b).addClass("customfile-feedback-populated");i.text("Change")}).click(function(){a.data("val",a.val());setTimeout(function(){a.trigger(c)},100)}),b=$('<div class="customfile"></div>'),i=$('<span class="customfile-button" aria-hidden="true">Browse</span>').appendTo(b),h=$('<span class="customfile-feedback" aria-hidden="true">No file selected...</span>').appendTo(b);a.is("[disabled]")&&a.trigger("disable");b.insertAfter(a);a.appendTo(b);return $(this)};
/*
 * jQuery Form Plugin
 * version: 2.63 (29-JAN-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(a){var m="select-one",h="select",j="radio",l="undefined",g="checkbox",k="textarea",e="image",b=null,c=false,d=true,i="function";a.fn.ajaxSubmit=function(g){var n="multipart/form-data",m="method",j="action",h=this;if(!h.length){f("ajaxSubmit: skipping submit process - no element selected");return h}if(typeof g==i)g={success:g};var v=h.attr(j),q=typeof v==="string"?a.trim(v):"";if(q)q=(q.match(/^([^#]+)/)||[])[1];q=q||window.location.href||"";g=a.extend(d,{url:q,type:h[0].getAttribute(m)||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},g);var t={};h.trigger("form-pre-serialize",[h,g,t]);if(t.veto){f("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return h}if(g.beforeSerialize&&g.beforeSerialize(h,g)===c){f("ajaxSubmit: submit aborted via beforeSerialize callback");return h}var o,r,s=h.formToArray(g.semantic);if(g.data){g.extraData=g.data;for(o in g.data)if(g.data[o]instanceof Array)for(var B in g.data[o])s.push({name:o,value:g.data[o][B]});else{r=g.data[o];r=a.isFunction(r)?r():r;s.push({name:o,value:r})}}if(g.beforeSubmit&&g.beforeSubmit(s,h,g)===c){f("ajaxSubmit: submit aborted via beforeSubmit callback");return h}h.trigger("form-submit-validate",[s,h,g,t]);if(t.veto){f("ajaxSubmit: submit vetoed via form-submit-validate trigger");return h}var x=a.param(s);if(g.type.toUpperCase()=="GET"){g.url+=(g.url.indexOf("?")>=0?"&":"?")+x;g.data=b}else g.data=x;var l=h,p=[];g.resetForm&&p.push(function(){l.resetForm()});g.clearForm&&p.push(function(){l.clearForm()});if(!g.dataType&&g.target){var z=g.success||function(){};p.push(function(b){var c=g.replaceTarget?"replaceWith":"html";a(g.target)[c](b).each(z,arguments)})}else g.success&&p.push(g.success);g.success=function(d,c,f){for(var b=g.context||g,a=0,e=p.length;a<e;a++)p[a].apply(b,[d,c,f||l,l])};var y=a("input:file",h).length>0,w=n,A=l.attr("enctype")==w||l.attr("encoding")==w;if(g.iframe!==c&&(y||g.iframe||A))if(g.closeKeepAlive)a.get(g.closeKeepAlive,u);else u();else a.ajax(g);h.trigger("form-submit-notify",[h,g]);return h;function u(){var r="parsererror",p="xml",q=l[0];if(a(":input[name=submit],:input[id=submit]",q).length){alert('Error: Form elements must not have name or id of "submit".');return}var h=a.extend(d,{},a.ajaxSettings,g);h.context=h.context||h;var x="jqFormIO"+(new Date).getTime(),G="_"+x,t=a('<iframe id="'+x+'" name="'+x+'" src="'+h.iframeSrc+'" />'),s=t[0];t.css({position:"absolute",top:"-1000px",left:"-1000px"});var i={aborted:0,responseText:b,responseXML:b,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;t.attr("src",h.iframeSrc)}},v=h.global;v&&!a.active++&&a.event.trigger("ajaxStart");v&&a.event.trigger("ajaxSend",[i,h]);if(h.beforeSend&&h.beforeSend.call(h.context,i,h)===c){if(h.global)a.active--;return}if(i.aborted)return;var A=0,w=q.clk;if(w){var y=w.name;if(y&&!w.disabled){h.extraData=h.extraData||{};h.extraData[y]=w.value;if(w.type==e){h.extraData[y+".x"]=q.clk_x;h.extraData[y+".y"]=q.clk_y}}}function z(){var b="target",g=l.attr(b),i=l.attr(j);q.setAttribute(b,x);q.getAttribute(m)!="POST"&&q.setAttribute(m,"POST");q.getAttribute(j)!=h.url&&q.setAttribute(j,h.url);!h.skipEncodingOverride&&l.attr({encoding:n,enctype:n});h.timeout&&setTimeout(function(){A=d;u()},h.timeout);var e=[];try{if(h.extraData)for(var f in h.extraData)e.push(a('<input type="hidden" name="'+f+'" value="'+h.extraData[f]+'" />').appendTo(q)[0]);t.appendTo("body");s.attachEvent?s.attachEvent("onload",u):s.addEventListener("load",u,c);q.submit()}finally{q.setAttribute(j,i);if(g)q.setAttribute(b,g);else l.removeAttr(b);a(e).remove()}}if(h.forceSync)z();else setTimeout(z,10);var B,o,C=50;function u(){o=s.contentWindow?s.contentWindow.document:s.contentDocument?s.contentDocument:s.document;if(!o||o.location.href==h.iframeSrc)return;s.detachEvent?s.detachEvent("onload",u):s.removeEventListener("load",u,c);var e=d;try{if(A)throw"timeout";var g=h.dataType==p||o.XMLDocument||a.isXMLDoc(o);f("isXml="+g);if(!g&&window.opera&&(o.body==b||o.body.innerHTML==""))if(--C){f("requeing onLoad callback, DOM not available");setTimeout(u,250);return}i.responseText=o.body?o.body.innerHTML:o.documentElement?o.documentElement.innerHTML:b;i.responseXML=o.XMLDocument?o.XMLDocument:o;i.getResponseHeader=function(b){var a={"content-type":h.dataType};return a[b]};var l=/(json|script)/.test(h.dataType);if(l||h.textarea){var m=o.getElementsByTagName(k)[0];if(m)i.responseText=m.value;else if(l){var j=o.getElementsByTagName("pre")[0],n=o.getElementsByTagName("body")[0];if(j)i.responseText=j.textContent;else if(n)i.responseText=n.innerHTML}}else if(h.dataType==p&&!i.responseXML&&i.responseText!=b)i.responseXML=F(i.responseText);B=E(i,h.dataType,h)}catch(q){f("error caught:",q);e=c;i.error=q;h.error.call(h.context,i,"error",q);v&&a.event.trigger("ajaxError",[i,h,q])}if(i.aborted){f("upload aborted");e=c}if(e){h.success.call(h.context,B,"success",i);v&&a.event.trigger("ajaxSuccess",[i,h])}v&&a.event.trigger("ajaxComplete",[i,h]);v&&!--a.active&&a.event.trigger("ajaxStop");h.complete&&h.complete.call(h.context,i,e?"success":"error");setTimeout(function(){t.removeData("form-plugin-onload");t.remove();i.responseXML=b},100)}var F=a.parseXML||function(c,a){if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(c)}else a=(new DOMParser).parseFromString(c,"text/xml");return a&&a.documentElement&&a.documentElement.nodeName!=r?a:b},D=a.parseJSON||function(a){return window.eval("("+a+")")},E=function(d,c,f){var e=d.getResponseHeader("content-type")||"",g=c===p||!c&&e.indexOf(p)>=0,b=g?d.responseXML:d.responseText;if(g&&b.documentElement.nodeName===r)a.error&&a.error(r);if(f&&f.dataFilter)b=f.dataFilter(b,c);if(typeof b==="string")if(c==="json"||!c&&e.indexOf("json")>=0)b=D(b);else(c==="script"||!c&&e.indexOf("javascript")>=0)&&a.globalEval(b);return b}}};a.fn.ajaxForm=function(g){var c=this;if(c.length===0){var d={s:c.selector,c:c.context};if(!a.isReady&&d.s){f("DOM not ready, queuing ajaxForm");a(function(){a(d.s,d.c).ajaxForm(g)});return c}f("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return c}return c.ajaxFormUnbind().bind("submit.form-plugin",function(b){if(!b.isDefaultPrevented()){b.preventDefault();a(this).ajaxSubmit(g)}}).bind("click.form-plugin",function(d){var f=d.target,g=a(f);if(!g.is(":submit,input:image")){var j=g.closest(":submit");if(j.length==0)return;f=j[0]}var c=this;c.clk=f;if(f.type==e)if(d.offsetX!=undefined){c.clk_x=d.offsetX;c.clk_y=d.offsetY}else if(typeof a.fn.offset==i){var h=g.offset();c.clk_x=d.pageX-h.left;c.clk_y=d.pageY-h.top}else{c.clk_x=d.pageX-f.offsetLeft;c.clk_y=d.pageY-f.offsetTop}setTimeout(function(){c.clk=c.clk_x=c.clk_y=b},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(n){var h=[];if(this.length===0)return h;var f=this[0],p=n?f.getElementsByTagName("*"):f.elements;if(!p)return h;var k,m,c,j,i,s,r;for(k=0,s=p.length;k<s;k++){i=p[k];c=i.name;if(!c)continue;if(n&&f.clk&&i.type==e){if(!i.disabled&&f.clk==i){h.push({name:c,value:a(i).val()});h.push({name:c+".x",value:f.clk_x},{name:c+".y",value:f.clk_y})}continue}j=a.fieldValue(i,d);if(j&&j.constructor==Array)for(m=0,r=j.length;m<r;m++)h.push({name:c,value:j[m]});else if(i.type==g)h.push({name:c,value:i.checked});else j!==b&&typeof j!=l&&h.push({name:c,value:j})}if(!n&&f.clk){var q=a(f.clk),o=q[0];c=o.name;if(c&&!o.disabled&&o.type==e){h.push({name:c,value:q.val()});h.push({name:c+".x",value:f.clk_x},{name:c+".y",value:f.clk_y})}}return h};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(d){var c=[];this.each(function(){var g=this.name;if(!g)return;var e=a.fieldValue(this,d);if(e&&e.constructor==Array)for(var f=0,h=e.length;f<h;f++)c.push({name:g,value:e[f]});else e!==b&&typeof e!=l&&c.push({name:this.name,value:e})});return a.param(c)};a.fn.fieldValue=function(f){for(var d=[],e=0,g=this.length;e<g;e++){var h=this[e],c=a.fieldValue(h,f);if(c===b||typeof c==l||c.constructor==Array&&!c.length)continue;c.constructor==Array?a.merge(d,c):d.push(c)}return d};a.fieldValue=function(c,l){var u=c.name,i=c.type,r=c.tagName.toLowerCase();if(l===undefined)l=d;if(l&&(!u||c.disabled||i=="reset"||i=="button"||(i==g||i==j)&&!c.checked||(i=="submit"||i==e)&&c.form&&c.form.clk!=c||r==h&&c.selectedIndex==-1))return b;if(r==h){var n=c.selectedIndex;if(n<0)return b;for(var s=[],q=c.options,o=i==m,t=o?n+1:q.length,p=o?n:0;p<t;p++){var f=q[p];if(f.selected){var k=f.value;if(!k)k=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value;if(o)return k;s.push(k)}}return s}return a(c).val()};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this,b=a.type,d=a.tagName.toLowerCase();if(b=="text"||b=="password"||d==k)a.value="";else if(b==g||b==j)a.checked=c;else if(d==h)a.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){var a=this;(typeof a.reset==i||typeof a.reset=="object"&&!a.reset.nodeType)&&a.reset()})};a.fn.enable=function(a){if(a===undefined)a=d;return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){if(b===undefined)b=d;return this.each(function(){var d=this,f=d.type;if(f==g||f==j)d.checked=b;else if(d.tagName.toLowerCase()=="option"){var e=a(d).parent(h);b&&e[0]&&e[0].type==m&&e.find("option").selected(c);d.selected=b}})};function f(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(b);else window.opera&&window.opera.postError&&window.opera.postError(b)}}})(jQuery);
/*
 * jQuery Form Plugin
 * version: 2.83 (11-JUL-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(a){var m="select-one",h="select",j="radio",l="undefined",g="checkbox",k="textarea",f="image",b=null,c=false,d=true,i="function";a.fn.ajaxSubmit=function(g){var m="multipart/form-data",o="string",j="action",n="method",h=this;if(!h.length){e("ajaxSubmit: skipping submit process - no element selected");return h}var t,w,p,l=h;if(typeof g==i)g={success:g};t=h.attr(n);w=h.attr(j);p=typeof w===o?a.trim(w):"";p=p||window.location.href||"";if(p)p=(p.match(/^([^#]+)/)||[])[1];g=a.extend(d,{url:p,success:a.ajaxSettings.success,type:t||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},g);var v={};h.trigger("form-pre-serialize",[h,g,v]);if(v.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return h}if(g.beforeSerialize&&g.beforeSerialize(h,g)===c){e("ajaxSubmit: submit aborted via beforeSerialize callback");return h}var r,u,q=h.formToArray(g.semantic);if(g.data){g.extraData=g.data;for(r in g.data)if(g.data[r]instanceof Array)for(var E in g.data[r])q.push({name:r,value:g.data[r][E]});else{u=g.data[r];u=a.isFunction(u)?u():u;q.push({name:r,value:u})}}if(g.beforeSubmit&&g.beforeSubmit(q,h,g)===c){e("ajaxSubmit: submit aborted via beforeSubmit callback");return h}h.trigger("form-submit-validate",[q,h,g,v]);if(v.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return h}var A=a.param(q);if(g.type.toUpperCase()=="GET"){g.url+=(g.url.indexOf("?")>=0?"&":"?")+A;g.data=b}else g.data=A;var s=[];g.resetForm&&s.push(function(){l.resetForm()});g.clearForm&&s.push(function(){l.clearForm()});if(!g.dataType&&g.target){var C=g.success||function(){};s.push(function(b){var c=g.replaceTarget?"replaceWith":"html";a(g.target)[c](b).each(C,arguments)})}else g.success&&s.push(g.success);g.success=function(d,c,f){for(var b=g.context||g,a=0,e=s.length;a<e;a++)s[a].apply(b,[d,c,f||l,l])};var B=a("input:file",h).length>0,z=m,D=l.attr("enctype")==z||l.attr("encoding")==z;if(g.iframe!==c&&(B||g.iframe||D))if(g.closeKeepAlive)a.get(g.closeKeepAlive,function(){x(q)});else x(q);else{if(a.browser.msie&&t=="get"){var y=l[0].getAttribute(n);if(typeof y===o)g.type=y}a.ajax(g)}h.trigger("form-submit-notify",[h,g]);return h;function x(H){var q="parsererror",p="xml",x="ajaxError",r="timeout",u=l[0],N,E,h,y,D,v,w,i,B,z,G,C,R=!!a.fn.prop;if(H)for(E=0;E<H.length;E++){N=a(u[H[E].name]);N[R?"prop":"attr"]("disabled",c)}if(a(":input[name=submit],:input[id=submit]",u).length){alert('Error: Form elements must not have name or id of "submit".');return}h=a.extend(d,{},a.ajaxSettings,g);h.context=h.context||h;D="jqFormIO"+(new Date).getTime();if(h.iframeTarget){v=a(h.iframeTarget);z=v.attr("name");if(z==b)v.attr("name",D);else D=z}else{v=a('<iframe name="'+D+'" src="'+h.iframeSrc+'" />');v.css({position:"absolute",top:"-1000px",left:"-1000px"})}w=v[0];i={aborted:0,responseText:b,responseXML:b,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(c){var b=c===r?r:"aborted";e("aborting upload... "+b);this.aborted=1;v.attr("src",h.iframeSrc);i.error=b;h.error&&h.error.call(h.context,i,b,c);y&&a.event.trigger(x,[i,h,b]);h.complete&&h.complete.call(h.context,i,b)}};y=h.global;y&&!a.active++&&a.event.trigger("ajaxStart");y&&a.event.trigger("ajaxSend",[i,h]);if(h.beforeSend&&h.beforeSend.call(h.context,i,h)===c){if(h.global)a.active--;return}if(i.aborted)return;B=u.clk;if(B){z=B.name;if(z&&!B.disabled){h.extraData=h.extraData||{};h.extraData[z]=B.value;if(B.type==f){h.extraData[z+".x"]=u.clk_x;h.extraData[z+".y"]=u.clk_y}}}var I=1,F=2;function L(a){return a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document}function K(){var b="target",o=l.attr(b),i=l.attr(j);u.setAttribute(b,D);!t&&u.setAttribute(n,"POST");i!=h.url&&u.setAttribute(j,h.url);!h.skipEncodingOverride&&(!t||/post/i.test(t))&&l.attr({encoding:m,enctype:m});if(h.timeout)C=setTimeout(function(){G=d;A(I)},h.timeout);function g(){try{var a=L(w).readyState;e("state = "+a);a.toLowerCase()=="uninitialized"&&setTimeout(g,50)}catch(b){e("Server abort: ",b," (",b.name,")");A(F);C&&clearTimeout(C);C=undefined}}var f=[];try{if(h.extraData)for(var k in h.extraData)f.push(a('<input type="hidden" name="'+k+'" />').attr("value",h.extraData[k]).appendTo(u)[0]);if(!h.iframeTarget){v.appendTo("body");w.attachEvent?w.attachEvent("onload",A):w.addEventListener("load",A,c)}setTimeout(g,15);u.submit()}finally{u.setAttribute(j,i);if(o)u.setAttribute(b,o);else l.removeAttr(b);a(f).remove()}}if(h.forceSync)K();else setTimeout(K,10);var M,s,O=50,J;function A(u){var j="statusText",f="success";if(i.aborted||J)return;try{s=L(w)}catch(E){e("cannot access response document: ",E);u=F}if(u===I&&i){i.abort(r);return}else if(u==F&&i){i.abort("server abort");return}if(!s||s.location.href==h.iframeSrc)if(!G)return;w.detachEvent?w.detachEvent("onload",A):w.removeEventListener("load",A,c);var g=f,l;try{if(G)throw r;var t=h.dataType==p||s.XMLDocument||a.isXMLDoc(s);e("isXml="+t);if(!t&&window.opera&&(s.body==b||s.body.innerHTML==""))if(--O){e("requeing onLoad callback, DOM not available");setTimeout(A,250);return}var m=s.body?s.body:s.documentElement;i.responseText=m?m.innerHTML:b;i.responseXML=s.XMLDocument?s.XMLDocument:s;if(t)h.dataType=p;i.getResponseHeader=function(b){var a={"content-type":h.dataType};return a[b]};if(m){i.status=Number(m.getAttribute("status"))||i.status;i.statusText=m.getAttribute(j)||i.statusText}var D=h.dataType||"",z=/(json|script|text)/.test(D.toLowerCase());if(z||h.textarea){var o=s.getElementsByTagName(k)[0];if(o){i.responseText=o.value;i.status=Number(o.getAttribute("status"))||i.status;i.statusText=o.getAttribute(j)||i.statusText}else if(z){var n=s.getElementsByTagName("pre")[0],B=s.getElementsByTagName("body")[0];if(n)i.responseText=n.textContent?n.textContent:n.innerHTML;else if(B)i.responseText=B.innerHTML}}else if(h.dataType==p&&!i.responseXML&&i.responseText!=b)i.responseXML=S(i.responseText);try{M=Q(i,h.dataType,h)}catch(u){g=q;i.error=l=u||g}}catch(u){e("error caught: ",u);g="error";i.error=l=u||g}if(i.aborted){e("upload aborted");g=b}if(i.status)g=i.status>=200&&i.status<300||i.status===304?f:"error";if(g===f){h.success&&h.success.call(h.context,M,f,i);y&&a.event.trigger("ajaxSuccess",[i,h])}else if(g){if(l==undefined)l=i.statusText;h.error&&h.error.call(h.context,i,g,l);y&&a.event.trigger(x,[i,h,l])}y&&a.event.trigger("ajaxComplete",[i,h]);y&&!--a.active&&a.event.trigger("ajaxStop");h.complete&&h.complete.call(h.context,i,g);J=d;h.timeout&&clearTimeout(C);setTimeout(function(){!h.iframeTarget&&v.remove();i.responseXML=b},100)}var S=a.parseXML||function(c,a){if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(c)}else a=(new DOMParser).parseFromString(c,"text/xml");return a&&a.documentElement&&a.documentElement.nodeName!=q?a:b},P=a.parseJSON||function(a){return window.eval("("+a+")")},Q=function(d,c,f){var e=d.getResponseHeader("content-type")||"",g=c===p||!c&&e.indexOf(p)>=0,b=g?d.responseXML:d.responseText;if(g&&b.documentElement.nodeName===q)a.error&&a.error(q);if(f&&f.dataFilter)b=f.dataFilter(b,c);if(typeof b===o)if(c==="json"||!c&&e.indexOf("json")>=0)b=P(b);else(c==="script"||!c&&e.indexOf("javascript")>=0)&&a.globalEval(b);return b}}};a.fn.ajaxForm=function(g){var c=this;if(c.length===0){var d={s:c.selector,c:c.context};if(!a.isReady&&d.s){e("DOM not ready, queuing ajaxForm");a(function(){a(d.s,d.c).ajaxForm(g)});return c}e("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return c}return c.ajaxFormUnbind().bind("submit.form-plugin",function(b){if(!b.isDefaultPrevented()){b.preventDefault();a(this).ajaxSubmit(g)}}).bind("click.form-plugin",function(d){var e=d.target,g=a(e);if(!g.is(":submit,input:image")){var j=g.closest(":submit");if(j.length==0)return;e=j[0]}var c=this;c.clk=e;if(e.type==f)if(d.offsetX!=undefined){c.clk_x=d.offsetX;c.clk_y=d.offsetY}else if(typeof a.fn.offset==i){var h=g.offset();c.clk_x=d.pageX-h.left;c.clk_y=d.pageY-h.top}else{c.clk_x=d.pageX-e.offsetLeft;c.clk_y=d.pageY-e.offsetTop}setTimeout(function(){c.clk=c.clk_x=c.clk_y=b},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(n){var h=[];if(this.length===0)return h;var e=this[0],p=n?e.getElementsByTagName("*"):e.elements;if(!p)return h;var k,m,c,j,i,s,r;for(k=0,s=p.length;k<s;k++){i=p[k];c=i.name;if(!c)continue;if(n&&e.clk&&i.type==f){if(!i.disabled&&e.clk==i){h.push({name:c,value:a(i).val()});h.push({name:c+".x",value:e.clk_x},{name:c+".y",value:e.clk_y})}continue}j=a.fieldValue(i,d);if(j&&j.constructor==Array)for(m=0,r=j.length;m<r;m++)h.push({name:c,value:j[m]});else if(i.type==g)h.push({name:c,value:i.checked});else j!==b&&typeof j!=l&&h.push({name:c,value:j})}if(!n&&e.clk){var q=a(e.clk),o=q[0];c=o.name;if(c&&!o.disabled&&o.type==f){h.push({name:c,value:q.val()});h.push({name:c+".x",value:e.clk_x},{name:c+".y",value:e.clk_y})}}return h};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(d){var c=[];this.each(function(){var g=this.name;if(!g)return;var e=a.fieldValue(this,d);if(e&&e.constructor==Array)for(var f=0,h=e.length;f<h;f++)c.push({name:g,value:e[f]});else e!==b&&typeof e!=l&&c.push({name:this.name,value:e})});return a.param(c)};a.fn.fieldValue=function(f){for(var d=[],e=0,g=this.length;e<g;e++){var h=this[e],c=a.fieldValue(h,f);if(c===b||typeof c==l||c.constructor==Array&&!c.length)continue;c.constructor==Array?a.merge(d,c):d.push(c)}return d};a.fieldValue=function(c,l){var u=c.name,i=c.type,r=c.tagName.toLowerCase();if(l===undefined)l=d;if(l&&(!u||c.disabled||i=="reset"||i=="button"||(i==g||i==j)&&!c.checked||(i=="submit"||i==f)&&c.form&&c.form.clk!=c||r==h&&c.selectedIndex==-1))return b;if(r==h){var n=c.selectedIndex;if(n<0)return b;for(var s=[],q=c.options,o=i==m,t=o?n+1:q.length,p=o?n:0;p<t;p++){var e=q[p];if(e.selected){var k=e.value;if(!k)k=e.attributes&&e.attributes.value&&!e.attributes.value.specified?e.text:e.value;if(o)return k;s.push(k)}}return s}return a(c).val()};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var b=this,d=b.type,e=b.tagName.toLowerCase();if(a.test(d)||e==k)b.value="";else if(d==g||d==j)b.checked=c;else if(e==h)b.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){var a=this;(typeof a.reset==i||typeof a.reset=="object"&&!a.reset.nodeType)&&a.reset()})};a.fn.enable=function(a){if(a===undefined)a=d;return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){if(b===undefined)b=d;return this.each(function(){var d=this,f=d.type;if(f==g||f==j)d.checked=b;else if(d.tagName.toLowerCase()=="option"){var e=a(d).parent(h);b&&e[0]&&e[0].type==m&&e.find("option").selected(c);d.selected=b}})};function e(){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(a);else window.opera&&window.opera.postError&&window.opera.postError(a)}})(jQuery);
/*
 * jQuery Form Plugin
 * version: 2.64 (25-FEB-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(a){var m="select-one",h="select",j="radio",l="undefined",g="checkbox",k="textarea",e="image",b=null,c=false,d=true,i="function";a.fn.ajaxSubmit=function(g){var n="multipart/form-data",m="method",j="action",h=this;if(!h.length){f("ajaxSubmit: skipping submit process - no element selected");return h}if(typeof g==i)g={success:g};var v=h.attr(j),q=typeof v==="string"?a.trim(v):"";if(q)q=(q.match(/^([^#]+)/)||[])[1];q=q||window.location.href||"";g=a.extend(d,{url:q,type:h[0].getAttribute(m)||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},g);var t={};h.trigger("form-pre-serialize",[h,g,t]);if(t.veto){f("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return h}if(g.beforeSerialize&&g.beforeSerialize(h,g)===c){f("ajaxSubmit: submit aborted via beforeSerialize callback");return h}var o,r,s=h.formToArray(g.semantic);if(g.data){g.extraData=g.data;for(o in g.data)if(g.data[o]instanceof Array)for(var B in g.data[o])s.push({name:o,value:g.data[o][B]});else{r=g.data[o];r=a.isFunction(r)?r():r;s.push({name:o,value:r})}}if(g.beforeSubmit&&g.beforeSubmit(s,h,g)===c){f("ajaxSubmit: submit aborted via beforeSubmit callback");return h}h.trigger("form-submit-validate",[s,h,g,t]);if(t.veto){f("ajaxSubmit: submit vetoed via form-submit-validate trigger");return h}var x=a.param(s);if(g.type.toUpperCase()=="GET"){g.url+=(g.url.indexOf("?")>=0?"&":"?")+x;g.data=b}else g.data=x;var l=h,p=[];g.resetForm&&p.push(function(){l.resetForm()});g.clearForm&&p.push(function(){l.clearForm()});if(!g.dataType&&g.target){var z=g.success||function(){};p.push(function(b){var c=g.replaceTarget?"replaceWith":"html";a(g.target)[c](b).each(z,arguments)})}else g.success&&p.push(g.success);g.success=function(d,c,f){for(var b=g.context||g,a=0,e=p.length;a<e;a++)p[a].apply(b,[d,c,f||l,l])};var y=a("input:file",h).length>0,w=n,A=l.attr("enctype")==w||l.attr("encoding")==w;if(g.iframe!==c&&(y||g.iframe||A))if(g.closeKeepAlive)a.get(g.closeKeepAlive,u);else u();else a.ajax(g);h.trigger("form-submit-notify",[h,g]);return h;function u(){var r="parsererror",p="xml",q=l[0];if(a(":input[name=submit],:input[id=submit]",q).length){alert('Error: Form elements must not have name or id of "submit".');return}var h=a.extend(d,{},a.ajaxSettings,g);h.context=h.context||h;var x="jqFormIO"+(new Date).getTime(),G="_"+x,t=a('<iframe id="'+x+'" name="'+x+'" src="'+h.iframeSrc+'" />'),s=t[0];t.css({position:"absolute",top:"-1000px",left:"-1000px"});var i={aborted:0,responseText:b,responseXML:b,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;t.attr("src",h.iframeSrc)}},v=h.global;v&&!a.active++&&a.event.trigger("ajaxStart");v&&a.event.trigger("ajaxSend",[i,h]);if(h.beforeSend&&h.beforeSend.call(h.context,i,h)===c){if(h.global)a.active--;return}if(i.aborted)return;var A=0,w=q.clk;if(w){var y=w.name;if(y&&!w.disabled){h.extraData=h.extraData||{};h.extraData[y]=w.value;if(w.type==e){h.extraData[y+".x"]=q.clk_x;h.extraData[y+".y"]=q.clk_y}}}function z(){var b="target",g=l.attr(b),i=l.attr(j);q.setAttribute(b,x);q.getAttribute(m)!="POST"&&q.setAttribute(m,"POST");q.getAttribute(j)!=h.url&&q.setAttribute(j,h.url);!h.skipEncodingOverride&&l.attr({encoding:n,enctype:n});h.timeout&&setTimeout(function(){A=d;u()},h.timeout);var e=[];try{if(h.extraData)for(var f in h.extraData)e.push(a('<input type="hidden" name="'+f+'" value="'+h.extraData[f]+'" />').appendTo(q)[0]);t.appendTo("body");s.attachEvent?s.attachEvent("onload",u):s.addEventListener("load",u,c);q.submit()}finally{q.setAttribute(j,i);if(g)q.setAttribute(b,g);else l.removeAttr(b);a(e).remove()}}if(h.forceSync)z();else setTimeout(z,10);var B,o,C=50;function u(){o=s.contentWindow?s.contentWindow.document:s.contentDocument?s.contentDocument:s.document;if(!o||o.location.href==h.iframeSrc)return;s.detachEvent?s.detachEvent("onload",u):s.removeEventListener("load",u,c);var e=d;try{if(A)throw"timeout";var g=h.dataType==p||o.XMLDocument||a.isXMLDoc(o);f("isXml="+g);if(!g&&window.opera&&(o.body==b||o.body.innerHTML==""))if(--C){f("requeing onLoad callback, DOM not available");setTimeout(u,250);return}i.responseText=o.body?o.body.innerHTML:o.documentElement?o.documentElement.innerHTML:b;i.responseXML=o.XMLDocument?o.XMLDocument:o;i.getResponseHeader=function(b){var a={"content-type":h.dataType};return a[b]};var l=/(json|script)/.test(h.dataType);if(l||h.textarea){var m=o.getElementsByTagName(k)[0];if(m)i.responseText=m.value;else if(l){var j=o.getElementsByTagName("pre")[0],n=o.getElementsByTagName("body")[0];if(j)i.responseText=j.textContent;else if(n)i.responseText=n.innerHTML}}else if(h.dataType==p&&!i.responseXML&&i.responseText!=b)i.responseXML=F(i.responseText);B=E(i,h.dataType,h)}catch(q){f("error caught:",q);e=c;i.error=q;h.error&&h.error.call(h.context,i,"error",q);v&&a.event.trigger("ajaxError",[i,h,q])}if(i.aborted){f("upload aborted");e=c}if(e){h.success&&h.success.call(h.context,B,"success",i);v&&a.event.trigger("ajaxSuccess",[i,h])}v&&a.event.trigger("ajaxComplete",[i,h]);v&&!--a.active&&a.event.trigger("ajaxStop");h.complete&&h.complete.call(h.context,i,e?"success":"error");setTimeout(function(){t.removeData("form-plugin-onload");t.remove();i.responseXML=b},100)}var F=a.parseXML||function(c,a){if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(c)}else a=(new DOMParser).parseFromString(c,"text/xml");return a&&a.documentElement&&a.documentElement.nodeName!=r?a:b},D=a.parseJSON||function(a){return window.eval("("+a+")")},E=function(d,c,f){var e=d.getResponseHeader("content-type")||"",g=c===p||!c&&e.indexOf(p)>=0,b=g?d.responseXML:d.responseText;if(g&&b.documentElement.nodeName===r)a.error&&a.error(r);if(f&&f.dataFilter)b=f.dataFilter(b,c);if(typeof b==="string")if(c==="json"||!c&&e.indexOf("json")>=0)b=D(b);else(c==="script"||!c&&e.indexOf("javascript")>=0)&&a.globalEval(b);return b}}};a.fn.ajaxForm=function(g){var c=this;if(c.length===0){var d={s:c.selector,c:c.context};if(!a.isReady&&d.s){f("DOM not ready, queuing ajaxForm");a(function(){a(d.s,d.c).ajaxForm(g)});return c}f("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return c}return c.ajaxFormUnbind().bind("submit.form-plugin",function(b){if(!b.isDefaultPrevented()){b.preventDefault();a(this).ajaxSubmit(g)}}).bind("click.form-plugin",function(d){var f=d.target,g=a(f);if(!g.is(":submit,input:image")){var j=g.closest(":submit");if(j.length==0)return;f=j[0]}var c=this;c.clk=f;if(f.type==e)if(d.offsetX!=undefined){c.clk_x=d.offsetX;c.clk_y=d.offsetY}else if(typeof a.fn.offset==i){var h=g.offset();c.clk_x=d.pageX-h.left;c.clk_y=d.pageY-h.top}else{c.clk_x=d.pageX-f.offsetLeft;c.clk_y=d.pageY-f.offsetTop}setTimeout(function(){c.clk=c.clk_x=c.clk_y=b},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(n){var h=[];if(this.length===0)return h;var f=this[0],p=n?f.getElementsByTagName("*"):f.elements;if(!p)return h;var k,m,c,j,i,s,r;for(k=0,s=p.length;k<s;k++){i=p[k];c=i.name;if(!c)continue;if(n&&f.clk&&i.type==e){if(!i.disabled&&f.clk==i){h.push({name:c,value:a(i).val()});h.push({name:c+".x",value:f.clk_x},{name:c+".y",value:f.clk_y})}continue}j=a.fieldValue(i,d);if(j&&j.constructor==Array)for(m=0,r=j.length;m<r;m++)h.push({name:c,value:j[m]});else if(i.type==g)h.push({name:c,value:i.checked});else j!==b&&typeof j!=l&&h.push({name:c,value:j})}if(!n&&f.clk){var q=a(f.clk),o=q[0];c=o.name;if(c&&!o.disabled&&o.type==e){h.push({name:c,value:q.val()});h.push({name:c+".x",value:f.clk_x},{name:c+".y",value:f.clk_y})}}return h};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(d){var c=[];this.each(function(){var g=this.name;if(!g)return;var e=a.fieldValue(this,d);if(e&&e.constructor==Array)for(var f=0,h=e.length;f<h;f++)c.push({name:g,value:e[f]});else e!==b&&typeof e!=l&&c.push({name:this.name,value:e})});return a.param(c)};a.fn.fieldValue=function(f){for(var d=[],e=0,g=this.length;e<g;e++){var h=this[e],c=a.fieldValue(h,f);if(c===b||typeof c==l||c.constructor==Array&&!c.length)continue;c.constructor==Array?a.merge(d,c):d.push(c)}return d};a.fieldValue=function(c,l){var u=c.name,i=c.type,r=c.tagName.toLowerCase();if(l===undefined)l=d;if(l&&(!u||c.disabled||i=="reset"||i=="button"||(i==g||i==j)&&!c.checked||(i=="submit"||i==e)&&c.form&&c.form.clk!=c||r==h&&c.selectedIndex==-1))return b;if(r==h){var n=c.selectedIndex;if(n<0)return b;for(var s=[],q=c.options,o=i==m,t=o?n+1:q.length,p=o?n:0;p<t;p++){var f=q[p];if(f.selected){var k=f.value;if(!k)k=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value;if(o)return k;s.push(k)}}return s}return a(c).val()};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this,b=a.type,d=a.tagName.toLowerCase();if(b=="text"||b=="password"||d==k)a.value="";else if(b==g||b==j)a.checked=c;else if(d==h)a.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){var a=this;(typeof a.reset==i||typeof a.reset=="object"&&!a.reset.nodeType)&&a.reset()})};a.fn.enable=function(a){if(a===undefined)a=d;return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){if(b===undefined)b=d;return this.each(function(){var d=this,f=d.type;if(f==g||f==j)d.checked=b;else if(d.tagName.toLowerCase()=="option"){var e=a(d).parent(h);b&&e[0]&&e[0].type==m&&e.find("option").selected(c);d.selected=b}})};function f(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(b);else window.opera&&window.opera.postError&&window.opera.postError(b)}}})(jQuery);(function(a){a.fn.hoverIntent=function(j,k){var b={sensitivity:7,interval:100,timeout:0};b=a.extend(b,k?{over:j,out:k}:j);var d,e,f,g,c=function(a){d=a.pageX;e=a.pageY},i=function(j,h){h.hoverIntent_t=clearTimeout(h.hoverIntent_t);if(Math.abs(f-d)+Math.abs(g-e)<b.sensitivity){a(h).unbind("mousemove",c);h.hoverIntent_s=1;return b.over.apply(h,[j])}else{f=d;g=e;h.hoverIntent_t=setTimeout(function(){i(j,h)},b.interval)}},l=function(c,a){a.hoverIntent_t=clearTimeout(a.hoverIntent_t);a.hoverIntent_s=0;return b.out.apply(a,[c])},h=function(j){var h="mousemove.cluetip",e="mouseover",m=this,k=(j.type==e?j.fromElement:j.toElement)||j.relatedTarget;while(k&&k!=m)try{k=k.parentNode}catch(j){k=m}if(k==m)return false;var n=jQuery.extend({},j),d=m;if(d.hoverIntent_t)d.hoverIntent_t=clearTimeout(d.hoverIntent_t);if(j.type==e){f=n.pageX;g=n.pageY;a(d).bind(h,c);if(d.hoverIntent_s!=1)d.hoverIntent_t=setTimeout(function(){i(n,d)},b.interval)}else{a(d).unbind(h,c);if(d.hoverIntent_s==1)d.hoverIntent_t=setTimeout(function(){l(n,d)},b.timeout)}};return this.bind("mouseover.cluetip",h).bind("mouseout.cluetip",h)}})(jQuery);(eval(function(e,d,a,c,b,f){b=function(a){return(a<d?"":b(parseInt(a/d)))+((a=a%d)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(a--)f[b(a)]=c[a]||b(a);c=[function(a){return f[a]}];b=function(){return"\\w+"};a=1}while(a--)if(c[a])e=e.replace(new RegExp("\\b"+b(a)+"\\b","g"),c[a]);return e}("(f($){$.1h={2j:'0.9 2k'};$.1e.1h=f(d){R b,A,c,J,a,i,n;a=2l;b=$(1K);J=2m.2n;i=1t;n=2o;c=n;d=$.2p({},$.1h.1L,d);A={B:f(){R z,y,x;5(!a.2q){k n}k b.2r(f(){y=$(1K);5(y.e('2s')||y.e('2t')>0){k n}5(a.1M&&a.1M>7){c=i}5(!y.e('g').S){y.e('g',2u((2v 2w()).2x()).1N(/\\D/2y,'').1f(8))}z=A.I(y);5(d.j!==''){y.4('j',d.x)}5(c){x=y.1O()}T{x=A.M(y,z)}y.U('z',x);A.C(y,z);5(d.P){A.H(y)}5(d.1P){A.D(y);y.1u('1Q 14 1v 1w',f(w){A.E(w)});y.1u('14 2z 1R 2A 1w 1v',f(w){A.G(w)})}5(!J&&($.1e.1S||$.1e.1i)){$('#'+y.e('g')+'-W').2B('h').1i()}})},C:f(z,y){R x,w,v,u,t=0,s=0,r=0,q=0,p='X',o='X',m='X',l='X';5(!J){v='2C'}T 5(J&&!c){v='2D'}T 5(c){v='2E'}z.1T('<h g=\"'+z.e('g')+'-W\" 15=\"'+d.1U+' '+(!d.P?d.1j:'')+' '+v+'\">'+(!d.P?'<h></h>':'')+'</h>');5(d.P){x='#'+z.e('g')+'-W'}T{x='#'+z.e('g')+'-W.'+d.1j+' h'}$(x).1k(z);5(d.P||c){t=(z.4('1V')!=='1l'?A.N(z.4('1V'))-(c?1:2):0);s=(z.4('1m')!=='1l'?A.N(z.4('1m')):0);r=(z.4('1W')!=='1l'?A.N(z.4('1W')):0);q=(z.4('1n')!=='1l'?A.N(z.4('1n'))-(c?0:1):0);w=z.4('16')!=='2F'?z.4('16'):'#2G';1X{p=z.4('2H')+' '+y.Z.1Y+' '+z.4('2I');o=z.4('1x')+' '+y.Z.1o+' '+z.4('2J');m=z.4('2K')+' '+y.Z.1Z+' '+z.4('2L');l=z.4('20')+' '+y.Z.1y+' '+z.4('2M')}21(22){}z.4({1p:'X'})}$('#'+z.e('g')+'-W.'+d.1j+' > h').4({12:'18',1z:'1A'});z.U('z',(z.U('z')-(c?s+q:0)));$('#'+z.e('g')+'-W').4({13:z.4('13')==='2N'?'1B':z.4('13'),12:'18',Q:z.4('Q'),1q:z.4('1q'),1r:z.4('1r'),11:z.4('11'),1z:'1A',j:(z.U('z')+(!d.P||c?0:1)),23:t+' '+s+' '+r+' '+q,1C:(z.4('24')!=='V'?z.4('24'):0)+' '+(z.4('25')!=='V'?z.4('25'):0)+' '+(z.4('26')!=='V'?z.4('26'):0)+' '+(z.4('27')!=='V'?z.4('27'):0),2O:p,28:o,2P:m,2Q:l,2R:w});z.4({13:'1B',Q:!d.P||c?'V':-1,11:!d.P||c?'V':-1,1r:'V',1q:'V',1D:1,j:(z.U('z')+(!d.P||c?0:3)),23:0,1C:0});u=z.1s().1s();5(!d.P){u=u.1s()}5(!u.4('2S')){u.4('1a','1%')}5(d.1E!==''){$('#'+z.e('g')+'-W').4(d.1E)}5(!J&&($.1e.1S||$.1e.1i)){$('#'+z.e('g')+'-W h').1i()}},D:f(z){R y,x,w,v,u,t,s,r,q,p,o,m,l;u=z.e('g');p=u+'-'+d.Y;z.1T('<a g=\"'+p+'\" 15=\"'+d.Y+'\"><h></h></a>');q=$('#'+p);q.1u('14',f(){29(f(){z.2T()},1)});v=$('#'+z.e('g')+'-W');w=q.2U('h').j();y=v.4('16');x=z.4('1o')!=='X'?A.N(z.4('1x')):0;o=A.N(v.4('1m'));m=A.N(v.4('1n'));s=(z.1b()-w-(!d.P||c?0:2))+(c?m:0);l=w+o;t=z.1c();q.4({13:'2a',12:'X',Q:c?z.13().Q:'V',11:s,1D:2,j:l,1a:t,1C:r,28:x,16:y});5(d.1F!==''){q.4(d.1F)}},E:f(z){R y,x,w,v,u,t,s;y=$(z.1G);x=y.e('g');w=y.2b();v=$('#'+x+'-'+d.Y);u=z.2c;t=z.2d;s=z.2e;5(s==='1v'||s==='1w'||s==='1Q'||(s==='14'&&v.4('12')==='18'&&w.11<u&&(w.11+y.U('z'))>u&&w.Q<t&&(w.Q+y.1c())>t)){k A.F(z)}5(v.4('12')==='X'){v.4('12','18')}5(!y.U('y')){y.4('j','V');5(y.1b()<y.1s().1O()){y.4('j',y.U('z'));y.U('y',i)}}},F:f(z){R y=$(z.1G);5(!y.U('y')){29(f(){y.4({j:(y.U('z')+(!d.P||c?0:3))}).2V('a.'+d.Y).4('12','X')},1)}},G:f(z){R y,x,w,v,u,t;y=$(z.1G);x=y.2b();w=$('a#'+y.e('g')+'-'+d.Y);v=z.2c;u=z.2d;t=z.2e;5(!w.S){k n}5(x.11<v&&(x.11+y.U('z'))>v&&x.Q<u&&(x.Q+y.1c())>u){5(t==='14'){w.1H().1I(d.Y+' '+d.Y+'-14')}T 5(t==='1R'){w.1H().1I(d.Y+' '+d.Y+'-2W')}}T{w.1H().1I(d.Y)}},H:f(z){R y;5(c){k n}$('#'+z.e('g')+'-W').1k('<h g=\"'+z.e('g')+'-1p-1J\"></h>');$('#'+z.e('g')+'-1p-1J').1k('<h 15=\"a\"></h><h 15=\"b\"></h><h 15=\"c\"></h><h 15=\"d\"></h>').1k(z).4({13:'1B',12:'18',Q:1,j:z.1b()-2,1a:z.1c()-2,1z:'1A'});y='#'+z.e('g')+'-1p-1J h.';$(y+'a,'+y+'b,'+y+'c,'+y+'d').4({13:'2a',12:'18',Q:0,11:0,1D:2,j:(z.1b()-19),1a:2,16:z.4('16')});$(y+'b').4({Q:'V',1r:0});$(y+'c').4({Q:2,j:2,1a:(z.1c()-6)});$(y+'d').4({Q:2,11:'V',1q:17,j:2,1a:(z.1c()-6)})},I:f(z){R y,x,w,v,u;y=a.2X;v=[];x=[];x[0]=0;x[1]='';1g(w=0;w<y.S;w++){v=v.2Y(A.J(z,y[w].2Z))}1g(w=0;w<v.S;w++){5(!$(v[w][0]).S){30}u=A.K(v[w][0]);5(u>x[0]){x[0]=u;x[1]=v[w][1]}}k x[1]},J:f(z,y){R x,w,v,u;u=[];1g(w=0;w<y.S;w++){v=y[w].31.2f();x=A.L(z,v);5((y[w].Z.1Y!==''||y[w].Z.1o!==''||y[w].Z.1Z!==''||y[w].Z.1y!=='')&&(A.O(v,z.e('g'))>-1||A.O(v,z.e('32').2f())>-1||A.O(v,'.')>-1||x)){u.33([v,y[w]])}}k u},K:f(z){R y,x,w;y=z.1d(' ');x=0;1g(w=0;w<y.S;w++){5(y[w].1f(0,1)==='#'&&A.O(y[w],'.')===-1){x=x+2g}T 5(y[w].1f(0,1)==='.'&&A.O(y[w],'#')===-1){x=x+(10*(y[w].1d('.').S-1))}T 5(A.O(y[w],'#')>-1&&A.O(y[w],'.')>-1){x=x+2g;x=x+(10*(y[w].1d('.').S-1));5(y[w].1f(0,1)!=='#'&&y[w].1f(0,1)!=='.'){x=x+1}}T 5(A.O(y[w],'#')!==-1){x=x+34;x=x+(10*(y[w].1d('.').S-1))}T 5(A.O(y[w],'.')!==-1){x=x+1;x=x+(10*(y[w].1d('.').S-1))}T 5(y[w]!==''&&y[w]!==' '&&A.O(y[w],'*')===-1&&A.O(y[w],'+')===-1&&A.O(y[w],'>')===-1){x=x+1}5(A.O(y[w],':')>-1){x=x+1}}k x},L:f(z,y){R x,w;x=z.e('35').1d(' ');5(!x.S){k n}1g(w=0;w<x.S;w++){5(A.O(y,'.'+x[w])>-1){k w}}},M:f(z,y){R x,w,v;1X{w=y.36.1y!=='X'?A.N(z.4('1x')):0;x=y.Z.1o!=='X'?A.N(z.4('20')):0}21(22){w=0;x=0}5(d.P){v=(z.1b()-A.N(z.4('1n'))-A.N(z.4('1m'))-w-x)}T{v=z.1b()}k v},N:f(z){k+z.1N('37','')},O:f(z,y){k z.38(y)}};k A.B()};$.1h.1L={j:'',1U:'2h-2i-j-W',Y:'2h-2i-j-39',1j:'3a-Z',1E:'',1F:'',1P:1t,P:1t}})(3b);",62,198,"||||css|if|||||||||attr|function|id|span||width|return|||||||||||||||||||||||||||||||applyStyle|top|var|length|else|data|auto|container|none|overlayClassName|style||left|display|position|mousedown|class|backgroundColor||block||height|outerWidth|outerHeight|split|fn|substr|for|ieSelectStyle|bgiframe|noStyleClassName|append|0px|paddingRight|paddingLeft|borderRightStyle|border|right|bottom|parent|true|bind|change|blur|borderRightWidth|borderLeftStyle|overflow|hidden|relative|margin|zIndex|containerCSS|overlayCSS|target|removeClass|addClass|mask|this|defaults|documentMode|replace|innerWidth|applyWidth|dblclick|mouseover|bgIframe|after|containerClassName|paddingTop|paddingBottom|try|borderTopStyle|borderBottomStyle|borderLeftWidth|catch|err|padding|marginTop|marginRight|marginBottom|marginLeft|borderRight|setTimeout|absolute|offset|pageX|pageY|type|toLowerCase|100|ie|select|version|beta|document|window|XMLHttpRequest|false|extend|all|each|multiple|size|String|new|Date|getTime|gi|mouseup|mouseout|find|ie6|ie7|ie8|transparent|fff|borderTopWidth|borderTopColor|borderRightColor|borderBottomWidth|borderBottomColor|borderLeftColor|static|borderTop|borderBottom|borderLeft|background|hasLayout|focus|children|siblings|hover|styleSheets|concat|rules|continue|selectorText|tagName|push|101|className|estyle|px|indexOf|overlay|no|jQuery".split("|"),0,{})))(function(a){var b="Jcrop",c="object";a.Jcrop=function(Q,E){var A="default",F="crosshair",v="move",q="w",l="e",p="s",o="n",z="sw",B="se",u="nw",s="ne",g=100,t="<div />",j="absolute",d=true,f=false,Q=Q,E=E;if(typeof Q!==c)Q=a(Q)[0];if(typeof E!==c)E={};if(!("trackDocument"in E)){E.trackDocument=a.browser.msie?f:d;if(a.browser.msie&&a.browser.version.split(".")[0]=="8")E.trackDocument=d}if(!("keySupport"in E))E.keySupport=a.browser.msie?f:d;var Ab={trackDocument:f,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,borderOpacity:.4,handleOpacity:.5,handlePad:5,handleSize:9,handleOffset:5,edgeMargin:14,aspectRatio:0,keySupport:d,cornerHandles:d,sideHandles:d,drawBorders:d,dragEdges:d,boxWidth:0,boxHeight:0,boundary:8,animationDelay:20,swingSpeed:3,allowSelect:d,allowMove:d,allowResize:d,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){}},e=Ab;hb(E);var H=a(Q),y=H.clone().removeAttr("id").css({position:j});y.width(H.width());y.height(H.height());H.after(y).hide();Db(y,e.boxWidth,e.boxHeight);var x=y.width(),r=y.height(),cb=a(t).width(x).height(r).addClass(S("holder")).css({position:"relative",backgroundColor:e.bgColor}).insertAfter(H).append(y);e.addClass&&cb.addClass(e.addClass);var mb=a("<img />").attr("src",y.attr("src")).css("position",j).width(x).height(r),X=a(t).width(J(g)).height(J(g)).css({zIndex:310,position:j,overflow:"hidden"}).append(mb),I=a(t).width(J(g)).height(J(g)).css("zIndex",320),V=a(t).css({position:j,zIndex:300}).insertBefore(y).append(X,I),U=e.boundary,N=gb().width(x+U*2).height(r+U*2).css({position:j,top:k(-U),left:k(-U),zIndex:290}).mousedown(rb),L,M,O,P,C,D,Eb=d,R=bb(y),K,lb,Fb,jb,ib,m=function(){var a=0,b=0,d=0,c=0,k,l;function o(e){var e=j(e);d=a=e[0];c=b=e[1]}function n(a){var a=j(a);k=a[0]-d;l=a[1]-c;d=a[0];c=a[1]}function q(){return[k,l]}function m(g){var e=g[0],f=g[1];if(0>a+e)e-=e+a;if(0>b+f)f-=f+b;if(r<c+f)f+=r-(c+f);if(x<d+e)e+=x-(d+e);a+=e;d+=e;b+=f;c+=f}function p(b){var a=g();switch(b){case s:return[a.x2,a.y];case u:return[a.x,a.y];case B:return[a.x2,a.y2];case z:return[a.x,a.y2]}}function g(){if(!e.aspectRatio)return t();var k=e.aspectRatio,m=e.minSize[0]/C,v=e.minSize[1]/D,l=e.maxSize[0]/C,p=e.maxSize[1]/D,o=d-a,n=c-b,s=Math.abs(o),q=Math.abs(n),u=s/q,g,j;if(l==0)l=x*10;if(p==0)p=r*10;if(u<k){j=c;w=q*k;g=o<0?a-w:w+a;if(g<0){g=0;h=Math.abs((g-a)/k);j=n<0?b-h:h+b}else if(g>x){g=x;h=Math.abs((g-a)/k);j=n<0?b-h:h+b}}else{g=d;h=s/k;j=n<0?b-h:b+h;if(j<0){j=0;w=Math.abs((j-b)*k);g=o<0?a-w:w+a}else if(j>r){j=r;w=Math.abs(j-b)*k;g=o<0?a-w:w+a}}if(g>a){if(g-a<m)g=a+m;else if(g-a>l)g=a+l;if(j>b)j=b+(g-a)/k;else j=b-(g-a)/k}else if(g<a){if(a-g<m)g=a-m;else if(a-g>l)g=a-l;if(j>b)j=b+(a-g)/k;else j=b-(a-g)/k}if(g<0){a-=g;g=0}else if(g>x){a-=g-x;g=x}if(j<0){b-=j;j=0}else if(j>r){b-=j-r;j=r}return last=i(f(a,b,g,j))}function j(a){if(a[0]<0)a[0]=0;if(a[1]<0)a[1]=0;if(a[0]>x)a[0]=x;if(a[1]>r)a[1]=r;return[a[0],a[1]]}function f(a,c,b,d){var e=a,f=b,g=c,h=d;if(b<a){e=b;f=a}if(d<c){g=d;h=c}return[Math.round(e),Math.round(g),Math.round(f),Math.round(h)]}function t(){var g=d-a,h=c-b;if(L&&Math.abs(g)>L)d=g>0?a+L:a-L;if(M&&Math.abs(h)>M)c=h>0?b+M:b-M;if(P&&Math.abs(h)<P)c=h>0?b+P:b-P;if(O&&Math.abs(g)<O)d=g>0?a+O:a-O;if(a<0){d-=a;a-=a}if(b<0){c-=b;b-=b}if(d<0){a-=d;d-=d}if(c<0){b-=c;c-=c}if(d>x){var e=d-x;a-=e;d-=e}if(c>r){var e=c-r;b-=e;c-=e}if(a>x){var e=a-r;c-=e;b-=e}if(b>r){var e=b-r;c-=e;b-=e}return i(f(a,b,d,c))}function i(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}return{flipCoords:f,setPressed:o,setCurrent:n,getOffset:q,moveOffset:m,getCorner:p,getFixed:g}}(),n=function(){var Z,bb,Y,x,N=370,C={},b={},h=f,c=e.handleOffset;if(e.drawBorders)C={top:w("hline").css("top",a.browser.msie?k(-1):k(0)),bottom:w("hline"),left:w("vline"),right:w("vline")};if(e.dragEdges){b.t=r(o);b.b=r(p);b.r=r(l);b.l=r(q)}e.sideHandles&&D([o,p,l,q]);e.cornerHandles&&D([z,u,s,B]);function w(c){var b=a(t).css({position:j,opacity:e.borderOpacity}).addClass(S(c));X.append(b);return b}function H(b,d){var c=a(t).mousedown(db(b)).css({cursor:b+"-resize",position:j,zIndex:d});I.append(c);return c}function O(a){return H(a,N++).css({top:k(-c+1),left:k(-c+1),opacity:e.handleOpacity}).addClass(S("handle"))}function r(a){var f=e.handleSize,d=c,b=f,h=f,j=d,i=d;switch(a){case o:case p:h=J(g);break;case l:case q:b=J(g)}return H(a,N++).width(h).height(b).css({top:k(-j+1),left:k(-i+1)})}function D(a){for(i in a)b[a[i]]=O(a[i])}function A(e){var g=Math.round(e.h/2-c),f=Math.round(e.w/2-c),h=west=-c+1,d=e.w-c,a=e.h-c,i,j;l in b&&b.e.css({top:k(g),left:k(d)})&&b.w.css({top:k(g)})&&b.s.css({top:k(a),left:k(f)})&&b.n.css({left:k(f)});s in b&&b.ne.css({left:k(d)})&&b.se.css({top:k(a),left:k(d)})&&b.sw.css({top:k(a)});"b"in b&&b.b.css({top:k(a)})&&b.r.css({left:k(d)})}function R(a,b){mb.css({top:k(-b),left:k(-a)});V.css({top:k(b),left:k(a)})}function T(b,a){V.width(b).height(a)}function K(){var a=m.getFixed();m.setPressed([a.x,a.y]);m.setCurrent([a.x2,a.y2]);F()}function F(){if(x)return M()}function M(){var a=m.getFixed();T(a.w,a.h);R(a.x,a.y);e.drawBorders&&C.right.css({left:k(a.w-1)})&&C.bottom.css({top:k(a.h-1)});h&&A(a);x||W();e.onChange(ab(a))}function W(){V.show();y.css("opacity",e.bgOpacity);x=d}function Q(){n();V.hide();y.css("opacity",1);x=f}function P(){if(h){A(m.getFixed());I.show()}}function E(){h=d;if(e.allowResize){A(m.getFixed());I.show();return d}}function n(){h=f;I.hide()}function G(a){(jb=a)?n():E()}function U(){G(f);K()}var L=gb().mousedown(db(v)).css({cursor:v,position:j,zIndex:360});X.append(L);n();return{updateVisible:F,update:M,release:Q,refresh:K,setCursor:function(a){L.css("cursor",a)},enableHandles:E,enableOnly:function(){h=d},showHandles:P,disableHandles:n,animMode:G,done:U}}(),G=function(){var i=function(){},h=function(){},g=e.trackDocument;!g&&N.mousemove(c).mouseup(b).mouseout(b);function l(){N.css({zIndex:450});g&&a(document).mousemove(c).mouseup(b)}function n(){N.css({zIndex:290});g&&a(document).unbind("mousemove",c).unbind("mouseup",b)}function c(a){i(T(a))}function b(a){a.preventDefault();a.stopPropagation();if(K){K=f;h(T(a));e.onSelect(ab(m.getFixed()));n();i=function(){};h=function(){}}return f}function j(b,a){K=d;i=b;h=a;l();return f}function k(a){N.css("cursor",a)}y.before(N);return{activateHandlers:j,setCursor:k}}(),Z=function(){var b=a('<input type="radio" />').css({position:j,left:"-30px"}).keypress(i).blur(k),h=a(t).css({position:j,overflow:"hidden"}).append(b);function g(){if(e.keySupport){b.show();b.focus()}}function k(){b.hide()}function c(a,b,c){if(e.allowMove){m.moveOffset([b,c]);n.updateVisible()}a.preventDefault();a.stopPropagation()}function i(a){if(a.ctrlKey)return d;ib=a.shiftKey?d:f;var b=ib?10:1;switch(a.keyCode){case 37:c(a,-b,0);break;case 39:c(a,b,0);break;case 38:c(a,0,-b);break;case 40:c(a,0,b);break;case 27:n.release();break;case 9:return d}return nothing(a)}e.keySupport&&h.insertBefore(y);return{watchKeys:g}}();function k(a){return""+parseInt(a)+"px"}function J(a){return""+parseInt(a)+"%"}function S(a){return e.baseClass+"-"+a}function bb(c){var b=a(c).offset();return[b.left,b.top]}function T(a){return[a.pageX-R[0],a.pageY-R[1]]}function Bb(a){if(a!=lb){G.setCursor(a);lb=a}}function qb(a,d){R=bb(y);G.setCursor(a==v?a:a+"-resize");if(a==v)return G.activateHandlers(sb(d),Y);var e=m.getFixed(),b=eb(a),c=m.getCorner(eb(b));m.setPressed(m.getCorner(b));m.setCurrent(c);G.activateHandlers(ob(a,e),Y)}function ob(b,a){return function(c){if(!e.aspectRatio)switch(b){case l:c[1]=a.y2;break;case q:c[1]=a.y2;break;case o:c[0]=a.x2;break;case p:c[0]=a.x2}else switch(b){case l:c[1]=a.y+1;break;case q:c[1]=a.y+1;break;case o:c[0]=a.x+1;break;case p:c[0]=a.x+1}m.setCurrent(c);n.update()}}function sb(b){var a=b;Z.watchKeys();return function(b){m.moveOffset([b[0]-a[0],b[1]-a[1]]);a=b;n.update()}}function eb(a){switch(a){case o:return z;case p:return u;case l:return u;case q:return s;case s:return z;case u:return B;case B:return u;case z:return s}}function db(a){return function(b){if(e.disabled)return f;if(a==v&&!e.allowMove)return f;K=d;qb(a,T(b));b.stopPropagation();b.preventDefault();return f}}function Db(a,e,d){var c=a.width(),b=a.height();if(c>e&&e>0){c=e;b=e/a.width()*a.height()}if(b>d&&d>0){b=d;c=d/a.height()*a.width()}C=a.width()/c;D=a.height()/b;a.width(c).height(b)}function ab(a){return{x:parseInt(a.x*C),y:parseInt(a.y*D),x2:parseInt(a.x2*C),y2:parseInt(a.y2*D),w:parseInt(a.w*C),h:parseInt(a.h*D)}}function Y(){var a=m.getFixed();if(a.w>e.minSelect[0]&&a.h>e.minSelect[1]){n.enableHandles();n.done()}else n.release();G.setCursor(e.allowSelect?F:A)}function rb(a){if(e.disabled)return f;if(!e.allowSelect)return f;K=d;R=bb(y);n.disableHandles();Bb(F);var b=T(a);m.setPressed(b);G.activateHandlers(wb,Y);Z.watchKeys();n.update();a.stopPropagation();a.preventDefault();return f}function wb(a){m.setCurrent(a);n.update()}function gb(){var b=a("<div></div>").addClass(S("tracker"));a.browser.msie&&b.css({opacity:0,backgroundColor:"white"});return b}function zb(f){var u=f[0]/C,v=f[1]/D,j=f[2]/C,k=f[3]/D;if(jb)return;var c=m.flipCoords(u,v,j,k),h=m.getFixed(),a=initcr=[h.x,h.y,h.x2,h.y2],p=e.animationDelay,w=a[0],x=a[1],j=a[2],k=a[3],q=c[0]-initcr[0],s=c[1]-initcr[1],r=c[2]-initcr[2],t=c[3]-initcr[3],b=0,o=e.swingSpeed;n.animMode(d);var l=function(){return function(){b+=(g-b)/o;a[0]=w+b/g*q;a[1]=x+b/g*s;a[2]=j+b/g*r;a[3]=k+b/g*t;if(b<g)i();else n.done();if(b>=99.8)b=g;fb(a)}}();function i(){window.setTimeout(l,p)}i()}function kb(a){fb([a[0]/C,a[1]/D,a[2]/C,a[3]/D])}function fb(a){m.setPressed([a[0],a[1]]);m.setCurrent([a[2],a[3]]);n.update()}function hb(d){var b="function";if(typeof d!=c)d={};e=a.extend(e,d);if(typeof e.onChange!==b)e.onChange=function(){};if(typeof e.onSelect!==b)e.onSelect=function(){}}function yb(){return ab(m.getFixed())}function xb(){return m.getFixed()}function pb(a){hb(a);W()}function tb(){e.disabled=d;n.disableHandles();n.setCursor(A);G.setCursor(A)}function vb(){e.disabled=f;W()}function ub(){n.done();G.activateHandlers(null,null)}function Cb(){cb.remove();H.show()}function W(a){e.allowResize?a?n.enableOnly():n.enableHandles():n.disableHandles();G.setCursor(e.allowSelect?F:A);n.setCursor(e.allowMove?v:A);cb.css("backgroundColor",e.bgColor);if("setSelect"in e){kb(E.setSelect);n.done();delete e.setSelect}if("trueSize"in e){C=e.trueSize[0]/x;D=e.trueSize[1]/r}L=e.maxSize[0]||0;M=e.maxSize[1]||0;O=e.minSize[0]||0;P=e.minSize[1]||0;if("outerImage"in e){y.attr("src",e.outerImage);delete e.outerImage}n.refresh()}I.hide();W(d);var nb={animateTo:zb,setSelect:kb,setOptions:pb,tellSelect:yb,tellScaled:xb,disable:tb,enable:vb,cancel:ub,focus:Z.watchKeys,getBounds:function(){return[x*C,r*D]},getWidgetSize:function(){return[x,r]},release:n.release,destroy:Cb};H.data(b,nb);return nb};a.fn.Jcrop=function(d){function e(b){var e=d.useImg||b.src,c=new Image;c.onload=function(){a.Jcrop(b,d)};c.src=e}if(typeof d!==c)d={};this.each(function(){var c=this;if(a(c).data(b))if(d=="api")return a(c).data(b);else a(c).data(b).setOptions(d);else e(c)});return this}})(jQuery);(function(a){var b="Jcrop",c="object";a.Jcrop=function(Q,E){var A="default",F="crosshair",v="move",q="w",l="e",p="s",o="n",z="sw",B="se",u="nw",s="ne",g=100,t="<div />",j="absolute",d=true,f=false,Q=Q,E=E;if(typeof Q!==c)Q=a(Q)[0];if(typeof E!==c)E={};if(!("trackDocument"in E)){E.trackDocument=a.browser.msie?f:d;if(a.browser.msie&&a.browser.version.split(".")[0]=="8")E.trackDocument=d}if(!("keySupport"in E))E.keySupport=a.browser.msie?f:d;var Ab={trackDocument:f,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,borderOpacity:.4,handleOpacity:.5,handlePad:5,handleSize:9,handleOffset:5,edgeMargin:14,aspectRatio:0,keySupport:d,cornerHandles:d,sideHandles:d,drawBorders:d,dragEdges:d,boxWidth:0,boxHeight:0,boundary:8,animationDelay:20,swingSpeed:3,allowSelect:d,allowMove:d,allowResize:d,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){}},e=Ab;hb(E);var H=a(Q),y=H.clone().removeAttr("id").css({position:j});y.width(H.width());y.height(H.height());H.after(y).hide();Db(y,e.boxWidth,e.boxHeight);var x=y.width(),r=y.height(),cb=a(t).width(x).height(r).addClass(S("holder")).css({position:"relative",backgroundColor:e.bgColor}).insertAfter(H).append(y);e.addClass&&cb.addClass(e.addClass);var mb=a("<img />").attr("src",y.attr("src")).css("position",j).width(x).height(r),X=a(t).width(J(g)).height(J(g)).css({zIndex:310,position:j,overflow:"hidden"}).append(mb),I=a(t).width(J(g)).height(J(g)).css("zIndex",320),V=a(t).css({position:j,zIndex:300}).insertBefore(y).append(X,I),U=e.boundary,N=gb().width(x+U*2).height(r+U*2).css({position:j,top:k(-U),left:k(-U),zIndex:290}).mousedown(rb),L,M,O,P,C,D,Eb=d,R=bb(y),K,lb,Fb,jb,ib,m=function(){var a=0,b=0,d=0,c=0,k,l;function o(e){var e=j(e);d=a=e[0];c=b=e[1]}function n(a){var a=j(a);k=a[0]-d;l=a[1]-c;d=a[0];c=a[1]}function q(){return[k,l]}function m(g){var e=g[0],f=g[1];if(0>a+e)e-=e+a;if(0>b+f)f-=f+b;if(r<c+f)f+=r-(c+f);if(x<d+e)e+=x-(d+e);a+=e;d+=e;b+=f;c+=f}function p(b){var a=g();switch(b){case s:return[a.x2,a.y];case u:return[a.x,a.y];case B:return[a.x2,a.y2];case z:return[a.x,a.y2]}}function g(){if(!e.aspectRatio)return t();var k=e.aspectRatio,m=e.minSize[0]/C,v=e.minSize[1]/D,l=e.maxSize[0]/C,p=e.maxSize[1]/D,o=d-a,n=c-b,s=Math.abs(o),q=Math.abs(n),u=s/q,g,j;if(l==0)l=x*10;if(p==0)p=r*10;if(u<k){j=c;w=q*k;g=o<0?a-w:w+a;if(g<0){g=0;h=Math.abs((g-a)/k);j=n<0?b-h:h+b}else if(g>x){g=x;h=Math.abs((g-a)/k);j=n<0?b-h:h+b}}else{g=d;h=s/k;j=n<0?b-h:b+h;if(j<0){j=0;w=Math.abs((j-b)*k);g=o<0?a-w:w+a}else if(j>r){j=r;w=Math.abs(j-b)*k;g=o<0?a-w:w+a}}if(g>a){if(g-a<m)g=a+m;else if(g-a>l)g=a+l;if(j>b)j=b+(g-a)/k;else j=b-(g-a)/k}else if(g<a){if(a-g<m)g=a-m;else if(a-g>l)g=a-l;if(j>b)j=b+(a-g)/k;else j=b-(a-g)/k}if(g<0){a-=g;g=0}else if(g>x){a-=g-x;g=x}if(j<0){b-=j;j=0}else if(j>r){b-=j-r;j=r}return last=i(f(a,b,g,j))}function j(a){if(a[0]<0)a[0]=0;if(a[1]<0)a[1]=0;if(a[0]>x)a[0]=x;if(a[1]>r)a[1]=r;return[a[0],a[1]]}function f(a,c,b,d){var e=a,f=b,g=c,h=d;if(b<a){e=b;f=a}if(d<c){g=d;h=c}return[Math.round(e),Math.round(g),Math.round(f),Math.round(h)]}function t(){var g=d-a,h=c-b;if(L&&Math.abs(g)>L)d=g>0?a+L:a-L;if(M&&Math.abs(h)>M)c=h>0?b+M:b-M;if(P&&Math.abs(h)<P)c=h>0?b+P:b-P;if(O&&Math.abs(g)<O)d=g>0?a+O:a-O;if(a<0){d-=a;a-=a}if(b<0){c-=b;b-=b}if(d<0){a-=d;d-=d}if(c<0){b-=c;c-=c}if(d>x){var e=d-x;a-=e;d-=e}if(c>r){var e=c-r;b-=e;c-=e}if(a>x){var e=a-r;c-=e;b-=e}if(b>r){var e=b-r;c-=e;b-=e}return i(f(a,b,d,c))}function i(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}return{flipCoords:f,setPressed:o,setCurrent:n,getOffset:q,moveOffset:m,getCorner:p,getFixed:g}}(),n=function(){var Z,bb,Y,x,N=370,C={},b={},h=f,c=e.handleOffset;if(e.drawBorders)C={top:w("hline").css("top",a.browser.msie?k(-1):k(0)),bottom:w("hline"),left:w("vline"),right:w("vline")};if(e.dragEdges){b.t=r(o);b.b=r(p);b.r=r(l);b.l=r(q)}e.sideHandles&&D([o,p,l,q]);e.cornerHandles&&D([z,u,s,B]);function w(c){var b=a(t).css({position:j,opacity:e.borderOpacity}).addClass(S(c));X.append(b);return b}function H(b,d){var c=a(t).mousedown(db(b)).css({cursor:b+"-resize",position:j,zIndex:d});I.append(c);return c}function O(a){return H(a,N++).css({top:k(-c+1),left:k(-c+1),opacity:e.handleOpacity}).addClass(S("handle"))}function r(a){var f=e.handleSize,d=c,b=f,h=f,j=d,i=d;switch(a){case o:case p:h=J(g);break;case l:case q:b=J(g)}return H(a,N++).width(h).height(b).css({top:k(-j+1),left:k(-i+1)})}function D(a){for(i in a)b[a[i]]=O(a[i])}function A(e){var g=Math.round(e.h/2-c),f=Math.round(e.w/2-c),h=west=-c+1,d=e.w-c,a=e.h-c,i,j;l in b&&b.e.css({top:k(g),left:k(d)})&&b.w.css({top:k(g)})&&b.s.css({top:k(a),left:k(f)})&&b.n.css({left:k(f)});s in b&&b.ne.css({left:k(d)})&&b.se.css({top:k(a),left:k(d)})&&b.sw.css({top:k(a)});"b"in b&&b.b.css({top:k(a)})&&b.r.css({left:k(d)})}function R(a,b){mb.css({top:k(-b),left:k(-a)});V.css({top:k(b),left:k(a)})}function T(b,a){V.width(b).height(a)}function K(){var a=m.getFixed();m.setPressed([a.x,a.y]);m.setCurrent([a.x2,a.y2]);F()}function F(){if(x)return M()}function M(){var a=m.getFixed();T(a.w,a.h);R(a.x,a.y);e.drawBorders&&C.right.css({left:k(a.w-1)})&&C.bottom.css({top:k(a.h-1)});h&&A(a);x||W();e.onChange(ab(a))}function W(){V.show();y.css("opacity",e.bgOpacity);x=d}function Q(){n();V.hide();y.css("opacity",1);x=f}function P(){if(h){A(m.getFixed());I.show()}}function E(){h=d;if(e.allowResize){A(m.getFixed());I.show();return d}}function n(){h=f;I.hide()}function G(a){(jb=a)?n():E()}function U(){G(f);K()}var L=gb().mousedown(db(v)).css({cursor:v,position:j,zIndex:360});X.append(L);n();return{updateVisible:F,update:M,release:Q,refresh:K,setCursor:function(a){L.css("cursor",a)},enableHandles:E,enableOnly:function(){h=d},showHandles:P,disableHandles:n,animMode:G,done:U}}(),G=function(){var i=function(){},h=function(){},g=e.trackDocument;!g&&N.mousemove(c).mouseup(b).mouseout(b);function l(){N.css({zIndex:450});g&&a(document).mousemove(c).mouseup(b)}function n(){N.css({zIndex:290});g&&a(document).unbind("mousemove",c).unbind("mouseup",b)}function c(a){i(T(a))}function b(a){a.preventDefault();a.stopPropagation();if(K){K=f;h(T(a));e.onSelect(ab(m.getFixed()));n();i=function(){};h=function(){}}return f}function j(b,a){K=d;i=b;h=a;l();return f}function k(a){N.css("cursor",a)}y.before(N);return{activateHandlers:j,setCursor:k}}(),Z=function(){var b=a('<input type="radio" />').css({position:j,left:"-30px"}).keypress(i).blur(k),h=a(t).css({position:j,overflow:"hidden"}).append(b);function g(){if(e.keySupport){b.show();b.focus()}}function k(){b.hide()}function c(a,b,c){if(e.allowMove){m.moveOffset([b,c]);n.updateVisible()}a.preventDefault();a.stopPropagation()}function i(a){if(a.ctrlKey)return d;ib=a.shiftKey?d:f;var b=ib?10:1;switch(a.keyCode){case 37:c(a,-b,0);break;case 39:c(a,b,0);break;case 38:c(a,0,-b);break;case 40:c(a,0,b);break;case 27:n.release();break;case 9:return d}return nothing(a)}e.keySupport&&h.insertBefore(y);return{watchKeys:g}}();function k(a){return""+parseInt(a)+"px"}function J(a){return""+parseInt(a)+"%"}function S(a){return e.baseClass+"-"+a}function bb(c){var b=a(c).offset();return[b.left,b.top]}function T(a){return[a.pageX-R[0],a.pageY-R[1]]}function Bb(a){if(a!=lb){G.setCursor(a);lb=a}}function qb(a,d){R=bb(y);G.setCursor(a==v?a:a+"-resize");if(a==v)return G.activateHandlers(sb(d),Y);var e=m.getFixed(),b=eb(a),c=m.getCorner(eb(b));m.setPressed(m.getCorner(b));m.setCurrent(c);G.activateHandlers(ob(a,e),Y)}function ob(b,a){return function(c){if(!e.aspectRatio)switch(b){case l:c[1]=a.y2;break;case q:c[1]=a.y2;break;case o:c[0]=a.x2;break;case p:c[0]=a.x2}else switch(b){case l:c[1]=a.y+1;break;case q:c[1]=a.y+1;break;case o:c[0]=a.x+1;break;case p:c[0]=a.x+1}m.setCurrent(c);n.update()}}function sb(b){var a=b;Z.watchKeys();return function(b){m.moveOffset([b[0]-a[0],b[1]-a[1]]);a=b;n.update()}}function eb(a){switch(a){case o:return z;case p:return u;case l:return u;case q:return s;case s:return z;case u:return B;case B:return u;case z:return s}}function db(a){return function(b){if(e.disabled)return f;if(a==v&&!e.allowMove)return f;K=d;qb(a,T(b));b.stopPropagation();b.preventDefault();return f}}function Db(a,e,d){var c=a.width(),b=a.height();if(c>e&&e>0){c=e;b=e/a.width()*a.height()}if(b>d&&d>0){b=d;c=d/a.height()*a.width()}C=a.width()/c;D=a.height()/b;a.width(c).height(b)}function ab(a){return{x:parseInt(a.x*C),y:parseInt(a.y*D),x2:parseInt(a.x2*C),y2:parseInt(a.y2*D),w:parseInt(a.w*C),h:parseInt(a.h*D)}}function Y(){var a=m.getFixed();if(a.w>e.minSelect[0]&&a.h>e.minSelect[1]){n.enableHandles();n.done()}else n.release();G.setCursor(e.allowSelect?F:A)}function rb(a){if(e.disabled)return f;if(!e.allowSelect)return f;K=d;R=bb(y);n.disableHandles();Bb(F);var b=T(a);m.setPressed(b);G.activateHandlers(wb,Y);Z.watchKeys();n.update();a.stopPropagation();a.preventDefault();return f}function wb(a){m.setCurrent(a);n.update()}function gb(){var b=a("<div></div>").addClass(S("tracker"));a.browser.msie&&b.css({opacity:0,backgroundColor:"white"});return b}function zb(f){var u=f[0]/C,v=f[1]/D,j=f[2]/C,k=f[3]/D;if(jb)return;var c=m.flipCoords(u,v,j,k),h=m.getFixed(),a=initcr=[h.x,h.y,h.x2,h.y2],p=e.animationDelay,w=a[0],x=a[1],j=a[2],k=a[3],q=c[0]-initcr[0],s=c[1]-initcr[1],r=c[2]-initcr[2],t=c[3]-initcr[3],b=0,o=e.swingSpeed;n.animMode(d);var l=function(){return function(){b+=(g-b)/o;a[0]=w+b/g*q;a[1]=x+b/g*s;a[2]=j+b/g*r;a[3]=k+b/g*t;if(b<g)i();else n.done();if(b>=99.8)b=g;fb(a)}}();function i(){window.setTimeout(l,p)}i()}function kb(a){fb([a[0]/C,a[1]/D,a[2]/C,a[3]/D])}function fb(a){m.setPressed([a[0],a[1]]);m.setCurrent([a[2],a[3]]);n.update()}function hb(d){var b="function";if(typeof d!=c)d={};e=a.extend(e,d);if(typeof e.onChange!==b)e.onChange=function(){};if(typeof e.onSelect!==b)e.onSelect=function(){}}function yb(){return ab(m.getFixed())}function xb(){return m.getFixed()}function pb(a){hb(a);W()}function tb(){e.disabled=d;n.disableHandles();n.setCursor(A);G.setCursor(A)}function vb(){e.disabled=f;W()}function ub(){n.done();G.activateHandlers(null,null)}function Cb(){cb.remove();H.show()}function W(a){e.allowResize?a?n.enableOnly():n.enableHandles():n.disableHandles();G.setCursor(e.allowSelect?F:A);n.setCursor(e.allowMove?v:A);cb.css("backgroundColor",e.bgColor);if("setSelect"in e){kb(E.setSelect);n.done();delete e.setSelect}if("trueSize"in e){C=e.trueSize[0]/x;D=e.trueSize[1]/r}L=e.maxSize[0]||0;M=e.maxSize[1]||0;O=e.minSize[0]||0;P=e.minSize[1]||0;if("outerImage"in e){y.attr("src",e.outerImage);delete e.outerImage}n.refresh()}I.hide();W(d);var nb={animateTo:zb,setSelect:kb,setOptions:pb,tellSelect:yb,tellScaled:xb,disable:tb,enable:vb,cancel:ub,focus:Z.watchKeys,getBounds:function(){return[x*C,r*D]},getWidgetSize:function(){return[x,r]},release:n.release,destroy:Cb};H.data(b,nb);return nb};a.fn.Jcrop=function(d){function e(b){var e=d.useImg||b.src,c=new Image;c.onload=function(){a.Jcrop(b,d)};c.src=e}if(typeof d!==c)d={};this.each(function(){var c=this;if(a(c).data(b))if(d=="api")return a(c).data(b);else a(c).data(b).setOptions(d);else e(c)});return this}})(jQuery);(function(c){var ob="showHideCol",hb="tr.footrow td:eq(",K="td:eq(",U="jqgrow",T="span",pb="thead:first",u="ui-state-highlight",v="#jqg_",F="ui-subgrid",S="boolean",bb="both",O="click",Z="true",G="false",z="aria-selected",l="ui-state-disabled",N="last",gb="first",r="checked",o="attr",n="prop",C="#cb_",Y="set",jb="addSubGrid",kb="tbody:first",ab="</tr>",ib="addSubGridCell",R=" tbody:first",nb=" tbody:first tr:first",mb=" tbody:first tr:gt(0)",j="#",k="local",X="rn",fb="subgrid",W="cb",lb='<input role="checkbox" type="checkbox" id="jqg_',J="</td>",t="undefined",i="_",y="setSelection",q="width",A="table:first",g="px",B="none",I="display",w="#gbox_",Q="edit",M="asc",eb="desc",E=" ",db="Y-m-d",L="0",cb="datetime",D="date",P="text",f=10,p=")",qb="function",H="object",a=true,e=null,b=false,s="string",h=-1,m='"',x=">",d="",V="&#160;";c.jgrid=c.jgrid||{};c.extend(c.jgrid,{htmlDecode:function(a){return a&&(a=="&nbsp;"||a==V||a.length==1&&a.charCodeAt(0)==160)?d:!a?a:String(a).replace(/&gt;/g,x).replace(/&lt;/g,"<").replace(/&quot;/g,m).replace(/&amp;/g,"&")},htmlEncode:function(a){return!a?a:String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},format:function(a){var b=c.makeArray(arguments).slice(1);if(a===undefined)a=d;return a.replace(/\{(\d+)\}/g,function(c,a){return b[a]})},getCellIndex:function(a){a=c(a);if(a.is("tr"))return h;a=(!a.is("td")&&!a.is("th")?a.closest("td,th"):a)[0];return c.browser.msie?c.inArray(a,a.parentNode.cells):a.cellIndex},stripHtml:function(a){a+=d;var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(b,d))&&a!=="&nbsp;"&&a!==V?a.replace(/\"/g,"'"):d:a},stripPref:function(a,b){var c=Object.prototype.toString.call(a).slice(8,h);if(c=="String"||c=="Number"){a=String(a);b=a!=d?String(b).replace(String(a),d):b}return b},stringToDoc:function(c){var a;if(typeof c!==s)return c;try{a=(new DOMParser).parseFromString(c,"text/xml")}catch(d){a=new ActiveXObject("Microsoft.XMLDOM");a.async=b;a.loadXML(c)}return a&&a.documentElement&&a.documentElement.tagName!="parsererror"?a:e},parse:function(b){if(b.substr(0,9)=="while(1);")b=b.substr(9);if(b.substr(0,2)=="/*")b=b.substr(2,b.length-4);b||(b="{}");return c.jgrid.useJSON===a&&typeof JSON===H&&typeof JSON.parse===qb?JSON.parse(b):eval("("+b+p)},parseDate:function(i,b){var d={m:1,d:1,y:1970,h:0,i:0,s:0},a,k,g;a=/[\\\/:_;.,\t\T\s-]/;if(b&&b!==e&&b!==undefined){b=c.trim(b);b=b.split(a);i=i.split(a);var l=c.jgrid.formatter.date.monthNames,j=c.jgrid.formatter.date.AmPm,m=function(b,a){if(b===0){if(a==12)a=0}else if(a!=12)a+=12;return a};a=0;for(k=i.length;a<k;a++){if(i[a]=="M"){g=c.inArray(b[a],l);if(g!==h&&g<12)b[a]=g+1}if(i[a]=="F"){g=c.inArray(b[a],l);if(g!==h&&g>11)b[a]=g+1-12}if(i[a]=="a"){g=c.inArray(b[a],j);if(g!==h&&g<2&&b[a]==j[g]){b[a]=g;d.h=m(b[a],d.h)}}if(i[a]=="A"){g=c.inArray(b[a],j);if(g!==h&&g>1&&b[a]==j[g]){b[a]=g-2;d.h=m(b[a],d.h)}}if(b[a]!==undefined)d[i[a].toLowerCase()]=parseInt(b[a],f)}d.m=parseInt(d.m,f)-1;a=d.y;if(a>=70&&a<=99)d.y=1900+d.y;else if(a>=0&&a<=69)d.y=2e3+d.y}return new Date(d.y,d.m,d.d,d.h,d.i,d.s,0)},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(a){return(a?a:c.jgrid.uidPref)+c.jgrid.guid++},getAccessor:function(c,b){var a,e,d=[],f;if(typeof b===qb)return b(c);a=c[b];if(a===undefined)try{if(typeof b===s)d=b.split(".");if(f=d.length)for(a=c;a&&f--;){e=d.shift();a=a[e]}}catch(g){}return a},ajaxOptions:{},from:function(f){return new function(r,F){var k="this",j="')",i="jQuery.jgrid.getAccessor(this,'",l="number",g=this;if(typeof r==s)r=c.data(r);var f=g,n=r,y=a,t=b,o=F,B=/[\$,%]/g,w=e,C=e,A=0,q=b,z=d,u=[],v=a;if(typeof r==H&&r.push){if(r.length>0)v=typeof r[0]!=H?b:a}else throw"data provides is not an array";g._hasData=function(){return n===e?b:n.length===0?b:a};g._getStr=function(b){var a=[];t&&a.push("jQuery.trim(");a.push("String("+b+p);t&&a.push(p);y||a.push(".toLowerCase()");return a.join(d)};g._strComp=function(a){return typeof a==s?".toString()":d};g._group=function(b,a){return{field:b.toString(),unique:a,items:[]}};g._toStr=function(a){if(t)a=c.trim(a);y||(a=a.toLowerCase());return a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"')};g._funcLoop=function(b){var a=[];c.each(n,function(d,c){a.push(b(c))});return a};g._append=function(c){var a;if(o===e)o=d;else o+=z===d?" && ":z;for(a=0;a<A;a++)o+="(";if(q)o+="!";o+="("+c+p;q=b;z=d;A=0};g._setCommand=function(b,a){w=b;C=a};g._resetNegate=function(){q=b};g._repeatCommand=function(a,b){return w===e?f:a!==e&&b!==e?w(a,b):C===e?w(a):!v?w(a):w(C,a)};g._equals=function(b,a){return f._compare(b,a,1)===0};g._compare=function(b,a,c){if(c===undefined)c=1;if(b===undefined)b=e;if(a===undefined)a=e;if(b===e&&a===e)return 0;if(b===e&&a!==e)return 1;if(b!==e&&a===e)return h;if(!y&&typeof b!==l&&typeof a!==l){b=String(b).toLowerCase();a=String(a).toLowerCase()}return b<a?-c:b>a?c:0};g._performSort=function(){if(u.length!==0)n=f._doSort(n,0)};g._doSort=function(h,a){var e=u[a].by,c=u[a].dir,b=u[a].type,d=u[a].datefmt;if(a==u.length-1)return f._getOrder(h,e,c,b,d);a++;e=f._getGroup(h,e,c,b,d);c=[];for(b=0;b<e.length;b++){d=f._doSort(e[b].items,a);for(var g=0;g<d.length;g++)c.push(d[g])}return c};g._getOrder=function(g,m,i,a,p){var k=[],e=[],n=i=="a"?1:h,b,j;if(a===undefined)a=P;j=a=="float"||a==l||a=="currency"||a=="numeric"?function(a){a=parseFloat(String(a).replace(B,d));return isNaN(a)?0:a}:a=="int"||a=="integer"?function(a){return a?parseFloat(String(a).replace(B,d)):0}:a==D||a==cb?function(a){return c.jgrid.parseDate(p,a).getTime()}:c.isFunction(a)?a:function(a){a||(a=d);return c.trim(String(a).toUpperCase())};c.each(g,function(f,a){b=m!==d?c.jgrid.getAccessor(a,m):a;if(b===undefined)b=d;b=j(b,a);e.push({vSort:b,index:f})});e.sort(function(b,a){b=b.vSort;a=a.vSort;return f._compare(b,a,n)});a=0;for(var o=g.length;a<o;){i=e[a].index;k.push(g[i]);a++}return k};g._getGroup=function(k,h,l,j,m){var g=[],a=e,i=e,b;c.each(f._getOrder(k,h,l,j,m),function(k,j){b=c.jgrid.getAccessor(j,h);if(b===undefined)b=d;if(!f._equals(i,b)){i=b;a!==e&&g.push(a);a=f._group(h,b)}a.items.push(j)});a!==e&&g.push(a);return g};g.ignoreCase=function(){y=b;return f};g.useCase=function(){y=a;return f};g.trim=function(){t=a;return f};g.noTrim=function(){t=b;return f};g.execute=function(){var b=o,a=[];if(b===e)return f;c.each(n,function(){eval(b)&&a.push(this)});n=a;return f};g.data=function(){return n};g.select=function(b){f._performSort();if(!f._hasData())return[];f.execute();if(c.isFunction(b)){var a=[];c.each(n,function(d,c){a.push(b(c))});return a}return n};g.hasMatch=function(){if(!f._hasData())return b;f.execute();return n.length>0};g.andNot=function(b,a,c){q=!q;return f.and(b,a,c)};g.orNot=function(b,a,c){q=!q;return f.or(b,a,c)};g.not=function(b,a,c){return f.andNot(b,a,c)};g.and=function(a,b,c){z=" && ";return a===undefined?f:f._repeatCommand(a,b,c)};g.or=function(a,b,c){z=" || ";return a===undefined?f:f._repeatCommand(a,b,c)};g.orBegin=function(){A++;return f};g.orEnd=function(){if(o!==e)o+=p;return f};g.isNot=function(a){q=!q;return f.is(a)};g.is=function(a){f._append("this."+a);f._resetNegate();return f};g._compareValues=function(t,q,n,s,o){var h="parseFloat(",g="parseInt(",b;b=v?i+q+j:k;if(n===undefined)n=e;var a=n,r=o.stype===undefined?P:o.stype;if(n!==e)switch(r){case"int":case"integer":a=isNaN(Number(a))||a===d?L:a;b=g+b+",10)";a=g+a+",10)";break;case"float":case l:case"numeric":a=String(a).replace(B,d);a=isNaN(Number(a))||a===d?L:a;b=h+b+p;a=h+a+p;break;case D:case cb:a=String(c.jgrid.parseDate(o.newfmt||db,a).getTime());b='jQuery.jgrid.parseDate("'+o.srcfmt+'",'+b+").getTime()";break;default:b=f._getStr(b);a=f._getStr(m+f._toStr(a)+m)}f._append(b+E+s+E+a);f._setCommand(t,q);f._resetNegate();return f};g.equals=function(b,a,c){return f._compareValues(f.equals,b,a,"==",c)};g.notEquals=function(b,a,c){return f._compareValues(f.equals,b,a,"!==",c)};g.isNull=function(a,c,b){return f._compareValues(f.equals,a,e,"===",b)};g.greater=function(b,a,c){return f._compareValues(f.greater,b,a,x,c)};g.less=function(b,a,c){return f._compareValues(f.less,b,a,"<",c)};g.greaterOrEquals=function(b,a,c){return f._compareValues(f.greaterOrEquals,b,a,">=",c)};g.lessOrEquals=function(b,a,c){return f._compareValues(f.lessOrEquals,b,a,"<=",c)};g.startsWith=function(g,b){var a=".substr(0,",d=b===undefined||b===e?g:b;d=t?c.trim(d.toString()).length:d.toString().length;if(v)f._append(f._getStr(i+g+j)+a+d+") == "+f._getStr(m+f._toStr(b)+m));else{d=t?c.trim(b.toString()).length:b.toString().length;f._append(f._getStr(k)+a+d+") == "+f._getStr(m+f._toStr(g)+m))}f._setCommand(f.startsWith,g);f._resetNegate();return f};g.endsWith=function(b,g){var a=".substr(",d=g===undefined||g===e?b:g;d=t?c.trim(d.toString()).length:d.toString().length;v?f._append(f._getStr(i+b+j)+a+f._getStr(i+b+j)+".length-"+d+","+d+') == "'+f._toStr(g)+m):f._append(f._getStr(k)+a+f._getStr(k)+'.length-"'+f._toStr(b)+'".length,"'+f._toStr(b)+'".length) == "'+f._toStr(b)+m);f._setCommand(f.endsWith,b);f._resetNegate();return f};g.contains=function(c,d){var b='",0) > -1',a='.indexOf("';v?f._append(f._getStr(i+c+j)+a+f._toStr(d)+b):f._append(f._getStr(k)+a+f._toStr(c)+b);f._setCommand(f.contains,c);f._resetNegate();return f};g.groupBy=function(c,b,d,a){return!f._hasData()?e:f._getGroup(n,c,b,d,a)};g.orderBy=function(g,a,d,b){a=a===undefined||a===e?"a":c.trim(a.toString().toLowerCase());if(d===e||d===undefined)d=P;if(b===e||b===undefined)b=db;if(a==eb||a=="descending")a="d";if(a==M||a=="ascending")a="a";u.push({by:g,dir:a,type:d,datefmt:b});return f};return f}(f,e)},extend:function(a){c.extend(c.fn.jqGrid,a);this.no_legacy_api||c.fn.extend(a)}});c.fn.jqGrid=function(p){if(typeof p==s){var H=c.jgrid.getAccessor(c.fn.jqGrid,p);if(!H)throw"jqGrid - No such method: "+p;var K=c.makeArray(arguments).slice(1);return H.apply(this,K)}return this.each(function(){var uc=".ui-jqgrid-titlebar-close",Vb="ui-userdata ui-state-default",tc="selectstart",yb="tr.jqgrow",Ub="-rtl",sc="<div class='ui-jqgrid-hbox",vb="div",Tb="userdata",zb="cell",ic="resetSelection",Lb=", #last",Kb=", #prev",Jb="#first",hb="ui-state-hover",Pb="records",pc="</tr></tbody></table>",oc="'></span>",nc="<div id='",Db="#load_",hc="jsonstring",gc="footerData",fc="setTreeNode",ec="groupingRender",dc="groupingPrepare",cc=' style="display:none;"',Ob="_id_",bc="xmlstring",ac="div:first",Zb=">div:first",Yb='<td role="gridcell" ',mc=' title="',Xb="display:none;",Ab="'>",Ib="'></div>",tb="rtl",Eb="default",Hb="block",Wb="col-resize",sb="ltr",Sb="center",Nb="enable",Gb="visible",qb="id",wb="rows",Rb="page",xb="xml",U=this;if(!U.grid){var ob=c.extend(a,{url:d,height:150,page:1,rowNum:20,rowTotal:e,records:0,pager:d,pgbuttons:a,pginput:a,colModel:[],rowList:[],colNames:[],sortorder:M,sortname:d,datatype:xb,mtype:"GET",altRows:b,selarrrow:[],savedRow:[],shrinkToFit:a,xmlReader:{},jsonReader:{},subGrid:b,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:e,beforeSelectRow:e,onSelectRow:e,onSortCol:e,ondblClickRow:e,onRightClickRow:e,onPaging:e,onSelectAll:e,loadComplete:e,gridComplete:e,loadError:e,loadBeforeSend:e,afterInsertRow:e,beforeRequest:e,beforeProcessing:e,onHeaderClick:e,viewrecords:b,loadonce:b,multiselect:b,multikey:b,editurl:e,search:b,caption:d,hidegrid:a,hiddengrid:b,postData:{},userData:{},treeGrid:b,treeGridModel:"nested",treeReader:{},treeANode:h,ExpandColumn:e,tree_root_level:0,prmNames:{page:Rb,rows:wb,sort:"sidx",order:"sord",search:"_search",nd:"nd",id:qb,oper:"oper",editoper:Q,addoper:"add",deloper:"del",subgridid:qb,npage:e,totalrows:"totalrows"},forceFit:b,gridstate:Gb,cellEdit:b,cellsubmit:"remote",nv:0,loadui:Nb,toolbar:[b,d],scroll:b,multiboxonly:b,deselectAfterSort:a,scrollrows:b,autowidth:b,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:b,rownumWidth:25,rownumbers:b,pagerpos:Sb,recordpos:"right",footerrow:b,userDataOnFooter:b,hoverrows:a,altclass:"ui-priority-secondary",viewsortcols:[b,"vertical",a],resizeclass:d,autoencode:b,remapColumns:[],ajaxGridOptions:{},direction:sb,toppager:b,headertitles:b,scrollTimeout:40,data:[],_index:{},grouping:b,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:b,sortitems:[],sortnames:[],groupDataSorted:b,summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus"},ignoreCase:b,cmTemplate:{},idPrefix:d},c.jgrid.defaults,p||{}),K={headers:[],cols:[],footers:[],dragStart:function(e,f,d){var a=this;a.resizing={idx:e,startX:f.clientX,sOL:d[0]};a.hDiv.style.cursor=Wb;a.curGbox=c("#rs_m"+c.jgrid.jqID(ob.id),w+c.jgrid.jqID(ob.id));a.curGbox.css({display:Hb,left:d[0],top:d[1],height:d[2]});c.isFunction(ob.resizeStart)&&ob.resizeStart.call(a,f,e);document.onselectstart=function(){return b}},dragMove:function(d){var c=this;if(c.resizing){var b=d.clientX-c.resizing.startX;d=c.headers[c.resizing.idx];var f=ob.direction===sb?d.width+b:d.width-b,e;if(f>33){c.curGbox.css({left:c.resizing.sOL+b});if(ob.forceFit===a){e=c.headers[c.resizing.idx+ob.nv];b=ob.direction===sb?e.width-b:e.width+b;if(b>33){d.newWidth=f;e.newWidth=b}}else{c.newWidth=ob.direction===sb?ob.tblwidth+b:ob.tblwidth-b;d.newWidth=f}}}},dragEnd:function(){var d=this;d.hDiv.style.cursor=Eb;if(d.resizing){var h=d.resizing.idx,i=d.headers[h].newWidth||d.headers[h].width;i=parseInt(i,f);d.resizing=b;c("#rs_m"+c.jgrid.jqID(ob.id)).css(I,B);ob.colModel[h].width=i;d.headers[h].width=i;d.headers[h].el.style.width=i+g;d.cols[h].style.width=i+g;if(d.footers.length>0)d.footers[h].style.width=i+g;if(ob.forceFit===a){i=d.headers[h+ob.nv].newWidth||d.headers[h+ob.nv].width;d.headers[h+ob.nv].width=i;d.headers[h+ob.nv].el.style.width=i+g;d.cols[h+ob.nv].style.width=i+g;if(d.footers.length>0)d.footers[h+ob.nv].style.width=i+g;ob.colModel[h+ob.nv].width=i}else{ob.tblwidth=d.newWidth||ob.tblwidth;c(A,d.bDiv).css(q,ob.tblwidth+g);c(A,d.hDiv).css(q,ob.tblwidth+g);d.hDiv.scrollLeft=d.bDiv.scrollLeft;if(ob.footerrow){c(A,d.sDiv).css(q,ob.tblwidth+g);d.sDiv.scrollLeft=d.bDiv.scrollLeft}}c.isFunction(ob.resizeStop)&&ob.resizeStop.call(d,i,h)}d.curGbox=e;document.onselectstart=function(){return a}},populateVisible:function(){K.timer&&clearTimeout(K.timer);K.timer=e;var n=c(K.bDiv).height();if(n){var j=c(A,K.bDiv),g,d;if(j[0].rows.length)try{d=(g=j[0].rows[1])?c(g).outerHeight()||K.prevRowHeight:K.prevRowHeight}catch(q){d=K.prevRowHeight}if(d){K.prevRowHeight=d;var p=ob.rowNum;g=K.scrollTop=K.bDiv.scrollTop;var l=Math.round(j.position().top)-g,k=l+j.height();d*=p;var i,m,o;if(k<n&&l<=0&&(ob.lastpage===undefined||parseInt((k+g+d-1)/d,f)<=ob.lastpage)){m=parseInt((n-k+d-1)/d,f);if(k>=0||m<2||ob.scroll===a){i=Math.round((k+g)/d)+1;l=h}else l=1}if(l>0){i=parseInt(g/d,f)+1;m=parseInt((g+n)/d,f)+2-i;o=a}if(m)if(!(ob.lastpage&&i>ob.lastpage||ob.lastpage==1||i===ob.page&&i===ob.lastpage))if(K.hDiv.loading)K.timer=setTimeout(K.populateVisible,ob.scrollTimeout);else{ob.page=i;if(o){K.selectionPreserver(j[0]);K.emptyRows(K.bDiv,b,b)}K.populate(m)}}}},scrollGrid:function(a){if(ob.scroll){var b=K.bDiv.scrollTop;if(K.scrollTop===undefined)K.scrollTop=0;if(b!=K.scrollTop){K.scrollTop=b;K.timer&&clearTimeout(K.timer);K.timer=setTimeout(K.populateVisible,ob.scrollTimeout)}}K.hDiv.scrollLeft=K.bDiv.scrollLeft;if(ob.footerrow)K.sDiv.scrollLeft=K.bDiv.scrollLeft;a&&a.stopPropagation()},selectionPreserver:function(d){var a=d.p,g=a.selrow,f=a.selarrrow?c.makeArray(a.selarrrow):e,i=d.grid.bDiv.scrollLeft,h=a.gridComplete;a.gridComplete=function(){a.selrow=e;a.selarrrow=[];if(a.multiselect&&f&&f.length>0)for(var j=0;j<f.length;j++)f[j]!=g&&c(d).jqGrid(y,f[j],b);g&&c(d).jqGrid(y,g,b);d.grid.bDiv.scrollLeft=i;a.gridComplete=h;a.gridComplete&&h()}}};if(U.tagName.toUpperCase()!="TABLE")alert("Element is not a table");else{c(U).empty().attr("tabindex","1");U.p=ob;U.p.useProp=!!c.fn.prop;var rb,Bb,H;if(U.p.colNames.length===0)for(rb=0;rb<U.p.colModel.length;rb++)U.p.colNames[rb]=U.p.colModel[rb].label||U.p.colModel[rb].name;if(U.p.colNames.length!==U.p.colModel.length)alert(c.jgrid.errors.model);else{var Fb=c("<div class='ui-jqgrid-view'></div>"),Bc,Cc=c.browser.msie?a:b,Oc=c.browser.webkit||c.browser.safari?a:b;H=U;H.p.direction=c.trim(H.p.direction.toLowerCase());if(c.inArray(H.p.direction,[sb,tb])==h)H.p.direction=sb;Bb=H.p.direction;c(Fb).insertBefore(U);c(U).appendTo(Fb).removeClass("scroll");var yc=c("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");c(yc).insertBefore(Fb).attr({id:"gbox_"+U.id,dir:Bb});c(Fb).appendTo(yc).attr(qb,"gview_"+U.id);Bc=Cc&&c.browser.version<=6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':d;c("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+U.id+Ib).append(Bc).insertBefore(Fb);c("<div class='loading ui-state-default ui-state-active' id='load_"+U.id+Ab+U.p.loadtext+"</div>").insertBefore(Fb);c(U).attr({cellspacing:L,cellpadding:L,border:L,role:"grid","aria-multiselectable":!!U.p.multiselect,"aria-labelledby":"gbox_"+U.id});var zc=function(a,b){a=parseInt(a,f);return isNaN(a)?b?b:0:a},Ac=function(g,p,k,q,r,o){var f=H.p.colModel[g],n=f.align,j='style="',l=f.classes,t=f.name,e=[];if(n)j+="text-align:"+n+";";if(f.hidden===a)j+=Xb;if(p===0)j+="width: "+K.headers[g].width+"px;";else if(f.cellattr&&c.isFunction(f.cellattr))if((g=f.cellattr.call(H,r,k,q,f,o))&&typeof g===s){g=g.replace(/style/i,"style").replace(/title/i,"title");if(g.indexOf("title")>h)f.title=b;if(g.indexOf("class")>h)l=undefined;e=g.split("style");if(e.length===2){e[1]=c.trim(e[1].replace("=",d));if(e[1].indexOf("'")===0||e[1].indexOf(m)===0)e[1]=e[1].substring(1);j+=e[1].replace(/'/gi,m)}else j+=m}if(!e.length){e[0]=d;j+=m}j+=(l!==undefined?' class="'+l+m:d)+(f.title&&k?mc+c.jgrid.stripHtml(k)+m:d);j+=' aria-describedby="'+H.p.id+i+t+m;return j+e[0]},Yc=function(a){return a===undefined||a===e||a===d?V:H.p.autoencode?c.jgrid.htmlEncode(a):a+d},Vc=function(d,a,e,f,g){var b=H.p.colModel[e];if(typeof b.formatter!==t){d={rowId:d,colModel:b,gid:H.p.id,pos:e};a=c.isFunction(b.formatter)?b.formatter.call(H,a,d,f,g):c.fmatter?c.fn.fmatter(b.formatter,a,d,f,g):Yc(a)}else a=Yc(a);return a},Pc=function(c,b,d,f,e){b=Vc(c,b,d,e,"add");return Yb+Ac(d,f,b,e,c,a)+x+b+J},Wc=function(b,c,f){var g=lb+H.p.id+i+b+'" class="cbox" name="jqg_'+H.p.id+i+b+'"/>';return Yb+Ac(c,f,d,e,b,a)+x+g+J},Uc=function(d,c,b,g){b=(parseInt(b,f)-1)*parseInt(g,f)+1+c;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+Ac(d,c,b,e,c,a)+x+b+J},Xc=function(c){for(var a,d=[],e=0,b=0;b<H.p.colModel.length;b++){a=H.p.colModel[b];if(a.name!==W&&a.name!==fb&&a.name!==X){d[e]=c==k?a.name:c==xb?a.xmlmap||a.name:a.jsonmap||a.name;e++}}return d},Jc=function(b){var a=H.p.remapColumns;if(!a||!a.length)a=c.map(H.p.colModel,function(b,a){return a});if(b)a=c.map(a,function(a){return a<b?e:a-b});return a},xc=function(b,d,e){if(H.p.deepempty)c(j+c.jgrid.jqID(H.p.id)+mb).remove();else{var f=c(j+c.jgrid.jqID(H.p.id)+nb)[0];c(j+c.jgrid.jqID(H.p.id)+R).empty().append(f)}if(d&&H.p.scroll){c(Zb,b).css({height:"auto"}).children(ac).css({height:0,display:B});b.scrollTop=0}if(e===a)if(H.p.treeGrid===a){H.p.data=[];H.p._index={}}},Mc=function(){var g=H.p.data.length,e,d,f;e=H.p.rownumbers===a?1:0;d=H.p.multiselect===a?1:0;f=H.p.subGrid===a?1:0;e=H.p.keyIndex===b||H.p.loadonce===a?H.p.localReader.id:H.p.colModel[H.p.keyIndex+d+f+e].name;for(d=0;d<g;d++){f=c.jgrid.getAccessor(H.p.data[d],e);H.p._index[f]=d}},Qc=function(m,I,t,Q,C){var P=new Date,D=H.p.datatype!=k&&H.p.loadonce||H.p.datatype==bc,B=H.p.datatype==k?k:xb;if(D){H.p.data=[];H.p._index={};H.p.localReader.id=Ob}H.p.reccount=0;if(c.isXMLDoc(m)){if(H.p.treeANode===h&&!H.p.scroll){xc(I,b,a);t=1}else t=t>1?t:1;var g,z,v=0,r,o=0,u=0,n=0,q,w=[],y,l={},p,i,j=[],N=H.p.altRows===a?E+H.p.altclass:d;H.p.xmlReader.repeatitems||(w=Xc(B));q=H.p.keyIndex===b?H.p.xmlReader.id:H.p.keyIndex;if(w.length>0&&!isNaN(q)){if(H.p.remapColumns&&H.p.remapColumns.length)q=c.inArray(q,H.p.remapColumns);q=w[q]}B=(q+d).indexOf("[")===h?w.length?function(b,a){return c(q,b).text()||a}:function(b,a){return c(H.p.xmlReader.cell,b).eq(q).text()||a}:function(b,a){return b.getAttribute(q.replace(/[\[\]]/g,d))||a};H.p.userData={};c(H.p.xmlReader.page,m).each(function(){H.p.page=this.textContent||this.text||0});c(H.p.xmlReader.total,m).each(function(){H.p.lastpage=this.textContent||this.text;if(H.p.lastpage===undefined)H.p.lastpage=1});c(H.p.xmlReader.records,m).each(function(){H.p.records=this.textContent||this.text||0});c(H.p.xmlReader.userdata,m).each(function(){H.p.userData[this.getAttribute("name")]=c(this).text()});(m=c(H.p.xmlReader.root+E+H.p.xmlReader.row,m))||(m=[]);var x=m.length,s=0,F={},A;if(m&&x){A=parseInt(H.p.rowNum,f);var O=H.p.scroll?c.jgrid.randId():1;if(C)A*=C+1;C=c.isFunction(H.p.afterInsertRow);var J=d;if(H.p.grouping&&H.p.groupingView.groupCollapse===a)J=cc;for(;s<x;){p=m[s];i=B(p,O+s);i=H.p.idPrefix+i;g=t===0?0:t+1;g=(g+s)%2==1?N:d;j.push("<tr"+J+' id="'+i+'" tabindex="-1" role="row" class ="ui-widget-content jqgrow ui-row-'+H.p.direction+d+g+'">');if(H.p.rownumbers===a){j.push(Uc(0,s,H.p.page,H.p.rowNum));n=1}if(H.p.multiselect===a){j.push(Wc(i,n,s));o=1}if(H.p.subGrid===a){j.push(c(H).jqGrid(ib,o+n,s+t));u=1}if(H.p.xmlReader.repeatitems){y||(y=Jc(o+u+n));var L=c(H.p.xmlReader.cell,p);c.each(y,function(c){var a=L[this];if(!a)return b;r=a.textContent||a.text;l[H.p.colModel[c+o+u+n].name]=r;j.push(Pc(i,r,c+o+u+n,s+t,p))})}else for(g=0;g<w.length;g++){r=c(w[g],p).text();l[H.p.colModel[g+o+u+n].name]=r;j.push(Pc(i,r,g+o+u+n,s+t,p))}j.push(ab);if(H.p.grouping){g=H.p.groupingView.groupField.length;for(var K=[],G=0;G<g;G++)K.push(l[H.p.groupingView.groupField[G]]);F=c(H).jqGrid(dc,j,K,F,l);j=[]}if(D||H.p.treeGrid===a){l._id_=i;H.p.data.push(l);H.p._index[i]=H.p.data.length-1}if(H.p.gridview===b){c(kb,I).append(j.join(d));C&&H.p.afterInsertRow.call(H,i,l,p);j=[]}l={};v++;s++;if(v==A)break}}if(H.p.gridview===a){z=H.p.treeANode>h?H.p.treeANode:0;if(H.p.grouping){c(H).jqGrid(ec,F,H.p.colModel.length);F=e}else H.p.treeGrid===a&&z>0?c(H.rows[z]).after(j.join(d)):c(kb,I).append(j.join(d))}if(H.p.subGrid===a)try{c(H).jqGrid(jb,o+n)}catch(R){}H.p.totaltime=new Date-P;if(v>0)if(H.p.records===0)H.p.records=x;j=e;if(H.p.treeGrid===a)try{c(H).jqGrid(fc,z+1,v+z+1)}catch(S){}if(!H.p.treeGrid&&!H.p.scroll)H.grid.bDiv.scrollTop=0;H.p.reccount=v;H.p.treeANode=h;H.p.userDataOnFooter&&c(H).jqGrid(gc,Y,H.p.userData,a);if(D){H.p.records=x;H.p.lastpage=Math.ceil(x/A)}Q||H.updatepager(b,a);if(D)for(;v<x;){p=m[v];i=B(p,v);i=H.p.idPrefix+i;if(H.p.xmlReader.repeatitems){y||(y=Jc(o+u+n));var M=c(H.p.xmlReader.cell,p);c.each(y,function(c){var a=M[this];if(!a)return b;r=a.textContent||a.text;l[H.p.colModel[c+o+u+n].name]=r})}else for(g=0;g<w.length;g++){r=c(w[g],p).text();l[H.p.colModel[g+o+u+n].name]=r}l._id_=i;H.p.data.push(l);H.p._index[i]=H.p.data.length-1;l={};v++}}},Dc=function(l,g,v,L,i){var K=new Date;if(l){if(H.p.treeANode===h&&!H.p.scroll){xc(g,b,a);v=1}else v=v>1?v:1;var n,B=H.p.datatype!=k&&H.p.loadonce||H.p.datatype==hc;if(B){H.p.data=[];H.p._index={};H.p.localReader.id=Ob}H.p.reccount=0;if(H.p.datatype==k){g=H.p.localReader;n=k}else{g=H.p.jsonReader;n="json"}var r=0,q,m,z=[],s,w=0,x=0,t=0,u,y,p={},A,e,o=[],J=H.p.altRows===a?E+H.p.altclass:d;H.p.page=c.jgrid.getAccessor(l,g.page)||0;u=c.jgrid.getAccessor(l,g.total);H.p.lastpage=u===undefined?1:u;H.p.records=c.jgrid.getAccessor(l,g.records)||0;H.p.userData=c.jgrid.getAccessor(l,g.userdata)||{};g.repeatitems||(s=z=Xc(n));n=H.p.keyIndex===b?g.id:H.p.keyIndex;if(z.length>0&&!isNaN(n)){if(H.p.remapColumns&&H.p.remapColumns.length)n=c.inArray(n,H.p.remapColumns);n=z[n]}(y=c.jgrid.getAccessor(l,g.root))||(y=[]);u=y.length;l=0;var C=parseInt(H.p.rowNum,f),I=H.p.scroll?c.jgrid.randId():1;if(i)C*=i+1;var M=c.isFunction(H.p.afterInsertRow),D={},G=d;if(H.p.grouping&&H.p.groupingView.groupCollapse===a)G=cc;for(;l<u;){i=y[l];e=c.jgrid.getAccessor(i,n);if(e===undefined){e=I+l;if(z.length===0)if(g.cell)e=c.jgrid.getAccessor(i,g.cell)[n]||e}e=H.p.idPrefix+e;q=v===1?0:v;q=(q+l)%2==1?J:d;o.push("<tr"+G+' id="'+e+'" tabindex="-1" role="row" class= "ui-widget-content jqgrow ui-row-'+H.p.direction+d+q+'">');if(H.p.rownumbers===a){o.push(Uc(0,l,H.p.page,H.p.rowNum));t=1}if(H.p.multiselect){o.push(Wc(e,t,l));w=1}if(H.p.subGrid){o.push(c(H).jqGrid(ib,w+t,l+v));x=1}if(g.repeatitems){if(g.cell)i=c.jgrid.getAccessor(i,g.cell);s||(s=Jc(w+x+t))}for(m=0;m<s.length;m++){q=c.jgrid.getAccessor(i,s[m]);o.push(Pc(e,q,m+w+x+t,l+v,i));p[H.p.colModel[m+w+x+t].name]=q}o.push(ab);if(H.p.grouping){q=H.p.groupingView.groupField.length;m=[];for(var F=0;F<q;F++)m.push(p[H.p.groupingView.groupField[F]]);D=c(H).jqGrid(dc,o,m,D,p);o=[]}if(B||H.p.treeGrid===a){p._id_=e;H.p.data.push(p);H.p._index[e]=H.p.data.length-1}if(H.p.gridview===b){c(j+c.jgrid.jqID(H.p.id)+R).append(o.join(d));M&&H.p.afterInsertRow.call(H,e,p,i);o=[]}p={};r++;l++;if(r==C)break}if(H.p.gridview===a){A=H.p.treeANode>h?H.p.treeANode:0;if(H.p.grouping)c(H).jqGrid(ec,D,H.p.colModel.length);else H.p.treeGrid===a&&A>0?c(H.rows[A]).after(o.join(d)):c(j+c.jgrid.jqID(H.p.id)+R).append(o.join(d))}if(H.p.subGrid===a)try{c(H).jqGrid(jb,w+t)}catch(N){}H.p.totaltime=new Date-K;if(r>0)if(H.p.records===0)H.p.records=u;if(H.p.treeGrid===a)try{c(H).jqGrid(fc,A+1,r+A+1)}catch(O){}if(!H.p.treeGrid&&!H.p.scroll)H.grid.bDiv.scrollTop=0;H.p.reccount=r;H.p.treeANode=h;H.p.userDataOnFooter&&c(H).jqGrid(gc,Y,H.p.userData,a);if(B){H.p.records=u;H.p.lastpage=Math.ceil(u/C)}L||H.updatepager(b,a);if(B)for(;r<u&&y[r];){i=y[r];e=c.jgrid.getAccessor(i,n);if(e===undefined){e=I+r;if(z.length===0)if(g.cell)e=c.jgrid.getAccessor(i,g.cell)[n]||e}if(i){e=H.p.idPrefix+e;if(g.repeatitems){if(g.cell)i=c.jgrid.getAccessor(i,g.cell);s||(s=Jc(w+x+t))}for(m=0;m<s.length;m++){q=c.jgrid.getAccessor(i,s[m]);p[H.p.colModel[m+w+x+t].name]=q}p._id_=e;H.p.data.push(p);H.p._index[e]=H.p.data.length-1;p={}}r++}}},bd=function(){var g="OR";function y(a){var f=0,b,e,k,j,d;if(a.groups!==undefined){(e=a.groups.length&&a.groupOp.toString().toUpperCase()===g)&&h.orBegin();for(b=0;b<a.groups.length;b++){f>0&&e&&h.or();try{y(a.groups[b])}catch(l){alert(l)}f++}e&&h.orEnd()}if(a.rules!==undefined){if(f>0){e=h.select();h=c.jgrid.from(e);if(H.p.ignoreCase)h=h.ignoreCase()}try{(k=a.rules.length&&a.groupOp.toString().toUpperCase()===g)&&h.orBegin();for(b=0;b<a.rules.length;b++){d=a.rules[b];j=a.groupOp.toString().toUpperCase();if(u[d.op]&&d.field){if(f>0&&j&&j===g)h=h.or();h=u[d.op](h,j)(d.field,d.data,i[d.field])}f++}k&&h.orEnd()}catch(m){alert(m)}}}var k,n=b,i={},q=[],x=[],r,m,v;if(c.isArray(H.p.data)){var w=H.p.grouping?H.p.groupingView:b;c.each(H.p.colModel,function(){var b=this;m=b.sorttype||P;if(m==D||m==cb){if(b.formatter&&typeof b.formatter===s&&b.formatter==D){r=b.formatoptions&&b.formatoptions.srcformat?b.formatoptions.srcformat:c.jgrid.formatter.date.srcformat;v=b.formatoptions&&b.formatoptions.newformat?b.formatoptions.newformat:c.jgrid.formatter.date.newformat}else r=v=b.datefmt||db;i[b.name]={stype:m,srcfmt:r,newfmt:v}}else i[b.name]={stype:m,srcfmt:d,newfmt:d};if(H.p.grouping&&b.name==w.groupField[0]){var e=b.name;if(typeof b.index!=t)e=b.index;q[0]=i[e];x.push(e)}if(!n&&(b.index==H.p.sortname||b.name==H.p.sortname)){k=b.name;n=a}});if(H.p.treeGrid)c(H).jqGrid("SortTree",k,H.p.sortorder,i[k].stype,i[k].srcfmt);else{var u={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return b===g?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return b===g?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return b===g?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return b===g?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return b===g?a.orNot().isNull:a.andNot().isNull}},h=c.jgrid.from(H.p.data);if(H.p.ignoreCase)h=h.ignoreCase();if(H.p.search===a){var j=H.p.postData.filters;if(j){if(typeof j==s)j=c.jgrid.parse(j);y(j)}else try{h=u[H.p.postData.searchOper](h)(H.p.postData.searchField,H.p.postData.searchString,i[H.p.postData.searchField])}catch(B){}}if(H.p.grouping){h.orderBy(x,w.groupOrder[0],q[0].stype,q[0].srcfmt);w.groupDataSorted=a}if(k&&H.p.sortorder&&n)H.p.sortorder.toUpperCase()=="DESC"?h.orderBy(H.p.sortname,"d",i[k].stype,i[k].srcfmt):h.orderBy(H.p.sortname,"a",i[k].stype,i[k].srcfmt);j=h.select();var o=parseInt(H.p.rowNum,f),z=j.length,p=parseInt(H.p.page,f),A=Math.ceil(z/o),l={};j=j.slice((p-1)*o,p*o);i=h=e;l[H.p.localReader.total]=A;l[H.p.localReader.page]=p;l[H.p.localReader.records]=z;l[H.p.localReader.root]=j;l[H.p.localReader.userdata]=H.p.userData;j=e;return l}}},Kc=function(){H.grid.hDiv.loading=a;if(!H.p.hiddengrid)switch(H.p.loadui){case Nb:c(Db+c.jgrid.jqID(H.p.id)).show();break;case Hb:c("#lui_"+c.jgrid.jqID(H.p.id)).show();c(Db+c.jgrid.jqID(H.p.id)).show()}},wc=function(){H.grid.hDiv.loading=b;switch(H.p.loadui){case Nb:c(Db+c.jgrid.jqID(H.p.id)).hide();break;case Hb:c("#lui_"+c.jgrid.jqID(H.p.id)).hide();c(Db+c.jgrid.jqID(H.p.id)).hide()}},jc=function(g){if(!H.grid.hDiv.loading){var n=H.p.scroll&&g===b,d={},j,f=H.p.prmNames;if(H.p.page<=0)H.p.page=1;if(f.search!==e)d[f.search]=H.p.search;if(f.nd!==e)d[f.nd]=(new Date).getTime();if(f.rows!==e)d[f.rows]=H.p.rowNum;if(f.page!==e)d[f.page]=H.p.page;if(f.sort!==e)d[f.sort]=H.p.sortname;if(f.order!==e)d[f.order]=H.p.sortorder;if(H.p.rowTotal!==e&&f.totalrows!==e)d[f.totalrows]=H.p.rowTotal;var h=H.p.loadComplete,l=c.isFunction(h);l||(h=e);var i=0;g=g||1;if(g>1)if(f.npage!==e){d[f.npage]=g;i=g-1;g=1}else h=function(a){H.p.page++;H.grid.hDiv.loading=b;l&&H.p.loadComplete.call(H,a);jc(g-1)};else f.npage!==e&&delete H.p.postData[f.npage];if(H.p.grouping){c(H).jqGrid("groupingSetup");if(H.p.groupingView.groupDataSorted===a)d[f.sort]=H.p.groupingView.groupField[0]+E+H.p.groupingView.groupOrder[0]+", "+d[f.sort]}c.extend(H.p.postData,d);var m=!H.p.scroll?1:H.rows.length-1;if(c.isFunction(H.p.datatype))H.p.datatype.call(H,H.p.postData,"load_"+H.p.id);else{if(c.isFunction(H.p.beforeRequest)){d=H.p.beforeRequest.call(H);if(d===undefined)d=a;if(d===b)return}j=H.p.datatype.toLowerCase();switch(j){case"json":case"jsonp":case xb:case"script":c.ajax(c.extend({url:H.p.url,type:H.p.mtype,dataType:j,data:c.isFunction(H.p.serializeGridData)?H.p.serializeGridData.call(H,H.p.postData):H.p.postData,success:function(a,d,b){c.isFunction(H.p.beforeProcessing)&&H.p.beforeProcessing.call(H,a,d,b);j===xb?Qc(a,H.grid.bDiv,m,g>1,i):Dc(a,H.grid.bDiv,m,g>1,i);h&&h.call(H,a);n&&H.grid.populateVisible();if(H.p.loadonce||H.p.treeGrid)H.p.datatype=k;g===1&&wc()},error:function(d,b,a){c.isFunction(H.p.loadError)&&H.p.loadError.call(H,d,b,a);g===1&&wc()},beforeSend:function(f,e){var d=a;if(c.isFunction(H.p.loadBeforeSend))d=H.p.loadBeforeSend.call(H,f,e);if(d===undefined)d=a;if(d===b)return b;else Kc()}},c.jgrid.ajaxOptions,H.p.ajaxGridOptions));break;case bc:Kc();d=c.jgrid.stringToDoc(H.p.datastr);Qc(d,H.grid.bDiv);l&&H.p.loadComplete.call(H,d);H.p.datatype=k;H.p.datastr=e;wc();break;case hc:Kc();d=typeof H.p.datastr==s?c.jgrid.parse(H.p.datastr):H.p.datastr;Dc(d,H.grid.bDiv);l&&H.p.loadComplete.call(H,d);H.p.datatype=k;H.p.datastr=e;wc();break;case k:case"clientside":Kc();H.p.datatype=k;d=bd();Dc(d,H.grid.bDiv,m,g>1,i);h&&h.call(H,d);n&&H.grid.populateVisible();wc()}}}};Bc=function(q,k){var h=".ui-pg-selbox",t="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",g="<td id='",s="<td dir='",w=d,f="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",v=d,u,p,z,A,y=function(f){var d;if(c.isFunction(H.p.onPaging))d=H.p.onPaging.call(H,f);H.p.selrow=e;if(H.p.multiselect){H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,b)}H.p.savedRow=[];return d=="stop"?b:a};q=q.substr(1);k+=i+q;u="pg_"+q;p=q+"_left";z=q+"_center";A=q+"_right";c(j+c.jgrid.jqID(q)).append(nc+u+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+p+"' align='left'></td><td id='"+z+"' align='center' style='white-space:pre;'></td><td id='"+A+"' align='right'></td></tr></tbody></table></div>").attr("dir",sb);if(H.p.rowList.length>0){v=s+Bb+Ab;v+="<select class='ui-pg-selbox' role='listbox'>";for(p=0;p<H.p.rowList.length;p++)v+='<option role="option" value="'+H.p.rowList[p]+m+(H.p.rowNum==H.p.rowList[p]?' selected="selected"':d)+x+H.p.rowList[p]+"</option>";v+="</select></td>"}if(Bb==tb)f+=v;if(H.p.pginput===a)w=s+Bb+Ab+c.jgrid.format(H.p.pgtext||d,"<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+c.jgrid.jqID(q)+oc)+J;if(H.p.pgbuttons===a){p=[gb+k,"prev"+k,"next"+k,N+k];Bb==tb&&p.reverse();f+=g+p[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>";f+=g+p[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>";f+=w!==d?t+w+t:d;f+=g+p[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>";f+=g+p[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else if(w!==d)f+=w;if(Bb==sb)f+=v;f+=pc;H.p.viewrecords===a&&c("td#"+q+i+H.p.recordpos,j+u).append("<div dir='"+Bb+"' style='text-align:"+H.p.recordpos+"' class='ui-paging-info'></div>");c("td#"+q+i+H.p.pagerpos,j+u).append(f);v=c(".ui-jqgrid").css("font-size")||"11px";c(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+v+";visibility:hidden;' ></div>");f=c(f).clone().appendTo("#testpg").width();c("#testpg").remove();if(f>0){if(w!==d)f+=50;c("td#"+q+i+H.p.pagerpos,j+u).width(f)}H.p._nvtd=[];H.p._nvtd[0]=f?Math.floor((H.p.width-f)/2):Math.floor(H.p.width/3);H.p._nvtd[1]=0;f=e;c(h,j+u).bind("change",function(){var a=this;H.p.page=Math.round(H.p.rowNum*(H.p.page-1)/a.value-.5)+1;H.p.rowNum=a.value;if(k)c(h,H.p.pager).val(a.value);else H.p.toppager&&c(h,H.p.toppager).val(a.value);if(!y(Pb))return b;jc();return b});if(H.p.pgbuttons===a){c(".ui-pg-button",j+u).hover(function(){var a=this;if(c(a).hasClass(l))a.style.cursor=Eb;else{c(a).addClass(hb);a.style.cursor="pointer"}},function(){if(!c(this).hasClass(l)){c(this).removeClass(hb);this.style.cursor=Eb}});c(Jb+c.jgrid.jqID(k)+Kb+c.jgrid.jqID(k)+", #next"+c.jgrid.jqID(k)+Lb+c.jgrid.jqID(k)).click(function(){var e=this,c=zc(H.p.page,1),d=zc(H.p.lastpage,1),f=b,j=a,i=a,g=a,h=a;if(d===0||d===1)h=g=i=j=b;else if(d>1&&c>=1){if(c===1)i=j=b;else if(!(c>1&&c<d))if(c===d)h=g=b}else if(d>1&&c===0){h=g=b;c=d-1}if(e.id===gb+k&&j){H.p.page=1;f=a}if(e.id==="prev"+k&&i){H.p.page=c-1;f=a}if(e.id==="next"+k&&g){H.p.page=c+1;f=a}if(e.id===N+k&&h){H.p.page=d;f=a}if(f){if(!y(e.id))return b;jc()}return b})}H.p.pginput===a&&c("input.ui-pg-input",j+u).keypress(function(a){if((a.charCode?a.charCode:a.keyCode?a.keyCode:0)==13){H.p.page=c(this).val()>0?c(this).val():H.p.page;if(!y("user"))return b;jc();return b}return this})};var Rc=function(i,d,f,h){var g="span.s-ico";if(H.p.colModel[d].sortable)if(!(H.p.savedRow.length>0)){if(!f){if(H.p.lastsort==d){if(H.p.sortorder==M)H.p.sortorder=eb;else if(H.p.sortorder==eb)H.p.sortorder=M}else H.p.sortorder=H.p.colModel[d].firstsortorder||M;H.p.page=1}if(h)if(H.p.lastsort==d&&H.p.sortorder==h&&!f)return;else H.p.sortorder=h;f=H.grid.headers[H.p.lastsort].el;h=H.grid.headers[d].el;c("span.ui-grid-ico-sort",f).addClass(l);c(f).attr(z,G);c("span.ui-icon-"+H.p.sortorder,h).removeClass(l);c(h).attr(z,Z);if(!H.p.viewsortcols[0])if(H.p.lastsort!=d){c(g,f).hide();c(g,h).show()}i=i.substring(5+H.p.id.length+1);H.p.sortname=H.p.colModel[d].index||i;f=H.p.sortorder;if(c.isFunction(H.p.onSortCol))if(H.p.onSortCol.call(H,i,d,f)=="stop"){H.p.lastsort=d;return}if(H.p.datatype==k)H.p.deselectAfterSort&&c(H).jqGrid(ic);else{H.p.selrow=e;H.p.multiselect&&c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,b);H.p.selarrrow=[];H.p.savedRow=[]}if(H.p.scroll){f=H.grid.bDiv.scrollLeft;xc(H.grid.bDiv,a,b);H.grid.hDiv.scrollLeft=f}H.p.subGrid&&H.p.datatype==k&&c("td.sgexpanded",j+c.jgrid.jqID(H.p.id)).each(function(){c(this).trigger(O)});jc();H.p.lastsort=d;if(H.p.sortname!=i&&d)H.p.lastsort=d}},Zc=function(h){var e="border-bottom-width";for(var d={},i=Oc?0:H.p.cellLayout,g=d[0]=d[1]=d[2]=0;g<=h;g++)if(H.p.colModel[g].hidden===b)d[0]+=H.p.colModel[g].width+i;if(H.p.direction==tb)d[0]=H.p.width-d[0];d[0]-=H.grid.bDiv.scrollLeft;if(c(H.grid.cDiv).is(":visible"))d[1]+=c(H.grid.cDiv).height()+parseInt(c(H.grid.cDiv).css("padding-top"),f)+parseInt(c(H.grid.cDiv).css("padding-bottom"),f);if(H.p.toolbar[0]===a&&(H.p.toolbar[1]=="top"||H.p.toolbar[1]==bb))d[1]+=c(H.grid.uDiv).height()+parseInt(c(H.grid.uDiv).css("border-top-width"),f)+parseInt(c(H.grid.uDiv).css(e),f);if(H.p.toppager)d[1]+=c(H.grid.topDiv).height()+parseInt(c(H.grid.topDiv).css(e),f);d[2]+=c(H.grid.bDiv).height()+c(H.grid.hDiv).height();return d},Sc=function(b){for(var d=H.grid.headers,e=c.jgrid.getCellIndex(b),a=0;a<d.length;a++)if(b===d[a].el){e=a;break}return e};U.p.id=U.id;if(c.inArray(H.p.multikey,["shiftKey","altKey","ctrlKey"])==h)H.p.multikey=b;H.p.keyIndex=b;for(rb=0;rb<H.p.colModel.length;rb++){H.p.colModel[rb]=c.extend(a,{},H.p.cmTemplate,H.p.colModel[rb].template||{},H.p.colModel[rb]);if(H.p.keyIndex===b&&H.p.colModel[rb].key===a)H.p.keyIndex=rb}H.p.sortorder=H.p.sortorder.toLowerCase();if(H.p.grouping===a){H.p.scroll=b;H.p.rownumbers=b;H.p.subGrid=b;H.p.treeGrid=b;H.p.gridview=a}if(U.p.treeGrid===a){try{c(U).jqGrid("setTreeGrid")}catch(cd){}if(H.p.datatype!=k)H.p.localReader={id:Ob}}if(U.p.subGrid)try{c(H).jqGrid("setSubGrid")}catch(dd){}if(U.p.multiselect){U.p.colNames.unshift("<input role='checkbox' id='cb_"+U.p.id+"' class='cbox' type='checkbox'/>");U.p.colModel.unshift({name:W,width:Oc?H.p.multiselectWidth+H.p.cellLayout:H.p.multiselectWidth,sortable:b,resizable:b,hidedlg:a,search:b,align:Sb,fixed:a})}if(U.p.rownumbers){U.p.colNames.unshift(d);U.p.colModel.unshift({name:X,width:H.p.rownumWidth,sortable:b,resizable:b,hidedlg:a,search:b,align:Sb,fixed:a})}H.p.xmlReader=c.extend(a,{root:wb,row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:a,cell:zb,id:"[id]",userdata:Tb,subgrid:{root:wb,row:"row",repeatitems:a,cell:zb}},H.p.xmlReader);H.p.jsonReader=c.extend(a,{root:wb,page:Rb,total:"total",records:Pb,repeatitems:a,cell:zb,id:qb,userdata:Tb,subgrid:{root:wb,repeatitems:a,cell:zb}},H.p.jsonReader);H.p.localReader=c.extend(a,{root:wb,page:Rb,total:"total",records:Pb,repeatitems:b,cell:zb,id:qb,userdata:Tb,subgrid:{root:wb,repeatitems:a,cell:zb}},H.p.localReader);if(H.p.scroll){H.p.pgbuttons=b;H.p.pginput=b;H.p.rowList=[]}H.p.data.length&&Mc();var Mb="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",Tc,qc,Ec,vc,Fc,Cb,ub,rc;qc=rc=d;if(H.p.shrinkToFit===a&&H.p.forceFit===a)for(rb=H.p.colModel.length-1;rb>=0;rb--)if(!H.p.colModel[rb].hidden){H.p.colModel[rb].resizable=b;break}if(H.p.viewsortcols[1]=="horizontal"){rc=" ui-i-asc";qc=" ui-i-desc"}Tc=Cc?"class='ui-th-div-ie'":d;rc="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+rc+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+Bb+oc;rc+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+qc+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+Bb+"'></span></span>";for(rb=0;rb<U.p.colNames.length;rb++){qc=H.p.headertitles?mc+c.jgrid.stripHtml(H.p.colNames[rb])+m:d;Mb+="<th id='"+H.p.id+i+H.p.colModel[rb].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+Bb+"'"+qc+x;qc=H.p.colModel[rb].index||H.p.colModel[rb].name;Mb+="<div id='jqgh_"+H.p.id+i+H.p.colModel[rb].name+"' "+Tc+x+H.p.colNames[rb];H.p.colModel[rb].width=H.p.colModel[rb].width?parseInt(H.p.colModel[rb].width,f):150;if(typeof H.p.colModel[rb].title!==S)H.p.colModel[rb].title=a;if(qc==H.p.sortname)H.p.lastsort=rb;Mb+=rc+"</div></th>"}Mb+="</tr></thead>";rc=e;c(U).append(Mb);c("thead tr:first th",U).hover(function(){c(this).addClass(hb)},function(){c(this).removeClass(hb)});if(U.p.multiselect){var Nc=[],Gc;c(C+c.jgrid.jqID(H.p.id),U).bind(O,function(){H.p.selarrrow=[];if(this.checked){c(H.rows).each(function(d){var b=this;if(d>0)if(!c(b).hasClass(F)&&!c(b).hasClass("jqgroup")&&!c(b).hasClass(l)){c(v+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(b.id))[H.p.useProp?n:o](r,a);c(b).addClass(u).attr(z,Z);H.p.selarrrow.push(b.id);H.p.selrow=b.id}});Gc=a;Nc=[]}else{c(H.rows).each(function(d){var a=this;if(d>0)if(!c(a).hasClass(F)&&!c(a).hasClass(l)){c(v+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(a.id))[H.p.useProp?n:o](r,b);c(a).removeClass(u).attr(z,G);Nc.push(a.id)}});H.p.selrow=e;Gc=b}c.isFunction(H.p.onSelectAll)&&H.p.onSelectAll.call(H,Gc?H.p.selarrrow:Nc,Gc)})}if(H.p.autowidth===a){Mb=c(yc).innerWidth();H.p.width=Mb>0?Mb:"nw"}(function(){var d=0,e=Oc?0:H.p.cellLayout,g=0,l,m=H.p.scrollOffset,i,n=b,k,h=0,o=0,j;c.each(H.p.colModel,function(){var a=this;if(typeof a.hidden===t)a.hidden=b;a.widthOrg=i=zc(a.width,0);if(a.hidden===b){d+=i+e;if(a.fixed)h+=i+e;else g++;o++}});if(isNaN(H.p.width))H.p.width=K.width=d;else K.width=H.p.width;H.p.tblwidth=d;if(H.p.shrinkToFit===b&&H.p.forceFit===a)H.p.forceFit=b;if(H.p.shrinkToFit===a&&g>0){k=K.width-e*g-h;if(!isNaN(H.p.height)){k-=m;n=a}d=0;c.each(H.p.colModel,function(c){var a=this;if(a.hidden===b&&!a.fixed){a.width=i=Math.round(k*a.width/(H.p.tblwidth-e*g-h));d+=i;l=c}});j=0;if(n){if(K.width-h-(d+e*g)!==m)j=K.width-h-(d+e*g)-m}else if(!n&&Math.abs(K.width-h-(d+e*g))!==1)j=K.width-h-(d+e*g);H.p.colModel[l].width+=j;H.p.tblwidth=d+j+e*g+h;if(H.p.tblwidth>H.p.width){H.p.colModel[l].width-=H.p.tblwidth-parseInt(H.p.width,f);H.p.tblwidth=H.p.width}}})();c(yc).css(q,K.width+g).append("<div class='ui-jqgrid-resize-mark' id='rs_m"+H.p.id+"'>&#160;</div>");c(Fb).css(q,K.width+g);Mb=c(pb,H).get(0);var Hc=d;if(H.p.footerrow)Hc+="<table role='grid' style='width:"+H.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+Bb+Ab;Fb=c("tr:first",Mb);var Ic="<tr class='jqgfirstrow' role='row' style='height:auto'>";H.p.disableClick=b;c("th",Fb).each(function(f){var j="div span.ui-icon-",i="div span.s-ico",h=this;Ec=H.p.colModel[f].width;if(typeof H.p.colModel[f].resizable===t)H.p.colModel[f].resizable=a;if(H.p.colModel[f].resizable){vc=document.createElement(T);c(vc).html(V).addClass("ui-jqgrid-resize ui-jqgrid-resize-"+Bb);c.browser.opera||c(vc).css("cursor",Wb);c(h).addClass(H.p.resizeclass)}else vc=d;c(h).css(q,Ec+g).prepend(vc);var k=d;if(H.p.colModel[f].hidden){c(h).css(I,B);k=Xb}Ic+="<td role='gridcell' style='height:0px;width:"+Ec+"px;"+k+"'></td>";K.headers[f]={width:Ec,el:h};Fc=H.p.colModel[f].sortable;if(typeof Fc!==S)Fc=H.p.colModel[f].sortable=a;k=H.p.colModel[f].name;k==W||k==fb||k==X||H.p.viewsortcols[2]&&c(vb,h).addClass("ui-jqgrid-sortable");if(Fc)if(H.p.viewsortcols[0]){c(i,h).show();f==H.p.lastsort&&c(j+H.p.sortorder,h).removeClass(l)}else if(f==H.p.lastsort){c(i,h).show();c(j+H.p.sortorder,h).removeClass(l)}if(H.p.footerrow)Hc+="<td role='gridcell' "+Ac(f,0,d,e,d,b)+">&#160;</td>"}).mousedown(function(f){if(c(f.target).closest("th>span.ui-jqgrid-resize").length==1){var d=Sc(this);if(H.p.forceFit===a){for(var h=H.p,g=d,e=d+1;e<H.p.colModel.length;e++)if(H.p.colModel[e].hidden!==a){g=e;break}h.nv=g-d}K.dragStart(d,f,Zc(d));return b}}).click(function(d){if(H.p.disableClick)return H.p.disableClick=b;var e="th>div.ui-jqgrid-sortable",f,g;H.p.viewsortcols[2]||(e="th>div>span>span.ui-grid-ico-sort");d=c(d.target).closest(e);if(d.length==1){e=Sc(this);if(!H.p.viewsortcols[2]){f=a;g=d.attr("sort")}Rc(c(vb,this)[0].id,e,f,g);return b}});if(H.p.sortable&&c.fn.sortable)try{c(H).jqGrid("sortableColumns",Fb)}catch(ed){}if(H.p.footerrow)Hc+=pc;Ic+=ab;U.appendChild(document.createElement("tbody"));c(U).addClass("ui-jqgrid-btable").append(Ic);Ic=e;Fb=c("<table class='ui-jqgrid-htable' style='width:"+H.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+U.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(Mb);var Qb=H.p.caption&&H.p.hiddengrid===a?a:b;rb=c(sc+(Bb==tb?Ub:d)+Ib);Mb=e;K.hDiv=document.createElement(vb);c(K.hDiv).css({width:K.width+g}).addClass("ui-state-default ui-jqgrid-hdiv").append(rb);c(rb).append(Fb);Fb=e;Qb&&c(K.hDiv).hide();if(H.p.pager){if(typeof H.p.pager==s){if(H.p.pager.substr(0,1)!=j)H.p.pager=j+H.p.pager}else H.p.pager=j+c(H.p.pager).attr(qb);c(H.p.pager).css({width:K.width+g}).appendTo(yc).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");Qb&&c(H.p.pager).hide();Bc(H.p.pager,d)}H.p.cellEdit===b&&H.p.hoverrows===a&&c(H).bind("mouseover",function(a){ub=c(a.target).closest(yb);c(ub).attr("class")!==F&&c(ub).addClass(hb)}).bind("mouseout",function(a){ub=c(a.target).closest(yb);c(ub).removeClass(hb)});var kc,lc;c(H).before(K.hDiv).click(function(e){Cb=e.target;ub=c(Cb,H.rows).closest(yb);if(c(ub).length===0||ub[0].className.indexOf(l)>h)return this;var d=c(Cb).hasClass("cbox"),f=a;if(c.isFunction(H.p.beforeSelectRow))f=H.p.beforeSelectRow.call(H,ub[0].id,e);if(Cb.tagName=="A"||(Cb.tagName=="INPUT"||Cb.tagName=="TEXTAREA"||Cb.tagName=="OPTION"||Cb.tagName=="SELECT")&&!d)return this;if(f===a){if(H.p.cellEdit===a)if(H.p.multiselect&&d)c(H).jqGrid(y,ub[0].id,a);else{kc=ub[0].rowIndex;lc=c.jgrid.getCellIndex(Cb);try{c(H).jqGrid("editCell",kc,lc,a)}catch(g){}}else if(H.p.multikey){if(e[H.p.multikey])c(H).jqGrid(y,ub[0].id,a);else if(H.p.multiselect&&d){d=c(v+c.jgrid.jqID(H.p.id)+i+ub[0].id).is(":checked");c(v+c.jgrid.jqID(H.p.id)+i+ub[0].id)[H.p.useProp?n:o](r,d)}}else{if(H.p.multiselect&&H.p.multiboxonly)if(!d){c(H.p.selarrrow).each(function(e,a){var d=H.rows.namedItem(a);c(d).removeClass(u);c(v+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(a))[H.p.useProp?n:o](r,b)});H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,b)}c(H).jqGrid(y,ub[0].id,a)}if(c.isFunction(H.p.onCellSelect)){kc=ub[0].id;lc=c.jgrid.getCellIndex(Cb);H.p.onCellSelect.call(H,kc,lc,c(Cb).html(),e)}}return this}).bind("reloadGrid",function(g,f){if(H.p.treeGrid===a)H.p.datatype=H.p.treedatatype;f&&f.current&&H.grid.selectionPreserver(H);if(H.p.datatype==k){c(H).jqGrid(ic);H.p.data.length&&Mc()}else if(!H.p.treeGrid){H.p.selrow=e;if(H.p.multiselect){H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,b)}H.p.savedRow=[]}H.p.scroll&&xc(H.grid.bDiv,a,b);if(f&&f.page){var d=f.page;if(d>H.p.lastpage)d=H.p.lastpage;if(d<1)d=1;H.p.page=d;H.grid.bDiv.scrollTop=H.grid.prevRowHeight?(d-1)*H.grid.prevRowHeight*H.p.rowNum:0}if(H.grid.prevRowHeight&&H.p.scroll){delete H.p.lastpage;H.grid.populateVisible()}else H.grid.populate();return b});c.isFunction(U.p.ondblClickRow)&&c(U).dblclick(function(a){Cb=a.target;ub=c(Cb,H.rows).closest(yb);if(c(ub).length===0)return b;kc=ub[0].rowIndex;lc=c.jgrid.getCellIndex(Cb);H.p.ondblClickRow.call(H,c(ub).attr(qb),kc,lc,a);return b});c.isFunction(U.p.onRightClickRow)&&c(U).bind("contextmenu",function(d){Cb=d.target;ub=c(Cb,H.rows).closest(yb);if(c(ub).length===0)return b;H.p.multiselect||c(H).jqGrid(y,ub[0].id,a);kc=ub[0].rowIndex;lc=c.jgrid.getCellIndex(Cb);H.p.onRightClickRow.call(H,c(ub).attr(qb),kc,lc,d);return b});K.bDiv=document.createElement(vb);if(Cc)if(String(H.p.height).toLowerCase()==="auto")H.p.height="100%";c(K.bDiv).append(c('<div style="position:relative;'+(Cc&&c.browser.version<8?"height:0.01%;":d)+'"></div>').append("<div></div>").append(U)).addClass("ui-jqgrid-bdiv").css({height:H.p.height+(isNaN(H.p.height)?d:g),width:K.width+g}).scroll(K.scrollGrid);c(A,K.bDiv).css({width:H.p.tblwidth+g});if(Cc){c("tbody",U).size()==2&&c("tbody:gt(0)",U).remove();H.p.multikey&&c(K.bDiv).bind(tc,function(){return b})}else H.p.multikey&&c(K.bDiv).bind("mousedown",function(){return b});Qb&&c(K.bDiv).hide();K.cDiv=document.createElement(vb);var Lc=H.p.hidegrid===a?c("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){Lc.addClass(hb)},function(){Lc.removeClass(hb)}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css(Bb==tb?"left":"right","0px"):d;c(K.cDiv).append(Lc).append("<span class='ui-jqgrid-title"+(Bb==tb?Ub:d)+Ab+H.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");c(K.cDiv).insertBefore(K.hDiv);if(H.p.toolbar[0]){K.uDiv=document.createElement(vb);if(H.p.toolbar[1]=="top")c(K.uDiv).insertBefore(K.hDiv);else H.p.toolbar[1]=="bottom"&&c(K.uDiv).insertAfter(K.hDiv);if(H.p.toolbar[1]==bb){K.ubDiv=document.createElement(vb);c(K.uDiv).insertBefore(K.hDiv).addClass(Vb).attr(qb,"t_"+U.id);c(K.ubDiv).insertAfter(K.hDiv).addClass(Vb).attr(qb,"tb_"+U.id);Qb&&c(K.ubDiv).hide()}else c(K.uDiv).width(K.width).addClass(Vb).attr(qb,"t_"+U.id);Qb&&c(K.uDiv).hide()}if(H.p.toppager){H.p.toppager=c.jgrid.jqID(H.p.id)+"_toppager";K.topDiv=c(nc+H.p.toppager+Ib)[0];H.p.toppager=j+H.p.toppager;c(K.topDiv).insertBefore(K.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(K.width);Bc(H.p.toppager,"_t")}if(H.p.footerrow){K.sDiv=c("<div class='ui-jqgrid-sdiv'></div>")[0];rb=c(sc+(Bb==tb?Ub:d)+Ib);c(K.sDiv).append(rb).insertAfter(K.hDiv).width(K.width);c(rb).append(Hc);K.footers=c(".ui-jqgrid-ftable",K.sDiv)[0].rows[0].cells;if(H.p.rownumbers)K.footers[0].className="ui-state-default jqgrid-rownum";Qb&&c(K.sDiv).hide()}rb=e;if(H.p.caption){var ad=H.p.datatype;if(H.p.hidegrid===a){c(uc,K.cDiv).click(function(j){var g=".ui-resizable-handle",f="ui-resizable",e="ui-icon-circle-triangle-s",d="ui-icon-circle-triangle-n",k=c.isFunction(H.p.onHeaderClick),h=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",i,l=this;if(H.p.toolbar[0]===a){if(H.p.toolbar[1]==bb)h+=", #"+c(K.ubDiv).attr(qb);h+=", #"+c(K.uDiv).attr(qb)}i=c(h,"#gview_"+c.jgrid.jqID(H.p.id)).length;if(H.p.gridstate==Gb)c(h,w+c.jgrid.jqID(H.p.id)).slideUp("fast",function(){i--;if(i===0){c(T,l).removeClass(d).addClass(e);H.p.gridstate="hidden";c(w+c.jgrid.jqID(H.p.id)).hasClass(f)&&c(g,w+c.jgrid.jqID(H.p.id)).hide();if(k)Qb||H.p.onHeaderClick.call(H,H.p.gridstate,j)}});else H.p.gridstate=="hidden"&&c(h,w+c.jgrid.jqID(H.p.id)).slideDown("fast",function(){i--;if(i===0){c(T,l).removeClass(e).addClass(d);if(Qb){H.p.datatype=ad;jc();Qb=b}H.p.gridstate=Gb;c(w+c.jgrid.jqID(H.p.id)).hasClass(f)&&c(g,w+c.jgrid.jqID(H.p.id)).show();if(k)Qb||H.p.onHeaderClick.call(H,H.p.gridstate,j)}});return b});if(Qb){H.p.datatype=k;c(uc,K.cDiv).trigger(O)}}}else c(K.cDiv).hide();c(K.hDiv).after(K.bDiv).mousemove(function(a){if(K.resizing){K.dragMove(a);return b}});c(".ui-jqgrid-labels",K.hDiv).bind(tc,function(){return b});c(document).mouseup(function(){if(K.resizing){K.dragEnd();return b}return a});H.formatCol=Ac;H.sortData=Rc;H.updatepager=function(x,y){var q=", #last_t",p=", #prev_t",m="#first_t",k=".ui-paging-info",e,s,h,t,u,w,v,r=d,g=H.p.pager?i+c.jgrid.jqID(H.p.pager.substr(1)):d,j=H.p.toppager?i+H.p.toppager.substr(1):d;h=parseInt(H.p.page,f)-1;if(h<0)h=0;h*=parseInt(H.p.rowNum,f);u=h+H.p.reccount;if(H.p.scroll){e=c("tbody:first > tr:gt(0)",H.grid.bDiv);h=u-e.length;H.p.reccount=e.length;if(s=e.outerHeight()||H.grid.prevRowHeight){e=h*s;s*=parseInt(H.p.records,f);c(Zb,H.grid.bDiv).css({height:s}).children(ac).css({height:e,display:e?d:B})}H.grid.bDiv.scrollLeft=H.grid.hDiv.scrollLeft}r=H.p.pager?H.p.pager:d;r+=H.p.toppager?r?","+H.p.toppager:H.p.toppager:d;if(r){v=c.jgrid.formatter.integer||{};e=zc(H.p.page);s=zc(H.p.lastpage);c(".selbox",r)[this.p.useProp?n:o]("disabled",b);if(H.p.pginput===a){c(".ui-pg-input",r).val(H.p.page);t=H.p.toppager?"#sp_1"+g+",#sp_1"+j:"#sp_1"+g;c(t).html(c.fmatter?c.fmatter.util.NumberFormat(H.p.lastpage,v):H.p.lastpage)}if(H.p.viewrecords)if(H.p.reccount===0)c(k,r).html(H.p.emptyrecords);else{t=h+1;w=H.p.records;if(c.fmatter){t=c.fmatter.util.NumberFormat(t,v);u=c.fmatter.util.NumberFormat(u,v);w=c.fmatter.util.NumberFormat(w,v)}c(k,r).html(c.jgrid.format(H.p.recordtext,t,u,w))}if(H.p.pgbuttons===a){if(e<=0)e=s=0;if(e==1||e===0){c(Jb+g+Kb+g).addClass(l).removeClass(hb);H.p.toppager&&c(m+j+p+j).addClass(l).removeClass(hb)}else{c(Jb+g+Kb+g).removeClass(l);H.p.toppager&&c(m+j+p+j).removeClass(l)}if(e==s||e===0){c("#next"+g+Lb+g).addClass(l).removeClass(hb);H.p.toppager&&c("#next_t"+j+q+j).addClass(l).removeClass(hb)}else{c("#next"+g+Lb+g).removeClass(l);H.p.toppager&&c("#next_t"+j+q+j).removeClass(l)}}}x===a&&H.p.rownumbers===a&&c("td.jqgrid-rownum",H.rows).each(function(a){c(this).html(h+1+a)});y&&H.p.jqgdnd&&c(H).jqGrid("gridDnD","updateDnD");c.isFunction(H.p.gridComplete)&&H.p.gridComplete.call(H)};H.refreshIndex=Mc;H.formatter=function(a,b,c,d,e){return Vc(a,b,c,d,e)};c.extend(K,{populate:jc,emptyRows:xc});U.grid=K;H.addXmlData=function(a){Qc(a,H.grid.bDiv)};H.addJSONData=function(a){Dc(a,H.grid.bDiv)};U.grid.cols=U.rows[0].cells;jc();H.p.hiddengrid=b;c(window).unload(function(){H=e})}}}})};c.jgrid.extend({getGridParam:function(b){var a=this[0];if(a&&a.grid)return b?typeof a.p[b]!=t?a.p[b]:e:a.p},setGridParam:function(b){return this.each(function(){this.grid&&typeof b===H&&c.extend(a,this.p,b)})},getDataIDs:function(){var e=[],a=0,b,d=0;this.each(function(){if((b=this.rows.length)&&b>0)for(;a<b;){if(c(this.rows[a]).hasClass(U)){e[d]=this.rows[a].id;d++}a++}});return e},setSelection:function(g,f){return this.each(function(){function q(a){var e=c(j.grid.bDiv)[0].clientHeight,b=c(j.grid.bDiv)[0].scrollTop,d=j.rows[a].offsetTop;a=j.rows[a].clientHeight;if(d+a>=e+b)c(j.grid.bDiv)[0].scrollTop=d-(e+b)+a+b;else if(d<e+b)if(d<b)c(j.grid.bDiv)[0].scrollTop=d}var j=this,m,k,p;if(g!==undefined){f=f===b?b:a;k=j.rows.namedItem(g+d);if(!(!k||k.className.indexOf(l)>h)){if(j.p.scrollrows===a){m=j.rows.namedItem(g).rowIndex;m>=0&&q(m)}if(j.p.multiselect){c(C+c.jgrid.jqID(j.p.id),j.grid.hDiv)[j.p.useProp?n:o](r,b);j.p.selrow=k.id;p=c.inArray(j.p.selrow,j.p.selarrrow);if(p===h){k.className!==F&&c(k).addClass(u).attr(z,Z);m=a;c(v+c.jgrid.jqID(j.p.id)+i+c.jgrid.jqID(j.p.selrow))[j.p.useProp?n:o](r,m);j.p.selarrrow.push(j.p.selrow)}else{k.className!==F&&c(k).removeClass(u).attr(z,G);m=b;c(v+c.jgrid.jqID(j.p.id)+i+c.jgrid.jqID(j.p.selrow))[j.p.useProp?n:o](r,m);j.p.selarrrow.splice(p,1);p=j.p.selarrrow[0];j.p.selrow=p===undefined?e:p}j.p.onSelectRow&&f&&j.p.onSelectRow.call(j,k.id,m)}else if(k.className!==F){if(j.p.selrow!=k.id){c(j.rows.namedItem(j.p.selrow)).removeClass(u).attr({"aria-selected":G,tabindex:"-1"});c(k).addClass(u).attr({"aria-selected":Z,tabindex:L});m=a}else m=b;j.p.selrow=k.id;j.p.onSelectRow&&f&&j.p.onSelectRow.call(j,k.id,m)}}}})},resetSelection:function(d){return this.each(function(){var h=" tbody:first tr#",g=this,l,k;if(typeof d!==t){k=d===g.p.selrow?g.p.selrow:d;c(j+c.jgrid.jqID(g.p.id)+h+c.jgrid.jqID(k)).removeClass(u).attr(z,G);if(g.p.multiselect){c(v+c.jgrid.jqID(g.p.id)+i+c.jgrid.jqID(k))[g.p.useProp?n:o](r,b);c(C+c.jgrid.jqID(g.p.id))[g.p.useProp?n:o](r,b)}k=e}else if(g.p.multiselect){c(g.p.selarrrow).each(function(d,a){l=g.rows.namedItem(a);c(l).removeClass(u).attr(z,G);c(v+c.jgrid.jqID(g.p.id)+i+c.jgrid.jqID(a))[g.p.useProp?n:o](r,b)});c(C+c.jgrid.jqID(g.p.id))[g.p.useProp?n:o](r,b);g.p.selarrrow=[]}else if(g.p.selrow){c(j+c.jgrid.jqID(g.p.id)+h+c.jgrid.jqID(g.p.selrow)).removeClass(u).attr(z,G);g.p.selrow=e}if(g.p.cellEdit===a)if(parseInt(g.p.iCol,f)>=0&&parseInt(g.p.iRow,f)>=0){c(K+g.p.iCol+p,g.rows[g.p.iRow]).removeClass("edit-cell ui-state-highlight");c(g.rows[g.p.iRow]).removeClass("selected-row ui-state-hover")}g.p.savedRow=[]})},getRowData:function(i){var d={},e,f=b,g,h=0;this.each(function(){var j=this,b,k;if(typeof i==t){f=a;e=[];g=j.rows.length}else{k=j.rows.namedItem(i);if(!k)return d;g=2}for(;h<g;){if(f)k=j.rows[h];if(c(k).hasClass(U)){c("td",k).each(function(e){b=j.p.colModel[e].name;if(b!==W&&b!==fb&&b!==X)if(j.p.treeGrid===a&&b==j.p.ExpandColumn)d[b]=c.jgrid.htmlDecode(c("span:first",this).html());else try{d[b]=c.unformat(this,{rowId:k.id,colModel:j.p.colModel[e]},e)}catch(f){d[b]=c.jgrid.htmlDecode(c(this).html())}});if(f){e.push(d);d={}}}h++}});return e?e:d},delRowData:function(d){var g=b,i,f;this.each(function(){var j=this;if(i=j.rows.namedItem(d)){c(i).remove();j.p.records--;j.p.reccount--;j.updatepager(a,b);g=a;if(j.p.multiselect){f=c.inArray(d,j.p.selarrrow);f!=h&&j.p.selarrrow.splice(f,1)}if(d==j.p.selrow)j.p.selrow=e}else return b;if(j.p.datatype==k){var l=j.p._index[d];if(typeof l!=t){j.p.data.splice(l,1);j.refreshIndex()}}if(j.p.altRows===a&&g){var m=j.p.altclass;c(j.rows).each(function(a){a%2==1?c(this).addClass(m):c(this).removeClass(m)})}});return g},setRowData:function(g,f,i){var d,h=a,j;this.each(function(){if(!this.grid)return b;var l=this,o,m,u=typeof i,n={};m=l.rows.namedItem(g);if(!m)return b;if(f)try{c(this.p.colModel).each(function(e){var b=this;d=b.name;if(f[d]!==undefined){n[d]=b.formatter&&typeof b.formatter===s&&b.formatter==D?c.unformat.date(f[d],b):f[d];o=l.formatter(g,f[d],e,f,Q);j=b.title?{title:c.jgrid.stripHtml(o)}:{};l.p.treeGrid===a&&d==l.p.ExpandColumn?c(K+e+") > span:first",m).html(o).attr(j):c(K+e+p,m).html(o).attr(j)}});if(l.p.datatype==k){var q=l.p._index[g];if(l.p.treeGrid)for(var r in l.p.treeReader)n.hasOwnProperty(l.p.treeReader[r])&&delete n[l.p.treeReader[r]];if(typeof q!=t)l.p.data[q]=c.extend(a,l.p.data[q],n);n=e}}catch(v){h=b}if(h)if(u===s)c(m).addClass(i);else u===H&&c(m).css(i)});return h},addRowData:function(f,l,u,C){u||(u=N);var G=b,p,g,n,B,m,h,o,v,q=d,y,z,w,j,r;if(l){if(c.isArray(l)){y=a;u=N;z=f}else{l=[l];y=b}this.each(function(){var I='<td role="gridcell" aria-describedby="',H=this,P=l.length;m=H.p.rownumbers===a?1:0;n=H.p.multiselect===a?1:0;B=H.p.subGrid===a?1:0;if(!y)if(typeof f!=t)f+=d;else{f=c.jgrid.randId();if(H.p.keyIndex!==b){z=H.p.colModel[H.p.keyIndex+n+B+m].name;if(typeof l[0][z]!=t)f=l[0][z]}}w=H.p.altclass;for(var L=0,M=d,K={},O=c.isFunction(H.p.afterInsertRow)?a:b;L<P;){j=l[L];g=d;if(y){try{f=j[z]}catch(R){f=c.jgrid.randId()}M=H.p.altRows===a?(H.rows.length-1)%2===0?w:d:d}f=H.p.idPrefix+f;if(m){q=H.formatCol(0,1,d,e,f,a);g+=I+H.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+q+">0</td>"}if(n){v=lb+H.p.id+i+f+'" class="cbox"/>';q=H.formatCol(m,1,d,e,f,a);g+=I+H.p.id+'_cb" '+q+x+v+J}if(B)g+=c(H).jqGrid(ib,n+m,1);for(o=n+B+m;o<H.p.colModel.length;o++){r=H.p.colModel[o];p=r.name;K[p]=r.formatter&&typeof r.formatter===s&&r.formatter==D?c.unformat.date(j[p],r):j[p];v=H.formatter(f,c.jgrid.getAccessor(j,p),o,j,Q);q=H.formatCol(o,1,v,j,f,a);g+=I+H.p.id+i+p+'" '+q+x+v+J}g='<tr id="'+f+'" role="row" tabindex="-1" class="ui-widget-content jqgrow ui-row-'+H.p.direction+E+M+'">'+g+ab;if(H.rows.length===0)c(A,H.grid.bDiv).append(g);else switch(u){case N:c(H.rows[H.rows.length-1]).after(g);h=H.rows.length-1;break;case gb:c(H.rows[0]).after(g);h=1;break;case"after":if(h=H.rows.namedItem(C))c(H.rows[h.rowIndex+1]).hasClass(F)?c(H.rows[h.rowIndex+1]).after(g):c(h).after(g);h++;break;case"before":if(h=H.rows.namedItem(C)){c(h).before(g);h=h.rowIndex}h--}H.p.subGrid===a&&c(H).jqGrid(jb,n+m,h);H.p.records++;H.p.reccount++;O&&H.p.afterInsertRow.call(H,f,j,j);L++;if(H.p.datatype==k){K[H.p.localReader.id]=f;H.p._index[f]=H.p.data.length;H.p.data.push(K);K={}}}if(H.p.altRows===a&&!y)if(u==N)(H.rows.length-1)%2==1&&c(H.rows[H.rows.length-1]).addClass(w);else c(H.rows).each(function(a){a%2==1?c(this).addClass(w):c(this).removeClass(w)});H.updatepager(a,a);G=a})}return G},footerData:function(e,g,h){function l(c){for(var d in c)if(c.hasOwnProperty(d))return b;return a}var f,i=b,k={},j;if(typeof e==t)e="get";if(typeof h!=S)h=a;e=e.toLowerCase();this.each(function(){var m=this,n;if(!m.grid||!m.p.footerrow)return b;if(e==Y)if(l(g))return b;i=a;c(this.p.colModel).each(function(b){f=this.name;if(e==Y){if(g[f]!==undefined){n=h?m.formatter(d,g[f],b,g,Q):g[f];j=this.title?{title:c.jgrid.stripHtml(n)}:{};c(hb+b+p,m.grid.sDiv).html(n).attr(j);i=a}}else if(e=="get")k[f]=c(hb+b+p,m.grid.sDiv).html()})});return e=="get"?k:i},showHideCol:function(g,e){return this.each(function(){var i=this,l=b,m=c.browser.webkit||c.browser.safari?0:i.p.cellLayout,j;if(i.grid){if(typeof g===s)g=[g];e=e!=B?d:B;var n=e===d?a:b,k=i.p.groupHeader&&(typeof i.p.groupHeader===H||c.isFunction(i.p.groupHeader));k&&c(i).jqGrid("destroyGroupHeader",b);c(this.p.colModel).each(function(d){var b=this;if(c.inArray(b.name,g)!==h&&b.hidden===n){c("tr",i.grid.hDiv).each(function(){c(this.cells[d]).css(I,e)});c(i.rows).each(function(){c(this.cells[d]).css(I,e)});i.p.footerrow&&c(hb+d+p,i.grid.sDiv).css(I,e);j=b.widthOrg?b.widthOrg:parseInt(b.width,f);if(e===B)i.p.tblwidth-=j+m;else i.p.tblwidth+=j+m;b.hidden=!n;l=a}});l===a&&c(i).jqGrid("setGridWidth",i.p.shrinkToFit===a?i.p.tblwidth:i.p.width);k&&c(i).jqGrid("setGroupHeaders",i.p.groupHeader)}})},hideCol:function(a){return this.each(function(){c(this).jqGrid(ob,a,B)})},showCol:function(a){return this.each(function(){c(this).jqGrid(ob,a,d)})},remapColumns:function(b,h,g){function e(a){var d;d=a.length?c.makeArray(a):c.extend({},a);c.each(b,function(b){a[b]=d[this]})}function f(e,a){c(">tr"+(a||d),e).each(function(){var a=this,d=c.makeArray(a.cells);c.each(b,function(){var b=d[this];b&&a.appendChild(b)})})}var a=this.get(0);e(a.p.colModel);e(a.p.colNames);e(a.grid.headers);f(c(pb,a.grid.hDiv),g&&":not(.ui-jqgrid-labels)");h&&f(c(j+c.jgrid.jqID(a.p.id)+R),".jqgfirstrow, tr.jqgrow, tr.jqfoot");a.p.footerrow&&f(c(kb,a.grid.sDiv));if(a.p.remapColumns)if(a.p.remapColumns.length)e(a.p.remapColumns);else a.p.remapColumns=c.makeArray(b);a.p.lastsort=c.inArray(a.p.lastsort,b);if(a.p.treeGrid)a.p.expColInd=c.inArray(a.p.expColInd,b)},setGridWidth:function(d,e){return this.each(function(){if(this.grid){var h=this,i,k=0,l=c.browser.webkit||c.browser.safari?0:h.p.cellLayout,m,j=0,p=b,r=h.p.scrollOffset,s,n=0,u=0,o;if(typeof e!=S)e=h.p.shrinkToFit;if(!isNaN(d)){d=parseInt(d,f);h.grid.width=h.p.width=d;c(w+c.jgrid.jqID(h.p.id)).css(q,d+g);c("#gview_"+c.jgrid.jqID(h.p.id)).css(q,d+g);c(h.grid.bDiv).css(q,d+g);c(h.grid.hDiv).css(q,d+g);h.p.pager&&c(h.p.pager).css(q,d+g);h.p.toppager&&c(h.p.toppager).css(q,d+g);if(h.p.toolbar[0]===a){c(h.grid.uDiv).css(q,d+g);h.p.toolbar[1]==bb&&c(h.grid.ubDiv).css(q,d+g)}h.p.footerrow&&c(h.grid.sDiv).css(q,d+g);if(e===b&&h.p.forceFit===a)h.p.forceFit=b;if(e===a){c.each(h.p.colModel,function(){var a=this;if(a.hidden===b){i=a.widthOrg?a.widthOrg:parseInt(a.width,f);k+=i+l;if(a.fixed)n+=i+l;else j++;u++}});if(j===0)return;h.p.tblwidth=k;s=d-l*j-n;if(!isNaN(h.p.height))if(c(h.grid.bDiv)[0].clientHeight<c(h.grid.bDiv)[0].scrollHeight||h.rows.length===1){p=a;s-=r}k=0;var t=h.grid.cols.length>0;c.each(h.p.colModel,function(c){var a=this;if(a.hidden===b&&!a.fixed){i=a.widthOrg?a.widthOrg:parseInt(a.width,f);i=Math.round(s*i/(h.p.tblwidth-l*j-n));if(!(i<0)){a.width=i;k+=i;h.grid.headers[c].width=i;h.grid.headers[c].el.style.width=i+g;if(h.p.footerrow)h.grid.footers[c].style.width=i+g;if(t)h.grid.cols[c].style.width=i+g;m=c}}});if(!m)return;o=0;if(p){if(d-n-(k+l*j)!==r)o=d-n-(k+l*j)-r}else if(Math.abs(d-n-(k+l*j))!==1)o=d-n-(k+l*j);h.p.colModel[m].width+=o;h.p.tblwidth=k+o+l*j+n;if(h.p.tblwidth>d){p=h.p.tblwidth-parseInt(d,f);h.p.tblwidth=d;i=h.p.colModel[m].width-=p}else i=h.p.colModel[m].width;h.grid.headers[m].width=i;h.grid.headers[m].el.style.width=i+g;if(t)h.grid.cols[m].style.width=i+g;if(h.p.footerrow)h.grid.footers[m].style.width=i+g}if(h.p.tblwidth){c(A,h.grid.bDiv).css(q,h.p.tblwidth+g);c(A,h.grid.hDiv).css(q,h.p.tblwidth+g);h.grid.hDiv.scrollLeft=h.grid.bDiv.scrollLeft;h.p.footerrow&&c(A,h.grid.sDiv).css(q,h.p.tblwidth+g)}}}})},setGridHeight:function(a){return this.each(function(){var b=this;if(b.grid){c(b.grid.bDiv).css({height:a+(isNaN(a)?d:g)});b.p.height=a;b.p.scroll&&b.grid.populateVisible()}})},setCaption:function(a){return this.each(function(){this.p.caption=a;c("span.ui-jqgrid-title",this.grid.cDiv).html(a);c(this.grid.cDiv).show()})},setLabel:function(f,d,a,e){return this.each(function(){var i=this,j=h;if(i.grid)if(typeof f!=t){c(i.p.colModel).each(function(a){if(this.name==f){j=a;return b}});if(j>=0){var g=c("tr.ui-jqgrid-labels th:eq("+j+p,i.grid.hDiv);if(d){var k=c(".s-ico",g);c("[id^=jqgh_]",g).empty().html(d).append(k);i.p.colNames[j]=d}if(a)typeof a===s?c(g).addClass(a):c(g).css(a);typeof e===H&&c(g).attr(e)}}})},setCell:function(i,j,e,g,l,m){return this.each(function(){var o=this,q=h,n,r;if(o.grid){if(isNaN(j))c(o.p.colModel).each(function(a){if(this.name==j){q=a;return b}});else q=parseInt(j,f);if(q>=0)if(n=o.rows.namedItem(i)){var u=c(K+q+p,n);if(e!==d||m===a){n=o.formatter(i,e,q,n,Q);r=o.p.colModel[q].title?{title:c.jgrid.stripHtml(n)}:{};o.p.treeGrid&&c(".tree-wrap",c(u)).length>0?c(T,c(u)).html(n).attr(r):c(u).html(n).attr(r);if(o.p.datatype==k){n=o.p.colModel[q];e=n.formatter&&typeof n.formatter===s&&n.formatter==D?c.unformat.date(e,n):e;r=o.p._index[i];if(typeof r!=t)o.p.data[r][n.name]=e}}if(typeof g===s)c(u).addClass(g);else g&&c(u).css(g);typeof l===H&&c(u).attr(l)}}})},getCell:function(e,d){var a=b;this.each(function(){var i=this,g=h;if(i.grid){if(isNaN(d))c(i.p.colModel).each(function(a){if(this.name===d){g=a;return b}});else g=parseInt(d,f);if(g>=0){var j=i.rows.namedItem(e);if(j)try{a=c.unformat(c(K+g+p,j),{rowId:j.id,colModel:i.p.colModel[g]},g)}catch(k){a=c.jgrid.htmlDecode(c(K+g+p,j).html())}}}});return a},getCol:function(k,g,e){var a=[],d,l=0,m=0,j=0,i;g=typeof g!=S?b:g;if(typeof e==t)e=b;this.each(function(){var n=this,p=h;if(n.grid){if(isNaN(k))c(n.p.colModel).each(function(a){if(this.name===k){p=a;return b}});else p=parseInt(k,f);if(p>=0){var q=n.rows.length,o=0;if(q&&q>0){for(;o<q;){if(c(n.rows[o]).hasClass(U)){try{d=c.unformat(c(n.rows[o].cells[p]),{rowId:n.rows[o].id,colModel:n.p.colModel[p]},p)}catch(r){d=c.jgrid.htmlDecode(n.rows[o].cells[p].innerHTML)}if(e){i=parseFloat(d);l+=i;m=Math.min(m,i);j=Math.max(j,i)}else g?a.push({id:n.rows[o].id,value:d}):a.push(d)}o++}if(e)switch(e.toLowerCase()){case"sum":a=l;break;case"avg":a=l/q;break;case"count":a=q;break;case"min":a=m;break;case"max":a=j}}}}});return a},clearGridData:function(d){return this.each(function(){var f=this;if(f.grid){if(typeof d!=S)d=b;if(f.p.deepempty)c(j+c.jgrid.jqID(f.p.id)+mb).remove();else{var g=c(j+c.jgrid.jqID(f.p.id)+nb)[0];c(j+c.jgrid.jqID(f.p.id)+R).empty().append(g)}f.p.footerrow&&d&&c(".ui-jqgrid-ftable td",f.grid.sDiv).html(V);f.p.selrow=e;f.p.selarrrow=[];f.p.savedRow=[];f.p.records=0;f.p.page=1;f.p.lastpage=0;f.p.reccount=0;f.p.data=[];f.p._index={};f.updatepager(a,b)}})},getInd:function(e,f){var d=b,c;this.each(function(){if(c=this.rows.namedItem(e))d=f===a?c:c.rowIndex});return d},bindKeys:function(f){var b=c.extend({onEnter:e,onSpace:e,onLeftKey:e,onRightKey:e,scrollingRows:a},f||{});return this.each(function(){var a=this;c("body").is("[role]")||c("body").attr("role","application");a.p.scrollrows=b.scrollingRows;c(a).keydown(function(g){var h="div.treeclick",f=":hidden",j=c(a).find("tr[tabindex=0]")[0],i,e,k,l=a.p.treeReader.expanded_field;if(j){k=a.p._index[j.id];if(g.keyCode===37||g.keyCode===38||g.keyCode===39||g.keyCode===40){if(g.keyCode===38){e=j.previousSibling;i=d;if(e)if(c(e).is(f))for(;e;){e=e.previousSibling;if(!c(e).is(f)&&c(e).hasClass(U)){i=e.id;break}}else i=e.id;c(a).jqGrid(y,i)}if(g.keyCode===40){e=j.nextSibling;i=d;if(e)if(c(e).is(f))for(;e;){e=e.nextSibling;if(!c(e).is(f)&&c(e).hasClass(U)){i=e.id;break}}else i=e.id;c(a).jqGrid(y,i)}if(g.keyCode===37){a.p.treeGrid&&a.p.data[k][l]&&c(j).find(h).trigger(O);c.isFunction(b.onLeftKey)&&b.onLeftKey.call(a,a.p.selrow)}if(g.keyCode===39){a.p.treeGrid&&!a.p.data[k][l]&&c(j).find(h).trigger(O);c.isFunction(b.onRightKey)&&b.onRightKey.call(a,a.p.selrow)}}else if(g.keyCode===13)c.isFunction(b.onEnter)&&b.onEnter.call(a,a.p.selrow);else g.keyCode===32&&c.isFunction(b.onSpace)&&b.onSpace.call(a,a.p.selrow)}})})},unbindKeys:function(){return this.each(function(){c(this).unbind("keydown")})},getLocalRow:function(c){var d=b,a;this.each(function(){if(typeof c!==t){a=this.p._index[c];if(a>=0)d=this.p.data[a]}});return d}})})(jQuery);(function(a){var j="edit",i="</a>",c="?",g=".",b="",e=true,h="undefined",f=null,d=false;a.fmatter={};a.extend(a.fmatter,{isBoolean:function(a){return typeof a==="boolean"},isObject:function(b){return b&&(typeof b==="object"||a.isFunction(b))||d},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNull:function(a){return a===f},isUndefined:function(a){return typeof a===h},isValue:function(b){var a=this;return a.isObject(b)||a.isString(b)||a.isNumber(b)||a.isBoolean(b)},isEmpty:function(c){if(!this.isString(c)&&this.isValue(c))return d;else if(!this.isValue(c))return e;c=a.trim(c).replace(/\&nbsp\;/ig,b).replace(/\&#160\;/ig,b);return c===b}});a.fn.fmatter=function(c,d,b,f,g){var e=d;b=a.extend({},a.jgrid.formatter,b);if(a.fn.fmatter[c])e=a.fn.fmatter[c](d,b,f,g);return e};a.fmatter.util={NumberFormat:function(h,e){a.fmatter.isNumber(h)||(h*=1);if(a.fmatter.isNumber(h)){var l=h<0,c=h+b,f=e.decimalSeparator?e.decimalSeparator:g,d;if(a.fmatter.isNumber(e.decimalPlaces)){var i=e.decimalPlaces;c=Math.pow(10,i);c=Math.round(h*c)/c+b;d=c.lastIndexOf(g);if(i>0){if(d<0){c+=f;d=c.length-1}else if(f!==g)c=c.replace(g,f);for(;c.length-1-d<i;)c+="0"}}if(e.thousandsSeparator){i=e.thousandsSeparator;d=c.lastIndexOf(f);d=d>-1?d:c.length;f=c.substring(d);for(var k=-1,j=d;j>0;j--){k++;if(k%3===0&&j!==d&&(!l||j>1))f=i+f;f=c.charAt(j-1)+f}c=f}c=e.prefix?e.prefix+c:c;return c=e.suffix?c+e.suffix:c}else return h},DateFormat:function(h,i,m,j){var k=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,g=typeof i==="string"?i.match(k):f;k=function(a,b){a=String(a);for(b=parseInt(b,10)||2;a.length<b;)a="0"+a;return a};var e={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},d=0,n,l=["i18n"];l.i18n={dayNames:j.dayNames,monthNames:j.monthNames};if(h in j.masks)h=j.masks[h];if(!isNaN(i-0)&&String(h).toLowerCase()=="u")d=new Date(parseFloat(i)*1e3);else if(i.constructor===Date)d=i;else if(g!==f){d=new Date(parseInt(g[1],10));if(g[3]){h=Number(g[5])*60+Number(g[6]);h*=g[4]=="-"?1:-1;h-=d.getTimezoneOffset();d.setTime(Number(Number(d)+h*6e4))}}else{i=String(i).split(/[\\\/:_;.,\t\T\s-]/);h=h.split(/[\\\/:_;.,\t\T\s-]/);g=0;for(n=h.length;g<n;g++){if(h[g]=="M"){d=a.inArray(i[g],l.i18n.monthNames);if(d!==-1&&d<12)i[g]=d+1}if(h[g]=="F"){d=a.inArray(i[g],l.i18n.monthNames);if(d!==-1&&d>11)i[g]=d+1-12}if(i[g])e[h[g].toLowerCase()]=parseInt(i[g],10)}if(e.f)e.m=e.f;if(e.m===0&&e.y===0&&e.d===0)return"&#160;";e.m=parseInt(e.m,10)-1;d=e.y;if(d>=70&&d<=99)e.y=1900+e.y;else if(d>=0&&d<=69)e.y=2e3+e.y;d=new Date(e.y,e.m,e.d,e.h,e.i,e.s,e.u)}if(m in j.masks)m=j.masks[m];else m||(m="Y-m-d");h=d.getHours();i=d.getMinutes();e=d.getDate();g=d.getMonth()+1;n=d.getTimezoneOffset();var t=d.getSeconds(),u=d.getMilliseconds(),p=d.getDay(),o=d.getFullYear(),q=(p+6)%7+1,r=(new Date(o,g-1,e)-new Date(o,0,1))/8.64e7,s={d:k(e),D:l.i18n.dayNames[p],j:e,l:l.i18n.dayNames[p+7],N:q,S:j.S(e),w:p,z:r,W:q<5?Math.floor((r+q-1)/7)+1:Math.floor((r+q-1)/7)||(((new Date(o-1,0,1)).getDay()+6)%7<4?53:52),F:l.i18n.monthNames[g-1+12],m:k(g),M:l.i18n.monthNames[g-1],n:g,t:c,L:c,o:c,Y:o,y:String(o).substring(2),a:h<12?j.AmPm[0]:j.AmPm[1],A:h<12?j.AmPm[2]:j.AmPm[3],B:c,g:h%12||12,G:h,h:k(h%12||12),H:k(h),i:k(i),s:k(t),u:u,e:c,I:c,O:(n>0?"-":"+")+k(Math.floor(Math.abs(n)/60)*100+Math.abs(n)%60,4),P:c,T:(String(d).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[b]).pop().replace(/[^-+\dA-Z]/g,b),Z:c,c:c,r:c,U:Math.floor(d/1e3)};return m.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(a){return a in s?s[a]:a.substring(1)})}};a.fn.fmatter.defaultFormat=function(c,d){return a.fmatter.isValue(c)&&c!==b?c:d.defaultValue?d.defaultValue:"&#160;"};a.fn.fmatter.email=function(b,c){return a.fmatter.isEmpty(b)?a.fn.fmatter.defaultFormat(b,c):'<a href="mailto:'+b+'">'+b+i};a.fn.fmatter.checkbox=function(c,f){var d=a.extend({},f.checkbox),g;a.fmatter.isUndefined(f.colModel.formatoptions)||(d=a.extend({},d,f.colModel.formatoptions));g=d.disabled===e?'disabled="disabled"':b;if(a.fmatter.isEmpty(c)||a.fmatter.isUndefined(c))c=a.fn.fmatter.defaultFormat(c,d);c+=b;c=c.toLowerCase();return'<input type="checkbox" '+(c.search(/(false|0|no|off)/i)<0?" checked='checked' ":b)+' value="'+c+'" offval="no" '+g+"/>"};a.fn.fmatter.link=function(c,d){var e={target:d.target},f=b;a.fmatter.isUndefined(d.colModel.formatoptions)||(e=a.extend({},e,d.colModel.formatoptions));if(e.target)f="target="+e.target;return a.fmatter.isEmpty(c)?a.fn.fmatter.defaultFormat(c,d):"<a "+f+' href="'+c+'">'+c+i};a.fn.fmatter.showlink=function(f,e){var d={baseLinkUrl:e.baseLinkUrl,showAction:e.showAction,addParam:e.addParam||b,target:e.target,idName:e.idName},g=b;a.fmatter.isUndefined(e.colModel.formatoptions)||(d=a.extend({},d,e.colModel.formatoptions));if(d.target)g="target="+d.target;d=d.baseLinkUrl+d.showAction+c+d.idName+"="+e.rowId+d.addParam;return a.fmatter.isString(f)||a.fmatter.isNumber(f)?"<a "+g+' href="'+d+'">'+f+i:a.fn.fmatter.defaultFormat(f,e)};a.fn.fmatter.integer=function(d,c){var b=a.extend({},c.integer);a.fmatter.isUndefined(c.colModel.formatoptions)||(b=a.extend({},b,c.colModel.formatoptions));return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.number=function(d,c){var b=a.extend({},c.number);a.fmatter.isUndefined(c.colModel.formatoptions)||(b=a.extend({},b,c.colModel.formatoptions));return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.currency=function(d,c){var b=a.extend({},c.currency);a.fmatter.isUndefined(c.colModel.formatoptions)||(b=a.extend({},b,c.colModel.formatoptions));return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.date=function(d,c,b,e){b=a.extend({},c.date);a.fmatter.isUndefined(c.colModel.formatoptions)||(b=a.extend({},b,c.colModel.formatoptions));return!b.reformatAfterEdit&&e==j?a.fn.fmatter.defaultFormat(d,c):a.fmatter.isEmpty(d)?a.fn.fmatter.defaultFormat(d,c):a.fmatter.util.DateFormat(b.srcformat,d,b.newformat,b)};a.fn.fmatter.select=function(c,h){c+=b;var f=d,i=[];if(a.fmatter.isUndefined(h.colModel.formatoptions)){if(!a.fmatter.isUndefined(h.colModel.editoptions))f=h.colModel.editoptions.value}else f=h.colModel.formatoptions.value;if(f){var k=h.colModel.editoptions.multiple===e?e:d,j=[],g;if(k){j=c.split(",");j=a.map(j,function(b){return a.trim(b)})}if(a.fmatter.isString(f))for(var m=f.split(";"),n=0,l=0;l<m.length;l++){g=m[l].split(":");if(g.length>2)g[1]=jQuery.map(g,function(a,b){if(b>0)return a}).join(":");if(k){if(jQuery.inArray(g[0],j)>-1){i[n]=g[1];n++}}else if(a.trim(g[0])==a.trim(c)){i[0]=g[1];break}}else if(a.fmatter.isObject(f))if(k)i=jQuery.map(j,function(a){return f[a]});else i[0]=f[c]||b}c=i.join(", ");return c===b?a.fn.fmatter.defaultFormat(c,h):c};a.fn.fmatter.rowactions=function(c,h,q,o){var n=" div.ui-inline-cancel",m=" div.ui-inline-save, tr#",g=".ui-jqgrid-btable:first",l=" div.ui-inline-del",k=" div.ui-inline-edit, tr#",e="tr#",b="#",i={keys:d,onEdit:f,onSuccess:f,afterSave:f,onError:f,afterRestore:f,extraparam:{oper:j},url:f,delOptions:{},editOptions:{}};c=a.jgrid.jqID(c);h=a.jgrid.jqID(h);o=a(b+h)[0].p.colModel[o];a.fmatter.isUndefined(o.formatoptions)||(i=a.extend(i,o.formatoptions));if(!a.fmatter.isUndefined(a(b+h)[0].p.editOptions))i.editOptions=a(b+h)[0].p.editOptions;if(!a.fmatter.isUndefined(a(b+h)[0].p.delOptions))i.delOptions=a(b+h)[0].p.delOptions;o=function(d){i.afterSave&&i.afterSave(d);a(e+c+k+c+l,b+h+g).show();a(e+c+m+c+n,b+h+g).hide()};var p=function(d){i.afterRestore&&i.afterRestore(d);a(e+c+k+c+l,b+h+g).show();a(e+c+m+c+n,b+h+g).hide()};switch(q){case j:a(b+h).jqGrid("editRow",c,i.keys,i.onEdit,i.onSuccess,i.url,i.extraparam,o,i.onError,p);a(e+c+k+c+l,b+h+g).hide();a(e+c+m+c+n,b+h+g).show();break;case"save":if(a(b+h).jqGrid("saveRow",c,i.onSuccess,i.url,i.extraparam,o,i.onError,p)){a(e+c+k+c+l,b+h+g).show();a(e+c+m+c+n,b+h+g).hide()}break;case"cancel":a(b+h).jqGrid("restoreRow",c,p);a(e+c+k+c+l,b+h+g).show();a(e+c+m+c+n,b+h+g).hide();break;case"del":a(b+h).jqGrid("delGridRow",c,i.delOptions);break;case"formedit":a(b+h).jqGrid("setSelection",c);a(b+h).jqGrid("editGridRow",c,i.editOptions)}};a.fn.fmatter.actions=function(q,c){var p="><span class='ui-icon ui-icon-pencil'></span></div>",o="' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' ",j="<div title='",l="); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",i="','",g="onclick=jQuery.fn.fmatter.rowactions('",n={keys:d,editbutton:e,delbutton:e,editformbutton:d};a.fmatter.isUndefined(c.colModel.formatoptions)||(n=a.extend(n,c.colModel.formatoptions));var m=c.rowId,f=b,k;if(typeof m==h||a.fmatter.isEmpty(m))return b;if(n.editformbutton){k=g+m+i+c.gid+"','formedit',"+c.pos+l;f=f+j+a.jgrid.nav.edittitle+o+k+p}else if(n.editbutton){k=g+m+i+c.gid+"','edit',"+c.pos+"); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ";f=f+j+a.jgrid.nav.edittitle+o+k+p}if(n.delbutton){k=g+m+i+c.gid+"','del',"+c.pos+l;f=f+j+a.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+k+"><span class='ui-icon ui-icon-trash'></span></div>"}k=g+m+i+c.gid+"','save',"+c.pos+l;f=f+j+a.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+k+"><span class='ui-icon ui-icon-disk'></span></div>";k=g+m+i+c.gid+"','cancel',"+c.pos+l;f=f+j+a.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+k+"><span class='ui-icon ui-icon-cancel'></span></div>";return"<div style='margin-left:8px;'>"+f+"</div>"};a.unformat=function(i,d,o,n){var j="\\$1",f,k=d.colModel.formatter,c=d.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,m=d.colModel.unformat||a.fn.fmatter[k]&&a.fn.fmatter[k].unformat;if(typeof m!==h&&a.isFunction(m))f=m(a(i).text(),d,i);else if(!a.fmatter.isUndefined(k)&&a.fmatter.isString(k)){f=a.jgrid.formatter||{};switch(k){case"integer":c=a.extend({},f.integer,c);d=c.thousandsSeparator.replace(l,j);f=a(i).text().replace(RegExp(d,"g"),b);break;case"number":c=a.extend({},f.number,c);d=c.thousandsSeparator.replace(l,j);f=a(i).text().replace(RegExp(d,"g"),b).replace(c.decimalSeparator,g);break;case"currency":c=a.extend({},f.currency,c);d=c.thousandsSeparator.replace(l,j);f=a(i).text().replace(RegExp(d,"g"),b).replace(c.decimalSeparator,g).replace(c.prefix,b).replace(c.suffix,b);break;case"checkbox":c=d.colModel.editoptions?d.colModel.editoptions.value.split(":"):["Yes","No"];f=a("input",i).is(":checked")?c[0]:c[1];break;case"select":f=a.unformat.select(i,d,o,n);break;case"actions":return b;default:f=a(i).text()}}return f!==undefined?f:n===e?a(i).text():a.jgrid.htmlDecode(a(i).html())};a.unformat.select=function(i,c,j,f){j=[];i=a(i).text();if(f===e)return i;c=a.extend({},c.colModel.editoptions);if(c.value){var k=c.value;c=c.multiple===e?e:d;f=[];var g;if(c){f=i.split(",");f=a.map(f,function(b){return a.trim(b)})}if(a.fmatter.isString(k))for(var m=k.split(";"),n=0,l=0;l<m.length;l++){g=m[l].split(":");if(g.length>2)g[1]=jQuery.map(g,function(a,b){if(b>0)return a}).join(":");if(c){if(jQuery.inArray(g[1],f)>-1){j[n]=g[0];n++}}else if(a.trim(g[1])==a.trim(i)){j[0]=g[0];break}}else if(a.fmatter.isObject(k)||a.isArray(k)){c||(f[0]=i);j=jQuery.map(f,function(c){var b;a.each(k,function(e,a){if(a==c){b=e;return d}});if(typeof b!=h)return b})}return j.join(", ")}else return i||b};a.unformat.date=function(c,d){var b=a.jgrid.formatter.date||{};a.fmatter.isUndefined(d.formatoptions)||(b=a.extend({},b,d.formatoptions));return a.fmatter.isEmpty(c)?a.fn.fmatter.defaultFormat(c,d):a.fmatter.util.DateFormat(b.newformat,c,b.srcformat,b)}})(jQuery);(function(a){var n="span.ui-jqgrid-resize",m="rowheader",k="<tr>",l="undefined",h="none",i="display",e="setGridParam",d="",g=null,f="#gbox_",b=true,j="boolean",c=false;a.jgrid.extend({getColProp:function(e){var d={},a=this[0];if(!a.grid)return c;a=a.p.colModel;for(var b=0;b<a.length;b++)if(a[b].name==e){d=a[b];break}return d},setColProp:function(c,b){return this.each(function(){if(this.grid)if(b)for(var e=this.p.colModel,d=0;d<e.length;d++)if(e[d].name==c){a.extend(this.p.colModel[d],b);break}})},sortGrid:function(a,d,e){return this.each(function(){var g=this,h=-1;if(g.grid){if(!a)a=g.p.sortname;for(var f=0;f<g.p.colModel.length;f++)if(g.p.colModel[f].index==a||g.p.colModel[f].name==a){h=f;break}if(h!=-1){f=g.p.colModel[h].sortable;if(typeof f!==j)f=b;if(typeof d!==j)d=c;f&&g.sortData("jqgh_"+g.p.id+"_"+a,h,d,e)}}})},GridDestroy:function(){return this.each(function(){var b=this;if(b.grid){b.p.pager&&a(b.p.pager).remove();var c=b.id;try{a(f+c).remove()}catch(d){}}})},GridUnload:function(){return this.each(function(){var b=this;if(b.grid){var c={id:a(b).attr("id"),cl:a(b).attr("class")};b.p.pager&&a(b.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var d=document.createElement("table");a(d).attr({id:c.id});d.className=c.cl;c=b.id;a(d).removeClass("ui-jqgrid-btable");if(a(b.p.pager).parents(f+c).length===1){a(d).insertBefore(f+c).show();a(b.p.pager).insertBefore(f+c)}else a(d).insertBefore(f+c).show();a(f+c).remove()}})},setGridState:function(c){return this.each(function(){var j="ui-icon-circle-triangle-s",i="ui-icon-circle-triangle-n",h=".ui-jqgrid-titlebar-close span",g=".ui-jqgrid-sdiv",d="fast",e=this;if(e.grid)if(c=="hidden"){a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.p.id).slideUp(d);e.p.pager&&a(e.p.pager).slideUp(d);e.p.toppager&&a(e.p.toppager).slideUp(d);if(e.p.toolbar[0]===b){e.p.toolbar[1]=="both"&&a(e.grid.ubDiv).slideUp(d);a(e.grid.uDiv).slideUp(d)}e.p.footerrow&&a(g,f+e.p.id).slideUp(d);a(h,e.grid.cDiv).removeClass(i).addClass(j);e.p.gridstate="hidden"}else if(c=="visible"){a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.p.id).slideDown(d);e.p.pager&&a(e.p.pager).slideDown(d);e.p.toppager&&a(e.p.toppager).slideDown(d);if(e.p.toolbar[0]===b){e.p.toolbar[1]=="both"&&a(e.grid.ubDiv).slideDown(d);a(e.grid.uDiv).slideDown(d)}e.p.footerrow&&a(g,f+e.p.id).slideDown(d);a(h,e.grid.cDiv).removeClass(j).addClass(i);e.p.gridstate="visible"}})},filterToolbar:function(f){f=a.extend({autosearch:b,searchOnEnter:b,beforeSearch:g,afterSearch:g,beforeClear:g,afterClear:g,searchurl:d,stringResult:c,groupOp:"AND",defaultSearch:"bw"},f||{});return this.each(function(){var w="reloadGrid",v="searchOper",u="searchString",t="searchField",q='"data":"',p='{"field":"',s='","rules":[',r='{"groupOp":"',o="text",n="#gs_",k="select",x=this;function z(c,d){var b=a(c);b[0]&&jQuery.each(d,function(){var a=this;a.data!==undefined?b.bind(a.type,a.data,a.fn):b.bind(a.type,a.fn)})}var m=x;if(!x.ftoolbar){var y=function(){var i={},x=0,j,g,y={},l;a.each(m.p.colModel,function(){var b=this;g=b.index||b.name;switch(b.stype){case k:l=b.searchoptions&&b.searchoptions.sopt?b.searchoptions.sopt[0]:"eq";if(j=a(n+a.jgrid.jqID(b.name),m.grid.hDiv).val()){i[g]=j;y[g]=l;x++}else try{delete m.p.postData[g]}catch(c){}break;case o:l=b.searchoptions&&b.searchoptions.sopt?b.searchoptions.sopt[0]:f.defaultSearch;if(j=a(n+a.jgrid.jqID(b.name),m.grid.hDiv).val()){i[g]=j;y[g]=l;x++}else try{delete m.p.postData[g]}catch(d){}}});var C=x>0?b:c;if(f.stringResult===b||m.p.datatype=="local"){var h=r+f.groupOp+s,B=0;a.each(i,function(a,b){if(B>0)h+=",";h+=p+a+'",';h+='"op":"'+y[a]+'",';b+=d;h+=q+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';B++});h+="]}";a.extend(m.p.postData,{filters:h});a.each([t,u,v],function(b,a){m.p.postData.hasOwnProperty(a)&&delete m.p.postData[a]})}else a.extend(m.p.postData,i);var z;if(m.p.searchurl){z=m.p.url;a(m).jqGrid(e,{url:m.p.searchurl})}var A=c;if(a.isFunction(f.beforeSearch))A=f.beforeSearch.call(m);A||a(m).jqGrid(e,{search:C}).trigger(w,[{page:1}]);z&&a(m).jqGrid(e,{url:z});a.isFunction(f.afterSearch)&&f.afterSearch()},B=a("<tr class='ui-search-toolbar' role='rowheader'></tr>"),A;a.each(m.p.colModel,function(){var j="input",s=this,p=s,n,v,e,q;v=a("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+m.p.direction+"'></th>");n=a("<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>");s.hidden===b&&a(v).css(i,h);s.search=s.search===c?c:b;if(typeof s.stype==l)s.stype=o;e=a.extend({},s.searchoptions||{});if(s.search)switch(s.stype){case k:if(q=s.surl||e.dataUrl)a.ajax(a.extend({url:q,dataType:"html",success:function(d){if(e.buildSelect!==undefined)(d=e.buildSelect(d))&&a(n).append(d);else a(n).append(d);e.defaultValue&&a(k,n).val(e.defaultValue);a(k,n).attr({name:p.index||p.name,id:"gs_"+p.name});e.attr&&a(k,n).attr(e.attr);a(k,n).css({width:"100%"});e.dataInit!==undefined&&e.dataInit(a(k,n)[0]);e.dataEvents!==undefined&&z(a(k,n)[0],e.dataEvents);f.autosearch===b&&a(k,n).change(function(){y();return c});d=g}},a.jgrid.ajaxOptions,m.p.ajaxSelectOptions||{}));else{var r;if(p.searchoptions&&p.searchoptions.value)r=p.searchoptions.value;else if(p.editoptions&&p.editoptions.value)r=p.editoptions.value;if(r){q=document.createElement(k);q.style.width="100%";a(q).attr({name:p.index||p.name,id:"gs_"+p.name});var u,t;if(typeof r==="string"){r=r.split(";");for(var w=0;w<r.length;w++){u=r[w].split(":");t=document.createElement("option");t.value=u[0];t.innerHTML=u[1];q.appendChild(t)}}else if(typeof r==="object")for(u in r)if(r.hasOwnProperty(u)){t=document.createElement("option");t.value=u;t.innerHTML=r[u];q.appendChild(t)}e.defaultValue&&a(q).val(e.defaultValue);e.attr&&a(q).attr(e.attr);e.dataInit!==undefined&&e.dataInit(q);e.dataEvents!==undefined&&z(q,e.dataEvents);a(n).append(q);f.autosearch===b&&a(q).change(function(){y();return c})}}break;case o:q=e.defaultValue?e.defaultValue:d;a(n).append("<input type='text' style='width:95%;padding:0px;' name='"+(p.index||p.name)+"' id='gs_"+p.name+"' value='"+q+"'/>");e.attr&&a(j,n).attr(e.attr);e.dataInit!==undefined&&e.dataInit(a(j,n)[0]);e.dataEvents!==undefined&&z(a(j,n)[0],e.dataEvents);if(f.autosearch===b)f.searchOnEnter?a(j,n).keypress(function(a){if((a.charCode?a.charCode:a.keyCode?a.keyCode:0)==13){y();return c}return this}):a(j,n).keydown(function(a){switch(a.which){case 13:return c;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:A&&clearTimeout(A);A=setTimeout(function(){y()},500)}})}a(v).append(n);a(B).append(v)});a("table thead",m.grid.hDiv).append(B);x.ftoolbar=b;x.triggerToolbar=y;x.clearToolbar=function(l){var x={},i,y=0,g;l=typeof l!=j?b:l;a.each(m.p.colModel,function(){var e=this;i=e.searchoptions&&e.searchoptions.defaultValue?e.searchoptions.defaultValue:d;g=e.index||e.name;switch(e.stype){case k:var f;a(n+a.jgrid.jqID(g)+" option",m.grid.hDiv).each(function(e){var d=this;if(e===0)d.selected=b;if(a(d).text()==i){d.selected=b;f=a(d).val();return c}});if(f){x[g]=f;y++}else try{delete m.p.postData[g]}catch(h){}break;case o:a(n+a.jgrid.jqID(g),m.grid.hDiv).val(i);if(i){x[g]=i;y++}else try{delete m.p.postData[g]}catch(j){}}});var C=y>0?b:c;if(f.stringResult===b||m.p.datatype=="local"){var h=r+f.groupOp+s,A=0;a.each(x,function(b,a){if(A>0)h+=",";h+=p+b+'",';h+='"op":"eq",';a+=d;h+=q+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';A++});h+="]}";a.extend(m.p.postData,{filters:h});a.each([t,u,v],function(b,a){m.p.postData.hasOwnProperty(a)&&delete m.p.postData[a]})}else a.extend(m.p.postData,x);var z;if(m.p.searchurl){z=m.p.url;a(m).jqGrid(e,{url:m.p.searchurl})}var B=c;if(a.isFunction(f.beforeClear))B=f.beforeClear.call(m);B||l&&a(m).jqGrid(e,{search:C}).trigger(w,[{page:1}]);z&&a(m).jqGrid(e,{url:z});a.isFunction(f.afterClear)&&f.afterClear()};x.toggleToolbar=function(){var b=a("tr.ui-search-toolbar",m.grid.hDiv);b.css(i)==h?b.show():b.hide()}}})},destroyGroupHeader:function(c){if(typeof c==l)c=b;return this.each(function(){var p,f,r,l,j,o;f=this.grid;var q=a("table.ui-jqgrid-htable thead",f.hDiv),s=this.p.colModel;if(f){p=a(k,{role:m}).addClass("ui-jqgrid-labels");l=f.headers;f=0;for(r=l.length;f<r;f++){j=s[f].hidden?h:d;j=a(l[f].el).width(l[f].width).removeAttr("rowSpan").css(i,j);p.append(j);o=j.children(n);if(o.length>0)o[0].style.height=d;j.children("div")[0].style.top=d}a(q).children("tr.ui-jqgrid-labels").remove();a(q).prepend(p);c===b&&a(this).jqGrid(e,{groupHeader:g})}})},setGroupHeaders:function(b){b=a.extend({useColSpanStyle:c,groupHeaders:[]},b||{});return this.each(function(){var j=":visible",t="0px none",s="ui-state-default ui-th-column-header ui-th-",r="columnheader",i="<th>",f="thead";this.p.groupHeader=b;var e=this,l,o,w=0,q,c,u,y,A,p=e.p.colModel,B=p.length,C=e.grid.headers,v=a("table.ui-jqgrid-htable",e.grid.hDiv),E=v.children(f).children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");q=v.children(f);var z,x=v.find(".jqg-first-row-header");if(x.html()===g)x=a(k,{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto");else x.empty();var D,F=function(c,b){for(var a=0,d=b.length;a<d;a++)if(b[a].startColumnName===c)return a;return-1};a(e).prepend(q);q=a(k,{role:m}).addClass("ui-jqgrid-labels jqg-third-row-header");for(l=0;l<B;l++){u=C[l].el;y=a(u);o=p[l];c={height:"0px",width:C[l].width+"px",display:o.hidden?h:d};a(i,{role:"gridcell"}).css(c).addClass("ui-first-th-"+e.p.direction).appendTo(x);u.style.width=d;c=F(o.name,b.groupHeaders);if(c>=0){c=b.groupHeaders[c];w=c.numberOfColumns;A=c.titleText;for(c=o=0;c<w&&l+c<B;c++)p[l+c].hidden||o++;c=a(i,{colspan:String(o),role:r}).addClass(s+e.p.direction).css({height:"22px","border-top":t}).html(A);e.p.headertitles&&c.attr("title",c.text());o===0&&c.hide();y.before(c);q.append(u);w-=1}else if(w===0)if(b.useColSpanStyle)y.attr("rowspan","2");else{a(i,{role:r}).addClass(s+e.p.direction).css({display:o.hidden?h:d,"border-top":t}).insertBefore(y);q.append(u)}else{q.append(u);w--}}p=a(e).children(f);p.prepend(x);q.insertAfter(E);v.append(p);if(b.useColSpanStyle){v.find(n).each(function(){var b=a(this).parent();if(b.is(j))this.style.cssText="height: "+b.height()+"px !important; cursor: col-resize;"});v.find("div.ui-jqgrid-sortable").each(function(){var b=a(this),c=b.parent();c.is(j)&&b.css("top",(c.height()-b.outerHeight())/2+"px")})}if(a.isFunction(e.p.resizeStop))z=e.p.resizeStop;D=p.find("tr.jqg-first-row-header");e.p.resizeStop=function(b,c){D.find("th").eq(c).width(b);a.isFunction(z)&&z.call(e,b,c)}})}})})(jQuery);(function(a){var e=-1,n="false",m="auto",g="#",k="px",f="undefined",l="string",j="ui-state-hover",b=false,o=".jqgrid-overlay:first",d="",c=true,i="true",h="aria-hidden";a.extend(a.jgrid,{showModal:function(a){a.w.show()},closeModal:function(a){a.w.hide().attr(h,i);a.o&&a.o.remove()},hideModal:function(e,b){b=a.extend({jqm:c,gb:d},b||{});if(b.onClose){var f=b.onClose(e);if(typeof f=="boolean"&&!f)return}if(a.fn.jqm&&b.jqm===c)a(e).attr(h,i).jqmHide();else{if(b.gb!==d)try{a(o,b.gb).hide()}catch(g){}a(e).hide().attr(h,i)}},findPos:function(a){var b=0,c=0;if(a.offsetParent)do{b+=a.offsetLeft;c+=a.offsetTop}while(a=a.offsetParent);return[b,c]},createModal:function(h,o,d,p,y,t,q){var s=".ui-jqdialog-titlebar-close",r=".ui-jqdialog-title",e=document.createElement("div"),u,x=this;q=a.extend({},q||{});u=a(d.gbox).attr("dir")=="rtl"?c:b;e.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";e.id=h.themodal;var n=document.createElement("div");n.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";n.id=h.modalhead;a(n).append("<span class='ui-jqdialog-title'>"+d.caption+"</span>");var w=a("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){w.addClass(j)},function(){w.removeClass(j)}).append("<span class='ui-icon ui-icon-closethick'></span>");a(n).append(w);if(u){e.dir="rtl";a(r,n).css("float","right");a(s,n).css("left","0.3em")}else{e.dir="ltr";a(r,n).css("float","left");a(s,n).css("right","0.3em")}var v=document.createElement("div");a(v).addClass("ui-jqdialog-content ui-widget-content").attr("id",h.modalcontent);a(v).append(o);e.appendChild(v);a(e).prepend(n);if(t===c)a("body").append(e);else typeof t==l?a(t).append(e):a(e).insertBefore(p);a(e).css(q);if(typeof d.jqModal===f)d.jqModal=c;o={};if(a.fn.jqm&&d.jqModal===c){if(d.left===0&&d.top===0&&d.overlay){q=[];q=this.findPos(y);d.left=q[0]+4;d.top=q[1]+4}o.top=d.top+k;o.left=d.left}else if(d.left!==0||d.top!==0){o.left=d.left;o.top=d.top+k}a("a.ui-jqdialog-titlebar-close",n).click(function(){var e=a(g+h.themodal).data("onClose")||d.onClose,c=a(g+h.themodal).data("gbox")||d.gbox;x.hideModal(g+h.themodal,{gb:c,jqm:d.jqModal,onClose:e});return b});if(d.width===0||!d.width)d.width=300;if(d.height===0||!d.height)d.height=200;if(!d.zIndex){p=a(p).parents("*[role=dialog]").filter(":first").css("z-index");d.zIndex=p?parseInt(p,10)+1:950}p=0;if(u&&o.left&&!t){p=a(d.gbox).width()-(!isNaN(d.width)?parseInt(d.width,10):0)-8;o.left=parseInt(o.left,10)+parseInt(p,10)}if(o.left)o.left+=k;a(e).css(a.extend({width:isNaN(d.width)?m:d.width+k,height:isNaN(d.height)?m:d.height+k,zIndex:d.zIndex,overflow:"hidden"},o)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":h.modalhead,"aria-hidden":i});if(typeof d.drag==f)d.drag=c;if(typeof d.resize==f)d.resize=c;if(d.drag){a(n).css("cursor","move");if(a.fn.jqDrag)a(e).jqDrag(n);else try{a(e).draggable({handle:a(g+n.id)})}catch(z){}}if(d.resize)if(a.fn.jqResize){a(e).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>");a(g+h.themodal).jqResize(".jqResize",h.scrollelm?g+h.scrollelm:b)}else try{a(e).resizable({handles:"se, sw",alsoResize:h.scrollelm?g+h.scrollelm:b})}catch(A){}d.closeOnEscape===c&&a(e).keydown(function(b){if(b.which==27){b=a(g+h.themodal).data("onClose")||d.onClose;x.hideModal(this,{gb:d.gbox,jqm:d.jqModal,onClose:b})}})},viewModal:function(f,e){e=a.extend({toTop:c,overlay:10,modal:b,overlayClass:"ui-widget-overlay",onShow:this.showModal,onHide:this.closeModal,gbox:d,jqm:c,jqM:c},e||{});if(a.fn.jqm&&e.jqm===c)e.jqM?a(f).attr(h,n).jqm(e).jqmShow():a(f).attr(h,n).jqmShow();else{if(e.gbox!==d){a(o,e.gbox).show();a(f).data("gbox",e.gbox)}a(f).show().attr(h,n);try{a(":input:visible",f)[0].focus()}catch(g){}}},info_dialog:function(p,w,v,l){var q="#info_id",i="#info_dialog",s="<div class='ui-widget-content ui-helper-clearfix' style='text-align:",o="</div>",t=this,e={width:290,height:m,dataheight:m,drag:c,resize:b,caption:"<b>"+p+"</b>",left:250,top:170,zIndex:1e3,jqModal:c,modal:b,closeOnEscape:c,align:"center",buttonalign:"center",buttons:[]};a.extend(e,l||{});var r=e.jqModal,x=t;if(a.fn.jqm&&!r)r=b;p=d;if(e.buttons.length>0)for(l=0;l<e.buttons.length;l++){if(typeof e.buttons[l].id==f)e.buttons[l].id="info_button_"+l;p+="<a href='javascript:void(0)' id='"+e.buttons[l].id+"' class='fm-button ui-state-default ui-corner-all'>"+e.buttons[l].text+"</a>"}l=isNaN(e.dataheight)?e.dataheight:e.dataheight+k;var u="<div id='info_id'>";u+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+l+";"+("text-align:"+e.align+";")+"'>"+w+o;u+=v?s+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+v+"</a>"+p+o:p!==d?s+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+p+o:d;u+=o;try{a(i).attr(h)==n&&t.hideModal(i,{jqm:r});a(i).remove()}catch(y){}t.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},u,e,d,d,c);p&&a.each(e.buttons,function(c){a(g+this.id,q).bind("click",function(){e.buttons[c].onClick.call(a(i));return b})});a("#closedialog",q).click(function(){x.hideModal(i,{jqm:r});return b});a(".fm-button",i).hover(function(){a(this).addClass(j)},function(){a(this).removeClass(j)});a.isFunction(e.beforeOpen)&&e.beforeOpen();t.viewModal(i,{onHide:function(a){a.w.hide().remove();a.o&&a.o.remove()},modal:e.modal,jqm:r});a.isFunction(e.afterOpen)&&e.afterOpen();try{a(i).focus()}catch(z){}},createEl:function(j,g,m,s,o){var y="function 'custom_element' ",u="button",q="selected",k="option",x="select",n="role",w="input",v="checkbox",B="textarea",C=this;function z(c,b){a.isFunction(b.dataInit)&&b.dataInit(c);b.dataEvents&&a.each(b.dataEvents,function(){var b=this;b.data!==undefined?a(c).bind(b.type,b.data,b.fn):a(c).bind(b.type,b.fn)});return b}function A(d,g,c){var b=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr"];if(typeof c!=f&&a.isArray(c))b=a.extend(b,c);a.each(g,function(c,f){a.inArray(c,b)===e&&a(d).attr(c,f)});g.hasOwnProperty("id")||a(d).attr("id",a.jgrid.randId())}var h=d;switch(j){case B:h=document.createElement(B);if(s)g.cols||a(h).css({width:"98%"});else if(!g.cols)g.cols=20;if(!g.rows)g.rows=2;if(m=="&nbsp;"||m=="&#160;"||m.length==1&&m.charCodeAt(0)==160)m=d;h.value=m;A(h,g);g=z(h,g);a(h).attr({role:"textbox",multiline:i});break;case v:h=document.createElement(w);h.type=v;if(g.value){j=g.value.split(":");if(m===j[0]){h.checked=c;h.defaultChecked=c}h.value=j[0];a(h).attr("offval",j[1])}else{j=m.toLowerCase();if(j.search(/(false|0|no|off|undefined)/i)<0&&j!==d){h.checked=c;h.defaultChecked=c;h.value=m}else h.value="on";a(h).attr("offval","off")}A(h,g,["value"]);g=z(h,g);a(h).attr(n,v);break;case x:h=document.createElement(x);h.setAttribute(n,x);s=[];if(g.multiple===c){j=c;h.multiple="multiple";a(h).attr("aria-multiselectable",i)}else j=b;if(typeof g.dataUrl!=f)a.ajax(a.extend({url:g.dataUrl,type:"GET",dataType:"html",context:{elem:h,options:g,vl:m},success:function(g){var d=[],h=this.elem,i=this.vl,b=a.extend({},this.options),j=b.multiple===c;if(typeof b.buildSelect!=f)g=b.buildSelect(g);if(g=a(g).html()){a(h).append(g);A(h,b);b=z(h,b);if(typeof b.size===f)b.size=j?3:1;if(j){d=i.split(",");d=a.map(d,function(b){return a.trim(b)})}else d[0]=a.trim(i);setTimeout(function(){a(k,h).each(function(){var b=this;a(b).attr(n,k);if(a.inArray(a.trim(a(b).text()),d)>e||a.inArray(a.trim(a(b).val()),d)>e)b.selected=q})},0)}}},o||{}));else if(g.value){var p;if(typeof g.size===f)g.size=j?3:1;if(j){s=m.split(",");s=a.map(s,function(b){return a.trim(b)})}if(typeof g.value==="function")g.value=g.value();var r,t;if(typeof g.value===l){r=g.value.split(";");for(p=0;p<r.length;p++){t=r[p].split(":");if(t.length>2)t[1]=a.map(t,function(a,b){if(b>0)return a}).join(":");o=document.createElement(k);o.setAttribute(n,k);o.value=t[0];o.innerHTML=t[1];h.appendChild(o);if(!j&&(a.trim(t[0])==a.trim(m)||a.trim(t[1])==a.trim(m)))o.selected=q;if(j&&(a.inArray(a.trim(t[1]),s)>e||a.inArray(a.trim(t[0]),s)>e))o.selected=q}}else if(typeof g.value==="object"){r=g.value;for(p in r)if(r.hasOwnProperty(p)){o=document.createElement(k);o.setAttribute(n,k);o.value=p;o.innerHTML=r[p];h.appendChild(o);if(!j&&(a.trim(p)==a.trim(m)||a.trim(r[p])==a.trim(m)))o.selected=q;if(j&&(a.inArray(a.trim(r[p]),s)>e||a.inArray(a.trim(p),s)>e))o.selected=q}}A(h,g,["value"]);g=z(h,g)}break;case"text":case"password":case u:p=j==u?u:"textbox";h=document.createElement(w);h.type=j;h.value=m;A(h,g);g=z(h,g);if(j!=u)if(s)g.size||a(h).css({width:"98%"});else if(!g.size)g.size=20;a(h).attr(n,p);break;case"image":case"file":h=document.createElement(w);h.type=j;A(h,g);g=z(h,g);break;case"custom":h=document.createElement("span");try{if(a.isFunction(g.custom_element))if(r=g.custom_element.call(C,m,g)){r=a(r).addClass("customelement").attr({id:g.id,name:g.name});a(h).empty().append(r)}else throw"e2";else throw"e1";}catch(D){D=="e1"&&C.info_dialog(a.jgrid.errors.errcap,y+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose);D=="e2"?C.info_dialog(a.jgrid.errors.errcap,y+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):C.info_dialog(a.jgrid.errors.errcap,typeof D===l?D:D.message,a.jgrid.edit.bClose)}}return h},checkDate:function(a,l){var d={},f;a=a.toLowerCase();f=a.indexOf("/")!=e?"/":a.indexOf("-")!=e?"-":a.indexOf(".")!=e?".":"/";a=a.split(f);l=l.split(f);if(l.length!=3)return b;f=e;for(var h,i=e,j=e,g=0;g<a.length;g++){h=isNaN(l[g])?0:parseInt(l[g],10);d[a[g]]=h;h=a[g];if(h.indexOf("y")!=e)f=g;if(h.indexOf("m")!=e)j=g;if(h.indexOf("d")!=e)i=g}h=a[f]=="y"||a[f]=="yyyy"?4:a[f]=="yy"?2:e;g=function(c){var b=this;for(var a=1;a<=c;a++){b[a]=31;if(a==4||a==6||a==9||a==11)b[a]=30;if(a==2)b[a]=29}return b}(12);var k;if(f===e)return b;else{k=d[a[f]].toString();if(h==2&&k.length==1)h=1;if(k.length!=h||d[a[f]]===0&&l[f]!="00")return b}if(j===e)return b;else{k=d[a[j]].toString();if(k.length<1||d[a[j]]<1||d[a[j]]>12)return b}if(i===e)return b;else{k=d[a[i]].toString();if(k.length<1||d[a[i]]<1||d[a[i]]>31||d[a[j]]==2&&d[a[i]]>(d[a[f]]%4===0&&(d[a[f]]%100!==0||d[a[f]]%400===0)?29:28)||d[a[i]]>g[d[a[j]]])return b}return c},isEmpty:function(a){return a.match(/^\s+$/)||a===d?c:b},checkTime:function(a){var d=/^(\d{1,2}):(\d{2})([ap]m)?$/;if(!this.isEmpty(a))if(a=a.match(d)){if(a[3]){if(a[1]<1||a[1]>12)return b}else if(a[1]>23)return b;if(a[2]>59)return b}else return b;return c},checkValues:function(h,m,n,j,p){var i=": ",o=this,g,k;if(typeof j===f){if(typeof m==l){j=0;for(p=n.p.colModel.length;j<p;j++)if(n.p.colModel[j].name==m){g=n.p.colModel[j].editrules;m=j;try{k=n.p.colModel[j].formoptions.label}catch(q){}break}}else if(m>=0)g=n.p.colModel[m].editrules}else{g=j;k=p===undefined?"_":p}if(g){k||(k=n.p.colNames[m]);if(g.required===c)if(o.isEmpty(h))return[b,k+i+a.jgrid.edit.msg.required,d];j=g.required===b?b:c;if(g.number===c)if(!(j===b&&o.isEmpty(h)))if(isNaN(h))return[b,k+i+a.jgrid.edit.msg.number,d];if(typeof g.minValue!=f&&!isNaN(g.minValue))if(parseFloat(h)<parseFloat(g.minValue))return[b,k+i+a.jgrid.edit.msg.minValue+" "+g.minValue,d];if(typeof g.maxValue!=f&&!isNaN(g.maxValue))if(parseFloat(h)>parseFloat(g.maxValue))return[b,k+i+a.jgrid.edit.msg.maxValue+" "+g.maxValue,d];if(g.email===c)if(!(j===b&&o.isEmpty(h))){p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;if(!p.test(h))return[b,k+i+a.jgrid.edit.msg.email,d]}if(g.integer===c)if(!(j===b&&o.isEmpty(h))){if(isNaN(h))return[b,k+i+a.jgrid.edit.msg.integer,d];if(h%1!==0||h.indexOf(".")!=e)return[b,k+i+a.jgrid.edit.msg.integer,d]}if(g.date===c)if(!(j===b&&o.isEmpty(h))){m=n.p.colModel[m].formatoptions&&n.p.colModel[m].formatoptions.newformat?n.p.colModel[m].formatoptions.newformat:n.p.colModel[m].datefmt||"Y-m-d";if(!o.checkDate(m,h))return[b,k+i+a.jgrid.edit.msg.date+" - "+m,d]}if(g.time===c)if(!(j===b&&o.isEmpty(h)))if(!o.checkTime(h))return[b,k+i+a.jgrid.edit.msg.date+" - hh:mm (am/pm)",d];if(g.url===c)if(!(j===b&&o.isEmpty(h))){p=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;if(!p.test(h))return[b,k+i+a.jgrid.edit.msg.url,d]}if(g.custom===c)if(!(j===b&&o.isEmpty(h)))if(a.isFunction(g.custom_func)){h=g.custom_func.call(n,h,k);return a.isArray(h)?h:[b,a.jgrid.edit.msg.customarray,d]}else return[b,a.jgrid.edit.msg.customfcheck,d]}return[c,d,d]}})})(jQuery);(function(b){var Nb=".navtable",B="tr",N="<div class='ui-pg-div'><span class='ui-icon ",sb=".ui-jqdialog-titlebar-close",X="prev",W="next",Mb=".fm-button",E="</div>",hb="#cData",w="'></span>",bb="<span class='ui-icon ",ab="fm-button-icon-left",Z="fm-button-icon-right",Lb="ui-icon-close",Kb="text-align",Jb=".EditButton",rb="float",Ib="<span></span>",Hb="</td><td class='EditButton'>",Gb="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>",Fb="' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",Eb="' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",gb="pData",fb="nData",Db="<table id='",Cb=";'></form>",Bb="<form name='FormPost' id='",cb="px",Y="#pData, #nData",Ab=".ui-jqdialog-title",yb="getDataIDs",A="#nData",l="ui-state-disabled",z="#pData",xb="Error deleting the selected row!",wb="setRowData",D="setSelection",U="addRowData",v="#FormError",pb="'. Error code: ",ob=" Status: '",eb="getGridParam",J="ui-state-active",f="_2",C="checked",r="attr",q="prop",I="#id_g",vb="'/></td></tr>",ub="<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='",T="id",nb="FormData",mb=" rowpos='",L="</td></tr>",lb="<tr><td class='contentinfo' colspan='",K="]",kb="tr[rowpos=",db="&#160;",p=")",n="td:eq(",Q="rn",P="subgrid",O="cb",jb="style='display:none'",V="getInd",tb="first",k="ui-state-hover",zb=".fm-button:not(.ui-state-disabled)",u="reloadGrid",x="click",o=10,qb="</td></tr></tbody></table>",G="'>",s=-1,y="</a>",M="<a href='javascript:void(0)' id='",t="right",S="rtl",e="",F="left",H="#gview_",ib="string",j="#gbox_",m="undefined",a="#",R="auto",h=null,d=true,c=false,g={};b.jgrid.extend({searchGrid:function(f){f=b.extend({recreateFilter:c,drag:d,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:d,beforeShowSearch:h,afterShowSearch:h,onInitializeSearch:h,afterRedraw:h,closeAfterSearch:c,closeAfterReset:c,closeOnEscape:c,multipleSearch:c,multipleGroup:c,top:0,left:0,jqModal:d,modal:c,resize:d,width:450,height:R,dataheight:R,showQuery:c,errorcheck:d,sopt:h,stringResult:undefined,onClose:h,onSearch:h,onReset:h,toTop:d,overlay:30,columns:[],tmplNames:h,tmplFilters:h,tmplLabel:" Template: ",showOnLoad:c,layer:h},b.jgrid.search,f||{});return this.each(function(){var n=".ui-template";function I(){if(b.isFunction(f.beforeShowSearch)){B=f.beforeShowSearch(b(a+g));if(typeof B===m)B=d}if(B){b.jgrid.viewModal(a+q.themodal,{gbox:j+g,jqm:f.jqModal,modal:f.modal,overlay:f.overlay,toTop:f.toTop});b.isFunction(f.afterShowSearch)&&f.afterShowSearch(b(a+g))}}var i=this;if(i.grid){var g="fbox_"+i.p.id,B=d,q={themodal:"searchmod"+g,modalhead:"searchhd"+g,modalcontent:"searchcnt"+g,scrollelm:g},p=i.p.postData[f.sFilter];if(typeof p===ib)p=b.jgrid.parse(p);f.recreateFilter===d&&b(a+q.themodal).remove();if(b(a+q.themodal).html()!==h)I();else{var l=b("<div><div id='"+g+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore(H+i.p.id),A=F,J=e;if(i.p.direction==S){A=t;J=" style='text-align:left'";l.attr("dir",S)}if(b.isFunction(f.onInitializeSearch))f.onInitializeSearch(b(a+g));var w=b.extend([],i.p.colModel),L=M+g+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+f.Find+y,K=M+g+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+f.Reset+y,E=e,v=e,D,r=c,z=s;if(f.showQuery)E=M+g+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>";if(f.columns.length)w=f.columns;else b.each(w,function(c,a){if(!a.label)a.label=i.p.colNames[c];if(!r){var b=typeof a.search===m?d:a.search,e=a.hidden===d;if(a.searchoptions&&a.searchoptions.searchhidden===d&&b||b&&!e){r=d;D=a.index||a.name;z=c}}});if(!p&&D||f.multipleSearch===c){var C="eq";if(z>=0&&w[z].searchoptions&&w[z].searchoptions.sopt)C=w[z].searchoptions.sopt[0];else if(f.sopt&&f.sopt.length)C=f.sopt[0];p={groupOp:"AND",rules:[{field:D,op:C,data:e}]}}r=c;if(f.tmplNames&&f.tmplNames.length){r=d;v=f.tmplLabel;v+="<select class='ui-template'>";v+="<option value='default'>Default</option>";b.each(f.tmplNames,function(b,a){v+="<option value='"+b+G+a+"</option>"});v+="</select>"}A="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+g+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+A+G+K+v+"</td><td class='EditButton' "+J+">"+E+L+qb;b(a+g).jqFilter({columns:w,filter:f.loadDefaults?p:h,showQuery:f.showQuery,errorcheck:f.errorcheck,sopt:f.sopt,groupButton:f.multipleGroup,ruleButtons:f.multipleSearch,afterRedraw:f.afterRedraw,_gridsopt:b.jgrid.search.odata,onChange:function(){this.p.showQuery&&b(".query",this).html(this.toUserFriendlyString())},direction:i.p.direction});l.append(A);r&&f.tmplFilters&&f.tmplFilters.length&&b(n,l).bind("change",function(){var d="addFilter",e=b(this).val();e=="default"?b(a+g).jqFilter(d,p):b(a+g).jqFilter(d,f.tmplFilters[parseInt(e,o)]);return c});if(f.multipleGroup===d)f.multipleSearch=d;if(b.isFunction(f.onInitializeSearch))f.onInitializeSearch(b(a+g));f.gbox=j+g;f.layer?b.jgrid.createModal(q,l,f,H+i.p.id,b(j+i.p.id)[0],a+f.layer,{position:"relative"}):b.jgrid.createModal(q,l,f,H+i.p.id,b(j+i.p.id)[0]);E&&b(a+g+"_query").bind(x,function(){b(".queryresult",l).toggle();return c});if(f.stringResult===undefined)f.stringResult=f.multipleSearch;b(a+g+"_search").bind(x,function(){var l=b(a+g),h={},m,k=l.jqFilter("filterData");if(f.errorcheck){l[0].hideError();f.showQuery||l.jqFilter("toSQLString");if(l[0].p.error){l[0].showError();return c}}if(f.stringResult){try{m=xmlJsonClass.toJson(k,e,e,c)}catch(o){try{m=JSON.stringify(k)}catch(n){}}if(typeof m===ib){h[f.sFilter]=m;b.each([f.sField,f.sValue,f.sOper],function(){h[this]=e})}}else if(f.multipleSearch){h[f.sFilter]=k;b.each([f.sField,f.sValue,f.sOper],function(){h[this]=e})}else{h[f.sField]=k.rules[0].field;h[f.sValue]=k.rules[0].data;h[f.sOper]=k.rules[0].op;h[f.sFilter]=e}i.p.search=d;b.extend(i.p.postData,h);b.isFunction(f.onSearch)&&f.onSearch();b(i).trigger(u,[{page:1}]);f.closeAfterSearch&&b.jgrid.hideModal(a+q.themodal,{gb:j+i.p.id,jqm:f.jqModal,onClose:f.onClose});return c});b(a+g+"_reset").bind(x,function(){var d={},h=b(a+g);i.p.search=c;if(f.multipleSearch===c)d[f.sField]=d[f.sValue]=d[f.sOper]=e;else d[f.sFilter]=e;h[0].resetFilter();r&&b(n,l).val("default");b.extend(i.p.postData,d);b.isFunction(f.onReset)&&f.onReset();b(i).trigger(u,[{page:1}]);return c});I();b(zb,l).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)})}}})},editGridRow:function(N,B){B=b.extend({top:0,left:0,width:300,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,url:h,mtype:"POST",clearAfterAdd:d,closeAfterEdit:c,reloadAfterSubmit:d,onInitializeForm:h,beforeInitData:h,beforeShowForm:h,afterShowForm:h,beforeSubmit:h,afterSubmit:h,onclickSubmit:h,afterComplete:h,onclickPgButtons:h,afterclickPgButtons:h,editData:{},recreateForm:c,jqModal:d,closeOnEscape:c,addedrow:tb,topinfo:e,bottominfo:e,saveicon:[],closeicon:[],savekey:[c,13],navkeys:[c,38,40],checkOnSubmit:c,checkOnUpdate:c,_savedData:{},processing:c,onClose:h,ajaxEditOptions:{},serializeEditData:h,viewPagerButtons:d},b.jgrid.edit,B||{});g[b(this)[0].p.id]=B;return this.each(function(){var jc="#pData,#nData",ic=".jqmOverlay",ec=".binfo",dc=".tinfo",Sb=".confirm",tb="disabled",Tb="#sData",zb="_id",Ub="select",qb="_empty",Pb="textarea",Vb="text",cc="password",Yb="offval",Qb="checkbox",ac="function 'custom_value' ",Rb="e1";function Ac(){b(a+sb+" > tbody > tr > td > .FormElement").each(function(){var f="option:selected",c=this,g=b(".customelement",c);if(g.length){var h=b(g[0]).attr("name");b.each(R.p.colModel,function(){var c=this;if(c.name===h&&c.editoptions&&b.isFunction(c.editoptions.custom_value)){try{ib[h]=c.editoptions.custom_value(b(a+b.jgrid.jqID(h),a+sb),"get");if(ib[h]===undefined)throw Rb;}catch(e){e===Rb?b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,ac+b.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e.message,jQuery.jgrid.edit.bClose)}return d}})}else{switch(b(c).get(0).type){case Qb:if(b(c).is(":checked"))ib[c.name]=b(c).val();else{g=b(c).attr(Yb);ib[c.name]=g}break;case"select-one":ib[c.name]=b(f,c).val();fc[c.name]=b(f,c).text();break;case"select-multiple":ib[c.name]=b(c).val();ib[c.name]=ib[c.name]?ib[c.name].join(","):e;var i=[];b(f,c).each(function(c,a){i[c]=b(a).text()});fc[c.name]=i.join(",");break;case cc:case Vb:case Pb:case"button":ib[c.name]=b(c).val()}if(R.p.autoencode)ib[c.name]=b.jgrid.htmlEncode(ib[c.name])}});return d}function Fc(j,f,s,t){for(var h,x,i,q=0,a,v,k,w=[],l=c,u=e,r=1;r<=t;r++)u+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";if(j!=qb)l=b(f).jqGrid(V,j);b(f.p.colModel).each(function(A){var r=this;h=r.name;v=(x=r.editrules&&r.editrules.edithidden===d?c:r.hidden===d?d:c)?jb:e;if(h!==O&&h!==P&&r.editable===d&&h!==Q){if(l===c)a=e;else if(h==f.p.ExpandColumn&&f.p.treeGrid===d)a=b(n+A+p,f.rows[l]).text();else{try{a=b.unformat(b(n+A+p,f.rows[l]),{rowId:j,colModel:r},A)}catch(D){a=r.edittype&&r.edittype==Pb?b(n+A+p,f.rows[l]).text():b(n+A+p,f.rows[l]).html()}if(!a||a=="&nbsp;"||a==db||a.length==1&&a.charCodeAt(0)==160)a=e}var y=b.extend({},r.editoptions||{},{id:h,name:h}),z=b.extend({},{elmprefix:e,elmsuffix:e,rowabove:c,rowcontent:e},r.formoptions||{}),B=parseInt(z.rowpos,o)||q+1,C=parseInt((parseInt(z.colpos,o)||1)*2,o);if(j==qb&&y.defaultValue)a=b.isFunction(y.defaultValue)?y.defaultValue():y.defaultValue;if(!r.edittype)r.edittype=Vb;if(R.p.autoencode)a=b.jgrid.htmlDecode(a);k=b.jgrid.createEl(r.edittype,y,a,c,b.extend({},b.jgrid.ajaxOptions,f.p.ajaxSelectOptions||{}));if(a===e&&r.edittype==Qb)a=b(k).attr(Yb);if(a===e&&r.edittype==Ub)a=b("option:eq(0)",k).text();if(g[R.p.id].checkOnSubmit||g[R.p.id].checkOnUpdate)g[R.p.id]._savedData[h]=a;b(k).addClass("FormElement");(r.edittype==Vb||r.edittype==Pb)&&b(k).addClass("ui-widget-content ui-corner-all");i=b(s).find(kb+B+K);if(z.rowabove){y=b(lb+t*2+G+z.rowcontent+L);b(s).append(y);y[0].rp=B}if(i.length===0){i=b("<tr "+v+mb+B+"'></tr>").addClass(nb).attr(T,"tr_"+h);b(i).append(u);b(s).append(i);i[0].rp=B}b(n+(C-2)+p,i[0]).html(typeof z.label===m?f.p.colNames[A]:z.label);b(n+(C-1)+p,i[0]).append(z.elmprefix).append(k).append(z.elmsuffix);w[q]=A;q++}});if(q>0){r=b(ub+(t*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+f.p.id+"_id' value='"+j+vb);r[0].rp=q+999;b(s).append(r);if(g[R.p.id].checkOnSubmit||g[R.p.id].checkOnUpdate)g[R.p.id]._savedData[f.p.id+zb]=j}return w}function qc(n,p,l){var f,u=0,i,j,o,m,t;if(g[R.p.id].checkOnSubmit||g[R.p.id].checkOnUpdate){g[R.p.id]._savedData={};g[R.p.id]._savedData[p.p.id+zb]=n}var k=p.p.colModel;if(n==qb){b(k).each(function(){f=this.name;o=b.extend({},this.editoptions||{});if((j=b(a+b.jgrid.jqID(f),a+l))&&j.length&&j[0]!==h){m=e;if(o.defaultValue){m=b.isFunction(o.defaultValue)?o.defaultValue():o.defaultValue;if(j[0].type==Qb){t=m.toLowerCase();if(t.search(/(false|0|no|off|undefined)/i)<0&&t!==e){j[0].checked=d;j[0].defaultChecked=d;j[0].value=m}else{j[0].checked=c;j[0].defaultChecked=c}}else j.val(m)}else if(j[0].type==Qb){j[0].checked=c;j[0].defaultChecked=c;m=b(j).attr(Yb)}else if(j[0].type&&j[0].type.substr(0,6)==Ub)j[0].selectedIndex=0;else j.val(m);if(g[R.p.id].checkOnSubmit===d||g[R.p.id].checkOnUpdate)g[R.p.id]._savedData[f]=m}});b(I,a+l).val(n)}else{var v=b(p).jqGrid(V,n,d);if(v){b("td",v).each(function(j){var h="defaultChecked",o=this;f=k[j].name;if(f!==O&&f!==P&&f!==Q&&k[j].editable===d){if(f==p.p.ExpandColumn&&p.p.treeGrid===d)i=b(o).text();else try{i=b.unformat(b(o),{rowId:n,colModel:k[j]},j)}catch(t){i=k[j].edittype==Pb?b(o).text():b(o).html()}if(R.p.autoencode)i=b.jgrid.htmlDecode(i);if(g[R.p.id].checkOnSubmit===d||g[R.p.id].checkOnUpdate)g[R.p.id]._savedData[f]=i;f=b.jgrid.jqID(f);switch(k[j].edittype){case cc:case Vb:case"button":case"image":case Pb:if(i=="&nbsp;"||i==db||i.length==1&&i.charCodeAt(0)==160)i=e;b(a+f,a+l).val(i);break;case Ub:var m=i.split(",");m=b.map(m,function(a){return b.trim(a)});b(a+f+" option",a+l).each(function(){var a=this;a.selected=!k[j].editoptions.multiple&&(b.trim(i)==b.trim(b(a).text())||m[0]==b.trim(b(a).text())||m[0]==b.trim(b(a).val()))?d:k[j].editoptions.multiple?b.inArray(b.trim(b(a).text()),m)>s||b.inArray(b.trim(b(a).val()),m)>s?d:c:c});break;case Qb:i+=e;if(k[j].editoptions&&k[j].editoptions.value)if(k[j].editoptions.value.split(":")[0]==i){b(a+f,a+l)[R.p.useProp?q:r](C,d);b(a+f,a+l)[R.p.useProp?q:r](h,d)}else{b(a+f,a+l)[R.p.useProp?q:r](C,c);b(a+f,a+l)[R.p.useProp?q:r](h,c)}else{i=i.toLowerCase();if(i.search(/(false|0|no|off|undefined)/i)<0&&i!==e){b(a+f,a+l)[R.p.useProp?q:r](C,d);b(a+f,a+l)[R.p.useProp?q:r](h,d)}else{b(a+f,a+l)[R.p.useProp?q:r](C,c);b(a+f,a+l)[R.p.useProp?q:r](h,c)}}break;case"custom":try{if(k[j].editoptions&&b.isFunction(k[j].editoptions.custom_value))k[j].editoptions.custom_value(b(a+f,a+l),"set",i);else throw Rb;}catch(v){v==Rb?b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,ac+b.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose):b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,v.message,jQuery.jgrid.edit.bClose)}}u++}});u>0&&b(I,a+sb).val(n)}}}function nc(){var p="#FormError>td",w,k=[d,e,e],o={},n=R.p.prmNames,l,r,q,s;if(b.isFunction(g[R.p.id].beforeCheckValues)){var t=g[R.p.id].beforeCheckValues(ib,b(a+Nb),ib[R.p.id+zb]==qb?n.addoper:n.editoper);if(t&&typeof t==="object")ib=t}for(q in ib)if(ib.hasOwnProperty(q)){k=b.jgrid.checkValues(ib[q],q,R);if(k[0]===c)break}Gc();if(k[0]){if(b.isFunction(g[R.p.id].onclickSubmit))o=g[R.p.id].onclickSubmit(g[R.p.id],ib)||{};if(b.isFunction(g[R.p.id].beforeSubmit))k=g[R.p.id].beforeSubmit(ib,b(a+Nb))}if(k[0]&&!g[R.p.id].processing){g[R.p.id].processing=d;b(Tb,a+sb+f).addClass(J);r=n.oper;l=n.id;ib[r]=b.trim(ib[R.p.id+zb])==qb?n.addoper:n.editoper;if(ib[r]!=n.addoper)ib[l]=ib[R.p.id+zb];else if(ib[l]===undefined)ib[l]=ib[R.p.id+zb];delete ib[R.p.id+zb];ib=b.extend(ib,g[R.p.id].editData,o);if(R.p.treeGrid===d){if(ib[r]==n.addoper){s=b(R).jqGrid(eb,"selrow");ib[R.p.treeGridModel=="adjacency"?R.p.treeReader.parent_id_field:"parent_id"]=s}for(i in R.p.treeReader){o=R.p.treeReader[i];if(ib.hasOwnProperty(o))ib[r]==n.addoper&&i==="parent_id_field"||delete ib[o]}}ib[l]=b.jgrid.stripPref(R.p.idPrefix,ib[l]);o=b.extend({url:g[R.p.id].url?g[R.p.id].url:b(R).jqGrid(eb,"editurl"),type:g[R.p.id].mtype,data:b.isFunction(g[R.p.id].serializeEditData)?g[R.p.id].serializeEditData(ib):ib,complete:function(i,o){var e="addChildNode";ib[l]=R.p.idPrefix+ib[l];if(o!="success"){k[0]=c;k[1]=b.isFunction(g[R.p.id].errorTextFormat)?g[R.p.id].errorTextFormat(i):o+ob+i.statusText+pb+i.status}else if(b.isFunction(g[R.p.id].afterSubmit))k=g[R.p.id].afterSubmit(i,ib);if(k[0]===c){b(p,a+sb).html(k[1]);b(v,a+sb).show()}else{b.each(R.p.colModel,function(){var a=this;if(fc[a.name]&&a.formatter&&a.formatter==Ub)try{delete fc[a.name]}catch(b){}});ib=b.extend(ib,fc);R.p.autoencode&&b.each(ib,function(a,c){ib[a]=b.jgrid.htmlDecode(c)});if(ib[r]==n.addoper){k[2]||(k[2]=b.jgrid.randId());ib[l]=k[2];if(g[R.p.id].closeAfterAdd){if(g[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],s,ib);else{b(R).jqGrid(U,k[2],ib,B.addedrow);b(R).jqGrid(D,k[2])}b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose})}else if(g[R.p.id].clearAfterAdd){if(g[R.p.id].reloadAfterSubmit)b(R).trigger(u);else R.p.treeGrid===d?b(R).jqGrid(e,k[2],s,ib):b(R).jqGrid(U,k[2],ib,B.addedrow);qc(qb,R,Nb)}else if(g[R.p.id].reloadAfterSubmit)b(R).trigger(u);else R.p.treeGrid===d?b(R).jqGrid(e,k[2],s,ib):b(R).jqGrid(U,k[2],ib,B.addedrow)}else{if(g[R.p.id].reloadAfterSubmit){b(R).trigger(u);g[R.p.id].closeAfterEdit||setTimeout(function(){b(R).jqGrid(D,ib[l])},1e3)}else R.p.treeGrid===d?b(R).jqGrid("setTreeRow",ib[l],ib):b(R).jqGrid(wb,ib[l],ib);g[R.p.id].closeAfterEdit&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose})}if(b.isFunction(g[R.p.id].afterComplete)){w=i;setTimeout(function(){g[R.p.id].afterComplete(w,ib,b(a+Nb));w=h},500)}if(g[R.p.id].checkOnSubmit||g[R.p.id].checkOnUpdate){b(a+Nb).data(tb,c);if(g[R.p.id]._savedData[R.p.id+zb]!=qb)for(var m in g[R.p.id]._savedData)if(ib[m])g[R.p.id]._savedData[m]=ib[m]}}g[R.p.id].processing=c;b(Tb,a+sb+f).removeClass(J);try{b(":input:visible",a+Nb)[0].focus()}catch(q){}}},b.jgrid.ajaxOptions,g[R.p.id].ajaxEditOptions);if(!o.url&&!g[R.p.id].useDataProxy)if(b.isFunction(R.p.dataProxy))g[R.p.id].useDataProxy=d;else{k[0]=c;k[1]+=" "+b.jgrid.errors.nourl}if(k[0])if(g[R.p.id].useDataProxy){q=R.p.dataProxy.call(R,o,"set_"+R.p.id);if(typeof q==m)q=[d,e];if(q[0]===c){k[0]=c;k[1]=q[1]||xb}else{o.data.oper==n.addoper&&g[R.p.id].closeAfterAdd&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose});o.data.oper==n.editoper&&g[R.p.id].closeAfterEdit&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose})}}else b.ajax(o)}if(k[0]===c){b(p,a+sb).html(k[1]);b(v,a+sb).show()}}function Cc(b,f){var e=c,a;for(a in b)if(b[a]!=f[a]){e=d;break}return e}function Gc(){b.each(R.p.colModel,function(b,a){if(a.editoptions&&a.editoptions.NullIfEmpty===d)if(ib.hasOwnProperty(a.name)&&ib[a.name]==e)ib[a.name]="null"})}function hc(){var e=d;b(v,a+sb).hide();if(g[R.p.id].checkOnUpdate){ib={};fc={};Ac();pc=b.extend({},ib,fc);if(Ec=Cc(pc,g[R.p.id]._savedData)){b(a+Nb).data(tb,d);b(Sb,a+Ob.themodal).show();e=c}}return e}function Dc(){if(N!==qb&&typeof R.p.savedRow!==m&&R.p.savedRow.length>0&&b.isFunction(b.fn.jqGrid.restoreRow))for(var a=0;a<R.p.savedRow.length;a++)if(R.p.savedRow[a].id==N){b(R).jqGrid("restoreRow",N);break}}function wc(c,d){c===0?b(z,a+sb+f).addClass(l):b(z,a+sb+f).removeClass(l);c==d?b(A,a+sb+f).addClass(l):b(A,a+sb+f).removeClass(l)}function uc(){var c=b(R).jqGrid(yb),d=b(I,a+sb).val();return[b.inArray(d,c),c]}var R=this;if(R.grid&&N){var Xb=R.p.id,Nb="FrmGrid_"+Xb,sb="TblGrid_"+Xb,Ob={themodal:"editmod"+Xb,modalhead:"edithd"+Xb,modalcontent:"editcnt"+Xb,scrollelm:Nb},gc=b.isFunction(g[R.p.id].beforeShowForm)?g[R.p.id].beforeShowForm:c,oc=b.isFunction(g[R.p.id].afterShowForm)?g[R.p.id].afterShowForm:c,Zb=b.isFunction(g[R.p.id].beforeInitData)?g[R.p.id].beforeInitData:c,Bc=b.isFunction(g[R.p.id].onInitializeForm)?g[R.p.id].onInitializeForm:c,Wb=d,mc=1,xc=0,ib,fc,pc,Ec;if(N==="new"){N=qb;B.caption=g[R.p.id].addCaption}else B.caption=g[R.p.id].editCaption;B.recreateForm===d&&b(a+Ob.themodal).html()!==h&&b(a+Ob.themodal).remove();var vc=d;if(B.checkOnUpdate&&B.jqModal&&!B.modal)vc=c;if(b(a+Ob.themodal).html()!==h){if(Zb){Wb=Zb(b(a+Nb));if(typeof Wb==m)Wb=d}if(Wb===c)return;Dc();b(Ab,a+Ob.modalhead).html(B.caption);b(v,a+sb).hide();if(g[R.p.id].topinfo){b(".topinfo",a+sb).html(g[R.p.id].topinfo);b(dc,a+sb).show()}else b(dc,a+sb).hide();if(g[R.p.id].bottominfo){b(".bottominfo",a+sb+f).html(g[R.p.id].bottominfo);b(ec,a+sb+f).show()}else b(ec,a+sb+f).hide();qc(N,R,Nb);N==qb||!g[R.p.id].viewPagerButtons?b(Y,a+sb+f).hide():b(Y,a+sb+f).show();if(g[R.p.id].processing===d){g[R.p.id].processing=c;b(Tb,a+sb+f).removeClass(J)}if(b(a+Nb).data(tb)===d){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c)}gc&&gc(b(a+Nb));b(a+Ob.themodal).data("onClose",g[R.p.id].onClose);b.jgrid.viewModal(a+Ob.themodal,{gbox:j+Xb,jqm:B.jqModal,jqM:c,overlay:B.overlay,modal:B.modal});vc||b(ic).click(function(){if(!hc())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose});return c});oc&&oc(b(a+Nb))}else{var bc=isNaN(B.dataheight)?B.dataheight:B.dataheight+cb;bc=b(Bb+Nb+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+bc+Cb).data(tb,c);var kc=b(Db+sb+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>");if(Zb){Wb=Zb(b(a+Nb));if(typeof Wb==m)Wb=d}if(Wb===c)return;Dc();b(R.p.colModel).each(function(){var a=this.formoptions;mc=Math.max(mc,a?a.colpos||0:0);xc=Math.max(xc,a?a.rowpos||0:0)});b(bc).append(kc);Zb=b("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+mc*2+"'></td></tr>");Zb[0].rp=0;b(kc).append(Zb);Zb=b("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+mc*2+G+g[R.p.id].topinfo+L);Zb[0].rp=0;b(kc).append(Zb);Wb=(Zb=R.p.direction==S?d:c)?fb:gb;var lc=Zb?gb:fb;Fc(N,R,kc,mc);Wb=M+Wb+Eb;lc=M+lc+Fb;var rc="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+B.bSubmit+y,tc=Gb+B.bCancel+y;Wb="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+sb+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(Zb?lc+Wb:Wb+lc)+Hb+rc+tc+L;Wb+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+g[R.p.id].bottominfo+L;Wb+="</tbody></table>";if(xc>0){var sc=[],yc={};b.each(b(kc)[0].rows,function(a,b){sc[a]=b});sc.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?s:0});b.each(sc,function(b,a){yc.html+=a});b("tbody",kc).append(yc.html)}B.gbox=j+Xb;var zc=c;if(B.closeOnEscape===d){B.closeOnEscape=c;zc=d}bc=b(Ib).append(bc).append(Wb);b.jgrid.createModal(Ob,bc,B,H+R.p.id,b(j+R.p.id)[0]);if(Zb){b(Y,a+sb+f).css(rb,t);b(Jb,a+sb+f).css(Kb,F)}g[R.p.id].topinfo&&b(dc,a+sb).show();g[R.p.id].bottominfo&&b(ec,a+sb+f).show();Wb=bc=h;b(a+Ob.themodal).keydown(function(e){var h=e.target;if(b(a+Nb).data(tb)===d)return c;if(g[R.p.id].savekey[0]===d&&e.which==g[R.p.id].savekey[1])if(h.tagName!="TEXTAREA"){b(Tb,a+sb+f).trigger(x);return c}if(e.which===27){if(!hc())return c;zc&&b.jgrid.hideModal(this,{gb:B.gbox,jqm:B.jqModal,onClose:g[R.p.id].onClose});return c}if(g[R.p.id].navkeys[0]===d){if(b(I,a+sb).val()==qb)return d;if(e.which==g[R.p.id].navkeys[1]){b(z,a+sb+f).trigger(x);return c}if(e.which==g[R.p.id].navkeys[2]){b(A,a+sb+f).trigger(x);return c}}});if(B.checkOnUpdate){b("a.ui-jqdialog-titlebar-close span",a+Ob.themodal).removeClass("jqmClose");b("a.ui-jqdialog-titlebar-close",a+Ob.themodal).unbind(x).click(function(){if(!hc())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose});return c})}B.saveicon=b.extend([d,F,"ui-icon-disk"],B.saveicon);B.closeicon=b.extend([d,F,Lb],B.closeicon);B.saveicon[0]===d&&b(Tb,a+sb+f).addClass(B.saveicon[1]==t?Z:ab).append(bb+B.saveicon[2]+w);B.closeicon[0]===d&&b(hb,a+sb+f).addClass(B.closeicon[1]==t?Z:ab).append(bb+B.closeicon[2]+w);if(g[R.p.id].checkOnSubmit||g[R.p.id].checkOnUpdate){rc="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bYes+y;lc="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bNo+y;tc="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bExit+y;bc=B.zIndex||999;bc++;b("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+bc+";display:none;'>&#160;"+(b.browser.msie&&b.browser.version==6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':e)+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(bc+1)+G+B.saveData+"<br/><br/>"+rc+lc+tc+E).insertAfter(a+Nb);b("#sNew",a+Ob.themodal).click(function(){nc();b(a+Nb).data(tb,c);b(Sb,a+Ob.themodal).hide();return c});b("#nNew",a+Ob.themodal).click(function(){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c);setTimeout(function(){b(":input",a+Nb)[0].focus()},0);return c});b("#cNew",a+Ob.themodal).click(function(){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c);b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose});return c})}Bc&&Bc(b(a+Nb));N==qb||!g[R.p.id].viewPagerButtons?b(jc,a+sb+f).hide():b(jc,a+sb+f).show();gc&&gc(b(a+Nb));b(a+Ob.themodal).data("onClose",g[R.p.id].onClose);b.jgrid.viewModal(a+Ob.themodal,{gbox:j+Xb,jqm:B.jqModal,overlay:B.overlay,modal:B.modal});vc||b(ic).click(function(){if(!hc())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose});return c});oc&&oc(b(a+Nb));b(Mb,a+Ob.themodal).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});b(Tb,a+sb+f).click(function(){ib={};fc={};b(v,a+sb).hide();Ac();if(ib[R.p.id+zb]==qb)nc();else if(B.checkOnSubmit===d){pc=b.extend({},ib,fc);if(Ec=Cc(pc,g[R.p.id]._savedData)){b(a+Nb).data(tb,d);b(Sb,a+Ob.themodal).show()}else nc()}else nc();return c});b(hb,a+sb+f).click(function(){if(!hc())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Xb,jqm:B.jqModal,onClose:g[R.p.id].onClose});return c});b(A,a+sb+f).click(function(){if(!hc())return c;b(v,a+sb).hide();var d=uc();d[0]=parseInt(d[0],o);if(d[0]!=s&&d[1][d[0]+1]){if(b.isFunction(B.onclickPgButtons))B.onclickPgButtons(W,b(a+Nb),d[1][d[0]]);qc(d[1][d[0]+1],R,Nb);b(R).jqGrid(D,d[1][d[0]+1]);b.isFunction(B.afterclickPgButtons)&&B.afterclickPgButtons(W,b(a+Nb),d[1][d[0]+1]);wc(d[0]+1,d[1].length-1)}return c});b(z,a+sb+f).click(function(){if(!hc())return c;b(v,a+sb).hide();var d=uc();if(d[0]!=s&&d[1][d[0]-1]){if(b.isFunction(B.onclickPgButtons))B.onclickPgButtons(X,b(a+Nb),d[1][d[0]]);qc(d[1][d[0]-1],R,Nb);b(R).jqGrid(D,d[1][d[0]-1]);b.isFunction(B.afterclickPgButtons)&&B.afterclickPgButtons(X,b(a+Nb),d[1][d[0]-1]);wc(d[0]-1,d[1].length-1)}return c})}gc=uc();wc(gc[0],gc[1].length-1)}})},viewGridRow:function(i,g){g=b.extend({top:0,left:0,width:0,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,jqModal:d,closeOnEscape:c,labelswidth:"30%",closeicon:[],navkeys:[c,38,40],onClose:h,beforeShowForm:h,beforeInitData:h,viewPagerButtons:d},b.jgrid.view,g||{});return this.each(function(){function R(){(g.closeOnEscape===d||g.navkeys[0]===d)&&setTimeout(function(){b(sb,a+N.modalhead).focus()},0)}function Mb(j,h,q,v){for(var a,x,f,i=0,C,D,z=[],k=c,E="<td class='CaptionTD form-view-label ui-widget-content' width='"+g.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",A=e,F=["integer","number","currency"],l=0,r=0,y,w,B,u=1;u<=v;u++)A+=u==1?E:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";b(h.p.colModel).each(function(){var a=this;x=a.editrules&&a.editrules.edithidden===d?c:a.hidden===d?d:c;if(!x&&a.align===t)if(a.formatter&&b.inArray(a.formatter,F)!==s)l=Math.max(l,parseInt(a.width,o));else r=Math.max(r,parseInt(a.width,o))});y=l!==0?l:r!==0?r:0;k=b(h).jqGrid(V,j);b(h.p.colModel).each(function(r){var g=this;a=g.name;w=c;D=(x=g.editrules&&g.editrules.edithidden===d?c:g.hidden===d?d:c)?jb:e;B=typeof g.viewable!="boolean"?d:g.viewable;if(a!==O&&a!==P&&a!==Q&&B){C=k===c?e:a==h.p.ExpandColumn&&h.p.treeGrid===d?b(n+r+p,h.rows[k]).text():b(n+r+p,h.rows[k]).html();w=g.align===t&&y!==0?d:c;b.extend({},g.editoptions||{},{id:a,name:a});var j=b.extend({},{rowabove:c,rowcontent:e},g.formoptions||{}),l=parseInt(j.rowpos,o)||i+1,s=parseInt((parseInt(j.colpos,o)||1)*2,o);if(j.rowabove){var u=b(lb+v*2+G+j.rowcontent+L);b(q).append(u);u[0].rp=l}f=b(q).find(kb+l+K);if(f.length===0){f=b("<tr "+D+mb+l+"'></tr>").addClass(nb).attr(T,"trv_"+a);b(f).append(A);b(q).append(f);f[0].rp=l}b(n+(s-2)+p,f[0]).html("<b>"+(typeof j.label===m?h.p.colNames[r]:j.label)+"</b>");b(n+(s-1)+p,f[0]).append("<span>"+C+"</span>").attr(T,"v_"+a);w&&b(n+(s-1)+") span",f[0]).css({"text-align":t,width:y+cb});z[i]=r;i++}});if(i>0){j=b(ub+(v*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+j+vb);j[0].rp=i+99;b(q).append(j)}return z}function tb(g,f){var e,i,h=0,k,j;if(j=b(f).jqGrid(V,g,d)){b("td",j).each(function(g){e=f.p.colModel[g].name;i=f.p.colModel[g].editrules&&f.p.colModel[g].editrules.edithidden===d?c:f.p.colModel[g].hidden===d?d:c;if(e!==O&&e!==P&&e!==Q){k=e==f.p.ExpandColumn&&f.p.treeGrid===d?b(this).text():b(this).html();b.extend({},f.p.colModel[g].editoptions||{});e=b.jgrid.jqID("v_"+e);b(a+e+" span",a+q).html(k);i&&b(a+e,a+q).parents("tr:first").hide();h++}});h>0&&b(I,a+q).val(g)}}function db(c,d){c===0?b(z,a+q+f).addClass(l):b(z,a+q+f).removeClass(l);c==d?b(A,a+q+f).addClass(l):b(A,a+q+f).removeClass(l)}function ib(){var c=b(r).jqGrid(yb),d=b(I,a+q).val();return[b.inArray(d,c),c]}var r=this;if(r.grid&&i){var J=r.p.id,B="ViewGrid_"+J,q="ViewTbl_"+J,N={themodal:"viewmod"+J,modalhead:"viewhd"+J,modalcontent:"viewcnt"+J,scrollelm:B},E=b.isFunction(g.beforeInitData)?g.beforeInitData:c,u=d,pb=1,ob=0;if(b(a+N.themodal).html()!==h){if(E){u=E(b(a+B));if(typeof u==m)u=d}if(u===c)return;b(Ab,a+N.modalhead).html(g.caption);b(v,a+q).hide();tb(i,r);b.isFunction(g.beforeShowForm)&&g.beforeShowForm(b(a+B));b.jgrid.viewModal(a+N.themodal,{gbox:j+J,jqm:g.jqModal,jqM:c,overlay:g.overlay,modal:g.modal});R()}else{var C=isNaN(g.dataheight)?g.dataheight:g.dataheight+cb;C=b(Bb+B+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+C+Cb);var U=b(Db+q+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(E){u=E(b(a+B));if(typeof u==m)u=d}if(u===c)return;b(r.p.colModel).each(function(){var a=this.formoptions;pb=Math.max(pb,a?a.colpos||0:0);ob=Math.max(ob,a?a.rowpos||0:0)});b(C).append(U);Mb(i,r,U,pb);E=r.p.direction==S?d:c;u=M+(E?fb:gb)+Eb;var xb=M+(E?gb:fb)+Fb,Nb=Gb+g.bClose+y;if(ob>0){var eb=[];b.each(b(U)[0].rows,function(a,b){eb[a]=b});eb.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?s:0});b.each(eb,function(c,a){b("tbody",U).append(a)})}g.gbox=j+J;var wb=c;if(g.closeOnEscape===d){g.closeOnEscape=c;wb=d}C=b(Ib).append(C).append("<table border='0' class='EditTable' id='"+q+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+g.labelswidth+G+(E?xb+u:u+xb)+Hb+Nb+qb);b.jgrid.createModal(N,C,g,H+r.p.id,b(H+r.p.id)[0]);if(E){b(Y,a+q+f).css(rb,t);b(Jb,a+q+f).css(Kb,F)}g.viewPagerButtons||b(Y,a+q+f).hide();C=h;b(a+N.themodal).keydown(function(e){if(e.which===27){wb&&b.jgrid.hideModal(this,{gb:g.gbox,jqm:g.jqModal,onClose:g.onClose});return c}if(g.navkeys[0]===d){if(e.which===g.navkeys[1]){b(z,a+q+f).trigger(x);return c}if(e.which===g.navkeys[2]){b(A,a+q+f).trigger(x);return c}}});g.closeicon=b.extend([d,F,Lb],g.closeicon);g.closeicon[0]===d&&b(hb,a+q+f).addClass(g.closeicon[1]==t?Z:ab).append(bb+g.closeicon[2]+w);b.isFunction(g.beforeShowForm)&&g.beforeShowForm(b(a+B));b.jgrid.viewModal(a+N.themodal,{gbox:j+J,jqm:g.jqModal,modal:g.modal});b(zb,a+q+f).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});R();b(hb,a+q+f).click(function(){b.jgrid.hideModal(a+N.themodal,{gb:j+J,jqm:g.jqModal,onClose:g.onClose});return c});b(A,a+q+f).click(function(){b(v,a+q).hide();var d=ib();d[0]=parseInt(d[0],o);if(d[0]!=s&&d[1][d[0]+1]){if(b.isFunction(g.onclickPgButtons))g.onclickPgButtons(W,b(a+B),d[1][d[0]]);tb(d[1][d[0]+1],r);b(r).jqGrid(D,d[1][d[0]+1]);b.isFunction(g.afterclickPgButtons)&&g.afterclickPgButtons(W,b(a+B),d[1][d[0]+1]);db(d[0]+1,d[1].length-1)}R();return c});b(z,a+q+f).click(function(){b(v,a+q).hide();var d=ib();if(d[0]!=s&&d[1][d[0]-1]){if(b.isFunction(g.onclickPgButtons))g.onclickPgButtons(X,b(a+B),d[1][d[0]]);tb(d[1][d[0]-1],r);b(r).jqGrid(D,d[1][d[0]-1]);b.isFunction(g.afterclickPgButtons)&&g.afterclickPgButtons(X,b(a+B),d[1][d[0]-1]);db(d[0]-1,d[1].length-1)}R();return c})}C=ib();db(C[0],C[1].length-1)}})},delGridRow:function(l,i){i=b.extend({top:0,left:0,width:240,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,url:e,mtype:"POST",reloadAfterSubmit:d,beforeShowForm:h,beforeInitData:h,afterShowForm:h,beforeSubmit:h,onclickSubmit:h,afterSubmit:h,jqModal:d,closeOnEscape:c,delData:{},delicon:[],cancelicon:[],onClose:h,ajaxDelOptions:{},processing:c,serializeDelData:h,useDataProxy:c},b.jgrid.del,i||{});g[b(this)[0].p.id]=i;return this.each(function(){var p="#dData",q="#DelError",z="#DelData>td",n=this;if(n.grid)if(l){var G=b.isFunction(g[n.p.id].beforeShowForm),K=b.isFunction(g[n.p.id].afterShowForm),C=b.isFunction(g[n.p.id].beforeInitData)?g[n.p.id].beforeInitData:c,r=n.p.id,D={},v=d,o="DelTbl_"+r,A,E,B,I,x={themodal:"delmod"+r,modalhead:"delhd"+r,modalcontent:"delcnt"+r,scrollelm:o};if(jQuery.isArray(l))l=l.join();if(b(a+x.themodal).html()!==h){if(C){v=C(b(a+o));if(typeof v==m)v=d}if(v===c)return;b(z,a+o).text(l);b(q,a+o).hide();if(g[n.p.id].processing===d){g[n.p.id].processing=c;b(p,a+o).removeClass(J)}G&&g[n.p.id].beforeShowForm(b(a+o));b.jgrid.viewModal(a+x.themodal,{gbox:j+r,jqm:g[n.p.id].jqModal,jqM:c,overlay:g[n.p.id].overlay,modal:g[n.p.id].modal})}else{var s=isNaN(g[n.p.id].dataheight)?g[n.p.id].dataheight:g[n.p.id].dataheight+cb;s="<div id='"+o+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+s+";'>";s+="<table class='DelTable'><tbody>";s+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>";s+="<tr id='DelData' style='display:none'><td >"+l+L;s+='<tr><td class="delmsg" style="white-space:pre;">'+g[n.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>";s+="</tbody></table></div>";s+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+o+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+i.bSubmit+y)+db+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+i.bCancel+y)+qb;i.gbox=j+r;b.jgrid.createModal(x,s,i,H+n.p.id,b(H+n.p.id)[0]);if(C){v=C(b(a+o));if(typeof v==m)v=d}if(v===c)return;b(Mb,a+o+f).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});i.delicon=b.extend([d,F,"ui-icon-scissors"],g[n.p.id].delicon);i.cancelicon=b.extend([d,F,"ui-icon-cancel"],g[n.p.id].cancelicon);i.delicon[0]===d&&b(p,a+o+f).addClass(i.delicon[1]==t?Z:ab).append(bb+i.delicon[2]+w);i.cancelicon[0]===d&&b("#eData",a+o+f).addClass(i.cancelicon[1]==t?Z:ab).append(bb+i.cancelicon[2]+w);b(p,a+o+f).click(function(){var t="#DelError>td",k=[d,e];D={};var s=b(z,a+o).text();if(b.isFunction(g[n.p.id].onclickSubmit))D=g[n.p.id].onclickSubmit(g[n.p.id],s)||{};if(b.isFunction(g[n.p.id].beforeSubmit))k=g[n.p.id].beforeSubmit(s);if(k[0]&&!g[n.p.id].processing){g[n.p.id].processing=d;b(this).addClass(J);B=n.p.prmNames;A=b.extend({},g[n.p.id].delData,D);I=B.oper;A[I]=B.deloper;E=B.id;s=s.split(",");for(var l in s)if(s.hasOwnProperty(l))s[l]=b.jgrid.stripPref(n.p.idPrefix,s[l]);A[E]=s.join();l=b.extend({url:g[n.p.id].url?g[n.p.id].url:b(n).jqGrid(eb,"editurl"),type:g[n.p.id].mtype,data:b.isFunction(g[n.p.id].serializeDelData)?g[n.p.id].serializeDelData(A):A,complete:function(e,v){if(v!="success"){k[0]=c;k[1]=b.isFunction(g[n.p.id].errorTextFormat)?g[n.p.id].errorTextFormat(e):v+ob+e.statusText+pb+e.status}else if(b.isFunction(g[n.p.id].afterSubmit))k=g[n.p.id].afterSubmit(e,A);if(k[0]===c){b(t,a+o).html(k[1]);b(q,a+o).show()}else{if(g[n.p.id].reloadAfterSubmit&&n.p.datatype!="local")b(n).trigger(u);else{var l=[];l=s.split(",");if(n.p.treeGrid===d)try{b(n).jqGrid("delTreeNode",n.p.idPrefix+l[0])}catch(w){}else for(var m=0;m<l.length;m++)b(n).jqGrid("delRowData",n.p.idPrefix+l[m]);n.p.selrow=h;n.p.selarrrow=[]}b.isFunction(g[n.p.id].afterComplete)&&setTimeout(function(){g[n.p.id].afterComplete(e,s)},500)}g[n.p.id].processing=c;b(p,a+o+f).removeClass(J);k[0]&&b.jgrid.hideModal(a+x.themodal,{gb:j+r,jqm:i.jqModal,onClose:g[n.p.id].onClose})}},b.jgrid.ajaxOptions,g[n.p.id].ajaxDelOptions);if(!l.url&&!g[n.p.id].useDataProxy)if(b.isFunction(n.p.dataProxy))g[n.p.id].useDataProxy=d;else{k[0]=c;k[1]+=" "+b.jgrid.errors.nourl}if(k[0])if(g[n.p.id].useDataProxy){l=n.p.dataProxy.call(n,l,"del_"+n.p.id);if(typeof l==m)l=[d,e];if(l[0]===c){k[0]=c;k[1]=l[1]||xb}else b.jgrid.hideModal(a+x.themodal,{gb:j+r,jqm:i.jqModal,onClose:g[n.p.id].onClose})}else b.ajax(l)}if(k[0]===c){b(t,a+o).html(k[1]);b(q,a+o).show()}return c});b("#eData",a+o+f).click(function(){b.jgrid.hideModal(a+x.themodal,{gb:j+r,jqm:g[n.p.id].jqModal,onClose:g[n.p.id].onClose});return c});G&&g[n.p.id].beforeShowForm(b(a+o));b.jgrid.viewModal(a+x.themodal,{gbox:j+r,jqm:g[n.p.id].jqModal,overlay:g[n.p.id].overlay,modal:g[n.p.id].modal})}K&&g[n.p.id].afterShowForm(b(a+o));g[n.p.id].closeOnEscape===d&&setTimeout(function(){b(sb,a+x.modalhead).focus()},0)}})},navGrid:function(s,f,n,q,r,i,p){var g="firstpage";f=b.extend({edit:d,editicon:"ui-icon-pencil",add:d,addicon:"ui-icon-plus",del:d,delicon:"ui-icon-trash",search:d,searchicon:"ui-icon-search",refresh:d,refreshicon:"ui-icon-refresh",refreshstate:g,view:c,viewicon:"ui-icon-document",position:F,closeOnEscape:d,beforeRefresh:h,afterRefresh:h,cloneToTop:c,alertwidth:200,alertheight:R,alerttop:h,alertleft:h,alertzIndex:h},b.jgrid.nav,f||{});return this.each(function(){var G="#testpg2",A="#jqg_alrt",D="editGridRow",y="<td class='ui-pg-button ui-corner-all'></td>";if(!this.nav){var H={themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},x=this,v;if(!(!x.grid||typeof s!=ib)){if(b(a+H.themodal).html()===h){if(!f.alerttop&&!f.alertleft){if(typeof window.innerWidth!=m){f.alertleft=window.innerWidth;f.alerttop=window.innerHeight}else if(typeof document.documentElement!=m&&typeof document.documentElement.clientWidth!=m&&document.documentElement.clientWidth!==0){f.alertleft=document.documentElement.clientWidth;f.alerttop=document.documentElement.clientHeight}else{f.alertleft=1024;f.alerttop=768}f.alertleft=f.alertleft/2-parseInt(f.alertwidth,o)/2;f.alerttop=f.alerttop/2-25}b.jgrid.createModal(H,"<div>"+f.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:j+x.p.id,jqModal:d,drag:d,resize:d,caption:f.alertcap,top:f.alerttop,left:f.alertleft,width:f.alertwidth,height:f.alertheight,closeOnEscape:f.closeOnEscape,zIndex:f.alertzIndex},e,e,d)}var J=1;if(f.cloneToTop&&x.p.toppager)J=2;for(var I=0;I<J;I++){var z=b("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),F,C;if(I===0){F=s;C=x.p.id;if(F==x.p.toppager){C+="_top";J=1}}else{F=x.p.toppager;C=x.p.id+"_top"}x.p.direction==S&&b(z).attr("dir",S).css(rb,t);if(f.add){q=q||{};v=b(y);b(v).append(N+f.addicon+w+f.addtext+E);b(B,z).append(v);b(v,z).attr({title:f.addtitle||e,id:q.id||"add_"+C}).click(function(){b(this).hasClass(l)||(b.isFunction(f.addfunc)?f.addfunc():b(x).jqGrid(D,"new",q));return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)});v=h}if(f.edit){v=b(y);n=n||{};b(v).append(N+f.editicon+w+f.edittext+E);b(B,z).append(v);b(v,z).attr({title:f.edittitle||e,id:n.id||"edit_"+C}).click(function(){if(!b(this).hasClass(l)){var e=x.p.selrow;if(e)b.isFunction(f.editfunc)?f.editfunc(e):b(x).jqGrid(D,e,n);else{b.jgrid.viewModal(a+H.themodal,{gbox:j+x.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)});v=h}if(f.view){v=b(y);p=p||{};b(v).append(N+f.viewicon+w+f.viewtext+E);b(B,z).append(v);b(v,z).attr({title:f.viewtitle||e,id:p.id||"view_"+C}).click(function(){if(!b(this).hasClass(l)){var e=x.p.selrow;if(e)b.isFunction(f.viewfunc)?f.viewfunc(e):b(x).jqGrid("viewGridRow",e,p);else{b.jgrid.viewModal(a+H.themodal,{gbox:j+x.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)});v=h}if(f.del){v=b(y);r=r||{};b(v).append(N+f.delicon+w+f.deltext+E);b(B,z).append(v);b(v,z).attr({title:f.deltitle||e,id:r.id||"del_"+C}).click(function(){if(!b(this).hasClass(l)){var e;if(x.p.multiselect){e=x.p.selarrrow;if(e.length===0)e=h}else e=x.p.selrow;if(e)"function"==typeof f.delfunc?f.delfunc(e):b(x).jqGrid("delGridRow",e,r);else{b.jgrid.viewModal(a+H.themodal,{gbox:j+x.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)});v=h}(f.add||f.edit||f.del||f.view)&&b(B,z).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>");if(f.search){v=b(y);i=i||{};b(v).append(N+f.searchicon+w+f.searchtext+E);b(B,z).append(v);b(v,z).attr({title:f.searchtitle||e,id:i.id||"search_"+C}).click(function(){b(this).hasClass(l)||b(x).jqGrid("searchGrid",i);return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)});i.showOnLoad&&i.showOnLoad===d&&b(v,z).click();v=h}if(f.refresh){v=b(y);b(v).append(N+f.refreshicon+w+f.refreshtext+E);b(B,z).append(v);b(v,z).attr({title:f.refreshtitle||e,id:"refresh_"+C}).click(function(){if(!b(this).hasClass(l)){b.isFunction(f.beforeRefresh)&&f.beforeRefresh();x.p.search=c;try{var a=x.p.id;x.p.postData.filters=e;b("#fbox_"+a).jqFilter("resetFilter");b.isFunction(x.clearToolbar)&&x.clearToolbar(c)}catch(h){}switch(f.refreshstate){case g:b(x).trigger(u,[{page:1}]);break;case"current":b(x).trigger(u,[{current:d}])}b.isFunction(f.afterRefresh)&&f.afterRefresh()}return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)});v=h}v=b(".ui-jqgrid").css("font-size")||"11px";b("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+v+";visibility:hidden;' ></div>");v=b(z).clone().appendTo(G).width();b(G).remove();b(F+"_"+f.position,F).append(z);if(x.p._nvtd){if(v>x.p._nvtd[0]){b(F+"_"+f.position,F).width(v);x.p._nvtd[0]=v}x.p._nvtd[1]=v}z=v=v=h;this.nav=d}}}})},navButtonAdd:function(f,d){d=b.extend({caption:"newButton",title:e,buttonicon:"ui-icon-newwin",onClickButton:h,position:"last",cursor:"pointer"},d||{});return this.each(function(){var j="ui-pg-button ui-corner-all";if(this.grid){if(f.indexOf(a)!==0)f=a+f;var g=b(Nb,f)[0],m=this;if(g)if(!(d.id&&b(a+d.id,g).html()!==h)){var i=b("<td></td>");d.buttonicon.toString().toUpperCase()=="NONE"?b(i).addClass(j).append("<div class='ui-pg-div'>"+d.caption+E):b(i).addClass(j).append(N+d.buttonicon+w+d.caption+E);d.id&&b(i).attr(T,d.id);if(d.position==tb)g.rows[0].cells.length===0?b(B,g).append(i):b("tr td:eq(0)",g).before(i);else b(B,g).append(i);b(i,g).attr("title",d.title||e).click(function(a){b(this).hasClass(l)||b.isFunction(d.onClickButton)&&d.onClickButton.call(m,a);return c}).hover(function(){b(this).hasClass(l)||b(this).addClass(k)},function(){b(this).removeClass(k)})}}})},navSeparatorAdd:function(d,c){c=b.extend({sepclass:"ui-separator",sepcontent:e},c||{});return this.each(function(){if(this.grid){if(d.indexOf(a)!==0)d=a+d;var e=b(Nb,d)[0];if(e){var f="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+c.sepclass+w+c.sepcontent+"</td>";b(B,e).append(f)}}})},GridToForm:function(e,a){return this.each(function(){var f="[name=",h=this;if(h.grid){var i=b(h).jqGrid("getRowData",e);if(i)for(var g in i)b(f+b.jgrid.jqID(g)+K,a).is("input:radio")||b(f+b.jgrid.jqID(g)+K,a).is("input:checkbox")?b(f+b.jgrid.jqID(g)+K,a).each(function(){if(b(this).val()==i[g])b(this)[h.p.useProp?q:r](C,d);else b(this)[h.p.useProp?q:r](C,c)}):b(f+b.jgrid.jqID(g)+K,a).val(i[g])}})},FormToGrid:function(d,e,a,c){return this.each(function(){if(this.grid){a||(a="set");c||(c=tb);var g=b(e).serializeArray(),f={};b.each(g,function(b,a){f[a.name]=a.value});if(a=="add")b(this).jqGrid(U,d,f,c);else a=="set"&&b(this).jqGrid(wb,d,f)}})}})})(jQuery);(function(b){var a="",c="string";b.fn.jqFilter=function(n){var h="nn",g="nu",j="ni",i="in",m="NOT LIKE",l="LIKE",e=false,f=null,d=true;if(typeof n===c){var o=b.fn.jqFilter[n];if(!o)throw"jqFilter - No such method: "+n;var p=b.makeArray(arguments).slice(1);return o.apply(this,p)}var k=b.extend(d,{filter:f,columns:[],onChange:f,afterRedraw:f,checkValues:f,error:e,errmsg:a,errorcheck:d,showQuery:d,sopt:f,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:l},{name:"bn",description:"does not begin with",operator:m},{name:i,description:i,operator:"IN"},{name:j,description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:l},{name:"en",description:"does not end with",operator:m},{name:"cn",description:"contains",operator:l},{name:"nc",description:"does not contain",operator:m},{name:g,description:"is null",operator:"IS NULL"},{name:h,description:"is not null",operator:"IS NOT NULL"}],numopts:["eq","ne","lt","le","gt","ge",g,h,i,j],stropts:["eq","ne","bw","bn","ew","en","cn","nc",g,h,i,j],_gridsopt:[],groupOps:["AND","OR"],groupButton:d,ruleButtons:d,direction:"ltr"},n||{});return this.each(function(){var z="tr.error",y="th.ui-state-error",m=" ",x="<td class='first'></td>",v="undefined",r="click",o="change",q="</option>",p="<option value='",u=" selected='selected'",t="<tr></tr>",s="text",l=this;if(!l.filter){l.p=k;if(l.p.filter===f||l.p.filter===undefined)l.p.filter={groupOp:l.p.groupOps[0],rules:[],groups:[]};var w,A=l.p.columns.length,n,B=/msie/i.test(navigator.userAgent)&&!window.opera;if(l.p._gridsopt.length)for(w=0;w<l.p._gridsopt.length;w++)l.p.ops[w].description=l.p._gridsopt[w];l.p.initFilter=b.extend(d,{},l.p.filter);if(A){for(w=0;w<A;w++){n=l.p.columns[w];if(n.stype)n.inputtype=n.stype;else if(!n.inputtype)n.inputtype=s;if(n.sorttype)n.searchtype=n.sorttype;else if(!n.searchtype)n.searchtype=c;if(n.hidden===undefined)n.hidden=e;if(!n.label)n.label=n.name;if(n.index)n.name=n.index;if(!n.hasOwnProperty("searchoptions"))n.searchoptions={};if(!n.hasOwnProperty("searchrules"))n.searchrules={}}l.p.showQuery&&b(l).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+l.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var C=function(h,g){var c=[d,a];if(b.isFunction(g.searchrules))c=g.searchrules(h,g);else if(b.jgrid&&b.jgrid.checkValues)try{c=b.jgrid.checkValues(h,-1,f,g.searchrules,g.label)}catch(i){}if(c&&c.length&&c[0]===e){k.error=!c[0];k.errmsg=c[1]}};l.onchange=function(){var c=this;c.p.error=e;c.p.errmsg=a;return b.isFunction(c.p.onChange)?c.p.onChange.call(c,c.p):e};l.reDraw=function(){var a=this;b("table.group:first",a).remove();var c=a.createTableForGroup(k.filter,f);b(a).append(c);b.isFunction(a.p.afterRedraw)&&a.p.afterRedraw.call(a,a.p)};l.createTableForGroup=function(j,s){var m=this,h=m,g,n=b("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),l="left";if(m.p.direction=="rtl"){l="right";n.attr("dir","rtl")}s===f&&n.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+l+"'></th></tr>");var i=b(t);n.append(i);l=b("<th colspan='5' align='"+l+"'></th>");i.append(l);if(m.p.ruleButtons===d){var y=b("<select class='opsel'></select>");l.append(y);i=a;var z;for(g=0;g<k.groupOps.length;g++){z=j.groupOp===h.p.groupOps[g]?u:a;i+=p+h.p.groupOps[g]+"'"+z+">"+h.p.groupOps[g]+q}y.append(i).bind(o,function(){j.groupOp=b(y).val();h.onchange()})}i="<span></span>";if(m.p.groupButton){i=b("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>");i.bind(r,function(){if(j.groups===undefined)j.groups=[];j.groups.push({groupOp:k.groupOps[0],rules:[],groups:[]});h.reDraw();h.onchange();return e})}l.append(i);if(m.p.ruleButtons===d){i=b("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>");var w;i.bind(r,function(){if(j.rules===undefined)j.rules=[];for(g=0;g<h.p.columns.length;g++){var b=typeof h.p.columns[g].search===v?d:h.p.columns[g].search,f=h.p.columns[g].hidden===d;if(h.p.columns[g].searchoptions.searchhidden===d&&b||b&&!f){w=h.p.columns[g];break}}j.rules.push({field:w.name,op:(w.searchoptions.sopt?w.searchoptions.sopt:h.p.sopt?h.p.sopt:w.searchtype===c?h.p.stropts:h.p.numopts)[0],data:a});h.reDraw();return e});l.append(i)}if(s!==f){i=b("<input type='button' value='-' title='Delete group' class='delete-group'/>");l.append(i);i.bind(r,function(){for(g=0;g<s.groups.length;g++)if(s.groups[g]===j){s.groups.splice(g,1);break}h.reDraw();h.onchange();return e})}if(j.groups!==undefined)for(g=0;g<j.groups.length;g++){l=b(t);n.append(l);i=b(x);l.append(i);i=b("<td colspan='4'></td>");i.append(m.createTableForGroup(j.groups[g],j));l.append(i)}if(j.groupOp===undefined)j.groupOp=h.p.groupOps[0];if(j.rules!==undefined)for(g=0;g<j.rules.length;g++)n.append(m.createTableRowForRule(j.rules[g],j));return n};l.createTableRowForRule=function(l,J){var y=".input-elm",C="input-elm",w="tr:first",f=this,E=b(t),i,F,z,j,m=a,D;E.append(x);var n=b("<td class='columns'></td>");E.append(n);var H=b("<select></select>"),A,G=[];n.append(H);H.bind(o,function(){var e=".selectopts";l.field=b(H).val();z=b(this).parents(w);for(i=0;i<f.p.columns.length;i++)if(f.p.columns[i].name===l.field){j=f.p.columns[i];break}if(j){j.searchoptions.id=b.jgrid.randId();if(B&&j.inputtype===s)if(!j.searchoptions.size)j.searchoptions.size=10;var h=b.jgrid.createEl(j.inputtype,j.searchoptions,a,d,f.p.ajaxSelectOptions,d);b(h).addClass(C);F=j.searchoptions.sopt?j.searchoptions.sopt:f.p.sopt?f.p.sopt:j.searchtype===c?f.p.stropts:f.p.numopts;var g=a,k=0;G=[];b.each(f.p.ops,function(){G.push(this.name)});for(i=0;i<F.length;i++){A=b.inArray(F[i],G);if(A!==-1){if(k===0)l.op=f.p.ops[A].name;g+=p+f.p.ops[A].name+"'>"+f.p.ops[A].description+q;k++}}b(e,z).empty().append(g);b(e,z)[0].selectedIndex=0;if(b.browser.msie&&b.browser.version<9){g=parseInt(b("select.selectopts",z)[0].offsetWidth)+1;b(e,z).width(g);b(e,z).css("width","auto")}b(".data",z).empty().append(h);b(y,z).bind(o,function(){l.data=b(this).val();f.onchange()});setTimeout(function(){l.data=b(h).val();f.onchange()},0)}});for(i=n=0;i<f.p.columns.length;i++){D=typeof f.p.columns[i].search===v?d:f.p.columns[i].search;var K=f.p.columns[i].hidden===d;if(f.p.columns[i].searchoptions.searchhidden===d&&D||D&&!K){D=a;if(l.field===f.p.columns[i].name){D=u;n=i}m+=p+f.p.columns[i].name+"'"+D+">"+f.p.columns[i].label+q}}H.append(m);m=b("<td class='operators'></td>");E.append(m);j=k.columns[n];j.searchoptions.id=b.jgrid.randId();if(B&&j.inputtype===s)if(!j.searchoptions.size)j.searchoptions.size=10;n=b.jgrid.createEl(j.inputtype,j.searchoptions,l.data,d,f.p.ajaxSelectOptions,d);var I=b("<select class='selectopts'></select>");m.append(I);I.bind(o,function(){var d="disabled",c="readonly";l.op=b(I).val();z=b(this).parents(w);var e=b(y,z)[0];if(l.op===g||l.op===h){l.data=a;e.value=a;e.setAttribute(c,"true");e.setAttribute(d,"true")}else{e.removeAttribute(c);e.removeAttribute(d)}f.onchange()});F=j.searchoptions.sopt?j.searchoptions.sopt:f.p.sopt?f.p.sopt:j.searchtype===c?k.stropts:f.p.numopts;m=a;b.each(f.p.ops,function(){G.push(this.name)});for(i=0;i<F.length;i++){A=b.inArray(F[i],G);if(A!==-1){D=l.op===f.p.ops[A].name?u:a;m+=p+f.p.ops[A].name+"'"+D+">"+f.p.ops[A].description+q}}I.append(m);m=b("<td class='data'></td>");E.append(m);m.append(n);b(n).addClass(C).bind(o,function(){l.data=b(this).val();f.onchange()});m=b("<td></td>");E.append(m);if(this.p.ruleButtons===d){n=b("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>");m.append(n);n.bind(r,function(){for(i=0;i<J.rules.length;i++)if(J.rules[i]===l){J.rules.splice(i,1);break}f.reDraw();f.onchange();return e})}return E};l.getStringForGroup=function(d){var b="(",c;if(d.groups!==undefined)for(c=0;c<d.groups.length;c++){if(b.length>1)b+=m+d.groupOp+m;try{b+=this.getStringForGroup(d.groups[c])}catch(e){alert(e)}}if(d.rules!==undefined)try{for(c=0;c<d.rules.length;c++){if(b.length>1)b+=m+d.groupOp+m;b+=this.getStringForRule(d.rules[c])}}catch(f){alert(f)}b+=")";return b==="()"?a:b};l.getStringForRule=function(f){var e=this;for(var n=a,d=a,l,c=0;c<e.p.ops.length;c++)if(e.p.ops[c].name===f.op){n=e.p.ops[c].operator;d=e.p.ops[c].name;break}for(c=0;c<e.p.columns.length;c++)if(e.p.columns[c].name===f.field){l=e.p.columns[c];break}c=f.data;if(d==="bw"||d==="bn")c+="%";if(d==="ew"||d==="en")c="%"+c;if(d==="cn"||d==="nc")c="%"+c+"%";if(d===i||d===j)c=" ("+c+")";k.errorcheck&&C(f.data,l);return b.inArray(l.searchtype,["int","integer","float","number","currency"])!==-1||d===h||d===g?f.field+m+n+m+c:f.field+m+n+' "'+c+'"'};l.resetFilter=function(){var a=this;a.p.filter=b.extend(d,{},a.p.initFilter);a.reDraw();a.onchange()};l.hideError=function(){b(y,this).html(a);b(z,this).hide()};l.showError=function(){b(y,this).html(this.p.errmsg);b(z,this).show()};l.toUserFriendlyString=function(){return this.getStringForGroup(k.filter)};l.toString=function(){function c(e){var d="(",f;if(e.groups!==undefined)for(f=0;f<e.groups.length;f++){if(d.length>1)d+=e.groupOp==="OR"?" || ":" && ";d+=c(e.groups[f])}if(e.rules!==undefined)for(f=0;f<e.rules.length;f++){if(d.length>1)d+=e.groupOp==="OR"?" || ":" && ";var g=e.rules[f];if(b.p.errorcheck){for(var h=void 0,i=void 0,h=0;h<b.p.columns.length;h++)if(b.p.columns[h].name===g.field){i=b.p.columns[h];break}i&&C(g.data,i)}d+=g.op+"(item."+g.field+",'"+g.data+"')"}d+=")";return d==="()"?a:d}var b=this;return c(this.p.filter)};l.reDraw();l.p.showQuery&&l.onchange();l.filter=d}}})};b.extend(b.fn.jqFilter,{toSQLString:function(){var b=a;this.each(function(){b=this.toUserFriendlyString()});return b},filterData:function(){var a;this.each(function(){a=this.p.filter});return a},getParameter:function(a){if(a!==undefined)if(this.p.hasOwnProperty(a))return this.p[a];return this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(a){if(typeof a===c)a=jQuery.jgrid.parse(a);this.each(function(){this.p.filter=a;this.reDraw();this.onchange()})}})})(jQuery);(function(a){var l="setRowData",m="not-editable-cell",i="restoreRow",g="keydown",h="undefined",f="select",k="textarea",e="editable",j="getInd",b=true,c=null,d=false;a.jgrid.extend({editRow:function(l,v,r,s,t,w,u,q,p){var o={keys:v||d,oneditfunc:r||c,successfunc:s||c,url:t||c,extraparam:w||{},aftersavefunc:u||c,errorfunc:q||c,afterrestorefunc:p||c,restoreAfterError:b,mtype:"POST"},n=a.makeArray(arguments).slice(1),m;m=n[0]&&typeof n[0]=="object"&&!a.isFunction(n[0])?a.extend(o,n[0]):o;return this.each(function(){var q=this,r,o,v=0,u=c,t={},s,n;if(q.grid){s=a(q).jqGrid(j,l,b);if(s!==d)if((a(s).attr(e)||"0")=="0"&&!a(s).hasClass("not-editable-row")){n=q.p.colModel;a("td",s).each(function(d){var g="span:first",i=this;r=n[d].name;var m=q.p.treeGrid===b&&r==q.p.ExpandColumn;if(m)o=a(g,i).html();else try{o=a.unformat(i,{rowId:l,colModel:n[d]},d)}catch(p){o=n[d].edittype&&n[d].edittype==k?a(i).text():a(i).html()}if(r!="cb"&&r!="subgrid"&&r!="rn"){if(q.p.autoencode)o=a.jgrid.htmlDecode(o);t[r]=o;if(n[d].editable===b){if(u===c)u=d;m?a(g,i).html(""):a(i).html("");var j=a.extend({},n[d].editoptions||{},{id:l+"_"+r,name:r});if(!n[d].edittype)n[d].edittype="text";if(o=="&nbsp;"||o=="&#160;"||o.length==1&&o.charCodeAt(0)==160)o="";j=a.jgrid.createEl(n[d].edittype,j,o,b,a.extend({},a.jgrid.ajaxOptions,q.p.ajaxSelectOptions||{}));a(j).addClass(e);m?a(g,i).append(j):a(i).append(j);n[d].edittype==f&&typeof n[d].editoptions!==h&&n[d].editoptions.multiple===b&&typeof n[d].editoptions.dataUrl===h&&a.browser.msie&&a(j).width(a(j).width());v++}}});if(v>0){t.id=l;q.p.savedRow.push(t);a(s).attr(e,"1");a("td:eq("+u+") input",s).focus();m.keys===b&&a(s).bind(g,function(c){c.keyCode===27&&a(q).jqGrid(i,l,p);if(c.keyCode===13){if(c.target.tagName=="TEXTAREA")return b;a(q).jqGrid("saveRow",l,m);return d}c.stopPropagation()});a.isFunction(m.oneditfunc)&&m.oneditfunc.call(q,l)}}}})},saveRow:function(s,I,E,F,G,J,H){var u="#lui_",C="clientArray",t={successfunc:I||c,url:E||c,extraparam:F||{},aftersavefunc:G||c,errorfunc:J||c,afterrestorefunc:H||c,restoreAfterError:b,mtype:"POST"},B=a.makeArray(arguments).slice(1),p;p=B[0]&&typeof B[0]=="object"&&!a.isFunction(B[0])?a.extend(t,B[0]):t;var z=d,n=this[0],q,o={},D={},y={},A,x,w;if(!n.grid)return z;w=a(n).jqGrid(j,s,b);if(w===d)return z;t=a(w).attr(e);p.url=p.url?p.url:n.p.editurl;if(t==="1"){var r;a("td",w).each(function(i){var e="function 'custom_value' ",c="select option:selected",g=this;r=n.p.colModel[i];q=r.name;if(q!="cb"&&q!="subgrid"&&r.editable===b&&q!="rn"&&!a(g).hasClass(m)){switch(r.edittype){case"checkbox":var h=["Yes","No"];if(r.editoptions)h=r.editoptions.value.split(":");o[q]=a("input",g).is(":checked")?h[0]:h[1];break;case"text":case"password":case k:case"button":o[q]=a("input, textarea",g).val();break;case f:if(r.editoptions.multiple){h=a(f,g);var j=[];o[q]=a(h).val();o[q]=o[q]?o[q].join(","):"";a(c,g).each(function(b,c){j[b]=a(c).text()});D[q]=j.join(",")}else{o[q]=a(c,g).val();D[q]=a(c,g).text()}if(r.formatter&&r.formatter==f)D={};break;case"custom":try{if(r.editoptions&&a.isFunction(r.editoptions.custom_value)){o[q]=r.editoptions.custom_value.call(n,a(".customelement",g),"get");if(o[q]===undefined)throw"e2";}else throw"e1";}catch(l){l=="e1"&&a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);l=="e2"?a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,l.message,jQuery.jgrid.edit.bClose)}}x=a.jgrid.checkValues(o[q],i,n);if(x[0]===d){x[1]=o[q]+" "+x[1];return d}if(n.p.autoencode)o[q]=a.jgrid.htmlEncode(o[q]);if(p.url!==C&&r.editoptions&&r.editoptions.NullIfEmpty===b)if(o[q]=="")y[q]="null"}});if(x[0]===d){try{var v=a.jgrid.findPos(a("#"+a.jgrid.jqID(s),n.grid.bDiv)[0]);a.jgrid.info_dialog(a.jgrid.errors.errcap,x[1],a.jgrid.edit.bClose,{left:v[0],top:v[1]})}catch(K){alert(x[1])}return z}t=n.p.prmNames;B=t.oper;v=t.id;if(o){o[B]=t.editoper;o[v]=s;if(typeof n.p.inlineData==h)n.p.inlineData={};o=a.extend({},o,n.p.inlineData,p.extraparam)}if(p.url==C){o=a.extend({},o,D);n.p.autoencode&&a.each(o,function(c,b){o[c]=a.jgrid.htmlDecode(b)});v=a(n).jqGrid(l,s,o);a(w).attr(e,"0");for(t=0;t<n.p.savedRow.length;t++)if(n.p.savedRow[t].id==s){A=t;break}A>=0&&n.p.savedRow.splice(A,1);a.isFunction(p.aftersavefunc)&&p.aftersavefunc.call(n,s,v);z=b;a(w).unbind(g)}else{a(u+n.p.id).show();y=a.extend({},o,y);y[v]=a.jgrid.stripPref(n.p.idPrefix,y[v]);a.ajax(a.extend({url:p.url,data:a.isFunction(n.p.serializeRowData)?n.p.serializeRowData.call(n,y):y,type:p.mtype,async:d,complete:function(d,f){a(u+n.p.id).hide();if(f==="success")if((a.isFunction(p.successfunc)?p.successfunc.call(n,d):b)===b){n.p.autoencode&&a.each(o,function(c,b){o[c]=a.jgrid.htmlDecode(b)});o=a.extend({},o,D);a(n).jqGrid(l,s,o);a(w).attr(e,"0");for(var c=0;c<n.p.savedRow.length;c++)if(n.p.savedRow[c].id==s){A=c;break}A>=0&&n.p.savedRow.splice(A,1);a.isFunction(p.aftersavefunc)&&p.aftersavefunc.call(n,s,d);z=b;a(w).unbind(g)}else{a.isFunction(p.errorfunc)&&p.errorfunc.call(n,s,d,f);p.restoreAfterError===b&&a(n).jqGrid(i,s,p.afterrestorefunc)}},error:function(c,d){a(u+n.p.id).hide();if(a.isFunction(p.errorfunc))p.errorfunc.call(n,s,c,d);else try{jQuery.jgrid.info_dialog(jQuery.jgrid.errors.errcap,'<div class="ui-state-error">'+c.responseText+"</div>",jQuery.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(c.responseText)}p.restoreAfterError===b&&a(n).jqGrid(i,s,p.afterrestorefunc)}},a.jgrid.ajaxOptions,n.p.ajaxRowOptions||{}))}}return z},restoreRow:function(c,f){return this.each(function(){var h=this,i,k,o={};if(h.grid){k=a(h).jqGrid(j,c,b);if(k!==d){for(var n=0;n<h.p.savedRow.length;n++)if(h.p.savedRow[n].id==c){i=n;break}if(i>=0){if(a.isFunction(a.fn.datepicker))try{a("input.hasDatepicker","#"+a.jgrid.jqID(k.id)).datepicker("hide")}catch(p){}a.each(h.p.colModel,function(){var c=this;if(c.editable===b&&c.name in h.p.savedRow[i]&&!a(c).hasClass(m))o[c.name]=h.p.savedRow[i][c.name]});a(h).jqGrid(l,c,o);a(k).attr(e,"0").unbind(g);h.p.savedRow.splice(i,1)}a.isFunction(f)&&f.call(h,c)}}})}})})(jQuery);(function(a){var e="editCell",m="edited",k="dirty-cell",n="setCell",p=null,c=false,q="hide",f="restoreCell",j="input.hasDatepicker",i="_",r="textarea",l="td:eq(",h="-1",g="tabindex",d="#",o="saveCell",b=true;a.jgrid.extend({editCell:function(e,k,m){return this.each(function(){var t="selected-row ui-state-hover",s="edit-cell ui-state-highlight",n=this,v,p,u,w;if(!(!n.grid||n.p.cellEdit!==b)){k=parseInt(k,10);n.p.selrow=n.rows[e].id;n.p.knv||a(n).jqGrid("GridNav");if(n.p.savedRow.length>0){if(m===b)if(e==n.p.iRow&&k==n.p.iCol)return;a(n).jqGrid(o,n.p.savedRow[0].id,n.p.savedRow[0].ic)}else window.setTimeout(function(){a(d+n.p.knv).attr(g,h).focus()},0);w=n.p.colModel[k];v=w.name;if(!(v=="subgrid"||v=="cb"||v=="rn")){u=a(l+k+")",n.rows[e]);if(w.editable===b&&m===b&&!u.hasClass("not-editable-cell")){if(parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0){a(l+n.p.iCol+")",n.rows[n.p.iRow]).removeClass(s);a(n.rows[n.p.iRow]).removeClass(t)}a(u).addClass(s);a(n.rows[e]).addClass(t);try{p=a.unformat(u,{rowId:n.rows[e].id,colModel:w},k)}catch(z){p=w.edittype&&w.edittype==r?a(u).text():a(u).html()}if(n.p.autoencode)p=a.jgrid.htmlDecode(p);if(!w.edittype)w.edittype="text";n.p.savedRow.push({id:e,ic:k,name:v,v:p});if(p=="&nbsp;"||p=="&#160;"||p.length==1&&p.charCodeAt(0)==160)p="";if(a.isFunction(n.p.formatCell)){var x=n.p.formatCell.call(n,n.rows[e].id,v,p,e,k);if(x!==undefined)p=x}x=a.extend({},w.editoptions||{},{id:e+i+v,name:v});var y=a.jgrid.createEl(w.edittype,x,p,b,a.extend({},a.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));a.isFunction(n.p.beforeEditCell)&&n.p.beforeEditCell.call(n,n.rows[e].id,v,p,e,k);a(u).html("").append(y).attr(g,"0");window.setTimeout(function(){a(y).focus()},0);a("input, select, textarea",u).bind("keydown",function(b){if(b.keyCode===27)if(a(j,u).length>0)a(".ui-datepicker").is(":hidden")?a(n).jqGrid(f,e,k):a(j,u).datepicker(q);else a(n).jqGrid(f,e,k);b.keyCode===13&&a(n).jqGrid(o,e,k);if(b.keyCode==9)if(n.grid.hDiv.loading)return c;else b.shiftKey?a(n).jqGrid("prevCell",e,k):a(n).jqGrid("nextCell",e,k);b.stopPropagation()});a.isFunction(n.p.afterEditCell)&&n.p.afterEditCell.call(n,n.rows[e].id,v,p,e,k)}else{if(parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0){a(l+n.p.iCol+")",n.rows[n.p.iRow]).removeClass(s);a(n.rows[n.p.iRow]).removeClass(t)}u.addClass(s);a(n.rows[e]).addClass(t);if(a.isFunction(n.p.onSelectCell)){p=u.html().replace(/\&#160\;/ig,"");n.p.onSelectCell.call(n,n.rows[e].id,v,p,e,k)}}n.p.iCol=k;n.p.iRow=e}}})},saveCell:function(e,o){return this.each(function(){var A="function 'custom_value' ",u="#lui_",E=">option:selected",s=this,y;if(!(!s.grid||s.p.cellEdit!==b)){y=s.p.savedRow.length>=1?0:p;if(y!==p){var z=a(l+o+")",s.rows[e]),t,v,w=s.p.colModel[o],B=w.name,x=a.jgrid.jqID(B);switch(w.edittype){case"select":if(w.editoptions.multiple){x=a(d+e+i+x,s.rows[e]);var F=[];if(t=a(x).val())t.join(",");else t="";a("option:selected",x).each(function(b,c){F[b]=a(c).text()});v=F.join(",")}else{t=a(d+e+i+x+E,s.rows[e]).val();v=a(d+e+i+x+E,s.rows[e]).text()}if(w.formatter)v=t;break;case"checkbox":var D=["Yes","No"];if(w.editoptions)D=w.editoptions.value.split(":");v=t=a(d+e+i+x,s.rows[e]).is(":checked")?D[0]:D[1];break;case"password":case"text":case r:case"button":v=t=a(d+e+i+x,s.rows[e]).val();break;case"custom":try{if(w.editoptions&&a.isFunction(w.editoptions.custom_value)){t=w.editoptions.custom_value.call(s,a(".customelement",z),"get");if(t===undefined)throw"e2";else v=t}else throw"e1";}catch(H){H=="e1"&&a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,A+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);H=="e2"?a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,A+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,H.message,jQuery.jgrid.edit.bClose)}}if(v!==s.p.savedRow[y].v){if(a.isFunction(s.p.beforeSaveCell))if(y=s.p.beforeSaveCell.call(s,s.rows[e].id,B,t,e,o))v=t=y;var G=a.jgrid.checkValues(t,o,s);if(G[0]===b){y={};if(a.isFunction(s.p.beforeSubmitCell))(y=s.p.beforeSubmitCell.call(s,s.rows[e].id,B,t,e,o))||(y={});a(j,z).length>0&&a(j,z).datepicker(q);if(s.p.cellsubmit=="remote")if(s.p.cellurl){var C={};if(s.p.autoencode)t=a.jgrid.htmlEncode(t);C[B]=t;D=s.p.prmNames;w=D.id;x=D.oper;C[w]=a.jgrid.stripPref(s.p.idPrefix,s.rows[e].id);C[x]=D.editoper;C=a.extend(y,C);a(u+s.p.id).show();s.grid.hDiv.loading=b;a.ajax(a.extend({url:s.p.cellurl,data:a.isFunction(s.p.serializeCellData)?s.p.serializeCellData.call(s,C):C,type:"POST",complete:function(g,h){a(u+s.p.id).hide();s.grid.hDiv.loading=c;if(h=="success")if(a.isFunction(s.p.afterSubmitCell)){var d=s.p.afterSubmitCell.call(s,g,C.id,B,t,e,o);if(d[0]===b){a(z).empty();a(s).jqGrid(n,s.rows[e].id,o,v,c,c,b);a(z).addClass(k);a(s.rows[e]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[e].id,B,t,e,o);s.p.savedRow.splice(0,1)}else{a.jgrid.info_dialog(a.jgrid.errors.errcap,d[1],a.jgrid.edit.bClose);a(s).jqGrid(f,e,o)}}else{a(z).empty();a(s).jqGrid(n,s.rows[e].id,o,v,c,c,b);a(z).addClass(k);a(s.rows[e]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[e].id,B,t,e,o);s.p.savedRow.splice(0,1)}},error:function(b,d){a(u+s.p.id).hide();s.grid.hDiv.loading=c;a.isFunction(s.p.errorCell)?s.p.errorCell.call(s,b,d):a.jgrid.info_dialog(a.jgrid.errors.errcap,b.status+" : "+b.statusText+"<br/>"+d,a.jgrid.edit.bClose);a(s).jqGrid(f,e,o)}},a.jgrid.ajaxOptions,s.p.ajaxCellOptions||{}))}else try{a.jgrid.info_dialog(a.jgrid.errors.errcap,a.jgrid.errors.nourl,a.jgrid.edit.bClose);a(s).jqGrid(f,e,o)}catch(I){}if(s.p.cellsubmit=="clientArray"){a(z).empty();a(s).jqGrid(n,s.rows[e].id,o,v,c,c,b);a(z).addClass(k);a(s.rows[e]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[e].id,B,t,e,o);s.p.savedRow.splice(0,1)}}else try{window.setTimeout(function(){a.jgrid.info_dialog(a.jgrid.errors.errcap,t+" "+G[1],a.jgrid.edit.bClose)},100);a(s).jqGrid(f,e,o)}catch(J){}}else a(s).jqGrid(f,e,o)}a.browser.opera?a(d+s.p.knv).attr(g,h).focus():window.setTimeout(function(){a(d+s.p.knv).attr(g,h).focus()},0)}})},restoreCell:function(e,f){return this.each(function(){var i=this,k;if(!(!i.grid||i.p.cellEdit!==b)){k=i.p.savedRow.length>=1?0:p;if(k!==p){var m=a(l+f+")",i.rows[e]);if(a.isFunction(a.fn.datepicker))try{a(j,m).datepicker(q)}catch(o){}a(m).empty().attr(g,h);a(i).jqGrid(n,i.rows[e].id,f,i.p.savedRow[k].v,c,c,b);a.isFunction(i.p.afterRestoreCell)&&i.p.afterRestoreCell.call(i,i.rows[e].id,i.p.savedRow[k].v,e,f);i.p.savedRow.splice(0,1)}window.setTimeout(function(){a(d+i.p.knv).attr(g,h).focus()},0)}})},nextCell:function(d,f){return this.each(function(){var g=this,i=c;if(!(!g.grid||g.p.cellEdit!==b)){for(var h=f+1;h<g.p.colModel.length;h++)if(g.p.colModel[h].editable===b){i=h;break}if(i!==c)a(g).jqGrid(e,d,i,b);else g.p.savedRow.length>0&&a(g).jqGrid(o,d,f)}})},prevCell:function(d,f){return this.each(function(){var g=this,i=c;if(!(!g.grid||g.p.cellEdit!==b)){for(var h=f-1;h>=0;h--)if(g.p.colModel[h].editable===b){i=h;break}if(i!==c)a(g).jqGrid(e,d,i,b);else g.p.savedRow.length>0&&a(g).jqGrid(o,d,f)}})},GridNav:function(){return this.each(function(){function i(b,d,c){if(c.substr(0,1)=="v"){var e=a(f.grid.bDiv)[0].clientHeight,g=a(f.grid.bDiv)[0].scrollTop,h=f.rows[b].offsetTop+f.rows[b].clientHeight,i=f.rows[b].offsetTop;if(c=="vd")if(h>=e)a(f.grid.bDiv)[0].scrollTop=a(f.grid.bDiv)[0].scrollTop+f.rows[b].clientHeight;if(c=="vu")if(i<g)a(f.grid.bDiv)[0].scrollTop=a(f.grid.bDiv)[0].scrollTop-f.rows[b].clientHeight}if(c=="h"){c=a(f.grid.bDiv)[0].clientWidth;e=a(f.grid.bDiv)[0].scrollLeft;g=f.rows[b].cells[d].offsetLeft;if(f.rows[b].cells[d].offsetLeft+f.rows[b].cells[d].clientWidth>=c+parseInt(e,10))a(f.grid.bDiv)[0].scrollLeft=a(f.grid.bDiv)[0].scrollLeft+f.rows[b].cells[d].clientWidth;else if(g<e)a(f.grid.bDiv)[0].scrollLeft=a(f.grid.bDiv)[0].scrollLeft-f.rows[b].cells[d].clientWidth}}function j(d,e){var c,a;if(e=="lft"){c=d+1;for(a=d;a>=0;a--)if(f.p.colModel[a].hidden!==b){c=a;break}}if(e=="rgt"){c=d-1;for(a=d;a<f.p.colModel.length;a++)if(f.p.colModel[a].hidden!==b){c=a;break}}return c}var f=this;if(!(!f.grid||f.p.cellEdit!==b)){f.p.knv=f.p.id+"_kn";var k=a("<span style='width:0px;height:0px;background-color:black;' tabindex='0'><span tabindex='-1' style='width:0px;height:0px;background-color:grey' id='"+f.p.knv+"'></span></span>"),h,g;a(k).insertBefore(f.grid.cDiv);a(d+f.p.knv).focus().keydown(function(d){g=d.keyCode;if(f.p.direction=="rtl")if(g==37)g=39;else if(g==39)g=37;switch(g){case 38:if(f.p.iRow-1>0){i(f.p.iRow-1,f.p.iCol,"vu");a(f).jqGrid(e,f.p.iRow-1,f.p.iCol,c)}break;case 40:if(f.p.iRow+1<=f.rows.length-1){i(f.p.iRow+1,f.p.iCol,"vd");a(f).jqGrid(e,f.p.iRow+1,f.p.iCol,c)}break;case 37:if(f.p.iCol-1>=0){h=j(f.p.iCol-1,"lft");i(f.p.iRow,h,"h");a(f).jqGrid(e,f.p.iRow,h,c)}break;case 39:if(f.p.iCol+1<=f.p.colModel.length-1){h=j(f.p.iCol+1,"rgt");i(f.p.iRow,h,"h");a(f).jqGrid(e,f.p.iRow,h,c)}break;case 13:parseInt(f.p.iCol,10)>=0&&parseInt(f.p.iRow,10)>=0&&a(f).jqGrid(e,f.p.iRow,f.p.iCol,b)}return c})}})},getChangedCells:function(c){var d=[];c||(c="all");this.each(function(){var e=this,f;!e.grid||e.p.cellEdit!==b||a(e.rows).each(function(g){var b={};if(a(this).hasClass(m)){a("td",this).each(function(h){var d=this;f=e.p.colModel[h].name;if(f!=="cb"&&f!=="subgrid")if(c=="dirty"){if(a(d).hasClass(k))try{b[f]=a.unformat(d,{rowId:e.rows[g].id,colModel:e.p.colModel[h]},h)}catch(i){b[f]=a.jgrid.htmlDecode(a(d).html())}}else try{b[f]=a.unformat(d,{rowId:e.rows[g].id,colModel:e.p.colModel[h]},h)}catch(j){b[f]=a.jgrid.htmlDecode(a(d).html())}});b.id=this.id;d.push(b)}})});return d}})})(jQuery);(function(a){a.fn.jqm=function(f){var d={overlay:50,closeoverlay:true,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:b,ajaxText:"",target:b,modal:b,toTop:b,onShow:b,onHide:b,onLoad:b};return this.each(function(){var g=this;if(g._jqm)return c[g._jqm].c=a.extend({},c[g._jqm].c,f);e++;g._jqm=e;c[e]={c:a.extend(d,a.jqm.params,f),a:b,w:a(g).addClass("jqmID"+e),s:e};d.trigger&&a(g).jqmAddTrigger(d.trigger)})};a.fn.jqmAddClose=function(a){return g(this,a,"jqmHide")};a.fn.jqmAddTrigger=function(a){return g(this,a,"jqmShow")};a.fn.jqmShow=function(b){return this.each(function(){a.jqm.open(this._jqm,b)})};a.fn.jqmHide=function(b){return this.each(function(){a.jqm.close(this._jqm,b)})};a.jqm={hash:{},open:function(o,p){var l="100%",e=c[o],f=e.c,m="."+f.closeClass,k=parseInt(e.w.css("z-index"));k=k>0?k:3e3;var g=a("<div></div>").css({height:l,width:l,position:"fixed",left:0,top:0,"z-index":k-1,opacity:f.overlay/100});if(e.a)return b;e.t=p;e.a=true;e.w.css("z-index",k);if(f.modal){d[0]||setTimeout(function(){h("bind")},1);d.push(o)}else if(f.overlay>0)f.closeoverlay&&e.w.jqmAddClose(g);else g=b;e.o=g?g.addClass(f.overlayClass).prependTo("body"):b;if(i){a("html,body").css({height:l,width:l});if(g){g=g.css({position:"absolute"})[0];for(var n in{Top:1,Left:1})g.style.setExpression(n.toLowerCase(),"(_=(document.documentElement.scroll"+n+" || document.body.scroll"+n+"))+'px'")}}if(f.ajax){k=f.target||e.w;g=f.ajax;k=typeof k=="string"?a(k,e.w):a(k);g=g.substr(0,1)=="@"?a(p).attr(g.substring(1)):g;k.html(f.ajaxText).load(g,function(){f.onLoad&&f.onLoad.call(this,e);m&&e.w.jqmAddClose(a(m,e.w));j(e)})}else m&&e.w.jqmAddClose(a(m,e.w));f.toTop&&e.o&&e.w.before('<span id="jqmP'+e.w[0]._jqm+'"></span>').insertAfter(e.o);f.onShow?f.onShow(e):e.w.show();j(e);return b},close:function(e){e=c[e];if(!e.a)return b;e.a=b;if(d[0]){d.pop();d[0]||h("unbind")}e.c.toTop&&e.o&&a("#jqmP"+e.w[0]._jqm).after(e.w).remove();if(e.c.onHide)e.c.onHide(e);else{e.w.hide();e.o&&e.o.remove()}return b},params:{}};var e=0,c=a.jqm.hash,d=[],i=a.browser.msie&&a.browser.version=="6.0",b=false,j=function(b){var c=a('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0});if(i)if(b.o)b.o.html('<p style="width:100%;height:100%"/>').prepend(c);else a("iframe.jqm",b.w)[0]||b.w.prepend(c);k(b)},k=function(b){try{a(":input:visible",b.w)[0].focus()}catch(c){}},h=function(b){a(document)[b]("keypress",f)[b]("keydown",f)[b]("mousedown",f)},f=function(b){var e=c[d[d.length-1]];(b=!a(b.target).parents(".jqmID"+e.s)[0])&&k(e);return!b},g=function(e,f,d){return e.each(function(){var e=this._jqm;a(f).each(function(){var f=this;if(!f[d]){f[d]=[];a(f).click(function(){var a=this;for(var d in{jqmShow:1,jqmHide:1})for(var e in a[d])c[a[d][e]]&&c[a[d][e]].w[d](a);return b})}f[d].push(e)})})}})(jQuery);(function(b){var a=false;b.fn.jqDrag=function(a){return h(this,a,"d")};b.fn.jqResize=function(a,b){return h(this,a,"r",b)};b.jqDnR={dnr:{},e:0,drag:function(b){if(c.k=="d")d.css({left:c.X+b.pageX-c.pX,top:c.Y+b.pageY-c.pY});else{d.css({width:Math.max(b.pageX-c.pX+c.W,0),height:Math.max(b.pageY-c.pY+c.H,0)});M1&&e.css({width:Math.max(b.pageX-M1.pX+M1.W,0),height:Math.max(b.pageY-M1.pY+M1.H,0)})}return a},stop:function(){b(document).unbind("mousemove",f.drag).unbind("mouseup",f.stop)}};var f=b.jqDnR,c=f.dnr,d=f.e,e,h=function(f,h,j,i){return f.each(function(){h=h?b(h,f):f;h.bind("mousedown",{e:f,k:j},function(h){var f="input.hasDatepicker",k=h.data,j={};d=k.e;e=i?b(i):a;if(d.css("position")!="relative")try{d.position(j)}catch(l){}c={X:j.left||g("left")||0,Y:j.top||g("top")||0,W:g("width")||d[0].scrollWidth||0,H:g("height")||d[0].scrollHeight||0,pX:h.pageX,pY:h.pageY,k:k.k};M1=e&&k.k!="d"?{X:j.left||f1("left")||0,Y:j.top||f1("top")||0,W:e[0].offsetWidth||f1("width")||0,H:e[0].offsetHeight||f1("height")||0,pX:h.pageX,pY:h.pageY,k:k.k}:a;if(b(f,d[0])[0])try{b(f,d[0]).datepicker("hide")}catch(m){}b(document).mousemove(b.jqDnR.drag).mouseup(b.jqDnR.stop);return a})})},g=function(b){return parseInt(d.css(b))||a};f1=function(b){return parseInt(e.css(b))||a}})(jQuery);(function(a){var g="td.sgexpanded",f="td.sgcollapsed",e="getInd",d="click",c=true,b=false;a.jgrid.extend({setSubGrid:function(){return this.each(function(){var d=this,e;d.p.subGridOptions=a.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:b,delayOnLoad:50,selectOnExpand:b,reloadOnExpand:c},d.p.subGridOptions||{});d.p.colNames.unshift("");d.p.colModel.unshift({name:"subgrid",width:a.browser.safari?d.p.subGridWidth+d.p.cellLayout:d.p.subGridWidth,sortable:b,resizable:b,hidedlg:c,search:b,fixed:c});e=d.p.subGridModel;if(e[0]){e[0].align=a.extend([],e[0].align||[]);for(var f=0;f<e[0].name.length;f++)e[0].align[f]=e[0].align[f]||"left"}})},addSubGridCell:function(e,d){var a="",b,c;this.each(function(){a=this.formatCol(e,d);c=this.p.id;b=this.p.subGridOptions.plusicon});return'<td role="grid" aria-describedby="'+c+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+a+"><a href='javascript:void(0);'><span class='ui-icon "+b+"'></span></a></td>"},addSubGrid:function(f,e){return this.each(function(){var j="#load_",h="_",p="table:first",i="&#160;",l="<tr class='ui-widget-content ui-subtblcell'></tr>",o="<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-",n="<tr></tr>",m="<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>",g=this;if(g.grid){var u=function(d,b,c){b=a("<td align='"+g.p.subGridModel[0].align[c]+"'></td>").html(b);a(d).append(b)},v=function(r,s){for(var e,k,q=a(m),f=a(n),d=0;d<g.p.subGridModel[0].name.length;d++){e=a(o+g.p.direction+"'></th>");a(e).html(g.p.subGridModel[0].name[d]);a(e).width(g.p.subGridModel[0].width[d]);a(f).append(e)}a(q).append(f);if(r){k=g.p.xmlReader.subgrid;a(k.root+" "+k.row,r).each(function(){f=a(l);if(k.repeatitems===c)a(k.cell,this).each(function(b){u(f,a(this).text()||i,b)});else{var b=g.p.subGridModel[0].mapping||g.p.subGridModel[0].name;if(b)for(d=0;d<b.length;d++)u(f,a(b[d],this).text()||i,d)}a(q).append(f)})}e=a(p,g.grid.bDiv).attr("id")+h;a("#"+e+s).append(q);g.grid.hDiv.loading=b;a(j+g.p.id).hide();return b},w=function(v,w){for(var f,k,r,e,s=a(m),q=a(n),d=0;d<g.p.subGridModel[0].name.length;d++){f=a(o+g.p.direction+"'></th>");a(f).html(g.p.subGridModel[0].name[d]);a(f).width(g.p.subGridModel[0].width[d]);a(q).append(f)}a(s).append(q);if(v){r=g.p.jsonReader.subgrid;f=v[r.root];if(typeof f!=="undefined")for(d=0;d<f.length;d++){k=f[d];q=a(l);if(r.repeatitems===c){if(r.cell)k=k[r.cell];for(e=0;e<k.length;e++)u(q,k[e]||i,e)}else{var t=g.p.subGridModel[0].mapping||g.p.subGridModel[0].name;if(t.length)for(e=0;e<t.length;e++)u(q,k[t[e]]||i,e)}a(s).append(q)}}d=a(p,g.grid.bDiv).attr("id")+h;a("#"+d+w).append(s);g.grid.hDiv.loading=b;a(j+g.p.id).hide();return b},A=function(i){var h,e,d,f;h=a(i).attr("id");e={nd_:(new Date).getTime()};e[g.p.prmNames.subgridid]=h;if(!g.p.subGridModel[0])return b;if(g.p.subGridModel[0].params)for(f=0;f<g.p.subGridModel[0].params.length;f++)for(d=0;d<g.p.colModel.length;d++)if(g.p.colModel[d].name==g.p.subGridModel[0].params[f])e[g.p.colModel[d].name]=a("td:eq("+d+")",i).text().replace(/\&#160\;/ig,"");if(!g.grid.hDiv.loading){g.grid.hDiv.loading=c;a(j+g.p.id).show();if(!g.p.subgridtype)g.p.subgridtype=g.p.datatype;if(a.isFunction(g.p.subgridtype))g.p.subgridtype.call(g,e);else g.p.subgridtype=g.p.subgridtype.toLowerCase();switch(g.p.subgridtype){case"xml":case"json":a.ajax(a.extend({type:g.p.mtype,url:g.p.subGridUrl,dataType:g.p.subgridtype,data:a.isFunction(g.p.serializeSubGridData)?g.p.serializeSubGridData.call(g,e):e,complete:function(b){g.p.subgridtype=="xml"?v(b.responseXML,h):w(a.jgrid.parse(b.responseText),h)}},a.jgrid.ajaxOptions,g.p.ajaxSubgridOptions||{}))}}return b},k,t,x,y=0,q,r;a.each(g.p.colModel,function(){if(this.hidden===c||this.name=="rn"||this.name=="cb")y++});var z=g.rows.length,s=1;if(e!==undefined&&e>0){s=e;z=e+1}for(;s<z;){a(g.rows[s]).hasClass("jqgrow")&&a(g.rows[s].cells[f]).bind(d,function(){var e="sgexpanded",l="'></span></a>",j="<a href='javascript:void(0);'><span class='ui-icon ",i="ui-subgrid",d="sgcollapsed",m=this,n=a(m).parent("tr")[0];r=n.nextSibling;if(a(m).hasClass(d)){t=g.p.id;k=n.id;if(g.p.subGridOptions.reloadOnExpand===c||g.p.subGridOptions.reloadOnExpand===b&&!a(r).hasClass(i)){x=f>=1?"<td colspan='"+f+"'>&#160;</td>":"";q=c;if(a.isFunction(g.p.subGridBeforeExpand))q=g.p.subGridBeforeExpand.call(g,t+h+k,k);if(q===b)return b;a(n).after("<tr role='row' class='ui-subgrid'>"+x+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+g.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(g.p.colNames.length-1-y,10)+"' class='ui-widget-content subgrid-data'><div id="+t+h+k+" class='tablediv'></div></td></tr>");a.isFunction(g.p.subGridRowExpanded)?g.p.subGridRowExpanded.call(g,t+h+k,k):A(n)}else a(r).show();a(m).html(j+g.p.subGridOptions.minusicon+l).removeClass(d).addClass(e);g.p.subGridOptions.selectOnExpand&&a(g).jqGrid("setSelection",k)}else if(a(m).hasClass(e)){q=c;if(a.isFunction(g.p.subGridRowColapsed)){k=n.id;q=g.p.subGridRowColapsed.call(g,t+h+k,k)}if(q===b)return b;if(g.p.subGridOptions.reloadOnExpand===c)a(r).remove(".ui-subgrid");else a(r).hasClass(i)&&a(r).hide();a(m).html(j+g.p.subGridOptions.plusicon+l).removeClass(e).addClass(d)}return b});g.p.subGridOptions.expandOnLoad===c&&a(g.rows[s].cells[f]).trigger(d);s++}g.subGridXml=function(a,b){v(a,b)};g.subGridJson=function(a,b){w(a,b)}}})},expandSubGridRow:function(b){return this.each(function(){if(this.grid||b)if(this.p.subGrid===c){var g=a(this).jqGrid(e,b,c);if(g)(g=a(f,g)[0])&&a(g).trigger(d)}})},collapseSubGridRow:function(b){return this.each(function(){if(this.grid||b)if(this.p.subGrid===c){var f=a(this).jqGrid(e,b,c);if(f)(f=a(g,f)[0])&&a(f).trigger(d)}})},toggleSubGridRow:function(b){return this.each(function(){if(this.grid||b)if(this.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var h=a(f,i)[0];if(h)a(h).trigger(d);else(h=a(g,i)[0])&&a(h).trigger(d)}}})}})})(jQuery);(function(c){var j="reloadGrid",h=" tbody:first",a="",i=":visible",e="#",g="showCol",b=false,d=true,f="undefined";c.jgrid.extend({groupingSetup:function(){return this.each(function(){var k=this,h=k.p.groupingView;if(h!==null&&(typeof h==="object"||c.isFunction(h)))if(h.groupField.length){if(typeof h.visibiltyOnNextGrouping==f)h.visibiltyOnNextGrouping=[];for(var j=0;j<h.groupField.length;j++){h.groupOrder[j]||(h.groupOrder[j]="asc");h.groupText[j]||(h.groupText[j]="{0}");if(typeof h.groupColumnShow[j]!="boolean")h.groupColumnShow[j]=d;if(typeof h.groupSummary[j]!="boolean")h.groupSummary[j]=b;if(h.groupColumnShow[j]===d){h.visibiltyOnNextGrouping[j]=d;c(k).jqGrid(g,h.groupField[j])}else{h.visibiltyOnNextGrouping[j]=c(e+k.p.id+"_"+h.groupField[j]).is(i);c(k).jqGrid("hideCol",h.groupField[j])}h.sortitems[j]=[];h.sortnames[j]=[];h.summaryval[j]=[];if(h.groupSummary[j]){h.summary[j]=[];for(var m=k.p.colModel,l=0,n=m.length;l<n;l++)m[l].summaryType&&h.summary[j].push({nm:m[l].name,st:m[l].summaryType,v:a})}}k.p.scroll=b;k.p.rownumbers=b;k.p.subGrid=b;k.p.treeGrid=b;k.p.gridview=d}else k.p.grouping=b;else k.p.grouping=b})},groupingPrepare:function(f,e,b,g){this.each(function(){e[0]+=a;var h=e[0].toString().split(" ").join(a),i=this.p.groupingView,j=this;if(b.hasOwnProperty(h))b[h].push(f);else{b[h]=[];b[h].push(f);i.sortitems[0].push(h);i.sortnames[0].push(c.trim(e[0].toString()));i.summaryval[0][h]=c.extend(d,[],i.summary[0])}i.groupSummary[0]&&c.each(i.summaryval[0][h],function(){var a=this;a.v=c.isFunction(a.st)?a.st.call(j,a.v,a.nm,g):c(j).jqGrid("groupingCalculations."+a.st,a.v,a.nm,g)})});return b},groupingToggle:function(a){this.each(function(){var g=this,i=g.p.groupingView,h=a.lastIndexOf("_"),l=a.substring(0,h+1);h=parseInt(a.substring(h+1),10)+1;var j=i.minusicon,m=i.plusicon,f=c(e+a);f=f.length?f[0].nextSibling:null;var k=c(e+a+" span.tree-wrap-"+g.p.direction),n=b;if(k.hasClass(j)){if(i.showSummaryOnHide&&i.groupSummary[0]){if(f)for(;f;){if(c(f).hasClass("jqfoot"))break;c(f).hide();f=f.nextSibling}}else if(f)for(;f;){if(c(f).attr("id")==l+String(h))break;c(f).hide();f=f.nextSibling}k.removeClass(j).addClass(m);n=d}else{if(f)for(;f;){if(c(f).attr("id")==l+String(h))break;c(f).show();f=f.nextSibling}k.removeClass(m).addClass(j)}c.isFunction(g.p.onClickGroup)&&g.p.onClickGroup.call(g,a,n)});return b},groupingRender:function(d,f){return this.each(function(){var i=this,g=i.p.groupingView,j=a,n=a,l,o=g.groupCollapse?g.plusicon:g.minusicon,m,p,k;if(!g.groupDataSorted){g.sortitems[0].sort();g.sortnames[0].sort();if(g.groupOrder[0].toLowerCase()=="desc"){g.sortitems[0].reverse();g.sortnames[0].reverse()}}o+=" tree-wrap-"+i.p.direction;for(k=0;k<f;){if(i.p.colModel[k].name==g.groupField[0]){p=k;break}k++}c.each(g.sortitems[0],function(q,k){l=i.p.id+"ghead_"+q;n="<span style='cursor:pointer;' class='ui-icon "+o+"' onclick=\"jQuery('#"+i.p.id+"').jqGrid('groupingToggle','"+l+"');return false;\"></span>";try{m=i.formatter(l,g.sortnames[0][q],p,g.sortitems[0])}catch(w){m=g.sortnames[0][q]}j+='<tr id="'+l+'" role="row" class= "ui-widget-content jqgroup ui-row-'+i.p.direction+'"><td colspan="'+f+'">'+n+c.jgrid.format(g.groupText[0],m,d[k].length)+"</td></tr>";for(var e=0;e<d[k].length;e++)j+=d[k][e].join(a);if(g.groupSummary[0]){e=a;if(g.groupCollapse&&!g.showSummaryOnHide)e=' style="display:none;"';j+="<tr"+e+' role="row" class="ui-widget-content jqfoot ui-row-'+i.p.direction+'">';e=g.summaryval[0][k];for(var r=i.p.colModel,s,t=d[k].length,h=0;h<f;h++){var u="<td "+i.formatCol(h,1,a)+">&#160;</td>",v="{0}";c.each(e,function(){var d=this;if(d.nm==r[h].name){if(r[h].summaryTpl)v=r[h].summaryTpl;if(d.st=="avg")if(d.v&&t>0)d.v/=t;try{s=i.formatter(a,d.v,h,d)}catch(e){s=d.v}u="<td "+i.formatCol(h,1,a)+">"+c.jgrid.format(v,s)+"</td>";return b}});j+=u}j+="</tr>"}});c(e+i.p.id+h).append(j);j=null})},groupingGroupBy:function(a,b){return this.each(function(){var l=this;if(typeof a=="string")a=[a];var k=l.p.groupingView;l.p.grouping=d;if(typeof k.visibiltyOnNextGrouping==f)k.visibiltyOnNextGrouping=[];for(var h=0;h<k.groupField.length;h++)!k.groupColumnShow[h]&&k.visibiltyOnNextGrouping[h]&&c(l).jqGrid(g,k.groupField[h]);for(h=0;h<a.length;h++)k.visibiltyOnNextGrouping[h]=c(e+l.p.id+"_"+a[h]).is(i);l.p.groupingView=c.extend(l.p.groupingView,b||{});k.groupField=a;c(l).trigger(j)})},groupingRemove:function(a){return this.each(function(){var i=this;if(typeof a==f)a=d;i.p.grouping=b;if(a===d){for(var l=i.p.groupingView,k=0;k<l.groupField.length;k++)!l.groupColumnShow[k]&&l.visibiltyOnNextGrouping[k]&&c(i).jqGrid(g,l.groupField);c("tr.jqgroup, tr.jqfoot",e+i.p.id+h).remove();c("tr.jqgrow:hidden",e+i.p.id+h).show()}else c(i).trigger(j)})},groupingCalculations:{sum:function(a,c,b){return parseFloat(a||0)+parseFloat(b[c]||0)},min:function(b,d,c){return b===a?parseFloat(c[d]||0):Math.min(parseFloat(b),parseFloat(c[d]||0))},max:function(b,d,c){return b===a?parseFloat(c[d]||0):Math.max(parseFloat(b),parseFloat(c[d]||0))},count:function(b,d,c){if(b===a)b=0;return c.hasOwnProperty(d)?b+1:0},avg:function(a,c,b){return parseFloat(a||0)+parseFloat(b[c]||0)}}})})(jQuery);(function(a){var i="collapseSubGridRow",f="id",k="colModel",g="getGridParam",e=null,j="remapColumns",h=">div",c=10,b=true,d=false;if(a.browser.msie&&a.browser.version==8)a.expr[":"].hidden=function(a){return a.offsetWidth===0||a.offsetHeight===0||a.style.display=="none"};a.jgrid._multiselect=d;if(a.ui)if(a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var l=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(d,c){var b=this,e=l.call(b,d,c);if(c&&b.selectedList){var f=b.element;b.selectedList.find("li").each(function(){var b="optionLink";a(this).data(b)&&a(this).data(b).remove().appendTo(f)})}return e}}if(a.ui.multiselect.prototype.destroy)a.ui.multiselect.prototype.destroy=function(){var b=this;b.element.show();b.container.remove();a.Widget===undefined?a.widget.prototype.destroy.apply(b,arguments):a.Widget.prototype.destroy.apply(b,arguments)};a.jgrid._multiselect=b}a.jgrid.extend({sortableColumns:function(e){return this.each(function(){function i(){f.p.disableClick=b}var f=this,g=f.p.id;g={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+g+"_cb,#jqgh_"+g+"_rn,#jqgh_"+g+"_subgrid),:hidden)",placeholder:{element:function(b){return a(document.createElement(b[0].nodeName)).addClass(b[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,c)-parseInt(a.currentItem.css("paddingBottom")||0,c));b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,c)-parseInt(a.currentItem.css("paddingRight")||0,c))}},update:function(l,i){var e=a(i.item).parent();e=a(">th",e);var g={},k=f.p.id+"_";a.each(f.p.colModel,function(a){g[this.name]=a});var c=[];e.each(function(){var b=a(h,this).get(0).id.replace(/^jqgh_/,"").replace(k,"");b in g&&c.push(g[b])});a(f).jqGrid(j,c,b,b);a.isFunction(f.p.sortable.update)&&f.p.sortable.update(c);setTimeout(function(){f.p.disableClick=d},50)}};if(f.p.sortable.options)a.extend(g,f.p.sortable.options);else if(a.isFunction(f.p.sortable))f.p.sortable={update:f.p.sortable};if(g.start){var k=g.start;g.start=function(a,b){i();k.call(this,a,b)}}else g.start=i;if(f.p.sortable.exclude)g.items+=":not("+f.p.sortable.exclude+")";e.sortable(g).data("sortable").floating=b})},columnChooser:function(f){var n="multiselect";function o(b,c){if(b)if(typeof b=="string")a.fn[b]&&a.fn[b].apply(c,a.makeArray(arguments).slice(2));else a.isFunction(b)&&b.apply(c,a.makeArray(arguments).slice(2))}var i=this;if(!a("#colchooser_"+i[0].p.id).length){var m=a('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),l=a("select",m);f=a.extend({width:420,height:240,classname:e,done:function(a){a&&i.jqGrid(j,a,b)},msel:n,dlog:"dialog",dlog_opts:function(a){var c={};c[a.bSubmit]=function(){a.apply_perm();a.cleanup(d)};c[a.bCancel]=function(){a.cleanup(b)};return{buttons:c,close:function(){a.cleanup(b)},modal:a.modal?a.modal:d,resizable:a.resizable?a.resizable:b,width:a.width+20}},apply_perm:function(){a("option",l).each(function(){this.selected?i.jqGrid("showCol",p[this.value].name):i.jqGrid("hideCol",p[this.value].name)});var b=[];a("option:selected",l).each(function(){b.push(parseInt(this.value,c))});a.each(b,function(){delete q[p[parseInt(this,c)].name]});a.each(q,function(){var f=parseInt(this,c),d=b,a=f;if(a>=0){var e=d.slice(),g=e.splice(a,Math.max(d.length-a,a));if(a>d.length)a=d.length;e[a]=f;b=e.concat(g)}else b=void 0});f.done&&f.done.call(i,b)},cleanup:function(a){o(f.dlog,m,"destroy");o(f.msel,l,"destroy");m.remove();a&&f.done&&f.done.call(i)},msel_opts:{}},a.jgrid.col,f||{});if(a.ui)if(a.ui.multiselect)if(f.msel==n){if(!a.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}f.msel_opts=a.extend(a.ui.multiselect.defaults,f.msel_opts)}f.caption&&m.attr("title",f.caption);if(f.classname){m.addClass(f.classname);l.addClass(f.classname)}if(f.width){a(h,m).css({width:f.width,margin:"0 auto"});l.css("width",f.width)}if(f.height){a(h,m).css("height",f.height);l.css("height",f.height-c)}var p=i.jqGrid(g,k),s=i.jqGrid(g,"colNames"),q={},t=[];l.empty();a.each(p,function(b){var a=this;q[a.name]=b;if(a.hidedlg)a.hidden||t.push(b);else l.append("<option value='"+b+"' "+(a.hidden?"":"selected='selected'")+">"+s[b]+"</option>")});var r=a.isFunction(f.dlog_opts)?f.dlog_opts.call(i,f):f.dlog_opts;o(f.dlog,m,r);r=a.isFunction(f.msel_opts)?f.msel_opts.call(i,f):f.msel_opts;o(f.msel,l,r)}},sortableRows:function(e){return this.each(function(){var j="tbody:first",h="border-width",g=this;if(g.grid)if(!g.p.treeGrid)if(a.fn.sortable){e=a.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{});if(e.start&&a.isFunction(e.start)){e._start_=e.start;delete e.start}else e._start_=d;if(e.update&&a.isFunction(e.update)){e._update_=e.update;delete e.update}else e._update_=d;e.start=function(c,b){a(b.item).css(h,"0px");a("td",b.item).each(function(a){this.style.width=g.grid.cols[a].style.width});if(g.p.subGrid){var d=a(b.item).attr(f);try{a(g).jqGrid(i,d)}catch(j){}}e._start_&&e._start_.apply(this,[c,b])};e.update=function(f,d){a(d.item).css(h,"");g.p.rownumbers===b&&a("td.jqgrid-rownum",g.rows).each(function(b){a(this).html(b+1+(parseInt(g.p.page,c)-1)*parseInt(g.p.rowNum,c))});e._update_&&e._update_.apply(this,[f,d])};a(j,g).sortable(e);a(j,g).disableSelection()}})},gridDnD:function(c){return this.each(function(){var l="addRowData",m="#jqgrid_dnd",h="dnd";function o(){var b=a.data(j,h);a("tr.jqgrow:not(.ui-draggable)",j).draggable(a.isFunction(b.drag)?b.drag.call(a(j),b):b.drag)}var j=this;if(j.grid)if(!j.p.treeGrid)if(a.fn.draggable&&a.fn.droppable){a(m).html()===e&&a("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>");if(typeof c=="string"&&c=="updateDnD"&&j.p.jqgdnd===b)o();else{c=a.extend({drag:function(c){var b="jqg_empty_row";return a.extend({start:function(k,e){if(j.p.subGrid){var d=a(e.helper).attr(f);try{a(j).jqGrid(i,d)}catch(m){}}for(d=0;d<a.data(j,h).connectWith.length;d++)a(a.data(j,h).connectWith[d]).jqGrid(g,"reccount")=="0"&&a(a.data(j,h).connectWith[d]).jqGrid(l,b,{});e.helper.addClass("ui-state-highlight");a("td",e.helper).each(function(a){this.style.width=j.grid.headers[a].width+"px"});c.onstart&&a.isFunction(c.onstart)&&c.onstart.call(a(j),k,e)},stop:function(i,g){var d="delRowData";if(g.helper.dropped&&!c.dragcopy){var e=a(g.helper).attr(f);a(j).jqGrid(d,e)}for(e=0;e<a.data(j,h).connectWith.length;e++)a(a.data(j,h).connectWith[e]).jqGrid(d,b);c.onstop&&a.isFunction(c.onstop)&&c.onstop.call(a(j),i,g)}},c.drag_opts||{})},drop:function(c){return a.extend({accept:function(c){if(!a(c).hasClass("jqgrow"))return c;var e=a(c).closest("table.ui-jqgrid-btable");if(e.length>0&&a.data(e[0],h)!==undefined){c=a.data(e[0],h).connectWith;return a.inArray("#"+this.id,c)!=-1?b:d}return c},drop:function(p,i){var m=this;if(a(i.draggable).hasClass("jqgrow")){var d=a(i.draggable).attr(f);d=i.draggable.parent().parent().jqGrid("getRowData",d);if(!c.dropbyname){var o=0,r={},h,q=a("#"+m.id).jqGrid(g,k);try{for(var s in d){if(d.hasOwnProperty(s)&&q[o]){h=q[o].name;r[h]=d[s]}o++}d=r}catch(t){}}i.helper.dropped=b;if(c.beforedrop&&a.isFunction(c.beforedrop)){h=c.beforedrop.call(m,p,i,d,a("#"+j.id),a(m));if(typeof h!="undefined"&&h!==e&&typeof h=="object")d=h}if(i.helper.dropped){var n;if(c.autoid)if(a.isFunction(c.autoid))n=c.autoid.call(m,d);else{n=Math.ceil(Math.random()*1e3);n=c.autoidprefix+n}a("#"+m.id).jqGrid(l,n,d,c.droppos)}c.ondrop&&a.isFunction(c.ondrop)&&c.ondrop.call(m,p,i,d)}}},c.drop_opts||{})},onstart:e,onstop:e,beforedrop:e,ondrop:e,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:m,zIndex:5e3},dragcopy:d,dropbyname:d,droppos:"first",autoid:b,autoidprefix:"dnd_"},c||{});if(c.connectWith){c.connectWith=c.connectWith.split(",");c.connectWith=a.map(c.connectWith,function(b){return a.trim(b)});a.data(j,h,c);j.p.reccount!="0"&&!j.p.jqgdnd&&o();j.p.jqgdnd=b;for(var n=0;n<c.connectWith.length;n++)a(c.connectWith[n]).droppable(a.isFunction(c.drop)?c.drop.call(a(j),c):c.drop)}}}})},gridResize:function(b){return this.each(function(){var c=this;if(c.grid&&a.fn.resizable){b=a.extend({},b||{});if(b.alsoResize){b._alsoResize_=b.alsoResize;delete b.alsoResize}else b._alsoResize_=d;if(b.stop&&a.isFunction(b.stop)){b._stop_=b.stop;delete b.stop}else b._stop_=d;b.stop=function(e,d){a(c).jqGrid("setGridParam",{height:a("#gview_"+c.p.id+" .ui-jqgrid-bdiv").height()});a(c).jqGrid("setGridWidth",d.size.width,b.shrinkToFit);b._stop_&&b._stop_.call(c,e,d)};b.alsoResize=b._alsoResize_?eval("("+("{'#gview_"+c.p.id+" .ui-jqgrid-bdiv':true,'"+b._alsoResize_+"':true}")+")"):a(".ui-jqgrid-bdiv","#gview_"+c.p.id);delete b._alsoResize_;a("#gbox_"+c.p.id).resizable(b)}})}})})(jQuery);(function(c){var pb="showHideCol",hb="tr.footrow td:eq(",K="td:eq(",U="jqgrow",T="span",qb="thead:first",v="ui-state-highlight",w="#jqg_",F="ui-subgrid",S="boolean",bb="both",O="click",Z="true",G="false",z="aria-selected",N="last",gb="first",r="checked",C="#cb_",l="ui-state-disabled",o="attr",n="prop",Y="set",jb="addSubGrid",kb="tbody:first",ab="</tr>",ib="addSubGridCell",R=" tbody:first",ob=" tbody:first tr:first",nb=" tbody:first tr:gt(0)",j="#",k="local",X="rn",fb="subgrid",W="cb",mb=' id="jqg_',lb='<input role="checkbox" type="checkbox"',J="</td>",t="undefined",i="_",u="setSelection",q="width",A="table:first",g="px",B="none",I="display",x="#gbox_",Q="edit",M="asc",eb="desc",E=" ",db="Y-m-d",L="0",cb="datetime",D="date",P="text",f=10,p=")",rb="function",H="object",b=true,d=null,a=false,s="string",h=-1,m='"',y=">",e="",V="&#160;";c.jgrid=c.jgrid||{};c.extend(c.jgrid,{htmlDecode:function(a){return a&&(a=="&nbsp;"||a==V||a.length==1&&a.charCodeAt(0)==160)?e:!a?a:String(a).replace(/&gt;/g,y).replace(/&lt;/g,"<").replace(/&quot;/g,m).replace(/&amp;/g,"&")},htmlEncode:function(a){return!a?a:String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},format:function(a){var b=c.makeArray(arguments).slice(1);if(a===undefined)a=e;return a.replace(/\{(\d+)\}/g,function(c,a){return b[a]})},getCellIndex:function(b){var a=c(b);if(a.is("tr"))return h;a=(!a.is("td")&&!a.is("th")?a.closest("td,th"):a)[0];return c.browser.msie?c.inArray(a,a.parentNode.cells):a.cellIndex},stripHtml:function(a){a=a+e;var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;if(a){a=a.replace(b,e);return a&&a!=="&nbsp;"&&a!==V?a.replace(/\"/g,"'"):e}else return a},stripPref:function(a,b){var c=Object.prototype.toString.call(a).slice(8,h);if(c=="String"||c=="Number"){a=String(a);b=a!=e?String(b).replace(String(a),e):b}return b},stringToDoc:function(c){var b;if(typeof c!==s)return c;try{var e=new DOMParser;b=e.parseFromString(c,"text/xml")}catch(f){b=new ActiveXObject("Microsoft.XMLDOM");b.async=a;b.loadXML(c)}return b&&b.documentElement&&b.documentElement.tagName!="parsererror"?b:d},parse:function(d){var a=d;if(a.substr(0,9)=="while(1);")a=a.substr(9);if(a.substr(0,2)=="/*")a=a.substr(2,a.length-4);if(!a)a="{}";return c.jgrid.useJSON===b&&typeof JSON===H&&typeof JSON.parse===rb?JSON.parse(a):eval("("+a+p)},parseDate:function(i,b){var e={m:1,d:1,y:1970,h:0,i:0,s:0},a,o,g,m=/[\\\/:_;.,\t\T\s-]/;if(b&&b!==d&&b!==undefined){b=c.trim(b);b=b.split(m);i=i.split(m);var n=c.jgrid.formatter.date.monthNames,j=c.jgrid.formatter.date.AmPm,l=function(b,a){if(b===0){if(a==12)a=0}else if(a!=12)a+=12;return a};for(a=0,o=i.length;a<o;a++){if(i[a]=="M"){g=c.inArray(b[a],n);if(g!==h&&g<12)b[a]=g+1}if(i[a]=="F"){g=c.inArray(b[a],n);if(g!==h&&g>11)b[a]=g+1-12}if(i[a]=="a"){g=c.inArray(b[a],j);if(g!==h&&g<2&&b[a]==j[g]){b[a]=g;e.h=l(b[a],e.h)}}if(i[a]=="A"){g=c.inArray(b[a],j);if(g!==h&&g>1&&b[a]==j[g]){b[a]=g-2;e.h=l(b[a],e.h)}}if(b[a]!==undefined)e[i[a].toLowerCase()]=parseInt(b[a],f)}e.m=parseInt(e.m,f)-1;var k=e.y;if(k>=70&&k<=99)e.y=1900+e.y;else if(k>=0&&k<=69)e.y=2e3+e.y}return new Date(e.y,e.m,e.d,e.h,e.i,e.s,0)},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(a){return(a?a:c.jgrid.uidPref)+c.jgrid.guid++},getAccessor:function(c,b){var a,f,d=[],e;if(typeof b===rb)return b(c);a=c[b];if(a===undefined)try{if(typeof b===s)d=b.split(".");e=d.length;if(e){a=c;while(a&&e--){f=d.shift();a=a[f]}}}catch(g){}return a},ajaxOptions:{},from:function(g){var f=function(t,F){var k="this",j="')",i="jQuery.jgrid.getAccessor(this,'",l="number",g=this;if(typeof t==s)t=c.data(t);var f=g,n=t,z=b,r=a,q=F,B=/[\$,%]/g,w=d,A=d,C=0,o=a,x=e,v=[],u=b;if(typeof t==H&&t.push){if(t.length>0)if(typeof t[0]!=H)u=a;else u=b}else throw"data provides is not an array";g._hasData=function(){return n===d?a:n.length===0?a:b};g._getStr=function(b){var a=[];r&&a.push("jQuery.trim(");a.push("String("+b+p);r&&a.push(p);!z&&a.push(".toLowerCase()");return a.join(e)};g._strComp=function(a){return typeof a==s?".toString()":e};g._group=function(a,b){return{field:a.toString(),unique:b,items:[]}};g._toStr=function(a){if(r)a=c.trim(a);if(!z)a=a.toLowerCase();a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"');return a};g._funcLoop=function(b){var a=[];c.each(n,function(d,c){a.push(b(c))});return a};g._append=function(c){var b;if(q===d)q=e;else q+=x===e?" && ":x;for(b=0;b<C;b++)q+="(";if(o)q+="!";q+="("+c+p;o=a;x=e;C=0};g._setCommand=function(b,a){w=b;A=a};g._resetNegate=function(){o=a};g._repeatCommand=function(a,b){return w===d?f:a!==d&&b!==d?w(a,b):A===d?w(a):!u?w(a):w(A,a)};g._equals=function(a,b){return f._compare(a,b,1)===0};g._compare=function(a,b,c){if(c===undefined)c=1;if(a===undefined)a=d;if(b===undefined)b=d;if(a===d&&b===d)return 0;if(a===d&&b!==d)return 1;if(a!==d&&b===d)return h;if(!z&&typeof a!==l&&typeof b!==l){a=String(a).toLowerCase();b=String(b).toLowerCase()}return a<b?-c:a>b?c:0};g._performSort=function(){if(v.length===0)return;n=f._doSort(n,0)};g._doSort=function(l,a){var k=v[a].by,j=v[a].dir,i=v[a].type,h=v[a].datefmt;if(a==v.length-1)return f._getOrder(l,k,j,i,h);a++;for(var g=f._getGroup(l,k,j,i,h),d=[],b=0;b<g.length;b++)for(var e=f._doSort(g[b].items,a),c=0;c<e.length;c++)d.push(e[c]);return d};g._getOrder=function(j,m,r,a,p){var k=[],i=[],o=r=="a"?1:h,n,d,g,b;if(a===undefined)a=P;if(a=="float"||a==l||a=="currency"||a=="numeric")b=function(b){var a=parseFloat(String(b).replace(B,e));return isNaN(a)?0:a};else if(a=="int"||a=="integer")b=function(a){return a?parseFloat(String(a).replace(B,e)):0};else if(a==D||a==cb)b=function(a){return c.jgrid.parseDate(p,a).getTime()};else if(c.isFunction(a))b=a;else b=function(a){if(!a)a=e;return c.trim(String(a).toUpperCase())};c.each(j,function(f,a){d=m!==e?c.jgrid.getAccessor(a,m):a;if(d===undefined)d=e;d=b(d,a);i.push({vSort:d,index:f})});i.sort(function(a,b){a=a.vSort;b=b.vSort;return f._compare(a,b,o)});g=0;var q=j.length;while(g<q){n=i[g].index;k.push(j[n]);g++}return k};g._getGroup=function(j,h,m,l,k){var g=[],a=d,i=d,b;c.each(f._getOrder(j,h,m,l,k),function(k,j){b=c.jgrid.getAccessor(j,h);if(b===undefined)b=e;if(!f._equals(i,b)){i=b;a!==d&&g.push(a);a=f._group(h,b)}a.items.push(j)});a!==d&&g.push(a);return g};g.ignoreCase=function(){z=a;return f};g.useCase=function(){z=b;return f};g.trim=function(){r=b;return f};g.noTrim=function(){r=a;return f};g.execute=function(){var b=q,a=[];if(b===d)return f;c.each(n,function(){eval(b)&&a.push(this)});n=a;return f};g.data=function(){return n};g.select=function(b){f._performSort();if(!f._hasData())return[];f.execute();if(c.isFunction(b)){var a=[];c.each(n,function(d,c){a.push(b(c))});return a}return n};g.hasMatch=function(){if(!f._hasData())return a;f.execute();return n.length>0};g.andNot=function(a,b,c){o=!o;return f.and(a,b,c)};g.orNot=function(a,b,c){o=!o;return f.or(a,b,c)};g.not=function(a,b,c){return f.andNot(a,b,c)};g.and=function(a,b,c){x=" && ";return a===undefined?f:f._repeatCommand(a,b,c)};g.or=function(a,b,c){x=" || ";return a===undefined?f:f._repeatCommand(a,b,c)};g.orBegin=function(){C++;return f};g.orEnd=function(){if(q!==d)q+=p;return f};g.isNot=function(a){o=!o;return f.is(a)};g.is=function(a){f._append("this."+a);f._resetNegate();return f};g._compareValues=function(r,q,o,t,n){var h="parseFloat(",g="parseInt(",b;if(u)b=i+q+j;else b=k;if(o===undefined)o=d;var a=o,s=n.stype===undefined?P:n.stype;if(o!==d)switch(s){case"int":case"integer":a=isNaN(Number(a))||a===e?L:a;b=g+b+",10)";a=g+a+",10)";break;case"float":case l:case"numeric":a=String(a).replace(B,e);a=isNaN(Number(a))||a===e?L:a;b=h+b+p;a=h+a+p;break;case D:case cb:a=String(c.jgrid.parseDate(n.newfmt||db,a).getTime());b='jQuery.jgrid.parseDate("'+n.srcfmt+'",'+b+").getTime()";break;default:b=f._getStr(b);a=f._getStr(m+f._toStr(a)+m)}f._append(b+E+t+E+a);f._setCommand(r,q);f._resetNegate();return f};g.equals=function(a,c,b){return f._compareValues(f.equals,a,c,"==",b)};g.notEquals=function(a,c,b){return f._compareValues(f.equals,a,c,"!==",b)};g.isNull=function(a,c,b){return f._compareValues(f.equals,a,d,"===",b)};g.greater=function(a,c,b){return f._compareValues(f.greater,a,c,y,b)};g.less=function(a,c,b){return f._compareValues(f.less,a,c,"<",b)};g.greaterOrEquals=function(a,c,b){return f._compareValues(f.greaterOrEquals,a,c,">=",b)};g.lessOrEquals=function(a,c,b){return f._compareValues(f.lessOrEquals,a,c,"<=",b)};g.startsWith=function(e,b){var a=".substr(0,",h=b===undefined||b===d?e:b,g=r?c.trim(h.toString()).length:h.toString().length;if(u)f._append(f._getStr(i+e+j)+a+g+") == "+f._getStr(m+f._toStr(b)+m));else{g=r?c.trim(b.toString()).length:b.toString().length;f._append(f._getStr(k)+a+g+") == "+f._getStr(m+f._toStr(e)+m))}f._setCommand(f.startsWith,e);f._resetNegate();return f};g.endsWith=function(b,e){var a=".substr(",h=e===undefined||e===d?b:e,g=r?c.trim(h.toString()).length:h.toString().length;if(u)f._append(f._getStr(i+b+j)+a+f._getStr(i+b+j)+".length-"+g+","+g+') == "'+f._toStr(e)+m);else f._append(f._getStr(k)+a+f._getStr(k)+'.length-"'+f._toStr(b)+'".length,"'+f._toStr(b)+'".length) == "'+f._toStr(b)+m);f._setCommand(f.endsWith,b);f._resetNegate();return f};g.contains=function(c,d){var b='",0) > -1',a='.indexOf("';if(u)f._append(f._getStr(i+c+j)+a+f._toStr(d)+b);else f._append(f._getStr(k)+a+f._toStr(c)+b);f._setCommand(f.contains,c);f._resetNegate();return f};g.groupBy=function(e,c,b,a){return!f._hasData()?d:f._getGroup(n,e,c,b,a)};g.orderBy=function(g,a,b,e){a=a===undefined||a===d?"a":c.trim(a.toString().toLowerCase());if(b===d||b===undefined)b=P;if(e===d||e===undefined)e=db;if(a==eb||a=="descending")a="d";if(a==M||a=="ascending")a="a";v.push({by:g,dir:a,type:b,datefmt:e});return f};return f};return new f(g,d)},extend:function(a){c.extend(c.fn.jqGrid,a);!this.no_legacy_api&&c.fn.extend(a)}});c.fn.jqGrid=function(p){if(typeof p==s){var H=c.jgrid.getAccessor(c.fn.jqGrid,p);if(!H)throw"jqGrid - No such method: "+p;var K=c.makeArray(arguments).slice(1);return H.apply(this,K)}return this.each(function(){var tc=".ui-jqgrid-titlebar-close",Ub="ui-userdata ui-state-default",sc="selectstart",zb="tr.jqgrow",Tb="-rtl",rc="<div class='ui-jqgrid-hbox",wb="div",Sb="userdata",Ab="cell",ic="resetSelection",Ob="records",pc="</tr></tbody></table>",oc="'></span>",nc="<div id='",Eb="#load_",Lb=", #last",hb="ui-state-hover",Kb=", #prev",Jb="#first",hc="jsonstring",gc="footerData",fc="setTreeNode",ec="groupingRender",dc="groupingPrepare",cc=' style="display:none;"',Nb="_id_",bc="xmlstring",ac="div:first",Zb=">div:first",Yb='<td role="gridcell" ',mc=' title="',Xb="display:none;",Bb="'>",Ib="'></div>",ub="rtl",Fb="default",Hb="block",Wb="col-resize",tb="ltr",Rb="center",Mb="enable",Gb="visible",rb="id",xb="rows",Qb="page",yb="xml",U=this;if(U.grid)return;var pb=c.extend(b,{url:e,height:150,page:1,rowNum:20,rowTotal:d,records:0,pager:e,pgbuttons:b,pginput:b,colModel:[],rowList:[],colNames:[],sortorder:M,sortname:e,datatype:yb,mtype:"GET",altRows:a,selarrrow:[],savedRow:[],shrinkToFit:b,xmlReader:{},jsonReader:{},subGrid:a,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:d,beforeSelectRow:d,onSelectRow:d,onSortCol:d,ondblClickRow:d,onRightClickRow:d,onPaging:d,onSelectAll:d,loadComplete:d,gridComplete:d,loadError:d,loadBeforeSend:d,afterInsertRow:d,beforeRequest:d,beforeProcessing:d,onHeaderClick:d,viewrecords:a,loadonce:a,multiselect:a,multikey:a,editurl:d,search:a,caption:e,hidegrid:b,hiddengrid:a,postData:{},userData:{},treeGrid:a,treeGridModel:"nested",treeReader:{},treeANode:h,ExpandColumn:d,tree_root_level:0,prmNames:{page:Qb,rows:xb,sort:"sidx",order:"sord",search:"_search",nd:"nd",id:rb,oper:"oper",editoper:Q,addoper:"add",deloper:"del",subgridid:rb,npage:d,totalrows:"totalrows"},forceFit:a,gridstate:Gb,cellEdit:a,cellsubmit:"remote",nv:0,loadui:Mb,toolbar:[a,e],scroll:a,multiboxonly:a,deselectAfterSort:b,scrollrows:a,autowidth:a,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:a,rownumWidth:25,rownumbers:a,pagerpos:Rb,recordpos:"right",footerrow:a,userDataOnFooter:a,hoverrows:b,altclass:"ui-priority-secondary",viewsortcols:[a,"vertical",b],resizeclass:e,autoencode:a,remapColumns:[],ajaxGridOptions:{},direction:tb,toppager:a,headertitles:a,scrollTimeout:40,data:[],_index:{},grouping:a,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:a,sortitems:[],sortnames:[],groupDataSorted:a,summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus"},ignoreCase:a,cmTemplate:{},idPrefix:e},c.jgrid.defaults,p||{}),K={headers:[],cols:[],footers:[],dragStart:function(e,f,d){var b=this;b.resizing={idx:e,startX:f.clientX,sOL:d[0]};b.hDiv.style.cursor=Wb;b.curGbox=c("#rs_m"+c.jgrid.jqID(pb.id),x+c.jgrid.jqID(pb.id));b.curGbox.css({display:Hb,left:d[0],top:d[1],height:d[2]});c.isFunction(pb.resizeStart)&&pb.resizeStart.call(b,f,e);document.onselectstart=function(){return a}},dragMove:function(h){var a=this;if(a.resizing){var c=h.clientX-a.resizing.startX,e=a.headers[a.resizing.idx],f=pb.direction===tb?e.width+c:e.width-c,d,g;if(f>33){a.curGbox.css({left:a.resizing.sOL+c});if(pb.forceFit===b){d=a.headers[a.resizing.idx+pb.nv];g=pb.direction===tb?d.width-c:d.width+c;if(g>33){e.newWidth=f;d.newWidth=g}}else{a.newWidth=pb.direction===tb?pb.tblwidth+c:pb.tblwidth-c;e.newWidth=f}}}},dragEnd:function(){var e=this;e.hDiv.style.cursor=Fb;if(e.resizing){var h=e.resizing.idx,i=e.headers[h].newWidth||e.headers[h].width;i=parseInt(i,f);e.resizing=a;c("#rs_m"+c.jgrid.jqID(pb.id)).css(I,B);pb.colModel[h].width=i;e.headers[h].width=i;e.headers[h].el.style.width=i+g;e.cols[h].style.width=i+g;if(e.footers.length>0)e.footers[h].style.width=i+g;if(pb.forceFit===b){i=e.headers[h+pb.nv].newWidth||e.headers[h+pb.nv].width;e.headers[h+pb.nv].width=i;e.headers[h+pb.nv].el.style.width=i+g;e.cols[h+pb.nv].style.width=i+g;if(e.footers.length>0)e.footers[h+pb.nv].style.width=i+g;pb.colModel[h+pb.nv].width=i}else{pb.tblwidth=e.newWidth||pb.tblwidth;c(A,e.bDiv).css(q,pb.tblwidth+g);c(A,e.hDiv).css(q,pb.tblwidth+g);e.hDiv.scrollLeft=e.bDiv.scrollLeft;if(pb.footerrow){c(A,e.sDiv).css(q,pb.tblwidth+g);e.sDiv.scrollLeft=e.bDiv.scrollLeft}}c.isFunction(pb.resizeStop)&&pb.resizeStop.call(e,i,h)}e.curGbox=d;document.onselectstart=function(){return b}},populateVisible:function(){K.timer&&clearTimeout(K.timer);K.timer=d;var o=c(K.bDiv).height();if(!o)return;var k=c(A,K.bDiv),p,n;if(k[0].rows.length)try{p=k[0].rows[1];n=p?c(p).outerHeight()||K.prevRowHeight:K.prevRowHeight}catch(s){n=K.prevRowHeight}if(!n)return;K.prevRowHeight=n;var r=pb.rowNum,i=K.scrollTop=K.bDiv.scrollTop,m=Math.round(k.position().top)-i,l=m+k.height(),g=n*r,e,j,q;if(l<o&&m<=0&&(pb.lastpage===undefined||parseInt((l+i+g-1)/g,f)<=pb.lastpage)){j=parseInt((o-l+g-1)/g,f);if(l>=0||j<2||pb.scroll===b){e=Math.round((l+i)/g)+1;m=h}else m=1}if(m>0){e=parseInt(i/g,f)+1;j=parseInt((i+o)/g,f)+2-e;q=b}if(j){if(pb.lastpage&&e>pb.lastpage||pb.lastpage==1||e===pb.page&&e===pb.lastpage)return;if(K.hDiv.loading)K.timer=setTimeout(K.populateVisible,pb.scrollTimeout);else{pb.page=e;if(q){K.selectionPreserver(k[0]);K.emptyRows(K.bDiv,a,a)}K.populate(j)}}},scrollGrid:function(b){if(pb.scroll){var a=K.bDiv.scrollTop;if(K.scrollTop===undefined)K.scrollTop=0;if(a!=K.scrollTop){K.scrollTop=a;K.timer&&clearTimeout(K.timer);K.timer=setTimeout(K.populateVisible,pb.scrollTimeout)}}K.hDiv.scrollLeft=K.bDiv.scrollLeft;if(pb.footerrow)K.sDiv.scrollLeft=K.bDiv.scrollLeft;b&&b.stopPropagation()},selectionPreserver:function(f){var b=f.p,g=b.selrow,e=b.selarrrow?c.makeArray(b.selarrrow):d,i=f.grid.bDiv.scrollLeft,h=b.gridComplete;b.gridComplete=function(){b.selrow=d;b.selarrrow=[];if(b.multiselect&&e&&e.length>0)for(var j=0;j<e.length;j++)e[j]!=g&&c(f).jqGrid(u,e[j],a);g&&c(f).jqGrid(u,g,a);f.grid.bDiv.scrollLeft=i;b.gridComplete=h;b.gridComplete&&h()}}};if(U.tagName.toUpperCase()!="TABLE"){alert("Element is not a table");return}c(U).empty().attr("tabindex","1");U.p=pb;U.p.useProp=!!c.fn.prop;var sb,Cb,H;if(U.p.colNames.length===0)for(sb=0;sb<U.p.colModel.length;sb++)U.p.colNames[sb]=U.p.colModel[sb].label||U.p.colModel[sb].name;if(U.p.colNames.length!==U.p.colModel.length){alert(c.jgrid.errors.model);return}var qc=c("<div class='ui-jqgrid-view'></div>"),Rc,zc=c.browser.msie?b:a,Nc=c.browser.webkit||c.browser.safari?b:a;H=U;H.p.direction=c.trim(H.p.direction.toLowerCase());if(c.inArray(H.p.direction,[tb,ub])==h)H.p.direction=tb;Cb=H.p.direction;c(qc).insertBefore(U);c(U).appendTo(qc).removeClass("scroll");var Bc=c("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");c(Bc).insertBefore(qc).attr({id:"gbox_"+U.id,dir:Cb});c(qc).appendTo(Bc).attr(rb,"gview_"+U.id);if(zc&&c.browser.version<=6)Rc='<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>';else Rc=e;c("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+U.id+Ib).append(Rc).insertBefore(qc);c("<div class='loading ui-state-default ui-state-active' id='load_"+U.id+Bb+U.p.loadtext+"</div>").insertBefore(qc);c(U).attr({cellspacing:L,cellpadding:L,border:L,role:"grid","aria-multiselectable":!!U.p.multiselect,"aria-labelledby":"gbox_"+U.id});var nd=["shiftKey","altKey","ctrlKey"],yc=function(a,b){a=parseInt(a,f);return isNaN(a)?b?b:0:a},wc=function(n,q,l,p,t,r){var f=H.p.colModel[n],o=f.align,g='style="',k=f.classes,u=f.name,j,d=[];if(o)g+="text-align:"+o+";";if(f.hidden===b)g+=Xb;if(q===0)g+="width: "+K.headers[n].width+"px;";else if(f.cellattr&&c.isFunction(f.cellattr)){j=f.cellattr.call(H,t,l,p,f,r);if(j&&typeof j===s){j=j.replace(/style/i,"style").replace(/title/i,"title");if(j.indexOf("title")>h)f.title=a;if(j.indexOf("class")>h)k=undefined;d=j.split("style");if(d.length===2){d[1]=c.trim(d[1].replace("=",e));if(d[1].indexOf("'")===0||d[1].indexOf(m)===0)d[1]=d[1].substring(1);g+=d[1].replace(/'/gi,m)}else g+=m}}if(!d.length){d[0]=e;g+=m}g+=(k!==undefined?' class="'+k+m:e)+(f.title&&l?mc+c.jgrid.stripHtml(l)+m:e);g+=' aria-describedby="'+H.p.id+i+u+m;return g+d[0]},Yc=function(a){return a===undefined||a===d||a===e?V:H.p.autoencode?c.jgrid.htmlEncode(a):a+e},Uc=function(i,d,e,f,h){var a=H.p.colModel[e],b;if(typeof a.formatter!==t){var g={rowId:i,colModel:a,gid:H.p.id,pos:e};if(c.isFunction(a.formatter))b=a.formatter.call(H,d,g,f,h);else if(c.fmatter)b=c.fn.fmatter(a.formatter,d,g,f,h);else b=Yc(d)}else b=Yc(d);return b},Oc=function(c,g,e,h,d){var a,f;a=Uc(c,g,e,d,"add");f=wc(e,h,a,d,c,b);return Yb+f+y+a+J},Vc=function(a,f,c){var h=lb+mb+H.p.id+i+a+'" class="cbox" name="jqg_'+H.p.id+i+a+'"/>',g=wc(f,c,e,d,a,b);return Yb+g+y+h+J},Tc=function(e,a,h,i){var c=(parseInt(h,f)-1)*parseInt(i,f)+1+a,g=wc(e,a,c,d,a,b);return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+g+y+c+J},ad=function(e){for(var a,b=[],d=0,c=0;c<H.p.colModel.length;c++){a=H.p.colModel[c];if(a.name!==W&&a.name!==fb&&a.name!==X){if(e==k)b[d]=a.name;else b[d]=e==yb?a.xmlmap||a.name:a.jsonmap||a.name;d++}}return b},Dc=function(b){var a=H.p.remapColumns;if(!a||!a.length)a=c.map(H.p.colModel,function(b,a){return a});if(b)a=c.map(a,function(a){return a<b?d:a-b});return a},vc=function(a,e,d){if(H.p.deepempty)c(j+c.jgrid.jqID(H.p.id)+nb).remove();else{var f=c(j+c.jgrid.jqID(H.p.id)+ob)[0];c(j+c.jgrid.jqID(H.p.id)+R).empty().append(f)}if(e&&H.p.scroll){c(Zb,a).css({height:"auto"}).children(ac).css({height:0,display:B});a.scrollTop=0}if(d===b)if(H.p.treeGrid===b){H.p.data=[];H.p._index={}}},Lc=function(){var g=H.p.data.length,e,d,f,i=H.p.rownumbers===b?1:0,h=H.p.multiselect===b?1:0,j=H.p.subGrid===b?1:0;if(H.p.keyIndex===a||H.p.loadonce===b)e=H.p.localReader.id;else e=H.p.colModel[H.p.keyIndex+h+j+i].name;for(d=0;d<g;d++){f=c.jgrid.getAccessor(H.p.data[d],e);H.p._index[f]=d}},Mc=function(x,I,s,U,M){var Q=new Date,D=H.p.datatype!=k&&H.p.loadonce||H.p.datatype==bc,G=Nb,V=H.p.datatype==k?k:yb;if(D){H.p.data=[];H.p._index={};H.p.localReader.id=G}H.p.reccount=0;if(c.isXMLDoc(x))if(H.p.treeANode===h&&!H.p.scroll){vc(I,a,b);s=1}else s=s>1?s:1;else return;var p,B,t=0,r,Z,o=0,u=0,l=0,n,A,v=[],z,j={},m,g,i=[],X=H.p.altRows===b?E+H.p.altclass:e,O;if(!H.p.xmlReader.repeatitems)v=ad(V);if(H.p.keyIndex===a)n=H.p.xmlReader.id;else n=H.p.keyIndex;if(v.length>0&&!isNaN(n)){if(H.p.remapColumns&&H.p.remapColumns.length)n=c.inArray(n,H.p.remapColumns);n=v[n]}if((n+e).indexOf("[")===h)if(v.length)A=function(a,b){return c(n,a).text()||b};else A=function(a,b){return c(H.p.xmlReader.cell,a).eq(n).text()||b};else A=function(a,b){return a.getAttribute(n.replace(/[\[\]]/g,e))||b};H.p.userData={};c(H.p.xmlReader.page,x).each(function(){H.p.page=this.textContent||this.text||0});c(H.p.xmlReader.total,x).each(function(){H.p.lastpage=this.textContent||this.text;if(H.p.lastpage===undefined)H.p.lastpage=1});c(H.p.xmlReader.records,x).each(function(){H.p.records=this.textContent||this.text||0});c(H.p.xmlReader.userdata,x).each(function(){H.p.userData[this.getAttribute("name")]=c(this).text()});var w=c(H.p.xmlReader.root+E+H.p.xmlReader.row,x);if(!w)w=[];var y=w.length,q=0,C={},F;if(w&&y){F=parseInt(H.p.rowNum,f);var W=H.p.scroll?c.jgrid.randId():1,N;if(M)F*=M+1;var P=c.isFunction(H.p.afterInsertRow),L=e;if(H.p.grouping&&H.p.groupingView.groupCollapse===b)L=cc;while(q<y){m=w[q];g=A(m,W+q);g=H.p.idPrefix+g;N=s===0?0:s+1;O=(N+q)%2==1?X:e;i.push("<tr"+L+' id="'+g+'" tabindex="-1" role="row" class ="ui-widget-content jqgrow ui-row-'+H.p.direction+e+O+'">');if(H.p.rownumbers===b){i.push(Tc(0,q,H.p.page,H.p.rowNum));l=1}if(H.p.multiselect===b){i.push(Vc(g,l,q));o=1}if(H.p.subGrid===b){i.push(c(H).jqGrid(ib,o+l,q+s));u=1}if(H.p.xmlReader.repeatitems){if(!z)z=Dc(o+u+l);var S=c(H.p.xmlReader.cell,m);c.each(z,function(c){var b=S[this];if(!b)return a;r=b.textContent||b.text;j[H.p.colModel[c+o+u+l].name]=r;i.push(Oc(g,r,c+o+u+l,q+s,m))})}else for(p=0;p<v.length;p++){r=c(v[p],m).text();j[H.p.colModel[p+o+u+l].name]=r;i.push(Oc(g,r,p+o+u+l,q+s,m))}i.push(ab);if(H.p.grouping){for(var T=H.p.groupingView.groupField.length,K=[],J=0;J<T;J++)K.push(j[H.p.groupingView.groupField[J]]);C=c(H).jqGrid(dc,i,K,C,j);i=[]}if(D||H.p.treeGrid===b){j[G]=g;H.p.data.push(j);H.p._index[g]=H.p.data.length-1}if(H.p.gridview===a){c(kb,I).append(i.join(e));P&&H.p.afterInsertRow.call(H,g,j,m);i=[]}j={};t++;q++;if(t==F)break}}if(H.p.gridview===b){B=H.p.treeANode>h?H.p.treeANode:0;if(H.p.grouping){c(H).jqGrid(ec,C,H.p.colModel.length);C=d}else if(H.p.treeGrid===b&&B>0)c(H.rows[B]).after(i.join(e));else c(kb,I).append(i.join(e))}if(H.p.subGrid===b)try{c(H).jqGrid(jb,o+l)}catch(cb){}H.p.totaltime=new Date-Q;if(t>0)if(H.p.records===0)H.p.records=y;i=d;if(H.p.treeGrid===b)try{c(H).jqGrid(fc,B+1,t+B+1)}catch(bb){}if(!H.p.treeGrid&&!H.p.scroll)H.grid.bDiv.scrollTop=0;H.p.reccount=t;H.p.treeANode=h;H.p.userDataOnFooter&&c(H).jqGrid(gc,Y,H.p.userData,b);if(D){H.p.records=y;H.p.lastpage=Math.ceil(y/F)}!U&&H.updatepager(a,b);if(D)while(t<y){m=w[t];g=A(m,t);g=H.p.idPrefix+g;if(H.p.xmlReader.repeatitems){if(!z)z=Dc(o+u+l);var R=c(H.p.xmlReader.cell,m);c.each(z,function(c){var b=R[this];if(!b)return a;r=b.textContent||b.text;j[H.p.colModel[c+o+u+l].name]=r})}else for(p=0;p<v.length;p++){r=c(v[p],m).text();j[H.p.colModel[p+o+u+l].name]=r}j[G]=g;H.p.data.push(j);H.p._index[g]=H.p.data.length-1;j={};t++}},Cc=function(x,cb,u,Z,O){var W=new Date;if(x)if(H.p.treeANode===h&&!H.p.scroll){vc(cb,a,b);u=1}else u=u>1?u:1;else return;var i,G=Nb,I,F=H.p.datatype!=k&&H.p.loadonce||H.p.datatype==hc;if(F){H.p.data=[];H.p._index={};H.p.localReader.id=G}H.p.reccount=0;if(H.p.datatype==k){i=H.p.localReader;I=k}else{i=H.p.jsonReader;I="json"}var q=0,C,r,p,B=[],t,l,v=0,z=0,s=0,y,w,n,o={},A,g,m=[],bb=H.p.altRows===b?E+H.p.altclass:e,T,J;H.p.page=c.jgrid.getAccessor(x,i.page)||0;J=c.jgrid.getAccessor(x,i.total);H.p.lastpage=J===undefined?1:J;H.p.records=c.jgrid.getAccessor(x,i.records)||0;H.p.userData=c.jgrid.getAccessor(x,i.userdata)||{};if(!i.repeatitems)t=B=ad(I);if(H.p.keyIndex===a)n=i.id;else n=H.p.keyIndex;if(B.length>0&&!isNaN(n)){if(H.p.remapColumns&&H.p.remapColumns.length)n=c.inArray(n,H.p.remapColumns);n=B[n]}w=c.jgrid.getAccessor(x,i.root);if(!w)w=[];y=w.length;r=0;var K=parseInt(H.p.rowNum,f),U=H.p.scroll?c.jgrid.randId():1,Q;if(O)K*=O+1;var V=c.isFunction(H.p.afterInsertRow),D={},N=e;if(H.p.grouping&&H.p.groupingView.groupCollapse===b)N=cc;while(r<y){l=w[r];g=c.jgrid.getAccessor(l,n);if(g===undefined){g=U+r;if(B.length===0)if(i.cell){var S=c.jgrid.getAccessor(l,i.cell);g=S[n]||g;S=d}}g=H.p.idPrefix+g;Q=u===1?0:u;T=(Q+r)%2==1?bb:e;m.push("<tr"+N+' id="'+g+'" tabindex="-1" role="row" class= "ui-widget-content jqgrow ui-row-'+H.p.direction+e+T+'">');if(H.p.rownumbers===b){m.push(Tc(0,r,H.p.page,H.p.rowNum));s=1}if(H.p.multiselect){m.push(Vc(g,s,r));v=1}if(H.p.subGrid){m.push(c(H).jqGrid(ib,v+s,r+u));z=1}if(i.repeatitems){if(i.cell)l=c.jgrid.getAccessor(l,i.cell);if(!t)t=Dc(v+z+s)}for(p=0;p<t.length;p++){C=c.jgrid.getAccessor(l,t[p]);m.push(Oc(g,C,p+v+z+s,r+u,l));o[H.p.colModel[p+v+z+s].name]=C}m.push(ab);if(H.p.grouping){for(var X=H.p.groupingView.groupField.length,M=[],L=0;L<X;L++)M.push(o[H.p.groupingView.groupField[L]]);D=c(H).jqGrid(dc,m,M,D,o);m=[]}if(F||H.p.treeGrid===b){o[G]=g;H.p.data.push(o);H.p._index[g]=H.p.data.length-1}if(H.p.gridview===a){c(j+c.jgrid.jqID(H.p.id)+R).append(m.join(e));V&&H.p.afterInsertRow.call(H,g,o,l);m=[]}o={};q++;r++;if(q==K)break}if(H.p.gridview===b){A=H.p.treeANode>h?H.p.treeANode:0;if(H.p.grouping){c(H).jqGrid(ec,D,H.p.colModel.length);D=d}else if(H.p.treeGrid===b&&A>0)c(H.rows[A]).after(m.join(e));else c(j+c.jgrid.jqID(H.p.id)+R).append(m.join(e))}if(H.p.subGrid===b)try{c(H).jqGrid(jb,v+s)}catch(eb){}H.p.totaltime=new Date-W;if(q>0)if(H.p.records===0)H.p.records=y;m=d;if(H.p.treeGrid===b)try{c(H).jqGrid(fc,A+1,q+A+1)}catch(db){}if(!H.p.treeGrid&&!H.p.scroll)H.grid.bDiv.scrollTop=0;H.p.reccount=q;H.p.treeANode=h;H.p.userDataOnFooter&&c(H).jqGrid(gc,Y,H.p.userData,b);if(F){H.p.records=y;H.p.lastpage=Math.ceil(y/K)}!Z&&H.updatepager(a,b);if(F)while(q<y&&w[q]){l=w[q];g=c.jgrid.getAccessor(l,n);if(g===undefined){g=U+q;if(B.length===0)if(i.cell){var P=c.jgrid.getAccessor(l,i.cell);g=P[n]||g;P=d}}if(l){g=H.p.idPrefix+g;if(i.repeatitems){if(i.cell)l=c.jgrid.getAccessor(l,i.cell);if(!t)t=Dc(v+z+s)}for(p=0;p<t.length;p++){C=c.jgrid.getAccessor(l,t[p]);o[H.p.colModel[p+v+z+s].name]=C}o[G]=g;H.p.data.push(o);H.p._index[g]=H.p.data.length-1;o={}}q++}},id=function(){var g="OR",j,u=a,i={},w=[],y=[],p,m,o;if(!c.isArray(H.p.data))return;var v=H.p.grouping?H.p.groupingView:a;c.each(H.p.colModel,function(){var a=this;m=a.sorttype||P;if(m==D||m==cb){if(a.formatter&&typeof a.formatter===s&&a.formatter==D){if(a.formatoptions&&a.formatoptions.srcformat)p=a.formatoptions.srcformat;else p=c.jgrid.formatter.date.srcformat;if(a.formatoptions&&a.formatoptions.newformat)o=a.formatoptions.newformat;else o=c.jgrid.formatter.date.newformat}else p=o=a.datefmt||db;i[a.name]={stype:m,srcfmt:p,newfmt:o}}else i[a.name]={stype:m,srcfmt:e,newfmt:e};if(H.p.grouping&&a.name==v.groupField[0]){var d=a.name;if(typeof a.index!=t)d=a.index;w[0]=i[d];y.push(d)}if(!u&&(a.index==H.p.sortname||a.name==H.p.sortname)){j=a.name;u=b}});if(H.p.treeGrid){c(H).jqGrid("SortTree",j,H.p.sortorder,i[j].stype,i[j].srcfmt);return}var r={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return b===g?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return b===g?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return b===g?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return b===g?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return b===g?a.orNot().isNull:a.andNot().isNull}},h=c.jgrid.from(H.p.data);if(H.p.ignoreCase)h=h.ignoreCase();function z(a){var e=0,b,f,k,j,d;if(a.groups!==undefined){f=a.groups.length&&a.groupOp.toString().toUpperCase()===g;f&&h.orBegin();for(b=0;b<a.groups.length;b++){e>0&&f&&h.or();try{z(a.groups[b])}catch(m){alert(m)}e++}f&&h.orEnd()}if(a.rules!==undefined){if(e>0){var l=h.select();h=c.jgrid.from(l);if(H.p.ignoreCase)h=h.ignoreCase()}try{k=a.rules.length&&a.groupOp.toString().toUpperCase()===g;k&&h.orBegin();for(b=0;b<a.rules.length;b++){d=a.rules[b];j=a.groupOp.toString().toUpperCase();if(r[d.op]&&d.field){if(e>0&&j&&j===g)h=h.or();h=r[d.op](h,j)(d.field,d.data,i[d.field])}e++}k&&h.orEnd()}catch(n){alert(n)}}}if(H.p.search===b){var n=H.p.postData.filters;if(n){if(typeof n==s)n=c.jgrid.parse(n);z(n)}else try{h=r[H.p.postData.searchOper](h)(H.p.postData.searchField,H.p.postData.searchString,i[H.p.postData.searchField])}catch(C){}}if(H.p.grouping){h.orderBy(y,v.groupOrder[0],w[0].stype,w[0].srcfmt);v.groupDataSorted=b}if(j&&H.p.sortorder&&u)if(H.p.sortorder.toUpperCase()=="DESC")h.orderBy(H.p.sortname,"d",i[j].stype,i[j].srcfmt);else h.orderBy(H.p.sortname,"a",i[j].stype,i[j].srcfmt);var l=h.select(),q=parseInt(H.p.rowNum,f),A=l.length,x=parseInt(H.p.page,f),B=Math.ceil(A/q),k={};l=l.slice((x-1)*q,x*q);h=d;i=d;k[H.p.localReader.total]=B;k[H.p.localReader.page]=x;k[H.p.localReader.records]=A;k[H.p.localReader.root]=l;k[H.p.localReader.userdata]=H.p.userData;l=d;return k},ld=function(E,D){var p=", #last_t",m=", #prev_t",k="#first_t",j=".ui-paging-info",r,w,d,u,t,v,s,q=e,z,g=H.p.pager?i+c.jgrid.jqID(H.p.pager.substr(1)):e,h=H.p.toppager?i+H.p.toppager.substr(1):e;d=parseInt(H.p.page,f)-1;if(d<0)d=0;d=d*parseInt(H.p.rowNum,f);t=d+H.p.reccount;if(H.p.scroll){var x=c("tbody:first > tr:gt(0)",H.grid.bDiv);d=t-x.length;H.p.reccount=x.length;var y=x.outerHeight()||H.grid.prevRowHeight;if(y){var A=d*y,C=parseInt(H.p.records,f)*y;c(Zb,H.grid.bDiv).css({height:C}).children(ac).css({height:A,display:A?e:B})}H.grid.bDiv.scrollLeft=H.grid.hDiv.scrollLeft}q=H.p.pager?H.p.pager:e;q+=H.p.toppager?q?","+H.p.toppager:H.p.toppager:e;if(q){s=c.jgrid.formatter.integer||{};r=yc(H.p.page);w=yc(H.p.lastpage);c(".selbox",q)[this.p.useProp?n:o]("disabled",a);if(H.p.pginput===b){c(".ui-pg-input",q).val(H.p.page);z=H.p.toppager?"#sp_1"+g+",#sp_1"+h:"#sp_1"+g;c(z).html(c.fmatter?c.fmatter.util.NumberFormat(H.p.lastpage,s):H.p.lastpage)}if(H.p.viewrecords)if(H.p.reccount===0)c(j,q).html(H.p.emptyrecords);else{u=d+1;v=H.p.records;if(c.fmatter){u=c.fmatter.util.NumberFormat(u,s);t=c.fmatter.util.NumberFormat(t,s);v=c.fmatter.util.NumberFormat(v,s)}c(j,q).html(c.jgrid.format(H.p.recordtext,u,t,v))}if(H.p.pgbuttons===b){if(r<=0)r=w=0;if(r==1||r===0){c(Jb+g+Kb+g).addClass(l).removeClass(hb);H.p.toppager&&c(k+h+m+h).addClass(l).removeClass(hb)}else{c(Jb+g+Kb+g).removeClass(l);H.p.toppager&&c(k+h+m+h).removeClass(l)}if(r==w||r===0){c("#next"+g+Lb+g).addClass(l).removeClass(hb);H.p.toppager&&c("#next_t"+h+p+h).addClass(l).removeClass(hb)}else{c("#next"+g+Lb+g).removeClass(l);H.p.toppager&&c("#next_t"+h+p+h).removeClass(l)}}}E===b&&H.p.rownumbers===b&&c("td.jqgrid-rownum",H.rows).each(function(a){c(this).html(d+1+a)});D&&H.p.jqgdnd&&c(H).jqGrid("gridDnD","updateDnD");c.isFunction(H.p.gridComplete)&&H.p.gridComplete.call(H)},Ec=function(){H.grid.hDiv.loading=b;if(H.p.hiddengrid)return;switch(H.p.loadui){case Mb:c(Eb+c.jgrid.jqID(H.p.id)).show();break;case Hb:c("#lui_"+c.jgrid.jqID(H.p.id)).show();c(Eb+c.jgrid.jqID(H.p.id)).show()}},xc=function(){H.grid.hDiv.loading=a;switch(H.p.loadui){case Mb:c(Eb+c.jgrid.jqID(H.p.id)).hide();break;case Hb:c("#lui_"+c.jgrid.jqID(H.p.id)).hide();c(Eb+c.jgrid.jqID(H.p.id)).hide()}},jc=function(f){if(!H.grid.hDiv.loading){var p=H.p.scroll&&f===a,g={},m,h,e=H.p.prmNames;if(H.p.page<=0)H.p.page=1;if(e.search!==d)g[e.search]=H.p.search;if(e.nd!==d)g[e.nd]=(new Date).getTime();if(e.rows!==d)g[e.rows]=H.p.rowNum;if(e.page!==d)g[e.page]=H.p.page;if(e.sort!==d)g[e.sort]=H.p.sortname;if(e.order!==d)g[e.order]=H.p.sortorder;if(H.p.rowTotal!==d&&e.totalrows!==d)g[e.totalrows]=H.p.rowTotal;var i=H.p.loadComplete,l=c.isFunction(i);if(!l)i=d;var j=0;f=f||1;if(f>1)if(e.npage!==d){g[e.npage]=f;j=f-1;f=1}else i=function(b){H.p.page++;H.grid.hDiv.loading=a;l&&H.p.loadComplete.call(H,b);jc(f-1)};else if(e.npage!==d)delete H.p.postData[e.npage];if(H.p.grouping){c(H).jqGrid("groupingSetup");if(H.p.groupingView.groupDataSorted===b)g[e.sort]=H.p.groupingView.groupField[0]+E+H.p.groupingView.groupOrder[0]+", "+g[e.sort]}c.extend(H.p.postData,g);var n=!H.p.scroll?1:H.rows.length-1;if(c.isFunction(H.p.datatype)){H.p.datatype.call(H,H.p.postData,"load_"+H.p.id);return}else if(c.isFunction(H.p.beforeRequest)){var o=H.p.beforeRequest.call(H);if(o===undefined)o=b;if(o===a)return}m=H.p.datatype.toLowerCase();switch(m){case"json":case"jsonp":case yb:case"script":c.ajax(c.extend({url:H.p.url,type:H.p.mtype,dataType:m,data:c.isFunction(H.p.serializeGridData)?H.p.serializeGridData.call(H,H.p.postData):H.p.postData,success:function(a,e,b){c.isFunction(H.p.beforeProcessing)&&H.p.beforeProcessing.call(H,a,e,b);if(m===yb)Mc(a,H.grid.bDiv,n,f>1,j);else Cc(a,H.grid.bDiv,n,f>1,j);i&&i.call(H,a);p&&H.grid.populateVisible();if(H.p.loadonce||H.p.treeGrid)H.p.datatype=k;a=d;f===1&&xc()},error:function(a,e,b){c.isFunction(H.p.loadError)&&H.p.loadError.call(H,a,e,b);f===1&&xc();a=d},beforeSend:function(f,e){var d=b;if(c.isFunction(H.p.loadBeforeSend))d=H.p.loadBeforeSend.call(H,f,e);if(d===undefined)d=b;if(d===a)return a;else Ec()}},c.jgrid.ajaxOptions,H.p.ajaxGridOptions));break;case bc:Ec();h=c.jgrid.stringToDoc(H.p.datastr);Mc(h,H.grid.bDiv);l&&H.p.loadComplete.call(H,h);H.p.datatype=k;H.p.datastr=d;xc();break;case hc:Ec();if(typeof H.p.datastr==s)h=c.jgrid.parse(H.p.datastr);else h=H.p.datastr;Cc(h,H.grid.bDiv);l&&H.p.loadComplete.call(H,h);H.p.datatype=k;H.p.datastr=d;xc();break;case k:case"clientside":Ec();H.p.datatype=k;var q=id();Cc(q,H.grid.bDiv,n,f>1,j);i&&i.call(H,q);p&&H.grid.populateVisible();xc()}}},Wc=function(k,h){var g=".ui-pg-selbox",f="<td id='",q="<td dir='",E="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",t=e,p="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",u=e,s,B,A,D,v,F,w,z=function(f){var e;if(c.isFunction(H.p.onPaging))e=H.p.onPaging.call(H,f);H.p.selrow=d;if(H.p.multiselect){H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a)}H.p.savedRow=[];return e=="stop"?a:b};k=k.substr(1);h+=i+k;s="pg_"+k;B=k+"_left";A=k+"_center";D=k+"_right";c(j+c.jgrid.jqID(k)).append(nc+s+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+B+"' align='left'></td><td id='"+A+"' align='center' style='white-space:pre;'></td><td id='"+D+"' align='right'></td></tr></tbody></table></div>").attr("dir",tb);if(H.p.rowList.length>0){u=q+Cb+Bb;u+="<select class='ui-pg-selbox' role='listbox'>";for(w=0;w<H.p.rowList.length;w++)u+='<option role="option" value="'+H.p.rowList[w]+m+(H.p.rowNum==H.p.rowList[w]?' selected="selected"':e)+y+H.p.rowList[w]+"</option>";u+="</select></td>"}if(Cb==ub)p+=u;if(H.p.pginput===b)t=q+Cb+Bb+c.jgrid.format(H.p.pgtext||e,"<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+c.jgrid.jqID(k)+oc)+J;if(H.p.pgbuttons===b){var x=[gb+h,"prev"+h,"next"+h,N+h];Cb==ub&&x.reverse();p+=f+x[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>";p+=f+x[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>";p+=t!==e?E+t+E:e;p+=f+x[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>";p+=f+x[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else if(t!==e)p+=t;if(Cb==tb)p+=u;p+=pc;H.p.viewrecords===b&&c("td#"+k+i+H.p.recordpos,j+s).append("<div dir='"+Cb+"' style='text-align:"+H.p.recordpos+"' class='ui-paging-info'></div>");c("td#"+k+i+H.p.pagerpos,j+s).append(p);F=c(".ui-jqgrid").css("font-size")||"11px";c(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+F+";visibility:hidden;' ></div>");v=c(p).clone().appendTo("#testpg").width();c("#testpg").remove();if(v>0){if(t!==e)v+=50;c("td#"+k+i+H.p.pagerpos,j+s).width(v)}H.p._nvtd=[];H.p._nvtd[0]=v?Math.floor((H.p.width-v)/2):Math.floor(H.p.width/3);H.p._nvtd[1]=0;p=d;c(g,j+s).bind("change",function(){var b=this;H.p.page=Math.round(H.p.rowNum*(H.p.page-1)/b.value-.5)+1;H.p.rowNum=b.value;if(h)c(g,H.p.pager).val(b.value);else H.p.toppager&&c(g,H.p.toppager).val(b.value);if(!z(Ob))return a;jc();return a});if(H.p.pgbuttons===b){c(".ui-pg-button",j+s).hover(function(){var a=this;if(c(a).hasClass(l))a.style.cursor=Fb;else{c(a).addClass(hb);a.style.cursor="pointer"}},function(){if(!c(this).hasClass(l)){c(this).removeClass(hb);this.style.cursor=Fb}});c(Jb+c.jgrid.jqID(h)+Kb+c.jgrid.jqID(h)+", #next"+c.jgrid.jqID(h)+Lb+c.jgrid.jqID(h)).click(function(){var f=this,c=yc(H.p.page,1),d=yc(H.p.lastpage,1),e=a,j=b,k=b,i=b,g=b;if(d===0||d===1){j=a;k=a;i=a;g=a}else if(d>1&&c>=1){if(c===1){j=a;k=a}else if(!(c>1&&c<d))if(c===d){i=a;g=a}}else if(d>1&&c===0){i=a;g=a;c=d-1}if(f.id===gb+h&&j){H.p.page=1;e=b}if(f.id==="prev"+h&&k){H.p.page=c-1;e=b}if(f.id==="next"+h&&i){H.p.page=c+1;e=b}if(f.id===N+h&&g){H.p.page=d;e=b}if(e){if(!z(f.id))return a;jc()}return a})}H.p.pginput===b&&c("input.ui-pg-input",j+s).keypress(function(b){var d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(d==13){H.p.page=c(this).val()>0?c(this).val():H.p.page;if(!z("user"))return a;jc();return a}return this})},Xc=function(g,e,p,m){var f="span.s-ico";if(!H.p.colModel[e].sortable)return;var q;if(H.p.savedRow.length>0)return;if(!p){if(H.p.lastsort==e){if(H.p.sortorder==M)H.p.sortorder=eb;else if(H.p.sortorder==eb)H.p.sortorder=M}else H.p.sortorder=H.p.colModel[e].firstsortorder||M;H.p.page=1}if(m)if(H.p.lastsort==e&&H.p.sortorder==m&&!p)return;else H.p.sortorder=m;var h=H.grid.headers[H.p.lastsort].el,i=H.grid.headers[e].el;c("span.ui-grid-ico-sort",h).addClass(l);c(h).attr(z,G);c("span.ui-icon-"+H.p.sortorder,i).removeClass(l);c(i).attr(z,Z);if(!H.p.viewsortcols[0])if(H.p.lastsort!=e){c(f,h).hide();c(f,i).show()}g=g.substring(5+H.p.id.length+1);H.p.sortname=H.p.colModel[e].index||g;q=H.p.sortorder;if(c.isFunction(H.p.onSortCol))if(H.p.onSortCol.call(H,g,e,q)=="stop"){H.p.lastsort=e;return}if(H.p.datatype==k)H.p.deselectAfterSort&&c(H).jqGrid(ic);else{H.p.selrow=d;H.p.multiselect&&c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a);H.p.selarrrow=[];H.p.savedRow=[]}if(H.p.scroll){var s=H.grid.bDiv.scrollLeft;vc(H.grid.bDiv,b,a);H.grid.hDiv.scrollLeft=s}H.p.subGrid&&H.p.datatype==k&&c("td.sgexpanded",j+c.jgrid.jqID(H.p.id)).each(function(){c(this).trigger(O)});jc();H.p.lastsort=e;if(H.p.sortname!=g&&e)H.p.lastsort=e},kd=function(){var d=0,e=Nc?0:H.p.cellLayout,g=0,k,l=H.p.scrollOffset,i,n=a,m,h=0,o=0,j;c.each(H.p.colModel,function(){var b=this;if(typeof b.hidden===t)b.hidden=a;b.widthOrg=i=yc(b.width,0);if(b.hidden===a){d+=i+e;if(b.fixed)h+=i+e;else g++;o++}});if(isNaN(H.p.width))H.p.width=K.width=d;else K.width=H.p.width;H.p.tblwidth=d;if(H.p.shrinkToFit===a&&H.p.forceFit===b)H.p.forceFit=a;if(H.p.shrinkToFit===b&&g>0){m=K.width-e*g-h;if(!isNaN(H.p.height)){m-=l;n=b}d=0;c.each(H.p.colModel,function(c){var b=this;if(b.hidden===a&&!b.fixed){i=Math.round(m*b.width/(H.p.tblwidth-e*g-h));b.width=i;d+=i;k=c}});j=0;if(n){if(K.width-h-(d+e*g)!==l)j=K.width-h-(d+e*g)-l}else if(!n&&Math.abs(K.width-h-(d+e*g))!==1)j=K.width-h-(d+e*g);H.p.colModel[k].width+=j;H.p.tblwidth=d+j+e*g+h;if(H.p.tblwidth>H.p.width){H.p.colModel[k].width-=H.p.tblwidth-parseInt(H.p.width,f);H.p.tblwidth=H.p.width}}},jd=function(c){for(var e=c,d=c,a=c+1;a<H.p.colModel.length;a++)if(H.p.colModel[a].hidden!==b){d=a;break}return d-e},md=function(i){var e="border-bottom-width",g,d={},h=Nc?0:H.p.cellLayout;d[0]=d[1]=d[2]=0;for(g=0;g<=i;g++)if(H.p.colModel[g].hidden===a)d[0]+=H.p.colModel[g].width+h;if(H.p.direction==ub)d[0]=H.p.width-d[0];d[0]=d[0]-H.grid.bDiv.scrollLeft;if(c(H.grid.cDiv).is(":visible"))d[1]+=c(H.grid.cDiv).height()+parseInt(c(H.grid.cDiv).css("padding-top"),f)+parseInt(c(H.grid.cDiv).css("padding-bottom"),f);if(H.p.toolbar[0]===b&&(H.p.toolbar[1]=="top"||H.p.toolbar[1]==bb))d[1]+=c(H.grid.uDiv).height()+parseInt(c(H.grid.uDiv).css("border-top-width"),f)+parseInt(c(H.grid.uDiv).css(e),f);if(H.p.toppager)d[1]+=c(H.grid.topDiv).height()+parseInt(c(H.grid.topDiv).css(e),f);d[2]+=c(H.grid.bDiv).height()+c(H.grid.hDiv).height();return d},Sc=function(e){for(var b=H.grid.headers,d=c.jgrid.getCellIndex(e),a=0;a<b.length;a++)if(e===b[a].el){d=a;break}return d};U.p.id=U.id;if(c.inArray(H.p.multikey,nd)==h)H.p.multikey=a;H.p.keyIndex=a;for(sb=0;sb<H.p.colModel.length;sb++){H.p.colModel[sb]=c.extend(b,{},H.p.cmTemplate,H.p.colModel[sb].template||{},H.p.colModel[sb]);if(H.p.keyIndex===a&&H.p.colModel[sb].key===b)H.p.keyIndex=sb}H.p.sortorder=H.p.sortorder.toLowerCase();if(H.p.grouping===b){H.p.scroll=a;H.p.rownumbers=a;H.p.subGrid=a;H.p.treeGrid=a;H.p.gridview=b}if(U.p.treeGrid===b){try{c(U).jqGrid("setTreeGrid")}catch(sd){}if(H.p.datatype!=k)H.p.localReader={id:Nb}}if(U.p.subGrid)try{c(H).jqGrid("setSubGrid")}catch(rd){}if(U.p.multiselect){U.p.colNames.unshift("<input role='checkbox' id='cb_"+U.p.id+"' class='cbox' type='checkbox'/>");U.p.colModel.unshift({name:W,width:Nc?H.p.multiselectWidth+H.p.cellLayout:H.p.multiselectWidth,sortable:a,resizable:a,hidedlg:b,search:a,align:Rb,fixed:b})}if(U.p.rownumbers){U.p.colNames.unshift(e);U.p.colModel.unshift({name:X,width:H.p.rownumWidth,sortable:a,resizable:a,hidedlg:b,search:a,align:Rb,fixed:b})}H.p.xmlReader=c.extend(b,{root:xb,row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:b,cell:Ab,id:"[id]",userdata:Sb,subgrid:{root:xb,row:"row",repeatitems:b,cell:Ab}},H.p.xmlReader);H.p.jsonReader=c.extend(b,{root:xb,page:Qb,total:"total",records:Ob,repeatitems:b,cell:Ab,id:rb,userdata:Sb,subgrid:{root:xb,repeatitems:b,cell:Ab}},H.p.jsonReader);H.p.localReader=c.extend(b,{root:xb,page:Qb,total:"total",records:Ob,repeatitems:a,cell:Ab,id:rb,userdata:Sb,subgrid:{root:xb,repeatitems:b,cell:Ab}},H.p.localReader);if(H.p.scroll){H.p.pgbuttons=a;H.p.pginput=a;H.p.rowList=[]}H.p.data.length&&Lc();var Vb="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",fd,ed,Kc,Ac,Ic,Db,vb,bd,Hc,cd=e,dd=e;if(H.p.shrinkToFit===b&&H.p.forceFit===b)for(sb=H.p.colModel.length-1;sb>=0;sb--)if(!H.p.colModel[sb].hidden){H.p.colModel[sb].resizable=a;break}if(H.p.viewsortcols[1]=="horizontal"){cd=" ui-i-asc";dd=" ui-i-desc"}fd=zc?"class='ui-th-div-ie'":e;Hc="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+cd+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+Cb+oc;Hc+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+dd+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+Cb+"'></span></span>";for(sb=0;sb<U.p.colNames.length;sb++){var od=H.p.headertitles?mc+c.jgrid.stripHtml(H.p.colNames[sb])+m:e;Vb+="<th id='"+H.p.id+i+H.p.colModel[sb].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+Cb+"'"+od+y;ed=H.p.colModel[sb].index||H.p.colModel[sb].name;Vb+="<div id='jqgh_"+H.p.id+i+H.p.colModel[sb].name+"' "+fd+y+H.p.colNames[sb];if(!H.p.colModel[sb].width)H.p.colModel[sb].width=150;else H.p.colModel[sb].width=parseInt(H.p.colModel[sb].width,f);if(typeof H.p.colModel[sb].title!==S)H.p.colModel[sb].title=b;if(ed==H.p.sortname)H.p.lastsort=sb;Vb+=Hc+"</div></th>"}Vb+="</tr></thead>";Hc=d;c(U).append(Vb);c("thead tr:first th",U).hover(function(){c(this).addClass(hb)},function(){c(this).removeClass(hb)});if(U.p.multiselect){var Qc=[],Jc;c(C+c.jgrid.jqID(H.p.id),U).bind(O,function(){H.p.selarrrow=[];if(this.checked){c(H.rows).each(function(d){var a=this;if(d>0)if(!c(a).hasClass(F)&&!c(a).hasClass("jqgroup")&&!c(a).hasClass(l)){c(w+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(a.id))[H.p.useProp?n:o](r,b);c(a).addClass(v).attr(z,Z);H.p.selarrrow.push(a.id);H.p.selrow=a.id}});Jc=b;Qc=[]}else{c(H.rows).each(function(d){var b=this;if(d>0)if(!c(b).hasClass(F)&&!c(b).hasClass(l)){c(w+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(b.id))[H.p.useProp?n:o](r,a);c(b).removeClass(v).attr(z,G);Qc.push(b.id)}});H.p.selrow=d;Jc=a}c.isFunction(H.p.onSelectAll)&&H.p.onSelectAll.call(H,Jc?H.p.selarrrow:Qc,Jc)})}if(H.p.autowidth===b){var hd=c(Bc).innerWidth();H.p.width=hd>0?hd:"nw"}kd();c(Bc).css(q,K.width+g).append("<div class='ui-jqgrid-resize-mark' id='rs_m"+H.p.id+"'>&#160;</div>");c(qc).css(q,K.width+g);Vb=c(qb,H).get(0);var Gc=e;if(H.p.footerrow)Gc+="<table role='grid' style='width:"+H.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+Cb+Bb;var gd=c("tr:first",Vb),Fc="<tr class='jqgfirstrow' role='row' style='height:auto'>";H.p.disableClick=a;c("th",gd).each(function(f){var j="div span.ui-icon-",i="div span.s-ico",h=this;Kc=H.p.colModel[f].width;if(typeof H.p.colModel[f].resizable===t)H.p.colModel[f].resizable=b;if(H.p.colModel[f].resizable){Ac=document.createElement(T);c(Ac).html(V).addClass("ui-jqgrid-resize ui-jqgrid-resize-"+Cb);!c.browser.opera&&c(Ac).css("cursor",Wb);c(h).addClass(H.p.resizeclass)}else Ac=e;c(h).css(q,Kc+g).prepend(Ac);var m=e;if(H.p.colModel[f].hidden){c(h).css(I,B);m=Xb}Fc+="<td role='gridcell' style='height:0px;width:"+Kc+"px;"+m+"'></td>";K.headers[f]={width:Kc,el:h};Ic=H.p.colModel[f].sortable;if(typeof Ic!==S){H.p.colModel[f].sortable=b;Ic=b}var k=H.p.colModel[f].name;if(!(k==W||k==fb||k==X))H.p.viewsortcols[2]&&c(wb,h).addClass("ui-jqgrid-sortable");if(Ic)if(H.p.viewsortcols[0]){c(i,h).show();f==H.p.lastsort&&c(j+H.p.sortorder,h).removeClass(l)}else if(f==H.p.lastsort){c(i,h).show();c(j+H.p.sortorder,h).removeClass(l)}if(H.p.footerrow)Gc+="<td role='gridcell' "+wc(f,0,e,d,e,a)+">&#160;</td>"}).mousedown(function(e){if(c(e.target).closest("th>span.ui-jqgrid-resize").length!=1)return;var d=Sc(this);if(H.p.forceFit===b)H.p.nv=jd(d);K.dragStart(d,e,md(d));return a}).click(function(i){if(H.p.disableClick){H.p.disableClick=a;return a}var f="th>div.ui-jqgrid-sortable",e,d;if(!H.p.viewsortcols[2])f="th>div>span>span.ui-grid-ico-sort";var g=c(i.target).closest(f);if(g.length!=1)return;var h=Sc(this);if(!H.p.viewsortcols[2]){e=b;d=g.attr("sort")}Xc(c(wb,this)[0].id,h,e,d);return a});if(H.p.sortable&&c.fn.sortable)try{c(H).jqGrid("sortableColumns",gd)}catch(qd){}if(H.p.footerrow)Gc+=pc;Fc+=ab;bd=document.createElement("tbody");U.appendChild(bd);c(U).addClass("ui-jqgrid-btable").append(Fc);Fc=d;var Zc=c("<table class='ui-jqgrid-htable' style='width:"+H.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+U.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(Vb),Pb=H.p.caption&&H.p.hiddengrid===b?b:a,uc=c(rc+(Cb==ub?Tb:e)+Ib);Vb=d;K.hDiv=document.createElement(wb);c(K.hDiv).css({width:K.width+g}).addClass("ui-state-default ui-jqgrid-hdiv").append(uc);c(uc).append(Zc);Zc=d;Pb&&c(K.hDiv).hide();if(H.p.pager){if(typeof H.p.pager==s){if(H.p.pager.substr(0,1)!=j)H.p.pager=j+H.p.pager}else H.p.pager=j+c(H.p.pager).attr(rb);c(H.p.pager).css({width:K.width+g}).appendTo(Bc).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");Pb&&c(H.p.pager).hide();Wc(H.p.pager,e)}H.p.cellEdit===a&&H.p.hoverrows===b&&c(H).bind("mouseover",function(a){vb=c(a.target).closest(zb);c(vb).attr("class")!==F&&c(vb).addClass(hb)}).bind("mouseout",function(a){vb=c(a.target).closest(zb);c(vb).removeClass(hb)});var lc,kc;c(H).before(K.hDiv).click(function(e){Db=e.target;vb=c(Db,H.rows).closest(zb);if(c(vb).length===0||vb[0].className.indexOf(l)>h)return this;var d=c(Db).hasClass("cbox"),f=b;if(c.isFunction(H.p.beforeSelectRow))f=H.p.beforeSelectRow.call(H,vb[0].id,e);if(Db.tagName=="A"||(Db.tagName=="INPUT"||Db.tagName=="TEXTAREA"||Db.tagName=="OPTION"||Db.tagName=="SELECT")&&!d)return this;if(f===b){if(H.p.cellEdit===b)if(H.p.multiselect&&d)c(H).jqGrid(u,vb[0].id,b);else{lc=vb[0].rowIndex;kc=c.jgrid.getCellIndex(Db);try{c(H).jqGrid("editCell",lc,kc,b)}catch(g){}}else if(!H.p.multikey)if(H.p.multiselect&&H.p.multiboxonly)if(d)c(H).jqGrid(u,vb[0].id,b);else{c(H.p.selarrrow).each(function(e,b){var d=H.rows.namedItem(b);c(d).removeClass(v);c(w+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(b))[H.p.useProp?n:o](r,a)});H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a);c(H).jqGrid(u,vb[0].id,b)}else c(H).jqGrid(u,vb[0].id,b);else if(e[H.p.multikey])c(H).jqGrid(u,vb[0].id,b);else if(H.p.multiselect&&d){d=c(w+c.jgrid.jqID(H.p.id)+i+vb[0].id).is(":checked");c(w+c.jgrid.jqID(H.p.id)+i+vb[0].id)[H.p.useProp?n:o](r,d)}if(c.isFunction(H.p.onCellSelect)){lc=vb[0].id;kc=c.jgrid.getCellIndex(Db);H.p.onCellSelect.call(H,lc,kc,c(Db).html(),e)}}return this}).bind("reloadGrid",function(g,f){if(H.p.treeGrid===b)H.p.datatype=H.p.treedatatype;f&&f.current&&H.grid.selectionPreserver(H);if(H.p.datatype==k){c(H).jqGrid(ic);H.p.data.length&&Lc()}else if(!H.p.treeGrid){H.p.selrow=d;if(H.p.multiselect){H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a)}H.p.savedRow=[]}H.p.scroll&&vc(H.grid.bDiv,b,a);if(f&&f.page){var e=f.page;if(e>H.p.lastpage)e=H.p.lastpage;if(e<1)e=1;H.p.page=e;if(H.grid.prevRowHeight)H.grid.bDiv.scrollTop=(e-1)*H.grid.prevRowHeight*H.p.rowNum;else H.grid.bDiv.scrollTop=0}if(H.grid.prevRowHeight&&H.p.scroll){delete H.p.lastpage;H.grid.populateVisible()}else H.grid.populate();return a});c.isFunction(U.p.ondblClickRow)&&c(U).dblclick(function(b){Db=b.target;vb=c(Db,H.rows).closest(zb);if(c(vb).length===0)return a;lc=vb[0].rowIndex;kc=c.jgrid.getCellIndex(Db);H.p.ondblClickRow.call(H,c(vb).attr(rb),lc,kc,b);return a});c.isFunction(U.p.onRightClickRow)&&c(U).bind("contextmenu",function(d){Db=d.target;vb=c(Db,H.rows).closest(zb);if(c(vb).length===0)return a;!H.p.multiselect&&c(H).jqGrid(u,vb[0].id,b);lc=vb[0].rowIndex;kc=c.jgrid.getCellIndex(Db);H.p.onRightClickRow.call(H,c(vb).attr(rb),lc,kc,d);return a});K.bDiv=document.createElement(wb);if(zc)if(String(H.p.height).toLowerCase()==="auto")H.p.height="100%";c(K.bDiv).append(c('<div style="position:relative;'+(zc&&c.browser.version<8?"height:0.01%;":e)+'"></div>').append("<div></div>").append(U)).addClass("ui-jqgrid-bdiv").css({height:H.p.height+(isNaN(H.p.height)?e:g),width:K.width+g}).scroll(K.scrollGrid);c(A,K.bDiv).css({width:H.p.tblwidth+g});if(zc){c("tbody",U).size()==2&&c("tbody:gt(0)",U).remove();H.p.multikey&&c(K.bDiv).bind(sc,function(){return a})}else H.p.multikey&&c(K.bDiv).bind("mousedown",function(){return a});Pb&&c(K.bDiv).hide();K.cDiv=document.createElement(wb);var Pc=H.p.hidegrid===b?c("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){Pc.addClass(hb)},function(){Pc.removeClass(hb)}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css(Cb==ub?"left":"right","0px"):e;c(K.cDiv).append(Pc).append("<span class='ui-jqgrid-title"+(Cb==ub?Tb:e)+Bb+H.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");c(K.cDiv).insertBefore(K.hDiv);if(H.p.toolbar[0]){K.uDiv=document.createElement(wb);if(H.p.toolbar[1]=="top")c(K.uDiv).insertBefore(K.hDiv);else H.p.toolbar[1]=="bottom"&&c(K.uDiv).insertAfter(K.hDiv);if(H.p.toolbar[1]==bb){K.ubDiv=document.createElement(wb);c(K.uDiv).insertBefore(K.hDiv).addClass(Ub).attr(rb,"t_"+U.id);c(K.ubDiv).insertAfter(K.hDiv).addClass(Ub).attr(rb,"tb_"+U.id);Pb&&c(K.ubDiv).hide()}else c(K.uDiv).width(K.width).addClass(Ub).attr(rb,"t_"+U.id);Pb&&c(K.uDiv).hide()}if(H.p.toppager){H.p.toppager=c.jgrid.jqID(H.p.id)+"_toppager";K.topDiv=c(nc+H.p.toppager+Ib)[0];H.p.toppager=j+H.p.toppager;c(K.topDiv).insertBefore(K.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(K.width);Wc(H.p.toppager,"_t")}if(H.p.footerrow){K.sDiv=c("<div class='ui-jqgrid-sdiv'></div>")[0];uc=c(rc+(Cb==ub?Tb:e)+Ib);c(K.sDiv).append(uc).insertAfter(K.hDiv).width(K.width);c(uc).append(Gc);K.footers=c(".ui-jqgrid-ftable",K.sDiv)[0].rows[0].cells;if(H.p.rownumbers)K.footers[0].className="ui-state-default jqgrid-rownum";Pb&&c(K.sDiv).hide()}uc=d;if(H.p.caption){var pd=H.p.datatype;if(H.p.hidegrid===b){c(tc,K.cDiv).click(function(l){var g=".ui-resizable-handle",f="ui-resizable",e="ui-icon-circle-triangle-s",d="ui-icon-circle-triangle-n",j=c.isFunction(H.p.onHeaderClick),i=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",h,k=this;if(H.p.toolbar[0]===b){if(H.p.toolbar[1]==bb)i+=", #"+c(K.ubDiv).attr(rb);i+=", #"+c(K.uDiv).attr(rb)}h=c(i,"#gview_"+c.jgrid.jqID(H.p.id)).length;if(H.p.gridstate==Gb)c(i,x+c.jgrid.jqID(H.p.id)).slideUp("fast",function(){h--;if(h===0){c(T,k).removeClass(d).addClass(e);H.p.gridstate="hidden";c(x+c.jgrid.jqID(H.p.id)).hasClass(f)&&c(g,x+c.jgrid.jqID(H.p.id)).hide();if(j)!Pb&&H.p.onHeaderClick.call(H,H.p.gridstate,l)}});else H.p.gridstate=="hidden"&&c(i,x+c.jgrid.jqID(H.p.id)).slideDown("fast",function(){h--;if(h===0){c(T,k).removeClass(e).addClass(d);if(Pb){H.p.datatype=pd;jc();Pb=a}H.p.gridstate=Gb;c(x+c.jgrid.jqID(H.p.id)).hasClass(f)&&c(g,x+c.jgrid.jqID(H.p.id)).show();if(j)!Pb&&H.p.onHeaderClick.call(H,H.p.gridstate,l)}});return a});if(Pb){H.p.datatype=k;c(tc,K.cDiv).trigger(O)}}}else c(K.cDiv).hide();c(K.hDiv).after(K.bDiv).mousemove(function(b){if(K.resizing){K.dragMove(b);return a}});c(".ui-jqgrid-labels",K.hDiv).bind(sc,function(){return a});c(document).mouseup(function(){if(K.resizing){K.dragEnd();return a}return b});H.formatCol=wc;H.sortData=Xc;H.updatepager=ld;H.refreshIndex=Lc;H.formatter=function(c,a,b,d,e){return Uc(c,a,b,d,e)};c.extend(K,{populate:jc,emptyRows:vc});U.grid=K;H.addXmlData=function(a){Mc(a,H.grid.bDiv)};H.addJSONData=function(a){Cc(a,H.grid.bDiv)};U.grid.cols=U.rows[0].cells;jc();H.p.hiddengrid=a;c(window).unload(function(){H=d})})};c.jgrid.extend({getGridParam:function(b){var a=this[0];return!a||!a.grid?void 0:!b?a.p:typeof a.p[b]!=t?a.p[b]:d},setGridParam:function(a){return this.each(function(){this.grid&&typeof a===H&&c.extend(b,this.p,a)})},getDataIDs:function(){var d=[],b=0,a,e=0;this.each(function(){a=this.rows.length;if(a&&a>0)while(b<a){if(c(this.rows[b]).hasClass(U)){d[e]=this.rows[b].id;e++}b++}});return d},setSelection:function(g,f){return this.each(function(){var j=this,m,k,q,s,p;if(g===undefined)return;f=f===a?a:b;k=j.rows.namedItem(g+e);if(!k||k.className.indexOf(l)>h)return;function t(e){var d=c(j.grid.bDiv)[0].clientHeight,b=c(j.grid.bDiv)[0].scrollTop,a=j.rows[e].offsetTop,f=j.rows[e].clientHeight;if(a+f>=d+b)c(j.grid.bDiv)[0].scrollTop=a-(d+b)+f+b;else if(a<d+b)if(a<b)c(j.grid.bDiv)[0].scrollTop=a}if(j.p.scrollrows===b){q=j.rows.namedItem(g).rowIndex;q>=0&&t(q)}if(!j.p.multiselect){if(k.className!==F){if(j.p.selrow!=k.id){c(j.rows.namedItem(j.p.selrow)).removeClass(v).attr({"aria-selected":G,tabindex:"-1"});c(k).addClass(v).attr({"aria-selected":Z,tabindex:L});m=b}else m=a;j.p.selrow=k.id;j.p.onSelectRow&&f&&j.p.onSelectRow.call(j,k.id,m)}}else{c(C+c.jgrid.jqID(j.p.id),j.grid.hDiv)[j.p.useProp?n:o](r,a);j.p.selrow=k.id;s=c.inArray(j.p.selrow,j.p.selarrrow);if(s===h){k.className!==F&&c(k).addClass(v).attr(z,Z);m=b;c(w+c.jgrid.jqID(j.p.id)+i+c.jgrid.jqID(j.p.selrow))[j.p.useProp?n:o](r,m);j.p.selarrrow.push(j.p.selrow)}else{k.className!==F&&c(k).removeClass(v).attr(z,G);m=a;c(w+c.jgrid.jqID(j.p.id)+i+c.jgrid.jqID(j.p.selrow))[j.p.useProp?n:o](r,m);j.p.selarrrow.splice(s,1);p=j.p.selarrrow[0];j.p.selrow=p===undefined?d:p}j.p.onSelectRow&&f&&j.p.onSelectRow.call(j,k.id,m)}})},resetSelection:function(e){return this.each(function(){var h=" tbody:first tr#",g=this,l,k;if(typeof e!==t){k=e===g.p.selrow?g.p.selrow:e;c(j+c.jgrid.jqID(g.p.id)+h+c.jgrid.jqID(k)).removeClass(v).attr(z,G);if(g.p.multiselect){c(w+c.jgrid.jqID(g.p.id)+i+c.jgrid.jqID(k))[g.p.useProp?n:o](r,a);c(C+c.jgrid.jqID(g.p.id))[g.p.useProp?n:o](r,a)}k=d}else if(!g.p.multiselect){if(g.p.selrow){c(j+c.jgrid.jqID(g.p.id)+h+c.jgrid.jqID(g.p.selrow)).removeClass(v).attr(z,G);g.p.selrow=d}}else{c(g.p.selarrrow).each(function(d,b){l=g.rows.namedItem(b);c(l).removeClass(v).attr(z,G);c(w+c.jgrid.jqID(g.p.id)+i+c.jgrid.jqID(b))[g.p.useProp?n:o](r,a)});c(C+c.jgrid.jqID(g.p.id))[g.p.useProp?n:o](r,a);g.p.selarrrow=[]}if(g.p.cellEdit===b)if(parseInt(g.p.iCol,f)>=0&&parseInt(g.p.iRow,f)>=0){c(K+g.p.iCol+p,g.rows[g.p.iRow]).removeClass("edit-cell ui-state-highlight");c(g.rows[g.p.iRow]).removeClass("selected-row ui-state-hover")}g.p.savedRow=[]})},getRowData:function(i){var d={},e,f=a,g,h=0;this.each(function(){var j=this,a,k;if(typeof i==t){f=b;e=[];g=j.rows.length}else{k=j.rows.namedItem(i);if(!k)return d;g=2}while(h<g){if(f)k=j.rows[h];if(c(k).hasClass(U)){c("td",k).each(function(e){a=j.p.colModel[e].name;if(a!==W&&a!==fb&&a!==X)if(j.p.treeGrid===b&&a==j.p.ExpandColumn)d[a]=c.jgrid.htmlDecode(c("span:first",this).html());else try{d[a]=c.unformat(this,{rowId:k.id,colModel:j.p.colModel[e]},e)}catch(f){d[a]=c.jgrid.htmlDecode(c(this).html())}});if(f){e.push(d);d={}}}h++}});return e?e:d},delRowData:function(f){var g=a,e,i,j;this.each(function(){var l=this;e=l.rows.namedItem(f);if(!e)return a;else{j=e.rowIndex;c(e).remove();l.p.records--;l.p.reccount--;l.updatepager(b,a);g=b;if(l.p.multiselect){i=c.inArray(f,l.p.selarrrow);i!=h&&l.p.selarrrow.splice(i,1)}if(f==l.p.selrow)l.p.selrow=d}if(l.p.datatype==k){var m=l.p._index[f];if(typeof m!=t){l.p.data.splice(m,1);l.refreshIndex()}}if(l.p.altRows===b&&g){var n=l.p.altclass;c(l.rows).each(function(a){if(a%2==1)c(this).addClass(n);else c(this).removeClass(n)})}});return g},setRowData:function(h,f,j){var e,g=b,i;this.each(function(){if(!this.grid)return a;var l=this,o,m,u=typeof j,n={};m=l.rows.namedItem(h);if(!m)return a;if(f)try{c(this.p.colModel).each(function(d){var a=this;e=a.name;if(f[e]!==undefined){n[e]=a.formatter&&typeof a.formatter===s&&a.formatter==D?c.unformat.date(f[e],a):f[e];o=l.formatter(h,f[e],d,f,Q);i=a.title?{title:c.jgrid.stripHtml(o)}:{};if(l.p.treeGrid===b&&e==l.p.ExpandColumn)c(K+d+") > span:first",m).html(o).attr(i);else c(K+d+p,m).html(o).attr(i)}});if(l.p.datatype==k){var q=l.p._index[h];if(l.p.treeGrid)for(var r in l.p.treeReader)if(n.hasOwnProperty(l.p.treeReader[r]))delete n[l.p.treeReader[r]];if(typeof q!=t)l.p.data[q]=c.extend(b,l.p.data[q],n);n=d}}catch(v){g=a}if(g)if(u===s)c(m).addClass(j);else u===H&&c(m).css(j)});return g},addRowData:function(f,l,w,G){if(!w)w=N;var C=a,q,h,p,B,m,g,r,z,n=e,u,v,x,j,o;if(l){if(c.isArray(l)){u=b;w=N;v=f}else{l=[l];u=a}this.each(function(){var I='<td role="gridcell" aria-describedby="',H=this,O=l.length;m=H.p.rownumbers===b?1:0;p=H.p.multiselect===b?1:0;B=H.p.subGrid===b?1:0;if(!u)if(typeof f!=t)f=f+e;else{f=c.jgrid.randId();if(H.p.keyIndex!==a){v=H.p.colModel[H.p.keyIndex+p+B+m].name;if(typeof l[0][v]!=t)f=l[0][v]}}x=H.p.altclass;var L=0,M=e,K={},P=c.isFunction(H.p.afterInsertRow)?b:a;while(L<O){j=l[L];h=e;if(u){try{f=j[v]}catch(R){f=c.jgrid.randId()}M=H.p.altRows===b?(H.rows.length-1)%2===0?x:e:e}f=H.p.idPrefix+f;if(m){n=H.formatCol(0,1,e,d,f,b);h+=I+H.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+n+">0</td>"}if(p){z=lb+mb+H.p.id+i+f+'" class="cbox"/>';n=H.formatCol(m,1,e,d,f,b);h+=I+H.p.id+'_cb" '+n+y+z+J}if(B)h+=c(H).jqGrid(ib,p+m,1);for(r=p+B+m;r<H.p.colModel.length;r++){o=H.p.colModel[r];q=o.name;K[q]=o.formatter&&typeof o.formatter===s&&o.formatter==D?c.unformat.date(j[q],o):j[q];z=H.formatter(f,c.jgrid.getAccessor(j,q),r,j,Q);n=H.formatCol(r,1,z,j,f,b);h+=I+H.p.id+i+q+'" '+n+y+z+J}h='<tr id="'+f+'" role="row" tabindex="-1" class="ui-widget-content jqgrow ui-row-'+H.p.direction+E+M+'">'+h+ab;if(H.rows.length===0)c(A,H.grid.bDiv).append(h);else switch(w){case N:c(H.rows[H.rows.length-1]).after(h);g=H.rows.length-1;break;case gb:c(H.rows[0]).after(h);g=1;break;case"after":g=H.rows.namedItem(G);if(g)if(c(H.rows[g.rowIndex+1]).hasClass(F))c(H.rows[g.rowIndex+1]).after(h);else c(g).after(h);g++;break;case"before":g=H.rows.namedItem(G);if(g){c(g).before(h);g=g.rowIndex}g--}H.p.subGrid===b&&c(H).jqGrid(jb,p+m,g);H.p.records++;H.p.reccount++;P&&H.p.afterInsertRow.call(H,f,j,j);L++;if(H.p.datatype==k){K[H.p.localReader.id]=f;H.p._index[f]=H.p.data.length;H.p.data.push(K);K={}}}if(H.p.altRows===b&&!u)if(w==N)(H.rows.length-1)%2==1&&c(H.rows[H.rows.length-1]).addClass(x);else c(H.rows).each(function(a){if(a%2==1)c(this).addClass(x);else c(this).removeClass(x)});H.updatepager(b,b);C=b})}return C},footerData:function(d,f,i){var g,h=a,k={},j;function l(c){for(var d in c)if(c.hasOwnProperty(d))return a;return b}if(typeof d==t)d="get";if(typeof i!=S)i=b;d=d.toLowerCase();this.each(function(){var m=this,n;if(!m.grid||!m.p.footerrow)return a;if(d==Y)if(l(f))return a;h=b;c(this.p.colModel).each(function(a){g=this.name;if(d==Y){if(f[g]!==undefined){n=i?m.formatter(e,f[g],a,f,Q):f[g];j=this.title?{title:c.jgrid.stripHtml(n)}:{};c(hb+a+p,m.grid.sDiv).html(n).attr(j);h=b}}else if(d=="get")k[g]=c(hb+a+p,m.grid.sDiv).html()})});return d=="get"?k:h},showHideCol:function(g,d){return this.each(function(){var i=this,k=a,l=c.browser.webkit||c.browser.safari?0:i.p.cellLayout,j;if(!i.grid)return;if(typeof g===s)g=[g];d=d!=B?e:B;var n=d===e?b:a,m=i.p.groupHeader&&(typeof i.p.groupHeader===H||c.isFunction(i.p.groupHeader));m&&c(i).jqGrid("destroyGroupHeader",a);c(this.p.colModel).each(function(e){var a=this;if(c.inArray(a.name,g)!==h&&a.hidden===n){c("tr",i.grid.hDiv).each(function(){c(this.cells[e]).css(I,d)});c(i.rows).each(function(){c(this.cells[e]).css(I,d)});i.p.footerrow&&c(hb+e+p,i.grid.sDiv).css(I,d);j=a.widthOrg?a.widthOrg:parseInt(a.width,f);if(d===B)i.p.tblwidth-=j+l;else i.p.tblwidth+=j+l;a.hidden=!n;k=b}});k===b&&c(i).jqGrid("setGridWidth",i.p.shrinkToFit===b?i.p.tblwidth:i.p.width);m&&c(i).jqGrid("setGroupHeaders",i.p.groupHeader)})},hideCol:function(a){return this.each(function(){c(this).jqGrid(pb,a,B)})},showCol:function(a){return this.each(function(){c(this).jqGrid(pb,a,e)})},remapColumns:function(b,g,h){function d(a){var d;if(a.length)d=c.makeArray(a);else d=c.extend({},a);c.each(b,function(b){a[b]=d[this]})}var a=this.get(0);function f(a,d){c(">tr"+(d||e),a).each(function(){var a=this,d=c.makeArray(a.cells);c.each(b,function(){var b=d[this];b&&a.appendChild(b)})})}d(a.p.colModel);d(a.p.colNames);d(a.grid.headers);f(c(qb,a.grid.hDiv),h&&":not(.ui-jqgrid-labels)");g&&f(c(j+c.jgrid.jqID(a.p.id)+R),".jqgfirstrow, tr.jqgrow, tr.jqfoot");a.p.footerrow&&f(c(kb,a.grid.sDiv));if(a.p.remapColumns)if(!a.p.remapColumns.length)a.p.remapColumns=c.makeArray(b);else d(a.p.remapColumns);a.p.lastsort=c.inArray(a.p.lastsort,b);if(a.p.treeGrid)a.p.expColInd=c.inArray(a.p.expColInd,b)},setGridWidth:function(d,e){return this.each(function(){if(!this.grid)return;var h=this,i,k=0,l=c.browser.webkit||c.browser.safari?0:h.p.cellLayout,j,m=0,t=a,p=h.p.scrollOffset,r,n=0,v=0,o;if(typeof e!=S)e=h.p.shrinkToFit;if(isNaN(d))return;else{d=parseInt(d,f);h.grid.width=h.p.width=d}c(x+c.jgrid.jqID(h.p.id)).css(q,d+g);c("#gview_"+c.jgrid.jqID(h.p.id)).css(q,d+g);c(h.grid.bDiv).css(q,d+g);c(h.grid.hDiv).css(q,d+g);h.p.pager&&c(h.p.pager).css(q,d+g);h.p.toppager&&c(h.p.toppager).css(q,d+g);if(h.p.toolbar[0]===b){c(h.grid.uDiv).css(q,d+g);h.p.toolbar[1]==bb&&c(h.grid.ubDiv).css(q,d+g)}h.p.footerrow&&c(h.grid.sDiv).css(q,d+g);if(e===a&&h.p.forceFit===b)h.p.forceFit=a;if(e===b){c.each(h.p.colModel,function(){var b=this;if(b.hidden===a){i=b.widthOrg?b.widthOrg:parseInt(b.width,f);k+=i+l;if(b.fixed)n+=i+l;else m++;v++}});if(m===0)return;h.p.tblwidth=k;r=d-l*m-n;if(!isNaN(h.p.height))if(c(h.grid.bDiv)[0].clientHeight<c(h.grid.bDiv)[0].scrollHeight||h.rows.length===1){t=b;r-=p}k=0;var s=h.grid.cols.length>0;c.each(h.p.colModel,function(c){var b=this;if(b.hidden===a&&!b.fixed){i=b.widthOrg?b.widthOrg:parseInt(b.width,f);i=Math.round(r*i/(h.p.tblwidth-l*m-n));if(i<0)return;b.width=i;k+=i;h.grid.headers[c].width=i;h.grid.headers[c].el.style.width=i+g;if(h.p.footerrow)h.grid.footers[c].style.width=i+g;if(s)h.grid.cols[c].style.width=i+g;j=c}});if(!j)return;o=0;if(t){if(d-n-(k+l*m)!==p)o=d-n-(k+l*m)-p}else if(Math.abs(d-n-(k+l*m))!==1)o=d-n-(k+l*m);h.p.colModel[j].width+=o;h.p.tblwidth=k+o+l*m+n;if(h.p.tblwidth>d){var u=h.p.tblwidth-parseInt(d,f);h.p.tblwidth=d;i=h.p.colModel[j].width=h.p.colModel[j].width-u}else i=h.p.colModel[j].width;h.grid.headers[j].width=i;h.grid.headers[j].el.style.width=i+g;if(s)h.grid.cols[j].style.width=i+g;if(h.p.footerrow)h.grid.footers[j].style.width=i+g}if(h.p.tblwidth){c(A,h.grid.bDiv).css(q,h.p.tblwidth+g);c(A,h.grid.hDiv).css(q,h.p.tblwidth+g);h.grid.hDiv.scrollLeft=h.grid.bDiv.scrollLeft;h.p.footerrow&&c(A,h.grid.sDiv).css(q,h.p.tblwidth+g)}})},setGridHeight:function(a){return this.each(function(){var b=this;if(!b.grid)return;c(b.grid.bDiv).css({height:a+(isNaN(a)?e:g)});b.p.height=a;b.p.scroll&&b.grid.populateVisible()})},setCaption:function(a){return this.each(function(){this.p.caption=a;c("span.ui-jqgrid-title",this.grid.cDiv).html(a);c(this.grid.cDiv).show()})},setLabel:function(e,d,b,f){return this.each(function(){var j=this,i=h;if(!j.grid)return;if(typeof e!=t)c(j.p.colModel).each(function(b){if(this.name==e){i=b;return a}});else return;if(i>=0){var g=c("tr.ui-jqgrid-labels th:eq("+i+p,j.grid.hDiv);if(d){var k=c(".s-ico",g);c("[id^=jqgh_]",g).empty().html(d).append(k);j.p.colNames[i]=d}if(b)if(typeof b===s)c(g).addClass(b);else c(g).css(b);typeof f===H&&c(g).attr(f)}})},setCell:function(j,i,d,g,l,m){return this.each(function(){var n=this,o=h,u,w;if(!n.grid)return;if(isNaN(i))c(n.p.colModel).each(function(b){if(this.name==i){o=b;return a}});else o=parseInt(i,f);if(o>=0){var x=n.rows.namedItem(j);if(x){var q=c(K+o+p,x);if(d!==e||m===b){u=n.formatter(j,d,o,x,Q);w=n.p.colModel[o].title?{title:c.jgrid.stripHtml(u)}:{};if(n.p.treeGrid&&c(".tree-wrap",c(q)).length>0)c(T,c(q)).html(u).attr(w);else c(q).html(u).attr(w);if(n.p.datatype==k){var r=n.p.colModel[o],v;d=r.formatter&&typeof r.formatter===s&&r.formatter==D?c.unformat.date(d,r):d;v=n.p._index[j];if(typeof v!=t)n.p.data[v][r.name]=d}}if(typeof g===s)c(q).addClass(g);else g&&c(q).css(g);typeof l===H&&c(q).attr(l)}}})},getCell:function(e,b){var d=a;this.each(function(){var j=this,g=h;if(!j.grid)return;if(isNaN(b))c(j.p.colModel).each(function(c){if(this.name===b){g=c;return a}});else g=parseInt(b,f);if(g>=0){var i=j.rows.namedItem(e);if(i)try{d=c.unformat(c(K+g+p,i),{rowId:i.id,colModel:j.p.colModel[g]},g)}catch(k){d=c.jgrid.htmlDecode(c(K+g+p,i).html())}}});return d},getCol:function(j,g,d){var b=[],e,m=0,l=0,k=0,i;g=typeof g!=S?a:g;if(typeof d==t)d=a;this.each(function(){var n=this,o=h;if(!n.grid)return;if(isNaN(j))c(n.p.colModel).each(function(b){if(this.name===j){o=b;return a}});else o=parseInt(j,f);if(o>=0){var q=n.rows.length,p=0;if(q&&q>0){while(p<q){if(c(n.rows[p]).hasClass(U)){try{e=c.unformat(c(n.rows[p].cells[o]),{rowId:n.rows[p].id,colModel:n.p.colModel[o]},o)}catch(r){e=c.jgrid.htmlDecode(n.rows[p].cells[o].innerHTML)}if(d){i=parseFloat(e);m+=i;l=Math.min(l,i);k=Math.max(k,i)}else if(g)b.push({id:n.rows[p].id,value:e});else b.push(e)}p++}if(d)switch(d.toLowerCase()){case"sum":b=m;break;case"avg":b=m/q;break;case"count":b=q;break;case"min":b=l;break;case"max":b=k}}}});return b},clearGridData:function(e){return this.each(function(){var f=this;if(!f.grid)return;if(typeof e!=S)e=a;if(f.p.deepempty)c(j+c.jgrid.jqID(f.p.id)+nb).remove();else{var g=c(j+c.jgrid.jqID(f.p.id)+ob)[0];c(j+c.jgrid.jqID(f.p.id)+R).empty().append(g)}f.p.footerrow&&e&&c(".ui-jqgrid-ftable td",f.grid.sDiv).html(V);f.p.selrow=d;f.p.selarrrow=[];f.p.savedRow=[];f.p.records=0;f.p.page=1;f.p.lastpage=0;f.p.reccount=0;f.p.data=[];f.p._index={};f.updatepager(b,a)})},getInd:function(e,f){var d=a,c;this.each(function(){c=this.rows.namedItem(e);if(c)d=f===b?c:c.rowIndex});return d},bindKeys:function(f){var a=c.extend({onEnter:d,onSpace:d,onLeftKey:d,onRightKey:d,scrollingRows:b},f||{});return this.each(function(){var b=this;!c("body").is("[role]")&&c("body").attr("role","application");b.p.scrollrows=a.scrollingRows;c(b).keydown(function(g){var h="div.treeclick",f=":hidden",j=c(b).find("tr[tabindex=0]")[0],i,d,k,l=b.p.treeReader.expanded_field;if(j){k=b.p._index[j.id];if(g.keyCode===37||g.keyCode===38||g.keyCode===39||g.keyCode===40){if(g.keyCode===38){d=j.previousSibling;i=e;if(d)if(c(d).is(f))while(d){d=d.previousSibling;if(!c(d).is(f)&&c(d).hasClass(U)){i=d.id;break}}else i=d.id;c(b).jqGrid(u,i)}if(g.keyCode===40){d=j.nextSibling;i=e;if(d)if(c(d).is(f))while(d){d=d.nextSibling;if(!c(d).is(f)&&c(d).hasClass(U)){i=d.id;break}}else i=d.id;c(b).jqGrid(u,i)}if(g.keyCode===37){b.p.treeGrid&&b.p.data[k][l]&&c(j).find(h).trigger(O);c.isFunction(a.onLeftKey)&&a.onLeftKey.call(b,b.p.selrow)}if(g.keyCode===39){b.p.treeGrid&&!b.p.data[k][l]&&c(j).find(h).trigger(O);c.isFunction(a.onRightKey)&&a.onRightKey.call(b,b.p.selrow)}}else if(g.keyCode===13)c.isFunction(a.onEnter)&&a.onEnter.call(b,b.p.selrow);else if(g.keyCode===32)c.isFunction(a.onSpace)&&a.onSpace.call(b,b.p.selrow)}})})},unbindKeys:function(){return this.each(function(){var a=this;c(a).unbind("keydown")})},getLocalRow:function(c){var d=a,b;this.each(function(){if(typeof c!==t){b=this.p._index[c];if(b>=0)d=this.p.data[b]}});return d}})})(jQuery);(function(a){var n="span.ui-jqgrid-resize",m="rowheader",k="<tr>",l="undefined",h="none",i="display",e="setGridParam",d="",g=null,f="#gbox_",b=true,j="boolean",c=false;a.jgrid.extend({getColProp:function(f){var d={},e=this[0];if(!e.grid)return c;for(var b=e.p.colModel,a=0;a<b.length;a++)if(b[a].name==f){d=b[a];break}return d},setColProp:function(c,b){return this.each(function(){if(this.grid)if(b)for(var e=this.p.colModel,d=0;d<e.length;d++)if(e[d].name==c){a.extend(this.p.colModel[d],b);break}})},sortGrid:function(a,d,e){return this.each(function(){var f=this,h=-1;if(!f.grid)return;if(!a)a=f.p.sortname;for(var g=0;g<f.p.colModel.length;g++)if(f.p.colModel[g].index==a||f.p.colModel[g].name==a){h=g;break}if(h!=-1){var i=f.p.colModel[h].sortable;if(typeof i!==j)i=b;if(typeof d!==j)d=c;i&&f.sortData("jqgh_"+f.p.id+"_"+a,h,d,e)}})},GridDestroy:function(){return this.each(function(){var b=this;if(b.grid){b.p.pager&&a(b.p.pager).remove();var c=b.id;try{a(f+c).remove()}catch(d){}}})},GridUnload:function(){return this.each(function(){var b=this;if(!b.grid)return;var e={id:a(b).attr("id"),cl:a(b).attr("class")};b.p.pager&&a(b.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var c=document.createElement("table");a(c).attr({id:e.id});c.className=e.cl;var d=b.id;a(c).removeClass("ui-jqgrid-btable");if(a(b.p.pager).parents(f+d).length===1){a(c).insertBefore(f+d).show();a(b.p.pager).insertBefore(f+d)}else a(c).insertBefore(f+d).show();a(f+d).remove()})},setGridState:function(c){return this.each(function(){var j="ui-icon-circle-triangle-s",i="ui-icon-circle-triangle-n",h=".ui-jqgrid-titlebar-close span",g=".ui-jqgrid-sdiv",d="fast";if(!this.grid)return;var e=this;if(c=="hidden"){a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.p.id).slideUp(d);e.p.pager&&a(e.p.pager).slideUp(d);e.p.toppager&&a(e.p.toppager).slideUp(d);if(e.p.toolbar[0]===b){e.p.toolbar[1]=="both"&&a(e.grid.ubDiv).slideUp(d);a(e.grid.uDiv).slideUp(d)}e.p.footerrow&&a(g,f+e.p.id).slideUp(d);a(h,e.grid.cDiv).removeClass(i).addClass(j);e.p.gridstate="hidden"}else if(c=="visible"){a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.p.id).slideDown(d);e.p.pager&&a(e.p.pager).slideDown(d);e.p.toppager&&a(e.p.toppager).slideDown(d);if(e.p.toolbar[0]===b){e.p.toolbar[1]=="both"&&a(e.grid.ubDiv).slideDown(d);a(e.grid.uDiv).slideDown(d)}e.p.footerrow&&a(g,f+e.p.id).slideDown(d);a(h,e.grid.cDiv).removeClass(j).addClass(i);e.p.gridstate="visible"}})},filterToolbar:function(f){f=a.extend({autosearch:b,searchOnEnter:b,beforeSearch:g,afterSearch:g,beforeClear:g,afterClear:g,searchurl:d,stringResult:c,groupOp:"AND",defaultSearch:"bw"},f||{});return this.each(function(){var x="reloadGrid",w="searchOper",v="searchString",u="searchField",r='"data":"',o='",',q='{"field":"',t='","rules":[',s='{"groupOp":"',p="text",n="#gs_",k="select",y=this,m=y;if(y.ftoolbar)return;var z=function(){var j={},A=0,i,g,z={},l;a.each(m.p.colModel,function(){var b=this;g=b.index||b.name;switch(b.stype){case k:l=b.searchoptions&&b.searchoptions.sopt?b.searchoptions.sopt[0]:"eq";i=a(n+a.jgrid.jqID(b.name),m.grid.hDiv).val();if(i){j[g]=i;z[g]=l;A++}else try{delete m.p.postData[g]}catch(c){}break;case p:l=b.searchoptions&&b.searchoptions.sopt?b.searchoptions.sopt[0]:f.defaultSearch;i=a(n+a.jgrid.jqID(b.name),m.grid.hDiv).val();if(i){j[g]=i;z[g]=l;A++}else try{delete m.p.postData[g]}catch(h){}}});var D=A>0?b:c;if(f.stringResult===b||m.p.datatype=="local"){var h=s+f.groupOp+t,C=0;a.each(j,function(a,b){if(C>0)h+=",";h+=q+a+o;h+='"op":"'+z[a]+o;b+=d;h+=r+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';C++});h+="]}";a.extend(m.p.postData,{filters:h});a.each([u,v,w],function(b,a){if(m.p.postData.hasOwnProperty(a))delete m.p.postData[a]})}else a.extend(m.p.postData,j);var y;if(m.p.searchurl){y=m.p.url;a(m).jqGrid(e,{url:m.p.searchurl})}var B=c;if(a.isFunction(f.beforeSearch))B=f.beforeSearch.call(m);!B&&a(m).jqGrid(e,{search:D}).trigger(x,[{page:1}]);y&&a(m).jqGrid(e,{url:y});a.isFunction(f.afterSearch)&&f.afterSearch()},E=function(l){var y={},i,A=0,g;l=typeof l!=j?b:l;a.each(m.p.colModel,function(){var e=this;i=e.searchoptions&&e.searchoptions.defaultValue?e.searchoptions.defaultValue:d;g=e.index||e.name;switch(e.stype){case k:var f;a(n+a.jgrid.jqID(g)+" option",m.grid.hDiv).each(function(e){var d=this;if(e===0)d.selected=b;if(a(d).text()==i){d.selected=b;f=a(d).val();return c}});if(f){y[g]=f;A++}else try{delete m.p.postData[g]}catch(h){}break;case p:a(n+a.jgrid.jqID(g),m.grid.hDiv).val(i);if(i){y[g]=i;A++}else try{delete m.p.postData[g]}catch(o){}}});var D=A>0?b:c;if(f.stringResult===b||m.p.datatype=="local"){var h=s+f.groupOp+t,C=0;a.each(y,function(b,a){if(C>0)h+=",";h+=q+b+o;h+='"op":"eq'+o;a+=d;h+=r+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';C++});h+="]}";a.extend(m.p.postData,{filters:h});a.each([u,v,w],function(b,a){if(m.p.postData.hasOwnProperty(a))delete m.p.postData[a]})}else a.extend(m.p.postData,y);var z;if(m.p.searchurl){z=m.p.url;a(m).jqGrid(e,{url:m.p.searchurl})}var B=c;if(a.isFunction(f.beforeClear))B=f.beforeClear.call(m);if(!B)l&&a(m).jqGrid(e,{search:D}).trigger(x,[{page:1}]);z&&a(m).jqGrid(e,{url:z});a.isFunction(f.afterClear)&&f.afterClear()},D=function(){var b=a("tr.ui-search-toolbar",m.grid.hDiv);if(b.css(i)==h)b.show();else b.hide()};function A(c,d){var b=a(c);b[0]&&jQuery.each(d,function(){var a=this;if(a.data!==undefined)b.bind(a.type,a.data,a.fn);else b.bind(a.type,a.fn)})}var C=a("<tr class='ui-search-toolbar' role='rowheader'></tr>"),B;a.each(m.p.colModel,function(){var j="input",o=this,n=o,s,v,e,w,r;v=a("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+m.p.direction+"'></th>");s=a("<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>");o.hidden===b&&a(v).css(i,h);o.search=o.search===c?c:b;if(typeof o.stype==l)o.stype=p;e=a.extend({},o.searchoptions||{});if(o.search)switch(o.stype){case k:w=o.surl||e.dataUrl;if(w){r=s;a.ajax(a.extend({url:w,dataType:"html",success:function(d){if(e.buildSelect!==undefined){var h=e.buildSelect(d);h&&a(r).append(h)}else a(r).append(d);e.defaultValue&&a(k,r).val(e.defaultValue);a(k,r).attr({name:n.index||n.name,id:"gs_"+n.name});e.attr&&a(k,r).attr(e.attr);a(k,r).css({width:"100%"});e.dataInit!==undefined&&e.dataInit(a(k,r)[0]);e.dataEvents!==undefined&&A(a(k,r)[0],e.dataEvents);f.autosearch===b&&a(k,r).change(function(){z();return c});d=g}},a.jgrid.ajaxOptions,m.p.ajaxSelectOptions||{}))}else{var t;if(n.searchoptions&&n.searchoptions.value)t=n.searchoptions.value;else if(n.editoptions&&n.editoptions.value)t=n.editoptions.value;if(t){var q=document.createElement(k);q.style.width="100%";a(q).attr({name:n.index||n.name,id:"gs_"+n.name});var y,D,u;if(typeof t==="string"){y=t.split(";");for(var E=0;E<y.length;E++){D=y[E].split(":");u=document.createElement("option");u.value=D[0];u.innerHTML=D[1];q.appendChild(u)}}else if(typeof t==="object")for(var x in t)if(t.hasOwnProperty(x)){u=document.createElement("option");u.value=x;u.innerHTML=t[x];q.appendChild(u)}e.defaultValue&&a(q).val(e.defaultValue);e.attr&&a(q).attr(e.attr);e.dataInit!==undefined&&e.dataInit(q);e.dataEvents!==undefined&&A(q,e.dataEvents);a(s).append(q);f.autosearch===b&&a(q).change(function(){z();return c})}}break;case p:var F=e.defaultValue?e.defaultValue:d;a(s).append("<input type='text' style='width:95%;padding:0px;' name='"+(n.index||n.name)+"' id='gs_"+n.name+"' value='"+F+"'/>");e.attr&&a(j,s).attr(e.attr);e.dataInit!==undefined&&e.dataInit(a(j,s)[0]);e.dataEvents!==undefined&&A(a(j,s)[0],e.dataEvents);if(f.autosearch===b)if(f.searchOnEnter)a(j,s).keypress(function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(b==13){z();return c}return this});else a(j,s).keydown(function(b){var a=b.which;switch(a){case 13:return c;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:B&&clearTimeout(B);B=setTimeout(function(){z()},500)}})}a(v).append(s);a(C).append(v)});a("table thead",m.grid.hDiv).append(C);y.ftoolbar=b;y.triggerToolbar=z;y.clearToolbar=E;y.toggleToolbar=D})},destroyGroupHeader:function(c){if(typeof c==l)c=b;return this.each(function(){var r=this,q,f,u,j,l,o,p=r.grid,s=a("table.ui-jqgrid-htable thead",p.hDiv),v=r.p.colModel,t;if(!p)return;q=a(k,{role:m}).addClass("ui-jqgrid-labels");j=p.headers;for(f=0,u=j.length;f<u;f++){t=v[f].hidden?h:d;l=a(j[f].el).width(j[f].width).removeAttr("rowSpan").css(i,t);q.append(l);o=l.children(n);if(o.length>0)o[0].style.height=d;l.children("div")[0].style.top=d}a(s).children("tr.ui-jqgrid-labels").remove();a(s).prepend(q);c===b&&a(r).jqGrid(e,{groupHeader:g})})},setGroupHeaders:function(b){b=a.extend({useColSpanStyle:c,groupHeaders:[]},b||{});return this.each(function(){var i=":visible",q="0px none",p="ui-state-default ui-th-column-header ui-th-",o="columnheader",f="<th>",e="thead";this.p.groupHeader=b;var c=this,l,z,E=0,v,u,s,y,H,j,D,B,G,w,C=c.p.colModel,I=C.length,J=c.grid.headers,r=a("table.ui-jqgrid-htable",c.grid.hDiv),L=r.children(e).children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),M=r.children(e),x,A,t=r.find(".jqg-first-row-header");if(t.html()===g)t=a(k,{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto");else t.empty();var F,K=function(d,b){for(var a=0,c=b.length;a<c;a++)if(b[a].startColumnName===d)return a;return-1};a(c).prepend(M);v=a(k,{role:m}).addClass("ui-jqgrid-labels jqg-third-row-header");for(l=0;l<I;l++){s=J[l].el;y=a(s);z=C[l];H={height:"0px",width:J[l].width+"px",display:z.hidden?h:d};a(f,{role:"gridcell"}).css(H).addClass("ui-first-th-"+c.p.direction).appendTo(t);s.style.width=d;j=K(z.name,b.groupHeaders);if(j>=0){D=b.groupHeaders[j];B=D.numberOfColumns;G=D.titleText;for(w=0,j=0;j<B&&l+j<I;j++)if(!C[l+j].hidden)w++;u=a(f,{colspan:String(w),role:o}).addClass(p+c.p.direction).css({height:"22px","border-top":q}).html(G);c.p.headertitles&&u.attr("title",u.text());w===0&&u.hide();y.before(u);v.append(s);E=B-1}else if(E===0)if(b.useColSpanStyle)y.attr("rowspan","2");else{a(f,{role:o}).addClass(p+c.p.direction).css({display:z.hidden?h:d,"border-top":q}).insertBefore(y);v.append(s)}else{v.append(s);E--}}x=a(c).children(e);x.prepend(t);v.insertAfter(L);r.append(x);if(b.useColSpanStyle){r.find(n).each(function(){var b=a(this).parent();if(b.is(i))this.style.cssText="height: "+b.height()+"px !important; cursor: col-resize;"});r.find("div.ui-jqgrid-sortable").each(function(){var b=a(this),c=b.parent();c.is(i)&&b.css("top",(c.height()-b.outerHeight())/2+"px")})}if(a.isFunction(c.p.resizeStop))A=c.p.resizeStop;F=x.find("tr.jqg-first-row-header");c.p.resizeStop=function(d,b){F.find("th").eq(b).width(d);a.isFunction(A)&&A.call(c,d,b)}})}})})(jQuery);(function(a){a.fn.jqm=function(f){var d={overlay:50,closeoverlay:true,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:b,ajaxText:"",target:b,modal:b,toTop:b,onShow:b,onHide:b,onLoad:b};return this.each(function(){var g=this;if(g._jqm)return c[g._jqm].c=a.extend({},c[g._jqm].c,f);e++;g._jqm=e;c[e]={c:a.extend(d,a.jqm.params,f),a:b,w:a(g).addClass("jqmID"+e),s:e};d.trigger&&a(g).jqmAddTrigger(d.trigger)})};a.fn.jqmAddClose=function(a){return h(this,a,"jqmHide")};a.fn.jqmAddTrigger=function(a){return h(this,a,"jqmShow")};a.fn.jqmShow=function(b){return this.each(function(){a.jqm.open(this._jqm,b)})};a.fn.jqmHide=function(b){return this.each(function(){a.jqm.close(this._jqm,b)})};a.jqm={hash:{},open:function(q,r){var h="100%",e=c[q],f=e.c,o="."+f.closeClass,n=parseInt(e.w.css("z-index"));n=n>0?n:3e3;var j=a("<div></div>").css({height:h,width:h,position:"fixed",left:0,top:0,"z-index":n-1,opacity:f.overlay/100});if(e.a)return b;e.t=r;e.a=true;e.w.css("z-index",n);if(f.modal){!d[0]&&setTimeout(function(){k("bind")},1);d.push(q)}else if(f.overlay>0)f.closeoverlay&&e.w.jqmAddClose(j);else j=b;e.o=j?j.addClass(f.overlayClass).prependTo("body"):b;if(g){a("html,body").css({height:h,width:h});if(j){j=j.css({position:"absolute"})[0];for(var p in{Top:1,Left:1})j.style.setExpression(p.toLowerCase(),"(_=(document.documentElement.scroll"+p+" || document.body.scroll"+p+"))+'px'")}}if(f.ajax){var l=f.target||e.w,m=f.ajax;l=typeof l=="string"?a(l,e.w):a(l);m=m.substr(0,1)=="@"?a(r).attr(m.substring(1)):m;l.html(f.ajaxText).load(m,function(){f.onLoad&&f.onLoad.call(this,e);o&&e.w.jqmAddClose(a(o,e.w));i(e)})}else o&&e.w.jqmAddClose(a(o,e.w));f.toTop&&e.o&&e.w.before('<span id="jqmP'+e.w[0]._jqm+'"></span>').insertAfter(e.o);f.onShow?f.onShow(e):e.w.show();i(e);return b},close:function(f){var e=c[f];if(!e.a)return b;e.a=b;if(d[0]){d.pop();!d[0]&&k("unbind")}e.c.toTop&&e.o&&a("#jqmP"+e.w[0]._jqm).after(e.w).remove();if(e.c.onHide)e.c.onHide(e);else{e.w.hide();e.o&&e.o.remove()}return b},params:{}};var e=0,c=a.jqm.hash,d=[],g=a.browser.msie&&a.browser.version=="6.0",b=false,i=function(b){var c=a('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0});if(g)if(b.o)b.o.html('<p style="width:100%;height:100%"/>').prepend(c);else!a("iframe.jqm",b.w)[0]&&b.w.prepend(c);j(b)},j=function(b){try{a(":input:visible",b.w)[0].focus()}catch(c){}},k=function(b){a(document)[b]("keypress",f)[b]("keydown",f)[b]("mousedown",f)},f=function(f){var b=c[d[d.length-1]],e=!a(f.target).parents(".jqmID"+b.s)[0];e&&j(b);return!e},h=function(f,e,d){return f.each(function(){var f=this._jqm;a(e).each(function(){var e=this;if(!e[d]){e[d]=[];a(e).click(function(){var a=this;for(var d in{jqmShow:1,jqmHide:1})for(var e in a[d])c[a[d][e]]&&c[a[d][e]].w[d](a);return b})}e[d].push(f)})})}})(jQuery);(function(b){var a=false;b.fn.jqDrag=function(a){return h(this,a,"d")};b.fn.jqResize=function(b,a){return h(this,b,"r",a)};b.jqDnR={dnr:{},e:0,drag:function(b){if(d.k=="d")c.css({left:d.X+b.pageX-d.pX,top:d.Y+b.pageY-d.pY});else{c.css({width:Math.max(b.pageX-d.pX+d.W,0),height:Math.max(b.pageY-d.pY+d.H,0)});M1&&e.css({width:Math.max(b.pageX-M1.pX+M1.W,0),height:Math.max(b.pageY-M1.pY+M1.H,0)})}return a},stop:function(){b(document).unbind("mousemove",g.drag).unbind("mouseup",g.stop)}};var g=b.jqDnR,d=g.dnr,c=g.e,e,h=function(g,h,j,i){return g.each(function(){h=h?b(h,g):g;h.bind("mousedown",{e:g,k:j},function(j){var g="input.hasDatepicker",k=j.data,h={};c=k.e;e=i?b(i):a;if(c.css("position")!="relative")try{c.position(h)}catch(m){}d={X:h.left||f("left")||0,Y:h.top||f("top")||0,W:f("width")||c[0].scrollWidth||0,H:f("height")||c[0].scrollHeight||0,pX:j.pageX,pY:j.pageY,k:k.k};if(e&&k.k!="d")M1={X:h.left||f1("left")||0,Y:h.top||f1("top")||0,W:e[0].offsetWidth||f1("width")||0,H:e[0].offsetHeight||f1("height")||0,pX:j.pageX,pY:j.pageY,k:k.k};else M1=a;if(b(g,c[0])[0])try{b(g,c[0]).datepicker("hide")}catch(l){}b(document).mousemove(b.jqDnR.drag).mouseup(b.jqDnR.stop);return a})})},f=function(b){return parseInt(c.css(b))||a};f1=function(b){return parseInt(e.css(b))||a}})(jQuery);var xmlJsonClass={xml2json:function(a,b){if(a.nodeType===9)a=a.documentElement;var d=this.removeWhite(a),e=this.toObj(d),c=this.toJson(e,a.nodeName,"\t");return"{\n"+b+(b?c.replace(/\t/g,b):c.replace(/\t|\n/g,""))+"\n}"},json2xml:function(d,e){var b=function(a,f,g){var h="<![CDATA[",d=">",c="",i,k;if(a instanceof Array)if(a.length===0)c+=g+"<"+f+">__EMPTY_ARRAY_</"+f+">\n";else for(i=0,k=a.length;i<k;i+=1){var l=g+b(a[i],f,g+"\t")+"\n";c+=l}else if(typeof a==="object"){var j=false;c+=g+"<"+f;var e;for(e in a)if(a.hasOwnProperty(e))if(e.charAt(0)==="@")c+=" "+e.substr(1)+'="'+a[e].toString()+'"';else j=true;c+=j?d:"/>";if(j){for(e in a)if(a.hasOwnProperty(e))if(e==="#text")c+=a[e];else if(e==="#cdata")c+=h+a[e]+"]\]>";else if(e.charAt(0)!=="@")c+=b(a[e],e,g+"\t");c+=(c.charAt(c.length-1)==="\n"?g:"")+"</"+f+d}}else if(typeof a==="function")c+=g+"<"+f+d+h+a+"]\]></"+f+d;else{if(a===undefined)a="";if(a.toString()==='""'||a.toString().length===0)c+=g+"<"+f+">__EMPTY_STRING_</"+f+d;else c+=g+"<"+f+d+a.toString()+"</"+f+d}return c},c="",a;for(a in d)if(d.hasOwnProperty(a))c+=b(d[a],a,"");return e?c.replace(/\t/g,e):c.replace(/\t|\n/g,"")},toObj:function(c){var g="#text",d=this,b={},j=/function/i;if(c.nodeType===1){if(c.attributes.length)for(var f=0;f<c.attributes.length;f+=1)b["@"+c.attributes[f].nodeName]=(c.attributes[f].nodeValue||"").toString();if(c.firstChild){for(var h=0,e=0,i=false,a=c.firstChild;a;a=a.nextSibling)if(a.nodeType===1)i=true;else if(a.nodeType===3&&a.nodeValue.match(/[^ \f\n\r\t\v]/))h+=1;else if(a.nodeType===4)e+=1;if(i)if(h<2&&e<2){d.removeWhite(c);for(a=c.firstChild;a;a=a.nextSibling)if(a.nodeType===3)b[g]=d.escape(a.nodeValue);else if(a.nodeType===4)if(j.test(a.nodeValue))b[a.nodeName]=[b[a.nodeName],a.nodeValue];else b["#cdata"]=d.escape(a.nodeValue);else if(b[a.nodeName])if(b[a.nodeName]instanceof Array)b[a.nodeName][b[a.nodeName].length]=d.toObj(a);else b[a.nodeName]=[b[a.nodeName],d.toObj(a)];else b[a.nodeName]=d.toObj(a)}else if(!c.attributes.length)b=d.escape(d.innerXml(c));else b[g]=d.escape(d.innerXml(c));else if(h)if(!c.attributes.length){b=d.escape(d.innerXml(c));if(b==="__EMPTY_ARRAY_")b="[]";else if(b==="__EMPTY_STRING_")b=""}else b[g]=d.escape(d.innerXml(c));else if(e)if(e>1)b=d.escape(d.innerXml(c));else for(a=c.firstChild;a;a=a.nextSibling)if(j.test(c.firstChild.nodeValue)){b=c.firstChild.nodeValue;break}else b["#cdata"]=d.escape(a.nodeValue)}if(!c.attributes.length&&!c.firstChild)b=null}else if(c.nodeType===9)b=d.toObj(c.documentElement);else alert("unhandled node type: "+c.nodeType);return b},toJson:function(a,b,c,h){var g='"';if(h===undefined)h=true;var e=b?g+b+g:"",f="\t",d="\n";if(!h){f="";d=""}if(a==="[]")e+=b?":[]":"[]";else if(a instanceof Array){var m,j,k=[];for(j=0,m=a.length;j<m;j+=1)k[j]=this.toJson(a[j],"",c+f,h);e+=(b?":[":"[")+(k.length>1?d+c+f+k.join(","+d+c+f)+d+c:k.join(""))+"]"}else if(a===null)e+=(b&&":")+"null";else if(typeof a==="object"){var i=[],l;for(l in a)if(a.hasOwnProperty(l))i[i.length]=this.toJson(a[l],l,c+f,h);e+=(b?":{":"{")+(i.length>1?d+c+f+i.join(","+d+c+f)+d+c:i.join(""))+"}"}else if(typeof a==="string")e+=(b&&":")+g+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+g;else e+=(b&&":")+g+a.toString()+g;return e},innerXml:function(b){var c="";if("innerHTML"in b)c=b.innerHTML;else for(var d=function(a){var b="",c;if(a.nodeType===1){b+="<"+a.nodeName;for(c=0;c<a.attributes.length;c+=1)b+=" "+a.attributes[c].nodeName+'="'+(a.attributes[c].nodeValue||"").toString()+'"';if(a.firstChild){b+=">";for(var e=a.firstChild;e;e=e.nextSibling)b+=d(e);b+="</"+a.nodeName+">"}else b+="/>"}else if(a.nodeType===3)b+=a.nodeValue;else if(a.nodeType===4)b+="<![CDATA["+a.nodeValue+"]\]>";return b},a=b.firstChild;a;a=a.nextSibling)c+=d(a);return c},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(b){b.normalize();for(var a=b.firstChild;a;)if(a.nodeType===3)if(!a.nodeValue.match(/[^ \f\n\r\t\v]/)){var c=a.nextSibling;b.removeChild(a);a=c}else a=a.nextSibling;else if(a.nodeType===1){this.removeWhite(a);a=a.nextSibling}else a=a.nextSibling;return b}};(function(a){var j="edit",i="</a>",c="?",g=".",b="",e=true,h="undefined",f=null,d=false;a.fmatter={};a.extend(a.fmatter,{isBoolean:function(a){return typeof a==="boolean"},isObject:function(b){return b&&(typeof b==="object"||a.isFunction(b))||d},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNull:function(a){return a===f},isUndefined:function(a){return typeof a===h},isValue:function(b){var a=this;return a.isObject(b)||a.isString(b)||a.isNumber(b)||a.isBoolean(b)},isEmpty:function(c){if(!this.isString(c)&&this.isValue(c))return d;else if(!this.isValue(c))return e;c=a.trim(c).replace(/\&nbsp\;/ig,b).replace(/\&#160\;/ig,b);return c===b}});a.fn.fmatter=function(c,d,b,g,f){var e=d;b=a.extend({},a.jgrid.formatter,b);if(a.fn.fmatter[c])e=a.fn.fmatter[c](d,b,g,f);return e};a.fmatter.util={NumberFormat:function(f,e){if(!a.fmatter.isNumber(f))f*=1;if(a.fmatter.isNumber(f)){var o=f<0,c=f+b,j=e.decimalSeparator?e.decimalSeparator:g,d;if(a.fmatter.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);c=Math.round(f*l)/l+b;d=c.lastIndexOf(g);if(k>0){if(d<0){c+=j;d=c.length-1}else if(j!==g)c=c.replace(g,j);while(c.length-1-d<k)c+="0"}}if(e.thousandsSeparator){var n=e.thousandsSeparator;d=c.lastIndexOf(j);d=d>-1?d:c.length;for(var h=c.substring(d),m=-1,i=d;i>0;i--){m++;if(m%3===0&&i!==d&&(!o||i>1))h=n+h;h=c.charAt(i-1)+h}c=h}c=e.prefix?e.prefix+c:c;c=e.suffix?c+e.suffix:c;return c}else return f},DateFormat:function(j,g,n,i){var E=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,D=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,C=/[^-+\dA-Z]/g,B=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),o=typeof g==="string"?g.match(B):f,m=function(a,b){a=String(a);b=parseInt(b,10)||2;while(a.length<b)a="0"+a;return a},d={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},e=0,k,h,A,l=["i18n"];l.i18n={dayNames:i.dayNames,monthNames:i.monthNames};if(j in i.masks)j=i.masks[j];if(!isNaN(g-0)&&String(j).toLowerCase()=="u")e=new Date(parseFloat(g)*1e3);else if(g.constructor===Date)e=g;else if(o!==f){e=new Date(parseInt(o[1],10));if(o[3]){var w=Number(o[5])*60+Number(o[6]);w*=o[4]=="-"?1:-1;w-=e.getTimezoneOffset();e.setTime(Number(Number(e)+w*60*1e3))}}else{g=String(g).split(/[\\\/:_;.,\t\T\s-]/);j=j.split(/[\\\/:_;.,\t\T\s-]/);for(h=0,A=j.length;h<A;h++){if(j[h]=="M"){k=a.inArray(g[h],l.i18n.monthNames);if(k!==-1&&k<12)g[h]=k+1}if(j[h]=="F"){k=a.inArray(g[h],l.i18n.monthNames);if(k!==-1&&k>11)g[h]=k+1-12}if(g[h])d[j[h].toLowerCase()]=parseInt(g[h],10)}if(d.f)d.m=d.f;if(d.m===0&&d.y===0&&d.d===0)return"&#160;";d.m=parseInt(d.m,10)-1;var s=d.y;if(s>=70&&s<=99)d.y=1900+d.y;else if(s>=0&&s<=69)d.y=2e3+d.y;e=new Date(d.y,d.m,d.d,d.h,d.i,d.s,d.u)}if(n in i.masks)n=i.masks[n];else if(!n)n="Y-m-d";var p=e.getHours(),F=e.getMinutes(),t=e.getDate(),q=e.getMonth()+1,x=e.getTimezoneOffset(),G=e.getSeconds(),H=e.getMilliseconds(),v=e.getDay(),r=e.getFullYear(),u=(v+6)%7+1,y=(new Date(r,q-1,t)-new Date(r,0,1))/8.64e7,z={d:m(t),D:l.i18n.dayNames[v],j:t,l:l.i18n.dayNames[v+7],N:u,S:i.S(t),w:v,z:y,W:u<5?Math.floor((y+u-1)/7)+1:Math.floor((y+u-1)/7)||(((new Date(r-1,0,1)).getDay()+6)%7<4?53:52),F:l.i18n.monthNames[q-1+12],m:m(q),M:l.i18n.monthNames[q-1],n:q,t:c,L:c,o:c,Y:r,y:String(r).substring(2),a:p<12?i.AmPm[0]:i.AmPm[1],A:p<12?i.AmPm[2]:i.AmPm[3],B:c,g:p%12||12,G:p,h:m(p%12||12),H:m(p),i:m(F),s:m(G),u:H,e:c,I:c,O:(x>0?"-":"+")+m(Math.floor(Math.abs(x)/60)*100+Math.abs(x)%60,4),P:c,T:(String(e).match(D)||[b]).pop().replace(C,b),Z:c,c:c,r:c,U:Math.floor(e/1e3)};return n.replace(E,function(a){return a in z?z[a]:a.substring(1)})}};a.fn.fmatter.defaultFormat=function(c,d){return a.fmatter.isValue(c)&&c!==b?c:d.defaultValue?d.defaultValue:"&#160;"};a.fn.fmatter.email=function(b,c){return!a.fmatter.isEmpty(b)?'<a href="mailto:'+b+'">'+b+i:a.fn.fmatter.defaultFormat(b,c)};a.fn.fmatter.checkbox=function(c,f){var d=a.extend({},f.checkbox),g;if(!a.fmatter.isUndefined(f.colModel.formatoptions))d=a.extend({},d,f.colModel.formatoptions);if(d.disabled===e)g='disabled="disabled"';else g=b;if(a.fmatter.isEmpty(c)||a.fmatter.isUndefined(c))c=a.fn.fmatter.defaultFormat(c,d);c=c+b;c=c.toLowerCase();var h=c.search(/(false|0|no|off)/i)<0?" checked='checked' ":b;return'<input type="checkbox" '+h+' value="'+c+'" offval="no" '+g+"/>"};a.fn.fmatter.link=function(c,d){var e={target:d.target},f=b;if(!a.fmatter.isUndefined(d.colModel.formatoptions))e=a.extend({},e,d.colModel.formatoptions);if(e.target)f="target="+e.target;return!a.fmatter.isEmpty(c)?"<a "+f+' href="'+c+'">'+c+i:a.fn.fmatter.defaultFormat(c,d)};a.fn.fmatter.showlink=function(f,d){var e={baseLinkUrl:d.baseLinkUrl,showAction:d.showAction,addParam:d.addParam||b,target:d.target,idName:d.idName},g=b,h;if(!a.fmatter.isUndefined(d.colModel.formatoptions))e=a.extend({},e,d.colModel.formatoptions);if(e.target)g="target="+e.target;h=e.baseLinkUrl+e.showAction+c+e.idName+"="+d.rowId+e.addParam;return a.fmatter.isString(f)||a.fmatter.isNumber(f)?"<a "+g+' href="'+h+'">'+f+i:a.fn.fmatter.defaultFormat(f,d)};a.fn.fmatter.integer=function(d,c){var b=a.extend({},c.integer);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.number=function(d,c){var b=a.extend({},c.number);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.currency=function(d,c){var b=a.extend({},c.currency);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.date=function(d,c,f,e){var b=a.extend({},c.date);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return!b.reformatAfterEdit&&e==j?a.fn.fmatter.defaultFormat(d,c):!a.fmatter.isEmpty(d)?a.fmatter.util.DateFormat(b.srcformat,d,b.newformat,b):a.fn.fmatter.defaultFormat(d,c)};a.fn.fmatter.select=function(c,h){c=c+b;var f=d,j=[];if(!a.fmatter.isUndefined(h.colModel.formatoptions))f=h.colModel.formatoptions.value;else if(!a.fmatter.isUndefined(h.colModel.editoptions))f=h.colModel.editoptions.value;if(f){var k=h.colModel.editoptions.multiple===e?e:d,i=[],g;if(k){i=c.split(",");i=a.map(i,function(b){return a.trim(b)})}if(a.fmatter.isString(f))for(var m=f.split(";"),n=0,l=0;l<m.length;l++){g=m[l].split(":");if(g.length>2)g[1]=jQuery.map(g,function(b,a){if(a>0)return b}).join(":");if(k){if(jQuery.inArray(g[0],i)>-1){j[n]=g[1];n++}}else if(a.trim(g[0])==a.trim(c)){j[0]=g[1];break}}else if(a.fmatter.isObject(f))if(k)j=jQuery.map(i,function(a){return f[a]});else j[0]=f[c]||b}c=j.join(", ");return c===b?a.fn.fmatter.defaultFormat(c,h):c};a.fn.fmatter.rowactions=function(e,h,r,s){var n=" div.ui-inline-cancel",m=" div.ui-inline-save, ",g=".ui-jqgrid-btable:first",l=" div.ui-inline-del",k=" div.ui-inline-edit, ",b="tr#",c="#",i={keys:d,onEdit:f,onSuccess:f,afterSave:f,onError:f,afterRestore:f,extraparam:{oper:j},url:f,delOptions:{},editOptions:{}};e=a.jgrid.jqID(e);h=a.jgrid.jqID(h);var q=a(c+h)[0].p.colModel[s];if(!a.fmatter.isUndefined(q.formatoptions))i=a.extend(i,q.formatoptions);if(!a.fmatter.isUndefined(a(c+h)[0].p.editOptions))i.editOptions=a(c+h)[0].p.editOptions;if(!a.fmatter.isUndefined(a(c+h)[0].p.delOptions))i.delOptions=a(c+h)[0].p.delOptions;var p=function(d){i.afterSave&&i.afterSave(d);a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide()},o=function(d){i.afterRestore&&i.afterRestore(d);a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide()};switch(r){case j:a(c+h).jqGrid("editRow",e,i.keys,i.onEdit,i.onSuccess,i.url,i.extraparam,p,i.onError,o);a(b+e+k+b+e+l,c+h+g).hide();a(b+e+m+b+e+n,c+h+g).show();break;case"save":if(a(c+h).jqGrid("saveRow",e,i.onSuccess,i.url,i.extraparam,p,i.onError,o)){a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide()}break;case"cancel":a(c+h).jqGrid("restoreRow",e,o);a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide();break;case"del":a(c+h).jqGrid("delGridRow",e,i.delOptions);break;case"formedit":a(c+h).jqGrid("setSelection",e);a(c+h).jqGrid("editGridRow",e,i.editOptions)}};a.fn.fmatter.actions=function(q,c){var p="><span class='ui-icon ui-icon-pencil'></span></div>",o="' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' ",j="<div title='",l="); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",i="','",g="onclick=jQuery.fn.fmatter.rowactions('",n={keys:d,editbutton:e,delbutton:e,editformbutton:d};if(!a.fmatter.isUndefined(c.colModel.formatoptions))n=a.extend(n,c.colModel.formatoptions);var m=c.rowId,f=b,k;if(typeof m==h||a.fmatter.isEmpty(m))return b;if(n.editformbutton){k=g+m+i+c.gid+"','formedit',"+c.pos+l;f=f+j+a.jgrid.nav.edittitle+o+k+p}else if(n.editbutton){k=g+m+i+c.gid+"','edit',"+c.pos+"); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ";f=f+j+a.jgrid.nav.edittitle+o+k+p}if(n.delbutton){k=g+m+i+c.gid+"','del',"+c.pos+l;f=f+j+a.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+k+"><span class='ui-icon ui-icon-trash'></span></div>"}k=g+m+i+c.gid+"','save',"+c.pos+l;f=f+j+a.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+k+"><span class='ui-icon ui-icon-disk'></span></div>";k=g+m+i+c.gid+"','cancel',"+c.pos+l;f=f+j+a.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+k+"><span class='ui-icon ui-icon-cancel'></span></div>";return"<div style='margin-left:8px;'>"+f+"</div>"};a.unformat=function(d,i,s,r){var j="\\$1",f,m=i.colModel.formatter,c=i.colModel.formatoptions||{},l,p=/([\.\*\_\'\(\)\{\}\+\?\\])/g,n=i.colModel.unformat||a.fn.fmatter[m]&&a.fn.fmatter[m].unformat;if(typeof n!==h&&a.isFunction(n))f=n(a(d).text(),i,d);else if(!a.fmatter.isUndefined(m)&&a.fmatter.isString(m)){var o=a.jgrid.formatter||{},k;switch(m){case"integer":c=a.extend({},o.integer,c);l=c.thousandsSeparator.replace(p,j);k=new RegExp(l,"g");f=a(d).text().replace(k,b);break;case"number":c=a.extend({},o.number,c);l=c.thousandsSeparator.replace(p,j);k=new RegExp(l,"g");f=a(d).text().replace(k,b).replace(c.decimalSeparator,g);break;case"currency":c=a.extend({},o.currency,c);l=c.thousandsSeparator.replace(p,j);k=new RegExp(l,"g");f=a(d).text().replace(k,b).replace(c.decimalSeparator,g).replace(c.prefix,b).replace(c.suffix,b);break;case"checkbox":var q=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];f=a("input",d).is(":checked")?q[0]:q[1];break;case"select":f=a.unformat.select(d,i,s,r);break;case"actions":return b;default:f=a(d).text()}}return f!==undefined?f:r===e?a(d).text():a.jgrid.htmlDecode(a(d).html())};a.unformat.select=function(p,q,s,r){var j=[],i=a(p).text();if(r===e)return i;var l=a.extend({},q.colModel.editoptions);if(l.value){var g=l.value,k=l.multiple===e?e:d,f=[],c;if(k){f=i.split(",");f=a.map(f,function(b){return a.trim(b)})}if(a.fmatter.isString(g))for(var n=g.split(";"),o=0,m=0;m<n.length;m++){c=n[m].split(":");if(c.length>2)c[1]=jQuery.map(c,function(b,a){if(a>0)return b}).join(":");if(k){if(jQuery.inArray(c[1],f)>-1){j[o]=c[0];o++}}else if(a.trim(c[1])==a.trim(i)){j[0]=c[0];break}}else if(a.fmatter.isObject(g)||a.isArray(g)){if(!k)f[0]=i;j=jQuery.map(f,function(c){var b;a.each(g,function(e,a){if(a==c){b=e;return d}});if(typeof b!=h)return b})}return j.join(", ")}else return i||b};a.unformat.date=function(c,d){var b=a.jgrid.formatter.date||{};if(!a.fmatter.isUndefined(d.formatoptions))b=a.extend({},b,d.formatoptions);return!a.fmatter.isEmpty(c)?a.fmatter.util.DateFormat(b.newformat,c,b.srcformat,b):a.fn.fmatter.defaultFormat(c,d)}})(jQuery);(function(a){var e=-1,n="false",m="auto",g="#",k="px",f="undefined",l="string",j="ui-state-hover",b=false,o=".jqgrid-overlay:first",d="",c=true,i="true",h="aria-hidden";a.extend(a.jgrid,{showModal:function(a){a.w.show()},closeModal:function(a){a.w.hide().attr(h,i);a.o&&a.o.remove()},hideModal:function(e,b){b=a.extend({jqm:c,gb:d},b||{});if(b.onClose){var f=b.onClose(e);if(typeof f=="boolean"&&!f)return}if(a.fn.jqm&&b.jqm===c)a(e).attr(h,i).jqmHide();else{if(b.gb!==d)try{a(o,b.gb).hide()}catch(g){}a(e).hide().attr(h,i)}},findPos:function(a){var b=0,c=0;if(a.offsetParent)do{b+=a.offsetLeft;c+=a.offsetTop}while(a=a.offsetParent);return[b,c]},createModal:function(h,C,d,x,B,r,u){var q=".ui-jqdialog-titlebar-close",p=".ui-jqdialog-title",e=document.createElement("div"),s,A=this;u=a.extend({},u||{});s=a(d.gbox).attr("dir")=="rtl"?c:b;e.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";e.id=h.themodal;var n=document.createElement("div");n.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";n.id=h.modalhead;a(n).append("<span class='ui-jqdialog-title'>"+d.caption+"</span>");var t=a("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){t.addClass(j)},function(){t.removeClass(j)}).append("<span class='ui-icon ui-icon-closethick'></span>");a(n).append(t);if(s){e.dir="rtl";a(p,n).css("float","right");a(q,n).css("left",.3+"em")}else{e.dir="ltr";a(p,n).css("float","left");a(q,n).css("right",.3+"em")}var w=document.createElement("div");a(w).addClass("ui-jqdialog-content ui-widget-content").attr("id",h.modalcontent);a(w).append(C);e.appendChild(w);a(e).prepend(n);if(r===c)a("body").append(e);else if(typeof r==l)a(r).append(e);else a(e).insertBefore(x);a(e).css(u);if(typeof d.jqModal===f)d.jqModal=c;var o={};if(a.fn.jqm&&d.jqModal===c){if(d.left===0&&d.top===0&&d.overlay){var v=[];v=this.findPos(B);d.left=v[0]+4;d.top=v[1]+4}o.top=d.top+k;o.left=d.left}else if(d.left!==0||d.top!==0){o.left=d.left;o.top=d.top+k}a("a.ui-jqdialog-titlebar-close",n).click(function(){var e=a(g+h.themodal).data("onClose")||d.onClose,c=a(g+h.themodal).data("gbox")||d.gbox;A.hideModal(g+h.themodal,{gb:c,jqm:d.jqModal,onClose:e});return b});if(d.width===0||!d.width)d.width=300;if(d.height===0||!d.height)d.height=200;if(!d.zIndex){var y=a(x).parents("*[role=dialog]").filter(":first").css("z-index");if(y)d.zIndex=parseInt(y,10)+1;else d.zIndex=950}var z=0;if(s&&o.left&&!r){z=a(d.gbox).width()-(!isNaN(d.width)?parseInt(d.width,10):0)-8;o.left=parseInt(o.left,10)+parseInt(z,10)}if(o.left)o.left+=k;a(e).css(a.extend({width:isNaN(d.width)?m:d.width+k,height:isNaN(d.height)?m:d.height+k,zIndex:d.zIndex,overflow:"hidden"},o)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":h.modalhead,"aria-hidden":i});if(typeof d.drag==f)d.drag=c;if(typeof d.resize==f)d.resize=c;if(d.drag){a(n).css("cursor","move");if(a.fn.jqDrag)a(e).jqDrag(n);else try{a(e).draggable({handle:a(g+n.id)})}catch(D){}}if(d.resize)if(a.fn.jqResize){a(e).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>");a(g+h.themodal).jqResize(".jqResize",h.scrollelm?g+h.scrollelm:b)}else try{a(e).resizable({handles:"se, sw",alsoResize:h.scrollelm?g+h.scrollelm:b})}catch(E){}d.closeOnEscape===c&&a(e).keydown(function(c){if(c.which==27){var b=a(g+h.themodal).data("onClose")||d.onClose;A.hideModal(this,{gb:d.gbox,jqm:d.jqModal,onClose:b})}})},viewModal:function(f,e){e=a.extend({toTop:c,overlay:10,modal:b,overlayClass:"ui-widget-overlay",onShow:this.showModal,onHide:this.closeModal,gbox:d,jqm:c,jqM:c},e||{});if(a.fn.jqm&&e.jqm===c)if(e.jqM)a(f).attr(h,n).jqm(e).jqmShow();else a(f).attr(h,n).jqmShow();else{if(e.gbox!==d){a(o,e.gbox).show();a(f).data("gbox",e.gbox)}a(f).show().attr(h,n);try{a(":input:visible",f)[0].focus()}catch(g){}}},info_dialog:function(x,y,v,w){var p="#info_id",i="#info_dialog",s="<div class='ui-widget-content ui-helper-clearfix' style='text-align:",l="</div>",t=this,e={width:290,height:m,dataheight:m,drag:c,resize:b,caption:"<b>"+x+"</b>",left:250,top:170,zIndex:1e3,jqModal:c,modal:b,closeOnEscape:c,align:"center",buttonalign:"center",buttons:[]};a.extend(e,w||{});var r=e.jqModal,z=t;if(a.fn.jqm&&!r)r=b;var q=d;if(e.buttons.length>0)for(var o=0;o<e.buttons.length;o++){if(typeof e.buttons[o].id==f)e.buttons[o].id="info_button_"+o;q+="<a href='javascript:void(0)' id='"+e.buttons[o].id+"' class='fm-button ui-state-default ui-corner-all'>"+e.buttons[o].text+"</a>"}var B=isNaN(e.dataheight)?e.dataheight:e.dataheight+k,A="text-align:"+e.align+";",u="<div id='info_id'>";u+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+B+";"+A+"'>"+y+l;u+=v?s+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+v+"</a>"+q+l:q!==d?s+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+q+l:d;u+=l;try{a(i).attr(h)==n&&t.hideModal(i,{jqm:r});a(i).remove()}catch(C){}t.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},u,e,d,d,c);q&&a.each(e.buttons,function(c){a(g+this.id,p).bind("click",function(){e.buttons[c].onClick.call(a(i));return b})});a("#closedialog",p).click(function(){z.hideModal(i,{jqm:r});return b});a(".fm-button",i).hover(function(){a(this).addClass(j)},function(){a(this).removeClass(j)});a.isFunction(e.beforeOpen)&&e.beforeOpen();t.viewModal(i,{onHide:function(a){a.w.hide().remove();a.o&&a.o.remove()},modal:e.modal,jqm:r});a.isFunction(e.afterOpen)&&e.afterOpen();try{a(i).focus()}catch(D){}},createEl:function(A,g,k,J,L){var x="function 'custom_element' ",q="button",o="selected",j="option",w="select",m="role",v="input",u="checkbox",C="textarea",D=this,h=d;function z(c,b){a.isFunction(b.dataInit)&&b.dataInit(c);b.dataEvents&&a.each(b.dataEvents,function(){var b=this;if(b.data!==undefined)a(c).bind(b.type,b.data,b.fn);else a(c).bind(b.type,b.fn)});return b}function y(g,d,c){var b=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr"];if(typeof c!=f&&a.isArray(c))b=a.extend(b,c);a.each(d,function(c,d){a.inArray(c,b)===e&&a(g).attr(c,d)});!d.hasOwnProperty("id")&&a(g).attr("id",a.jgrid.randId())}switch(A){case C:h=document.createElement(C);if(J)!g.cols&&a(h).css({width:"98%"});else if(!g.cols)g.cols=20;if(!g.rows)g.rows=2;if(k=="&nbsp;"||k=="&#160;"||k.length==1&&k.charCodeAt(0)==160)k=d;h.value=k;y(h,g);g=z(h,g);a(h).attr({role:"textbox",multiline:i});break;case u:h=document.createElement(v);h.type=u;if(!g.value){var K=k.toLowerCase();if(K.search(/(false|0|no|off|undefined)/i)<0&&K!==d){h.checked=c;h.defaultChecked=c;h.value=k}else h.value="on";a(h).attr("offval","off")}else{var G=g.value.split(":");if(k===G[0]){h.checked=c;h.defaultChecked=c}h.value=G[0];a(h).attr("offval",G[1])}y(h,g,["value"]);g=z(h,g);a(h).attr(m,u);break;case w:h=document.createElement(w);h.setAttribute(m,w);var r,t=[];if(g.multiple===c){r=c;h.multiple="multiple";a(h).attr("aria-multiselectable",i)}else r=b;if(typeof g.dataUrl!=f)a.ajax(a.extend({url:g.dataUrl,type:"GET",dataType:"html",context:{elem:h,options:g,vl:k},success:function(i){var h,d=[],g=this.elem,l=this.vl,b=a.extend({},this.options),k=b.multiple===c;if(typeof b.buildSelect!=f){var n=b.buildSelect(i);h=a(n).html()}else h=a(i).html();if(h){a(g).append(h);y(g,b);b=z(g,b);if(typeof b.size===f)b.size=k?3:1;if(k){d=l.split(",");d=a.map(d,function(b){return a.trim(b)})}else d[0]=a.trim(l);setTimeout(function(){a(j,g).each(function(){var b=this;a(b).attr(m,j);if(a.inArray(a.trim(a(b).text()),d)>e||a.inArray(a.trim(a(b).val()),d)>e)b.selected=o})},0)}}},L||{}));else if(g.value){var F;if(typeof g.size===f)g.size=r?3:1;if(r){t=k.split(",");t=a.map(t,function(b){return a.trim(b)})}if(typeof g.value==="function")g.value=g.value();var I,p,n;if(typeof g.value===l){I=g.value.split(";");for(F=0;F<I.length;F++){p=I[F].split(":");if(p.length>2)p[1]=a.map(p,function(b,a){if(a>0)return b}).join(":");n=document.createElement(j);n.setAttribute(m,j);n.value=p[0];n.innerHTML=p[1];h.appendChild(n);if(!r&&(a.trim(p[0])==a.trim(k)||a.trim(p[1])==a.trim(k)))n.selected=o;if(r&&(a.inArray(a.trim(p[1]),t)>e||a.inArray(a.trim(p[0]),t)>e))n.selected=o}}else if(typeof g.value==="object"){var B=g.value;for(var s in B)if(B.hasOwnProperty(s)){n=document.createElement(j);n.setAttribute(m,j);n.value=s;n.innerHTML=B[s];h.appendChild(n);if(!r&&(a.trim(s)==a.trim(k)||a.trim(B[s])==a.trim(k)))n.selected=o;if(r&&(a.inArray(a.trim(B[s]),t)>e||a.inArray(a.trim(s),t)>e))n.selected=o}}y(h,g,["value"]);g=z(h,g)}break;case"text":case"password":case q:var H;if(A==q)H=q;else H="textbox";h=document.createElement(v);h.type=A;h.value=k;y(h,g);g=z(h,g);if(A!=q)if(J)!g.size&&a(h).css({width:"98%"});else if(!g.size)g.size=20;a(h).attr(m,H);break;case"image":case"file":h=document.createElement(v);h.type=A;y(h,g);g=z(h,g);break;case"custom":h=document.createElement("span");try{if(a.isFunction(g.custom_element)){var E=g.custom_element.call(D,k,g);if(E){E=a(E).addClass("customelement").attr({id:g.id,name:g.name});a(h).empty().append(E)}else throw"e2";}else throw"e1";}catch(M){M=="e1"&&D.info_dialog(a.jgrid.errors.errcap,x+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose);if(M=="e2")D.info_dialog(a.jgrid.errors.errcap,x+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose);else D.info_dialog(a.jgrid.errors.errcap,typeof M===l?M:M.message,a.jgrid.edit.bClose)}}return h},checkDate:function(a,l){var n=function(a){return a%4===0&&(a%100!==0||a%400===0)?29:28},p=function(c){var b=this;for(var a=1;a<=c;a++){b[a]=31;if(a==4||a==6||a==9||a==11)b[a]=30;if(a==2)b[a]=29}return b},d={},m;a=a.toLowerCase();if(a.indexOf("/")!=e)m="/";else if(a.indexOf("-")!=e)m="-";else if(a.indexOf(".")!=e)m=".";else m="/";a=a.split(m);l=l.split(m);if(l.length!=3)return b;for(var h=e,f,j=e,k=e,g=0;g<a.length;g++){var q=isNaN(l[g])?0:parseInt(l[g],10);d[a[g]]=q;f=a[g];if(f.indexOf("y")!=e)h=g;if(f.indexOf("m")!=e)k=g;if(f.indexOf("d")!=e)j=g}if(a[h]=="y"||a[h]=="yyyy")f=4;else if(a[h]=="yy")f=2;else f=e;var o=p(12),i;if(h===e)return b;else{i=d[a[h]].toString();if(f==2&&i.length==1)f=1;if(i.length!=f||d[a[h]]===0&&l[h]!="00")return b}if(k===e)return b;else{i=d[a[k]].toString();if(i.length<1||d[a[k]]<1||d[a[k]]>12)return b}if(j===e)return b;else{i=d[a[j]].toString();if(i.length<1||d[a[j]]<1||d[a[j]]>31||d[a[k]]==2&&d[a[j]]>n(d[a[h]])||d[a[j]]>o[d[a[k]]])return b}return c},isEmpty:function(a){return a.match(/^\s+$/)||a===d?c:b},checkTime:function(d){var e=/^(\d{1,2}):(\d{2})([ap]m)?$/,a;if(!this.isEmpty(d)){a=d.match(e);if(a){if(a[3]){if(a[1]<1||a[1]>12)return b}else if(a[1]>23)return b;if(a[2]>59)return b}else return b}return c},checkValues:function(i,m,k,s,u){var h=": ",n=this,g,p,j,r,t;if(typeof s===f){if(typeof m==l){for(p=0,t=k.p.colModel.length;p<t;p++)if(k.p.colModel[p].name==m){g=k.p.colModel[p].editrules;m=p;try{j=k.p.colModel[p].formoptions.label}catch(w){}break}}else if(m>=0)g=k.p.colModel[m].editrules}else{g=s;j=u===undefined?"_":u}if(g){if(!j)j=k.p.colNames[m];if(g.required===c)if(n.isEmpty(i))return[b,j+h+a.jgrid.edit.msg.required,d];var o=g.required===b?b:c;if(g.number===c)if(!(o===b&&n.isEmpty(i)))if(isNaN(i))return[b,j+h+a.jgrid.edit.msg.number,d];if(typeof g.minValue!=f&&!isNaN(g.minValue))if(parseFloat(i)<parseFloat(g.minValue))return[b,j+h+a.jgrid.edit.msg.minValue+" "+g.minValue,d];if(typeof g.maxValue!=f&&!isNaN(g.maxValue))if(parseFloat(i)>parseFloat(g.maxValue))return[b,j+h+a.jgrid.edit.msg.maxValue+" "+g.maxValue,d];var q;if(g.email===c)if(!(o===b&&n.isEmpty(i))){q=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;if(!q.test(i))return[b,j+h+a.jgrid.edit.msg.email,d]}if(g.integer===c)if(!(o===b&&n.isEmpty(i))){if(isNaN(i))return[b,j+h+a.jgrid.edit.msg.integer,d];if(i%1!==0||i.indexOf(".")!=e)return[b,j+h+a.jgrid.edit.msg.integer,d]}if(g.date===c)if(!(o===b&&n.isEmpty(i))){if(k.p.colModel[m].formatoptions&&k.p.colModel[m].formatoptions.newformat)r=k.p.colModel[m].formatoptions.newformat;else r=k.p.colModel[m].datefmt||"Y-m-d";if(!n.checkDate(r,i))return[b,j+h+a.jgrid.edit.msg.date+" - "+r,d]}if(g.time===c)if(!(o===b&&n.isEmpty(i)))if(!n.checkTime(i))return[b,j+h+a.jgrid.edit.msg.date+" - hh:mm (am/pm)",d];if(g.url===c)if(!(o===b&&n.isEmpty(i))){q=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;if(!q.test(i))return[b,j+h+a.jgrid.edit.msg.url,d]}if(g.custom===c)if(!(o===b&&n.isEmpty(i)))if(a.isFunction(g.custom_func)){var v=g.custom_func.call(k,i,j);return a.isArray(v)?v:[b,a.jgrid.edit.msg.customarray,d]}else return[b,a.jgrid.edit.msg.customfcheck,d]}return[c,d,d]}})})(jQuery);(function(b){var a="",c="string";b.fn.jqFilter=function(n){var h="nn",g="nu",j="ni",i="in",m="NOT LIKE",l="LIKE",e=false,f=null,d=true;if(typeof n===c){var o=b.fn.jqFilter[n];if(!o)throw"jqFilter - No such method: "+n;var p=b.makeArray(arguments).slice(1);return o.apply(this,p)}var k=b.extend(d,{filter:f,columns:[],onChange:f,afterRedraw:f,checkValues:f,error:e,errmsg:a,errorcheck:d,showQuery:d,sopt:f,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:l},{name:"bn",description:"does not begin with",operator:m},{name:i,description:i,operator:"IN"},{name:j,description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:l},{name:"en",description:"does not end with",operator:m},{name:"cn",description:"contains",operator:l},{name:"nc",description:"does not contain",operator:m},{name:g,description:"is null",operator:"IS NULL"},{name:h,description:"is not null",operator:"IS NOT NULL"}],numopts:["eq","ne","lt","le","gt","ge",g,h,i,j],stropts:["eq","ne","bw","bn","ew","en","cn","nc",g,h,i,j],_gridsopt:[],groupOps:["AND","OR"],groupButton:d,ruleButtons:d,direction:"ltr"},n||{});return this.each(function(){var z="tr.error",y="th.ui-state-error",m=" ",x="<td class='first'></td>",v="undefined",r="click",o="change",q="</option>",p="<option value='",u=" selected='selected'",t="<tr></tr>",s="text",l=this;if(l.filter)return;l.p=k;if(l.p.filter===f||l.p.filter===undefined)l.p.filter={groupOp:l.p.groupOps[0],rules:[],groups:[]};var w,C=l.p.columns.length,n,B=/msie/i.test(navigator.userAgent)&&!window.opera;if(l.p._gridsopt.length)for(w=0;w<l.p._gridsopt.length;w++)l.p.ops[w].description=l.p._gridsopt[w];l.p.initFilter=b.extend(d,{},l.p.filter);if(!C)return;for(w=0;w<C;w++){n=l.p.columns[w];if(n.stype)n.inputtype=n.stype;else if(!n.inputtype)n.inputtype=s;if(n.sorttype)n.searchtype=n.sorttype;else if(!n.searchtype)n.searchtype=c;if(n.hidden===undefined)n.hidden=e;if(!n.label)n.label=n.name;if(n.index)n.name=n.index;if(!n.hasOwnProperty("searchoptions"))n.searchoptions={};if(!n.hasOwnProperty("searchrules"))n.searchrules={}}l.p.showQuery&&b(l).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+l.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var A=function(h,g){var c=[d,a];if(b.isFunction(g.searchrules))c=g.searchrules(h,g);else if(b.jgrid&&b.jgrid.checkValues)try{c=b.jgrid.checkValues(h,-1,f,g.searchrules,g.label)}catch(i){}if(c&&c.length&&c[0]===e){k.error=!c[0];k.errmsg=c[1]}};l.onchange=function(){var c=this;c.p.error=e;c.p.errmsg=a;return b.isFunction(c.p.onChange)?c.p.onChange.call(c,c.p):e};l.reDraw=function(){var a=this;b("table.group:first",a).remove();var c=a.createTableForGroup(k.filter,f);b(a).append(c);b.isFunction(a.p.afterRedraw)&&a.p.afterRedraw.call(a,a.p)};l.createTableForGroup=function(i,m){var j=this,h=j,g,l=b("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),A="left";if(j.p.direction=="rtl"){A="right";l.attr("dir","rtl")}m===f&&l.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+A+"'></th></tr>");var G=b(t);l.append(G);var s=b("<th colspan='5' align='"+A+"'></th>");G.append(s);if(j.p.ruleButtons===d){var z=b("<select class='opsel'></select>");s.append(z);var F=a,E;for(g=0;g<k.groupOps.length;g++){E=i.groupOp===h.p.groupOps[g]?u:a;F+=p+h.p.groupOps[g]+"'"+E+">"+h.p.groupOps[g]+q}z.append(F).bind(o,function(){i.groupOp=b(z).val();h.onchange()})}var y="<span></span>";if(j.p.groupButton){y=b("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>");y.bind(r,function(){if(i.groups===undefined)i.groups=[];i.groups.push({groupOp:k.groupOps[0],rules:[],groups:[]});h.reDraw();h.onchange();return e})}s.append(y);if(j.p.ruleButtons===d){var D=b("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>"),n;D.bind(r,function(){if(i.rules===undefined)i.rules=[];for(g=0;g<h.p.columns.length;g++){var f=typeof h.p.columns[g].search===v?d:h.p.columns[g].search,k=h.p.columns[g].hidden===d,j=h.p.columns[g].searchoptions.searchhidden===d;if(j&&f||f&&!k){n=h.p.columns[g];break}}var b;if(n.searchoptions.sopt)b=n.searchoptions.sopt;else if(h.p.sopt)b=h.p.sopt;else if(n.searchtype===c)b=h.p.stropts;else b=h.p.numopts;i.rules.push({field:n.name,op:b[0],data:a});h.reDraw();return e});s.append(D)}if(m!==f){var C=b("<input type='button' value='-' title='Delete group' class='delete-group'/>");s.append(C);C.bind(r,function(){for(g=0;g<m.groups.length;g++)if(m.groups[g]===i){m.groups.splice(g,1);break}h.reDraw();h.onchange();return e})}if(i.groups!==undefined)for(g=0;g<i.groups.length;g++){var w=b(t);l.append(w);var H=b(x);w.append(H);var B=b("<td colspan='4'></td>");B.append(j.createTableForGroup(i.groups[g],i));w.append(B)}if(i.groupOp===undefined)i.groupOp=h.p.groupOps[0];if(i.rules!==undefined)for(g=0;g<i.rules.length;g++)l.append(j.createTableRowForRule(i.rules[g],i));return l};l.createTableRowForRule=function(l,I){var w=".input-elm",A="input-elm",n="tr:first",f=this,C=b(t),i,m,y,j,F=a,D;C.append(x);var N=b("<td class='columns'></td>");C.append(N);var H=b("<select></select>"),z,E=[];N.append(H);H.bind(o,function(){var e=".selectopts";l.field=b(H).val();y=b(this).parents(n);for(i=0;i<f.p.columns.length;i++)if(f.p.columns[i].name===l.field){j=f.p.columns[i];break}if(!j)return;j.searchoptions.id=b.jgrid.randId();if(B&&j.inputtype===s)if(!j.searchoptions.size)j.searchoptions.size=10;var g=b.jgrid.createEl(j.inputtype,j.searchoptions,a,d,f.p.ajaxSelectOptions,d);b(g).addClass(A);if(j.searchoptions.sopt)m=j.searchoptions.sopt;else if(f.p.sopt)m=f.p.sopt;else if(j.searchtype===c)m=f.p.stropts;else m=f.p.numopts;var k=a,h=0;E=[];b.each(f.p.ops,function(){E.push(this.name)});for(i=0;i<m.length;i++){z=b.inArray(m[i],E);if(z!==-1){if(h===0)l.op=f.p.ops[z].name;k+=p+f.p.ops[z].name+"'>"+f.p.ops[z].description+q;h++}}b(e,y).empty().append(k);b(e,y)[0].selectedIndex=0;if(b.browser.msie&&b.browser.version<9){var r=parseInt(b("select.selectopts",y)[0].offsetWidth)+1;b(e,y).width(r);b(e,y).css("width","auto")}b(".data",y).empty().append(g);b(w,y).bind(o,function(){l.data=b(this).val();f.onchange()});setTimeout(function(){l.data=b(g).val();f.onchange()},0)});var Q=0;for(i=0;i<f.p.columns.length;i++){var P=typeof f.p.columns[i].search===v?d:f.p.columns[i].search,S=f.p.columns[i].hidden===d,R=f.p.columns[i].searchoptions.searchhidden===d;if(R&&P||P&&!S){D=a;if(l.field===f.p.columns[i].name){D=u;Q=i}F+=p+f.p.columns[i].name+"'"+D+">"+f.p.columns[i].label+q}}H.append(F);var K=b("<td class='operators'></td>");C.append(K);j=k.columns[Q];j.searchoptions.id=b.jgrid.randId();if(B&&j.inputtype===s)if(!j.searchoptions.size)j.searchoptions.size=10;var L=b.jgrid.createEl(j.inputtype,j.searchoptions,l.data,d,f.p.ajaxSelectOptions,d),G=b("<select class='selectopts'></select>");K.append(G);G.bind(o,function(){var d="disabled",c="readonly";l.op=b(G).val();y=b(this).parents(n);var e=b(w,y)[0];if(l.op===g||l.op===h){l.data=a;e.value=a;e.setAttribute(c,"true");e.setAttribute(d,"true")}else{e.removeAttribute(c);e.removeAttribute(d)}f.onchange()});if(j.searchoptions.sopt)m=j.searchoptions.sopt;else if(f.p.sopt)m=f.p.sopt;else if(j.searchtype===c)m=k.stropts;else m=f.p.numopts;F=a;b.each(f.p.ops,function(){E.push(this.name)});for(i=0;i<m.length;i++){z=b.inArray(m[i],E);if(z!==-1){D=l.op===f.p.ops[z].name?u:a;F+=p+f.p.ops[z].name+"'"+D+">"+f.p.ops[z].description+q}}G.append(F);var O=b("<td class='data'></td>");C.append(O);O.append(L);b(L).addClass(A).bind(o,function(){l.data=b(this).val();f.onchange()});var M=b("<td></td>");C.append(M);if(this.p.ruleButtons===d){var J=b("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>");M.append(J);J.bind(r,function(){for(i=0;i<I.rules.length;i++)if(I.rules[i]===l){I.rules.splice(i,1);break}f.reDraw();f.onchange();return e})}return C};l.getStringForGroup=function(c){var b="(",d;if(c.groups!==undefined)for(d=0;d<c.groups.length;d++){if(b.length>1)b+=m+c.groupOp+m;try{b+=this.getStringForGroup(c.groups[d])}catch(e){alert(e)}}if(c.rules!==undefined)try{for(d=0;d<c.rules.length;d++){if(b.length>1)b+=m+c.groupOp+m;b+=this.getStringForRule(c.rules[d])}}catch(f){alert(f)}b+=")";return b==="()"?a:b};l.getStringForRule=function(l){var f=this;for(var n=a,c=a,p,o,d,q=["int","integer","float","number","currency"],e=0;e<f.p.ops.length;e++)if(f.p.ops[e].name===l.op){n=f.p.ops[e].operator;c=f.p.ops[e].name;break}for(e=0;e<f.p.columns.length;e++)if(f.p.columns[e].name===l.field){p=f.p.columns[e];break}d=l.data;if(c==="bw"||c==="bn")d=d+"%";if(c==="ew"||c==="en")d="%"+d;if(c==="cn"||c==="nc")d="%"+d+"%";if(c===i||c===j)d=" ("+d+")";k.errorcheck&&A(l.data,p);if(b.inArray(p.searchtype,q)!==-1||c===h||c===g)o=l.field+m+n+m+d;else o=l.field+m+n+' "'+d+'"';return o};l.resetFilter=function(){var a=this;a.p.filter=b.extend(d,{},a.p.initFilter);a.reDraw();a.onchange()};l.hideError=function(){b(y,this).html(a);b(z,this).hide()};l.showError=function(){b(y,this).html(this.p.errmsg);b(z,this).show()};l.toUserFriendlyString=function(){return this.getStringForGroup(k.filter)};l.toString=function(){var b=this;function d(a){if(b.p.errorcheck){for(var d,c=0;c<b.p.columns.length;c++)if(b.p.columns[c].name===a.field){d=b.p.columns[c];break}d&&A(a.data,d)}return a.op+"(item."+a.field+",'"+a.data+"')"}function c(e){var b="(",f;if(e.groups!==undefined)for(f=0;f<e.groups.length;f++){if(b.length>1)if(e.groupOp==="OR")b+=" || ";else b+=" && ";b+=c(e.groups[f])}if(e.rules!==undefined)for(f=0;f<e.rules.length;f++){if(b.length>1)if(e.groupOp==="OR")b+=" || ";else b+=" && ";b+=d(e.rules[f])}b+=")";return b==="()"?a:b}return c(this.p.filter)};l.reDraw();l.p.showQuery&&l.onchange();l.filter=d})};b.extend(b.fn.jqFilter,{toSQLString:function(){var b=a;this.each(function(){b=this.toUserFriendlyString()});return b},filterData:function(){var a;this.each(function(){a=this.p.filter});return a},getParameter:function(a){if(a!==undefined)if(this.p.hasOwnProperty(a))return this.p[a];return this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(a){if(typeof a===c)a=jQuery.jgrid.parse(a);this.each(function(){this.p.filter=a;this.reDraw();this.onchange()})}})})(jQuery);(function(b){var Nb=".navtable",B="tr",N="<div class='ui-pg-div'><span class='ui-icon ",sb=".ui-jqdialog-titlebar-close",X="prev",W="next",Mb=".fm-button",E="</div>",hb="#cData",w="'></span>",bb="<span class='ui-icon ",ab="fm-button-icon-left",Z="fm-button-icon-right",Lb="ui-icon-close",Kb="text-align",Jb=".EditButton",rb="float",Ib="<span></span>",Hb="</td><td class='EditButton'>",Gb="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>",Fb="' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",Eb="' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",gb="pData",fb="nData",Db="<table id='",Cb=";'></form>",Bb="<form name='FormPost' id='",cb="px",Y="#pData, #nData",Ab=".ui-jqdialog-title",yb="getDataIDs",A="#nData",l="ui-state-disabled",z="#pData",xb="Error deleting the selected row!",wb="setRowData",D="setSelection",U="addRowData",v="#FormError",pb="'. Error code: ",ob=" Status: '",eb="getGridParam",J="ui-state-active",g="_2",C="checked",r="attr",q="prop",I="#id_g",vb="'/></td></tr>",ub="<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='",T="id",nb="FormData",mb=" rowpos='",L="</td></tr>",lb="<tr><td class='contentinfo' colspan='",K="]",kb="tr[rowpos=",db="&#160;",p=")",n="td:eq(",Q="rn",P="subgrid",O="cb",jb="style='display:none'",V="getInd",tb="first",k="ui-state-hover",zb=".fm-button:not(.ui-state-disabled)",u="reloadGrid",x="click",o=10,qb="</td></tr></tbody></table>",G="'>",s=-1,y="</a>",M="<a href='javascript:void(0)' id='",t="right",S="rtl",e="",F="left",H="#gview_",j="#gbox_",m="undefined",a="#",ib="string",R="auto",f=null,d=true,c=false,h={};b.jgrid.extend({searchGrid:function(g){g=b.extend({recreateFilter:c,drag:d,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:d,beforeShowSearch:f,afterShowSearch:f,onInitializeSearch:f,afterRedraw:f,closeAfterSearch:c,closeAfterReset:c,closeOnEscape:c,multipleSearch:c,multipleGroup:c,top:0,left:0,jqModal:d,modal:c,resize:d,width:450,height:R,dataheight:R,showQuery:c,errorcheck:d,sopt:f,stringResult:undefined,onClose:f,onSearch:f,onReset:f,toTop:d,overlay:30,columns:[],tmplNames:f,tmplFilters:f,tmplLabel:" Template: ",showOnLoad:c,layer:f},b.jgrid.search,g||{});return this.each(function(){var p=".ui-template",i=this;if(!i.grid)return;var h="fbox_"+i.p.id,A=d,w={themodal:"searchmod"+h,modalhead:"searchhd"+h,modalcontent:"searchcnt"+h,scrollelm:h},n=i.p.postData[g.sFilter];if(typeof n===ib)n=b.jgrid.parse(n);g.recreateFilter===d&&b(a+w.themodal).remove();function E(){if(b.isFunction(g.beforeShowSearch)){A=g.beforeShowSearch(b(a+h));if(typeof A===m)A=d}if(A){b.jgrid.viewModal(a+w.themodal,{gbox:j+h,jqm:g.jqModal,modal:g.modal,overlay:g.overlay,toTop:g.toTop});b.isFunction(g.afterShowSearch)&&g.afterShowSearch(b(a+h))}}if(b(a+w.themodal).html()!==f)E();else{var l=b("<div><div id='"+h+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore(H+i.p.id),J=F,I=e;if(i.p.direction==S){J=t;I=" style='text-align:left'";l.attr("dir",S)}if(b.isFunction(g.onInitializeSearch))g.onInitializeSearch(b(a+h));var q=b.extend([],i.p.colModel),N=M+h+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+g.Find+y,L=M+h+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+g.Reset+y,D=e,v=e,B,r=c,K,z=s;if(g.showQuery)D=M+h+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>";if(!g.columns.length)b.each(q,function(c,a){if(!a.label)a.label=i.p.colNames[c];if(!r){var b=typeof a.search===m?d:a.search,f=a.hidden===d,e=a.searchoptions&&a.searchoptions.searchhidden===d;if(e&&b||b&&!f){r=d;B=a.index||a.name;z=c}}});else q=g.columns;if(!n&&B||g.multipleSearch===c){var C="eq";if(z>=0&&q[z].searchoptions&&q[z].searchoptions.sopt)C=q[z].searchoptions.sopt[0];else if(g.sopt&&g.sopt.length)C=g.sopt[0];n={groupOp:"AND",rules:[{field:B,op:C,data:e}]}}r=c;if(g.tmplNames&&g.tmplNames.length){r=d;v=g.tmplLabel;v+="<select class='ui-template'>";v+="<option value='default'>Default</option>";b.each(g.tmplNames,function(a,b){v+="<option value='"+a+G+b+"</option>"});v+="</select>"}K="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+h+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+J+G+L+v+"</td><td class='EditButton' "+I+">"+D+N+qb;b(a+h).jqFilter({columns:q,filter:g.loadDefaults?n:f,showQuery:g.showQuery,errorcheck:g.errorcheck,sopt:g.sopt,groupButton:g.multipleGroup,ruleButtons:g.multipleSearch,afterRedraw:g.afterRedraw,_gridsopt:b.jgrid.search.odata,onChange:function(){this.p.showQuery&&b(".query",this).html(this.toUserFriendlyString())},direction:i.p.direction});l.append(K);r&&g.tmplFilters&&g.tmplFilters.length&&b(p,l).bind("change",function(){var d="addFilter",e=b(this).val();if(e=="default")b(a+h).jqFilter(d,n);else b(a+h).jqFilter(d,g.tmplFilters[parseInt(e,o)]);return c});if(g.multipleGroup===d)g.multipleSearch=d;if(b.isFunction(g.onInitializeSearch))g.onInitializeSearch(b(a+h));g.gbox=j+h;if(g.layer)b.jgrid.createModal(w,l,g,H+i.p.id,b(j+i.p.id)[0],a+g.layer,{position:"relative"});else b.jgrid.createModal(w,l,g,H+i.p.id,b(j+i.p.id)[0]);D&&b(a+h+"_query").bind(x,function(){b(".queryresult",l).toggle();return c});if(g.stringResult===undefined)g.stringResult=g.multipleSearch;b(a+h+"_search").bind(x,function(){var l=b(a+h),f={},m,k=l.jqFilter("filterData");if(g.errorcheck){l[0].hideError();!g.showQuery&&l.jqFilter("toSQLString");if(l[0].p.error){l[0].showError();return c}}if(g.stringResult){try{m=xmlJsonClass.toJson(k,e,e,c)}catch(o){try{m=JSON.stringify(k)}catch(n){}}if(typeof m===ib){f[g.sFilter]=m;b.each([g.sField,g.sValue,g.sOper],function(){f[this]=e})}}else if(g.multipleSearch){f[g.sFilter]=k;b.each([g.sField,g.sValue,g.sOper],function(){f[this]=e})}else{f[g.sField]=k.rules[0].field;f[g.sValue]=k.rules[0].data;f[g.sOper]=k.rules[0].op;f[g.sFilter]=e}i.p.search=d;b.extend(i.p.postData,f);b.isFunction(g.onSearch)&&g.onSearch();b(i).trigger(u,[{page:1}]);g.closeAfterSearch&&b.jgrid.hideModal(a+w.themodal,{gb:j+i.p.id,jqm:g.jqModal,onClose:g.onClose});return c});b(a+h+"_reset").bind(x,function(){var d={},f=b(a+h);i.p.search=c;if(g.multipleSearch===c)d[g.sField]=d[g.sValue]=d[g.sOper]=e;else d[g.sFilter]=e;f[0].resetFilter();r&&b(p,l).val("default");b.extend(i.p.postData,d);b.isFunction(g.onReset)&&g.onReset();b(i).trigger(u,[{page:1}]);return c});E();b(zb,l).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)})}})},editGridRow:function(N,B){B=b.extend({top:0,left:0,width:300,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,url:f,mtype:"POST",clearAfterAdd:d,closeAfterEdit:c,reloadAfterSubmit:d,onInitializeForm:f,beforeInitData:f,beforeShowForm:f,afterShowForm:f,beforeSubmit:f,afterSubmit:f,onclickSubmit:f,afterComplete:f,onclickPgButtons:f,afterclickPgButtons:f,editData:{},recreateForm:c,jqModal:d,closeOnEscape:c,addedrow:tb,topinfo:e,bottominfo:e,saveicon:[],closeicon:[],savekey:[c,13],navkeys:[c,38,40],checkOnSubmit:c,checkOnUpdate:c,_savedData:{},processing:c,onClose:f,ajaxEditOptions:{},serializeEditData:f,viewPagerButtons:d},b.jgrid.edit,B||{});h[b(this)[0].p.id]=B;return this.each(function(){var gc="#pData,#nData",fc=".jqmOverlay",bc=".binfo",ac=".tinfo",Sb=".confirm",tb="disabled",Tb="#sData",zb="_id",Ub="select",Pb="textarea",Vb="text",Zb="password",Xb="offval",Qb="checkbox",Yb="function 'custom_value' ",Rb="e1",qb="_empty",R=this;if(!R.grid||!N)return;var Wb=R.p.id,Nb="FrmGrid_"+Wb,sb="TblGrid_"+Wb,Ob={themodal:"editmod"+Wb,modalhead:"edithd"+Wb,modalcontent:"editcnt"+Wb,scrollelm:Nb},lc=b.isFunction(h[R.p.id].beforeShowForm)?h[R.p.id].beforeShowForm:c,mc=b.isFunction(h[R.p.id].afterShowForm)?h[R.p.id].afterShowForm:c,kc=b.isFunction(h[R.p.id].beforeInitData)?h[R.p.id].beforeInitData:c,Dc=b.isFunction(h[R.p.id].onInitializeForm)?h[R.p.id].onInitializeForm:c,Sc=f,dc=d,ic=1,xc=0,ib,cc,oc,qc;if(N==="new"){N=qb;B.caption=h[R.p.id].addCaption}else B.caption=h[R.p.id].editCaption;B.recreateForm===d&&b(a+Ob.themodal).html()!==f&&b(a+Ob.themodal).remove();var vc=d;if(B.checkOnUpdate&&B.jqModal&&!B.modal)vc=c;function Gc(){b(a+sb+" > tbody > tr > td > .FormElement").each(function(){var f="option:selected",c=this,i=b(".customelement",c);if(i.length){var j=i[0],g=b(j).attr("name");b.each(R.p.colModel,function(){var c=this;if(c.name===g&&c.editoptions&&b.isFunction(c.editoptions.custom_value)){try{ib[g]=c.editoptions.custom_value(b(a+b.jgrid.jqID(g),a+sb),"get");if(ib[g]===undefined)throw Rb;}catch(e){if(e===Rb)b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,Yb+b.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose);else b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e.message,jQuery.jgrid.edit.bClose)}return d}})}else{switch(b(c).get(0).type){case Qb:if(b(c).is(":checked"))ib[c.name]=b(c).val();else{var k=b(c).attr(Xb);ib[c.name]=k}break;case"select-one":ib[c.name]=b(f,c).val();cc[c.name]=b(f,c).text();break;case"select-multiple":ib[c.name]=b(c).val();if(ib[c.name])ib[c.name]=ib[c.name].join(",");else ib[c.name]=e;var h=[];b(f,c).each(function(c,a){h[c]=b(a).text()});cc[c.name]=h.join(",");break;case Zb:case Vb:case Pb:case"button":ib[c.name]=b(c).val()}if(R.p.autoencode)ib[c.name]=b.jgrid.htmlEncode(ib[c.name])}});return d}function Nc(j,f,r,s){for(var g,t,i,q=0,a,x,k,u=[],l=c,z="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",w=e,y=1;y<=s;y++)w+=z;if(j!=qb)l=b(f).jqGrid(V,j);b(f.p.colModel).each(function(z){var v=this;g=v.name;if(v.editrules&&v.editrules.edithidden===d)t=c;else t=v.hidden===d?d:c;x=t?jb:e;if(g!==O&&g!==P&&v.editable===d&&g!==Q){if(l===c)a=e;else if(g==f.p.ExpandColumn&&f.p.treeGrid===d)a=b(n+z+p,f.rows[l]).text();else{try{a=b.unformat(b(n+z+p,f.rows[l]),{rowId:j,colModel:v},z)}catch(E){a=v.edittype&&v.edittype==Pb?b(n+z+p,f.rows[l]).text():b(n+z+p,f.rows[l]).html()}if(!a||a=="&nbsp;"||a==db||a.length==1&&a.charCodeAt(0)==160)a=e}var A=b.extend({},v.editoptions||{},{id:g,name:g}),y=b.extend({},{elmprefix:e,elmsuffix:e,rowabove:c,rowcontent:e},v.formoptions||{}),B=parseInt(y.rowpos,o)||q+1,D=parseInt((parseInt(y.colpos,o)||1)*2,o);if(j==qb&&A.defaultValue)a=b.isFunction(A.defaultValue)?A.defaultValue():A.defaultValue;if(!v.edittype)v.edittype=Vb;if(R.p.autoencode)a=b.jgrid.htmlDecode(a);k=b.jgrid.createEl(v.edittype,A,a,c,b.extend({},b.jgrid.ajaxOptions,f.p.ajaxSelectOptions||{}));if(a===e&&v.edittype==Qb)a=b(k).attr(Xb);if(a===e&&v.edittype==Ub)a=b("option:eq(0)",k).text();if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[g]=a;b(k).addClass("FormElement");(v.edittype==Vb||v.edittype==Pb)&&b(k).addClass("ui-widget-content ui-corner-all");i=b(r).find(kb+B+K);if(y.rowabove){var C=b(lb+s*2+G+y.rowcontent+L);b(r).append(C);C[0].rp=B}if(i.length===0){i=b("<tr "+x+mb+B+"'></tr>").addClass(nb).attr(T,"tr_"+g);b(i).append(w);b(r).append(i);i[0].rp=B}b(n+(D-2)+p,i[0]).html(typeof y.label===m?f.p.colNames[z]:y.label);b(n+(D-1)+p,i[0]).append(y.elmprefix).append(k).append(y.elmsuffix);u[q]=z;q++}});if(q>0){var v=b(ub+(s*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+f.p.id+"_id' value='"+j+vb);v[0].rp=q+999;b(r).append(v);if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[f.p.id+zb]=j}return u}function nc(n,o,l){var i,u=0,g,j,p,m,t;if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate){h[R.p.id]._savedData={};h[R.p.id]._savedData[o.p.id+zb]=n}var k=o.p.colModel;if(n==qb){b(k).each(function(){i=this.name;p=b.extend({},this.editoptions||{});j=b(a+b.jgrid.jqID(i),a+l);if(j&&j.length&&j[0]!==f){m=e;if(p.defaultValue){m=b.isFunction(p.defaultValue)?p.defaultValue():p.defaultValue;if(j[0].type==Qb){t=m.toLowerCase();if(t.search(/(false|0|no|off|undefined)/i)<0&&t!==e){j[0].checked=d;j[0].defaultChecked=d;j[0].value=m}else{j[0].checked=c;j[0].defaultChecked=c}}else j.val(m)}else if(j[0].type==Qb){j[0].checked=c;j[0].defaultChecked=c;m=b(j).attr(Xb)}else if(j[0].type&&j[0].type.substr(0,6)==Ub)j[0].selectedIndex=0;else j.val(m);if(h[R.p.id].checkOnSubmit===d||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[i]=m}});b(I,a+l).val(n);return}var v=b(o).jqGrid(V,n,d);if(!v)return;b("td",v).each(function(j){var f="defaultChecked",p=this;i=k[j].name;if(i!==O&&i!==P&&i!==Q&&k[j].editable===d){if(i==o.p.ExpandColumn&&o.p.treeGrid===d)g=b(p).text();else try{g=b.unformat(b(p),{rowId:n,colModel:k[j]},j)}catch(w){g=k[j].edittype==Pb?b(p).text():b(p).html()}if(R.p.autoencode)g=b.jgrid.htmlDecode(g);if(h[R.p.id].checkOnSubmit===d||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[i]=g;i=b.jgrid.jqID(i);switch(k[j].edittype){case Zb:case Vb:case"button":case"image":case Pb:if(g=="&nbsp;"||g==db||g.length==1&&g.charCodeAt(0)==160)g=e;b(a+i,a+l).val(g);break;case Ub:var m=g.split(",");m=b.map(m,function(a){return b.trim(a)});b(a+i+" option",a+l).each(function(){var a=this;if(!k[j].editoptions.multiple&&(b.trim(g)==b.trim(b(a).text())||m[0]==b.trim(b(a).text())||m[0]==b.trim(b(a).val())))a.selected=d;else if(k[j].editoptions.multiple)if(b.inArray(b.trim(b(a).text()),m)>s||b.inArray(b.trim(b(a).val()),m)>s)a.selected=d;else a.selected=c;else a.selected=c});break;case Qb:g=g+e;if(k[j].editoptions&&k[j].editoptions.value){var t=k[j].editoptions.value.split(":");if(t[0]==g){b(a+i,a+l)[R.p.useProp?q:r](C,d);b(a+i,a+l)[R.p.useProp?q:r](f,d)}else{b(a+i,a+l)[R.p.useProp?q:r](C,c);b(a+i,a+l)[R.p.useProp?q:r](f,c)}}else{g=g.toLowerCase();if(g.search(/(false|0|no|off|undefined)/i)<0&&g!==e){b(a+i,a+l)[R.p.useProp?q:r](C,d);b(a+i,a+l)[R.p.useProp?q:r](f,d)}else{b(a+i,a+l)[R.p.useProp?q:r](C,c);b(a+i,a+l)[R.p.useProp?q:r](f,c)}}break;case"custom":try{if(k[j].editoptions&&b.isFunction(k[j].editoptions.custom_value))k[j].editoptions.custom_value(b(a+i,a+l),"set",g);else throw Rb;}catch(v){if(v==Rb)b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,Yb+b.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);else b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,v.message,jQuery.jgrid.edit.bClose)}}u++}});u>0&&b(I,a+sb).val(n)}function pc(){var o="#FormError>td",w,k=[d,e,e],y={},n=R.p.prmNames,l,p,t,r;if(b.isFunction(h[R.p.id].beforeCheckValues)){var x=h[R.p.id].beforeCheckValues(ib,b(a+Nb),ib[R.p.id+zb]==qb?n.addoper:n.editoper);if(x&&typeof x==="object")ib=x}for(t in ib)if(ib.hasOwnProperty(t)){k=b.jgrid.checkValues(ib[t],t,R);if(k[0]===c)break}Oc();if(k[0]){if(b.isFunction(h[R.p.id].onclickSubmit))y=h[R.p.id].onclickSubmit(h[R.p.id],ib)||{};if(b.isFunction(h[R.p.id].beforeSubmit))k=h[R.p.id].beforeSubmit(ib,b(a+Nb))}if(k[0]&&!h[R.p.id].processing){h[R.p.id].processing=d;b(Tb,a+sb+g).addClass(J);p=n.oper;l=n.id;ib[p]=b.trim(ib[R.p.id+zb])==qb?n.addoper:n.editoper;if(ib[p]!=n.addoper)ib[l]=ib[R.p.id+zb];else if(ib[l]===undefined)ib[l]=ib[R.p.id+zb];delete ib[R.p.id+zb];ib=b.extend(ib,h[R.p.id].editData,y);if(R.p.treeGrid===d){if(ib[p]==n.addoper){r=b(R).jqGrid(eb,"selrow");var A=R.p.treeGridModel=="adjacency"?R.p.treeReader.parent_id_field:"parent_id";ib[A]=r}for(i in R.p.treeReader){var z=R.p.treeReader[i];if(ib.hasOwnProperty(z)){if(ib[p]==n.addoper&&i==="parent_id_field")continue;delete ib[z]}}}ib[l]=b.jgrid.stripPref(R.p.idPrefix,ib[l]);var q=b.extend({url:h[R.p.id].url?h[R.p.id].url:b(R).jqGrid(eb,"editurl"),type:h[R.p.id].mtype,data:b.isFunction(h[R.p.id].serializeEditData)?h[R.p.id].serializeEditData(ib):ib,complete:function(i,q){var e="addChildNode";ib[l]=R.p.idPrefix+ib[l];if(q!="success"){k[0]=c;if(b.isFunction(h[R.p.id].errorTextFormat))k[1]=h[R.p.id].errorTextFormat(i);else k[1]=q+ob+i.statusText+pb+i.status}else if(b.isFunction(h[R.p.id].afterSubmit))k=h[R.p.id].afterSubmit(i,ib);if(k[0]===c){b(o,a+sb).html(k[1]);b(v,a+sb).show()}else{b.each(R.p.colModel,function(){var a=this;if(cc[a.name]&&a.formatter&&a.formatter==Ub)try{delete cc[a.name]}catch(b){}});ib=b.extend(ib,cc);R.p.autoencode&&b.each(ib,function(a,c){ib[a]=b.jgrid.htmlDecode(c)});if(ib[p]==n.addoper){if(!k[2])k[2]=b.jgrid.randId();ib[l]=k[2];if(h[R.p.id].closeAfterAdd){if(h[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],r,ib);else{b(R).jqGrid(U,k[2],ib,B.addedrow);b(R).jqGrid(D,k[2])}b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose})}else if(h[R.p.id].clearAfterAdd){if(h[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],r,ib);else b(R).jqGrid(U,k[2],ib,B.addedrow);nc(qb,R,Nb)}else if(h[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],r,ib);else b(R).jqGrid(U,k[2],ib,B.addedrow)}else{if(h[R.p.id].reloadAfterSubmit){b(R).trigger(u);!h[R.p.id].closeAfterEdit&&setTimeout(function(){b(R).jqGrid(D,ib[l])},1e3)}else if(R.p.treeGrid===d)b(R).jqGrid("setTreeRow",ib[l],ib);else b(R).jqGrid(wb,ib[l],ib);h[R.p.id].closeAfterEdit&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose})}if(b.isFunction(h[R.p.id].afterComplete)){w=i;setTimeout(function(){h[R.p.id].afterComplete(w,ib,b(a+Nb));w=f},500)}if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate){b(a+Nb).data(tb,c);if(h[R.p.id]._savedData[R.p.id+zb]!=qb)for(var m in h[R.p.id]._savedData)if(ib[m])h[R.p.id]._savedData[m]=ib[m]}}h[R.p.id].processing=c;b(Tb,a+sb+g).removeClass(J);try{b(":input:visible",a+Nb)[0].focus()}catch(s){}}},b.jgrid.ajaxOptions,h[R.p.id].ajaxEditOptions);if(!q.url&&!h[R.p.id].useDataProxy)if(b.isFunction(R.p.dataProxy))h[R.p.id].useDataProxy=d;else{k[0]=c;k[1]+=" "+b.jgrid.errors.nourl}if(k[0])if(h[R.p.id].useDataProxy){var s=R.p.dataProxy.call(R,q,"set_"+R.p.id);if(typeof s==m)s=[d,e];if(s[0]===c){k[0]=c;k[1]=s[1]||xb}else{q.data.oper==n.addoper&&h[R.p.id].closeAfterAdd&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});q.data.oper==n.editoper&&h[R.p.id].closeAfterEdit&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose})}}else b.ajax(q)}if(k[0]===c){b(o,a+sb).html(k[1]);b(v,a+sb).show()}}function Fc(b,f){var e=c,a;for(a in b)if(b[a]!=f[a]){e=d;break}return e}function Oc(){b.each(R.p.colModel,function(b,a){if(a.editoptions&&a.editoptions.NullIfEmpty===d)if(ib.hasOwnProperty(a.name)&&ib[a.name]==e)ib[a.name]="null"})}function ec(){var e=d;b(v,a+sb).hide();if(h[R.p.id].checkOnUpdate){ib={};cc={};Gc();oc=b.extend({},ib,cc);qc=Fc(oc,h[R.p.id]._savedData);if(qc){b(a+Nb).data(tb,d);b(Sb,a+Ob.themodal).show();e=c}}return e}function Ec(){if(N!==qb&&typeof R.p.savedRow!==m&&R.p.savedRow.length>0&&b.isFunction(b.fn.jqGrid.restoreRow))for(var a=0;a<R.p.savedRow.length;a++)if(R.p.savedRow[a].id==N){b(R).jqGrid("restoreRow",N);break}}function wc(c,d){if(c===0)b(z,a+sb+g).addClass(l);else b(z,a+sb+g).removeClass(l);if(c==d)b(A,a+sb+g).addClass(l);else b(A,a+sb+g).removeClass(l)}function uc(){var c=b(R).jqGrid(yb),d=b(I,a+sb).val(),e=b.inArray(d,c);return[e,c]}if(b(a+Ob.themodal).html()!==f){if(kc){dc=kc(b(a+Nb));if(typeof dc==m)dc=d}if(dc===c)return;Ec();b(Ab,a+Ob.modalhead).html(B.caption);b(v,a+sb).hide();if(h[R.p.id].topinfo){b(".topinfo",a+sb).html(h[R.p.id].topinfo);b(ac,a+sb).show()}else b(ac,a+sb).hide();if(h[R.p.id].bottominfo){b(".bottominfo",a+sb+g).html(h[R.p.id].bottominfo);b(bc,a+sb+g).show()}else b(bc,a+sb+g).hide();nc(N,R,Nb);if(N==qb||!h[R.p.id].viewPagerButtons)b(Y,a+sb+g).hide();else b(Y,a+sb+g).show();if(h[R.p.id].processing===d){h[R.p.id].processing=c;b(Tb,a+sb+g).removeClass(J)}if(b(a+Nb).data(tb)===d){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c)}lc&&lc(b(a+Nb));b(a+Ob.themodal).data("onClose",h[R.p.id].onClose);b.jgrid.viewModal(a+Ob.themodal,{gbox:j+Wb,jqm:B.jqModal,jqM:c,overlay:B.overlay,modal:B.modal});!vc&&b(fc).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c});mc&&mc(b(a+Nb))}else{var Rc=isNaN(B.dataheight)?B.dataheight:B.dataheight+cb,Kc=b(Bb+Nb+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+Rc+Cb).data(tb,c),hc=b(Db+sb+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>");if(kc){dc=kc(b(a+Nb));if(typeof dc==m)dc=d}if(dc===c)return;Ec();b(R.p.colModel).each(function(){var a=this.formoptions;ic=Math.max(ic,a?a.colpos||0:0);xc=Math.max(xc,a?a.rowpos||0:0)});b(Kc).append(hc);var jc=b("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+ic*2+"'></td></tr>");jc[0].rp=0;b(hc).append(jc);jc=b("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+ic*2+G+h[R.p.id].topinfo+L);jc[0].rp=0;b(hc).append(jc);var rc=R.p.direction==S?d:c,Qc=rc?fb:gb,Pc=rc?gb:fb;Nc(N,R,hc,ic);var Mc=M+Qc+Eb,sc=M+Pc+Fb,zc="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+B.bSubmit+y,yc=Gb+B.bCancel+y,tc="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+sb+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(rc?sc+Mc:Mc+sc)+Hb+zc+yc+L;tc+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+h[R.p.id].bottominfo+L;tc+="</tbody></table>";if(xc>0){var Bc=[],Jc={};b.each(b(hc)[0].rows,function(a,b){Bc[a]=b});Bc.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?s:0});b.each(Bc,function(b,a){Jc.html+=a});b("tbody",hc).append(Jc.html)}B.gbox=j+Wb;var Ic=c;if(B.closeOnEscape===d){B.closeOnEscape=c;Ic=d}var Lc=b(Ib).append(Kc).append(tc);b.jgrid.createModal(Ob,Lc,B,H+R.p.id,b(j+R.p.id)[0]);if(rc){b(Y,a+sb+g).css(rb,t);b(Jb,a+sb+g).css(Kb,F)}h[R.p.id].topinfo&&b(ac,a+sb).show();h[R.p.id].bottominfo&&b(bc,a+sb+g).show();Lc=f;tc=f;b(a+Ob.themodal).keydown(function(e){var f=e.target;if(b(a+Nb).data(tb)===d)return c;if(h[R.p.id].savekey[0]===d&&e.which==h[R.p.id].savekey[1])if(f.tagName!="TEXTAREA"){b(Tb,a+sb+g).trigger(x);return c}if(e.which===27){if(!ec())return c;Ic&&b.jgrid.hideModal(this,{gb:B.gbox,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c}if(h[R.p.id].navkeys[0]===d){if(b(I,a+sb).val()==qb)return d;if(e.which==h[R.p.id].navkeys[1]){b(z,a+sb+g).trigger(x);return c}if(e.which==h[R.p.id].navkeys[2]){b(A,a+sb+g).trigger(x);return c}}});if(B.checkOnUpdate){b("a.ui-jqdialog-titlebar-close span",a+Ob.themodal).removeClass("jqmClose");b("a.ui-jqdialog-titlebar-close",a+Ob.themodal).unbind(x).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c})}B.saveicon=b.extend([d,F,"ui-icon-disk"],B.saveicon);B.closeicon=b.extend([d,F,Lb],B.closeicon);B.saveicon[0]===d&&b(Tb,a+sb+g).addClass(B.saveicon[1]==t?Z:ab).append(bb+B.saveicon[2]+w);B.closeicon[0]===d&&b(hb,a+sb+g).addClass(B.closeicon[1]==t?Z:ab).append(bb+B.closeicon[2]+w);if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate){zc="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bYes+y;sc="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bNo+y;yc="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bExit+y;var Ac,Cc=B.zIndex||999;Cc++;if(b.browser.msie&&b.browser.version==6)Ac='<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>';else Ac=e;b("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+Cc+";display:none;'>&#160;"+Ac+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(Cc+1)+G+B.saveData+"<br/><br/>"+zc+sc+yc+E).insertAfter(a+Nb);b("#sNew",a+Ob.themodal).click(function(){pc();b(a+Nb).data(tb,c);b(Sb,a+Ob.themodal).hide();return c});b("#nNew",a+Ob.themodal).click(function(){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c);setTimeout(function(){b(":input",a+Nb)[0].focus()},0);return c});b("#cNew",a+Ob.themodal).click(function(){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c);b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c})}Dc&&Dc(b(a+Nb));if(N==qb||!h[R.p.id].viewPagerButtons)b(gc,a+sb+g).hide();else b(gc,a+sb+g).show();lc&&lc(b(a+Nb));b(a+Ob.themodal).data("onClose",h[R.p.id].onClose);b.jgrid.viewModal(a+Ob.themodal,{gbox:j+Wb,jqm:B.jqModal,overlay:B.overlay,modal:B.modal});!vc&&b(fc).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c});mc&&mc(b(a+Nb));b(Mb,a+Ob.themodal).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});b(Tb,a+sb+g).click(function(){ib={};cc={};b(v,a+sb).hide();Gc();if(ib[R.p.id+zb]==qb)pc();else if(B.checkOnSubmit===d){oc=b.extend({},ib,cc);qc=Fc(oc,h[R.p.id]._savedData);if(qc){b(a+Nb).data(tb,d);b(Sb,a+Ob.themodal).show()}else pc()}else pc();return c});b(hb,a+sb+g).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c});b(A,a+sb+g).click(function(){if(!ec())return c;b(v,a+sb).hide();var d=uc();d[0]=parseInt(d[0],o);if(d[0]!=s&&d[1][d[0]+1]){if(b.isFunction(B.onclickPgButtons))B.onclickPgButtons(W,b(a+Nb),d[1][d[0]]);nc(d[1][d[0]+1],R,Nb);b(R).jqGrid(D,d[1][d[0]+1]);b.isFunction(B.afterclickPgButtons)&&B.afterclickPgButtons(W,b(a+Nb),d[1][d[0]+1]);wc(d[0]+1,d[1].length-1)}return c});b(z,a+sb+g).click(function(){if(!ec())return c;b(v,a+sb).hide();var d=uc();if(d[0]!=s&&d[1][d[0]-1]){if(b.isFunction(B.onclickPgButtons))B.onclickPgButtons(X,b(a+Nb),d[1][d[0]]);nc(d[1][d[0]-1],R,Nb);b(R).jqGrid(D,d[1][d[0]-1]);b.isFunction(B.afterclickPgButtons)&&B.afterclickPgButtons(X,b(a+Nb),d[1][d[0]-1]);wc(d[0]-1,d[1].length-1)}return c})}var Hc=uc();wc(Hc[0],Hc[1].length-1)})},viewGridRow:function(i,h){h=b.extend({top:0,left:0,width:0,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,jqModal:d,closeOnEscape:c,labelswidth:"30%",closeicon:[],navkeys:[c,38,40],onClose:f,beforeShowForm:f,beforeInitData:f,viewPagerButtons:d},b.jgrid.view,h||{});return this.each(function(){var r=this;if(!r.grid||!i)return;var B=r.p.id,u="ViewGrid_"+B,q="ViewTbl_"+B,E={themodal:"viewmod"+B,modalhead:"viewhd"+B,modalcontent:"viewcnt"+B,scrollelm:u},J=b.isFunction(h.beforeInitData)?h.beforeInitData:c,C=d,ob=1,pb=0;function N(){(h.closeOnEscape===d||h.navkeys[0]===d)&&setTimeout(function(){b(sb,a+E.modalhead).focus()},0)}function Qb(C,g,u,v){for(var f,i,a,j=0,r,E,A=[],q=c,I="<td class='CaptionTD form-view-label ui-widget-content' width='"+h.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",D=e,F="<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>",H=["integer","number","currency"],k=0,l=0,x,w,z,y=1;y<=v;y++)D+=y==1?I:F;b(g.p.colModel).each(function(){var a=this;if(a.editrules&&a.editrules.edithidden===d)i=c;else i=a.hidden===d?d:c;if(!i&&a.align===t)if(a.formatter&&b.inArray(a.formatter,H)!==s)k=Math.max(k,parseInt(a.width,o));else l=Math.max(l,parseInt(a.width,o))});x=k!==0?k:l!==0?l:0;q=b(g).jqGrid(V,C);b(g.p.colModel).each(function(s){var h=this;f=h.name;w=c;if(h.editrules&&h.editrules.edithidden===d)i=c;else i=h.hidden===d?d:c;E=i?jb:e;z=typeof h.viewable!="boolean"?d:h.viewable;if(f!==O&&f!==P&&f!==Q&&z){if(q===c)r=e;else if(f==g.p.ExpandColumn&&g.p.treeGrid===d)r=b(n+s+p,g.rows[q]).text();else r=b(n+s+p,g.rows[q]).html();w=h.align===t&&x!==0?d:c;var C=b.extend({},h.editoptions||{},{id:f,name:f}),k=b.extend({},{rowabove:c,rowcontent:e},h.formoptions||{}),l=parseInt(k.rowpos,o)||j+1,y=parseInt((parseInt(k.colpos,o)||1)*2,o);if(k.rowabove){var B=b(lb+v*2+G+k.rowcontent+L);b(u).append(B);B[0].rp=l}a=b(u).find(kb+l+K);if(a.length===0){a=b("<tr "+E+mb+l+"'></tr>").addClass(nb).attr(T,"trv_"+f);b(a).append(D);b(u).append(a);a[0].rp=l}b(n+(y-2)+p,a[0]).html("<b>"+(typeof k.label===m?g.p.colNames[s]:k.label)+"</b>");b(n+(y-1)+p,a[0]).append("<span>"+r+"</span>").attr(T,"v_"+f);w&&b(n+(y-1)+") span",a[0]).css({"text-align":t,width:x+cb});A[j]=s;j++}});if(j>0){var B=b(ub+(v*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+C+vb);B[0].rp=j+99;b(u).append(B)}return A}function ib(j,f){var e,i,k=0,g,l,h;h=b(f).jqGrid(V,j,d);if(!h)return;b("td",h).each(function(h){e=f.p.colModel[h].name;if(f.p.colModel[h].editrules&&f.p.colModel[h].editrules.edithidden===d)i=c;else i=f.p.colModel[h].hidden===d?d:c;if(e!==O&&e!==P&&e!==Q){if(e==f.p.ExpandColumn&&f.p.treeGrid===d)g=b(this).text();else g=b(this).html();l=b.extend({},f.p.colModel[h].editoptions||{});e=b.jgrid.jqID("v_"+e);b(a+e+" span",a+q).html(g);i&&b(a+e,a+q).parents("tr:first").hide();k++}});k>0&&b(I,a+q).val(j)}function eb(c,d){if(c===0)b(z,a+q+g).addClass(l);else b(z,a+q+g).removeClass(l);if(c==d)b(A,a+q+g).addClass(l);else b(A,a+q+g).removeClass(l)}function db(){var c=b(r).jqGrid(yb),d=b(I,a+q).val(),e=b.inArray(d,c);return[e,c]}if(b(a+E.themodal).html()!==f){if(J){C=J(b(a+u));if(typeof C==m)C=d}if(C===c)return;b(Ab,a+E.modalhead).html(h.caption);b(v,a+q).hide();ib(i,r);b.isFunction(h.beforeShowForm)&&h.beforeShowForm(b(a+u));b.jgrid.viewModal(a+E.themodal,{gbox:j+B,jqm:h.jqModal,jqM:c,overlay:h.overlay,modal:h.modal});N()}else{var Ub=isNaN(h.dataheight)?h.dataheight:h.dataheight+cb,Mb=b(Bb+u+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+Ub+Cb),U=b(Db+q+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(J){C=J(b(a+u));if(typeof C==m)C=d}if(C===c)return;b(r.p.colModel).each(function(){var a=this.formoptions;ob=Math.max(ob,a?a.colpos||0:0);pb=Math.max(pb,a?a.rowpos||0:0)});b(Mb).append(U);Qb(i,r,U,ob);var R=r.p.direction==S?d:c,Tb=R?fb:gb,Sb=R?gb:fb,Ob=M+Tb+Eb,Nb=M+Sb+Fb,Rb=Gb+h.bClose+y;if(pb>0){var tb=[];b.each(b(U)[0].rows,function(a,b){tb[a]=b});tb.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?s:0});b.each(tb,function(c,a){b("tbody",U).append(a)})}h.gbox=j+B;var xb=c;if(h.closeOnEscape===d){h.closeOnEscape=c;xb=d}var Pb=b(Ib).append(Mb).append("<table border='0' class='EditTable' id='"+q+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+h.labelswidth+G+(R?Nb+Ob:Ob+Nb)+Hb+Rb+qb);b.jgrid.createModal(E,Pb,h,H+r.p.id,b(H+r.p.id)[0]);if(R){b(Y,a+q+g).css(rb,t);b(Jb,a+q+g).css(Kb,F)}!h.viewPagerButtons&&b(Y,a+q+g).hide();Pb=f;b(a+E.themodal).keydown(function(e){if(e.which===27){xb&&b.jgrid.hideModal(this,{gb:h.gbox,jqm:h.jqModal,onClose:h.onClose});return c}if(h.navkeys[0]===d){if(e.which===h.navkeys[1]){b(z,a+q+g).trigger(x);return c}if(e.which===h.navkeys[2]){b(A,a+q+g).trigger(x);return c}}});h.closeicon=b.extend([d,F,Lb],h.closeicon);h.closeicon[0]===d&&b(hb,a+q+g).addClass(h.closeicon[1]==t?Z:ab).append(bb+h.closeicon[2]+w);b.isFunction(h.beforeShowForm)&&h.beforeShowForm(b(a+u));b.jgrid.viewModal(a+E.themodal,{gbox:j+B,jqm:h.jqModal,modal:h.modal});b(zb,a+q+g).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});N();b(hb,a+q+g).click(function(){b.jgrid.hideModal(a+E.themodal,{gb:j+B,jqm:h.jqModal,onClose:h.onClose});return c});b(A,a+q+g).click(function(){b(v,a+q).hide();var d=db();d[0]=parseInt(d[0],o);if(d[0]!=s&&d[1][d[0]+1]){if(b.isFunction(h.onclickPgButtons))h.onclickPgButtons(W,b(a+u),d[1][d[0]]);ib(d[1][d[0]+1],r);b(r).jqGrid(D,d[1][d[0]+1]);b.isFunction(h.afterclickPgButtons)&&h.afterclickPgButtons(W,b(a+u),d[1][d[0]+1]);eb(d[0]+1,d[1].length-1)}N();return c});b(z,a+q+g).click(function(){b(v,a+q).hide();var d=db();if(d[0]!=s&&d[1][d[0]-1]){if(b.isFunction(h.onclickPgButtons))h.onclickPgButtons(X,b(a+u),d[1][d[0]]);ib(d[1][d[0]-1],r);b(r).jqGrid(D,d[1][d[0]-1]);b.isFunction(h.afterclickPgButtons)&&h.afterclickPgButtons(X,b(a+u),d[1][d[0]-1]);eb(d[0]-1,d[1].length-1)}N();return c})}var wb=db();eb(wb[0],wb[1].length-1)})},delGridRow:function(l,i){i=b.extend({top:0,left:0,width:240,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,url:e,mtype:"POST",reloadAfterSubmit:d,beforeShowForm:f,beforeInitData:f,afterShowForm:f,beforeSubmit:f,onclickSubmit:f,afterSubmit:f,jqModal:d,closeOnEscape:c,delData:{},delicon:[],cancelicon:[],onClose:f,ajaxDelOptions:{},processing:c,serializeDelData:f,useDataProxy:c},b.jgrid.del,i||{});h[b(this)[0].p.id]=i;return this.each(function(){var p="#dData",q="#DelError",x="#DelData>td",n=this;if(!n.grid)return;if(!l)return;var E=b.isFunction(h[n.p.id].beforeShowForm),G=b.isFunction(h[n.p.id].afterShowForm),B=b.isFunction(h[n.p.id].beforeInitData)?h[n.p.id].beforeInitData:c,r=n.p.id,D={},s=d,o="DelTbl_"+r,A,I,C,K,v={themodal:"delmod"+r,modalhead:"delhd"+r,modalcontent:"delcnt"+r,scrollelm:o};if(jQuery.isArray(l))l=l.join();if(b(a+v.themodal).html()!==f){if(B){s=B(b(a+o));if(typeof s==m)s=d}if(s===c)return;b(x,a+o).text(l);b(q,a+o).hide();if(h[n.p.id].processing===d){h[n.p.id].processing=c;b(p,a+o).removeClass(J)}E&&h[n.p.id].beforeShowForm(b(a+o));b.jgrid.viewModal(a+v.themodal,{gbox:j+r,jqm:h[n.p.id].jqModal,jqM:c,overlay:h[n.p.id].overlay,modal:h[n.p.id].modal});G&&h[n.p.id].afterShowForm(b(a+o))}else{var O=isNaN(h[n.p.id].dataheight)?h[n.p.id].dataheight:h[n.p.id].dataheight+cb,z="<div id='"+o+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+O+";'>";z+="<table class='DelTable'><tbody>";z+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>";z+="<tr id='DelData' style='display:none'><td >"+l+L;z+='<tr><td class="delmsg" style="white-space:pre;">'+h[n.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>";z+="</tbody></table></div>";var N="<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+i.bSubmit+y,M="<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+i.bCancel+y;z+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+o+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+N+db+M+qb;i.gbox=j+r;b.jgrid.createModal(v,z,i,H+n.p.id,b(H+n.p.id)[0]);if(B){s=B(b(a+o));if(typeof s==m)s=d}if(s===c)return;b(Mb,a+o+g).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});i.delicon=b.extend([d,F,"ui-icon-scissors"],h[n.p.id].delicon);i.cancelicon=b.extend([d,F,"ui-icon-cancel"],h[n.p.id].cancelicon);i.delicon[0]===d&&b(p,a+o+g).addClass(i.delicon[1]==t?Z:ab).append(bb+i.delicon[2]+w);i.cancelicon[0]===d&&b("#eData",a+o+g).addClass(i.cancelicon[1]==t?Z:ab).append(bb+i.cancelicon[2]+w);b(p,a+o+g).click(function(){var s="#DelError>td",k=[d,e];D={};var l=b(x,a+o).text();if(b.isFunction(h[n.p.id].onclickSubmit))D=h[n.p.id].onclickSubmit(h[n.p.id],l)||{};if(b.isFunction(h[n.p.id].beforeSubmit))k=h[n.p.id].beforeSubmit(l);if(k[0]&&!h[n.p.id].processing){h[n.p.id].processing=d;b(this).addClass(J);C=n.p.prmNames;A=b.extend({},h[n.p.id].delData,D);K=C.oper;A[K]=C.deloper;I=C.id;l=l.split(",");for(var y in l)if(l.hasOwnProperty(y))l[y]=b.jgrid.stripPref(n.p.idPrefix,l[y]);A[I]=l.join();var w=b.extend({url:h[n.p.id].url?h[n.p.id].url:b(n).jqGrid(eb,"editurl"),type:h[n.p.id].mtype,data:b.isFunction(h[n.p.id].serializeDelData)?h[n.p.id].serializeDelData(A):A,complete:function(e,w){if(w!="success"){k[0]=c;if(b.isFunction(h[n.p.id].errorTextFormat))k[1]=h[n.p.id].errorTextFormat(e);else k[1]=w+ob+e.statusText+pb+e.status}else if(b.isFunction(h[n.p.id].afterSubmit))k=h[n.p.id].afterSubmit(e,A);if(k[0]===c){b(s,a+o).html(k[1]);b(q,a+o).show()}else{if(h[n.p.id].reloadAfterSubmit&&n.p.datatype!="local")b(n).trigger(u);else{var m=[];m=l.split(",");if(n.p.treeGrid===d)try{b(n).jqGrid("delTreeNode",n.p.idPrefix+m[0])}catch(x){}else for(var t=0;t<m.length;t++)b(n).jqGrid("delRowData",n.p.idPrefix+m[t]);n.p.selrow=f;n.p.selarrrow=[]}b.isFunction(h[n.p.id].afterComplete)&&setTimeout(function(){h[n.p.id].afterComplete(e,l)},500)}h[n.p.id].processing=c;b(p,a+o+g).removeClass(J);k[0]&&b.jgrid.hideModal(a+v.themodal,{gb:j+r,jqm:i.jqModal,onClose:h[n.p.id].onClose})}},b.jgrid.ajaxOptions,h[n.p.id].ajaxDelOptions);if(!w.url&&!h[n.p.id].useDataProxy)if(b.isFunction(n.p.dataProxy))h[n.p.id].useDataProxy=d;else{k[0]=c;k[1]+=" "+b.jgrid.errors.nourl}if(k[0])if(h[n.p.id].useDataProxy){var t=n.p.dataProxy.call(n,w,"del_"+n.p.id);if(typeof t==m)t=[d,e];if(t[0]===c){k[0]=c;k[1]=t[1]||xb}else b.jgrid.hideModal(a+v.themodal,{gb:j+r,jqm:i.jqModal,onClose:h[n.p.id].onClose})}else b.ajax(w)}if(k[0]===c){b(s,a+o).html(k[1]);b(q,a+o).show()}return c});b("#eData",a+o+g).click(function(){b.jgrid.hideModal(a+v.themodal,{gb:j+r,jqm:h[n.p.id].jqModal,onClose:h[n.p.id].onClose});return c});E&&h[n.p.id].beforeShowForm(b(a+o));b.jgrid.viewModal(a+v.themodal,{gbox:j+r,jqm:h[n.p.id].jqModal,overlay:h[n.p.id].overlay,modal:h[n.p.id].modal});G&&h[n.p.id].afterShowForm(b(a+o))}h[n.p.id].closeOnEscape===d&&setTimeout(function(){b(sb,a+v.modalhead).focus()},0)})},navGrid:function(s,g,n,q,r,i,p){var h="firstpage";g=b.extend({edit:d,editicon:"ui-icon-pencil",add:d,addicon:"ui-icon-plus",del:d,delicon:"ui-icon-trash",search:d,searchicon:"ui-icon-search",refresh:d,refreshicon:"ui-icon-refresh",refreshstate:h,view:c,viewicon:"ui-icon-document",position:F,closeOnEscape:d,beforeRefresh:f,afterRefresh:f,cloneToTop:c,alertwidth:200,alertheight:R,alerttop:f,alertleft:f,alertzIndex:f},b.jgrid.nav,g||{});return this.each(function(){var G="#testpg2",A="#jqg_alrt",D="editGridRow",y="<td class='ui-pg-button ui-corner-all'></td>";if(this.nav)return;var I={themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},v=this,H,K;if(!v.grid||typeof s!=ib)return;if(b(a+I.themodal).html()===f){if(!g.alerttop&&!g.alertleft){if(typeof window.innerWidth!=m){g.alertleft=window.innerWidth;g.alerttop=window.innerHeight}else if(typeof document.documentElement!=m&&typeof document.documentElement.clientWidth!=m&&document.documentElement.clientWidth!==0){g.alertleft=document.documentElement.clientWidth;g.alerttop=document.documentElement.clientHeight}else{g.alertleft=1024;g.alerttop=768}g.alertleft=g.alertleft/2-parseInt(g.alertwidth,o)/2;g.alerttop=g.alerttop/2-25}b.jgrid.createModal(I,"<div>"+g.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:j+v.p.id,jqModal:d,drag:d,resize:d,caption:g.alertcap,top:g.alerttop,left:g.alertleft,width:g.alertwidth,height:g.alertheight,closeOnEscape:g.closeOnEscape,zIndex:g.alertzIndex},e,e,d)}var J=1;if(g.cloneToTop&&v.p.toppager)J=2;for(var L=0;L<J;L++){var x,z=b("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),M="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",F,C;if(L===0){F=s;C=v.p.id;if(F==v.p.toppager){C+="_top";J=1}}else{F=v.p.toppager;C=v.p.id+"_top"}v.p.direction==S&&b(z).attr("dir",S).css(rb,t);if(g.add){q=q||{};x=b(y);b(x).append(N+g.addicon+w+g.addtext+E);b(B,z).append(x);b(x,z).attr({title:g.addtitle||e,id:q.id||"add_"+C}).click(function(){if(!b(this).hasClass(l))if(b.isFunction(g.addfunc))g.addfunc();else b(v).jqGrid(D,"new",q);return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}if(g.edit){x=b(y);n=n||{};b(x).append(N+g.editicon+w+g.edittext+E);b(B,z).append(x);b(x,z).attr({title:g.edittitle||e,id:n.id||"edit_"+C}).click(function(){if(!b(this).hasClass(l)){var e=v.p.selrow;if(e)if(b.isFunction(g.editfunc))g.editfunc(e);else b(v).jqGrid(D,e,n);else{b.jgrid.viewModal(a+I.themodal,{gbox:j+v.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}if(g.view){x=b(y);p=p||{};b(x).append(N+g.viewicon+w+g.viewtext+E);b(B,z).append(x);b(x,z).attr({title:g.viewtitle||e,id:p.id||"view_"+C}).click(function(){if(!b(this).hasClass(l)){var e=v.p.selrow;if(e)if(b.isFunction(g.viewfunc))g.viewfunc(e);else b(v).jqGrid("viewGridRow",e,p);else{b.jgrid.viewModal(a+I.themodal,{gbox:j+v.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}if(g.del){x=b(y);r=r||{};b(x).append(N+g.delicon+w+g.deltext+E);b(B,z).append(x);b(x,z).attr({title:g.deltitle||e,id:r.id||"del_"+C}).click(function(){if(!b(this).hasClass(l)){var e;if(v.p.multiselect){e=v.p.selarrrow;if(e.length===0)e=f}else e=v.p.selrow;if(e)if("function"==typeof g.delfunc)g.delfunc(e);else b(v).jqGrid("delGridRow",e,r);else{b.jgrid.viewModal(a+I.themodal,{gbox:j+v.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}(g.add||g.edit||g.del||g.view)&&b(B,z).append(M);if(g.search){x=b(y);i=i||{};b(x).append(N+g.searchicon+w+g.searchtext+E);b(B,z).append(x);b(x,z).attr({title:g.searchtitle||e,id:i.id||"search_"+C}).click(function(){!b(this).hasClass(l)&&b(v).jqGrid("searchGrid",i);return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});i.showOnLoad&&i.showOnLoad===d&&b(x,z).click();x=f}if(g.refresh){x=b(y);b(x).append(N+g.refreshicon+w+g.refreshtext+E);b(B,z).append(x);b(x,z).attr({title:g.refreshtitle||e,id:"refresh_"+C}).click(function(){if(!b(this).hasClass(l)){b.isFunction(g.beforeRefresh)&&g.beforeRefresh();v.p.search=c;try{var a=v.p.id;v.p.postData.filters=e;b("#fbox_"+a).jqFilter("resetFilter");b.isFunction(v.clearToolbar)&&v.clearToolbar(c)}catch(f){}switch(g.refreshstate){case h:b(v).trigger(u,[{page:1}]);break;case"current":b(v).trigger(u,[{current:d}])}b.isFunction(g.afterRefresh)&&g.afterRefresh()}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}K=b(".ui-jqgrid").css("font-size")||"11px";b("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+K+";visibility:hidden;' ></div>");H=b(z).clone().appendTo(G).width();b(G).remove();b(F+"_"+g.position,F).append(z);if(v.p._nvtd){if(H>v.p._nvtd[0]){b(F+"_"+g.position,F).width(H);v.p._nvtd[0]=H}v.p._nvtd[1]=H}K=f;H=f;z=f;this.nav=d}})},navButtonAdd:function(g,d){d=b.extend({caption:"newButton",title:e,buttonicon:"ui-icon-newwin",onClickButton:f,position:"last",cursor:"pointer"},d||{});return this.each(function(){var j="ui-pg-button ui-corner-all";if(!this.grid)return;if(g.indexOf(a)!==0)g=a+g;var h=b(Nb,g)[0],m=this;if(h){if(d.id&&b(a+d.id,h).html()!==f)return;var i=b("<td></td>");if(d.buttonicon.toString().toUpperCase()=="NONE")b(i).addClass(j).append("<div class='ui-pg-div'>"+d.caption+E);else b(i).addClass(j).append(N+d.buttonicon+w+d.caption+E);d.id&&b(i).attr(T,d.id);if(d.position==tb)if(h.rows[0].cells.length===0)b(B,h).append(i);else b("tr td:eq(0)",h).before(i);else b(B,h).append(i);b(i,h).attr("title",d.title||e).click(function(a){if(!b(this).hasClass(l))b.isFunction(d.onClickButton)&&d.onClickButton.call(m,a);return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)})}})},navSeparatorAdd:function(c,d){d=b.extend({sepclass:"ui-separator",sepcontent:e},d||{});return this.each(function(){if(!this.grid)return;if(c.indexOf(a)!==0)c=a+c;var e=b(Nb,c)[0];if(e){var f="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+d.sepclass+w+d.sepcontent+"</td>";b(B,e).append(f)}})},GridToForm:function(e,a){return this.each(function(){var f="[name=",i=this;if(!i.grid)return;var h=b(i).jqGrid("getRowData",e);if(h)for(var g in h)if(b(f+b.jgrid.jqID(g)+K,a).is("input:radio")||b(f+b.jgrid.jqID(g)+K,a).is("input:checkbox"))b(f+b.jgrid.jqID(g)+K,a).each(function(){if(b(this).val()==h[g])b(this)[i.p.useProp?q:r](C,d);else b(this)[i.p.useProp?q:r](C,c)});else b(f+b.jgrid.jqID(g)+K,a).val(h[g])})},FormToGrid:function(d,e,a,c){return this.each(function(){var g=this;if(!g.grid)return;if(!a)a="set";if(!c)c=tb;var h=b(e).serializeArray(),f={};b.each(h,function(b,a){f[a.name]=a.value});if(a=="add")b(g).jqGrid(U,d,f,c);else a=="set"&&b(g).jqGrid(wb,d,f)})}})})(jQuery);(function(a){var l="setRowData",m="not-editable-cell",i="restoreRow",g="keydown",h="undefined",f="select",k="textarea",e="editable",j="getInd",b=true,c=null,d=false;a.jgrid.extend({editRow:function(l,v,t,r,w,s,q,u,o){var p={keys:v||d,oneditfunc:t||c,successfunc:r||c,url:w||c,extraparam:s||{},aftersavefunc:q||c,errorfunc:u||c,afterrestorefunc:o||c,restoreAfterError:b,mtype:"POST"},n=a.makeArray(arguments).slice(1),m;if(n[0]&&typeof n[0]=="object"&&!a.isFunction(n[0]))m=a.extend(p,n[0]);else m=p;return this.each(function(){var q=this,s,p,v,w=0,t=c,u={},r,n;if(!q.grid)return;r=a(q).jqGrid(j,l,b);if(r===d)return;v=a(r).attr(e)||"0";if(v=="0"&&!a(r).hasClass("not-editable-row")){n=q.p.colModel;a("td",r).each(function(d){var g="span:first",i=this;s=n[d].name;var m=q.p.treeGrid===b&&s==q.p.ExpandColumn;if(m)p=a(g,i).html();else try{p=a.unformat(i,{rowId:l,colModel:n[d]},d)}catch(r){p=n[d].edittype&&n[d].edittype==k?a(i).text():a(i).html()}if(s!="cb"&&s!="subgrid"&&s!="rn"){if(q.p.autoencode)p=a.jgrid.htmlDecode(p);u[s]=p;if(n[d].editable===b){if(t===c)t=d;if(m)a(g,i).html("");else a(i).html("");var o=a.extend({},n[d].editoptions||{},{id:l+"_"+s,name:s});if(!n[d].edittype)n[d].edittype="text";if(p=="&nbsp;"||p=="&#160;"||p.length==1&&p.charCodeAt(0)==160)p="";var j=a.jgrid.createEl(n[d].edittype,o,p,b,a.extend({},a.jgrid.ajaxOptions,q.p.ajaxSelectOptions||{}));a(j).addClass(e);if(m)a(g,i).append(j);else a(i).append(j);n[d].edittype==f&&typeof n[d].editoptions!==h&&n[d].editoptions.multiple===b&&typeof n[d].editoptions.dataUrl===h&&a.browser.msie&&a(j).width(a(j).width());w++}}});if(w>0){u.id=l;q.p.savedRow.push(u);a(r).attr(e,"1");a("td:eq("+t+") input",r).focus();m.keys===b&&a(r).bind(g,function(c){c.keyCode===27&&a(q).jqGrid(i,l,o);if(c.keyCode===13){var e=c.target;if(e.tagName=="TEXTAREA")return b;a(q).jqGrid("saveRow",l,m);return d}c.stopPropagation()});a.isFunction(m.oneditfunc)&&m.oneditfunc.call(q,l)}}})},saveRow:function(s,L,P,M,K,N,J){var t="#lui_",z="clientArray",H={successfunc:L||c,url:P||c,extraparam:M||{},aftersavefunc:K||c,errorfunc:N||c,afterrestorefunc:J||c,restoreAfterError:b,mtype:"POST"},D=a.makeArray(arguments).slice(1),p;if(D[0]&&typeof D[0]=="object"&&!a.isFunction(D[0]))p=a.extend(H,D[0]);else p=H;var x=d,n=this[0],q,o={},A={},v={},G,y,w,u;if(!n.grid)return x;u=a(n).jqGrid(j,s,b);if(u===d)return x;G=a(u).attr(e);p.url=p.url?p.url:n.p.editurl;if(G==="1"){var r;a("td",u).each(function(j){var e="function 'custom_value' ",c="select option:selected",g=this;r=n.p.colModel[j];q=r.name;if(q!="cb"&&q!="subgrid"&&r.editable===b&&q!="rn"&&!a(g).hasClass(m)){switch(r.edittype){case"checkbox":var h=["Yes","No"];if(r.editoptions)h=r.editoptions.value.split(":");o[q]=a("input",g).is(":checked")?h[0]:h[1];break;case"text":case"password":case k:case"button":o[q]=a("input, textarea",g).val();break;case f:if(!r.editoptions.multiple){o[q]=a(c,g).val();A[q]=a(c,g).text()}else{var l=a(f,g),i=[];o[q]=a(l).val();if(o[q])o[q]=o[q].join(",");else o[q]="";a(c,g).each(function(c,b){i[c]=a(b).text()});A[q]=i.join(",")}if(r.formatter&&r.formatter==f)A={};break;case"custom":try{if(r.editoptions&&a.isFunction(r.editoptions.custom_value)){o[q]=r.editoptions.custom_value.call(n,a(".customelement",g),"get");if(o[q]===undefined)throw"e2";}else throw"e1";}catch(s){s=="e1"&&a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);if(s=="e2")a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose);else a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,s.message,jQuery.jgrid.edit.bClose)}}w=a.jgrid.checkValues(o[q],j,n);if(w[0]===d){w[1]=o[q]+" "+w[1];return d}if(n.p.autoencode)o[q]=a.jgrid.htmlEncode(o[q]);if(p.url!==z&&r.editoptions&&r.editoptions.NullIfEmpty===b)if(o[q]=="")v[q]="null"}});if(w[0]===d){try{var F=a.jgrid.findPos(a("#"+a.jgrid.jqID(s),n.grid.bDiv)[0]);a.jgrid.info_dialog(a.jgrid.errors.errcap,w[1],a.jgrid.edit.bClose,{left:F[0],top:F[1]})}catch(Q){alert(w[1])}return x}var B,C,I;C=n.p.prmNames;I=C.oper;B=C.id;if(o){o[I]=C.editoper;o[B]=s;if(typeof n.p.inlineData==h)n.p.inlineData={};o=a.extend({},o,n.p.inlineData,p.extraparam)}if(p.url==z){o=a.extend({},o,A);n.p.autoencode&&a.each(o,function(b,c){o[b]=a.jgrid.htmlDecode(c)});var O=a(n).jqGrid(l,s,o);a(u).attr(e,"0");for(var E=0;E<n.p.savedRow.length;E++)if(n.p.savedRow[E].id==s){y=E;break}y>=0&&n.p.savedRow.splice(y,1);a.isFunction(p.aftersavefunc)&&p.aftersavefunc.call(n,s,O);x=b;a(u).unbind(g)}else{a(t+n.p.id).show();v=a.extend({},o,v);v[B]=a.jgrid.stripPref(n.p.idPrefix,v[B]);a.ajax(a.extend({url:p.url,data:a.isFunction(n.p.serializeRowData)?n.p.serializeRowData.call(n,v):v,type:p.mtype,async:d,complete:function(d,h){a(t+n.p.id).hide();if(h==="success"){var f;if(a.isFunction(p.successfunc))f=p.successfunc.call(n,d);else f=b;if(f===b){n.p.autoencode&&a.each(o,function(b,c){o[b]=a.jgrid.htmlDecode(c)});o=a.extend({},o,A);a(n).jqGrid(l,s,o);a(u).attr(e,"0");for(var c=0;c<n.p.savedRow.length;c++)if(n.p.savedRow[c].id==s){y=c;break}y>=0&&n.p.savedRow.splice(y,1);a.isFunction(p.aftersavefunc)&&p.aftersavefunc.call(n,s,d);x=b;a(u).unbind(g)}else{a.isFunction(p.errorfunc)&&p.errorfunc.call(n,s,d,h);p.restoreAfterError===b&&a(n).jqGrid(i,s,p.afterrestorefunc)}}},error:function(c,d){a(t+n.p.id).hide();if(a.isFunction(p.errorfunc))p.errorfunc.call(n,s,c,d);else try{jQuery.jgrid.info_dialog(jQuery.jgrid.errors.errcap,'<div class="ui-state-error">'+c.responseText+"</div>",jQuery.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(c.responseText)}p.restoreAfterError===b&&a(n).jqGrid(i,s,p.afterrestorefunc)}},a.jgrid.ajaxOptions,n.p.ajaxRowOptions||{}))}}return x},restoreRow:function(c,f){return this.each(function(){var h=this,i,k,o={};if(!h.grid)return;k=a(h).jqGrid(j,c,b);if(k===d)return;for(var n=0;n<h.p.savedRow.length;n++)if(h.p.savedRow[n].id==c){i=n;break}if(i>=0){if(a.isFunction(a.fn.datepicker))try{a("input.hasDatepicker","#"+a.jgrid.jqID(k.id)).datepicker("hide")}catch(p){}a.each(h.p.colModel,function(){var c=this;if(c.editable===b&&c.name in h.p.savedRow[i]&&!a(c).hasClass(m))o[c.name]=h.p.savedRow[i][c.name]});a(h).jqGrid(l,c,o);a(k).attr(e,"0").unbind(g);h.p.savedRow.splice(i,1)}a.isFunction(f)&&f.call(h,c)})}})})(jQuery);(function(a){var f="editCell",m="edited",k="dirty-cell",n="setCell",p=null,c=false,q="hide",e="restoreCell",j="input.hasDatepicker",i="_",r="textarea",l="td:eq(",h="-1",g="tabindex",d="#",o="saveCell",b=true;a.jgrid.extend({editCell:function(f,k,m){return this.each(function(){var t="selected-row ui-state-hover",s="edit-cell ui-state-highlight",n=this,v,p,u,w;if(!n.grid||n.p.cellEdit!==b)return;k=parseInt(k,10);n.p.selrow=n.rows[f].id;!n.p.knv&&a(n).jqGrid("GridNav");if(n.p.savedRow.length>0){if(m===b)if(f==n.p.iRow&&k==n.p.iCol)return;a(n).jqGrid(o,n.p.savedRow[0].id,n.p.savedRow[0].ic)}else window.setTimeout(function(){a(d+n.p.knv).attr(g,h).focus()},0);w=n.p.colModel[k];v=w.name;if(v=="subgrid"||v=="cb"||v=="rn")return;u=a(l+k+")",n.rows[f]);if(w.editable===b&&m===b&&!u.hasClass("not-editable-cell")){if(parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0){a(l+n.p.iCol+")",n.rows[n.p.iRow]).removeClass(s);a(n.rows[n.p.iRow]).removeClass(t)}a(u).addClass(s);a(n.rows[f]).addClass(t);try{p=a.unformat(u,{rowId:n.rows[f].id,colModel:w},k)}catch(A){p=w.edittype&&w.edittype==r?a(u).text():a(u).html()}if(n.p.autoencode)p=a.jgrid.htmlDecode(p);if(!w.edittype)w.edittype="text";n.p.savedRow.push({id:f,ic:k,name:v,v:p});if(p=="&nbsp;"||p=="&#160;"||p.length==1&&p.charCodeAt(0)==160)p="";if(a.isFunction(n.p.formatCell)){var x=n.p.formatCell.call(n,n.rows[f].id,v,p,f,k);if(x!==undefined)p=x}var z=a.extend({},w.editoptions||{},{id:f+i+v,name:v}),y=a.jgrid.createEl(w.edittype,z,p,b,a.extend({},a.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));a.isFunction(n.p.beforeEditCell)&&n.p.beforeEditCell.call(n,n.rows[f].id,v,p,f,k);a(u).html("").append(y).attr(g,"0");window.setTimeout(function(){a(y).focus()},0);a("input, select, textarea",u).bind("keydown",function(b){if(b.keyCode===27)if(a(j,u).length>0)if(a(".ui-datepicker").is(":hidden"))a(n).jqGrid(e,f,k);else a(j,u).datepicker(q);else a(n).jqGrid(e,f,k);b.keyCode===13&&a(n).jqGrid(o,f,k);if(b.keyCode==9)if(!n.grid.hDiv.loading)if(b.shiftKey)a(n).jqGrid("prevCell",f,k);else a(n).jqGrid("nextCell",f,k);else return c;b.stopPropagation()});a.isFunction(n.p.afterEditCell)&&n.p.afterEditCell.call(n,n.rows[f].id,v,p,f,k)}else{if(parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0){a(l+n.p.iCol+")",n.rows[n.p.iRow]).removeClass(s);a(n.rows[n.p.iRow]).removeClass(t)}u.addClass(s);a(n.rows[f]).addClass(t);if(a.isFunction(n.p.onSelectCell)){p=u.html().replace(/\&#160\;/ig,"");n.p.onSelectCell.call(n,n.rows[f].id,v,p,f,k)}}n.p.iCol=k;n.p.iRow=f})},saveCell:function(f,o){return this.each(function(){var y="function 'custom_value' ",u="#lui_",B=">option:selected",s=this,F;if(!s.grid||s.p.cellEdit!==b)return;if(s.p.savedRow.length>=1)F=0;else F=p;if(F!==p){var w=a(l+o+")",s.rows[f]),t,v,x=s.p.colModel[o],A=x.name,C=a.jgrid.jqID(A);switch(x.edittype){case"select":if(!x.editoptions.multiple){t=a(d+f+i+C+B,s.rows[f]).val();v=a(d+f+i+C+B,s.rows[f]).text()}else{var L=a(d+f+i+C,s.rows[f]),I=[];t=a(L).val();if(t)t.join(",");else t="";a("option:selected",L).each(function(c,b){I[c]=a(b).text()});v=I.join(",")}if(x.formatter)v=t;break;case"checkbox":var G=["Yes","No"];if(x.editoptions)G=x.editoptions.value.split(":");t=a(d+f+i+C,s.rows[f]).is(":checked")?G[0]:G[1];v=t;break;case"password":case"text":case r:case"button":t=a(d+f+i+C,s.rows[f]).val();v=t;break;case"custom":try{if(x.editoptions&&a.isFunction(x.editoptions.custom_value)){t=x.editoptions.custom_value.call(s,a(".customelement",w),"get");if(t===undefined)throw"e2";else v=t}else throw"e1";}catch(N){N=="e1"&&a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,y+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);if(N=="e2")a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,y+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose);else a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,N.message,jQuery.jgrid.edit.bClose)}}if(v!==s.p.savedRow[F].v){if(a.isFunction(s.p.beforeSaveCell)){var H=s.p.beforeSaveCell.call(s,s.rows[f].id,A,t,f,o);if(H){t=H;v=H}}var M=a.jgrid.checkValues(t,o,s);if(M[0]===b){var D={};if(a.isFunction(s.p.beforeSubmitCell)){D=s.p.beforeSubmitCell.call(s,s.rows[f].id,A,t,f,o);if(!D)D={}}a(j,w).length>0&&a(j,w).datepicker(q);if(s.p.cellsubmit=="remote")if(s.p.cellurl){var z={};if(s.p.autoencode)t=a.jgrid.htmlEncode(t);z[A]=t;var J,K,E;E=s.p.prmNames;J=E.id;K=E.oper;z[J]=a.jgrid.stripPref(s.p.idPrefix,s.rows[f].id);z[K]=E.editoper;z=a.extend(D,z);a(u+s.p.id).show();s.grid.hDiv.loading=b;a.ajax(a.extend({url:s.p.cellurl,data:a.isFunction(s.p.serializeCellData)?s.p.serializeCellData.call(s,z):z,type:"POST",complete:function(g,h){a(u+s.p.id).hide();s.grid.hDiv.loading=c;if(h=="success")if(a.isFunction(s.p.afterSubmitCell)){var d=s.p.afterSubmitCell.call(s,g,z.id,A,t,f,o);if(d[0]===b){a(w).empty();a(s).jqGrid(n,s.rows[f].id,o,v,c,c,b);a(w).addClass(k);a(s.rows[f]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[f].id,A,t,f,o);s.p.savedRow.splice(0,1)}else{a.jgrid.info_dialog(a.jgrid.errors.errcap,d[1],a.jgrid.edit.bClose);a(s).jqGrid(e,f,o)}}else{a(w).empty();a(s).jqGrid(n,s.rows[f].id,o,v,c,c,b);a(w).addClass(k);a(s.rows[f]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[f].id,A,t,f,o);s.p.savedRow.splice(0,1)}},error:function(b,d){a(u+s.p.id).hide();s.grid.hDiv.loading=c;if(a.isFunction(s.p.errorCell)){s.p.errorCell.call(s,b,d);a(s).jqGrid(e,f,o)}else{a.jgrid.info_dialog(a.jgrid.errors.errcap,b.status+" : "+b.statusText+"<br/>"+d,a.jgrid.edit.bClose);a(s).jqGrid(e,f,o)}}},a.jgrid.ajaxOptions,s.p.ajaxCellOptions||{}))}else try{a.jgrid.info_dialog(a.jgrid.errors.errcap,a.jgrid.errors.nourl,a.jgrid.edit.bClose);a(s).jqGrid(e,f,o)}catch(N){}if(s.p.cellsubmit=="clientArray"){a(w).empty();a(s).jqGrid(n,s.rows[f].id,o,v,c,c,b);a(w).addClass(k);a(s.rows[f]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[f].id,A,t,f,o);s.p.savedRow.splice(0,1)}}else try{window.setTimeout(function(){a.jgrid.info_dialog(a.jgrid.errors.errcap,t+" "+M[1],a.jgrid.edit.bClose)},100);a(s).jqGrid(e,f,o)}catch(N){}}else a(s).jqGrid(e,f,o)}if(a.browser.opera)a(d+s.p.knv).attr(g,h).focus();else window.setTimeout(function(){a(d+s.p.knv).attr(g,h).focus()},0)})},restoreCell:function(e,f){return this.each(function(){var i=this,k;if(!i.grid||i.p.cellEdit!==b)return;if(i.p.savedRow.length>=1)k=0;else k=p;if(k!==p){var m=a(l+f+")",i.rows[e]);if(a.isFunction(a.fn.datepicker))try{a(j,m).datepicker(q)}catch(o){}a(m).empty().attr(g,h);a(i).jqGrid(n,i.rows[e].id,f,i.p.savedRow[k].v,c,c,b);a.isFunction(i.p.afterRestoreCell)&&i.p.afterRestoreCell.call(i,i.rows[e].id,i.p.savedRow[k].v,e,f);i.p.savedRow.splice(0,1)}window.setTimeout(function(){a(d+i.p.knv).attr(g,h).focus()},0)})},nextCell:function(e,d){return this.each(function(){var g=this,i=c;if(!g.grid||g.p.cellEdit!==b)return;for(var h=d+1;h<g.p.colModel.length;h++)if(g.p.colModel[h].editable===b){i=h;break}if(i!==c)a(g).jqGrid(f,e,i,b);else g.p.savedRow.length>0&&a(g).jqGrid(o,e,d)})},prevCell:function(e,d){return this.each(function(){var g=this,i=c;if(!g.grid||g.p.cellEdit!==b)return;for(var h=d-1;h>=0;h--)if(g.p.colModel[h].editable===b){i=h;break}if(i!==c)a(g).jqGrid(f,e,i,b);else g.p.savedRow.length>0&&a(g).jqGrid(o,e,d)})},GridNav:function(){return this.each(function(){var e=this;if(!e.grid||e.p.cellEdit!==b)return;e.p.knv=e.p.id+"_kn";var k=a("<span style='width:0px;height:0px;background-color:black;' tabindex='0'><span tabindex='-1' style='width:0px;height:0px;background-color:grey' id='"+e.p.knv+"'></span></span>"),h,g;a(k).insertBefore(e.grid.cDiv);a(d+e.p.knv).focus().keydown(function(d){g=d.keyCode;if(e.p.direction=="rtl")if(g==37)g=39;else if(g==39)g=37;switch(g){case 38:if(e.p.iRow-1>0){i(e.p.iRow-1,e.p.iCol,"vu");a(e).jqGrid(f,e.p.iRow-1,e.p.iCol,c)}break;case 40:if(e.p.iRow+1<=e.rows.length-1){i(e.p.iRow+1,e.p.iCol,"vd");a(e).jqGrid(f,e.p.iRow+1,e.p.iCol,c)}break;case 37:if(e.p.iCol-1>=0){h=j(e.p.iCol-1,"lft");i(e.p.iRow,h,"h");a(e).jqGrid(f,e.p.iRow,h,c)}break;case 39:if(e.p.iCol+1<=e.p.colModel.length-1){h=j(e.p.iCol+1,"rgt");i(e.p.iRow,h,"h");a(e).jqGrid(f,e.p.iRow,h,c)}break;case 13:parseInt(e.p.iCol,10)>=0&&parseInt(e.p.iRow,10)>=0&&a(e).jqGrid(f,e.p.iRow,e.p.iCol,b)}return c});function i(b,c,d){if(d.substr(0,1)=="v"){var k=a(e.grid.bDiv)[0].clientHeight,m=a(e.grid.bDiv)[0].scrollTop,h=e.rows[b].offsetTop+e.rows[b].clientHeight,j=e.rows[b].offsetTop;if(d=="vd")if(h>=k)a(e.grid.bDiv)[0].scrollTop=a(e.grid.bDiv)[0].scrollTop+e.rows[b].clientHeight;if(d=="vu")if(j<m)a(e.grid.bDiv)[0].scrollTop=a(e.grid.bDiv)[0].scrollTop-e.rows[b].clientHeight}if(d=="h"){var l=a(e.grid.bDiv)[0].clientWidth,f=a(e.grid.bDiv)[0].scrollLeft,g=e.rows[b].cells[c].offsetLeft+e.rows[b].cells[c].clientWidth,i=e.rows[b].cells[c].offsetLeft;if(g>=l+parseInt(f,10))a(e.grid.bDiv)[0].scrollLeft=a(e.grid.bDiv)[0].scrollLeft+e.rows[b].cells[c].clientWidth;else if(i<f)a(e.grid.bDiv)[0].scrollLeft=a(e.grid.bDiv)[0].scrollLeft-e.rows[b].cells[c].clientWidth}}function j(d,f){var c,a;if(f=="lft"){c=d+1;for(a=d;a>=0;a--)if(e.p.colModel[a].hidden!==b){c=a;break}}if(f=="rgt"){c=d-1;for(a=d;a<e.p.colModel.length;a++)if(e.p.colModel[a].hidden!==b){c=a;break}}return c}})},getChangedCells:function(c){var d=[];if(!c)c="all";this.each(function(){var e=this,f;if(!e.grid||e.p.cellEdit!==b)return;a(e.rows).each(function(g){var b={};if(a(this).hasClass(m)){a("td",this).each(function(h){var d=this;f=e.p.colModel[h].name;if(f!=="cb"&&f!=="subgrid")if(c=="dirty"){if(a(d).hasClass(k))try{b[f]=a.unformat(d,{rowId:e.rows[g].id,colModel:e.p.colModel[h]},h)}catch(i){b[f]=a.jgrid.htmlDecode(a(d).html())}}else try{b[f]=a.unformat(d,{rowId:e.rows[g].id,colModel:e.p.colModel[h]},h)}catch(i){b[f]=a.jgrid.htmlDecode(a(d).html())}});b.id=this.id;d.push(b)}})});return d}})})(jQuery);(function(a){var g="td.sgexpanded",f="td.sgcollapsed",e="getInd",d="click",c=true,b=false;a.jgrid.extend({setSubGrid:function(){return this.each(function(){var d=this,e,g={plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:b,delayOnLoad:50,selectOnExpand:b,reloadOnExpand:c};d.p.subGridOptions=a.extend(g,d.p.subGridOptions||{});d.p.colNames.unshift("");d.p.colModel.unshift({name:"subgrid",width:a.browser.safari?d.p.subGridWidth+d.p.cellLayout:d.p.subGridWidth,sortable:b,resizable:b,hidedlg:c,search:b,fixed:c});e=d.p.subGridModel;if(e[0]){e[0].align=a.extend([],e[0].align||[]);for(var f=0;f<e[0].name.length;f++)e[0].align[f]=e[0].align[f]||"left"}})},addSubGridCell:function(e,d){var a="",c,b;this.each(function(){a=this.formatCol(e,d);b=this.p.id;c=this.p.subGridOptions.plusicon});return'<td role="grid" aria-describedby="'+b+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+a+"><a href='javascript:void(0);'><span class='ui-icon "+c+"'></span></a></td>"},addSubGrid:function(f,e){return this.each(function(){var j="#load_",h="_",p="table:first",i="&#160;",l="<tr class='ui-widget-content ui-subtblcell'></tr>",o="<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-",n="<tr></tr>",m="<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>",g=this;if(!g.grid)return;var u=function(c,d,e){var b=a("<td align='"+g.p.subGridModel[0].align[e]+"'></td>").html(d);a(c).append(b)},w=function(r,s){for(var k,f,q=a(m),e=a(n),d=0;d<g.p.subGridModel[0].name.length;d++){k=a(o+g.p.direction+"'></th>");a(k).html(g.p.subGridModel[0].name[d]);a(k).width(g.p.subGridModel[0].width[d]);a(e).append(k)}a(q).append(e);if(r){f=g.p.xmlReader.subgrid;a(f.root+" "+f.row,r).each(function(){e=a(l);if(f.repeatitems===c)a(f.cell,this).each(function(b){u(e,a(this).text()||i,b)});else{var b=g.p.subGridModel[0].mapping||g.p.subGridModel[0].name;if(b)for(d=0;d<b.length;d++)u(e,a(b[d],this).text()||i,d)}a(q).append(e)})}var t=a(p,g.grid.bDiv).attr("id")+h;a("#"+t+s).append(q);g.grid.hDiv.loading=b;a(j+g.p.id).hide();return b},v=function(w,x){for(var s,r,k,q,d,t=a(m),f=a(n),e=0;e<g.p.subGridModel[0].name.length;e++){s=a(o+g.p.direction+"'></th>");a(s).html(g.p.subGridModel[0].name[e]);a(s).width(g.p.subGridModel[0].width[e]);a(f).append(s)}a(t).append(f);if(w){q=g.p.jsonReader.subgrid;r=w[q.root];if(typeof r!=="undefined")for(e=0;e<r.length;e++){k=r[e];f=a(l);if(q.repeatitems===c){if(q.cell)k=k[q.cell];for(d=0;d<k.length;d++)u(f,k[d]||i,d)}else{var v=g.p.subGridModel[0].mapping||g.p.subGridModel[0].name;if(v.length)for(d=0;d<v.length;d++)u(f,k[v[d]]||i,d)}a(t).append(f)}}var y=a(p,g.grid.bDiv).attr("id")+h;a("#"+y+x).append(t);g.grid.hDiv.loading=b;a(j+g.p.id).hide();return b},A=function(i){var f,d,e,h;f=a(i).attr("id");d={nd_:(new Date).getTime()};d[g.p.prmNames.subgridid]=f;if(!g.p.subGridModel[0])return b;if(g.p.subGridModel[0].params)for(h=0;h<g.p.subGridModel[0].params.length;h++)for(e=0;e<g.p.colModel.length;e++)if(g.p.colModel[e].name==g.p.subGridModel[0].params[h])d[g.p.colModel[e].name]=a("td:eq("+e+")",i).text().replace(/\&#160\;/ig,"");if(!g.grid.hDiv.loading){g.grid.hDiv.loading=c;a(j+g.p.id).show();if(!g.p.subgridtype)g.p.subgridtype=g.p.datatype;if(a.isFunction(g.p.subgridtype))g.p.subgridtype.call(g,d);else g.p.subgridtype=g.p.subgridtype.toLowerCase();switch(g.p.subgridtype){case"xml":case"json":a.ajax(a.extend({type:g.p.mtype,url:g.p.subGridUrl,dataType:g.p.subgridtype,data:a.isFunction(g.p.serializeSubGridData)?g.p.serializeSubGridData.call(g,d):d,complete:function(b){if(g.p.subgridtype=="xml")w(b.responseXML,f);else v(a.jgrid.parse(b.responseText),f);b=null}},a.jgrid.ajaxOptions,g.p.ajaxSubgridOptions||{}))}}return b},k,t,x,z=0,q,s;a.each(g.p.colModel,function(){if(this.hidden===c||this.name=="rn"||this.name=="cb")z++});var y=g.rows.length,r=1;if(e!==undefined&&e>0){r=e;y=e+1}while(r<y){a(g.rows[r]).hasClass("jqgrow")&&a(g.rows[r].cells[f]).bind(d,function(){var e="sgexpanded",l="'></span></a>",j="<a href='javascript:void(0);'><span class='ui-icon ",i="ui-subgrid",d="sgcollapsed",m=this,n=a(m).parent("tr")[0];s=n.nextSibling;if(a(m).hasClass(d)){t=g.p.id;k=n.id;if(g.p.subGridOptions.reloadOnExpand===c||g.p.subGridOptions.reloadOnExpand===b&&!a(s).hasClass(i)){x=f>=1?"<td colspan='"+f+"'>&#160;</td>":"";q=c;if(a.isFunction(g.p.subGridBeforeExpand))q=g.p.subGridBeforeExpand.call(g,t+h+k,k);if(q===b)return b;a(n).after("<tr role='row' class='ui-subgrid'>"+x+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+g.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(g.p.colNames.length-1-z,10)+"' class='ui-widget-content subgrid-data'><div id="+t+h+k+" class='tablediv'></div></td></tr>");if(a.isFunction(g.p.subGridRowExpanded))g.p.subGridRowExpanded.call(g,t+h+k,k);else A(n)}else a(s).show();a(m).html(j+g.p.subGridOptions.minusicon+l).removeClass(d).addClass(e);g.p.subGridOptions.selectOnExpand&&a(g).jqGrid("setSelection",k)}else if(a(m).hasClass(e)){q=c;if(a.isFunction(g.p.subGridRowColapsed)){k=n.id;q=g.p.subGridRowColapsed.call(g,t+h+k,k)}if(q===b)return b;if(g.p.subGridOptions.reloadOnExpand===c)a(s).remove(".ui-subgrid");else a(s).hasClass(i)&&a(s).hide();a(m).html(j+g.p.subGridOptions.plusicon+l).removeClass(e).addClass(d)}return b});g.p.subGridOptions.expandOnLoad===c&&a(g.rows[r].cells[f]).trigger(d);r++}g.subGridXml=function(b,a){w(b,a)};g.subGridJson=function(a,b){v(a,b)}})},expandSubGridRow:function(b){return this.each(function(){var h=this;if(!h.grid&&!b)return;if(h.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var g=a(f,i)[0];g&&a(g).trigger(d)}}})},collapseSubGridRow:function(b){return this.each(function(){var h=this;if(!h.grid&&!b)return;if(h.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var f=a(g,i)[0];f&&a(f).trigger(d)}}})},toggleSubGridRow:function(b){return this.each(function(){var j=this;if(!j.grid&&!b)return;if(j.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var h=a(f,i)[0];if(h)a(h).trigger(d);else{h=a(g,i)[0];h&&a(h).trigger(d)}}}})}})})(jQuery);(function(b){var m="integer",u="getFullTreeNode",s="collectChildrenSortTree",o=" tree-minus",q=" tree-plus",t="isNodeLoaded",r="getNodeAncestors",l="getNodeChildren",h="adjacency",g=null,k="expandRow",j="collapseRow",i="div.treeclick",n="display",p="getNodeParent",e="",c=false,d=true,a=10,f="nested";b.jgrid.extend({setTreeNode:function(g,h){return this.each(function(){var t="expandNode",s="collapseNode",r="tr.jqgrow",o="true",l=this;if(!l.grid||!l.p.treeGrid)return;var y=l.p.expColInd,u=l.p.treeReader.expanded_field,q=l.p.treeReader.leaf_field,H=l.p.treeReader.level_field,B=l.p.treeReader.icon_field,x=l.p.treeReader.loaded,F,G,w,A,z,v,m,C;while(g<h){var J=l.rows[g].id,I=l.p._index[J],E;m=l.p.data[I];if(l.p.treeGridModel==f)if(!m[q]){F=parseInt(m[l.p.treeReader.left_field],a);G=parseInt(m[l.p.treeReader.right_field],a);m[q]=G===F+1?o:"false";l.rows[g].cells[l.p._treeleafpos].innerHTML=m[q]}w=parseInt(m[H],a);if(l.p.tree_root_level===0){A=w+1;z=w}else{A=w;z=w-1}v="<div class='tree-wrap tree-wrap-"+l.p.direction+"' style='width:"+A*18+"px;'>";v+="<div style='"+(l.p.direction=="rtl"?"right:":"left:")+z*18+"px;' class='ui-icon ";if(m[x]!==undefined)if(m[x]==o||m[x]===d)m[x]=d;else m[x]=c;if(m[q]==o||m[q]===d){v+=(m[B]!==undefined&&m[B]!==e?m[B]:l.p.treeIcons.leaf)+" tree-leaf treeclick";m[q]=d;C="leaf"}else{m[q]=c;C=e}m[u]=(m[u]==o||m[u]===d?d:c)&&m[x];if(m[u]===c)v+=m[q]===d?"'":l.p.treeIcons.plus+" tree-plus treeclick'";else v+=m[q]===d?"'":l.p.treeIcons.minus+" tree-minus treeclick'";v+="></div></div>";b(l.rows[g].cells[y]).wrapInner("<span class='cell-wrapper"+C+"'></span>").prepend(v);if(w!==parseInt(l.p.tree_root_level,a)){var D=b(l).jqGrid(p,m);E=D&&D.hasOwnProperty(u)?D[u]:d;!E&&b(l.rows[g]).css(n,"none")}b(l.rows[g].cells[y]).find(i).bind("click",function(d){var e=d.target||d.srcElement,f=b(e,l.rows).closest(r)[0].id,a=l.p._index[f];if(!l.p.data[a][q])if(l.p.data[a][u]){b(l).jqGrid(j,l.p.data[a]);b(l).jqGrid(s,l.p.data[a])}else{b(l).jqGrid(k,l.p.data[a]);b(l).jqGrid(t,l.p.data[a])}return c});l.p.ExpandColClick===d&&b(l.rows[g].cells[y]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var f=e.target||e.srcElement,d=b(f,l.rows).closest(r)[0].id,a=l.p._index[d];if(!l.p.data[a][q])if(l.p.data[a][u]){b(l).jqGrid(j,l.p.data[a]);b(l).jqGrid(s,l.p.data[a])}else{b(l).jqGrid(k,l.p.data[a]);b(l).jqGrid(t,l.p.data[a])}b(l).jqGrid("setSelection",d);return c});g++}})},setTreeGrid:function(){return this.each(function(){var e="expanded",a=this,j=0,n,m=c,i,k,l=[];if(!a.p.treeGrid)return;!a.p.treedatatype&&b.extend(a.p,{treedatatype:a.p.datatype});a.p.subGrid=c;a.p.altRows=c;a.p.pgbuttons=c;a.p.pginput=c;a.p.gridview=d;if(a.p.rowTotal===g)a.p.rowNum=1e4;a.p.multiselect=c;a.p.rowList=[];a.p.expColInd=0;n="ui-icon-triangle-1-"+(a.p.direction=="rtl"?"w":"e");a.p.treeIcons=b.extend({plus:n,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},a.p.treeIcons||{});if(a.p.treeGridModel==f)a.p.treeReader=b.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:e,loaded:"loaded",icon_field:"icon"},a.p.treeReader);else if(a.p.treeGridModel==h)a.p.treeReader=b.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:e,loaded:"loaded",icon_field:"icon"},a.p.treeReader);for(k in a.p.colModel)if(a.p.colModel.hasOwnProperty(k)){i=a.p.colModel[k].name;if(i==a.p.ExpandColumn&&!m){m=d;a.p.expColInd=j}j++;for(var o in a.p.treeReader)a.p.treeReader[o]==i&&l.push(i)}b.each(a.p.treeReader,function(f,e){if(e&&b.inArray(e,l)===-1){if(f==="leaf_field")a.p._treeleafpos=j;j++;a.p.colNames.push(e);a.p.colModel.push({name:e,width:1,hidden:d,sortable:c,resizable:c,hidedlg:d,editable:d,search:c})}})})},expandRow:function(a){this.each(function(){var c=this;if(!c.grid||!c.p.treeGrid)return;var d=b(c).jqGrid(l,a),f=c.p.treeReader.expanded_field;b(d).each(function(){var a=b.jgrid.getAccessor(this,c.p.localReader.id);b("#"+a,c.grid.bDiv).css(n,e);this[f]&&b(c).jqGrid(k,this)})})},collapseRow:function(a){this.each(function(){var c=this;if(!c.grid||!c.p.treeGrid)return;var d=b(c).jqGrid(l,a),e=c.p.treeReader.expanded_field;b(d).each(function(){var a=b.jgrid.getAccessor(this,c.p.localReader.id);b("#"+a,c.grid.bDiv).css(n,"none");this[e]&&b(c).jqGrid(j,this)})})},getRootNodes:function(){var c=[];this.each(function(){var d=this;if(!d.grid||!d.p.treeGrid)return;switch(d.p.treeGridModel){case f:var i=d.p.treeReader.level_field;b(d.p.data).each(function(){parseInt(this[i],a)===parseInt(d.p.tree_root_level,a)&&c.push(this)});break;case h:var e=d.p.treeReader.parent_id_field;b(d.p.data).each(function(){(this[e]===g||String(this[e]).toLowerCase()=="null")&&c.push(this)})}});return c},getNodeDepth:function(d){var c=g;this.each(function(){if(!this.grid||!this.p.treeGrid)return;var e=this;switch(e.p.treeGridModel){case f:var g=e.p.treeReader.level_field;c=parseInt(d[g],a)-parseInt(e.p.tree_root_level,a);break;case h:c=b(e).jqGrid(r,d).length}});return c},getNodeParent:function(d){var e=g;this.each(function(){var g=this;if(!g.grid||!g.p.treeGrid)return;switch(g.p.treeGridModel){case f:var j=g.p.treeReader.left_field,k=g.p.treeReader.right_field,i=g.p.treeReader.level_field,o=parseInt(d[j],a),p=parseInt(d[k],a),m=parseInt(d[i],a);b(this.p.data).each(function(){var b=this;if(parseInt(b[i],a)===m-1&&parseInt(b[j],a)<o&&parseInt(b[k],a)>p){e=b;return c}});break;case h:var l=g.p.treeReader.parent_id_field,n=g.p.localReader.id;b(this.p.data).each(function(){if(this[n]==d[l]){e=this;return c}})}});return e},getNodeChildren:function(c){var d=[];this.each(function(){var e=this;if(!e.grid||!e.p.treeGrid)return;switch(e.p.treeGridModel){case f:var i=e.p.treeReader.left_field,j=e.p.treeReader.right_field,g=e.p.treeReader.level_field,n=parseInt(c[i],a),o=parseInt(c[j],a),l=parseInt(c[g],a);b(this.p.data).each(function(){var b=this;parseInt(b[g],a)===l+1&&parseInt(b[i],a)>n&&parseInt(b[j],a)<o&&d.push(b)});break;case h:var k=e.p.treeReader.parent_id_field,m=e.p.localReader.id;b(this.p.data).each(function(){this[k]==c[m]&&d.push(this)})}});return d},getFullTreeNode:function(d){var c=[];this.each(function(){var e=this,j;if(!e.grid||!e.p.treeGrid)return;switch(e.p.treeGridModel){case f:var g=e.p.treeReader.left_field,n=e.p.treeReader.right_field,i=e.p.treeReader.level_field,o=parseInt(d[g],a),p=parseInt(d[n],a),l=parseInt(d[i],a);b(this.p.data).each(function(){var b=this;parseInt(b[i],a)>=l&&parseInt(b[g],a)>=o&&parseInt(b[g],a)<=p&&c.push(b)});break;case h:if(d){c.push(d);var k=e.p.treeReader.parent_id_field,m=e.p.localReader.id;b(this.p.data).each(function(a){j=c.length;for(a=0;a<j;a++)if(c[a][m]==this[k]){c.push(this);break}})}}});return c},getNodeAncestors:function(c){var a=[];this.each(function(){var e=this;if(!e.grid||!e.p.treeGrid)return;var d=b(e).jqGrid(p,c);while(d){a.push(d);d=b(e).jqGrid(p,d)}});return a},isVisibleNode:function(e){var a=d;this.each(function(){var d=this;if(!d.grid||!d.p.treeGrid)return;var f=b(d).jqGrid(r,e),g=d.p.treeReader.expanded_field;b(f).each(function(){a=a&&this[g];if(!a)return c})});return a},isNodeLoaded:function(e){var a;this.each(function(){var f=this;if(!f.grid||!f.p.treeGrid)return;var g=f.p.treeReader.leaf_field;if(e!==undefined)if(e.loaded!==undefined)a=e.loaded;else if(e[g]||b(f).jqGrid(l,e).length>0)a=d;else a=c;else a=c});return a},expandNode:function(a){return this.each(function(){var g="setGridParam",c=this;if(!c.grid||!c.p.treeGrid)return;var j=c.p.treeReader.expanded_field,p=c.p.treeReader.parent_id_field,n=c.p.treeReader.loaded,l=c.p.treeReader.level_field,r=c.p.treeReader.left_field,s=c.p.treeReader.right_field;if(!a[j]){var h=b.jgrid.getAccessor(a,c.p.localReader.id),k=b("#"+h,c.grid.bDiv)[0],m=c.p._index[h];if(b(c).jqGrid(t,c.p.data[m])){a[j]=d;b(i,k).removeClass(c.p.treeIcons.plus+q).addClass(c.p.treeIcons.minus+o)}else{a[j]=d;b(i,k).removeClass(c.p.treeIcons.plus+q).addClass(c.p.treeIcons.minus+o);c.p.treeANode=k.rowIndex;c.p.datatype=c.p.treedatatype;if(c.p.treeGridModel==f)b(c).jqGrid(g,{postData:{nodeid:h,n_left:a[r],n_right:a[s],n_level:a[l]}});else b(c).jqGrid(g,{postData:{nodeid:h,parentid:a[p],n_level:a[l]}});b(c).trigger("reloadGrid");a[n]=d;if(c.p.treeGridModel==f)b(c).jqGrid(g,{postData:{nodeid:e,n_left:e,n_right:e,n_level:e}});else b(c).jqGrid(g,{postData:{nodeid:e,parentid:e,n_level:e}})}}})},collapseNode:function(a){return this.each(function(){var d=this;if(!d.grid||!d.p.treeGrid)return;if(a.expanded){a.expanded=c;var f=b.jgrid.getAccessor(a,d.p.localReader.id),e=b("#"+f,d.grid.bDiv)[0];b(i,e).removeClass(d.p.treeIcons.minus+o).addClass(d.p.treeIcons.plus+q)}})},SortTree:function(a,d,e,c){return this.each(function(){var f=this;if(!f.grid||!f.p.treeGrid)return;var k,n,l,h=[],m=f,i,j,o=b(f).jqGrid("getRootNodes");i=b.jgrid.from(o);i.orderBy(a,d,e,c);j=i.select();for(k=0,n=j.length;k<n;k++){l=j[k];h.push(l);b(f).jqGrid(s,h,l,a,d,e,c)}b.each(h,function(a){var c=b.jgrid.getAccessor(this,m.p.localReader.id);b("#"+m.p.id+" tbody tr:eq("+a+")").after(b("tr#"+c,m.grid.bDiv))});i=g;j=g;h=g})},collectChildrenSortTree:function(d,g,a,e,f,c){return this.each(function(){var h=this;if(!h.grid||!h.p.treeGrid)return;var i,n,k,o,m,j;o=b(h).jqGrid(l,g);m=b.jgrid.from(o);m.orderBy(a,e,f,c);j=m.select();for(i=0,n=j.length;i<n;i++){k=j[i];d.push(k);b(h).jqGrid(s,d,k,a,e,f,c)}})},setTreeRow:function(d,e){var a=c;this.each(function(){var c=this;if(!c.grid||!c.p.treeGrid)return;a=b(c).jqGrid("setRowData",d,e)});return a},delTreeNode:function(c){return this.each(function(){var d=this,p=d.p.localReader.id,j=d.p.treeReader.left_field,i=d.p.treeReader.right_field,h,l,e,g;if(!d.grid||!d.p.treeGrid)return;var k=d.p._index[c];if(k!==undefined){h=parseInt(d.p.data[k][i],a);l=h-parseInt(d.p.data[k][j],a)+1;var n=b(d).jqGrid(u,d.p.data[k]);if(n.length>0)for(var o=0;o<n.length;o++)b(d).jqGrid("delRowData",n[o][p]);if(d.p.treeGridModel===f){e=b.jgrid.from(d.p.data).greater(j,h,{stype:m}).select();if(e.length)for(g in e)e[g][j]=parseInt(e[g][j],a)-l;e=b.jgrid.from(d.p.data).greater(i,h,{stype:m}).select();if(e.length)for(g in e)e[g][i]=parseInt(e[g][i],a)-l}}})},addChildNode:function(G,n,v){var x="getInd",j=this[0];if(v){var C=j.p.treeReader.expanded_field,E=j.p.treeReader.leaf_field,K=j.p.treeReader.level_field,O=j.p.treeReader.icon_field,N=j.p.treeReader.parent_id_field,w=j.p.treeReader.left_field,p=j.p.treeReader.right_field,J=j.p.treeReader.loaded,F,A,r,B,q,M,I=0,y=n,H,s;if(!G){q=j.p.data.length-1;if(q>=0)while(q>=0){I=Math.max(I,parseInt(j.p.data[q][j.p.localReader.id],a));q--}G=I+1}var L=b(j).jqGrid(x,n);H=c;if(n===undefined||n===g||n===e){n=g;y=g;F="last";B=j.p.tree_root_level;q=j.p.data.length+1}else{F="after";A=j.p._index[n];r=j.p.data[A];n=r[j.p.localReader.id];B=parseInt(r[K],a)+1;var D=b(j).jqGrid(u,r);if(D.length){q=D[D.length-1][j.p.localReader.id];y=q;q=b(j).jqGrid(x,y)+1}else q=b(j).jqGrid(x,n)+1;if(r[E]){H=d;r[C]=d;b(j.rows[L]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(j.p.treeIcons.leaf+" tree-leaf").addClass(j.p.treeIcons.minus+o);j.p.data[A][E]=c;r[J]=d}}M=q+1;v[C]=c;v[J]=d;v[K]=B;v[E]=d;if(j.p.treeGridModel===h)v[N]=n;if(j.p.treeGridModel===f){var z,k,l;if(n!==g){s=parseInt(r[p],a);z=b.jgrid.from(j.p.data);z=z.greaterOrEquals(p,s,{stype:m});k=z.select();if(k.length)for(l in k){k[l][w]=k[l][w]>s?parseInt(k[l][w],a)+2:k[l][w];k[l][p]=k[l][p]>=s?parseInt(k[l][p],a)+2:k[l][p]}v[w]=s;v[p]=s+1}else{s=parseInt(b(j).jqGrid("getCol",p,c,"max"),a);k=b.jgrid.from(j.p.data).greater(w,s,{stype:m}).select();if(k.length)for(l in k)k[l][w]=parseInt(k[l][w],a)+2;k=b.jgrid.from(j.p.data).greater(p,s,{stype:m}).select();if(k.length)for(l in k)k[l][p]=parseInt(k[l][p],a)+2;v[w]=s+1;v[p]=s+2}}if(n===g||b(j).jqGrid(t,r)||H){b(j).jqGrid("addRowData",G,v,F,y);b(j).jqGrid("setTreeNode",q,M)}r&&!r[C]&&b(j.rows[L]).find(i).click()}}})})(jQuery);(function(c){var j="reloadGrid",h=" tbody:first",a="",i=":visible",e="#",g="showCol",d=true,f="undefined",b=false;c.jgrid.extend({groupingSetup:function(){return this.each(function(){var k=this,h=k.p.groupingView;if(h!==null&&(typeof h==="object"||c.isFunction(h)))if(!h.groupField.length)k.p.grouping=b;else{if(typeof h.visibiltyOnNextGrouping==f)h.visibiltyOnNextGrouping=[];for(var j=0;j<h.groupField.length;j++){if(!h.groupOrder[j])h.groupOrder[j]="asc";if(!h.groupText[j])h.groupText[j]="{0}";if(typeof h.groupColumnShow[j]!="boolean")h.groupColumnShow[j]=d;if(typeof h.groupSummary[j]!="boolean")h.groupSummary[j]=b;if(h.groupColumnShow[j]===d){h.visibiltyOnNextGrouping[j]=d;c(k).jqGrid(g,h.groupField[j])}else{h.visibiltyOnNextGrouping[j]=c(e+k.p.id+"_"+h.groupField[j]).is(i);c(k).jqGrid("hideCol",h.groupField[j])}h.sortitems[j]=[];h.sortnames[j]=[];h.summaryval[j]=[];if(h.groupSummary[j]){h.summary[j]=[];for(var m=k.p.colModel,l=0,n=m.length;l<n;l++)m[l].summaryType&&h.summary[j].push({nm:m[l].name,st:m[l].summaryType,v:a})}}k.p.scroll=b;k.p.rownumbers=b;k.p.subGrid=b;k.p.treeGrid=b;k.p.gridview=d}else k.p.grouping=b})},groupingPrepare:function(g,e,b,f){this.each(function(){e[0]+=a;var h=e[0].toString().split(" ").join(a),i=this.p.groupingView,j=this;if(b.hasOwnProperty(h))b[h].push(g);else{b[h]=[];b[h].push(g);i.sortitems[0].push(h);i.sortnames[0].push(c.trim(e[0].toString()));i.summaryval[0][h]=c.extend(d,[],i.summary[0])}i.groupSummary[0]&&c.each(i.summaryval[0][h],function(){var a=this;if(c.isFunction(a.st))a.v=a.st.call(j,a.v,a.nm,f);else a.v=c(j).jqGrid("groupingCalculations."+a.st,a.v,a.nm,f)})});return b},groupingToggle:function(a){this.each(function(){var g=this,h=g.p.groupingView,l=a.lastIndexOf("_"),p=a.substring(0,l+1),n=parseInt(a.substring(l+1),10)+1,j=h.minusicon,m=h.plusicon,o=c(e+a),f=o.length?o[0].nextSibling:null,i=c(e+a+" span.tree-wrap-"+g.p.direction),k=b;if(i.hasClass(j)){if(h.showSummaryOnHide&&h.groupSummary[0]){if(f)while(f){if(c(f).hasClass("jqfoot"))break;c(f).hide();f=f.nextSibling}}else if(f)while(f){if(c(f).attr("id")==p+String(n))break;c(f).hide();f=f.nextSibling}i.removeClass(j).addClass(m);k=d}else{if(f)while(f){if(c(f).attr("id")==p+String(n))break;c(f).show();f=f.nextSibling}i.removeClass(m).addClass(j)}c.isFunction(g.p.onClickGroup)&&g.p.onClickGroup.call(g,a,k)});return b},groupingRender:function(d,f){return this.each(function(){var i=this,g=i.p.groupingView,j=a,o=a,l,n=g.groupCollapse?g.plusicon:g.minusicon,m,p,k;if(!g.groupDataSorted){g.sortitems[0].sort();g.sortnames[0].sort();if(g.groupOrder[0].toLowerCase()=="desc"){g.sortitems[0].reverse();g.sortnames[0].reverse()}}n+=" tree-wrap-"+i.p.direction;k=0;while(k<f){if(i.p.colModel[k].name==g.groupField[0]){p=k;break}k++}c.each(g.sortitems[0],function(s,h){l=i.p.id+"ghead_"+s;o="<span style='cursor:pointer;' class='ui-icon "+n+"' onclick=\"jQuery('#"+i.p.id+"').jqGrid('groupingToggle','"+l+"');return false;\"></span>";try{m=i.formatter(l,g.sortnames[0][s],p,g.sortitems[0])}catch(y){m=g.sortnames[0][s]}j+='<tr id="'+l+'" role="row" class= "ui-widget-content jqgroup ui-row-'+i.p.direction+'"><td colspan="'+f+'">'+o+c.jgrid.format(g.groupText[0],m,d[h].length)+"</td></tr>";for(var q=0;q<d[h].length;q++)j+=d[h][q].join(a);if(g.groupSummary[0]){var w=a;if(g.groupCollapse&&!g.showSummaryOnHide)w=' style="display:none;"';j+="<tr"+w+' role="row" class="ui-widget-content jqfoot ui-row-'+i.p.direction+'">';for(var x=g.summaryval[0][h],k=i.p.colModel,r,v=d[h].length,e=0;e<f;e++){var t="<td "+i.formatCol(e,1,a)+">&#160;</td>",u="{0}";c.each(x,function(){var d=this;if(d.nm==k[e].name){if(k[e].summaryTpl)u=k[e].summaryTpl;if(d.st=="avg")if(d.v&&v>0)d.v=d.v/v;try{r=i.formatter(a,d.v,e,d)}catch(f){r=d.v}t="<td "+i.formatCol(e,1,a)+">"+c.jgrid.format(u,r)+"</td>";return b}});j+=t}j+="</tr>"}});c(e+i.p.id+h).append(j);j=null})},groupingGroupBy:function(a,b){return this.each(function(){var l=this;if(typeof a=="string")a=[a];var k=l.p.groupingView;l.p.grouping=d;if(typeof k.visibiltyOnNextGrouping==f)k.visibiltyOnNextGrouping=[];for(var h=0;h<k.groupField.length;h++)!k.groupColumnShow[h]&&k.visibiltyOnNextGrouping[h]&&c(l).jqGrid(g,k.groupField[h]);for(h=0;h<a.length;h++)k.visibiltyOnNextGrouping[h]=c(e+l.p.id+"_"+a[h]).is(i);l.p.groupingView=c.extend(l.p.groupingView,b||{});k.groupField=a;c(l).trigger(j)})},groupingRemove:function(a){return this.each(function(){var i=this;if(typeof a==f)a=d;i.p.grouping=b;if(a===d){for(var k=i.p.groupingView,l=0;l<k.groupField.length;l++)!k.groupColumnShow[l]&&k.visibiltyOnNextGrouping[l]&&c(i).jqGrid(g,k.groupField);c("tr.jqgroup, tr.jqfoot",e+i.p.id+h).remove();c("tr.jqgrow:hidden",e+i.p.id+h).show()}else c(i).trigger(j)})},groupingCalculations:{sum:function(c,a,b){return parseFloat(c||0)+parseFloat(b[a]||0)},min:function(d,b,c){return d===a?parseFloat(c[b]||0):Math.min(parseFloat(d),parseFloat(c[b]||0))},max:function(d,b,c){return d===a?parseFloat(c[b]||0):Math.max(parseFloat(d),parseFloat(c[b]||0))},count:function(b,c,d){if(b===a)b=0;return d.hasOwnProperty(c)?b+1:0},avg:function(c,a,b){return parseFloat(c||0)+parseFloat(b[a]||0)}}})})(jQuery);(function(b){var d="jsonstring",a=null,c="xmlstring";b.jgrid.extend({jqGridImport:function(e){e=b.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{});return this.each(function(){var f="string",g="setGridParam",i=this,k=function(f,j){var m=b(j.xmlGrid.config,f)[0],l=b(j.xmlGrid.data,f)[0],d,e;if(xmlJsonClass.xml2json&&b.jgrid.parse){d=xmlJsonClass.xml2json(m," ");d=b.jgrid.parse(d);for(var h in d)if(d.hasOwnProperty(h))e=d[h];if(l){var k=d.grid.datatype;d.grid.datatype=c;d.grid.datastr=f;b(i).jqGrid(e).jqGrid(g,{datatype:k})}else b(i).jqGrid(e);d=a;e=a}else alert("xml2json or parse are not present")},j=function(c,j){if(c&&typeof c==f){var h=b.jgrid.parse(c),a=h[j.jsonGrid.config],e=h[j.jsonGrid.data];if(e){var k=a.datatype;a.datatype=d;a.datastr=e;b(i).jqGrid(a).jqGrid(g,{datatype:k})}else b(i).jqGrid(a)}};switch(e.imptype){case"xml":b.ajax(b.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",complete:function(c,d){if(d=="success"){k(c.responseXML,e);b.isFunction(e.importComplete)&&e.importComplete(c)}c=a}},e.ajaxOptions));break;case c:if(e.impstring&&typeof e.impstring==f){var h=b.jgrid.stringToDoc(e.impstring);if(h){k(h,e);b.isFunction(e.importComplete)&&e.importComplete(h);e.impstring=a}h=a}break;case"json":b.ajax(b.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",complete:function(c,d){if(d=="success"){j(c.responseText,e);b.isFunction(e.importComplete)&&e.importComplete(c)}c=a}},e.ajaxOptions));break;case d:if(e.impstring&&typeof e.impstring==f){j(e.impstring,e);b.isFunction(e.importComplete)&&e.importComplete(e.impstring);e.impstring=a}}})},jqGridExport:function(e){e=b.extend({exptype:c,root:"grid",ident:"\t"},e||{});var f=a;this.each(function(){if(!this.grid)return;var g=b.extend({},b(this).jqGrid("getGridParam"));if(g.rownumbers){g.colNames.splice(0,1);g.colModel.splice(0,1)}if(g.multiselect){g.colNames.splice(0,1);g.colModel.splice(0,1)}if(g.subGrid){g.colNames.splice(0,1);g.colModel.splice(0,1)}g.knv=a;if(g.treeGrid)for(var h in g.treeReader)if(g.treeReader.hasOwnProperty(h)){g.colNames.splice(g.colNames.length-1);g.colModel.splice(g.colModel.length-1)}switch(e.exptype){case c:f="<"+e.root+">"+xmlJsonClass.json2xml(g,e.ident)+"</"+e.root+">";break;case d:f="{"+xmlJsonClass.toJson(g,e.root,e.ident,false)+"}";if(g.postData.filters!==undefined){f=f.replace(/filters":"/,'filters":');f=f.replace(/}]}"/,"}]}")}}});return f},excelExport:function(c){c=b.extend({exptype:"remote",url:a,oper:"oper",tag:"excel",exportOptions:{}},c||{});return this.each(function(){if(!this.grid)return;var a;if(c.exptype=="remote"){var e=b.extend({},this.p.postData);e[c.oper]=c.tag;var d=jQuery.param(e);if(c.url.indexOf("?")!=-1)a=c.url+"&"+d;else a=c.url+"?"+d;window.location=a}})}})})(jQuery);(function(a){var i="collapseSubGridRow",f="id",k="colModel",g="getGridParam",e=null,j="remapColumns",h=">div",c=10,b=true,d=false;if(a.browser.msie&&a.browser.version==8)a.expr[":"].hidden=function(a){return a.offsetWidth===0||a.offsetHeight===0||a.style.display=="none"};a.jgrid._multiselect=d;if(a.ui)if(a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var l=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(d,c){var b=this,f=l.call(b,d,c);if(c&&b.selectedList){var e=b.element;b.selectedList.find("li").each(function(){var b="optionLink";a(this).data(b)&&a(this).data(b).remove().appendTo(e)})}return f}}if(a.ui.multiselect.prototype.destroy)a.ui.multiselect.prototype.destroy=function(){var b=this;b.element.show();b.container.remove();if(a.Widget===undefined)a.widget.prototype.destroy.apply(b,arguments);else a.Widget.prototype.destroy.apply(b,arguments)};a.jgrid._multiselect=b}a.jgrid.extend({sortableColumns:function(e){return this.each(function(){var f=this,i=f.p.id;function k(){f.p.disableClick=b}var g={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+i+"_cb,#jqgh_"+i+"_rn,#jqgh_"+i+"_subgrid),:hidden)",placeholder:{element:function(b){return a(document.createElement(b[0].nodeName)).addClass(b[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,c)-parseInt(a.currentItem.css("paddingBottom")||0,c));b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,c)-parseInt(a.currentItem.css("paddingRight")||0,c))}},update:function(n,l){var m=a(l.item).parent(),k=a(">th",m),g=f.p.colModel,e={},i=f.p.id+"_";a.each(g,function(a){e[this.name]=a});var c=[];k.each(function(){var b=a(h,this).get(0).id.replace(/^jqgh_/,"").replace(i,"");b in e&&c.push(e[b])});a(f).jqGrid(j,c,b,b);a.isFunction(f.p.sortable.update)&&f.p.sortable.update(c);setTimeout(function(){f.p.disableClick=d},50)}};if(f.p.sortable.options)a.extend(g,f.p.sortable.options);else if(a.isFunction(f.p.sortable))f.p.sortable={update:f.p.sortable};if(g.start){var l=g.start;g.start=function(b,a){k();l.call(this,b,a)}}else g.start=k;if(f.p.sortable.exclude)g.items+=":not("+f.p.sortable.exclude+")";e.sortable(g).data("sortable").floating=b})},columnChooser:function(f){var n="multiselect",i=this;if(a("#colchooser_"+i[0].p.id).length)return;var m=a('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),l=a("select",m);function t(b,a,e){if(a>=0){var c=b.slice(),d=c.splice(a,Math.max(b.length-a,a));if(a>b.length)a=b.length;c[a]=e;return c.concat(d)}}f=a.extend({width:420,height:240,classname:e,done:function(a){a&&i.jqGrid(j,a,b)},msel:n,dlog:"dialog",dlog_opts:function(a){var c={};c[a.bSubmit]=function(){a.apply_perm();a.cleanup(d)};c[a.bCancel]=function(){a.cleanup(b)};return{buttons:c,close:function(){a.cleanup(b)},modal:a.modal?a.modal:d,resizable:a.resizable?a.resizable:b,width:a.width+20}},apply_perm:function(){a("option",l).each(function(){if(this.selected)i.jqGrid("showCol",o[this.value].name);else i.jqGrid("hideCol",o[this.value].name)});var b=[];a("option:selected",l).each(function(){b.push(parseInt(this.value,c))});a.each(b,function(){delete q[o[parseInt(this,c)].name]});a.each(q,function(){var a=parseInt(this,c);b=t(b,a,a)});f.done&&f.done.call(i,b)},cleanup:function(a){p(f.dlog,m,"destroy");p(f.msel,l,"destroy");m.remove();a&&f.done&&f.done.call(i)},msel_opts:{}},a.jgrid.col,f||{});if(a.ui)if(a.ui.multiselect)if(f.msel==n){if(!a.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}f.msel_opts=a.extend(a.ui.multiselect.defaults,f.msel_opts)}f.caption&&m.attr("title",f.caption);if(f.classname){m.addClass(f.classname);l.addClass(f.classname)}if(f.width){a(h,m).css({width:f.width,margin:"0 auto"});l.css("width",f.width)}if(f.height){a(h,m).css("height",f.height);l.css("height",f.height-c)}var o=i.jqGrid(g,k),s=i.jqGrid(g,"colNames"),q={},r=[];l.empty();a.each(o,function(b){var a=this;q[a.name]=b;if(a.hidedlg){!a.hidden&&r.push(b);return}l.append("<option value='"+b+"' "+(a.hidden?"":"selected='selected'")+">"+s[b]+"</option>")});function p(b,c){if(!b)return;if(typeof b=="string")a.fn[b]&&a.fn[b].apply(c,a.makeArray(arguments).slice(2));else a.isFunction(b)&&b.apply(c,a.makeArray(arguments).slice(2))}var u=a.isFunction(f.dlog_opts)?f.dlog_opts.call(i,f):f.dlog_opts;p(f.dlog,m,u);var v=a.isFunction(f.msel_opts)?f.msel_opts.call(i,f):f.msel_opts;p(f.msel,l,v)},sortableRows:function(e){return this.each(function(){var j="tbody:first",h="border-width",g=this;if(!g.grid)return;if(g.p.treeGrid)return;if(a.fn.sortable){e=a.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{});if(e.start&&a.isFunction(e.start)){e._start_=e.start;delete e.start}else e._start_=d;if(e.update&&a.isFunction(e.update)){e._update_=e.update;delete e.update}else e._update_=d;e.start=function(d,b){a(b.item).css(h,"0px");a("td",b.item).each(function(a){this.style.width=g.grid.cols[a].style.width});if(g.p.subGrid){var c=a(b.item).attr(f);try{a(g).jqGrid(i,c)}catch(j){}}e._start_&&e._start_.apply(this,[d,b])};e.update=function(f,d){a(d.item).css(h,"");g.p.rownumbers===b&&a("td.jqgrid-rownum",g.rows).each(function(b){a(this).html(b+1+(parseInt(g.p.page,c)-1)*parseInt(g.p.rowNum,c))});e._update_&&e._update_.apply(this,[f,d])};a(j,g).sortable(e);a(j,g).disableSelection()}})},gridDnD:function(c){return this.each(function(){var l="addRowData",m="#jqgrid_dnd",h="dnd",j=this;if(!j.grid)return;if(j.p.treeGrid)return;if(!a.fn.draggable||!a.fn.droppable)return;function o(){var b=a.data(j,h);a("tr.jqgrow:not(.ui-draggable)",j).draggable(a.isFunction(b.drag)?b.drag.call(a(j),b):b.drag)}var p="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";a(m).html()===e&&a("body").append(p);if(typeof c=="string"&&c=="updateDnD"&&j.p.jqgdnd===b){o();return}c=a.extend({drag:function(c){var b="jqg_empty_row";return a.extend({start:function(m,d){if(j.p.subGrid){var k=a(d.helper).attr(f);try{a(j).jqGrid(i,k)}catch(n){}}for(var e=0;e<a.data(j,h).connectWith.length;e++)a(a.data(j,h).connectWith[e]).jqGrid(g,"reccount")=="0"&&a(a.data(j,h).connectWith[e]).jqGrid(l,b,{});d.helper.addClass("ui-state-highlight");a("td",d.helper).each(function(a){this.style.width=j.grid.headers[a].width+"px"});c.onstart&&a.isFunction(c.onstart)&&c.onstart.call(a(j),m,d)},stop:function(k,e){var d="delRowData";if(e.helper.dropped&&!c.dragcopy){var i=a(e.helper).attr(f);a(j).jqGrid(d,i)}for(var g=0;g<a.data(j,h).connectWith.length;g++)a(a.data(j,h).connectWith[g]).jqGrid(d,b);c.onstop&&a.isFunction(c.onstop)&&c.onstop.call(a(j),k,e)}},c.drag_opts||{})},drop:function(c){return a.extend({accept:function(c){if(!a(c).hasClass("jqgrow"))return c;var e=a(c).closest("table.ui-jqgrid-btable");if(e.length>0&&a.data(e[0],h)!==undefined){var f=a.data(e[0],h).connectWith;return a.inArray("#"+this.id,f)!=-1?b:d}return c},drop:function(t,h){var i=this;if(!a(h.draggable).hasClass("jqgrow"))return;var u=a(h.draggable).attr(f),d=h.draggable.parent().parent().jqGrid("getRowData",u);if(!c.dropbyname){var o=0,r={},q,p=a("#"+i.id).jqGrid(g,k);try{for(var s in d){if(d.hasOwnProperty(s)&&p[o]){q=p[o].name;r[q]=d[s]}o++}d=r}catch(v){}}h.helper.dropped=b;if(c.beforedrop&&a.isFunction(c.beforedrop)){var n=c.beforedrop.call(i,t,h,d,a("#"+j.id),a(i));if(typeof n!="undefined"&&n!==e&&typeof n=="object")d=n}if(h.helper.dropped){var m;if(c.autoid)if(a.isFunction(c.autoid))m=c.autoid.call(i,d);else{m=Math.ceil(Math.random()*1e3);m=c.autoidprefix+m}a("#"+i.id).jqGrid(l,m,d,c.droppos)}c.ondrop&&a.isFunction(c.ondrop)&&c.ondrop.call(i,t,h,d)}},c.drop_opts||{})},onstart:e,onstop:e,beforedrop:e,ondrop:e,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:m,zIndex:5e3},dragcopy:d,dropbyname:d,droppos:"first",autoid:b,autoidprefix:"dnd_"},c||{});if(!c.connectWith)return;c.connectWith=c.connectWith.split(",");c.connectWith=a.map(c.connectWith,function(b){return a.trim(b)});a.data(j,h,c);j.p.reccount!="0"&&!j.p.jqgdnd&&o();j.p.jqgdnd=b;for(var n=0;n<c.connectWith.length;n++){var q=c.connectWith[n];a(q).droppable(a.isFunction(c.drop)?c.drop.call(a(j),c):c.drop)}})},gridResize:function(b){return this.each(function(){var c=this;if(!c.grid||!a.fn.resizable)return;b=a.extend({},b||{});if(b.alsoResize){b._alsoResize_=b.alsoResize;delete b.alsoResize}else b._alsoResize_=d;if(b.stop&&a.isFunction(b.stop)){b._stop_=b.stop;delete b.stop}else b._stop_=d;b.stop=function(e,d){a(c).jqGrid("setGridParam",{height:a("#gview_"+c.p.id+" .ui-jqgrid-bdiv").height()});a(c).jqGrid("setGridWidth",d.size.width,b.shrinkToFit);b._stop_&&b._stop_.call(c,e,d)};if(b._alsoResize_){var e="{'#gview_"+c.p.id+" .ui-jqgrid-bdiv':true,'"+b._alsoResize_+"':true}";b.alsoResize=eval("("+e+")")}else b.alsoResize=a(".ui-jqgrid-bdiv","#gview_"+c.p.id);delete b._alsoResize_;a("#gbox_"+c.p.id).resizable(b)})}})})(jQuery);function tableToGrid(a,b){jQuery(a).each(function(){var a=this;if(a.grid)return;jQuery(a).width("99%");var o=jQuery(a).width(),l=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(a)),n=jQuery("tr td:first-child input[type=radio]:first",jQuery(a)),g=l.length>0,m=!g&&n.length>0,k=g||m,e=[],i=[];jQuery("th",jQuery(a)).each(function(){var a="__selection__",b=this;if(e.length===0&&k){e.push({name:a,index:a,width:0,hidden:true});i.push(a)}else{e.push({name:jQuery(b).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(b).html())).split(" ").join("_"),index:jQuery(b).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(b).html())).split(" ").join("_"),width:jQuery(b).width()||150});i.push(jQuery(b).html())}});var f=[],j=[],h=[];jQuery("tbody > tr",jQuery(a)).each(function(){var b={},a=0;jQuery("td",jQuery(this)).each(function(){if(a===0&&k){var c=jQuery("input",jQuery(this)),d=c.attr("value");j.push(d||f.length);c.is(":checked")&&h.push(d);b[e[a].name]=c.attr("value")}else b[e[a].name]=jQuery(this).html();a++});a>0&&f.push(b)});jQuery(a).empty();jQuery(a).addClass("scroll");jQuery(a).jqGrid(jQuery.extend({datatype:"local",width:o,colNames:i,colModel:e,multiselect:g},b||{}));for(var c=0;c<f.length;c++){var d=null;if(j.length>0){d=j[c];if(d&&d.replace)d=encodeURIComponent(d).replace(/[.\-%]/g,"_")}if(d===null)d=c+1;jQuery(a).jqGrid("addRowData",d,f[c])}for(c=0;c<h.length;c++)jQuery(a).jqGrid("setSelection",h[c])})}(function(a){var b;a.fn.jqprint=function(i){var c="<link type='text/css' rel='stylesheet' href='",g="link[media=print]";b=a.extend({},a.fn.jqprint.defaults,i);var h=this instanceof jQuery?this:a(this);if(b.operaSupport&&a.browser.opera){var d=window.open("","jqPrint-preview");d.document.open();var f=d.document}else{var e=a("<iframe  />");!b.debug&&e.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"});e.appendTo("body");var f=e[0].contentWindow.document}if(b.importCSS)if(a(g).length>0)a(g).each(function(){f.write(c+a(this).attr("href")+"' media='print' />")});else a("link").each(function(){f.write(c+a(this).attr("href")+"' />")});if(b.printContainer)f.write(h.outer());else h.each(function(){f.write(a(this).html())});f.close();(b.operaSupport&&a.browser.opera?d:e[0].contentWindow).focus();setTimeout(function(){(b.operaSupport&&a.browser.opera?d:e[0].contentWindow).print();d&&d.close()},1e3)};a.fn.jqprint.defaults={debug:false,importCSS:true,printContainer:true,operaSupport:true};jQuery.fn.outer=function(){return a(a("<div></div>").html(this.clone())).html()}})(jQuery);(function(a){var c="character";function e(b){var a={begin:0,end:0};if(b.setSelectionRange){a.begin=b.selectionStart;a.end=b.selectionEnd}else if(document.selection&&document.selection.createRange){var d=document.selection.createRange();a.begin=0-d.duplicate().moveStart(c,-1e5);a.end=a.begin+d.text.length}return a}function b(a,d){if(a.setSelectionRange){a.focus();a.setSelectionRange(d,d)}else if(a.createTextRange){var b=a.createTextRange();b.collapse(true);b.moveEnd(c,d);b.moveStart(c,d);b.select()}}var d={"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};a.mask={addPlaceholder:function(a,b){d[a]=b}};a.fn.unmask=function(){return this.trigger("unmask")};a.fn.mask=function(c,f){f=a.extend({placeholder:"_",completed:null},f);for(var h="^",g=0;g<c.length;g++)h+=d[c.charAt(g)]||"\\"+c.charAt(g);h+="$";var i=new RegExp(h);return this.each(function(){var j="keypress",g=false;for(var h=a(this),l=new Array(c.length),o=new Array(c.length),m=0;m<c.length;m++){o[m]=d[c.charAt(m)]==null;l[m]=o[m]?c.charAt(m):f.placeholder}function t(){n();k();setTimeout(function(){b(h[0],0)},0)}h.bind("focus",t);h.bind("blur",n);if(a.browser.msie)this.onpaste=function(){setTimeout(n,0)};else a.browser.mozilla&&this.addEventListener("input",n,g);var q=g;function s(j){var i=this,d=e(i),h=j.keyCode;q=h<16||h>16&&h<32||h>32&&h<41;d.begin-d.end!=0&&(!q||h==8||h==46)&&p(d.begin,d.end);if(h==8){while(d.begin-->=0)if(!o[d.begin]){l[d.begin]=f.placeholder;if(a.browser.opera){k(d.begin);b(i,d.begin+1)}else{k();b(i,d.begin)}return g}}else if(h==46){p(d.begin,d.begin+1);k();b(i,d.begin);return g}else if(h==27){p(0,c.length);k();b(i,0);return g}}h.bind("keydown",s);function r(i){if(q){q=g;return}i=i||window.event;var j=i.charCode||i.keyCode||i.which,a=e(this),m=a.begin;if(i.ctrlKey||i.altKey)return true;else if(j>=41&&j<=122||j==32||j>186)while(a.begin<c.length){var n=d[c.charAt(a.begin)],p;if(n){var r=new RegExp(n);p=String.fromCharCode(j).match(r)}else{a.begin+=1;a.end=a.begin;m+=1;continue}if(p)l[a.begin]=String.fromCharCode(j);else return g;while(++m<c.length)if(!o[m])break;break}else return g;k();if(f.completed&&m>=l.length)f.completed.call(h);else b(this,m);return g}h.bind(j,r);function p(b,c){for(var a=b;a<c;a++)if(!o[a])l[a]=f.placeholder}function k(d){for(var b="",a=0;a<c.length;a++){b+=l[a];if(a==d)b+=f.placeholder}h.val(b);return b}function n(){for(var b=h.val(),e=0,a=0;a<c.length;a++)if(!o[a])while(e++<b.length){var f=new RegExp(d[c.charAt(a)]);if(b.charAt(e-1).match(f)){l[a]=b.charAt(e-1);break}}var g=k();if(!g.match(i)){h.val("");p(0,c.length)}}h.one("unmask",function(){h.unbind("focus",t);h.unbind("blur",n);h.unbind("keydown",s);h.unbind(j,r);if(a.browser.msie)this.onpaste=null;else a.browser.mozilla&&this.removeEventListener("input",n,g)})})}})(jQuery);(function(a){var b="metadata";a.extend({metadata:{defaults:{type:"class",name:b,cre:/({.*})/,single:b},setType:function(b,a){this.defaults.type=b;this.defaults.name=a},"get":function(e,k){var c=a.extend({},this.defaults,k);if(!c.single.length)c.single=b;var d=a.data(e,c.single);if(d)return d;d="{}";var l=function(a){if(typeof a!="string")return a;if(a.indexOf("{")<0)a=eval("("+a+")")},g=function(a){if(typeof a!="string")return a;a=eval("("+a+")");return a};if(c.type=="html5"){var f={};a(e.attributes).each(function(){var a=this.nodeName;if(a.match(/^data-/))a=a.replace(/^data-/,"");else return true;f[a]=g(this.nodeValue)})}else{if(c.type=="class"){var j=c.cre.exec(e.className);if(j)d=j[1]}else if(c.type=="elem"){if(!e.getElementsByTagName)return;var i=e.getElementsByTagName(c.name);if(i.length)d=a.trim(i[0].innerHTML)}else if(e.getAttribute!=undefined){var h=e.getAttribute(c.name);if(h)d=h}f=g(d.indexOf("{")<0?"{"+d+"}":d)}a.data(e,c.single,f);return f}}});a.fn.metadata=function(b){return a.metadata.get(this[0],b)}})(jQuery);(function(){var T="scroll",mb="relative",V="toggle",v="hide",G="display",J="olddisplay",u="show",jb="marginLeft",ib="marginTop",hb="Last-Modified",S="parsererror",R="json",bb="notmodified",C="success",y="GET",P="1px",s="none",ab="complete",O="(\\.|$)",N="(^|\\.)",I="on",r="handle",B="href",qb="className",M="fx",x="previousSibling",lb="nextSibling",gb="parentNode",fb="tabIndex",i="undefined",F="opacity",E="margin",H="border",eb="Left",Q="block",A="hidden",kb="absolute",q="px",Z="text/javascript",L="[object Array]",Y="boolean",k="script",D="tbody",w="number",K="closest",p="events",l="*",n="div",d=false,b=true,c=null,t="object",z="height",o="width",m=".",g=" ",X="find",e="",f="string",j=this,h,Jb=j.jQuery,Gb=j.$,a=j.jQuery=j.$=function(b,c){return new a.fn.init(b,c)},Eb=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,Fb=/^.[^:#\[\.,]*$/;a.fn=a.prototype={init:function(b,g){var c=this;b=b||document;if(b.nodeType){c[0]=b;c.length=1;c.context=b;return c}if(typeof b===f){var d=Eb.exec(b);if(d&&(d[1]||!g))if(d[1])b=a.clean([d[1]],g);else{var h=document.getElementById(d[3]);if(h&&h.id!=d[3])return a().find(b);var e=a(h||[]);e.context=document;e.selector=b;return e}else return a(g).find(b)}else if(a.isFunction(b))return a(document).ready(b);if(b.selector&&b.context){c.selector=b.selector;c.context=b.context}return c.setArray(a.isArray(b)?b:a.makeArray(b))},selector:e,jquery:"1.3.2",size:function(){return this.length},"get":function(a){return a===h?Array.prototype.slice.call(this):this[a]},pushStack:function(h,d,f){var b=this,c=a(h);c.prevObject=b;c.context=b.context;if(d===X)c.selector=b.selector+(b.selector?g:e)+f;else if(d)c.selector=b.selector+m+d+"("+f+")";return c},setArray:function(a){this.length=0;Array.prototype.push.apply(this,a);return this},each:function(c,b){return a.each(this,c,b)},index:function(b){return a.inArray(b&&b.jquery?b[0]:b,this)},attr:function(b,e,d){var c=b;if(typeof b===f)if(e===h)return this[0]&&a[d||"attr"](this[0],b);else{c={};c[b]=e}return this.each(function(e){for(b in c)a.attr(d?this.style:this,b,a.prop(this,c[b],d,e,b))})},css:function(a,b){if((a==o||a==z)&&parseFloat(b)<0)b=h;return this.attr(a,b,"curCSS")},text:function(d){var b=this;if(typeof d!==t&&d!=c)return b.empty().append((b[0]&&b[0].ownerDocument||document).createTextNode(d));var f=e;a.each(d||b,function(){a.each(this.childNodes,function(){var b=this;if(b.nodeType!=8)f+=b.nodeType!=1?b.nodeValue:a.fn.text([b])})});return f},wrapAll:function(d){var b=this;if(b[0]){var c=a(d,b[0].ownerDocument).clone();b[0].parentNode&&c.insertBefore(b[0]);c.map(function(){var a=this;while(a.firstChild)a=a.firstChild;return a}).append(b)}return b},wrapInner:function(b){return this.each(function(){a(this).contents().wrapAll(b)})},wrap:function(b){return this.each(function(){a(this).wrapAll(b)})},append:function(){return this.domManip(arguments,b,function(a){this.nodeType==1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,b,function(a){this.nodeType==1&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,d,function(a){this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,d,function(a){this.parentNode.insertBefore(a,this.nextSibling)})},end:function(){return this.prevObject||a([])},push:[].push,sort:[].sort,splice:[].splice,find:function(c){var b=this;if(b.length===1){var d=b.pushStack([],X,c);d.length=0;a.find(c,b[0],d);return d}else return b.pushStack(a.unique(a.map(b,function(b){return a.find(c,b)})),X,c)},clone:function(g){var d=this.map(function(){var c=this;if(!a.support.noCloneEvent&&!a.isXMLDoc(c)){var d=c.outerHTML;if(!d){var f=c.ownerDocument.createElement(n);f.appendChild(c.cloneNode(b));d=f.innerHTML}return a.clean([d.replace(/ jQuery\d+="(?:\d+|null)"/g,e).replace(/^\s*/,e)])[0]}else return c.cloneNode(b)});if(g===b){var f=this.find(l).andSelf(),c=0;d.find(l).andSelf().each(function(){if(this.nodeName!==f[c].nodeName)return;var b=a.data(f[c],p);for(var d in b)for(var e in b[d])a.event.add(this,d,b[d][e],b[d][e].data);c++})}return d},filter:function(b){return this.pushStack(a.isFunction(b)&&a.grep(this,function(c,a){return b.call(c,a)})||a.multiFilter(b,a.grep(this,function(a){return a.nodeType===1})),"filter",b)},closest:function(b){var e=a.expr.match.POS.test(b)?a(b):c,d=0;return this.map(function(){var c=this;while(c&&c.ownerDocument){if(e?e.index(c)>-1:a(c).is(b)){a.data(c,K,d);return c}c=c.parentNode;d++}})},not:function(c){var d=this;if(typeof c===f)if(Fb.test(c))return d.pushStack(a.multiFilter(c,d,b),"not",c);else c=a.multiFilter(c,d);var e=c.length&&c[c.length-1]!==h&&!c.nodeType;return d.filter(function(){return e?a.inArray(this,c)<0:this!=c})},add:function(b){return this.pushStack(a.unique(a.merge(this.get(),typeof b===f?a(b):a.makeArray(b))))},is:function(b){return!!b&&a.multiFilter(b,this).length>0},hasClass:function(a){return!!a&&this.is(m+a)},val:function(b){if(b===h){var d=this[0];if(d){if(a.nodeName(d,"option"))return(d.attributes.value||{}).specified?d.value:d.text;if(a.nodeName(d,"select")){var i=d.selectedIndex,k=[],l=d.options,g=d.type=="select-one";if(i<0)return c;for(var f=g?i:0,m=g?i+1:l.length;f<m;f++){var j=l[f];if(j.selected){b=a(j).val();if(g)return b;k.push(b)}}return k}return(d.value||e).replace(/\r/g,e)}return h}if(typeof b===w)b+=e;return this.each(function(){var c=this;if(c.nodeType!=1)return;if(a.isArray(b)&&/radio|checkbox/.test(c.type))c.checked=a.inArray(c.value,b)>=0||a.inArray(c.name,b)>=0;else if(a.nodeName(c,"select")){var d=a.makeArray(b);a("option",c).each(function(){this.selected=a.inArray(this.value,d)>=0||a.inArray(this.text,d)>=0});if(!d.length)c.selectedIndex=-1}else c.value=b})},html:function(a){return a===h?this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,e):c:this.empty().append(a)},replaceWith:function(a){return this.after(a).remove()},eq:function(a){return this.slice(a,+a+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(b){return this.pushStack(a.map(this,function(a,c){return b.call(a,c,a)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(i,l,k){var c=this;if(c[0]){var e=(c[0].ownerDocument||c[0]).createDocumentFragment(),f=a.clean(i,c[0].ownerDocument||c[0],e),g=e.firstChild;if(g)for(var d=0,h=c.length;d<h;d++)k.call(j(c[d],g),c.length>1||d>0?e.cloneNode(b):e);f&&a.each(f,Kb)}return c;function j(b,c){return l&&a.nodeName(b,"table")&&a.nodeName(c,"tr")?b.getElementsByTagName(D)[0]||b.appendChild(b.ownerDocument.createElement(D)):b}}};a.fn.init.prototype=a.fn;function Kb(c,b){if(b.src)a.ajax({url:b.src,async:d,dataType:k});else a.globalEval(b.text||b.textContent||b.innerHTML||e);b.parentNode&&b.parentNode.removeChild(b)}function cb(){return+new Date}a.extend=a.fn.extend=function(){var b=arguments[0]||{},f=1,k=arguments.length,i=d,j;if(typeof b===Y){i=b;b=arguments[1]||{};f=2}if(typeof b!==t&&!a.isFunction(b))b={};if(k==f){b=this;--f}for(;f<k;f++)if((j=arguments[f])!=c)for(var g in j){var l=b[g],e=j[g];if(b===e)continue;if(i&&e&&typeof e===t&&!e.nodeType)b[g]=a.extend(i,l||(e.length!=c?[]:{}),e);else if(e!==h)b[g]=e}return b};var Db=/z-?index|font-?weight|opacity|zoom|line-?height/i,Ab=document.defaultView||{},Bb=Object.prototype.toString;a.extend({noConflict:function(b){j.$=Gb;if(b)j.jQuery=Jb;return a},isFunction:function(a){return Bb.call(a)==="[object Function]"},isArray:function(a){return Bb.call(a)===L},isXMLDoc:function(b){return b.nodeType===9&&b.documentElement.nodeName!=="HTML"||!!b.ownerDocument&&a.isXMLDoc(b.ownerDocument)},globalEval:function(c){if(c&&/\S/.test(c)){var d=document.getElementsByTagName("head")[0]||document.documentElement,b=document.createElement(k);b.type=Z;if(a.support.scriptEval)b.appendChild(document.createTextNode(c));else b.text=c;d.insertBefore(b,d.firstChild);d.removeChild(b)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()==b.toUpperCase()},each:function(a,f,g){var b,c=0,e=a.length;if(g){if(e===h){for(b in a)if(f.apply(a[b],g)===d)break}else for(;c<e;)if(f.apply(a[c++],g)===d)break}else if(e===h){for(b in a)if(f.call(a[b],b,a[b])===d)break}else for(var i=a[0];c<e&&f.call(i,c,i)!==d;i=a[++c]);return a},prop:function(f,b,e,d,c){if(a.isFunction(b))b=b.call(f,d);return typeof b===w&&e=="curCSS"&&!Db.test(c)?b+q:b},className:{add:function(b,c){a.each((c||e).split(/\s+/),function(d,c){if(b.nodeType==1&&!a.className.has(b.className,c))b.className+=(b.className?g:e)+c})},remove:function(b,c){if(b.nodeType==1)b.className=c!==h?a.grep(b.className.split(/\s+/),function(b){return!a.className.has(c,b)}).join(g):e},has:function(b,c){return b&&a.inArray(c,(b.className||b).toString().split(/\s+/))>-1}},swap:function(b,c,e){var d={};for(var a in c){d[a]=b.style[a];b.style[a]=c[a]}e.call(b);for(var a in c)b.style[a]=d[a]},css:function(c,d,i,f){if(d==o||d==z){var e,h={position:kb,visibility:A,display:Q},j=d==o?[eb,"Right"]:["Top","Bottom"];function g(){e=d==o?c.offsetWidth:c.offsetHeight;if(f===H)return;a.each(j,function(){if(!f)e-=parseFloat(a.curCSS(c,"padding"+this,b))||0;if(f===E)e+=parseFloat(a.curCSS(c,E+this,b))||0;else e-=parseFloat(a.curCSS(c,H+this+"Width",b))||0})}if(c.offsetWidth!==0)g();else a.swap(c,h,g);return Math.max(0,Math.round(e))}return a.curCSS(c,d,i)},curCSS:function(f,b,i){var d,g=f.style;if(b==F&&!a.support.opacity){d=a.attr(g,F);return d==e?"1":d}if(b.match(/float/i))b=pb;if(!i&&g&&g[b])d=g[b];else if(Ab.getComputedStyle){if(b.match(/float/i))b="float";b=b.replace(/([A-Z])/g,"-$1").toLowerCase();var h=Ab.getComputedStyle(f,c);if(h)d=h.getPropertyValue(b);if(b==F&&d==e)d="1"}else if(f.currentStyle){var k=b.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()});d=f.currentStyle[b]||f.currentStyle[k];if(!/^\d+(px)?$/i.test(d)&&/^\d/.test(d)){var j=g.left,l=f.runtimeStyle.left;f.runtimeStyle.left=f.currentStyle.left;g.left=d||0;d=g.pixelLeft+q;g.left=j;f.runtimeStyle.left=l}}return d},clean:function(h,d,j){d=d||document;if(typeof d.createElement===i)d=d.ownerDocument||d[0]&&d[0].ownerDocument||document;if(!j&&h.length===1&&typeof h[0]===f){var m=/^<(\w+)\s*\/?>$/.exec(h[0]);if(m)return[d.createElement(m[1])]}var b=[],l=[],g=d.createElement(n);a.each(h,function(m,c){if(typeof c===w)c+=e;if(!c)return;if(typeof c===f){c=c.replace(/(<(\w+)[^>]*?)\/>/g,function(b,c,a){return a.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?b:c+"></"+a+">"});var h=c.replace(/^\s+/,e).substring(0,10).toLowerCase(),k=!h.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!h.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||h.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!h.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!h.indexOf("<td")||!h.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!h.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!a.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,e,e];g.innerHTML=k[1]+c+k[2];while(k[0]--)g=g.lastChild;if(!a.support.tbody)for(var l=/<tbody/i.test(c),j=!h.indexOf("<table")&&!l?g.firstChild&&g.firstChild.childNodes:k[1]=="<table>"&&!l?g.childNodes:[],i=j.length-1;i>=0;--i)a.nodeName(j[i],D)&&!j[i].childNodes.length&&j[i].parentNode.removeChild(j[i]);!a.support.leadingWhitespace&&/^\s/.test(c)&&g.insertBefore(d.createTextNode(c.match(/^\s*/)[0]),g.firstChild);c=a.makeArray(g.childNodes)}if(c.nodeType)b.push(c);else b=a.merge(b,c)});if(j){for(var c=0;b[c];c++)if(a.nodeName(b[c],k)&&(!b[c].type||b[c].type.toLowerCase()===Z))l.push(b[c].parentNode?b[c].parentNode.removeChild(b[c]):b[c]);else{b[c].nodeType===1&&b.splice.apply(b,[c+1,0].concat(a.makeArray(b[c].getElementsByTagName(k))));j.appendChild(b[c])}return l}return b},attr:function(b,d,f){if(!b||b.nodeType==3||b.nodeType==8)return h;var g=!a.isXMLDoc(b),i=f!==h;d=g&&a.props[d]||d;if(b.tagName){var l=/href|src|style/.test(d);if(d=="selected"&&b.parentNode)b.parentNode.selectedIndex;if(d in b&&g&&!l){if(i){if(d=="type"&&a.nodeName(b,"input")&&b.parentNode)throw"type property can't be changed";b[d]=f}if(a.nodeName(b,"form")&&b.getAttributeNode(d))return b.getAttributeNode(d).nodeValue;if(d==fb){var j=b.getAttributeNode(fb);return j&&j.specified?j.value:b.nodeName.match(/(button|input|object|select|textarea)/i)?0:b.nodeName.match(/^(a|area)$/i)&&b.href?0:h}return b[d]}if(!a.support.style&&g&&d=="style")return a.attr(b.style,"cssText",f);i&&b.setAttribute(d,e+f);var k=!a.support.hrefNormalized&&g&&l?b.getAttribute(d,2):b.getAttribute(d);return k===c?h:k}if(!a.support.opacity&&d==F){if(i){b.zoom=1;b.filter=(b.filter||e).replace(/alpha\([^)]*\)/,e)+(parseInt(f)+e=="NaN"?e:"alpha(opacity="+f*100+")")}return b.filter&&b.filter.indexOf("opacity=")>=0?parseFloat(b.filter.match(/opacity=([^)]*)/)[1])/100+e:e}d=d.replace(/-([a-z])/ig,function(b,a){return a.toUpperCase()});if(i)b[d]=f;return b[d]},trim:function(a){return(a||e).replace(/^\s+|\s+$/g,e)},makeArray:function(b){var e=[];if(b!=c){var d=b.length;if(d==c||typeof b===f||a.isFunction(b)||b.setInterval)e[0]=b;else while(d)e[--d]=b[d]}return e},inArray:function(d,b){for(var a=0,c=b.length;a<c;a++)if(b[a]===d)return a;return-1},merge:function(d,e){var f=0,b,g=d.length;if(!a.support.getAll){while((b=e[f++])!=c)if(b.nodeType!=8)d[g++]=b}else while((b=e[f++])!=c)d[g++]=b;return d},unique:function(d){var e=[],f={};try{for(var c=0,h=d.length;c<h;c++){var g=a.data(d[c]);if(!f[g]){f[g]=b;e.push(d[c])}}}catch(i){e=d}return e},grep:function(b,f,d){for(var c=[],a=0,e=b.length;a<e;a++)!d!=!f(b[a],a)&&c.push(b[a]);return c},map:function(d,g){for(var a=[],b=0,f=d.length;b<f;b++){var e=g(d[b],b);if(e!=c)a[a.length]=e}return a.concat.apply([],a)}});var W=navigator.userAgent.toLowerCase();a.browser={version:(W.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(W),opera:/opera/.test(W),msie:/msie/.test(W)&&!/opera/.test(W),mozilla:/mozilla/.test(W)&&!/(compatible|webkit)/.test(W)};a.each({parent:function(a){return a.parentNode},parents:function(b){return a.dir(b,gb)},next:function(b){return a.nth(b,2,lb)},prev:function(b){return a.nth(b,2,x)},nextAll:function(b){return a.dir(b,lb)},prevAll:function(b){return a.dir(b,x)},siblings:function(b){return a.sibling(b.parentNode.firstChild,b)},children:function(b){return a.sibling(b.firstChild)},contents:function(b){return a.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:a.makeArray(b.childNodes)}},function(b,c){a.fn[b]=function(d){var e=a.map(this,c);if(d&&typeof d==f)e=a.multiFilter(d,e);return this.pushStack(a.unique(e),b,d)}});a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,d){a.fn[c]=function(g){for(var f=[],i=a(g),e=0,j=i.length;e<j;e++){var h=(e>0?this.clone(b):this).get();a.fn[d].apply(a(i[e]),h);f=f.concat(h)}return this.pushStack(f,c,g)}});a.each({removeAttr:function(b){a.attr(this,b,e);this.nodeType==1&&this.removeAttribute(b)},addClass:function(b){a.className.add(this,b)},removeClass:function(b){a.className.remove(this,b)},toggleClass:function(c,b){if(typeof b!==Y)b=!a.className.has(this,c);a.className[b?"add":"remove"](this,c)},remove:function(c){var b=this;if(!c||a.filter(c,[b]).length){a(l,b).add([b]).each(function(){a.event.remove(this);a.removeData(this)});b.parentNode&&b.parentNode.removeChild(b)}},empty:function(){var b=this;a(b).children().remove();while(b.firstChild)b.removeChild(b.firstChild)}},function(b,c){a.fn[b]=function(){return this.each(c,arguments)}});function nb(c,d){return c[0]&&parseInt(a.curCSS(c[0],d,b),10)||0}var U="jQuery"+cb(),Ib=0,ub={};a.extend({cache:{},data:function(c,d,e){c=c==j?ub:c;var b=c[U];if(!b)b=c[U]=++Ib;if(d&&!a.cache[b])a.cache[b]={};if(e!==h)a.cache[b][d]=e;return d?a.cache[b][d]:b},removeData:function(b,c){b=b==j?ub:b;var d=b[U];if(c){if(a.cache[d]){delete a.cache[d][c];c=e;for(c in a.cache[d])break;!c&&a.removeData(b)}}else{try{delete b[U]}catch(f){b.removeAttribute&&b.removeAttribute(U)}delete a.cache[d]}},queue:function(e,b,d){if(e){b=(b||M)+"queue";var c=a.data(e,b);if(!c||a.isArray(d))c=a.data(e,b,a.makeArray(d));else d&&c.push(d)}return c},dequeue:function(e,c){var d=a.queue(e,c),b=d.shift();if(!c||c===M)b=d[0];b!==h&&b.call(e)}});a.fn.extend({data:function(f,g){var c=this,b=f.split(m);b[1]=b[1]?m+b[1]:e;if(g===h){var d=c.triggerHandler("getData"+b[1]+"!",[b[0]]);if(d===h&&c.length)d=a.data(c[0],f);return d===h&&b[1]?c.data(b[0]):d}else return c.trigger("setData"+b[1]+"!",[b[0],g]).each(function(){a.data(this,f,g)})},removeData:function(b){return this.each(function(){a.removeData(this,b)})},queue:function(b,c){if(typeof b!==f){c=b;b=M}return c===h?a.queue(this[0],b):this.each(function(){var d=a.queue(this,b,c);b==M&&d.length==1&&d[0].call(this)})},dequeue:function(b){return this.each(function(){a.dequeue(this,b)})}});(function(){var p="Syntax error, unrecognized expression: ",u=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,t=0,v=Object.prototype.toString,o=function(l,i,j,w){j=j||[];i=i||document;if(i.nodeType!==1&&i.nodeType!==9)return[];if(!l||typeof l!==f)return j;var a=[],z,k,h,D,C,x,B=b;u.lastIndex=0;while((z=u.exec(l))!==c){a.push(z[1]);if(z[2]){x=RegExp.rightContext;break}}if(a.length>1&&F.exec(l))if(a.length===2&&m.relative[a[0]])k=y(a[0]+a[1],i);else{k=m.relative[a[0]]?[i]:o(a.shift(),i);while(a.length){l=a.shift();if(m.relative[l])l+=a.shift();k=y(l,k)}}else{var A=w?{expr:a.pop(),"set":r(w)}:o.find(a.pop(),a.length===1&&i.parentNode?i.parentNode:i,q(i));k=o.filter(A.expr,A.set);if(a.length>0)h=r(k);else B=d;while(a.length){var n=a.pop(),t=n;if(!m.relative[n])n=e;else t=a.pop();if(t==c)t=i;m.relative[n](h,t,q(i))}}if(!h)h=k;if(!h)throw p+(n||l);if(v.call(h)===L)if(!B)j.push.apply(j,h);else if(i.nodeType===1)for(var g=0;h[g]!=c;g++)h[g]&&(h[g]===b||h[g].nodeType===1&&E(i,h[g]))&&j.push(k[g]);else for(var g=0;h[g]!=c;g++)h[g]&&h[g].nodeType===1&&j.push(k[g]);else r(h,j);if(x){o(x,i,j,w);if(s){hasDuplicate=d;j.sort(s);if(hasDuplicate)for(var g=1;g<j.length;g++)j[g]===j[g-1]&&j.splice(g--,1)}}return j};o.matches=function(a,b){return o(a,c,c,b)};o.find=function(a,h,j){var b,d;if(!a)return[];for(var f=0,k=m.order.length;f<k;f++){var g=m.order[f],d;if(d=m.match[g].exec(a)){var i=RegExp.leftContext;if(i.substr(i.length-1)!=="\\"){d[1]=(d[1]||e).replace(/\\/g,e);b=m.find[g](d,h,j);if(b!=c){a=a.replace(m.match[g],e);break}}}}if(!b)b=h.getElementsByTagName(l);return{"set":b,expr:a}};o.filter=function(a,k,s,v){var u=a,n=[],f=k,g,i,x=k&&k[0]&&q(k[0]);while(a&&k.length){for(var j in m.filter)if((g=m.match[j].exec(a))!=c){var w=m.filter[j],l,o;i=d;if(f==n)n=[];if(m.preFilter[j]){g=m.preFilter[j](g,f,s,n,v,x);if(!g)i=l=b;else if(g===b)continue}if(g)for(var r=0;(o=f[r])!=c;r++)if(o){l=w(o,g,r,f);var t=v^!!l;if(s&&l!=c)if(t)i=b;else f[r]=d;else if(t){n.push(o);i=b}}if(l!==h){if(!s)f=n;a=a.replace(m.match[j],e);if(!i)return[];break}}if(a==u)if(i==c)throw p+a;else break;u=a}return f};var m=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":qb,"for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute(B)}},relative:{"+":function(e,c,l){var i=typeof c===f,h=i&&!/\W/.test(c),j=i&&!h;if(h&&!l)c=c.toUpperCase();for(var g=0,k=e.length,a;g<k;g++)if(a=e[g]){while((a=a.previousSibling)&&a.nodeType!==1);e[g]=j||a&&a.nodeName===c?a||d:a===c}j&&o.filter(c,e,b)},">":function(e,a,k){var h=typeof a===f;if(h&&!/\W/.test(a)){a=k?a:a.toUpperCase();for(var c=0,i=e.length;c<i;c++){var g=e[c];if(g){var j=g.parentNode;e[c]=j.nodeName===a?j:d}}}else{for(var c=0,i=e.length;c<i;c++){var g=e[c];if(g)e[c]=h?g.parentNode:g.parentNode===a}h&&o.filter(a,e,b)}},"":function(e,a,c){var d=t++,b=D;if(!a.match(/\W/)){var f=a=c?a:a.toUpperCase();b=C}b(gb,a,d,e,f,c)},"~":function(e,a,c){var d=t++,b=D;if(typeof a===f&&!a.match(/\W/)){var g=a=c?a:a.toUpperCase();b=C}b(x,a,d,e,g,c)}},find:{ID:function(c,b,d){if(typeof b.getElementById!==i&&!d){var a=b.getElementById(c[1]);return a?[a]:[]}},NAME:function(e,f){if(typeof f.getElementsByName!==i){for(var b=[],d=f.getElementsByName(e[1]),a=0,g=d.length;a<g;a++)d[a].getAttribute("name")===e[1]&&b.push(d[a]);return b.length===0?c:b}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(b,h,i,k,l,j){b=g+b[1].replace(/\\/g,e)+g;if(j)return b;for(var f=0,a;(a=h[f])!=c;f++)if(a)if(l^(a.className&&(g+a.className+g).indexOf(b)>=0))!i&&k.push(a);else if(i)h[f]=d;return d},ID:function(a){return a[1].replace(/\\/g,e)},TAG:function(c,b){for(var a=0;b[a]===d;a++);return b[a]&&q(b[a])?c[1]:c[1].toUpperCase()},CHILD:function(a){if(a[1]=="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]=="even"&&"2n"||a[2]=="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=t++;return a},ATTR:function(a,f,h,d,i,c){var b=a[1].replace(/\\/g,e);if(!c&&m.attrMap[b])a[1]=m.attrMap[b];if(a[2]==="~=")a[4]=g+a[4]+g;return a},PSEUDO:function(a,f,g,e,i){if(a[1]==="not")if(a[3].match(u).length>1||/^\w/.test(a[3]))a[3]=o(a[3],c,c,f);else{var h=o.filter(a[3],f,g,b^i);!g&&e.push.apply(e,h);return d}else if(m.match.POS.test(a[0])||m.match.CHILD.test(a[0]))return b;return a},POS:function(a){a.unshift(b);return a}},filters:{enabled:function(a){return a.disabled===d&&a.type!==A},disabled:function(a){return a.disabled===b},checked:function(a){return a.checked===b},selected:function(a){a.parentNode.selectedIndex;return a.selected===b},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(b,c,a){return!!o(a[3],b).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toUpperCase()==="BUTTON"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(b,a){return a===0},last:function(d,a,c,b){return a===b.length-1},even:function(b,a){return a%2===0},odd:function(b,a){return a%2===1},lt:function(c,b,a){return b<a[3]-0},gt:function(c,b,a){return b>a[3]-0},nth:function(c,b,a){return a[3]-0==b},eq:function(c,b,a){return a[3]-0==b}},filter:{PSEUDO:function(f,a,c,j){var g=a[1],h=m.filters[g];if(h)return h(f,c,a,j);else if(g==="contains")return(f.textContent||f.innerText||e).indexOf(a[3])>=0;else if(g==="not"){for(var i=a[3],c=0,k=i.length;c<k;c++)if(i[c]===f)return d;return b}},CHILD:function(c,g){var k=g[1],a=c;switch(k){case"only":case"first":while(a=a.previousSibling)if(a.nodeType===1)return d;if(k=="first")return b;a=c;case"last":while(a=a.nextSibling)if(a.nodeType===1)return d;return b;case"nth":var f=g[2],i=g[3];if(f==1&&i==0)return b;var j=g[0],e=c.parentNode;if(e&&(e.sizcache!==j||!c.nodeIndex)){var l=0;for(a=e.firstChild;a;a=a.nextSibling)if(a.nodeType===1)a.nodeIndex=++l;e.sizcache=j}var h=c.nodeIndex-i;return f==0?h==0:h%f==0&&h/f>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(b,a){return a===l&&b.nodeType===1||b.nodeName===a},CLASS:function(a,b){return(g+(a.className||a.getAttribute("class"))+g).indexOf(b)>-1},ATTR:function(i,k){var h=k[1],j=m.attrHandle[h]?m.attrHandle[h](i):i[h]!=c?i[h]:i.getAttribute(h),b=j+e,f=k[2],a=k[4];return j==c?f==="!=":f==="="?b===a:f==="*="?b.indexOf(a)>=0:f==="~="?(g+b+g).indexOf(a)>=0:!a?b&&j!==d:f==="!="?b!=a:f==="^="?b.indexOf(a)===0:f==="$="?b.substr(b.length-a.length)===a:f==="|="?b===a||b.substr(0,a.length+1)===a+"-":d},POS:function(e,a,d,f){var c=a[2],b=m.setFilters[c];if(b)return b(e,d,a,f)}}},F=m.match.POS;for(var z in m.match)m.match[z]=RegExp(m.match[z].source+/(?![^\[]*\])(?![^\(]*\))/.source);var r=function(b,a){b=Array.prototype.slice.call(b);if(a){a.push.apply(a,b);return a}return b};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(G){r=function(a,e){var c=e||[];if(v.call(a)===L)Array.prototype.push.apply(c,a);else if(typeof a.length===w)for(var b=0,d=a.length;b<d;b++)c.push(a[b]);else for(var b=0;a[b];b++)c.push(a[b]);return c}}var s;if(document.documentElement.compareDocumentPosition)s=function(c,a){var d=c.compareDocumentPosition(a)&4?-1:c===a?0:1;if(d===0)hasDuplicate=b;return d};else if("sourceIndex"in document.documentElement)s=function(d,c){var a=d.sourceIndex-c.sourceIndex;if(a===0)hasDuplicate=b;return a};else if(document.createRange)s=function(e,d){var c=e.ownerDocument.createRange(),a=d.ownerDocument.createRange();c.selectNode(e);c.collapse(b);a.selectNode(d);a.collapse(b);var f=c.compareBoundaryPoints(Range.START_TO_END,a);if(f===0)hasDuplicate=b;return f};(function(){var b=document.createElement("form"),c=k+(new Date).getTime();b.innerHTML="<input name='"+c+"'/>";var a=document.documentElement;a.insertBefore(b,a.firstChild);if(!!document.getElementById(c)){m.find.ID=function(b,c,d){if(typeof c.getElementById!==i&&!d){var a=c.getElementById(b[1]);return a?a.id===b[1]||typeof a.getAttributeNode!==i&&a.getAttributeNode("id").nodeValue===b[1]?[a]:h:[]}};m.filter.ID=function(a,c){var b=typeof a.getAttributeNode!==i&&a.getAttributeNode("id");return a.nodeType===1&&b&&b.nodeValue===c}}a.removeChild(b)})();(function(){var a=document.createElement(n);a.appendChild(document.createComment(e));if(a.getElementsByTagName(l).length>0)m.find.TAG=function(c,e){var a=e.getElementsByTagName(c[1]);if(c[1]===l){for(var d=[],b=0;a[b];b++)a[b].nodeType===1&&d.push(a[b]);a=d}return a};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!==i&&a.firstChild.getAttribute(B)!=="#")m.attrHandle.href=function(a){return a.getAttribute(B,2)}})();document.querySelectorAll&&(function(){var a=o,b=document.createElement(n);b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;o=function(e,b,c,d){b=b||document;if(!d&&b.nodeType===9&&!q(b))try{return r(b.querySelectorAll(e),c)}catch(f){}return a(e,b,c,d)};o.find=a.find;o.filter=a.filter;o.selectors=a.selectors;o.matches=a.matches})();document.getElementsByClassName&&document.documentElement.getElementsByClassName&&(function(){var a=document.createElement(n);a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;m.order.splice(1,0,"CLASS");m.find.CLASS=function(b,a,c){if(typeof a.getElementsByClassName!==i&&!c)return a.getElementsByClassName(b[1])}})();function C(e,k,g,c,l,h){for(var i=e==x&&!h,b=0,j=c.length;b<j;b++){var a=c[b];if(a){if(i&&a.nodeType===1){a.sizcache=g;a.sizset=b}a=a[e];var f=d;while(a){if(a.sizcache===g){f=c[a.sizset];break}if(a.nodeType===1&&!h){a.sizcache=g;a.sizset=b}if(a.nodeName===k){f=a;break}a=a[e]}c[b]=f}}}function D(h,j,i,e,n,k){for(var l=h==x&&!k,c=0,m=e.length;c<m;c++){var a=e[c];if(a){if(l&&a.nodeType===1){a.sizcache=i;a.sizset=c}a=a[h];var g=d;while(a){if(a.sizcache===i){g=e[a.sizset];break}if(a.nodeType===1){if(!k){a.sizcache=i;a.sizset=c}if(typeof j!==f){if(a===j){g=b;break}}else if(o.filter(j,[a]).length>0){g=a;break}}a=a[h]}e[c]=g}}}var E=document.compareDocumentPosition?function(b,a){return b.compareDocumentPosition(a)&16}:function(a,c){return a!==c&&(a.contains?a.contains(c):b)},q=function(a){return a.nodeType===9&&a.documentElement.nodeName!=="HTML"||!!a.ownerDocument&&q(a.ownerDocument)},y=function(a,b){var f=[],g=e,h,d=b.nodeType?[b]:b;while(h=m.match.PSEUDO.exec(a)){g+=h[0];a=a.replace(m.match.PSEUDO,e)}a=m.relative[a]?a+l:a;for(var c=0,i=d.length;c<i;c++)o(a,d[c],f);return o.filter(g,f)};a.find=o;a.filter=o.filter;a.expr=o.selectors;a.expr[":"]=a.expr.filters;o.selectors.filters.hidden=function(a){return a.offsetWidth===0||a.offsetHeight===0};o.selectors.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0};o.selectors.filters.animated=function(b){return a.grep(a.timers,function(a){return b===a.elem}).length};a.multiFilter=function(a,b,c){if(c)a=":not("+a+")";return o.matches(a,b)};a.dir=function(d,c){var b=[],a=d[c];while(a&&a!=document){a.nodeType==1&&b.push(a);a=a[c]}return b};a.nth=function(a,b,d){b=b||1;for(var c=0;a;a=a[d])if(a.nodeType==1&&++c==b)break;return a};a.sibling=function(a,c){for(var b=[];a;a=a.nextSibling)a.nodeType==1&&a!=c&&b.push(a);return b};return;j.Sizzle=o})();a.event={add:function(e,n,f,g){if(e.nodeType==3||e.nodeType==8)return;if(e.setInterval&&e!=j)e=j;if(!f.guid)f.guid=this.guid++;if(g!==h){var o=f;f=this.proxy(o);f.data=g}var l=a.data(e,p)||a.data(e,p,{}),k=a.data(e,r)||a.data(e,r,function(){return typeof a!==i&&!a.event.triggered?a.event.handle.apply(arguments.callee.elem,arguments):h});k.elem=e;a.each(n.split(/\s+/),function(j,c){var h=c.split(m);c=h.shift();f.type=h.slice().sort().join(m);var i=l[c];a.event.specialAll[c]&&a.event.specialAll[c].setup.call(e,g,h);if(!i){i=l[c]={};if(!a.event.special[c]||a.event.special[c].setup.call(e,g,h)===d)if(e.addEventListener)e.addEventListener(c,k,d);else e.attachEvent&&e.attachEvent(I+c,k)}i[f.guid]=f;a.event.global[c]=b});e=c},guid:1,global:{},remove:function(b,i,k){if(b.nodeType==3||b.nodeType==8)return;var g=a.data(b,p),j,o;if(g){if(i===h||typeof i===f&&i.charAt(0)==m)for(var n in g)this.remove(b,n+(i||e));else{if(i.type){k=i.handler;i=i.type}a.each(i.split(/\s+/),function(l,e){var f=e.split(m);e=f.shift();var i=RegExp(N+f.slice().sort().join(".*\\.")+O);if(g[e]){if(k)delete g[e][k.guid];else for(var h in g[e])if(i.test(g[e][h].type))delete g[e][h];a.event.specialAll[e]&&a.event.specialAll[e].teardown.call(b,f);for(j in g[e])break;if(!j){if(!a.event.special[e]||a.event.special[e].teardown.call(b,f)===d)if(b.removeEventListener)b.removeEventListener(e,a.data(b,r),d);else b.detachEvent&&b.detachEvent(I+e,a.data(b,r));j=c;delete g[e]}}})}for(j in g)break;if(!j){var l=a.data(b,r);if(l)l.elem=c;a.removeData(b,p);a.removeData(b,r)}}},trigger:function(c,g,e,i){var f=c.type||c;if(!i){c=typeof c===t?c[U]?c:a.extend(a.Event(f),c):a.Event(f);if(f.indexOf("!")>=0){c.type=f=f.slice(0,-1);c.exclusive=b}if(!e){c.stopPropagation();this.global[f]&&a.each(a.cache,function(){this.events&&this.events[f]&&a.event.trigger(c,g,this.handle.elem)})}if(!e||e.nodeType==3||e.nodeType==8)return h;c.result=h;c.target=e;g=a.makeArray(g);g.unshift(c)}c.currentTarget=e;var k=a.data(e,r);k&&k.apply(e,g);if((!e[f]||a.nodeName(e,"a")&&f=="click")&&e[I+f]&&e[I+f].apply(e,g)===d)c.result=d;if(!i&&e[f]&&!c.isDefaultPrevented()&&!(a.nodeName(e,"a")&&f=="click")){this.triggered=b;try{e[f]()}catch(l){}}this.triggered=d;if(!c.isPropagationStopped()){var j=e.parentNode||e.ownerDocument;j&&a.event.trigger(c,g,j,b)}},handle:function(b){var i,e;b=arguments[0]=a.event.fix(b||j.event);b.currentTarget=this;var g=b.type.split(m);b.type=g.shift();i=!g.length&&!b.exclusive;var l=RegExp(N+g.slice().sort().join(".*\\.")+O);e=(a.data(this,p)||{})[b.type];for(var k in e){var c=e[k];if(i||l.test(c.type)){b.handler=c;b.data=c.data;var f=c.apply(this,arguments);if(f!==h){b.result=f;if(f===d){b.preventDefault();b.stopPropagation()}}if(b.isImmediatePropagationStopped())break}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(g),fix:function(b){if(b[U])return b;var g=b;b=a.Event(g);for(var h=this.props.length,f;h;){f=this.props[--h];b[f]=g[f]}if(!b.target)b.target=b.srcElement||document;if(b.target.nodeType==3)b.target=b.target.parentNode;if(!b.relatedTarget&&b.fromElement)b.relatedTarget=b.fromElement==b.target?b.toElement:b.fromElement;if(b.pageX==c&&b.clientX!=c){var d=document.documentElement,e=document.body;b.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d.clientLeft||0);b.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d.clientTop||0)}if(!b.which&&(b.charCode||b.charCode===0?b.charCode:b.keyCode))b.which=b.charCode||b.keyCode;if(!b.metaKey&&b.ctrlKey)b.metaKey=b.ctrlKey;if(!b.which&&b.button)b.which=b.button&1?1:b.button&2?3:b.button&4?2:0;return b},proxy:function(b,a){a=a||function(){return b.apply(this,arguments)};a.guid=b.guid=b.guid||a.guid||this.guid++;return a},special:{ready:{setup:wb,teardown:function(){}}},specialAll:{live:{setup:function(c,b){a.event.add(this,b[0],xb)},teardown:function(b){if(b.length){var c=0,d=RegExp(N+b[0]+O);a.each(a.data(this,p).live||{},function(){if(d.test(this.type))c++});c<1&&a.event.remove(this,b[0],xb)}}}}};a.Event=function(d){var c=this;if(!c.preventDefault)return new a.Event(d);if(d&&d.type){c.originalEvent=d;c.type=d.type}else c.type=d;c.timeStamp=cb();c[U]=b};function rb(){return d}function tb(){return b}a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tb;var a=this.originalEvent;if(!a)return;a.preventDefault&&a.preventDefault();a.returnValue=d},stopPropagation:function(){this.isPropagationStopped=tb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation();a.cancelBubble=b},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tb;this.stopPropagation()},isDefaultPrevented:rb,isPropagationStopped:rb,isImmediatePropagationStopped:rb};var vb=function(d){var c=this,b=d.relatedTarget;while(b&&b!=c)try{b=b.parentNode}catch(e){b=c}if(b!=c){d.type=d.data;a.event.handle.apply(c,arguments)}};a.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(c,b){a.event.special[b]={setup:function(){a.event.add(this,c,vb,b)},teardown:function(){a.event.remove(this,c,vb)}}});a.fn.extend({bind:function(c,d,b){return c=="unload"?this.one(c,d,b):this.each(function(){a.event.add(this,c,b||d,b&&d)})},one:function(e,c,b){var d=a.event.proxy(b||c,function(e){a(this).unbind(e,d);return(b||c).apply(this,arguments)});return this.each(function(){a.event.add(this,e,d,b&&c)})},unbind:function(c,b){return this.each(function(){a.event.remove(this,c,b)})},trigger:function(b,c){return this.each(function(){a.event.trigger(b,c,this)})},triggerHandler:function(c,d){if(this[0]){var b=a.Event(c);b.preventDefault();b.stopPropagation();a.event.trigger(b,d,this[0]);return b.result}},toggle:function(e){var b=arguments,c=1;while(c<b.length)a.event.proxy(e,b[c++]);return this.click(a.event.proxy(e,function(e){var a=this;a.lastToggle=(a.lastToggle||0)%c;e.preventDefault();return b[a.lastToggle++].apply(a,arguments)||d}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b)},ready:function(b){wb();if(a.isReady)b.call(document,a);else a.readyList.push(b);return this},live:function(d,e){var b=this,c=a.event.proxy(e);c.guid+=b.selector+d;a(document).bind(zb(d,b.selector),b.selector,c);return b},die:function(d,b){a(document).unbind(zb(d,this.selector),b?{guid:b.guid+this.selector+d}:c);return this}});function xb(e){var g=RegExp(N+e.type+O),f=b,c=[];a.each(a.data(this,p).live||[],function(f,b){if(g.test(b.type)){var d=a(e.target).closest(b.data)[0];d&&c.push({elem:d,fn:b})}});c.sort(function(c,b){return a.data(c.elem,K)-a.data(b.elem,K)});a.each(c,function(){if(this.fn.call(this.elem,e,this.fn.data)===d)return f=d});return f}function zb(b,a){return["live",b,a.replace(/\./g,"`").replace(/ /g,"|")].join(m)}a.extend({isReady:d,readyList:[],ready:function(){if(!a.isReady){a.isReady=b;if(a.readyList){a.each(a.readyList,function(){this.call(document,a)});a.readyList=c}a(document).triggerHandler("ready")}}});var Cb=d;function wb(){var e="onreadystatechange",c="DOMContentLoaded";if(Cb)return;Cb=b;if(document.addEventListener)document.addEventListener(c,function(){document.removeEventListener(c,arguments.callee,d);a.ready()},d);else if(document.attachEvent){document.attachEvent(e,function(){if(document.readyState===ab){document.detachEvent(e,arguments.callee);a.ready()}});document.documentElement.doScroll&&j==j.top&&(function(){if(a.isReady)return;try{document.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}a.ready()})()}a.event.add(j,"load",a.ready)}a.each("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(c,b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}});a(j).bind("unload",function(){for(var b in a.cache)b!=1&&a.cache[b].handle&&a.event.remove(a.cache[b].handle.elem)});(function(){var f="onclick";a.support={};var i=document.documentElement,h=document.createElement(k),e=document.createElement(n),m=k+(new Date).getTime();e.style.display=s;e.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var o=e.getElementsByTagName(l),g=e.getElementsByTagName("a")[0];if(!o||!o.length||!g)return;a.support={leadingWhitespace:e.firstChild.nodeType==3,tbody:!e.getElementsByTagName(D).length,objectAll:!!e.getElementsByTagName(t)[0].getElementsByTagName(l).length,htmlSerialize:!!e.getElementsByTagName("link").length,style:/red/.test(g.getAttribute("style")),hrefNormalized:g.getAttribute(B)==="/a",opacity:g.style.opacity==="0.5",cssFloat:!!g.style.cssFloat,scriptEval:d,noCloneEvent:b,boxModel:c};h.type=Z;try{h.appendChild(document.createTextNode("window."+m+"=1;"))}catch(p){}i.insertBefore(h,i.firstChild);if(j[m]){a.support.scriptEval=b;delete j[m]}i.removeChild(h);if(e.attachEvent&&e.fireEvent){e.attachEvent(f,function(){a.support.noCloneEvent=d;e.detachEvent(f,arguments.callee)});e.cloneNode(b).fireEvent(f)}a(function(){var b=document.createElement(n);b.style.width=b.style.paddingLeft=P;document.body.appendChild(b);a.boxModel=a.support.boxModel=b.offsetWidth===2;document.body.removeChild(b).style.display=s})})();var pb=a.support.cssFloat?"cssFloat":"styleFloat";a.props={"for":"htmlFor","class":qb,"float":pb,cssFloat:pb,styleFloat:pb,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:fb};a.fn.extend({_load:a.fn.load,load:function(b,d,i){if(typeof b!==f)return this._load(b);var h=b.indexOf(g);if(h>=0){var j=b.slice(h,b.length);b=b.slice(0,h)}var l=y;if(d)if(a.isFunction(d)){i=d;d=c}else if(typeof d===t){d=a.param(d);l="POST"}var k=this;a.ajax({url:b,type:l,dataType:"html",data:d,complete:function(b,c){(c==C||c==bb)&&k.html(j?a("<div/>").append(b.responseText.replace(/<script(.|\s)*?\/script>/g,e)).find(j):b.responseText);i&&k.each(i,[b.responseText,c,b])}});return this},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){var a=this;return a.name&&!a.disabled&&(a.checked||/select|textarea/i.test(a.nodeName)||/text|hidden|password|search/i.test(a.type))}).map(function(e,d){var b=a(this).val();return b==c?c:a.isArray(b)?a.map(b,function(a){return{name:d.name,value:a}}):{name:d.name,value:b}}).get()}});a.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(c,b){a.fn[b]=function(a){return this.bind(b,a)}});var Hb=cb();a.extend({"get":function(e,b,d,f){if(a.isFunction(b)){d=b;b=c}return a.ajax({type:y,url:e,data:b,success:d,dataType:f})},getScript:function(b,d){return a.get(b,c,d,k)},getJSON:function(b,c,d){return a.get(b,c,d,R)},post:function(d,b,c,e){if(a.isFunction(b)){c=b;b={}}return a.ajax({type:"POST",url:d,data:b,success:c,dataType:e})},ajaxSetup:function(b){a.extend(a.ajaxSettings,b)},ajaxSettings:{url:location.href,global:b,type:y,contentType:"application/x-www-form-urlencoded",processData:b,async:b,xhr:function(){return j.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(g){var l="timeout",n="ajaxStop",t="callback";g=a.extend(b,g,a.extend(b,{},a.ajaxSettings,g));var o,q=/=\?(&|$)/g,p,B,r=g.type.toUpperCase();if(g.data&&g.processData&&typeof g.data!==f)g.data=a.param(g.data);if(g.dataType=="jsonp"){if(r==y){if(!g.url.match(q))g.url+=(g.url.match(/\?/)?"&":"?")+(g.jsonp||t)+"=?"}else if(!g.data||!g.data.match(q))g.data=(g.data?g.data+"&":e)+(g.jsonp||t)+"=?";g.dataType=R}if(g.dataType==R&&(g.data&&g.data.match(q)||g.url.match(q))){o="jsonp"+Hb++;if(g.data)g.data=(g.data+e).replace(q,"="+o+"$1");g.url=g.url.replace(q,"="+o+"$1");g.dataType=k;j[o]=function(a){B=a;w();z();j[o]=h;try{delete j[o]}catch(b){}u&&u.removeChild(m)}}if(g.dataType==k&&g.cache==c)g.cache=d;if(g.cache===d&&r==y){var D=cb(),F=g.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+D+"$2");g.url=F+(F==g.url?(g.url.match(/\?/)?"&":"?")+"_="+D:e)}if(g.data&&r==y){g.url+=(g.url.match(/\?/)?"&":"?")+g.data;g.data=c}g.global&&!a.active++&&a.event.trigger("ajaxStart");var v=/^(\w+:)?\/\/([^\/?#]+)/.exec(g.url);if(g.dataType==k&&r==y&&v&&(v[1]&&v[1]!=location.protocol||v[2]!=location.host)){var u=document.getElementsByTagName("head")[0],m=document.createElement(k);m.src=g.url;if(g.scriptCharset)m.charset=g.scriptCharset;if(!o){var E=d;m.onload=m.onreadystatechange=function(){if(!E&&(!this.readyState||this.readyState=="loaded"||this.readyState==ab)){E=b;w();z();m.onload=m.onreadystatechange=c;u.removeChild(m)}}}u.appendChild(m);return h}var x=d,i=g.xhr();if(g.username)i.open(r,g.url,g.async,g.username,g.password);else i.open(r,g.url,g.async);try{g.data&&i.setRequestHeader("Content-Type",g.contentType);g.ifModified&&i.setRequestHeader("If-Modified-Since",a.lastModified[g.url]||"Thu, 01 Jan 1970 00:00:00 GMT");i.setRequestHeader("X-Requested-With","XMLHttpRequest");i.setRequestHeader("Accept",g.dataType&&g.accepts[g.dataType]?g.accepts[g.dataType]+", */*":g.accepts._default)}catch(G){}if(g.beforeSend&&g.beforeSend(i,g)===d){g.global&&!--a.active&&a.event.trigger(n);i.abort();return d}g.global&&a.event.trigger("ajaxSend",[i,g]);var A=function(d){if(i.readyState==0){if(s){clearInterval(s);s=c;g.global&&!--a.active&&a.event.trigger(n)}}else if(!x&&i&&(i.readyState==4||d==l)){x=b;if(s){clearInterval(s);s=c}p=d==l?l:!a.httpSuccess(i)?"error":g.ifModified&&a.httpNotModified(i,g.url)?bb:C;if(p==C)try{B=a.httpData(i,g.dataType,g)}catch(f){p=S}if(p==C){var e;try{e=i.getResponseHeader(hb)}catch(f){}if(g.ifModified&&e)a.lastModified[g.url]=e;!o&&w()}else a.handleError(g,i,p);z();d&&i.abort();if(g.async)i=c}};if(g.async){var s=setInterval(A,13);g.timeout>0&&setTimeout(function(){i&&!x&&A(l)},g.timeout)}try{i.send(g.data)}catch(G){a.handleError(g,i,c,G)}!g.async&&A();function w(){g.success&&g.success(B,p);g.global&&a.event.trigger("ajaxSuccess",[i,g])}function z(){g.complete&&g.complete(i,p);g.global&&a.event.trigger("ajaxComplete",[i,g]);g.global&&!--a.active&&a.event.trigger(n)}return i},handleError:function(b,d,e,c){b.error&&b.error(d,e,c);b.global&&a.event.trigger("ajaxError",[d,b,c])},active:0,httpSuccess:function(a){try{return!a.status&&location.protocol=="file:"||a.status>=200&&a.status<300||a.status==304||a.status==1223}catch(b){}return d},httpNotModified:function(b,c){try{var e=b.getResponseHeader(hb);return b.status==304||e==a.lastModified[c]}catch(f){}return d},httpData:function(e,c,d){var h=e.getResponseHeader("content-type"),g=c=="xml"||!c&&h&&h.indexOf("xml")>=0,b=g?e.responseXML:e.responseText;if(g&&b.documentElement.tagName==S)throw S;if(d&&d.dataFilter)b=d.dataFilter(b,c);if(typeof b===f){c==k&&a.globalEval(b);if(c==R)b=j.eval("("+b+")")}return b},param:function(b){var d=[];function e(a,b){d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)}if(a.isArray(b)||b.jquery)a.each(b,function(){e(this.name,this.value)});else for(var c in b)if(a.isArray(b[c]))a.each(b[c],function(){e(c,this)});else e(c,a.isFunction(b[c])?b[c]():b[c]);return d.join("&").replace(/%20/g,"+")}});var sb={},ob,yb=[[z,ib,"marginBottom","paddingTop","paddingBottom"],[o,jb,"marginRight","paddingLeft","paddingRight"],[F]];function db(d,c){var b={};a.each(yb.concat.apply([],yb.slice(0,c)),function(){b[this]=d});return b}a.fn.extend({show:function(i,k){var b=this;if(i)return b.animate(db(u,3),i,k);else{for(var c=0,g=b.length;c<g;c++){var j=a.data(b[c],J);b[c].style.display=j||e;if(a.css(b[c],G)===s){var f=b[c].tagName,d;if(sb[f])d=sb[f];else{var h=a("<"+f+" />").appendTo("body");d=h.css(G);if(d===s)d=Q;h.remove();sb[f]=d}a.data(b[c],J,d)}}for(var c=0,g=b.length;c<g;c++)b[c].style.display=a.data(b[c],J)||e;return b}},hide:function(f,g){var b=this;if(f)return b.animate(db(v,3),f,g);else{for(var c=0,e=b.length;c<e;c++){var d=a.data(b[c],J);!d&&d!==s&&a.data(b[c],J,a.css(b[c],G))}for(var c=0,e=b.length;c<e;c++)b[c].style.display=s;return b}},_toggle:a.fn.toggle,toggle:function(b,f){var d=this,e=typeof b===Y;return a.isFunction(b)&&a.isFunction(f)?d._toggle.apply(d,arguments):b==c||e?d.each(function(){var c=e?b:a(this).is(":hidden");a(this)[c?u:v]()}):d.animate(db(V,3),b,f)},fadeTo:function(a,c,b){return this.animate({opacity:c},a,b)},animate:function(f,h,j,i){var g=a.speed(h,j,i);return this[g.queue===d?"each":"queue"](function(){var d=this,h=a.extend({},g),i,k=d.nodeType==1&&a(d).is(":hidden"),j=d;for(i in f){if(f[i]==v&&k||f[i]==u&&!k)return h.complete.call(d);if((i==z||i==o)&&d.style){h.display=a.css(d,G);h.overflow=d.style.overflow}}if(h.overflow!=c)d.style.overflow=A;h.curAnim=a.extend({},f);a.each(f,function(n,l){var i=new a.fx(j,h,n);if(/toggle|show|hide/.test(l))i[l==V?k?u:v:l](f);else{var g=l.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),c=i.cur(b)||0;if(g){var d=parseFloat(g[2]),m=g[3]||q;if(m!=q){j.style[n]=(d||1)+m;c=(d||1)/i.cur(b)*c;j.style[n]=c+m}if(g[1])d=(g[1]=="-="?-1:1)*d+c;i.custom(c,d,m)}else i.custom(c,l,e)}});return b})},stop:function(f,e){var c=this,d=a.timers;f&&c.queue([]);c.each(function(){for(var a=d.length-1;a>=0;a--)if(d[a].elem==this){e&&d[a](b);d.splice(a,1)}});!e&&c.dequeue();return c}});a.each({slideDown:db(u,1),slideUp:db(v,1),slideToggle:db(V,1),fadeIn:{opacity:u},fadeOut:{opacity:v}},function(b,c){a.fn[b]=function(a,b){return this.animate(c,a,b)}});a.extend({speed:function(c,e,f){var b=typeof c===t?c:{complete:f||!f&&e||a.isFunction(c)&&c,duration:c,easing:f&&e||e&&!a.isFunction(e)&&e};b.duration=a.fx.off?0:typeof b.duration===w?b.duration:a.fx.speeds[b.duration]||a.fx.speeds._default;b.old=b.complete;b.complete=function(){b.queue!==d&&a(this).dequeue();a.isFunction(b.old)&&b.old.call(this)};return b},easing:{linear:function(c,d,a,b){return a+b*c},swing:function(c,d,a,b){return(-Math.cos(c*Math.PI)/2+.5)*b+a}},timers:[],fx:function(b,a,c){this.options=a;this.elem=b;this.prop=c;if(!a.orig)a.orig={}}});a.fx.prototype={update:function(){var b=this;b.options.step&&b.options.step.call(b.elem,b.now,b);(a.fx.step[b.prop]||a.fx.step._default)(b);if((b.prop==z||b.prop==o)&&b.elem.style)b.elem.style.display=Q},cur:function(e){var b=this;if(b.elem[b.prop]!=c&&(!b.elem.style||b.elem.style[b.prop]==c))return b.elem[b.prop];var d=parseFloat(a.css(b.elem,b.prop,e));return d&&d>-1e4?d:parseFloat(a.curCSS(b.elem,b.prop))||0},custom:function(g,f,e){var b=this;b.startTime=cb();b.start=g;b.end=f;b.unit=e||b.unit||q;b.now=b.start;b.pos=b.state=0;var d=b;function c(a){return d.step(a)}c.elem=b.elem;if(c()&&a.timers.push(c)&&!ob)ob=setInterval(function(){for(var c=a.timers,b=0;b<c.length;b++)!c[b]()&&c.splice(b--,1);if(!c.length){clearInterval(ob);ob=h}},13)},show:function(){var c=this;c.options.orig[c.prop]=a.attr(c.elem.style,c.prop);c.options.show=b;c.custom(c.prop==o||c.prop==z?1:0,c.cur());a(c.elem).show()},hide:function(){var c=this;c.options.orig[c.prop]=a.attr(c.elem.style,c.prop);c.options.hide=b;c.custom(c.cur(),0)},step:function(k){var e=this,g=cb();if(k||g>=e.options.duration+e.startTime){e.now=e.end;e.pos=e.state=1;e.update();e.options.curAnim[e.prop]=b;var f=b;for(var j in e.options.curAnim)if(e.options.curAnim[j]!==b)f=d;if(f){if(e.options.display!=c){e.elem.style.overflow=e.options.overflow;e.elem.style.display=e.options.display;if(a.css(e.elem,G)==s)e.elem.style.display=Q}e.options.hide&&a(e.elem).hide();if(e.options.hide||e.options.show)for(var h in e.options.curAnim)a.attr(e.elem.style,h,e.options.orig[h]);e.options.complete.call(e.elem)}return d}else{var i=g-e.startTime;e.state=i/e.options.duration;e.pos=a.easing[e.options.easing||(a.easing.swing?"swing":"linear")](e.state,i,0,1,e.options.duration);e.now=e.start+(e.end-e.start)*e.pos;e.update()}return b}};a.extend(a.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){a.attr(b.elem.style,F,b.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=c)a.elem.style[a.prop]=a.now+a.unit;else a.elem[a.prop]=a.now}}});if(document.documentElement.getBoundingClientRect)a.fn.offset=function(){var b=this;if(!b[0])return{top:0,left:0};if(b[0]===b[0].ownerDocument.body)return a.offset.bodyOffset(b[0]);var e=b[0].getBoundingClientRect(),f=b[0].ownerDocument,d=f.body,c=f.documentElement,j=c.clientTop||d.clientTop||0,i=c.clientLeft||d.clientLeft||0,h=e.top+(self.pageYOffset||a.boxModel&&c.scrollTop||d.scrollTop)-j,g=e.left+(self.pageXOffset||a.boxModel&&c.scrollLeft||d.scrollLeft)-i;return{top:h,left:g}};else a.fn.offset=function(){var g=this;if(!g[0])return{top:0,left:0};if(g[0]===g[0].ownerDocument.body)return a.offset.bodyOffset(g[0]);a.offset.initialized||a.offset.initialize();var b=g[0],j=b.offsetParent,n=b,l=b.ownerDocument,e,k=l.documentElement,h=l.body,m=l.defaultView,i=m.getComputedStyle(b,c),f=b.offsetTop,d=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==k){e=m.getComputedStyle(b,c);f-=b.scrollTop,d-=b.scrollLeft;if(b===j){f+=b.offsetTop,d+=b.offsetLeft;if(a.offset.doesNotAddBorder&&!(a.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(b.tagName)))f+=parseInt(e.borderTopWidth,10)||0,d+=parseInt(e.borderLeftWidth,10)||0;n=j,j=b.offsetParent}if(a.offset.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible")f+=parseInt(e.borderTopWidth,10)||0,d+=parseInt(e.borderLeftWidth,10)||0;i=e}if(i.position===mb||i.position==="static")f+=h.offsetTop,d+=h.offsetLeft;if(i.position==="fixed")f+=Math.max(k.scrollTop,h.scrollTop),d+=Math.max(k.scrollLeft,h.scrollLeft);return{top:f,left:d}};a.offset={initialize:function(){var c=this;if(c.initialized)return;var a=document.body,d=document.createElement(n),e,g,l,i,h,f,j=a.style.marginTop,k='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';h={position:kb,top:0,left:0,margin:0,border:0,width:P,height:P,visibility:A};for(f in h)d.style[f]=h[f];d.innerHTML=k;a.insertBefore(d,a.firstChild);e=d.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild;c.doesNotAddBorder=g.offsetTop!==5;c.doesAddBorderForTableAndCells=i.offsetTop===5;e.style.overflow=A,e.style.position=mb;c.subtractsBorderForOverflowNotVisible=g.offsetTop===-5;a.style.marginTop=P;c.doesNotIncludeMarginInBodyOffset=a.offsetTop===0;a.style.marginTop=j;a.removeChild(d);c.initialized=b},bodyOffset:function(c){a.offset.initialized||a.offset.initialize();var e=c.offsetTop,d=c.offsetLeft;if(a.offset.doesNotIncludeMarginInBodyOffset)e+=parseInt(a.curCSS(c,ib,b),10)||0,d+=parseInt(a.curCSS(c,jb,b),10)||0;return{top:e,left:d}}};a.fn.extend({position:function(){var a=this,g=0,f=0,e;if(a[0]){var c=a.offsetParent(),d=a.offset(),b=/^body|html$/i.test(c[0].tagName)?{top:0,left:0}:c.offset();d.top-=nb(a,ib);d.left-=nb(a,jb);b.top+=nb(c,"borderTopWidth");b.left+=nb(c,"borderLeftWidth");e={top:d.top-b.top,left:d.left-b.left}}return e},offsetParent:function(){var b=this[0].offsetParent||document.body;while(b&&(!/^body|html$/i.test(b.tagName)&&a.css(b,"position")=="static"))b=b.offsetParent;return a(b)}});a.each([eb,"Top"],function(d,e){var b=T+e;a.fn[b]=function(f){var e=this;return!e[0]?c:f!==h?e.each(function(){this==j||this==document?j.scrollTo(!d?f:a(j).scrollLeft(),d?f:a(j).scrollTop()):(this[b]=f)}):e[0]==j||e[0]==document?self[d?"pageYOffset":"pageXOffset"]||a.boxModel&&document.documentElement[b]||document.body[b]:e[0][b]}});a.each(["Height","Width"],function(i,b){var k=i?eb:"Top",l=i?"Right":"Bottom",g=b.toLowerCase();a.fn["inner"+b]=function(){return this[0]?a.css(this[0],g,d,"padding"):c};a.fn["outer"+b]=function(b){return this[0]?a.css(this[0],g,d,b?E:H):c};var e=b.toLowerCase();a.fn[e]=function(i){var d="client",g=this;return g[0]==j?document.compatMode=="CSS1Compat"&&document.documentElement[d+b]||document.body[d+b]:g[0]==document?Math.max(document.documentElement[d+b],document.body[T+b],document.documentElement[T+b],document.body["offset"+b],document.documentElement["offset"+b]):i===h?g.length?a.css(g[0],e):c:g.css(e,typeof i===f?i:i+q)}})})();jQuery&&(function(a){a.extend(a.fn,{miniColors:function(N,M){var f=255,o=360,e=150,K="huePosition",z="left",n="px",m="top",J="colorPosition",b=100,q=".miniColors-colors",p=false,u="disabled",y="mousemove.miniColors",x="mousedown.miniColors",g="moving",l="mousebutton",t="colorPicker",s="huePicker",d="selector",I="paste.miniColors",r="backgroundColor",H="keyup.miniColors",G="keydown.miniColors",i="#",F="blur.miniColors",E="focus.miniColors",D="click.miniColors",k=true,A="readonly",w="change",j="hsb",c="trigger",C="autocomplete",B="miniColors",v=this,db=function(b,e){var d=O(b.val());if(!d)d="FFFFFF";var g=V(d),f=a('<a class="miniColors-trigger" style="background-color: #'+d+'" href="#"></a>');f.insertAfter(b);b.addClass(B).attr("maxlength",7).attr(C,"off");b.data(c,f);b.data(j,g);e.change&&b.data(w,e.change);e.readonly&&b.attr(A,k);e.disabled&&U(b);f.bind(D,function(a){a.preventDefault();b.trigger("focus")});b.bind(E,function(){fb(b)});b.bind(F,function(){var a=O(b.val());b.val(a?i+a:"")});b.bind(G,function(a){a.keyCode===9&&L(b)});b.bind(H,function(){var a=b.val().replace(/[^A-F0-9#]/ig,"");b.val(a);!Y(b)&&b.data(c).css(r,"#FFF")});b.bind(I,function(){setTimeout(function(){b.trigger("keyup")},5)})},Z=function(b){L();b=a(b);b.data(c).remove();b.removeAttr(C);b.removeData(c);b.removeData(d);b.removeData(j);b.removeData(s);b.removeData(t);b.removeData(l);b.removeData(g);b.unbind(D);b.unbind(E);b.unbind(F);b.unbind(H);b.unbind(G);b.unbind(I);a(document).unbind(x);a(document).unbind(y)},eb=function(a){a.attr(u,p);a.data(c).css("opacity",1)},U=function(a){L(a);a.attr(u,k);a.data(c).css("opacity",.5)},fb=function(e){var o=".miniColors-huePicker",k=".miniColors-colorPicker",h=":visible";if(e.attr(u))return p;L();var f=a('<div class="miniColors-selector"></div>');f.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>');f.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>');f.css({top:e.is(h)?e.offset().top+e.outerHeight():e.data(c).offset().top+e.data(c).outerHeight(),left:e.is(h)?e.offset().left:e.data(c).offset().left,display:"none"}).addClass(e.attr("class"));var A=e.data(j);f.find(q).css(r,i+Q({h:A.h,s:b,b:b}));var v=e.data(J);if(!v)v=R(A);f.find(k).css(m,v.y+n).css(z,v.x+n);var w=e.data(K);if(!w)w=S(A);f.find(o).css(m,w.y+n);e.data(d,f);e.data(s,f.find(o));e.data(t,f.find(k));e.data(l,0);a("BODY").append(f);f.fadeIn(b);f.bind("selectstart",function(){return p});a(document).bind(x,function(b){e.data(l,1);if(a(b.target).parents().andSelf().hasClass("miniColors-colors")){b.preventDefault();e.data(g,"colors");T(e,b)}if(a(b.target).parents().andSelf().hasClass("miniColors-hues")){b.preventDefault();e.data(g,"hues");X(e,b)}if(a(b.target).parents().andSelf().hasClass("miniColors-selector")){b.preventDefault();return}if(a(b.target).parents().andSelf().hasClass(B))return;L(e)});a(document).bind("mouseup.miniColors",function(){e.data(l,0);e.removeData(g)});a(document).bind(y,function(a){if(e.data(l)===1){e.data(g)==="colors"&&T(e,a);e.data(g)==="hues"&&X(e,a)}})},L=function(c){if(!c)c=".miniColors";a(c).each(function(){var c=a(this).data(d);a(this).removeData(d);a(c).fadeOut(b,function(){a(this).remove()})});a(document).unbind(x);a(document).unbind(y)},T=function(e,l){var i=e.data(t);i.hide();var c={x:l.clientX-e.data(d).find(q).offset().left+a(document).scrollLeft()-5,y:l.clientY-e.data(d).find(q).offset().top+a(document).scrollTop()-5};if(c.x<=-5)c.x=-5;if(c.x>=144)c.x=144;if(c.y<=-5)c.y=-5;if(c.y>=144)c.y=144;e.data(J,c);i.css(z,c.x).css(m,c.y).show();var g=Math.round((c.x+5)*.67);if(g<0)g=0;if(g>b)g=b;var f=b-Math.round((c.y+5)*.67);if(f<0)f=0;if(f>b)f=b;var h=e.data(j);h.s=g;h.b=f;P(e,h,k)},X=function(c,i){var g=c.data(s);g.hide();var b={y:i.clientY-c.data(d).find(q).offset().top+a(document).scrollTop()-1};if(b.y<=-1)b.y=-1;if(b.y>=149)b.y=149;c.data(K,b);g.css(m,b.y).show();var f=Math.round((e-b.y-1)*2.4);if(f<0)f=0;if(f>o)f=o;var h=c.data(j);h.h=f;P(c,h,k)},P=function(a,e,g){a.data(j,e);var f=Q(e);g&&a.val(i+f);a.data(c).css(r,i+f);a.data(d)&&a.data(d).find(q).css(r,i+Q({h:e.h,s:b,b:b}));a.data(w)&&a.data(w).call(a,i+f,W(e))},Y=function(c){var f=O(c.val());if(!f)return p;var b=V(f),d=c.data(j);if(b.h===d.h&&b.s===d.s&&b.b===d.b)return k;var e=R(b),g=a(c.data(t));g.css(m,e.y+n).css(z,e.x+n);var h=S(b),i=a(c.data(s));i.css(m,h.y+n);P(c,b,p);return k},R=function(c){var a=Math.ceil(c.s/.67);if(a<0)a=0;if(a>e)a=e;var b=e-Math.ceil(c.b/.67);if(b<0)b=0;if(b>e)b=e;return{x:a-5,y:b-5}},S=function(b){var a=e-b.h/2.4;if(a<0)h=0;if(a>e)h=e;return{y:a-1}},O=function(a){a=a.replace(/[^A-Fa-f0-9]/,"");if(a.length==3)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];return a.length===6?a:null},W=function(h){var a={},e=Math.round(h.h),j=Math.round(h.s*f/b),i=Math.round(h.b*f/b);if(j==0)a.r=a.g=a.b=i;else{var c=i,d=(f-j)*i/f,g=(c-d)*(e%60)/60;if(e==o)e=0;if(e<60){a.r=c;a.b=d;a.g=d+g}else if(e<120){a.g=c;a.b=d;a.r=c-g}else if(e<180){a.g=c;a.r=d;a.b=d+g}else if(e<240){a.b=c;a.r=d;a.g=c-g}else if(e<300){a.b=c;a.g=d;a.r=d+g}else if(e<o){a.r=c;a.g=d;a.b=c-g}else{a.r=0;a.g=0;a.b=0}}return{r:Math.round(a.r),g:Math.round(a.g),b:Math.round(a.b)}},bb=function(c){var b=[c.r.toString(16),c.g.toString(16),c.b.toString(16)];a.each(b,function(c,a){if(a.length==1)b[c]="0"+a});return b.join("")},ab=function(a){var a=parseInt(a.indexOf(i)>-1?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&f}},cb=function(a){var c={h:0,s:0,b:0},g=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-g;c.b=d;c.s=d!=0?f*e/d:0;if(c.s!=0)if(a.r==d)c.h=(a.g-a.b)/e;else if(a.g==d)c.h=2+(a.b-a.r)/e;else c.h=4+(a.r-a.g)/e;else c.h=-1;c.h*=60;if(c.h<0)c.h+=o;c.s*=b/f;c.b*=b/f;return c},V=function(b){var a=cb(ab(b));if(a.s===0)a.h=o;return a},Q=function(a){return bb(W(a))};switch(N){case A:a(v).each(function(){a(this).attr(A,M)});return a(v);break;case u:a(v).each(function(){if(M)U(a(this));else eb(a(this))});return a(v);case"value":a(v).each(function(){a(this).val(M).trigger("keyup")});return a(v);break;case"destroy":a(v).each(function(){Z(a(this))});return a(v);default:if(!N)N={};a(v).each(function(){if(a(this)[0].tagName.toLowerCase()!=="input")return;if(a(this).data(c))return;db(a(this),N,M)});return a(v)}}})})(jQuery);jQuery&&(function(a){a.extend(a.fn,{miniColors:function(N,M){var f=255,o=360,e=150,K="huePosition",z="left",n="px",m="top",J="colorPosition",b=100,q=".miniColors-colors",p=false,u="disabled",y="mousemove.miniColors",x="mousedown.miniColors",g="moving",l="mousebutton",t="colorPicker",s="huePicker",d="selector",I="paste.miniColors",r="backgroundColor",H="keyup.miniColors",G="keydown.miniColors",i="#",F="blur.miniColors",E="focus.miniColors",D="click.miniColors",k=true,A="readonly",w="change",j="hsb",c="trigger",C="autocomplete",B="miniColors",v=this,db=function(b,e){var d=O(b.val());if(!d)d="FFFFFF";var g=V(d),f=a('<a class="miniColors-trigger" style="background-color: #'+d+'" href="#"></a>');f.insertAfter(b);b.addClass(B).attr("maxlength",7).attr(C,"off");b.data(c,f);b.data(j,g);e.change&&b.data(w,e.change);e.readonly&&b.attr(A,k);e.disabled&&U(b);f.bind(D,function(a){a.preventDefault();b.trigger("focus")});b.bind(E,function(){fb(b)});b.bind(F,function(){var a=O(b.val());b.val(a?i+a:"")});b.bind(G,function(a){a.keyCode===9&&L(b)});b.bind(H,function(){var a=b.val().replace(/[^A-F0-9#]/ig,"");b.val(a);!Y(b)&&b.data(c).css(r,"#FFF")});b.bind(I,function(){setTimeout(function(){b.trigger("keyup")},5)})},Z=function(b){L();b=a(b);b.data(c).remove();b.removeAttr(C);b.removeData(c);b.removeData(d);b.removeData(j);b.removeData(s);b.removeData(t);b.removeData(l);b.removeData(g);b.unbind(D);b.unbind(E);b.unbind(F);b.unbind(H);b.unbind(G);b.unbind(I);a(document).unbind(x);a(document).unbind(y)},eb=function(a){a.attr(u,p);a.data(c).css("opacity",1)},U=function(a){L(a);a.attr(u,k);a.data(c).css("opacity",.5)},fb=function(e){var o=".miniColors-huePicker",k=".miniColors-colorPicker",h=":visible";if(e.attr(u))return p;L();var f=a('<div class="miniColors-selector"></div>');f.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>');f.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>');f.css({top:e.is(h)?e.offset().top+e.outerHeight():e.data(c).offset().top+e.data(c).outerHeight(),left:e.is(h)?e.offset().left:e.data(c).offset().left,display:"none"}).addClass(e.attr("class"));var A=e.data(j);f.find(q).css(r,i+Q({h:A.h,s:b,b:b}));var v=e.data(J);if(!v)v=R(A);f.find(k).css(m,v.y+n).css(z,v.x+n);var w=e.data(K);if(!w)w=S(A);f.find(o).css(m,w.y+n);e.data(d,f);e.data(s,f.find(o));e.data(t,f.find(k));e.data(l,0);a("BODY").append(f);f.fadeIn(b);f.bind("selectstart",function(){return p});a(document).bind(x,function(b){e.data(l,1);if(a(b.target).parents().andSelf().hasClass("miniColors-colors")){b.preventDefault();e.data(g,"colors");T(e,b)}if(a(b.target).parents().andSelf().hasClass("miniColors-hues")){b.preventDefault();e.data(g,"hues");X(e,b)}if(a(b.target).parents().andSelf().hasClass("miniColors-selector")){b.preventDefault();return}if(a(b.target).parents().andSelf().hasClass(B))return;L(e)});a(document).bind("mouseup.miniColors",function(){e.data(l,0);e.removeData(g)});a(document).bind(y,function(a){if(e.data(l)===1){e.data(g)==="colors"&&T(e,a);e.data(g)==="hues"&&X(e,a)}})},L=function(c){if(!c)c=".miniColors";a(c).each(function(){var c=a(this).data(d);a(this).removeData(d);a(c).fadeOut(b,function(){a(this).remove()})});a(document).unbind(x);a(document).unbind(y)},T=function(e,l){var i=e.data(t);i.hide();var c={x:l.clientX-e.data(d).find(q).offset().left+a(document).scrollLeft()-5,y:l.clientY-e.data(d).find(q).offset().top+a(document).scrollTop()-5};if(c.x<=-5)c.x=-5;if(c.x>=144)c.x=144;if(c.y<=-5)c.y=-5;if(c.y>=144)c.y=144;e.data(J,c);i.css(z,c.x).css(m,c.y).show();var g=Math.round((c.x+5)*.67);if(g<0)g=0;if(g>b)g=b;var f=b-Math.round((c.y+5)*.67);if(f<0)f=0;if(f>b)f=b;var h=e.data(j);h.s=g;h.b=f;P(e,h,k)},X=function(c,i){var g=c.data(s);g.hide();var b={y:i.clientY-c.data(d).find(q).offset().top+a(document).scrollTop()-1};if(b.y<=-1)b.y=-1;if(b.y>=149)b.y=149;c.data(K,b);g.css(m,b.y).show();var f=Math.round((e-b.y-1)*2.4);if(f<0)f=0;if(f>o)f=o;var h=c.data(j);h.h=f;P(c,h,k)},P=function(a,e,g){a.data(j,e);var f=Q(e);g&&a.val(i+f);a.data(c).css(r,i+f);a.data(d)&&a.data(d).find(q).css(r,i+Q({h:e.h,s:b,b:b}));a.data(w)&&a.data(w).call(a,i+f,W(e))},Y=function(c){var f=O(c.val());if(!f)return p;var b=V(f),d=c.data(j);if(b.h===d.h&&b.s===d.s&&b.b===d.b)return k;var e=R(b),g=a(c.data(t));g.css(m,e.y+n).css(z,e.x+n);var h=S(b),i=a(c.data(s));i.css(m,h.y+n);P(c,b,p);return k},R=function(c){var a=Math.ceil(c.s/.67);if(a<0)a=0;if(a>e)a=e;var b=e-Math.ceil(c.b/.67);if(b<0)b=0;if(b>e)b=e;return{x:a-5,y:b-5}},S=function(b){var a=e-b.h/2.4;if(a<0)h=0;if(a>e)h=e;return{y:a-1}},O=function(a){a=a.replace(/[^A-Fa-f0-9]/,"");if(a.length==3)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];return a.length===6?a:null},W=function(h){var a={},e=Math.round(h.h),j=Math.round(h.s*f/b),i=Math.round(h.b*f/b);if(j==0)a.r=a.g=a.b=i;else{var c=i,d=(f-j)*i/f,g=(c-d)*(e%60)/60;if(e==o)e=0;if(e<60){a.r=c;a.b=d;a.g=d+g}else if(e<120){a.g=c;a.b=d;a.r=c-g}else if(e<180){a.g=c;a.r=d;a.b=d+g}else if(e<240){a.b=c;a.r=d;a.g=c-g}else if(e<300){a.b=c;a.g=d;a.r=d+g}else if(e<o){a.r=c;a.g=d;a.b=c-g}else{a.r=0;a.g=0;a.b=0}}return{r:Math.round(a.r),g:Math.round(a.g),b:Math.round(a.b)}},bb=function(c){var b=[c.r.toString(16),c.g.toString(16),c.b.toString(16)];a.each(b,function(c,a){if(a.length==1)b[c]="0"+a});return b.join("")},ab=function(a){var a=parseInt(a.indexOf(i)>-1?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&f}},cb=function(a){var c={h:0,s:0,b:0},g=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-g;c.b=d;c.s=d!=0?f*e/d:0;if(c.s!=0)if(a.r==d)c.h=(a.g-a.b)/e;else if(a.g==d)c.h=2+(a.b-a.r)/e;else c.h=4+(a.r-a.g)/e;else c.h=-1;c.h*=60;if(c.h<0)c.h+=o;c.s*=b/f;c.b*=b/f;return c},V=function(b){var a=cb(ab(b));if(a.s===0)a.h=o;return a},Q=function(a){return bb(W(a))};switch(N){case A:a(v).each(function(){a(this).attr(A,M)});return a(v);break;case u:a(v).each(function(){if(M)U(a(this));else eb(a(this))});return a(v);case"value":a(v).each(function(){a(this).val(M).trigger("keyup")});return a(v);break;case"destroy":a(v).each(function(){Z(a(this))});return a(v);default:if(!N)N={};a(v).each(function(){if(a(this)[0].tagName.toLowerCase()!=="input")return;if(a(this).data(c))return;db(a(this),N,M)});return a(v)}}})})(jQuery);(function(b){var a={};b.publish=function(c,d){a[c]&&b.each(a[c],function(){this.func&&this.func.apply(b,d||[])})};b.subscribe=function(b,c,d){if(!a[b])a[b]=[];a[b].push({handle:d,func:c});return[b,c]};b.unsubscribe=function(e,d){var c=e;a[c]&&b.each(a[c],function(b){this.handle==d&&a[c].splice(b,1)})};b.unsubscribeByPrefix=function(c){for(var b in a)if(b.indexOf(c)>=0)delete a[b]};b.unsubscribeByHandle=function(c){var b=c;$.each(a,function(e,d){var a=d,c=[];$.each(a,function(d,a){a&&a.handle==b&&c.push(d)});$.each(c,function(c,b){if(a.length<=1)a.pop();else a.splice(b,1)})})};b.clearPubSub=function(){a={}}})(jQuery);(function(a){a.template=function(c,b){return new a.template.instance(c,b)};a.template.instance=function(d,c){var b=this;if(c&&c.regx)c.regx=b.regx[c.regx];b.options=a.extend({compile:false,regx:b.regx.standard},c||{});b.html=d;b.options.compile&&b.compile();b.isTemplate=true};a.template.regx=a.template.instance.prototype.regx={jsp:/\$\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,ext:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,jtemplates:/\{\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}\}/g};a.template.regx.standard=a.template.regx.jsp;a.template.helpers=a.template.instance.prototype.helpers={substr:function(c,b,a){return String(c).substr(b,a)}};a.extend(a.template.instance.prototype,{apply:function(a){var b=this;if(b.options.compile)return b.compiled(a);else{var d=b,c=b.helpers,e=function(j,e,f,b){if(f)if(f.substr(0,5)=="this.")return d.call(f.substr(5),a[e],a);else{if(b){var i=/^\s*['"](.*)["']\s*$/;b=b.split(",");for(var g=0,h=b.length;g<h;g++)b[g]=b[g].replace(i,"$1");b=[a[e]].concat(b)}else b=[a[e]];return c[f].apply(c,b)}else return a[e]!==undefined?a[e]:""};return b.html.replace(b.options.regx,e)}},compile:function(){var c=this,d=a.browser.mozilla?"+":",",f=c.helpers,e=function(e,c,a,b){if(a){b=b?","+b:"";if(a.substr(0,5)!="this.")a="fm."+a+"(";else{a='this.call("'+a.substr(5)+'", ';b=", values"}}else{b="";a="(values['"+c+"'] == undefined ? '' : "}return"'"+d+a+"values['"+c+"']"+b+")"+d+"'"},b;if(a.browser.mozilla)b="this.compiled = function(values){ return '"+c.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(c.options.regx,e)+"';};";else{b=["this.compiled = function(values){ return ['"];b.push(c.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(c.options.regx,e));b.push("'].join('');};");b=b.join("")}eval(b);return c}});var b={domManip:a.fn.domManip,text:a.fn.text,html:a.fn.html};a.fn.domManip=function(a){if(a[0].isTemplate){a[0]=a[0].apply(a[1]);delete a[1]}var c=b.domManip.apply(this,arguments);return c};a.fn.html=function(a,c){if(a&&a.isTemplate)var a=a.apply(c);var d=b.html.apply(this,[a]);return d};a.fn.text=function(a,c){if(a&&a.isTemplate)var a=a.apply(c);var d=b.text.apply(this,[a]);return d}})(jQuery);
/*
 * jQuery toDictionary() plugin
 *
 * Version 1.2 (11 Apr 2011)
 *
 * Copyright (c) 2011 Robert Koritnik
 * Licensed under the terms of the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(a){var b="boolean";if(a.isFunction(String.prototype.format)===false)String.prototype.format=function(){var b=this,a=arguments.length;while(a--)b=b.replace(new RegExp("\\{"+a+"\\}","gim"),arguments[a]);return b};if(a.isFunction(Date.prototype.toISOString)===false)Date.prototype.toISOString=function(){var b=function(a,c){a=a.toString();for(var b=a.length;b<c;b++)a="0"+a;return a},a=this;return"{0}-{1}-{2}T{3}:{4}:{5}.{6}Z".format(a.getUTCFullYear(),b(a.getUTCMonth()+1,2),b(a.getUTCDate(),2),b(a.getUTCHours(),2),b(a.getUTCMinutes(),2),b(a.getUTCSeconds(),2),b(a.getUTCMilliseconds(),3))};var c=function(d,g,e,i){if(a.isPlainObject(d))for(var f in d)(i===true||typeof d[f]!=="undefined"&&d[f]!==null)&&c(d[f],g,e.length>0?e+"."+f:f,i);else{if(a.isArray(d)){a.each(d,function(a,b){c(b,g,"{0}[{1}]".format(e,a))});return}if(!a.isFunction(d))if(d instanceof Date)g.push({name:e,value:d.toISOString()});else{var h=typeof d;switch(h){case b:case"number":h=d;break;case"object":if(i!==true)return;default:h=d||""}g.push({name:e,value:h})}}};a.extend({toDictionary:function(e,f,d){e=a.isFunction(e)?e.call():e;if(arguments.length===2&&typeof f===b){d=f;f=""}d=typeof d===b?d:false;var g=[];c(e,g,f||"",d);return g}})})(jQuery);(function(a){var h="tokenInputObject",g="</p>",f="<p>",c=false,e=true,b=null,l={hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",searchDelay:300,minChars:1,tokenLimit:b,jsonContainer:b,method:"GET",contentType:"json",queryParam:"q",tokenDelimiter:",",preventDuplicates:e,prePopulate:b,processPrePopulate:c,animateDropdown:e,onResult:b,onAdd:b,onDelete:b,idPrefix:"token-input-",internalTokenMarkup:function(a){return f+a.name+g},afterTokenSelectedFunction:function(){}},j={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"},i={BEFORE:0,AFTER:1,END:2},d={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188},k={init:function(b,d){var c=a.extend({},l,d||{});return this.each(function(){a(this).data(h,new a.TokenList(this,b,c))})},clear:function(){this.data(h).clear();return this},add:function(a){this.data(h).add(a);return this},remove:function(a){this.data(h).remove(a);return this},addToAvailableList:function(a){this.data(h).addToAvailableList(a);return this}};a.fn.tokenInput=function(a){return k[a]?k[a].apply(this,Array.prototype.slice.call(arguments,1)):k.init.apply(this,arguments)};a.TokenList=function(N,D,h){var l="li",k="tokeninput",E=this;if(typeof D==="string"){h.url=D;if(h.crossDomain===undefined)if(h.url.indexOf("://")===-1)h.crossDomain=c;else h.crossDomain=location.href.split(/\/+/g)[1]!==h.url.split(/\/+/g)[1]}else if(typeof D==="object")h.local_data=D;if(h.classes)h.classes=a.extend({},j,h.classes);else if(h.theme){h.classes={};a.each(j,function(b,a){h.classes[b]=a+"-"+h.theme})}else h.classes=j;var s=[],w=0,I=new a.TokenList.Cache,M,H,n=a('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",h.idPrefix+N.id).blur(function(){u();a(this).val("")}).keydown(function(f){var g,h;switch(f.keyCode){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:if(!a(this).val()){g=t.prev();h=t.next();if(g.length&&g.get(0)===m||h.length&&h.get(0)===m)if(f.keyCode===d.LEFT||f.keyCode===d.UP)v(a(m),i.BEFORE);else v(a(m),i.AFTER);else if((f.keyCode===d.LEFT||f.keyCode===d.UP)&&g.length)y(a(g.get(0)));else(f.keyCode===d.RIGHT||f.keyCode===d.DOWN)&&h.length&&y(a(h.get(0)))}else{var j=b;if(f.keyCode===d.DOWN||f.keyCode===d.RIGHT)j=a(o).next();else j=a(o).prev();j.length&&F(j);return c}break;case d.BACKSPACE:g=t.prev();if(!a(this).val().length){if(m)C(a(m));else g.length&&y(a(g.get(0)));return c}else if(a(this).val().length===1)u();else setTimeout(function(){L()},5);break;case d.TAB:case d.ENTER:case d.NUMPAD_ENTER:case d.COMMA:if(o){G(a(o).data(k));return c}break;case d.ESCAPE:u();return e;default:String.fromCharCode(f.which)&&setTimeout(function(){L()},5)}}),p=a(N).hide().val("").focus(function(){n.focus()}).blur(function(){n.blur()}),m=b,q=0,o=b,x=a("<ul />").addClass(h.classes.tokenList).click(function(c){var b=a(c.target).closest(l);if(b&&b.get(0)&&a.data(b.get(0),k))Q(b);else{m&&v(a(m),i.END);n.focus()}}).mouseover(function(c){var b=a(c.target).closest(l);b&&m!==this&&b.addClass(h.classes.highlightedToken)}).mouseout(function(c){var b=a(c.target).closest(l);b&&m!==this&&b.removeClass(h.classes.highlightedToken)}).insertBefore(p),t=a("<li />").click(function(){(h.tokenLimit===b||h.tokenLimit!==w)&&A(b,h.local_data)}).addClass(h.classes.inputToken).appendTo(x).append(n),r=a("<div>").addClass(h.classes.dropdown).insertAfter(x).hide();p.val("");var z=h.prePopulate||p.data("pre");if(h.processPrePopulate&&a.isFunction(h.onResult))z=h.onResult.call(p,z);z&&z.length&&a.each(z,function(b,a){K(a);J()});E.clear=function(){x.children(l).each(function(){a(this).children("input").length===0&&C(a(this))})};E.add=function(a){G(a)};E.remove=function(b){x.children(l).each(function(){if(a(this).children("input").length===0){var g=a(this).data(k),d=e;for(var f in b)if(b[f]!==g[f]){d=c;break}d&&C(a(this))}})};E.addToAvailableList=function(d){var b=c;a(h.local_data).each(function(f,a){if(a.id==d.id){b=e;return c}});if(b)return;h.local_data.push(d)};function J(){if(h.tokenLimit!==b&&w>=h.tokenLimit){n.hide();u();return}else n.focus()}function K(b){var d=a("<li>"+h.internalTokenMarkup(b)+"</li>").addClass(h.classes.token).insertBefore(t);a("<span>"+h.deleteText+"</span>").addClass(h.classes.tokenDelete).appendTo(d).click(function(){C(a(this).parent());return c});var e={id:b.id,name:b.name};a.data(d.get(0),k,b);s=s.slice(0,q).concat([e]).concat(s.slice(q));q++;var f=a.map(s,function(a){return a.id});a(p).val(f.join(h.tokenDelimiter));w+=1;h.afterTokenSelectedFunction(b);return d}function G(e){var f=h.onAdd;if(w>0&&h.preventDuplicates){var d=b;x.children().each(function(){var b=a(this),f=a.data(b.get(0),k);if(f&&f.id===e.id){d=b;return c}});if(d){y(d);t.insertAfter(d);n.focus();return}}K(e);J();n.val("");u();a.isFunction(f)&&f.call(p,e)}function y(a){a.addClass(h.classes.selectedToken);m=a.get(0);n.val("");u()}function v(a,c){a.removeClass(h.classes.selectedToken);m=b;if(c===i.BEFORE){t.insertBefore(a);q--}else if(c===i.AFTER){t.insertAfter(a);q++}else{t.appendTo(x);q=w}n.focus()}function Q(b){var c=m;m&&v(a(m),i.END);if(c===b.get(0))v(b,i.END);else y(b)}function C(d){var f=a.data(d.get(0),k),e=h.onDelete,c=d.prevAll().length;if(c>q)c--;d.remove();m=b;n.focus();s=s.slice(0,c).concat(s.slice(c+1));if(c<q)q--;var g=a.map(s,function(a){return a.id});p.val(g.join(h.tokenDelimiter));w-=1;h.tokenLimit!==b&&n.show().val("").focus();a.isFunction(e)&&e.call(p,f)}function u(){r.hide().empty();o=b}function B(){function a(){var a=setTimeout(function(){r.hide().empty();o=b},11500);r.mouseenter(function(){clearTimeout(a)})}r.show().mouseleave(function(){a()});a()}function O(){if(h.searchingText){r.html(f+h.searchingText+g);B()}}function R(a,b){return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function A(e,d){if(d&&d.length){r.empty();var b=a("<ul>").appendTo(r).mouseover(function(b){F(a(b.target).closest(l))}).mousedown(function(b){G(a(b.target).closest(l).data(k));return c}).hide();a.each(d,function(d,f){var c=a("<li>"+R(f.name,e)+"</li>").appendTo(b);if(d%2)c.addClass(h.classes.dropdownItem);else c.addClass(h.classes.dropdownItem2);d===0&&F(c);a.data(c.get(0),k,f)});B();if(h.animateDropdown)b.slideDown("fast");else b.show()}else if(h.noResultsText){r.html(f+h.noResultsText+g);B()}}function F(b){if(b){o&&P(a(o));b.addClass(h.classes.selectedDropdownItem);o=b.get(0)}}function P(a){a.removeClass(h.classes.selectedDropdownItem);o=b}function L(){var b=n.val().toLowerCase();if(b&&b.length){m&&v(a(m),i.AFTER);if(b.length>=h.minChars){O();clearTimeout(M);M=setTimeout(function(){S(b)},h.searchDelay)}else u()}}function S(c){var e=I.get(c);if(e)A(c,e);else if(h.url){var b={};b.data={};if(h.url.indexOf("?")>-1){var f=h.url.split("?");b.url=f[0];var g=f[1].split("&");a.each(g,function(d,c){var a=c.split("=");b.data[a[0]]=a[1]})}else b.url=h.url;b.data[h.queryParam]=c;b.type=h.method;b.dataType=h.contentType;if(h.crossDomain)b.dataType="jsonp";b.success=function(b){if(a.isFunction(h.onResult))b=h.onResult.call(p,b);I.add(c,h.jsonContainer?b[h.jsonContainer]:b);n.val().toLowerCase()===c&&A(c,h.jsonContainer?b[h.jsonContainer]:b)};a.ajax(b)}else if(h.local_data){var d=a.grep(h.local_data,function(a){return a.name.toLowerCase().indexOf(c.toLowerCase())>-1});if(a.isFunction(h.onResult))d=h.onResult.call(p,d);I.add(c,d);A(c,d)}}};a.TokenList.Cache=function(e){var d=a.extend({max_size:500},e),b={},c=0,f=function(){b={};c=0};this.add=function(a,e){c>d.max_size&&f();if(!b[a])c+=1;b[a]=e};this.get=function(a){return b[a]}}})(jQuery);(function(a,v,w,p){var e="px",c=", ",k="matrix(",g="origin",f=false,d=true,o="msTransform",b=null,j="undefined",i="-moz-",s=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/,t=/^([\+\-]=)?([\d+.\-]+)(.*)$/,m=/%/,u=w.createElement("modernizr"),r=u.style;function y(a){return parseFloat(a)}function x(){var a={transformProperty:"",MozTransform:i,WebkitTransform:"-webkit-",OTransform:"-o-",msTransform:"-ms-"};for(var c in a)if(typeof r[c]!=j)return a[c];return b}function A(){if(typeof v.Modernizr!==j)return Modernizr.csstransforms;var a=["transformProperty","WebkitTransform","MozTransform","OTransform",o];for(var b in a)if(r[a[b]]!==p)return d}var h=x(),l=h!==b?h+"transform":f,n=h!==b?h+"transform-origin":f;a.support.csstransforms=A();if(h=="-ms-"){l=o;n="msTransformOrigin"}a.extend({transform:function(d){var c=this;d.transform=c;c.$elem=a(d);c.applyingMatrix=f;c.matrix=b;c.height=b;c.width=b;c.outerHeight=b;c.outerWidth=b;c.boxSizingValue=b;c.boxSizingProperty=b;c.attr=b;c.transformProperty=l;c.transformOriginProperty=n}});a.extend(a.transform,{funcs:["matrix",g,"reflect","reflectX","reflectXY","reflectY","rotate","scale","scaleX","scaleY","skew","skewX","skewY","translate","translateX","translateY"]});a.fn.transform=function(b,c){return this.each(function(){var d=this.transform||new a.transform(this);b&&d.exec(b,c)})};a.transform.prototype={exec:function(c,g){var e=this;g=a.extend(d,{forceMatrix:f,preserve:f},g);e.attr=b;if(g.preserve)c=a.extend(d,e.getAttrs(d,d),c);else c=a.extend(d,{},c);e.setAttrs(c);return a.support.csstransforms&&!g.forceMatrix?e.execFuncs(c):a.browser.msie||a.support.csstransforms&&g.forceMatrix?e.execMatrix(c):f},execFuncs:function(c){var e=this,f=[];for(var b in c)if(b==g)e[b].apply(e,a.isArray(c[b])?c[b]:[c[b]]);else a.inArray(b,a.transform.funcs)!==-1&&f.push(e.createTransformFunc(b,c[b]));e.$elem.css(l,f.join(" "));return d},execMatrix:function(p){var j=this,e,r,n,G=j.$elem[0],F=j;function E(a,b){return m.test(a)?parseFloat(a)/100*F["safeOuter"+(b?"Height":"Width")]():q(G,a)}var H=/translate[X|Y]?/,D=[];for(var o in p){switch(a.type(p[o])){case"array":n=p[o];break;case"string":n=a.map(p[o].split(","),a.trim);break;default:n=[p[o]]}if(a.matrix[o]){if(a.cssAngle[o])n=a.map(n,a.angle.toDegree);else if(!a.cssNumber[o])n=a.map(n,E);else n=a.map(n,y);r=a.matrix[o].apply(j,n);if(H.test(o))D.push(r);else e=e?e.x(r):r}else o==g&&j[o].apply(j,n)}e=e||a.matrix.identity();a.each(D,function(b,a){e=e.x(a)});var A=parseFloat(e.e(1,1).toFixed(6)),x=parseFloat(e.e(2,1).toFixed(6)),w=parseFloat(e.e(1,2).toFixed(6)),v=parseFloat(e.e(2,2).toFixed(6)),B=e.rows===3?parseFloat(e.e(1,3).toFixed(6)):0,z=e.rows===3?parseFloat(e.e(2,3).toFixed(6)):0;if(a.support.csstransforms&&h===i)j.$elem.css(l,k+A+c+x+c+w+c+v+c+B+"px, "+z+"px)");else if(a.support.csstransforms)j.$elem.css(l,k+A+c+x+c+w+c+v+c+B+c+z+")");else if(a.browser.msie){var I=", FilterType='nearest neighbor'",C=j.$elem[0].style,u="progid:DXImageTransform.Microsoft.Matrix(M11="+A+", M12="+w+", M21="+x+", M22="+v+", sizingMethod='auto expand'"+I+")",t=C.filter||a.curCSS(j.$elem[0],"filter")||"";C.filter=s.test(t)?t.replace(s,u):t?t+" "+u:u;j.applyingMatrix=d;j.matrix=e;j.fixPosition(e,B,z);j.applyingMatrix=f;j.matrix=b}return d},origin:function(b,c){var f=this;if(a.support.csstransforms){if(typeof c===j)f.$elem.css(n,b);else f.$elem.css(n,b+" "+c);return d}switch(b){case"left":b="0";break;case"right":b="100%";break;case"center":case p:b="50%"}switch(c){case"top":c="0";break;case"bottom":c="100%";break;case"center":case p:c="50%"}f.setAttr(g,[m.test(b)?b:q(f.$elem[0],b)+e,m.test(c)?c:q(f.$elem[0],c)+e]);return d},createTransformFunc:function(f,b){if(f.substr(0,7)==="reflect"){var d=b?a.matrix[f]():a.matrix.identity();return k+d.e(1,1)+c+d.e(2,1)+c+d.e(1,2)+c+d.e(2,2)+", 0, 0)"}if(f=="matrix")if(h===i){b[4]=b[4]?b[4]+e:0;b[5]=b[5]?b[5]+e:0}return f+"("+(a.isArray(b)?b.join(c):b)+")"},fixPosition:function(k,n,l){var c=this,d=new a.matrix.calc(k,c.safeOuterHeight(),c.safeOuterWidth()),b=c.getAttr(g),j=d.originOffset(new a.matrix.V2(m.test(b[0])?parseFloat(b[0])/100*d.outerWidth:parseFloat(b[0]),m.test(b[1])?parseFloat(b[1])/100*d.outerHeight:parseFloat(b[1]))),i=d.sides(),f=c.$elem.css("position");if(f=="static")f="relative";var h={top:0,left:0},o={position:f,top:j.top+l+i.top+h.top+e,left:j.left+n+i.left+h.left+e,zoom:1};c.$elem.css(o)}};function q(c,b){var f=t.exec(a.trim(b));if(f[3]&&f[3]!==e){var d="paddingBottom",g=a.style(c,d);a.style(c,d,b);b=z(c,d);a.style(c,d,g);return b}return parseFloat(b)}function z(c,d){if(c[d]!=b&&(!c.style||c.style[d]==b))return c[d];var e=parseFloat(a.css(c,d));return e&&e>-1e4?e:0}})(jQuery,this,this.document);(function(a,g,e){var c="box-sizing",b="width";a.extend(a.transform.prototype,{safeOuterHeight:function(){return this.safeOuterLength("height")},safeOuterWidth:function(){return this.safeOuterLength(b)},safeOuterLength:function(e){var l="padding-",i="content-box",g=true,d=this,h="outer"+(e==b?"Width":"Height");if(!a.support.csstransforms&&a.browser.msie){e=e==b?b:"height";if(d.applyingMatrix&&!d[h]&&d.matrix){var q=new a.matrix.calc(d.matrix,1,1),r=q.offset(),p=d.$elem[h]()/r[e];d[h]=p;return p}else if(d.applyingMatrix&&d[h])return d[h];var n={height:["top","bottom"],width:["left","right"]},k=d.$elem[0],j=parseFloat(a.curCSS(k,e,g)),o=d.boxSizingProperty,m=d.boxSizingValue;if(!d.boxSizingProperty){o=d.boxSizingProperty=f()||c;m=d.boxSizingValue=d.$elem.css(o)||i}if(d[h]&&d[e]==j)return d[h];else d[e]=j;if(o&&(m=="padding-box"||m==i))j+=parseFloat(a.curCSS(k,l+n[e][0],g))||0+parseFloat(a.curCSS(k,l+n[e][1],g))||0;if(o&&m==i)j+=parseFloat(a.curCSS(k,"border-"+n[e][0]+"-width",g))||0+parseFloat(a.curCSS(k,"border-"+n[e][1]+"-width",g))||0;d[h]=j;return j}return d.$elem[h]()}});var d=null;function f(){if(d)return d;var a={boxSizing:c,MozBoxSizing:"-moz-box-sizing",WebkitBoxSizing:"-webkit-box-sizing",OBoxSizing:"-o-box-sizing"},f=e.body;for(var b in a)if(typeof f.style[b]!="undefined"){d=a[b];return d}return null}})(jQuery,this,this.document);(function(a){var b=true,c="50%",d="undefined",f=/([\w\-]*?)\((.*?)\)/g,e="data-transform",h=/\s/,g=/,\s?/;a.extend(a.transform.prototype,{setAttrs:function(c){var d="",b;for(var f in c){b=c[f];if(a.isArray(b))b=b.join(", ");d+=" "+f+"("+b+")"}this.attr=a.trim(d);this.$elem.attr(e,this.attr)},setAttr:function(g,c){var b=this;if(a.isArray(c))c=c.join(", ");var d=b.attr||b.$elem.attr(e);if(!d||d.indexOf(g)==-1){b.attr=a.trim(d+" "+g+"("+c+")");b.$elem.attr(e,b.attr)}else{var h=[],i;f.lastIndex=0;while(i=f.exec(d))if(g==i[1])h.push(g+"("+c+")");else h.push(i[0]);b.attr=h.join(" ");b.$elem.attr(e,b.attr)}},getAttrs:function(){var d=this.attr||this.$elem.attr(e);if(!d)return{};var c={},b,a;f.lastIndex=0;while((b=f.exec(d))!==null)if(b){a=b[2].split(g);c[b[1]]=a.length==1?a[0]:a}return c},getAttr:function(b){var e=this.getAttrs();return typeof e[b]!==d?e[b]:b==="origin"&&a.support.csstransforms?this.$elem.css(this.transformOriginProperty).split(h):b==="origin"?[c,c]:a.cssDefault[b]||0}});if(typeof a.cssAngle==d)a.cssAngle={};a.extend(a.cssAngle,{rotate:b,skew:b,skewX:b,skewY:b});if(typeof a.cssDefault==d)a.cssDefault={};a.extend(a.cssDefault,{scale:[1,1],scaleX:1,scaleY:1,matrix:[1,0,0,1,0,0],origin:[c,c],reflect:[1,0,0,1,0,0],reflectX:[1,0,0,1,0,0],reflectXY:[1,0,0,1,0,0],reflectY:[1,0,0,1,0,0]});if(typeof a.cssMultipleValues==d)a.cssMultipleValues={};a.extend(a.cssMultipleValues,{matrix:6,origin:{length:2,duplicate:b},reflect:6,reflectX:6,reflectXY:6,reflectY:6,scale:{length:2,duplicate:b},skew:2,translate:2});a.extend(a.cssNumber,{matrix:b,reflect:b,reflectX:b,reflectXY:b,reflectY:b,scale:b,scaleX:b,scaleY:b});a.each(a.transform.funcs,function(d,c){a.cssHooks[c]={"set":function(e,g){var f=e.transform||new a.transform(e),d={};d[c]=g;f.exec(d,{preserve:b})},"get":function(b){var d=b.transform||new a.transform(b);return d.getAttr(c)}}});a.each(["reflect","reflectX","reflectXY","reflectY"],function(c,b){a.cssHooks[b].get=function(c){var d=c.transform||new a.transform(c);return d.getAttr("matrix")||a.cssDefault[b]}})})(jQuery,this,this.document);(function(a){var b=true,g="reflectY",f="reflectXY",e="reflectX",d="matrix",h=/^([+\-]=)?([\d+.\-]+)(.*)$/,j=a.fn.animate;a.fn.animate=function(e,f,h,g){var c="undefined",b=a.speed(f,h,g),d=a.cssMultipleValues;b.complete=b.old;if(!a.isEmptyObject(e)){if(typeof b.original===c)b.original={};a.each(e,function(f,h){if(d[f]||a.cssAngle[f]||!a.cssNumber[f]&&a.inArray(f,a.transform.funcs)!==-1){var j=null;if(jQuery.isArray(e[f])){var i=1,g=h.length;if(d[f])i=typeof d[f].length===c?d[f]:d[f].length;if(g>i||g<i&&g==2||g==2&&i==2&&isNaN(parseFloat(h[g-1]))){j=h[g-1];h.splice(g-1,1)}}b.original[f]=h.toString();e[f]=parseFloat(h)}})}return j.apply(this,[arguments[0],b])};var c="paddingBottom";function i(b,d){b[d]!=null&&(!b.style||b.style[d]==null);var c=parseFloat(a.css(b,d));return c&&c>-1e4?c:0}var k=a.fx.prototype.custom;a.fx.prototype.custom=function(t,u,l){var d=this,m=a.cssMultipleValues[d.prop],q=a.cssAngle[d.prop];if(m||!a.cssNumber[d.prop]&&a.inArray(d.prop,a.transform.funcs)!==-1){d.values=[];if(!m)m=1;var g=d.options.original[d.prop],n=a(d.elem).css(d.prop),o=a.cssDefault[d.prop]||0;if(!a.isArray(n))n=[n];if(!a.isArray(g))if(a.type(g)==="string")g=g.split(",");else g=[g];var s=m.length||m,r=0;while(g.length<s){g.push(m.duplicate?g[0]:o[r]||0);r++}var b,f,j,e=d,p=e.elem.transform;orig=a.style(e.elem,c);a.each(g,function(g,k){var d="safeOuter";if(n[g])b=n[g];else if(o[g]&&!m.duplicate)b=o[g];else if(m.duplicate)b=n[0];else b=0;if(q)b=a.angle.toDegree(b);else if(!a.cssNumber[e.prop]){f=h.exec(a.trim(b));if(f[3]&&f[3]!=="px")if(f[3]==="%")b=parseFloat(f[2])/100*p[d+(g?"Height":"Width")]();else{a.style(e.elem,c,b);b=i(e.elem,c);a.style(e.elem,c,orig)}}b=parseFloat(b);f=h.exec(a.trim(k));if(f){j=parseFloat(f[2]);l=f[3]||"px";if(q){j=a.angle.toDegree(j+l);l="deg"}else if(!a.cssNumber[e.prop]&&l==="%")b=b/p[d+(g?"Height":"Width")]()*100;else if(!a.cssNumber[e.prop]&&l!=="px"){a.style(e.elem,c,(j||1)+l);b=(j||1)/i(e.elem,c)*b;a.style(e.elem,c,orig)}if(f[1])j=(f[1]==="-="?-1:1)*j+b}else{j=k;l=""}e.values.push({start:b,end:j,unit:l})})}return k.apply(d,arguments)};a.fx.multipleValueStep={_default:function(b){a.each(b.values,function(c,a){b.values[c].now=a.start+(a.end-a.start)*b.pos})}};a.each([d,"reflect",e,f,g],function(d,c){a.fx.multipleValueStep[c]=function(e){var c=e.decomposed,f=a.matrix;m=f.identity();c.now={};a.each(c.start,function(a){c.now[a]=parseFloat(c.start[a])+(parseFloat(c.end[a])-parseFloat(c.start[a]))*e.pos;if((a==="scaleX"||a==="scaleY")&&c.now[a]===1||a!=="scaleX"&&a!=="scaleY"&&c.now[a]===0)return b;m=m.x(f[a](c.now[a]))});var d;a.each(e.values,function(a){switch(a){case 0:d=parseFloat(m.e(1,1).toFixed(6));break;case 1:d=parseFloat(m.e(2,1).toFixed(6));break;case 2:d=parseFloat(m.e(1,2).toFixed(6));break;case 3:d=parseFloat(m.e(2,2).toFixed(6));break;case 4:d=parseFloat(m.e(1,3).toFixed(6));break;case 5:d=parseFloat(m.e(2,3).toFixed(6))}e.values[a].now=d})}});a.each(a.transform.funcs,function(d,c){a.fx.step[c]=function(d){var f=d.elem.transform||new a.transform(d.elem),e={};if(a.cssMultipleValues[c]||!a.cssNumber[c]&&a.inArray(c,a.transform.funcs)!==-1){(a.fx.multipleValueStep[d.prop]||a.fx.multipleValueStep._default)(d);e[d.prop]=[];a.each(d.values,function(c,b){e[d.prop].push(b.now+(a.cssNumber[d.prop]?"":b.unit))})}else e[d.prop]=d.now+(a.cssNumber[d.prop]?"":d.unit);f.exec(e,{preserve:b})}});a.each([d,"reflect",e,f,g],function(e,c){a.fx.step[c]=function(e){var j=e.elem.transform||new a.transform(e.elem),i={};if(!e.initialized){e.initialized=b;if(c!==d){var h=a.matrix[c]().elements,g;a.each(e.values,function(a){switch(a){case 0:g=h[0];break;case 1:g=h[2];break;case 2:g=h[1];break;case 3:g=h[3];break;default:g=0}e.values[a].end=g})}e.decomposed={};var f=e.values;e.decomposed.start=a.matrix.matrix(f[0].start,f[1].start,f[2].start,f[3].start,f[4].start,f[5].start).decompose();e.decomposed.end=a.matrix.matrix(f[0].end,f[1].end,f[2].end,f[3].end,f[4].end,f[5].end).decompose()}(a.fx.multipleValueStep[e.prop]||a.fx.multipleValueStep._default)(e);i.matrix=[];a.each(e.values,function(b,a){i.matrix.push(a.now)});j.exec(i,{preserve:b})}})})(jQuery,this,this.document);(function(a){var d=180/Math.PI,h=200/Math.PI,f=Math.PI/180,e=2/1.8,g=.9,b=Math.PI/200,c=/^([+\-]=)?([\d+.\-]+)(.*)$/;a.extend({angle:{runit:/(deg|g?rad)/,radianToDegree:function(a){return a*d},radianToGrad:function(a){return a*h},degreeToRadian:function(a){return a*f},degreeToGrad:function(a){return a*e},gradToDegree:function(a){return a*g},gradToRadian:function(a){return a*b},toDegree:function(b){var d=c.exec(b);if(d){b=parseFloat(d[2]);switch(d[3]||"deg"){case"grad":b=a.angle.gradToDegree(b);break;case"rad":b=a.angle.radianToDegree(b)}return b}return 0}}})})(jQuery,this,this.document);(function(a){var c="undefined";typeof a.matrix==c&&a.extend({matrix:{}});var b=a.matrix;a.extend(b,{V2:function(b,c){if(a.isArray(arguments[0]))this.elements=arguments[0].slice(0,2);else this.elements=[b,c];this.length=2},V3:function(b,d,c){if(a.isArray(arguments[0]))this.elements=arguments[0].slice(0,3);else this.elements=[b,d,c];this.length=3},M2x2:function(){var b=this;if(a.isArray(arguments[0]))b.elements=arguments[0].slice(0,4);else b.elements=Array.prototype.slice.call(arguments).slice(0,4);b.rows=2;b.cols=2},M3x3:function(){var b=this;if(a.isArray(arguments[0]))b.elements=arguments[0].slice(0,9);else b.elements=Array.prototype.slice.call(arguments).slice(0,9);b.rows=3;b.cols=3}});var e={e:function(b,a){var c=this.rows,d=this.cols;return b>c||a>c||b<1||a<1?0:this.elements[(b-1)*d+a-1]},decompose:function(){var e="px",d="deg",i=this,c=i.e(1,1),b=i.e(2,1),g=i.e(1,2),f=i.e(2,2),q=i.e(1,3),p=i.e(2,3);if(Math.abs(c*f-b*g)<.01)return{rotate:0+d,skewX:0+d,scaleX:1,scaleY:1,translateX:0+e,translateY:0+e};var o=q,n=p,j=Math.sqrt(c*c+b*b);c=c/j;b=b/j;var h=c*g+b*f;g-=c*h;f-=b*h;var k=Math.sqrt(g*g+f*f);g=g/k;f=f/k;h=h/k;if(c*f-b*g<0){c=-c;b=-b;j=-j}var l=a.angle.radianToDegree,m=l(Math.atan2(b,c));h=l(Math.atan(h));return{rotate:m+d,skewX:h+d,scaleX:j,scaleY:k,translateX:o+e,translateY:n+e}}};a.extend(b.M2x2.prototype,e,{toM3x3:function(){var a=this.elements;return new b.M3x3(a[0],a[1],0,a[2],a[3],0,0,0,1)},x:function(e){var f=typeof e.rows===c;if(!f&&e.rows==3)return this.toM3x3().x(e);var d=this.elements,a=e.elements;return f&&a.length==2?new b.V2(d[0]*a[0]+d[1]*a[1],d[2]*a[0]+d[3]*a[1]):a.length==d.length?new b.M2x2(d[0]*a[0]+d[1]*a[2],d[0]*a[1]+d[1]*a[3],d[2]*a[0]+d[3]*a[2],d[2]*a[1]+d[3]*a[3]):false},inverse:function(){var c=1/this.determinant(),a=this.elements;return new b.M2x2(c*a[3],c*-a[1],c*-a[2],c*a[0])},determinant:function(){var a=this.elements;return a[0]*a[3]-a[1]*a[2]}});a.extend(b.M3x3.prototype,e,{x:function(e){var f=typeof e.rows===c;if(!f&&e.rows<3)e=e.toM3x3();var d=this.elements,a=e.elements;return f&&a.length==3?new b.V3(d[0]*a[0]+d[1]*a[1]+d[2]*a[2],d[3]*a[0]+d[4]*a[1]+d[5]*a[2],d[6]*a[0]+d[7]*a[1]+d[8]*a[2]):a.length==d.length?new b.M3x3(d[0]*a[0]+d[1]*a[3]+d[2]*a[6],d[0]*a[1]+d[1]*a[4]+d[2]*a[7],d[0]*a[2]+d[1]*a[5]+d[2]*a[8],d[3]*a[0]+d[4]*a[3]+d[5]*a[6],d[3]*a[1]+d[4]*a[4]+d[5]*a[7],d[3]*a[2]+d[4]*a[5]+d[5]*a[8],d[6]*a[0]+d[7]*a[3]+d[8]*a[6],d[6]*a[1]+d[7]*a[4]+d[8]*a[7],d[6]*a[2]+d[7]*a[5]+d[8]*a[8]):false},inverse:function(){var c=1/this.determinant(),a=this.elements;return new b.M3x3(c*(a[8]*a[4]-a[7]*a[5]),c*-(a[8]*a[1]-a[7]*a[2]),c*(a[5]*a[1]-a[4]*a[2]),c*-(a[8]*a[3]-a[6]*a[5]),c*(a[8]*a[0]-a[6]*a[2]),c*-(a[5]*a[0]-a[3]*a[2]),c*(a[7]*a[3]-a[6]*a[4]),c*-(a[7]*a[0]-a[6]*a[1]),c*(a[4]*a[0]-a[3]*a[1]))},determinant:function(){var a=this.elements;return a[0]*(a[8]*a[4]-a[7]*a[5])-a[3]*(a[8]*a[1]-a[7]*a[2])+a[6]*(a[5]*a[1]-a[4]*a[2])}});var d={e:function(a){return this.elements[a-1]}};a.extend(b.V2.prototype,d);a.extend(b.V3.prototype,d)})(jQuery,this,this.document);(function(a){var b="undefined";typeof a.matrix==b&&a.extend({matrix:{}});a.extend(a.matrix,{calc:function(a,b,c){this.matrix=a;this.outerHeight=b;this.outerWidth=c}});a.matrix.calc.prototype={coord:function(f,g,c){c=typeof c!==b?c:0;var e=this.matrix,d;switch(e.rows){case 2:d=e.x(new a.matrix.V2(f,g));break;case 3:d=e.x(new a.matrix.V3(f,g,c))}return d},corners:function(c,d){var a=this,f=!(typeof c!==b||typeof d!==b),e;if(!a.c||!f){d=d||a.outerHeight;c=c||a.outerWidth;e={tl:a.coord(0,0),bl:a.coord(0,d),tr:a.coord(c,0),br:a.coord(c,d)}}else e=a.c;if(f)a.c=e;return e},sides:function(b){var a=b||this.corners();return{top:Math.min(a.tl.e(2),a.tr.e(2),a.br.e(2),a.bl.e(2)),bottom:Math.max(a.tl.e(2),a.tr.e(2),a.br.e(2),a.bl.e(2)),left:Math.min(a.tl.e(1),a.tr.e(1),a.br.e(1),a.bl.e(1)),right:Math.max(a.tl.e(1),a.tr.e(1),a.br.e(1),a.bl.e(1))}},offset:function(b){var a=this.sides(b);return{height:Math.abs(a.bottom-a.top),width:Math.abs(a.right-a.left)}},area:function(d){var a=d||this.corners(),c={x:a.tr.e(1)-a.tl.e(1)+a.br.e(1)-a.bl.e(1),y:a.tr.e(2)-a.tl.e(2)+a.br.e(2)-a.bl.e(2)},b={x:a.bl.e(1)-a.tl.e(1)+a.br.e(1)-a.tr.e(1),y:a.bl.e(2)-a.tl.e(2)+a.br.e(2)-a.tr.e(2)};return.25*Math.abs(c.e(1)*b.e(2)-c.e(2)*b.e(1))},nonAffinity:function(){var a=this.sides(),c=a.top-a.bottom,b=a.left-a.right;return parseFloat(parseFloat(Math.abs((Math.pow(c,2)+Math.pow(b,2))/(a.top*a.bottom+a.left*a.right))).toFixed(8))},originOffset:function(c,b){var d=this;c=c?c:new a.matrix.V2(d.outerWidth*.5,d.outerHeight*.5);b=b?b:new a.matrix.V2(0,0);var e=d.coord(c.e(1),c.e(2)),f=d.coord(b.e(1),b.e(2));return{top:f.e(2)-b.e(2)-(e.e(2)-c.e(2)),left:f.e(1)-b.e(1)-(e.e(1)-c.e(1))}}}})(jQuery,this,this.document);(function(c){typeof c.matrix=="undefined"&&c.extend({matrix:{}});var a=c.matrix,b=a.M2x2,d=a.M3x3;c.extend(a,{identity:function(b){b=b||2;for(var d=b*b,e=new Array(d),f=b+1,c=0;c<d;c++)e[c]=c%f===0?1:0;return new a["M"+b+"x"+b](e)},matrix:function(){var a=Array.prototype.slice.call(arguments);switch(arguments.length){case 4:return new b(a[0],a[2],a[1],a[3]);case 6:return new d(a[0],a[2],a[4],a[1],a[3],a[5],0,0,1)}},reflect:function(){return new b(-1,0,0,-1)},reflectX:function(){return new b(1,0,0,-1)},reflectXY:function(){return new b(0,1,1,0)},reflectY:function(){return new b(-1,0,0,1)},rotate:function(h){var a=c.angle.degreeToRadian(h),d=Math.cos(a),e=Math.sin(a),g=d,f=e,j=-e,i=d;return new b(g,j,f,i)},scale:function(a,c){a=a||a===0?a:1;c=c||c===0?c:a;return new b(a,0,0,c)},scaleX:function(b){return a.scale(b,1)},scaleY:function(b){return a.scale(1,b)},skew:function(d,a){d=d||0;a=a||0;var g=c.angle.degreeToRadian(d),f=c.angle.degreeToRadian(a),e=Math.tan(g),h=Math.tan(f);return new b(1,e,h,1)},skewX:function(b){return a.skew(b)},skewY:function(b){return a.skew(0,b)},translate:function(b,a){b=b||0;a=a||0;return new d(1,0,b,0,1,a,0,0,1)},translateX:function(b){return a.translate(b)},translateY:function(b){return a.translate(0,b)}})})(jQuery,this,this.document);(function(a,N){var s="timeSeparator",J="</a></td>",g="ui-state-active",I='<a href="#" class="ui-state-default ',H=', this, true ); return false;" ',G='ondblclick="TP_jQuery_',F=', this ); return false;" ',i="', ",E='onclick="TP_jQuery_',r="onMinuteShow",q="</td>",D="</tr></table>",f=12,h="</tr><tr>",C='<table class="ui-timepicker">',B='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">',p="amPmText",A="showLeadingZero",o="showPeriod",z="showOptions",t="iframe.ui-timepicker-cover",y="duration",x="showAnim",n="absolute",m="</span>",l="isRTL",w="getData.timepicker",v="setData.timepicker",k="input",j="focus",d="",e=false,c=null,b=true;a.extend(a.ui,{timepicker:{version:"0.0.8"}});var K="timepicker",u=(new Date).getTime();function M(){var f=this;f.debug=b;f._curInst=c;f._isInline=e;f._disabledInputs=[];f._timepickerShowing=e;f._inDialog=e;f._dialogClass="ui-timepicker-dialog";f._mainDivId="ui-timepicker-div";f._inlineClass="ui-timepicker-inline";f._currentClass="ui-timepicker-current";f._dayOverClass="ui-timepicker-days-cell-over";f.regional=[];f.regional[d]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"]};f._defaults={showOn:j,showAnim:"fadeIn",showOptions:{},appendText:d,onSelect:c,onClose:c,timeSeparator:":",showPeriod:e,showLeadingZero:b,showMinutesLeadingZero:b,altField:d,defaultTime:d,onHourShow:c,onMinuteShow:c};a.extend(f._defaults,f.regional[d]);f.tpDiv=a('<div id="'+f._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"></div>')}a.extend(M.prototype,{markerClassName:"hasTimepicker",log:function(){this.debug&&console.log.apply(d,arguments)},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(a){L(this._defaults,a||{});return this},_attachTimepicker:function(b,l){var d=this,e=c;for(var g in d._defaults){var f=b.getAttribute("time:"+g);if(f){e=e||{};try{e[g]=eval(f)}catch(m){e[g]=f}}}var h=b.nodeName.toLowerCase(),j=h=="div"||h=="span";if(!b.id){d.uuid+=1;b.id="tp"+d.uuid}var i=d._newInst(a(b),j);i.settings=a.extend({},l||{},e||{});if(h==k)d._connectTimepicker(b,i);else j&&d._inlineTimepicker(b,i)},_newInst:function(c,b){var d=c[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:d,input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,tpDiv:!b?this.tpDiv:a('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"></div>')}},_connectTimepicker:function(e,b){var c=this,d=a(e);b.append=a([]);b.trigger=a([]);if(d.hasClass(c.markerClassName))return;c._attachments(d,b);d.addClass(c.markerClassName).keydown(c._doKeyDown).keyup(c._doKeyUp).bind(v,function(d,c,a){b.settings[c]=a}).bind(w,function(c,a){return this._get(b,a)});a.data(e,K,b)},_doKeyDown:function(c){var f=a.timepicker._getInst(c.target),d=b;f._keyEvent=b;if(a.timepicker._timepickerShowing)switch(c.keyCode){case 9:a.timepicker._hideTimepicker();d=e;break;case 27:a.timepicker._hideTimepicker();break;default:d=e}else if(c.keyCode==36&&c.ctrlKey)a.timepicker._showTimepicker(this);else d=e;if(d){c.preventDefault();c.stopPropagation()}},_doKeyUp:function(c){var b=a.timepicker._getInst(c.target);a.timepicker._setTimeFromField(b);a.timepicker._updateTimepicker(b)},_attachments:function(f,b){var c=this,k=c._get(b,"appendText"),n=c._get(b,l);b.append&&b.append.remove();if(k){b.append=a('<span class="'+c._appendClass+'">'+k+m);f[n?"before":"after"](b.append)}f.unbind(j,c._showTimepicker);b.trigger&&b.trigger.remove();var h=c._get(b,"showOn");(h==j||h=="both")&&f.focus(c._showTimepicker);if(h=="button"||h=="both"){var g=c._get(b,"buttonText"),i=c._get(b,"buttonImage");b.trigger=a(c._get(b,"buttonImageOnly")?a("<img/>").addClass(c._triggerClass).attr({src:i,alt:g,title:g}):a('<button type="button"></button>').addClass(c._triggerClass).html(i==d?g:a("<img/>").attr({src:i,alt:g,title:g})));f[n?"before":"after"](b.trigger);b.trigger.click(function(){if(a.timepicker._timepickerShowing&&a.timepicker._lastInput==f[0])a.timepicker._hideTimepicker();else a.timepicker._showTimepicker(f[0]);return e})}},_inlineTimepicker:function(e,b){var c=this,d=a(e);if(d.hasClass(c.markerClassName))return;d.addClass(c.markerClassName).append(b.tpDiv).bind(v,function(d,c,a){b.settings[c]=a}).bind(w,function(c,a){return this._get(b,a)});a.data(e,K,b);c._setTimeFromField(b);c._updateTimepicker(b);b.tpDiv.show()},_showTimepicker:function(g){g=g.target||g;if(g.nodeName.toLowerCase()!=k)g=a(k,g.parentNode)[0];if(a.timepicker._isDisabledTimepicker(g)||a.timepicker._lastInput==g)return;a.timepicker._hideTimepicker();var f=a.timepicker._getInst(g);a.timepicker._curInst&&a.timepicker._curInst!=f&&a.timepicker._curInst.tpDiv.stop(b,b);var o=a.timepicker._get(f,"beforeShow");L(f.settings,o?o.apply(g,[g,f]):{});f.lastVal=c;a.timepicker._lastInput=g;a.timepicker._setTimeFromField(f);if(a.timepicker._inDialog)g.value=d;if(!a.timepicker._pos){a.timepicker._pos=a.timepicker._findPos(g);a.timepicker._pos[1]+=g.offsetHeight}var i=e;a(g).parents().each(function(){i|=a(this).css("position")=="fixed";return!i});if(i&&a.browser.opera){a.timepicker._pos[0]-=document.documentElement.scrollLeft;a.timepicker._pos[1]-=document.documentElement.scrollTop}var j={left:a.timepicker._pos[0],top:a.timepicker._pos[1]};a.timepicker._pos=c;f.tpDiv.css({position:n,display:"block",top:"-1000px"});a.timepicker._updateTimepicker(f);f._hoursClicked=e;f._minutesClicked=e;j=a.timepicker._checkOffset(f,j,i);f.tpDiv.css({position:a.timepicker._inDialog&&a.blockUI?"static":i?"fixed":n,display:"none",left:j.left+"px",top:j.top+"px"});if(!f.inline){var h=a.timepicker._get(f,x),m=a.timepicker._get(f,y),l=function(){a.timepicker._timepickerShowing=b;var c=a.timepicker._getBorders(f.tpDiv);f.tpDiv.find(t).css({left:-c[0],top:-c[1],width:f.tpDiv.outerWidth(),height:f.tpDiv.outerHeight()})};f.tpDiv.zIndex(a(g).zIndex()+1);if(a.effects&&a.effects[h])f.tpDiv.show(h,a.timepicker._get(f,z),m,l);else f.tpDiv[h||"show"](h?m:c,l);(!h||!m)&&l();f.input.is(":visible")&&!f.input.is(":disabled")&&f.input.focus();a.timepicker._curInst=f}},_updateTimepicker:function(c){var h="mouseover",g="ui-timepicker-next-hover",f="ui-timepicker-next",e="ui-timepicker-prev-hover",d="ui-timepicker-prev",b="ui-state-hover",j=this,i=a.timepicker._getBorders(c.tpDiv);c.tpDiv.empty().append(this._generateHTML(c)).find(t).css({left:-i[0],top:-i[1],width:c.tpDiv.outerWidth(),height:c.tpDiv.outerHeight()}).end().find(".ui-timepicker td a").bind("mouseout",function(){var c=this;a(c).removeClass(b);c.className.indexOf(d)!=-1&&a(c).removeClass(e);c.className.indexOf(f)!=-1&&a(c).removeClass(g)}).bind(h,function(){var h=this;if(!j._isDisabledTimepicker(c.inline?c.tpDiv.parent()[0]:c.input[0])){a(h).parents(".ui-timepicker-calendar").find("a").removeClass(b);a(h).addClass(b);h.className.indexOf(d)!=-1&&a(h).addClass(e);h.className.indexOf(f)!=-1&&a(h).addClass(g)}}).end().find("."+this._dayOverClass+" a").trigger(h).end()},_generateHTML:function(g){var e=this,a,l,c=d,j=e._get(g,o)==b,i=e._get(g,A)==b,k=e._get(g,p);c='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr><td class="ui-timepicker-hours">'+B+e._get(g,"hourText")+"</div>"+C;c+='<tr><th rowspan="2" class="periods">'+k[0]+"</th>";for(a=0;a<=5;a++)c+=e._generateHTMLHourCell(g,a,j,i);c+=h;for(a=6;a<=11;a++)c+=e._generateHTMLHourCell(g,a,j,i);c+='</tr><tr><th rowspan="2" class="periods">'+k[1]+"</th>";for(a=f;a<=17;a++)c+=e._generateHTMLHourCell(g,a,j,i);c+=h;for(a=18;a<=23;a++)c+=e._generateHTMLHourCell(g,a,j,i);c+=D+q+'<td class="ui-timepicker-minutes">';c+=e._generateHTMLMinutes(g);c+="</td></tr></table>";return c},_updateMinuteDisplay:function(a){var b=this._generateHTMLMinutes(a);a.tpDiv.find("td.ui-timepicker-minutes").html(b)},_generateHTMLMinutes:function(f){var i=this,a,k=i._get(f,"showMinutesLeadingZero")==b,j=i._get(f,r);if(j)if(j.apply(f.input?f.input[0]:c,[f.hours,f.minutes])==e)for(a=0;a<60;a+=5)if(j.apply(f.input?f.input[0]:c,[f.hours,a])){f.minutes=a;break}var g=d+B+i._get(f,"minuteText")+"</div>"+C+"<tr>";for(a=0;a<15;a+=5)g+=i._generateHTMLMinuteCell(f,a,a<10&&k?"0"+a.toString():a.toString());g+=h;for(a=15;a<30;a+=5)g+=i._generateHTMLMinuteCell(f,a,a.toString());g+=h;for(a=30;a<45;a+=5)g+=i._generateHTMLMinuteCell(f,a,a.toString());g+=h;for(a=45;a<60;a+=5)g+=i._generateHTMLMinuteCell(f,a,a.toString());g+=D;return g},_generateHTMLHourCell:function(h,e,n,p){var j=".timepicker.selectHours('#",a=e;if(e>f&&n)a=e-f;if(a==0&&n)a=f;if(a<10&&p)a="0"+a;var k=d,o=b,l=this._get(h,"onHourShow");if(l)o=l.apply(h.input?h.input[0]:c,[e]);if(o)k="<td "+E+u+j+h.id+i+e.toString()+F+G+u+j+h.id+i+e.toString()+H+">"+I+(e==h.hours?g:d)+'">'+a.toString()+J;else k='<td><span class="ui-state-default ui-state-disabled'+(e==h.hours?g:d)+'">'+a.toString()+m+q;return k},_generateHTMLMinuteCell:function(a,f,k){var e=".timepicker.selectMinutes('#",h=d,l=b,j=this._get(a,r);if(j)l=j.apply(a.input?a.input[0]:c,[a.hours,f]);if(l)h="<td "+E+u+e+a.id+i+f.toString()+F+G+u+e+a.id+i+f.toString()+H+">"+I+(f==a.minutes?g:d)+'" >'+k+J;else h='<td><span class="ui-state-default ui-state-disabled" >'+k+m+q;return h},_isDisabledTimepicker:function(c){if(!c)return e;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]==c)return b;return e},_checkOffset:function(c,b,i){var d=c.tpDiv.outerWidth(),f=c.tpDiv.outerHeight(),j=c.input?c.input.outerWidth():0,g=c.input?c.input.outerHeight():0,e=document.documentElement.clientWidth+a(document).scrollLeft(),h=document.documentElement.clientHeight+a(document).scrollTop();b.left-=this._get(c,l)?d-j:0;b.left-=i&&b.left==c.input.offset().left?a(document).scrollLeft():0;b.top-=i&&b.top==c.input.offset().top+g?a(document).scrollTop():0;b.left-=Math.min(b.left,b.left+d>e&&e>d?Math.abs(b.left+d-e):0);b.top-=Math.min(b.top,b.top+f>h&&h>f?Math.abs(f+g):0);return b},_findPos:function(b){var e=this._getInst(b),d=this._get(e,l);while(b&&(b.type=="hidden"||b.nodeType!=1))b=b[d?"previousSibling":"nextSibling"];var c=a(b).offset();return[c.left,c.top]},_getBorders:function(b){var a=function(a){return({thin:1,medium:2,thick:3})[a]||a};return[parseFloat(a(b.css("border-left-width"))),parseFloat(a(b.css("border-top-width")))]},_checkExternalClick:function(c){if(!a.timepicker._curInst)return;var b=a(c.target);b[0].id!=a.timepicker._mainDivId&&b.parents("#"+a.timepicker._mainDivId).length==0&&!b.hasClass(a.timepicker.markerClassName)&&!b.hasClass(a.timepicker._triggerClass)&&a.timepicker._timepickerShowing&&!(a.timepicker._inDialog&&a.blockUI)&&a.timepicker._hideTimepicker()},_hideTimepicker:function(k){var f=this,b=f._curInst;if(!b||k&&b!=a.data(k,K))return;if(f._timepickerShowing){var g=f._get(b,x),i=f._get(b,y),h=function(){a.timepicker._tidyDialog(b);this._curInst=c};if(a.effects&&a.effects[g])b.tpDiv.hide(g,a.timepicker._get(b,z),i,h);else b.tpDiv[g=="slideDown"?"slideUp":g=="fadeIn"?"fadeOut":"hide"](g?i:c,h);!g&&h();var j=f._get(b,"onClose");j&&j.apply(b.input?b.input[0]:c,[b.input?b.input.val():d,b]);f._timepickerShowing=e;f._lastInput=c;if(f._inDialog){f._dialogInput.css({position:n,left:"0",top:"-100px"});if(a.blockUI){a.unblockUI();a("body").append(f.tpDiv)}}f._inDialog=e}},_tidyDialog:function(a){a.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(b){try{return a.data(b,K)}catch(c){throw"Missing instance data for this timepicker";}},_get:function(b,a){return b.settings[a]!==N?b.settings[a]:this._defaults[a]},_setTimeFromField:function(b){if(b.input.val()==b.lastVal)return;var f=this._get(b,"defaultTime"),c=this._getCurrentTimeRounded(b);if(f!=d)c=f;if(b.inline==e&&b.input.val()!=d)c=b.input.val();var h=b.lastVal=c,g=this.parseTime(b,h);b.hours=g.hours;b.minutes=g.minutes;a.timepicker._updateTimepicker(b)},_setTimeTimepicker:function(c,d){var a=this,b=a._getInst(c);if(b){a._setTime(b,d);a._updateTimepicker(b);a._updateAlternate(b)}},_setTime:function(a,b,e){var f=!b,d=a.hours,c=a.minutes,b=this.parseTime(a,b);a.hours=b.hours;a.minutes=b.minutes;(d!=a.hours||c!=a.minuts)&&!e&&a.input.trigger("change");this._updateTimepicker(a);this._updateSelectedValue(a)},_getCurrentTimeRounded:function(d){var b=new Date,c=this._get(d,s),a=b.getMinutes();a=Math.round(a/5)*5;return b.getHours().toString()+c+a.toString()},parseTime:function(d,c){var a={};a.hours=-1;a.minutes=-1;var j=this._get(d,s),i=this._get(d,p),e=c.indexOf(j);if(e==-1)return a;a.hours=parseInt(c.substr(0,e),10);a.minutes=parseInt(c.substr(e+1),10);var h=this._get(d,o)==b,g=c.toUpperCase();if(a.hours<f&&h&&g.indexOf(i[1].toUpperCase())!=-1)a.hours+=f;if(a.hours==f&&h&&g.indexOf(i[0].toUpperCase())!=-1)a.hours=0;return a},selectHours:function(k,i,e,f){var d=this,j=a(k),c=d._getInst(j[0]);a(e).parents(".ui-timepicker-hours:first").find("a").removeClass(g);a(e).children("a").addClass(g);c.hours=i;d._updateSelectedValue(c);c._hoursClicked=b;if(c._minutesClicked||f){a.timepicker._hideTimepicker();return}var h=d._get(c,r);h&&d._updateMinuteDisplay(c)},selectMinutes:function(i,f,d,e){var h=a(i),c=this._getInst(h[0]);a(d).parents(".ui-timepicker-minutes:first").find("a").removeClass(g);a(d).children("a").addClass(g);c.minutes=f;this._updateSelectedValue(c);c._minutesClicked=b;(c._hoursClicked||e)&&a.timepicker._hideTimepicker()},_updateSelectedValue:function(a){var g=this;if(a.hours<0||a.hours>23)a.hours=f;if(a.minutes<0||a.minutes>59)a.minutes=0;var i=d,t=g._get(a,o)==b,q=g._get(a,A)==b,m=g._get(a,p),r=a.hours?a.hours:0,l=a.minutes?a.minutes:0,e=r;if(!e)displayHoyrs=0;if(t){if(a.hours==0)e=f;if(a.hours<f)i=m[0];else{i=m[1];if(e>f)e-=f}}var j=e.toString();if(q&&e<10)j="0"+j;var k=l.toString();if(l<10)k="0"+k;var h=j+g._get(a,s)+k;if(i.length>0)h+=" "+i;if(a.input){a.input.val(h);a.input.trigger("change")}var n=g._get(a,"onSelect");n&&n.apply(a.input?a.input[0]:c,[h,a]);g._updateAlternate(a,h);return h},_updateAlternate:function(d,c){var b=this._get(d,"altField");b&&a(b).each(function(){a(this).val(c)})}});a.fn.timepicker=function(c){var e="Datepicker",d="string";if(!a.timepicker.initialized){a(document).mousedown(a.timepicker._checkExternalClick).find("body").append(a.timepicker.tpDiv);a.timepicker.initialized=b}var f=Array.prototype.slice.call(arguments,1);return typeof c==d&&(c=="isDisabled"||c=="getTime"||c=="widget")?a.timepicker["_"+c+e].apply(a.timepicker,[this[0]].concat(f)):c=="option"&&arguments.length==2&&typeof arguments[1]==d?a.timepicker["_"+c+e].apply(a.timepicker,[this[0]].concat(f)):this.each(function(){typeof c==d?a.timepicker["_"+c+"Timepicker"].apply(a.timepicker,[this].concat(f)):a.timepicker._attachTimepicker(this,c)})};function L(e,b){a.extend(e,b);for(var d in b)if(b[d]==c||b[d]==N)e[d]=b[d];return e}a.timepicker=new M;a.timepicker.initialized=e;a.timepicker.uuid=(new Date).getTime();a.timepicker.version="1.8.6";window["TP_jQuery_"+u]=a})(jQuery);(function(a){var e="string",g="function",h="pending",f="dependency-mismatch",i="invalid-form",c=false,b=true,d="validator";a.extend(a.fn,{validate:function(h){var g="novalidate",f=this;if(!f.length){h&&h.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var e=a.data(f[0],d);if(e)return e;f.attr(g,g);e=new a.validator(h,f[0]);a.data(f[0],d,e);if(e.settings.onsubmit){var i=f.find("input, button");i.filter(".cancel").click(function(){e.cancelSubmit=b});e.settings.submitHandler&&i.filter(":submit").click(function(){e.submitButton=this});f.submit(function(f){e.settings.debug&&f.preventDefault();function d(){if(e.settings.submitHandler){if(e.submitButton)var d=a("<input type='hidden'/>").attr("name",e.submitButton.name).val(e.submitButton.value).appendTo(e.currentForm);e.settings.submitHandler.call(e,e.currentForm);e.submitButton&&d.remove();return c}return b}if(e.cancelSubmit){e.cancelSubmit=c;return d()}if(e.form()){if(e.pendingRequest){e.formSubmitted=b;return c}return d()}else{e.focusInvalid();return c}})}return e},valid:function(){var c=this;if(a(c[0]).is("form"))return c.validate().form();else{var d=b,e=a(c[0].form).validate();c.each(function(){d&=e.element(this)});return d}},removeAttrs:function(d){var c={},b=this;a.each(d.split(/\s/),function(d,a){c[a]=b.attr(a);b.removeAttr(a)});return c},rules:function(j,f){var b=this[0];if(j){var g=a.data(b.form,d).settings,h=g.rules,e=a.validator.staticRules(b);switch(j){case"add":a.extend(e,a.validator.normalizeRule(f));h[b.name]=e;if(f.messages)g.messages[b.name]=a.extend(g.messages[b.name],f.messages);break;case"remove":if(!f){delete h[b.name];return e}var i={};a.each(f.split(/\s/),function(b,a){i[a]=e[a];delete e[a]});return i}}var c=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(b),a.validator.classRules(b),a.validator.attributeRules(b),a.validator.staticRules(b)),b);if(c.required){var k=c.required;delete c.required;c=a.extend({required:k},c)}return c}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}});a.validator=function(c,d){this.settings=a.extend(b,{},a.validator.defaults,c);this.currentForm=d;this.init()};a.validator.format=function(c,b){if(arguments.length==1)return function(){var b=a.makeArray(arguments);b.unshift(c);return a.validator.format.apply(this,b)};if(arguments.length>2&&b.constructor!=Array)b=a.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];a.each(b,function(a,b){c=c.replace(new RegExp("\\{"+a+"\\}","g"),b)});return c};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:b,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:b,ignore:":hidden",ignoreTitle:c,onfocusin:function(b){var a=this;a.lastActive=b;if(a.settings.focusCleanup&&!a.blockFocusCleanup){a.settings.unhighlight&&a.settings.unhighlight.call(a,b,a.settings.errorClass,a.settings.validClass);a.addWrapper(a.errorsFor(b)).hide()}},onfocusout:function(a){var b=this;!b.checkable(a)&&(a.name in b.submitted||!b.optional(a))&&b.element(a)},onkeyup:function(a){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){var b=this;if(a.name in b.submitted)b.element(a);else a.parentNode.name in b.submitted&&b.element(a.parentNode)},highlight:function(b,c,d){if(b.type==="radio")this.findByName(b.name).addClass(c).removeClass(d);else a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){if(b.type==="radio")this.findByName(b.name).removeClass(c).addClass(d);else a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:c,prototype:{init:function(){var b=this;b.labelContainer=a(b.settings.errorLabelContainer);b.errorContext=b.labelContainer.length&&b.labelContainer||a(b.currentForm);b.containers=a(b.settings.errorContainer).add(b.settings.errorLabelContainer);b.submitted={};b.valueCache={};b.pendingRequest=0;b.pending={};b.invalid={};b.reset();var f=b.groups={};a.each(b.settings.groups,function(c,b){a.each(b.split(/\s/),function(b,a){f[a]=c})});var e=b.settings.rules;a.each(e,function(c,b){e[c]=a.validator.normalizeRule(b)});function c(e){var b=a.data(this[0].form,d),c="on"+e.type.replace(/^validate/,"");b.settings[c]&&b.settings[c].call(b,this[0],e)}a(b.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);b.settings.invalidHandler&&a(b.currentForm).bind("invalid-form.validate",b.settings.invalidHandler)},form:function(){var b=this;b.checkForm();a.extend(b.submitted,b.errorMap);b.invalid=a.extend({},b.errorMap);!b.valid()&&a(b.currentForm).triggerHandler(i,[b]);b.showErrors();return b.valid()},checkForm:function(){var a=this;a.prepareForm();for(var b=0,c=a.currentElements=a.elements();c[b];b++)a.check(c[b]);return a.valid()},element:function(d){var c=this;d=c.validationTargetFor(c.clean(d));c.lastElement=d;c.prepareElement(d);c.currentElements=a(d);var e=c.check(d);if(e)delete c.invalid[d.name];else c.invalid[d.name]=b;if(!c.numberOfInvalids())c.toHide=c.toHide.add(c.containers);c.showErrors();return e},showErrors:function(c){var b=this;if(c){a.extend(b.errorMap,c);b.errorList=[];for(var d in c)b.errorList.push({message:c[d],element:b.findByName(d)[0]});b.successList=a.grep(b.successList,function(a){return!(a.name in c)})}b.settings.showErrors?b.settings.showErrors.call(b,b.errorMap,b.errorList):b.defaultShowErrors()},resetForm:function(){var b=this;a.fn.resetForm&&a(b.currentForm).resetForm();b.submitted={};b.lastElement=null;b.prepareForm();b.hideErrors();b.elements().removeClass(b.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(b){var a=0;for(var c in b)a++;return a},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){var b=this;if(b.settings.focusInvalid)try{a(b.findLastActive()||b.errorList.length&&b.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(c){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name==b.name}).length==1&&b},elements:function(){var e=this,d={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){var f=this;!f.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",f);if(f.name in d||!e.objectLength(a(f).rules()))return c;d[f.name]=b;return b})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){var b=this;b.successList=[];b.errorList=[];b.errorMap={};b.toShow=a([]);b.toHide=a([]);b.currentElements=a([])},prepareForm:function(){var a=this;a.reset();a.toHide=a.errors().add(a.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(e){var d=this;e=d.validationTargetFor(d.clean(e));var k=a(e).rules(),g=c;for(var i in k){var l={method:i,parameters:k[i]};try{var j=a.validator.methods[i].call(d,e.value.replace(/\r/g,""),e,l.parameters);if(j==f){g=b;continue}g=c;if(j==h){d.toHide=d.toHide.not(d.errorsFor(e));return}if(!j){d.formatAndAdd(e,l);return c}}catch(m){d.settings.debug&&window.console&&console.log("exception occured when checking element "+e.id+", check the '"+l.method+"' method",m);throw m;}}if(g)return;d.objectLength(k)&&d.successList.push(e);return b},customMetaMessage:function(c,d){if(!a.metadata)return;var b=this.settings.meta?a(c).metadata()[this.settings.meta]:a(c).metadata();return b&&b.messages&&b.messages[d]},customMessage:function(c,b){var a=this.settings.messages[c];return a&&(a.constructor==String?a:a[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a];return undefined},defaultMessage:function(b,d){var c=this;return c.findDefined(c.customMessage(b.name,d),c.customMetaMessage(b,d),!c.settings.ignoreTitle&&b.title||undefined,a.validator.messages[d],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,d){var c=this,a=c.defaultMessage(b,d.method),e=/\$?\{(\d+)\}/g;if(typeof a==g)a=a.call(c,d.parameters,b);else if(e.test(a))a=jQuery.format(a.replace(e,"{$1}"),d.parameters);c.errorList.push({message:a,element:b});c.errorMap[b.name]=a;c.submitted[b.name]=a},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){var a=this;for(var b=0;a.errorList[b];b++){var c=a.errorList[b];a.settings.highlight&&a.settings.highlight.call(a,c.element,a.settings.errorClass,a.settings.validClass);a.showLabel(c.element,c.message)}if(a.errorList.length)a.toShow=a.toShow.add(a.containers);if(a.settings.success)for(var b=0;a.successList[b];b++)a.showLabel(a.successList[b]);if(a.settings.unhighlight)for(var b=0,d=a.validElements();d[b];b++)a.settings.unhighlight.call(a,d[b],a.settings.errorClass,a.settings.validClass);a.toHide=a.toHide.not(a.toShow);a.hideErrors();a.addWrapper(a.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(f,g){var c=this,d=c.errorsFor(f);if(d.length){d.removeClass(c.settings.validClass).addClass(c.settings.errorClass);d.attr("generated")&&d.html(g)}else{d=a("<"+c.settings.errorElement+"/>").attr({"for":c.idOrName(f),generated:b}).addClass(c.settings.errorClass).html(g||"");if(c.settings.wrapper)d=d.hide().show().wrap("<"+c.settings.wrapper+"/>").parent();if(!c.labelContainer.append(d).length)c.settings.errorPlacement?c.settings.errorPlacement(d,a(f)):d.insertAfter(f)}if(!g&&c.settings.success){d.text("");typeof c.settings.success==e?d.addClass(c.settings.success):c.settings.success(d)}c.toShow=c.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(d,a){return a.form==c&&a.name==b&&a||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return c.length},depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):b},dependTypes:{"boolean":function(a){return a},string:function(c,b){return!!a(c,b.form).length},"function":function(b,a){return b(a)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&f},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=b}},stopRequest:function(e,d){var b=this;b.pendingRequest--;if(b.pendingRequest<0)b.pendingRequest=0;delete b.pending[e.name];if(d&&b.pendingRequest==0&&b.formSubmitted&&b.form()){a(b.currentForm).submit();b.formSubmitted=c}else if(!d&&b.pendingRequest==0&&b.formSubmitted){a(b.currentForm).triggerHandler(i,[b]);b.formSubmitted=c}},previousValue:function(d){var c="previousValue";return a.data(d,c)||a.data(d,c,{old:null,valid:b,message:this.defaultMessage(d,"remote")})}},classRuleSettings:{required:{required:b},email:{email:b},url:{url:b},date:{date:b},dateISO:{dateISO:b},dateDE:{dateDE:b},number:{number:b},numberDE:{numberDE:b},digits:{digits:b},creditcard:{creditcard:b}},addClassRules:function(b,c){b.constructor==String?(this.classRuleSettings[b]=c):a.extend(this.classRuleSettings,b)},classRules:function(d){var c={},b=a(d).attr("class");b&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});return c},attributeRules:function(h){var d={},f=a(h);for(var c in a.validator.methods){var e;if(c==="required"&&typeof a.fn.prop===g)e=f.prop(c);else e=f.attr(c);if(e)d[c]=e;else if(f[0].getAttribute("type")===c)d[c]=b}if(d.maxlength&&/-1|2147483647|524288/.test(d.maxlength))delete d.maxlength;return d},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,d).settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(c){var e={},b=a.data(c.form,d);if(b.settings.rules)e=a.validator.normalizeRule(b.settings.rules[c.name])||{};return e},normalizeRules:function(d,f){a.each(d,function(j,h){if(h===c){delete d[j];return}if(h.param||h.depends){var i=b;switch(typeof h.depends){case e:i=!!a(h.depends,f.form).length;break;case g:i=h.depends.call(f,f)}if(i)d[j]=h.param!==undefined?h.param:b;else delete d[j]}});a.each(d,function(c,b){d[c]=a.isFunction(b)?b(f):b});a.each(["minlength","maxlength","min","max"],function(){if(d[this])d[this]=Number(d[this])});a.each(["rangelength","range"],function(){var a=this;if(d[a])d[a]=[Number(d[a][0]),Number(d[a][1])]});if(a.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}if(d.messages)delete d.messages;return d},normalizeRule:function(c){if(typeof c==e){var d={};a.each(c.split(/\s/),function(){d[this]=b});c=d}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!=undefined?c:a.validator.messages[b];d.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(c,b,e){if(!this.depend(e,b))return f;switch(b.nodeName.toLowerCase()){case"select":var d=a(b).val();return d&&d.length>0;case"input":if(this.checkable(b))return this.getLength(c,b)>0;default:return a.trim(c).length>0}},remote:function(k,c,j){var g=this;if(g.optional(c))return f;var i=g.previousValue(c);if(!g.settings.messages[c.name])g.settings.messages[c.name]={};i.originalMessage=g.settings.messages[c.name].remote;g.settings.messages[c.name].remote=i.message;j=typeof j==e&&{url:j}||j;if(g.pending[c.name])return h;if(i.old===k)return i.valid;i.old=k;var d=g;g.startRequest(c);var l={};l[c.name]=k;a.ajax(a.extend(b,{url:j,mode:"abort",port:"validate"+c.name,dataType:"json",data:l,success:function(g){d.settings.messages[c.name].remote=i.originalMessage;var f=g===b;if(f){var j=d.formSubmitted;d.prepareElement(c);d.formSubmitted=j;d.successList.push(c);d.showErrors()}else{var h={},e=g||d.defaultMessage(c,"remote");h[c.name]=i.message=a.isFunction(e)?e(k):e;d.showErrors(h)}i.valid=f;d.stopRequest(c,f)}},j));return h},minlength:function(d,b,c){return this.optional(b)||this.getLength(a.trim(d),b)>=c},maxlength:function(d,b,c){return this.optional(b)||this.getLength(a.trim(d),b)<=c},rangelength:function(e,b,d){var c=this.getLength(a.trim(e),b);return this.optional(b)||c>=d[0]&&c<=d[1]},min:function(c,a,b){return this.optional(a)||c>=b},max:function(c,a,b){return this.optional(a)||c<=b},range:function(b,c,a){return this.optional(c)||b>=a[0]&&b<=a[1]},email:function(b,a){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},url:function(b,a){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(b,a){return this.optional(a)||!/Invalid|NaN/.test(new Date(b))},dateISO:function(b,a){return this.optional(a)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(b)},number:function(b,a){return this.optional(a)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(b)},digits:function(b,a){return this.optional(a)||/^\d+$/.test(b)},creditcard:function(a,h){if(this.optional(h))return f;if(/[^0-9 -]+/.test(a))return c;var g=0,b=0,d=c;a=a.replace(/\D/g,"");for(var e=a.length-1;e>=0;e--){var i=a.charAt(e),b=parseInt(i,10);if(d)if((b*=2)>9)b-=9;g+=b;d=!d}return g%10==0},accept:function(c,b,a){a=typeof a==e?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+a+")$","i"))},equalTo:function(e,b,d){var c=a(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return e==c.val()}}});a.format=a.validator.format})(jQuery);(function(b){var a={};if(b.ajaxPrefilter)b.ajaxPrefilter(function(c,e,d){var b=c.port;if(c.mode=="abort"){a[b]&&a[b].abort();a[b]=d}});else{var c=b.ajax;b.ajax=function(d){var f=("mode"in d?d:b.ajaxSettings).mode,e=("port"in d?d:b.ajaxSettings).port;if(f=="abort"){a[e]&&a[e].abort();return a[e]=c.apply(this,arguments)}return c.apply(this,arguments)}}})(jQuery);(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(c,b){a.event.special[b]={setup:function(){this.addEventListener(c,d,true)},teardown:function(){this.removeEventListener(c,d,true)},handler:function(c){arguments[0]=a.event.fix(c);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function d(c){c=a.event.fix(c);c.type=b;return a.event.handle.call(this,c)}});a.extend(a.fn,{validateDelegate:function(b,d,c){return this.bind(d,function(e){var d=a(e.target);if(d.is(b))return c.apply(d,arguments)})}})})(jQuery);(function(a){var j="option:selected",e="string",g="function",h="pending",f="dependency-mismatch",i="invalid-form",c=false,b=true,d="validator";a.extend(a.fn,{validate:function(h){var g="input, button",f=this;if(!f.length){h&&h.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var e=a.data(f[0],d);if(e)return e;e=new a.validator(h,f[0]);a.data(f[0],d,e);if(e.settings.onsubmit){f.find(g).filter(".cancel").click(function(){e.cancelSubmit=b});e.settings.submitHandler&&f.find(g).filter(":submit").click(function(){e.submitButton=this});f.submit(function(f){e.settings.debug&&f.preventDefault();function d(){if(e.settings.submitHandler){if(e.submitButton)var d=a("<input type='hidden'/>").attr("name",e.submitButton.name).val(e.submitButton.value).appendTo(e.currentForm);e.settings.submitHandler.call(e,e.currentForm);e.submitButton&&d.remove();return c}return b}if(e.cancelSubmit){e.cancelSubmit=c;return d()}if(e.form()){if(e.pendingRequest){e.formSubmitted=b;return c}return d()}else{e.focusInvalid();return c}})}return e},valid:function(){var c=this;if(a(c[0]).is("form"))return c.validate().form();else{var d=b,e=a(c[0].form).validate();c.each(function(){d&=e.element(this)});return d}},removeAttrs:function(d){var c={},b=this;a.each(d.split(/\s/),function(d,a){c[a]=b.attr(a);b.removeAttr(a)});return c},rules:function(j,f){var b=this[0];if(j){var g=a.data(b.form,d).settings,h=g.rules,e=a.validator.staticRules(b);switch(j){case"add":a.extend(e,a.validator.normalizeRule(f));h[b.name]=e;if(f.messages)g.messages[b.name]=a.extend(g.messages[b.name],f.messages);break;case"remove":if(!f){delete h[b.name];return e}var i={};a.each(f.split(/\s/),function(b,a){i[a]=e[a];delete e[a]});return i}}var c=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(b),a.validator.classRules(b),a.validator.attributeRules(b),a.validator.staticRules(b)),b);if(c.required){var k=c.required;delete c.required;c=a.extend({required:k},c)}return c}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(b.value)},filled:function(b){return!!a.trim(b.value)},unchecked:function(a){return!a.checked}});a.validator=function(b,c){this.settings=a.extend({},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(c,b){if(arguments.length==1)return function(){var b=a.makeArray(arguments);b.unshift(c);return a.validator.format.apply(this,b)};if(arguments.length>2&&b.constructor!=Array)b=a.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];a.each(b,function(a,b){c=c.replace(new RegExp("\\{"+a+"\\}","g"),b)});return c};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:b,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:b,ignore:[],ignoreTitle:c,onfocusin:function(b){var a=this;a.lastActive=b;if(a.settings.focusCleanup&&!a.blockFocusCleanup){a.settings.unhighlight&&a.settings.unhighlight.call(a,b,a.settings.errorClass,a.settings.validClass);a.errorsFor(b).hide()}},onfocusout:function(a){var b=this;!b.checkable(a)&&(a.name in b.submitted||!b.optional(a))&&b.element(a)},onkeyup:function(a){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted&&this.element(a)},highlight:function(d,b,c){a(d).addClass(b).removeClass(c)},unhighlight:function(d,b,c){a(d).removeClass(b).addClass(c)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein gltiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:c,prototype:{init:function(){var b=this;b.labelContainer=a(b.settings.errorLabelContainer);b.errorContext=b.labelContainer.length&&b.labelContainer||a(b.currentForm);b.containers=a(b.settings.errorContainer).add(b.settings.errorLabelContainer);b.submitted={};b.valueCache={};b.pendingRequest=0;b.pending={};b.invalid={};b.reset();var f=b.groups={};a.each(b.settings.groups,function(c,b){a.each(b.split(/\s/),function(b,a){f[a]=c})});var e=b.settings.rules;a.each(e,function(c,b){e[c]=a.validator.normalizeRule(b)});function c(c){var b=a.data(this[0].form,d);b.settings["on"+c.type]&&b.settings["on"+c.type].call(b,this[0])}a(b.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",c).delegate("click",":radio, :checkbox",c);b.settings.invalidHandler&&a(b.currentForm).bind("invalid-form.validate",b.settings.invalidHandler)},form:function(){var b=this;b.checkForm();a.extend(b.submitted,b.errorMap);b.invalid=a.extend({},b.errorMap);!b.valid()&&a(b.currentForm).triggerHandler(i,[b]);b.showErrors();return b.valid()},checkForm:function(){var a=this;a.prepareForm();for(var b=0,c=a.currentElements=a.elements();c[b];b++)a.check(c[b]);return a.valid()},element:function(d){var c=this;d=c.clean(d);c.lastElement=d;c.prepareElement(d);c.currentElements=a(d);var e=c.check(d);if(e)delete c.invalid[d.name];else c.invalid[d.name]=b;if(!c.numberOfInvalids())c.toHide=c.toHide.add(c.containers);c.showErrors();return e},showErrors:function(c){var b=this;if(c){a.extend(b.errorMap,c);b.errorList=[];for(var d in c)b.errorList.push({message:c[d],element:b.findByName(d)[0]});b.successList=a.grep(b.successList,function(a){return!(a.name in c)})}b.settings.showErrors?b.settings.showErrors.call(b,b.errorMap,b.errorList):b.defaultShowErrors()},resetForm:function(){var b=this;a.fn.resetForm&&a(b.currentForm).resetForm();b.submitted={};b.prepareForm();b.hideErrors();b.elements().removeClass(b.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(b){var a=0;for(var c in b)a++;return a},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){var b=this;if(b.settings.focusInvalid)try{a(b.findLastActive()||b.errorList.length&&b.errorList[0].element||[]).filter(":visible").focus()}catch(c){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name==b.name}).length==1&&b},elements:function(){var e=this,d={};return a([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){var f=this;!f.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",f);if(f.name in d||!e.objectLength(a(f).rules()))return c;d[f.name]=b;return b})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){var b=this;b.successList=[];b.errorList=[];b.errorMap={};b.toShow=a([]);b.toHide=a([]);b.formSubmitted=c;b.currentElements=a([])},prepareForm:function(){var a=this;a.reset();a.toHide=a.errors().add(a.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(d){var e=this;d=e.clean(d);if(e.checkable(d))d=e.findByName(d.name)[0];var j=a(d).rules(),g=c;for(method in j){var k={method:method,parameters:j[method]};try{var i=a.validator.methods[method].call(e,d.value.replace(/\r/g,""),d,k.parameters);if(i==f){g=b;continue}g=c;if(i==h){e.toHide=e.toHide.not(e.errorsFor(d));return}if(!i){e.formatAndAdd(d,k);return c}}catch(l){e.settings.debug&&window.console&&console.log("exception occured when checking element "+d.id+", check the '"+k.method+"' method");throw l;}}if(g)return;e.objectLength(j)&&e.successList.push(d);return b},customMetaMessage:function(c,d){if(!a.metadata)return;var b=this.settings.meta?a(c).metadata()[this.settings.meta]:a(c).metadata();return b&&b.messages&&b.messages[d]},customMessage:function(c,b){var a=this.settings.messages[c];return a&&(a.constructor==String?a:a[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a];return undefined},defaultMessage:function(b,d){var c=this;return c.findDefined(c.customMessage(b.name,d),c.customMetaMessage(b,d),!c.settings.ignoreTitle&&b.title||undefined,a.validator.messages[d],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,d){var c=this,a=c.defaultMessage(b,d.method);if(typeof a==g)a=a.call(c,d.parameters,b);c.errorList.push({message:a,element:b});c.errorMap[b.name]=a;c.submitted[b.name]=a},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){var a=this;for(var b=0;a.errorList[b];b++){var c=a.errorList[b];a.settings.highlight&&a.settings.highlight.call(a,c.element,a.settings.errorClass,a.settings.validClass);a.showLabel(c.element,c.message)}if(a.errorList.length)a.toShow=a.toShow.add(a.containers);if(a.settings.success)for(var b=0;a.successList[b];b++)a.showLabel(a.successList[b]);if(a.settings.unhighlight)for(var b=0,d=a.validElements();d[b];b++)a.settings.unhighlight.call(a,d[b],a.settings.errorClass,a.settings.validClass);a.toHide=a.toHide.not(a.toShow);a.hideErrors();a.addWrapper(a.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(f,g){var c=this,d=c.errorsFor(f);if(d.length){d.removeClass().addClass(c.settings.errorClass);d.attr("generated")&&d.html(g)}else{d=a("<"+c.settings.errorElement+"/>").attr({"for":c.idOrName(f),generated:b}).addClass(c.settings.errorClass).html(g||"");if(c.settings.wrapper)d=d.hide().show().wrap("<"+c.settings.wrapper+"/>").parent();if(!c.labelContainer.append(d).length)c.settings.errorPlacement?c.settings.errorPlacement(d,a(f)):d.insertAfter(f)}if(!g&&c.settings.success){d.text("");typeof c.settings.success==e?d.addClass(c.settings.success):c.settings.success(d)}c.toShow=c.toShow.add(d)},errorsFor:function(a){return this.errors().filter("[for='"+this.idOrName(a)+"']")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(d,a){return a.form==c&&a.name==b&&a||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a(j,b).length;case"input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return c.length},depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):b},dependTypes:{"boolean":function(a){return a},string:function(c,b){return!!a(c,b.form).length},"function":function(b,a){return b(a)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&f},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=b}},stopRequest:function(d,c){var b=this;b.pendingRequest--;if(b.pendingRequest<0)b.pendingRequest=0;delete b.pending[d.name];if(c&&b.pendingRequest==0&&b.formSubmitted&&b.form())a(b.currentForm).submit();else!c&&b.pendingRequest==0&&b.formSubmitted&&a(b.currentForm).triggerHandler(i,[b])},previousValue:function(d){var c="previousValue";return a.data(d,c)||a.data(d,c,previous={old:null,valid:b,message:this.defaultMessage(d,"remote")})}},classRuleSettings:{required:{required:b},email:{email:b},url:{url:b},date:{date:b},dateISO:{dateISO:b},dateDE:{dateDE:b},number:{number:b},numberDE:{numberDE:b},digits:{digits:b},creditcard:{creditcard:b}},addClassRules:function(b,c){b.constructor==String?(this.classRuleSettings[b]=c):a.extend(this.classRuleSettings,b)},classRules:function(d){var c={},b=a(d).attr("class");b&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});return c},attributeRules:function(e){var b={},d=a(e);for(method in a.validator.methods){var c=d.attr(method);if(c)b[method]=c}if(b.maxlength&&/-1|2147483647|524288/.test(b.maxlength))delete b.maxlength;return b},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,d).settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(c){var e={},b=a.data(c.form,d);if(b.settings.rules)e=a.validator.normalizeRule(b.settings.rules[c.name])||{};return e},normalizeRules:function(d,f){a.each(d,function(j,h){if(h===c){delete d[j];return}if(h.param||h.depends){var i=b;switch(typeof h.depends){case e:i=!!a(h.depends,f.form).length;break;case g:i=h.depends.call(f,f)}if(i)d[j]=h.param!==undefined?h.param:b;else delete d[j]}});a.each(d,function(c,b){d[c]=a.isFunction(b)?b(f):b});a.each(["minlength","maxlength","min","max"],function(){if(d[this])d[this]=Number(d[this])});a.each(["rangelength","range"],function(){var a=this;if(d[a])d[a]=[Number(d[a][0]),Number(d[a][1])]});if(a.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}if(d.messages)delete d.messages;return d},normalizeRule:function(c){if(typeof c==e){var d={};a.each(c.split(/\s/),function(){d[this]=b});c=d}return c},addMethod:function(b,c,d){a.validator.methods[b]=c;a.validator.messages[b]=d||a.validator.messages[b];c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(d,b,e){if(!this.depend(e,b))return f;switch(b.nodeName.toLowerCase()){case"select":var c=a(j,b);return c.length>0&&(b.type=="select-multiple"||(a.browser.msie&&!c[0].attributes.value.specified?c[0].text:c[0].value).length>0);case"input":if(this.checkable(b))return this.getLength(d,b)>0;default:return a.trim(d).length>0}},remote:function(l,c,k){var j=this;if(j.optional(c))return f;var i=j.previousValue(c);if(!j.settings.messages[c.name])j.settings.messages[c.name]={};j.settings.messages[c.name].remote=typeof i.message==g?i.message(l):i.message;k=typeof k==e&&{url:k}||k;if(i.old!==l){i.old=l;var d=j;j.startRequest(c);var m={};m[c.name]=l;a.ajax(a.extend(b,{url:k,mode:"abort",port:"validate"+c.name,dataType:"json",data:m,success:function(e){var a=e===b;if(a){var g=d.formSubmitted;d.prepareElement(c);d.formSubmitted=g;d.successList.push(c);d.showErrors()}else{var f={};f[c.name]=i.message=e||d.defaultMessage(c,"remote");d.showErrors(f)}i.valid=a;d.stopRequest(c,a)}},k));return h}else if(j.pending[c.name])return h;return i.valid},minlength:function(d,b,c){return this.optional(b)||this.getLength(a.trim(d),b)>=c},maxlength:function(d,b,c){return this.optional(b)||this.getLength(a.trim(d),b)<=c},rangelength:function(e,b,d){var c=this.getLength(a.trim(e),b);return this.optional(b)||c>=d[0]&&c<=d[1]},min:function(c,a,b){return this.optional(a)||c>=b},max:function(c,a,b){return this.optional(a)||c<=b},range:function(b,c,a){return this.optional(c)||b>=a[0]&&b<=a[1]},email:function(b,a){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b)},url:function(b,a){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(b,a){return this.optional(a)||!/Invalid|NaN/.test(new Date(b))},dateISO:function(b,a){return this.optional(a)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(b)},dateDE:function(b,a){return this.optional(a)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(b)},number:function(b,a){return this.optional(a)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(b)},numberDE:function(b,a){return this.optional(a)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(b)},digits:function(b,a){return this.optional(a)||/^\d+$/.test(b)},creditcard:function(a,g){if(this.optional(g))return f;if(/[^0-9-]+/.test(a))return c;var e=0,b=0,d=c;a=a.replace(/\D/g,"");for(n=a.length-1;n>=0;n--){var h=a.charAt(n),b=parseInt(h,10);if(d)if((b*=2)>9)b-=9;e+=b;d=!d}return e%10==0},accept:function(c,b,a){a=typeof a==e?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+a+")$","i"))},equalTo:function(c,d,b){return c==a(b).val()}}});a.format=a.validator.format})(jQuery);(function(a){var c=a.ajax,b={};a.ajax=function(d){d=a.extend(d,a.extend({},a.ajaxSettings,d));var e=d.port;if(d.mode=="abort"){b[e]&&b[e].abort();return b[e]=c.apply(this,arguments)}return c.apply(this,arguments)}})(jQuery);(function(a){a.each({focus:"focusin",blur:"focusout"},function(c,b){a.event.special[b]={setup:function(){if(a.browser.msie)return false;this.addEventListener(c,a.event.special[b].handler,true)},teardown:function(){if(a.browser.msie)return false;this.removeEventListener(c,a.event.special[b].handler,true)},handler:function(c){arguments[0]=a.event.fix(c);arguments[0].type=b;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{delegate:function(d,b,c){return this.bind(d,function(e){var d=a(e.target);if(d.is(b))return c.apply(d,arguments)})},triggerEvent:function(b,c){return this.triggerHandler(b,[a.event.fix({type:b,target:c})])}})})(jQuery);(function(a){var e="string",g="function",h="pending",f="dependency-mismatch",i="invalid-form",c=false,b=true,d="validator";a.extend(a.fn,{validate:function(g){var h="novalidate",f=this;if(f.length){var e=a.data(f[0],d);if(e)return e;f.attr(h,h);e=new a.validator(g,f[0]);a.data(f[0],d,e);if(e.settings.onsubmit){g=f.find("input, button");g.filter(".cancel").click(function(){e.cancelSubmit=b});e.settings.submitHandler&&g.filter(":submit").click(function(){e.submitButton=this});f.submit(function(f){function d(){if(e.settings.submitHandler){if(e.submitButton)var d=a("<input type='hidden'/>").attr("name",e.submitButton.name).val(e.submitButton.value).appendTo(e.currentForm);e.settings.submitHandler.call(e,e.currentForm);e.submitButton&&d.remove();return c}return b}e.settings.debug&&f.preventDefault();if(e.cancelSubmit){e.cancelSubmit=c;return d()}if(e.form()){if(e.pendingRequest){e.formSubmitted=b;return c}return d()}else{e.focusInvalid();return c}})}return e}else g&&g.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){var c=this;if(a(c[0]).is("form"))return c.validate().form();else{var d=b,e=a(c[0].form).validate();c.each(function(){d&=e.element(this)});return d}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(d,a){b[a]=c.attr(a);c.removeAttr(a)});return b},rules:function(g,c){var b=this[0];if(g){var e=a.data(b.form,d).settings,h=e.rules,f=a.validator.staticRules(b);switch(g){case"add":a.extend(f,a.validator.normalizeRule(c));h[b.name]=f;if(c.messages)e.messages[b.name]=a.extend(e.messages[b.name],c.messages);break;case"remove":if(!c){delete h[b.name];return f}var i={};a.each(c.split(/\s/),function(b,a){i[a]=f[a];delete f[a]});return i}}b=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(b),a.validator.classRules(b),a.validator.attributeRules(b),a.validator.staticRules(b)),b);if(b.required){e=b.required;delete b.required;b=a.extend({required:e},b)}return b}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}});a.validator=function(c,d){this.settings=a.extend(b,{},a.validator.defaults,c);this.currentForm=d;this.init()};a.validator.format=function(c,b){if(arguments.length==1)return function(){var b=a.makeArray(arguments);b.unshift(c);return a.validator.format.apply(this,b)};if(arguments.length>2&&b.constructor!=Array)b=a.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];a.each(b,function(a,b){c=c.replace(RegExp("\\{"+a+"\\}","g"),b)});return c};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:b,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:b,ignore:":hidden",ignoreTitle:c,onfocusin:function(b){var a=this;a.lastActive=b;if(a.settings.focusCleanup&&!a.blockFocusCleanup){a.settings.unhighlight&&a.settings.unhighlight.call(a,b,a.settings.errorClass,a.settings.validClass);a.addWrapper(a.errorsFor(b)).hide()}},onfocusout:function(b){var a=this;!a.checkable(b)&&(b.name in a.submitted||!a.optional(b))&&a.element(b)},onkeyup:function(a){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(b){var a=this;if(b.name in a.submitted)a.element(b);else b.parentNode.name in a.submitted&&a.element(b.parentNode)},highlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){b.type==="radio"?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:c,prototype:{init:function(){var b=this;function c(c){var b=a.data(this[0].form,d),e="on"+c.type.replace(/^validate/,"");b.settings[e]&&b.settings[e].call(b,this[0],c)}b.labelContainer=a(b.settings.errorLabelContainer);b.errorContext=b.labelContainer.length&&b.labelContainer||a(b.currentForm);b.containers=a(b.settings.errorContainer).add(b.settings.errorLabelContainer);b.submitted={};b.valueCache={};b.pendingRequest=0;b.pending={};b.invalid={};b.reset();var f=b.groups={};a.each(b.settings.groups,function(b,c){a.each(c.split(/\s/),function(c,a){f[a]=b})});var e=b.settings.rules;a.each(e,function(b,c){e[b]=a.validator.normalizeRule(c)});a(b.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);b.settings.invalidHandler&&a(b.currentForm).bind("invalid-form.validate",b.settings.invalidHandler)},form:function(){var b=this;b.checkForm();a.extend(b.submitted,b.errorMap);b.invalid=a.extend({},b.errorMap);b.valid()||a(b.currentForm).triggerHandler(i,[b]);b.showErrors();return b.valid()},checkForm:function(){var a=this;a.prepareForm();for(var b=0,c=a.currentElements=a.elements();c[b];b++)a.check(c[b]);return a.valid()},element:function(d){var c=this;c.lastElement=d=c.validationTargetFor(c.clean(d));c.prepareElement(d);c.currentElements=a(d);var e=c.check(d);if(e)delete c.invalid[d.name];else c.invalid[d.name]=b;if(!c.numberOfInvalids())c.toHide=c.toHide.add(c.containers);c.showErrors();return e},showErrors:function(c){var b=this;if(c){a.extend(b.errorMap,c);b.errorList=[];for(var d in c)b.errorList.push({message:c[d],element:b.findByName(d)[0]});b.successList=a.grep(b.successList,function(a){return!(a.name in c)})}b.settings.showErrors?b.settings.showErrors.call(b,b.errorMap,b.errorList):b.defaultShowErrors()},resetForm:function(){var b=this;a.fn.resetForm&&a(b.currentForm).resetForm();b.submitted={};b.lastElement=null;b.prepareForm();b.hideErrors();b.elements().removeClass(b.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(b){var a=0,c;for(c in b)a++;return a},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){var b=this;if(b.settings.focusInvalid)try{a(b.findLastActive()||b.errorList.length&&b.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(c){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name==b.name}).length==1&&b},elements:function(){var d=this,e={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){var f=this;!f.name&&d.settings.debug&&window.console&&console.error("%o has no name assigned",f);return f.name in e||!d.objectLength(a(f).rules())?c:(e[f.name]=b)})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){var b=this;b.successList=[];b.errorList=[];b.errorMap={};b.toShow=a([]);b.toHide=a([]);b.currentElements=a([])},prepareForm:function(){var a=this;a.reset();a.toHide=a.errors().add(a.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(e){var d=this;e=d.validationTargetFor(d.clean(e));var i=a(e).rules(),j=c,g;for(g in i){var k={method:g,parameters:i[g]};try{var l=a.validator.methods[g].call(d,e.value.replace(/\r/g,""),e,k.parameters);if(l==f)j=b;else{j=c;if(l==h){d.toHide=d.toHide.not(d.errorsFor(e));return}if(!l){d.formatAndAdd(e,k);return c}}}catch(m){d.settings.debug&&window.console&&console.log("exception occured when checking element "+e.id+", check the '"+k.method+"' method",m);throw m;}}if(!j){d.objectLength(i)&&d.successList.push(e);return b}},customMetaMessage:function(c,d){if(a.metadata){var b=this.settings.meta?a(c).metadata()[this.settings.meta]:a(c).metadata();return b&&b.messages&&b.messages[d]}},customMessage:function(b,c){var a=this.settings.messages[b];return a&&(a.constructor==String?a:a[c])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(c,d){var b=this;return b.findDefined(b.customMessage(c.name,d),b.customMetaMessage(c,d),!b.settings.ignoreTitle&&c.title||undefined,a.validator.messages[d],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(c,d){var b=this,a=b.defaultMessage(c,d.method),e=/\$?\{(\d+)\}/g;if(typeof a==g)a=a.call(b,d.parameters,c);else if(e.test(a))a=jQuery.format(a.replace(e,"{$1}"),d.parameters);b.errorList.push({message:a,element:c});b.errorMap[c.name]=a;b.submitted[c.name]=a},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){var a=this;for(var b=0;a.errorList[b];b++){var c=a.errorList[b];a.settings.highlight&&a.settings.highlight.call(a,c.element,a.settings.errorClass,a.settings.validClass);a.showLabel(c.element,c.message)}if(a.errorList.length)a.toShow=a.toShow.add(a.containers);if(a.settings.success)for(b=0;a.successList[b];b++)a.showLabel(a.successList[b]);if(a.settings.unhighlight){b=0;for(c=a.validElements();c[b];b++)a.settings.unhighlight.call(a,c[b],a.settings.errorClass,a.settings.validClass)}a.toHide=a.toHide.not(a.toShow);a.hideErrors();a.addWrapper(a.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(f,g){var c=this,d=c.errorsFor(f);if(d.length){d.removeClass(c.settings.validClass).addClass(c.settings.errorClass);d.attr("generated")&&d.html(g)}else{d=a("<"+c.settings.errorElement+"/>").attr({"for":c.idOrName(f),generated:b}).addClass(c.settings.errorClass).html(g||"");if(c.settings.wrapper)d=d.hide().show().wrap("<"+c.settings.wrapper+"/>").parent();c.labelContainer.append(d).length||(c.settings.errorPlacement?c.settings.errorPlacement(d,a(f)):d.insertAfter(f))}if(!g&&c.settings.success){d.text("");typeof c.settings.success==e?d.addClass(c.settings.success):c.settings.success(d)}c.toShow=c.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(d,a){return a.form==c&&a.name==b&&a||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return c.length},depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):b},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&f},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=b}},stopRequest:function(e,d){var b=this;b.pendingRequest--;if(b.pendingRequest<0)b.pendingRequest=0;delete b.pending[e.name];if(d&&b.pendingRequest==0&&b.formSubmitted&&b.form()){a(b.currentForm).submit();b.formSubmitted=c}else if(!d&&b.pendingRequest==0&&b.formSubmitted){a(b.currentForm).triggerHandler(i,[b]);b.formSubmitted=c}},previousValue:function(d){var c="previousValue";return a.data(d,c)||a.data(d,c,{old:null,valid:b,message:this.defaultMessage(d,"remote")})}},classRuleSettings:{required:{required:b},email:{email:b},url:{url:b},date:{date:b},dateISO:{dateISO:b},dateDE:{dateDE:b},number:{number:b},numberDE:{numberDE:b},digits:{digits:b},creditcard:{creditcard:b}},addClassRules:function(b,c){b.constructor==String?(this.classRuleSettings[b]=c):a.extend(this.classRuleSettings,b)},classRules:function(b){var c={};(b=a(b).attr("class"))&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});return c},attributeRules:function(e){var c={};e=a(e);for(var d in a.validator.methods){var f;if(f=d==="required"&&typeof a.fn.prop===g?e.prop(d):e.attr(d))c[d]=f;else if(e[0].getAttribute("type")===d)c[d]=b}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,d).settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},e=a.data(b.form,d);if(e.settings.rules)c=a.validator.normalizeRule(e.settings.rules[b.name])||{};return c},normalizeRules:function(d,f){a.each(d,function(i,h){if(h===c)delete d[i];else if(h.param||h.depends){var j=b;switch(typeof h.depends){case e:j=!!a(h.depends,f.form).length;break;case g:j=h.depends.call(f,f)}if(j)d[i]=h.param!==undefined?h.param:b;else delete d[i]}});a.each(d,function(c,b){d[c]=a.isFunction(b)?b(f):b});a.each(["minlength","maxlength","min","max"],function(){if(d[this])d[this]=Number(d[this])});a.each(["rangelength","range"],function(){var a=this;if(d[a])d[a]=[Number(d[a][0]),Number(d[a][1])]});if(a.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}d.messages&&delete d.messages;return d},normalizeRule:function(c){if(typeof c==e){var d={};a.each(c.split(/\s/),function(){d[this]=b});c=d}return c},addMethod:function(b,c,d){a.validator.methods[b]=c;a.validator.messages[b]=d!=undefined?d:a.validator.messages[b];c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(c,b,d){if(!this.depend(d,b))return f;switch(b.nodeName.toLowerCase()){case"select":return(c=a(b).val())&&c.length>0;case"input":if(this.checkable(b))return this.getLength(c,b)>0;default:return a.trim(c).length>0}},remote:function(k,c,j){var d=this;if(d.optional(c))return f;var i=d.previousValue(c);d.settings.messages[c.name]||(d.settings.messages[c.name]={});i.originalMessage=d.settings.messages[c.name].remote;d.settings.messages[c.name].remote=i.message;j=typeof j==e&&{url:j}||j;if(d.pending[c.name])return h;if(i.old===k)return i.valid;i.old=k;var g=d;d.startRequest(c);var l={};l[c.name]=k;a.ajax(a.extend(b,{url:j,mode:"abort",port:"validate"+c.name,dataType:"json",data:l,success:function(d){g.settings.messages[c.name].remote=i.originalMessage;var f=d===b;if(f){var e=g.formSubmitted;g.prepareElement(c);g.formSubmitted=e;g.successList.push(c);g.showErrors()}else{e={};d=d||g.defaultMessage(c,"remote");e[c.name]=i.message=a.isFunction(d)?d(k):d;g.showErrors(e)}i.valid=f;g.stopRequest(c,f)}},j));return h},minlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)>=d},maxlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)<=d},rangelength:function(b,c,d){b=this.getLength(a.trim(b),c);return this.optional(c)||b>=d[0]&&b<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,c,b){return this.optional(c)||a>=b[0]&&a<=b[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(b,h){if(this.optional(h))return f;if(/[^0-9 -]+/.test(b))return c;var g=0,a=0,d=c;b=b.replace(/\D/g,"");for(var e=b.length-1;e>=0;e--){a=b.charAt(e);a=parseInt(a,10);if(d)if((a*=2)>9)a-=9;g+=a;d=!d}return g%10==0},accept:function(b,c,a){a=typeof a==e?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(c)||b.match(RegExp(".("+a+")$","i"))},equalTo:function(c,d,b){b=a(b).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(d).valid()});return c==b.val()}}});a.format=a.validator.format})(jQuery);(function(b){var a={};if(b.ajaxPrefilter)b.ajaxPrefilter(function(c,b,d){b=c.port;if(c.mode=="abort"){a[b]&&a[b].abort();a[b]=d}});else{var c=b.ajax;b.ajax=function(d){var e=("port"in d?d:b.ajaxSettings).port;if(("mode"in d?d:b.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=c.apply(this,arguments)}return c.apply(this,arguments)}}})(jQuery);(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(c,b){function d(c){c=a.event.fix(c);c.type=b;return a.event.handle.call(this,c)}a.event.special[b]={setup:function(){this.addEventListener(c,d,true)},teardown:function(){this.removeEventListener(c,d,true)},handler:function(c){arguments[0]=a.event.fix(c);arguments[0].type=b;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(e){var c=a(e.target);if(c.is(b))return d.apply(c,arguments)})}})})(jQuery);(eval(function(e,d,a,c,b,f){b=function(a){return(a<d?"":b(parseInt(a/d)))+((a=a%d)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(a--)f[b(a)]=c[a]||b(a);c=[function(a){return f[a]}];b=function(){return"\\w+"};a=1}while(a--)if(c[a])e=e.replace(new RegExp("\\b"+b(a)+"\\b","g"),c[a]);return e}('(7($){$.H($.2L,{17:7(d){l(!6.F){d&&d.2q&&2T.1z&&1z.52("3y 3p, 4L\'t 17, 64 3y");8}p c=$.19(6[0],\'v\');l(c){8 c}c=2w $.v(d,6[0]);$.19(6[0],\'v\',c);l(c.q.3x){6.3s("1w, 3i").1o(".4E").3e(7(){c.3b=w});l(c.q.35){6.3s("1w, 3i").1o(":2s").3e(7(){c.1Z=6})}6.2s(7(b){l(c.q.2q)b.5J();7 1T(){l(c.q.35){l(c.1Z){p a=$("<1w 1V=\'5r\'/>").1s("u",c.1Z.u).33(c.1Z.Z).51(c.U)}c.q.35.V(c,c.U);l(c.1Z){a.3D()}8 N}8 w}l(c.3b){c.3b=N;8 1T()}l(c.L()){l(c.1b){c.1l=w;8 N}8 1T()}12{c.2l();8 N}})}8 c},J:7(){l($(6[0]).2W(\'L\')){8 6.17().L()}12{p b=w;p a=$(6[0].L).17();6.P(7(){b&=a.I(6)});8 b}},4D:7(c){p d={},$I=6;$.P(c.1I(/\\s/),7(a,b){d[b]=$I.1s(b);$I.6d(b)});8 d},1i:7(h,k){p f=6[0];l(h){p i=$.19(f.L,\'v\').q;p d=i.1i;p c=$.v.36(f);23(h){1e"1d":$.H(c,$.v.1X(k));d[f.u]=c;l(k.G)i.G[f.u]=$.H(i.G[f.u],k.G);31;1e"3D":l(!k){T d[f.u];8 c}p e={};$.P(k.1I(/\\s/),7(a,b){e[b]=c[b];T c[b]});8 e}}p g=$.v.41($.H({},$.v.3Y(f),$.v.3V(f),$.v.3T(f),$.v.36(f)),f);l(g.15){p j=g.15;T g.15;g=$.H({15:j},g)}8 g}});$.H($.5p[":"],{5n:7(a){8!$.1p(""+a.Z)},5g:7(a){8!!$.1p(""+a.Z)},5f:7(a){8!a.4h}});$.v=7(b,a){6.q=$.H(w,{},$.v.3d,b);6.U=a;6.3I()};$.v.W=7(c,b){l(R.F==1)8 7(){p a=$.3F(R);a.4V(c);8 $.v.W.1Q(6,a)};l(R.F>2&&b.2c!=3B){b=$.3F(R).4Q(1)}l(b.2c!=3B){b=[b]}$.P(b,7(i,n){c=c.1u(2w 3t("\\\\{"+i+"\\\\}","g"),n)});8 c};$.H($.v,{3d:{G:{},2a:{},1i:{},1c:"3r",28:"J",2F:"4P",2l:w,3o:$([]),2D:$([]),3x:w,3l:[],3k:N,4O:7(a){6.3U=a;l(6.q.4K&&!6.4J){6.q.1K&&6.q.1K.V(6,a,6.q.1c,6.q.28);6.1M(a).2A()}},4C:7(a){l(!6.1E(a)&&(a.u 11 6.1a||!6.K(a))){6.I(a)}},6c:7(a){l(a.u 11 6.1a||a==6.4A){6.I(a)}},68:7(a){l(a.u 11 6.1a)6.I(a);12 l(a.4x.u 11 6.1a)6.I(a.4x)},39:7(a,c,b){$(a).22(c).2v(b)},1K:7(a,c,b){$(a).2v(c).22(b)}},63:7(a){$.H($.v.3d,a)},G:{15:"61 4r 2W 15.",1q:"M 2O 6 4r.",1J:"M O a J 1J 5X.",1B:"M O a J 5W.",1A:"M O a J 1A.",2j:"M O a J 1A (5Q).",1G:"M O a J 1G.",1P:"M O 5O 1P.",2f:"M O a J 5L 5I 1G.",2o:"M O 47 5F Z 5B.",43:"M O a Z 5z a J 5x.",18:$.v.W("M O 3K 5v 2X {0} 2V."),1y:$.v.W("M O 5t 5s {0} 2V."),2i:$.v.W("M O a Z 3W {0} 3O {1} 2V 5o."),2r:$.v.W("M O a Z 3W {0} 3O {1}."),1C:$.v.W("M O a Z 5j 2X 46 3M 3L {0}."),1t:$.v.W("M O a Z 5d 2X 46 3M 3L {0}.")},3J:N,5a:{3I:7(){6.24=$(6.q.2D);6.4t=6.24.F&&6.24||$(6.U);6.2x=$(6.q.3o).1d(6.q.2D);6.1a={};6.54={};6.1b=0;6.1h={};6.1f={};6.21();p f=(6.2a={});$.P(6.q.2a,7(d,c){$.P(c.1I(/\\s/),7(a,b){f[b]=d})});p e=6.q.1i;$.P(e,7(b,a){e[b]=$.v.1X(a)});7 2N(a){p b=$.19(6[0].L,"v"),3c="4W"+a.1V.1u(/^17/,"");b.q[3c]&&b.q[3c].V(b,6[0])}$(6.U).2K(":3E, :4U, :4T, 2e, 4S","2d 2J 4R",2N).2K(":3C, :3A, 2e, 3z","3e",2N);l(6.q.3w)$(6.U).2I("1f-L.17",6.q.3w)},L:7(){6.3v();$.H(6.1a,6.1v);6.1f=$.H({},6.1v);l(!6.J())$(6.U).3u("1f-L",[6]);6.1m();8 6.J()},3v:7(){6.2H();Q(p i=0,14=(6.2b=6.14());14[i];i++){6.29(14[i])}8 6.J()},I:7(a){a=6.2G(a);6.4A=a;6.2P(a);6.2b=$(a);p b=6.29(a);l(b){T 6.1f[a.u]}12{6.1f[a.u]=w}l(!6.3q()){6.13=6.13.1d(6.2x)}6.1m();8 b},1m:7(b){l(b){$.H(6.1v,b);6.S=[];Q(p c 11 b){6.S.27({1j:b[c],I:6.26(c)[0]})}6.1n=$.3n(6.1n,7(a){8!(a.u 11 b)})}6.q.1m?6.q.1m.V(6,6.1v,6.S):6.3m()},2S:7(){l($.2L.2S)$(6.U).2S();6.1a={};6.2H();6.2Q();6.14().2v(6.q.1c)},3q:7(){8 6.2k(6.1f)},2k:7(a){p b=0;Q(p i 11 a)b++;8 b},2Q:7(){6.2C(6.13).2A()},J:7(){8 6.3j()==0},3j:7(){8 6.S.F},2l:7(){l(6.q.2l){3Q{$(6.3h()||6.S.F&&6.S[0].I||[]).1o(":4N").3g().4M("2d")}3f(e){}}},3h:7(){p a=6.3U;8 a&&$.3n(6.S,7(n){8 n.I.u==a.u}).F==1&&a},14:7(){p a=6,2B={};8 $([]).1d(6.U.14).1o(":1w").1L(":2s, :21, :4I, [4H]").1L(6.q.3l).1o(7(){!6.u&&a.q.2q&&2T.1z&&1z.3r("%o 4G 3K u 4F",6);l(6.u 11 2B||!a.2k($(6).1i()))8 N;2B[6.u]=w;8 w})},2G:7(a){8 $(a)[0]},2z:7(){8 $(6.q.2F+"."+6.q.1c,6.4t)},21:7(){6.1n=[];6.S=[];6.1v={};6.1k=$([]);6.13=$([]);6.2b=$([])},2H:7(){6.21();6.13=6.2z().1d(6.2x)},2P:7(a){6.21();6.13=6.1M(a)},29:7(d){d=6.2G(d);l(6.1E(d)){d=6.26(d.u)[0]}p a=$(d).1i();p c=N;Q(Y 11 a){p b={Y:Y,2n:a[Y]};3Q{p f=$.v.1N[Y].V(6,d.Z.1u(/\\r/g,""),d,b.2n);l(f=="1S-1Y"){c=w;6g}c=N;l(f=="1h"){6.13=6.13.1L(6.1M(d));8}l(!f){6.4B(d,b);8 N}}3f(e){6.q.2q&&2T.1z&&1z.6f("6e 6b 6a 69 I "+d.4z+", 29 47 \'"+b.Y+"\' Y",e);67 e;}}l(c)8;l(6.2k(a))6.1n.27(d);8 w},4y:7(a,b){l(!$.1H)8;p c=6.q.3a?$(a).1H()[6.q.3a]:$(a).1H();8 c&&c.G&&c.G[b]},4w:7(a,b){p m=6.q.G[a];8 m&&(m.2c==4v?m:m[b])},4u:7(){Q(p i=0;i<R.F;i++){l(R[i]!==20)8 R[i]}8 20},2u:7(a,b){8 6.4u(6.4w(a.u,b),6.4y(a,b),!6.q.3k&&a.62||20,$.v.G[b],"<4s>60: 5Z 1j 5Y Q "+a.u+"</4s>")},4B:7(b,a){p c=6.2u(b,a.Y),37=/\\$?\\{(\\d+)\\}/g;l(1g c=="7"){c=c.V(6,a.2n,b)}12 l(37.16(c)){c=1F.W(c.1u(37,\'{$1}\'),a.2n)}6.S.27({1j:c,I:b});6.1v[b.u]=c;6.1a[b.u]=c},2C:7(a){l(6.q.2t)a=a.1d(a.4q(6.q.2t));8 a},3m:7(){Q(p i=0;6.S[i];i++){p a=6.S[i];6.q.39&&6.q.39.V(6,a.I,6.q.1c,6.q.28);6.2E(a.I,a.1j)}l(6.S.F){6.1k=6.1k.1d(6.2x)}l(6.q.1x){Q(p i=0;6.1n[i];i++){6.2E(6.1n[i])}}l(6.q.1K){Q(p i=0,14=6.4p();14[i];i++){6.q.1K.V(6,14[i],6.q.1c,6.q.28)}}6.13=6.13.1L(6.1k);6.2Q();6.2C(6.1k).4o()},4p:7(){8 6.2b.1L(6.4n())},4n:7(){8 $(6.S).4m(7(){8 6.I})},2E:7(a,c){p b=6.1M(a);l(b.F){b.2v().22(6.q.1c);b.1s("4l")&&b.4k(c)}12{b=$("<"+6.q.2F+"/>").1s({"Q":6.34(a),4l:w}).22(6.q.1c).4k(c||"");l(6.q.2t){b=b.2A().4o().5V("<"+6.q.2t+"/>").4q()}l(!6.24.5S(b).F)6.q.4j?6.q.4j(b,$(a)):b.5R(a)}l(!c&&6.q.1x){b.3E("");1g 6.q.1x=="1D"?b.22(6.q.1x):6.q.1x(b)}6.1k=6.1k.1d(b)},1M:7(a){p b=6.34(a);8 6.2z().1o(7(){8 $(6).1s(\'Q\')==b})},34:7(a){8 6.2a[a.u]||(6.1E(a)?a.u:a.4z||a.u)},1E:7(a){8/3C|3A/i.16(a.1V)},26:7(d){p c=6.U;8 $(4i.5P(d)).4m(7(a,b){8 b.L==c&&b.u==d&&b||4g})},1O:7(a,b){23(b.4f.4e()){1e\'2e\':8 $("3z:3p",b).F;1e\'1w\':l(6.1E(b))8 6.26(b.u).1o(\':4h\').F}8 a.F},4d:7(b,a){8 6.32[1g b]?6.32[1g b](b,a):w},32:{"5N":7(b,a){8 b},"1D":7(b,a){8!!$(b,a.L).F},"7":7(b,a){8 b(a)}},K:7(a){8!$.v.1N.15.V(6,$.1p(a.Z),a)&&"1S-1Y"},4c:7(a){l(!6.1h[a.u]){6.1b++;6.1h[a.u]=w}},4b:7(a,b){6.1b--;l(6.1b<0)6.1b=0;T 6.1h[a.u];l(b&&6.1b==0&&6.1l&&6.L()){$(6.U).2s();6.1l=N}12 l(!b&&6.1b==0&&6.1l){$(6.U).3u("1f-L",[6]);6.1l=N}},2h:7(a){8 $.19(a,"2h")||$.19(a,"2h",{2M:4g,J:w,1j:6.2u(a,"1q")})}},1R:{15:{15:w},1J:{1J:w},1B:{1B:w},1A:{1A:w},2j:{2j:w},4a:{4a:w},1G:{1G:w},49:{49:w},1P:{1P:w},2f:{2f:w}},48:7(a,b){a.2c==4v?6.1R[a]=b:$.H(6.1R,a)},3V:7(b){p a={};p c=$(b).1s(\'5H\');c&&$.P(c.1I(\' \'),7(){l(6 11 $.v.1R){$.H(a,$.v.1R[6])}});8 a},3T:7(c){p a={};p d=$(c);Q(Y 11 $.v.1N){p b=d.1s(Y);l(b){a[Y]=b}}l(a.18&&/-1|5G|5C/.16(a.18)){T a.18}8 a},3Y:7(a){l(!$.1H)8{};p b=$.19(a.L,\'v\').q.3a;8 b?$(a).1H()[b]:$(a).1H()},36:7(b){p a={};p c=$.19(b.L,\'v\');l(c.q.1i){a=$.v.1X(c.q.1i[b.u])||{}}8 a},41:7(d,e){$.P(d,7(c,b){l(b===N){T d[c];8}l(b.2R||b.2p){p a=w;23(1g b.2p){1e"1D":a=!!$(b.2p,e.L).F;31;1e"7":a=b.2p.V(e,e);31}l(a){d[c]=b.2R!==20?b.2R:w}12{T d[c]}}});$.P(d,7(a,b){d[a]=$.44(b)?b(e):b});$.P([\'1y\',\'18\',\'1t\',\'1C\'],7(){l(d[6]){d[6]=2Z(d[6])}});$.P([\'2i\',\'2r\'],7(){l(d[6]){d[6]=[2Z(d[6][0]),2Z(d[6][1])]}});l($.v.3J){l(d.1t&&d.1C){d.2r=[d.1t,d.1C];T d.1t;T d.1C}l(d.1y&&d.18){d.2i=[d.1y,d.18];T d.1y;T d.18}}l(d.G){T d.G}8 d},1X:7(a){l(1g a=="1D"){p b={};$.P(a.1I(/\\s/),7(){b[6]=w});a=b}8 a},5A:7(c,a,b){$.v.1N[c]=a;$.v.G[c]=b!=20?b:$.v.G[c];l(a.F<3){$.v.48(c,$.v.1X(c))}},1N:{15:7(c,d,a){l(!6.4d(a,d))8"1S-1Y";23(d.4f.4e()){1e\'2e\':p b=$(d).33();8 b&&b.F>0;1e\'1w\':l(6.1E(d))8 6.1O(c,d)>0;5y:8 $.1p(c).F>0}},1q:7(f,h,j){l(6.K(h))8"1S-1Y";p g=6.2h(h);l(!6.q.G[h.u])6.q.G[h.u]={};g.40=6.q.G[h.u].1q;6.q.G[h.u].1q=g.1j;j=1g j=="1D"&&{1B:j}||j;l(g.2M!==f){g.2M=f;p k=6;6.4c(h);p i={};i[h.u]=f;$.2U($.H(w,{1B:j,3Z:"2Y",3X:"17"+h.u,5w:"5u",19:i,1x:7(d){k.q.G[h.u].1q=g.40;p b=d===w;l(b){p e=k.1l;k.2P(h);k.1l=e;k.1n.27(h);k.1m()}12{p a={};p c=(g.1j=d||k.2u(h,"1q"));a[h.u]=$.44(c)?c(f):c;k.1m(a)}g.J=b;k.4b(h,b)}},j));8"1h"}12 l(6.1h[h.u]){8"1h"}8 g.J},1y:7(b,c,a){8 6.K(c)||6.1O($.1p(b),c)>=a},18:7(b,c,a){8 6.K(c)||6.1O($.1p(b),c)<=a},2i:7(b,d,a){p c=6.1O($.1p(b),d);8 6.K(d)||(c>=a[0]&&c<=a[1])},1t:7(b,c,a){8 6.K(c)||b>=a},1C:7(b,c,a){8 6.K(c)||b<=a},2r:7(b,c,a){8 6.K(c)||(b>=a[0]&&b<=a[1])},1J:7(a,b){8 6.K(b)||/^((([a-z]|\\d|[!#\\$%&\'\\*\\+\\-\\/=\\?\\^X`{\\|}~]|[\\E-\\B\\C-\\x\\A-\\y])+(\\.([a-z]|\\d|[!#\\$%&\'\\*\\+\\-\\/=\\?\\^X`{\\|}~]|[\\E-\\B\\C-\\x\\A-\\y])+)*)|((\\3S)((((\\2m|\\1W)*(\\30\\3R))?(\\2m|\\1W)+)?(([\\3P-\\5q\\45\\42\\5D-\\5E\\3N]|\\5m|[\\5l-\\5k]|[\\5i-\\5K]|[\\E-\\B\\C-\\x\\A-\\y])|(\\\\([\\3P-\\1W\\45\\42\\30-\\3N]|[\\E-\\B\\C-\\x\\A-\\y]))))*(((\\2m|\\1W)*(\\30\\3R))?(\\2m|\\1W)+)?(\\3S)))@((([a-z]|\\d|[\\E-\\B\\C-\\x\\A-\\y])|(([a-z]|\\d|[\\E-\\B\\C-\\x\\A-\\y])([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])*([a-z]|\\d|[\\E-\\B\\C-\\x\\A-\\y])))\\.)+(([a-z]|[\\E-\\B\\C-\\x\\A-\\y])|(([a-z]|[\\E-\\B\\C-\\x\\A-\\y])([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])*([a-z]|[\\E-\\B\\C-\\x\\A-\\y])))\\.?$/i.16(a)},1B:7(a,b){8 6.K(b)||/^(5h?|5M):\\/\\/(((([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])|(%[\\1U-f]{2})|[!\\$&\'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\E-\\B\\C-\\x\\A-\\y])|(([a-z]|\\d|[\\E-\\B\\C-\\x\\A-\\y])([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])*([a-z]|\\d|[\\E-\\B\\C-\\x\\A-\\y])))\\.)+(([a-z]|[\\E-\\B\\C-\\x\\A-\\y])|(([a-z]|[\\E-\\B\\C-\\x\\A-\\y])([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])*([a-z]|[\\E-\\B\\C-\\x\\A-\\y])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])|(%[\\1U-f]{2})|[!\\$&\'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])|(%[\\1U-f]{2})|[!\\$&\'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])|(%[\\1U-f]{2})|[!\\$&\'\\(\\)\\*\\+,;=]|:|@)|[\\5e-\\5T]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|X|~|[\\E-\\B\\C-\\x\\A-\\y])|(%[\\1U-f]{2})|[!\\$&\'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.16(a)},1A:7(a,b){8 6.K(b)||!/5U|5c/.16(2w 5b(a))},2j:7(a,b){8 6.K(b)||/^\\d{4}[\\/-]\\d{1,2}[\\/-]\\d{1,2}$/.16(a)},1G:7(a,b){8 6.K(b)||/^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)(?:\\.\\d+)?$/.16(a)},1P:7(a,b){8 6.K(b)||/^\\d+$/.16(a)},2f:7(b,e){l(6.K(e))8"1S-1Y";l(/[^0-9-]+/.16(b))8 N;p a=0,d=0,2g=N;b=b.1u(/\\D/g,"");Q(p n=b.F-1;n>=0;n--){p c=b.59(n);p d=58(c,10);l(2g){l((d*=2)>9)d-=9}a+=d;2g=!2g}8(a%10)==0},43:7(b,c,a){a=1g a=="1D"?a.1u(/,/g,\'|\'):"57|56?g|55";8 6.K(c)||b.65(2w 3t(".("+a+")$","i"))},2o:7(c,d,a){p b=$(a).66(".17-2o").2I("3H.17-2o",7(){$(d).J()});8 c==b.33()}}});$.W=$.v.W})(1F);(7($){p c=$.2U;p d={};$.2U=7(a){a=$.H(a,$.H({},$.53,a));p b=a.3X;l(a.3Z=="2Y"){l(d[b]){d[b].2Y()}8(d[b]=c.1Q(6,R))}8 c.1Q(6,R)}})(1F);(7($){l(!1F.1r.38.2d&&!1F.1r.38.2J&&4i.3G){$.P({3g:\'2d\',3H:\'2J\'},7(b,a){$.1r.38[a]={50:7(){6.3G(b,2y,w)},4Z:7(){6.4Y(b,2y,w)},2y:7(e){R[0]=$.1r.2O(e);R[0].1V=a;8 $.1r.1T.1Q(6,R)}};7 2y(e){e=$.1r.2O(e);e.1V=a;8 $.1r.1T.V(6,e)}})};$.H($.2L,{2K:7(d,e,c){8 6.2I(e,7(a){p b=$(a.4X);l(b.2W(d)){8 c.1Q(b,R)}})}})})(1F);',62,389,"||||||this|function|return|||||||||||||if||||var|settings||||name|validator|true|uFDCF|uFFEF||uFDF0|uD7FF|uF900||u00A0|length|messages|extend|element|valid|optional|form|Please|false|enter|each|for|arguments|errorList|delete|currentForm|call|format|_|method|value||in|else|toHide|elements|required|test|validate|maxlength|data|submitted|pendingRequest|errorClass|add|case|invalid|typeof|pending|rules|message|toShow|formSubmitted|showErrors|successList|filter|trim|remote|event|attr|min|replace|errorMap|input|success|minlength|console|date|url|max|string|checkable|jQuery|number|metadata|split|email|unhighlight|not|errorsFor|methods|getLength|digits|apply|classRuleSettings|dependency|handle|da|type|x09|normalizeRule|mismatch|submitButton|undefined|reset|addClass|switch|labelContainer||findByName|push|validClass|check|groups|currentElements|constructor|focusin|select|creditcard|bEven|previousValue|rangelength|dateISO|objectLength|focusInvalid|x20|parameters|equalTo|depends|debug|range|submit|wrapper|defaultMessage|removeClass|new|containers|handler|errors|hide|rulesCache|addWrapper|errorLabelContainer|showLabel|errorElement|clean|prepareForm|bind|focusout|validateDelegate|fn|old|delegate|fix|prepareElement|hideErrors|param|resetForm|window|ajax|characters|is|than|abort|Number|x0d|break|dependTypes|val|idOrName|submitHandler|staticRules|theregex|special|highlight|meta|cancelSubmit|eventType|defaults|click|catch|focus|findLastActive|button|size|ignore_Title|ignore|defaultShowErrors|grep|errorContainer|selected|numberOfInvalids|error|find|RegExp|triggerHandler|checkForm|invalidHandler|onsubmit|nothing|option|checkbox|Array|radio|remove|text|makeArray|addEventListener|blur|init|autoCreateRanges|no|to|equal|x7f|and|x01|try|x0a|x22|attributeRules|lastActive|classRules|between|port|metadataRules|mode|originalMessage|normalizeRules|x0c|accept|isFunction|x0b|or|the|addClassRules|numberDE|dateDE|stopRequest|startRequest|depend|toLowerCase|nodeName|null|checked|document|errorPlacement|html|generated|map|invalidElements|show|validElements|parent|field|strong|errorContext|findDefined|String|customMessage|parentNode|customMetaMessage|id|lastElement|formatAndAdd|onfocusout|removeAttrs|cancel|assigned|has|disabled|image|blockFocusCleanup|focusCleanup|can|trigger|visible|onfocusin|label|slice|keyup|textarea|file|password|unshift|on|target|removeEventListener|teardown|setup|appendTo|warn|ajaxSettings|valueCache|gif|jpe|png|parseInt|charAt|prototype|Date|NaN|greater|uE000|unchecked|filled|https|x5d|less|x5b|x23|x21|blank|long|expr|x08|hidden|least|at|json|more|dataType|extension|default|with|addMethod|again|524288|x0e|x1f|same|2147483647|class|card|preventDefault|x7e|credit|ftp|boolean|only|getElementsByName|ISO|insertAfter|append|uF8FF|Invalid|wrap|URL|address|defined|No|Warning|This|title|setDefaults|returning|match|unbind|throw|onclick|checking|when|occured|onkeyup|removeAttr|exception|log|continue".split("|"),0,{})))(function(b){var h="dwro",f="ul",m="scroller",g=".dw",q="data-val",a=true,e=null,d="",c=false;function L(H,T){var O="body",C="inline",N=".dwwb",K=".dwwl",J="disabled",z="pos",i=this,L=H,H=b(L),U,u=b.extend({},D),ab,I,W={},Z={},Q=H.is("input"),P=c,V={TAB:9,ENTER:13,ESCAPE:27};function db(){var b=document.body,a=document.documentElement;return Math.max(b.scrollHeight,b.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)}function S(a){k=b("li.dw-v",a).eq(0).index();j=b("li.dw-v",a).eq(-1).index();x=u.height;w=i}function cb(b){var a=u.headerText;return a?typeof a=="function"?a.call(L,b):a.replace(/{value}/i,b):d}function Y(){i.temp=Q&&i.val!==e&&i.val!=H.val()||i.values===e?u.parseValue(H.val()?H.val():d,i):i.values.slice(0);i.setValue(a)}function R(e,d,a,c,f){u.validate.call(L,I,a);b(".dww ul",I).each(function(c){var l=b(this),g=b('li[data-val="'+i.temp[c]+'"]',l),k=g.index(),j=bb(g,k,c,f),h=c==a||a===undefined;(k!=j||h)&&i.scroll(b(this),j,h?e:.2,d,c)});i.change(c)}function bb(d,e,j,h){var a="dw-v";if(!d.hasClass(a)){var b=d,c=d,f=0,g=0;while(b.prev().length&&!b.hasClass(a)){b=b.prev();f++}while(c.next().length&&!c.hasClass(a)){c=c.next();g++}if((g<f&&g&&!h==1||!f||!b.hasClass(a)||h==1)&&c.hasClass(a)){d=c;e=e+g}else{d=b;e=e-f}i.temp[j]=d.attr(q)}return e}function X(){var f=0,d=0,h=b(window).width(),k=b(window).height(),j=b(window).scrollTop(),l=b(".dwo",I),e=b(g,I),c,i;b(".dwc",I).each(function(){c=b(this).outerWidth(a);f+=c;d=c>d?c:d});c=f>h?d:f;e.width(c);c=e.outerWidth();i=e.outerHeight();e.css({left:(h-c)/2,top:j+(k-i)/2});l.height(0).height(db())}function fb(b){var c=+b.data(z),a=c+1;v(b,a>j?k:a,1)}function eb(b){var c=+b.data(z),a=c-1;v(b,a<k?j:a,2)}i.enable=function(){u.disabled=c;Q&&H.prop(J,c)};i.disable=function(){u.disabled=a;Q&&H.prop(J,a)};i.scroll=function(b,e,a,f,c){var h=(ab-e)*u.height;b.attr("style",(a?E+"-transition:all "+a.toFixed(1)+"s ease-out;":d)+(M?E+"-transform:translate3d(0,"+h+"px,0);":"top:"+h+"px;"));function i(d,a,b,c){return b*Math.sin(d/c*(Math.PI/2))+a}if(a&&f!==undefined){var g=0;clearInterval(W[c]);W[c]=setInterval(function(){g+=.1;b.data(z,Math.round(i(g,f,e-f,a)));if(g>=a){clearInterval(W[c]);b.data(z,e)}},100);clearTimeout(Z[c]);Z[c]=setTimeout(function(){u.mode=="mixed"&&!b.hasClass("dwa")&&b.closest(K).find(N).fadeIn("fast")},a*1e3)}else b.data(z,e)};i.setValue=function(d,b,c){var a=u.formatResult(i.temp);i.val=a;i.values=i.temp.slice(0);P&&d&&R(c);b&&Q&&H.val(a).trigger("change")};i.validate=function(c,b,e,d){R(c,b,e,a,d)};i.change=function(a){var d=u.formatResult(i.temp);if(u.display==C)i.setValue(c,a);else b(".dwv",I).html(cb(d));a&&u.onChange.call(L,d,i)};i.hide=function(e){if(u.onClose.call(L,i.val,i)===c)return c;b(".dwtd").prop(J,c).removeClass("dwtd");I&&I.remove();P=c;b(window).unbind(g);b(O).unbind("keyup");if(e){var a=b("input, select"),d=a.index(H)+1;a.eq(d).focus()}else H.blur()};i.show=function(){var j="input,select",e="px;line-height:";if(u.disabled||P)return c;var h=u.height,t=u.rows*h;Y();for(var g='<div class="'+u.theme+'">'+(u.display==C?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dwo"></div><div class="dw dwbg"><div class="dwwr">'+(u.headerText?'<div class="dwv"></div>':d)),k=0;k<u.wheels.length;k++){g+='<div class="dwc'+(u.mode!=m?" dwpm":" dwsc")+(u.showLabel?d:" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(var n in u.wheels[k]){g+='<td><div class="dwwl dwrc">'+(u.mode!=m?'<div class="dwwb dwwbp" style="height:'+h+e+h+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+h+e+h+'px;"><span>&ndash;</span></div>':d)+'<div class="dwl">'+n+'</div><div class="dww dwrc" style="height:'+t+"px;min-width:"+u.width+'px;"><ul>';for(var q in u.wheels[k][n])g+='<li class="dw-v" data-val="'+q+'" style="height:'+h+e+h+'px;">'+u.wheels[k][n][q]+"</li>";g+='</ul><div class="dwwo"></div></div><div class="dwwol"></div></div></td>'}g+="</tr></table></div></div>"}g+=(u.display!=C?'<div class="dwbc"><span class="dwbw dwb-s"><a href="#" class="dwb">'+u.setText+'</a></span><span class="dwbw dwb-c"><a href="#" class="dwb">'+u.cancelText+"</a></span></div>":'<div class="dwcc"></div>')+"</div></div></div>";I=b(g);R();b(O).bind("keyup",function(b){switch(b.keyCode){case V.ENTER:i.setValue(c,a);i.hide(a);u.onSelect.call(b,i.val,i);break;case V.ESCAPE:case V.TAB:i.hide(a);u.onCancel.call(b,i.val,i)}});u.display!=C?I.appendTo(O):H.is("div")?H.html(I):I.insertAfter(H);P=a;U.init(I,i);if(u.display!=C){b(".dwb-s a",I).click(function(){i.setValue(c,a);i.hide();u.onSelect.call(L,i.val,i);return c});b(".dwb-c a",I).click(function(){i.hide();u.onCancel.call(L,i.val,i);return c});b(j).each(function(){!b(this).prop(J)&&b(this).addClass("dwtd")});b(j).prop(J,a);X();b(window).bind("resize.dw",X)}I.delegate(K,"DOMMouseScroll mousewheel",function(a){if(!u.readonly){a.preventDefault();a=a.originalEvent;var d=a.wheelDelta?a.wheelDelta/120:a.detail?-a.detail/3:0,c=b(f,this),g=+c.data(z),e=Math.round(g-d);S(c);v(c,e,d<0?1:2)}}).delegate(".dwb, .dwwb",y,function(){b(this).addClass("dwb-a")}).delegate(N,y,function(d){if(!u.readonly){d.preventDefault();d.stopPropagation();var a=b(this).closest(K).find(f),c=b(this).hasClass("dwwbp")?fb:eb;S(a);clearInterval(A);A=setInterval(function(){c(a)},u.delay);c(a)}}).delegate(K,y,function(c){if(!r&&u.mode!="clickpick"&&!u.readonly){c.preventDefault();r=a;l=b(f,this).addClass("dwa");u.mode=="mixed"&&b(N,this).fadeOut("fast");s=+l.data(z);S(l);o=G(c);B=new Date;p=o;i.scroll(l,s)}});u.onShow.call(L,I,i)};i.init=function(c){U=b.extend({defaults:{},init:n},b.scroller.themes[c.theme?c.theme:u.theme]);b.extend(u,U.defaults,T,c);i.settings=u;ab=Math.floor(u.rows/2);var d=b.scroller.presets[u.preset];H.unbind(g);if(d){var e=d.call(L,i);b.extend(u,e,T,c);b.extend(t,e.methods)}if(H.data(h)!==undefined)L.readOnly=F(H.data(h));P&&i.hide();if(u.display==C)i.show();else{Y();if(Q&&u.showOnFocus){H.data(h,L.readOnly);L.readOnly=a;H.bind("focus.dw",i.show)}}};i.values=e;i.val=e;i.temp=e;i.init(T)}function C(b){for(var d in b)if(O[b[d]]!==undefined)return a;return c}function J(){var a=["Webkit","Moz","O","ms"];for(var b in a)if(C([a[b]+"Transform"]))return"-"+a[b].toLowerCase();return d}function i(a){return z[a.id]}function G(a){return u?a.originalEvent?a.originalEvent.changedTouches[0].pageY:a.changedTouches[0].pageY:a.pageY}function F(b){return b===a||b=="true"}function v(d,a,i,g,c){var e=d.closest(".dwwr").find(f).index(d);a=a>j?j:a;a=a<k?k:a;var h=b("li",d).eq(a);w.temp[e]=h.attr(q);w.validate(g?a==c?.1:Math.abs((a-c)*.1):0,c,e,i)}var z={},A,n=function(){},x,k,j,w,N=new Date,H=N.getTime(),r=c,l=e,o,p,B,P,s,O=document.createElement("modernizr").style,M=C(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"])&&"webkitPerspective"in document.documentElement.style,E=J(),u="ontouchstart"in window,y=u?"touchstart":"mousedown",I=u?"touchmove":"mousemove",K=u?"touchend":"mouseup",D={width:70,height:40,rows:3,delay:300,disabled:c,readonly:c,showOnFocus:a,showLabel:a,wheels:[],theme:d,headerText:"{value}",headerPreText:d,display:"modal",mode:m,preset:d,setText:"Set",cancelText:"Cancel",onShow:n,onClose:n,onSelect:n,onCancel:n,onChange:n,formatResult:function(c){for(var b=d,a=0;a<c.length;a++)b+=(a>0?" ":d)+c[a];return b},parseValue:function(d,g){for(var b=g.settings.wheels,d=d.split(" "),c=[],e=0,a=0;a<b.length;a++)for(var f in b[a]){if(b[a][f][d[e]]!==undefined)c.push(d[e]);else for(var h in b[a][f]){c.push(h);break}e++}return c},validate:n},t={init:function(a){if(a===undefined)a={};return this.each(function(){var b=this;if(!b.id){H+=1;b.id="scoller"+H}z[b.id]=new L(b,a)})},enable:function(){return this.each(function(){var a=i(this);a&&a.enable()})},disable:function(){return this.each(function(){var a=i(this);a&&a.disable()})},isDisabled:function(){var a=i(this[0]);if(a)return a.settings.disabled},option:function(a,b){return this.each(function(){var d=i(this);if(d){var c={};if(typeof a==="object")c=a;else c[a]=b;d.init(c)}})},setValue:function(d,b,c){return this.each(function(){var e=i(this);if(e){e.temp=d;e.setValue(a,b,c)}})},getInst:function(){return i(this[0])},getValue:function(){var a=i(this[0]);if(a)return a.values},show:function(){var a=i(this[0]);if(a)return a.show()},hide:function(){return this.each(function(){var a=i(this);a&&a.hide()})},destroy:function(){return this.each(function(){var a=this,c=i(a);if(c){c.hide();b(a).unbind(g);delete z[a.id];if(b(a).is("input"))a.readOnly=F(b(a).data(h))}})}};b(document).bind(I,function(b){if(r){b.preventDefault();p=G(b);var a=s+(o-p)/x;a=a>j+1?j+1:a;a=a<k-1?k-1:a;w.scroll(l,a)}});b(document).bind(K,function(i){if(r){i.preventDefault();l.removeClass("dwa");var h=new Date-B,d=s+(o-p)/x;d=d>j+1?j+1:d;d=d<k-1?k-1:d;if(h<300){var g=(p-o)/h,f=g*g/(2*6e-4);if(p-o<0)f=-f}else var f=p-o;v(l,Math.round(s-f/x),0,a,Math.round(d));r=c;l=e}clearInterval(A);b(".dwb-a").removeClass("dwb-a")});b.fn.scroller=function(a){if(t[a])return t[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return t.init.apply(this,arguments);else b.error("Unknown method")};b.scroller={setDefaults:function(a){b.extend(D,a)},presets:{},themes:{}}})(jQuery);(function(a){var h="'",n=false,k=true,m="pm",l="am",j="s",i="h",g="0",d=12,e="i",b="d",f="m",c="y",q=new Date,o={dateFormat:"mm/dd/yy",dateOrder:"mmddyy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:q.getFullYear()-100,endYear:q.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",stepHour:1,stepMinute:1,stepSecond:1,separator:" "},p=function(D){var E="datetime",H=a(this),F={},t;if(H.is("input")){switch(H.attr("type")){case"date":t="yy-mm-dd";break;case E:t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm";F.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}var T=H.attr("min"),S=H.attr("max");if(T)F.minDate=a.scroller.parseDate(t,T);if(S)F.maxDate=a.scroller.parseDate(t,S)}var h=a.extend({},o,F,D.settings),x=0,K=[],B=[],q={},r={y:"getFullYear",m:"getMonth",d:"getDate",h:X,i:U,s:V,ap:W},I=h.preset,w=h.dateOrder,A=h.timeWheels,Y=w.match(/D/),R=A.match(/a/i),G=A.match(/h/),P=I==E?h.dateFormat+h.separator+h.timeFormat:I=="time"?h.timeFormat:h.dateFormat,O=new Date,L=h.stepHour,M=h.stepMinute,N=h.stepSecond,z=h.minDate,y=h.maxDate;t=t?t:P;if(I.match(/date/i)){a.each([c,f,b],function(a,b){var a=w.search(new RegExp(b,e));a>-1&&B.push({o:a,v:b})});B.sort(function(a,b){return a.o>b.o?1:-1});a.each(B,function(a,b){q[b.v]=a});for(var s={},v=0;v<3;v++)if(v==q.y){x++;s[h.yearText]={};for(var Z=z?z.getFullYear():h.startYear,ab=y?y.getFullYear():h.endYear,p=Z;p<=ab;p++)s[h.yearText][p]=w.match(/yy/i)?p:(p+"").substr(2,2)}else if(v==q.m){x++;s[h.monthText]={};for(var p=0;p<d;p++)s[h.monthText][p]=w.match(/MM/)?h.monthNames[p]:w.match(/M/)?h.monthNamesShort[p]:w.match(/mm/)&&p<9?g+(p+1):p+1}else if(v==q.d){x++;s[h.dayText]={};for(var p=1;p<32;p++)s[h.dayText][p]=w.match(/dd/i)&&p<10?g+p:p}K.push(s)}if(I.match(/time/i)){B=[];a.each([i,e,j],function(a,b){var a=A.search(new RegExp(b,e));a>-1&&B.push({o:a,v:b})});B.sort(function(a,b){return a.o>b.o?1:-1});a.each(B,function(a,b){q[b.v]=a});for(var s={},v=0;v<3;v++)if(v==q.h){q.h=x++;s[h.hourText]={};for(var p=0;p<(G?d:24);p+=L)s[h.hourText][p]=G&&p==0?d:A.match(/hh/i)&&p<10?g+p:p}else if(v==q.i){q.i=x++;s[h.minuteText]={};for(var p=0;p<60;p+=M)s[h.minuteText][p]=A.match(/ii/)&&p<10?g+p:p}else if(v==q.s){q.s=x++;s[h.secText]={};for(var p=0;p<60;p+=N)s[h.secText][p]=A.match(/ss/)&&p<10?g+p:p}if(R){q.ap=x++;var Q=A.match(/A/);s[h.ampmText]={0:Q?"AM":l,1:Q?"PM":m}}K.push(s)}function u(c,a,b){return q[a]!==undefined?+c[q[a]]:b!==undefined?b:O[r[a]]?O[r[a]]():r[a](O)}function C(b,a){return Math.floor(b/a)*a}function X(b){var a=b.getHours();a=G&&a>=d?a-d:a;return C(a,L)}function U(a){return C(a.getMinutes(),M)}function V(a){return C(a.getSeconds(),N)}function W(a){return R&&a.getHours()>11?1:0}function J(a){var g=u(a,i,0);return new Date(u(a,c),u(a,f),u(a,b),u(a,"ap")?g+d:g,u(a,e,0),u(a,j,0))}D.setDate=function(b,c,d){for(var a in q)this.temp[q[a]]=b[r[a]]?b[r[a]]():r[a](b);this.setValue(k,c,d)};D.getDate=function(a){return J(a)};return{wheels:K,headerText:function(){return h.headerPreText+a.scroller.formatDate(P,J(D.temp),h)},formatResult:function(b){return a.scroller.formatDate(t,J(b),h)},parseValue:function(e){var b=new Date,d=[];try{b=a.scroller.parseDate(t,e,h)}catch(f){}for(var c in q)d[q[c]]=b[r[c]]?b[r[c]]():r[c](b);return d},validate:function(s,n){var m=D.temp,p={m:0,d:1,h:0,i:0,s:0,ap:0},o={m:11,d:31,h:C(G?11:23,L),i:C(59,M),s:C(59,N),ap:1},t=z||y?[c,f,b,"ap",i,e,j]:n==q.y||n==q.m||n===undefined?[b]:[],l=k,d=k;a.each(t,function(H,i){var j="dw-v",k='li[data-val="',e="li";if(q[i]!==undefined){var B=p[i],n=o[i],D=31,t=u(m,i),x=a("ul",s).eq(q[i]),C,v;if(i==b){C=u(m,c),v=u(m,f);D=32-(new Date(C,v,32)).getDate();n=D;Y&&a(e,x).each(function(){var c=a(this),b=c.data("val"),d=(new Date(C,v,b)).getDay();c.html(w.replace(/[my]/gi,"").replace(/dd/,b<10?g+b:b).replace(/d/,b).replace(/DD/,h.dayNames[d]).replace(/D/,h.dayNamesShort[d]))})}if(l&&z)B=z[r[i]]?z[r[i]]():r[i](z);if(d&&y)n=y[r[i]]?y[r[i]]():r[i](y);if(i!=c){var F=a(k+B+'"]',x).index(),G=a(k+n+'"]',x).index();a(e,x).removeClass(j).slice(F,G+1).addClass(j);i==b&&a(e,x).removeClass("dw-h").slice(D).addClass("dw-h");if(t<B)t=B;if(t>n)t=n}if(l)l=t==B;if(d)d=t==n;if(h.invalid&&i==b){var A=[];h.invalid.dates&&a.each(h.invalid.dates,function(b,a){a.getFullYear()==C&&a.getMonth()==v&&A.push(a.getDate()-1)});if(h.invalid.daysOfWeek){var E=(new Date(C,v,1)).getDay();a.each(h.invalid.daysOfWeek,function(c,b){for(var a=b-E;a<D;a+=7)a>=0&&A.push(a)})}h.invalid.daysOfMonth&&a.each(h.invalid.daysOfMonth,function(b,a){a=(a+"").split("/");if(a[1])a[0]-1==v&&A.push(a[1]-1);else A.push(a[0]-1)});a.each(A,function(c,b){a(e,x).eq(b).removeClass(j)})}}})},methods:{getDate:function(c){var b=a(this).scroller("getInst");if(b)return b.getDate(c?b.temp:b.values)},setDate:function(d,b,c){if(b==undefined)b=n;return this.each(function(){var e=a(this).scroller("getInst");e&&e.setDate(d,b,c)})}}}};a.scroller.presets.date=p;a.scroller.presets.datetime=p;a.scroller.presets.time=p;a.scroller.formatDate=function(s,q,z){if(!q)return null;for(var w=a.extend({},o,z),u=function(b){var a=0;while(r+1<s.length&&s.charAt(r+1)==b){a++;r++}return a},t=function(d,c,b){var a=""+c;if(u(d))while(a.length<b)a=g+a;return a},y=function(c,a,d,b){return u(c)?b[a]:d[a]},p="",x=n,r=0;r<s.length;r++)if(x)if(s.charAt(r)==h&&!u(h))x=n;else p+=s.charAt(r);else switch(s.charAt(r)){case b:p+=t(b,q.getDate(),2);break;case"D":p+=y("D",q.getDay(),w.dayNamesShort,w.dayNames);break;case"o":p+=t("o",(q.getTime()-(new Date(q.getFullYear(),0,0)).getTime())/8.64e7,3);break;case f:p+=t(f,q.getMonth()+1,2);break;case"M":p+=y("M",q.getMonth(),w.monthNamesShort,w.monthNames);break;case c:p+=u(c)?q.getFullYear():(q.getYear()%100<10?g:"")+q.getYear()%100;break;case i:var v=q.getHours();p+=t(i,v>d?v-d:v==0?d:v,2);break;case"H":p+=t("H",q.getHours(),2);break;case e:p+=t(e,q.getMinutes(),2);break;case j:p+=t(j,q.getSeconds(),2);break;case"a":p+=q.getHours()>11?m:l;break;case"A":p+=q.getHours()>11?"PM":"AM";break;case h:if(u(h))p+=h;else x=k;break;default:p+=s.charAt(r)}return p};a.scroller.parseDate=function(u,s,J){var w=new Date;if(!u||!s)return w;s=typeof s=="object"?s.toString():s+"";for(var z=a.extend({},o,J),t=w.getFullYear(),r=w.getMonth()+1,v=w.getDate(),F=-1,g=w.getHours(),G=w.getMinutes(),H=0,y=-1,E=n,A=function(b){var a=q+1<u.length&&u.charAt(q+1)==b;if(a)q++;return a},p=function(a){A(a);var e=a=="@"?14:a=="!"?20:a==c?4:a=="o"?3:2,d=new RegExp("^\\d{1,"+e+"}"),b=s.substr(x).match(d);if(!b)return 0;x+=b[0].length;return parseInt(b[0],10)},B=function(c,e,d){for(var b=A(c)?d:e,a=0;a<b.length;a++)if(s.substr(x,b[a].length).toLowerCase()==b[a].toLowerCase()){x+=b[a].length;return a+1}return 0},D=function(){x++},x=0,q=0;q<u.length;q++)if(E)if(u.charAt(q)==h&&!A(h))E=n;else D();else switch(u.charAt(q)){case b:v=p(b);break;case"D":B("D",z.dayNamesShort,z.dayNames);break;case"o":F=p("o");break;case f:r=p(f);break;case"M":r=B("M",z.monthNamesShort,z.monthNames);break;case c:t=p(c);break;case"H":g=p("H");break;case i:g=p(i);break;case e:G=p(e);break;case j:H=p(j);break;case"a":y=B("a",[l,m],[l,m])-1;break;case"A":y=B("A",[l,m],[l,m])-1;break;case h:if(A(h))D();else E=k;break;default:D()}if(t<100)t+=(new Date).getFullYear()-(new Date).getFullYear()%100+(t<=z.shortYearCutoff?0:-100);if(F>-1){r=1;v=F;do{var I=32-(new Date(t,r-1,32)).getDate();if(v<=I)break;r++;v-=I}while(k)}g=y==-1?g:y&&g<d?g+d:!y&&g==d?0:g;var C=new Date(t,r-1,v,g,G,H);if(C.getFullYear()!=t||C.getMonth()+1!=r||C.getDate()!=v)throw"Invalid date";return C}})(jQuery);(function(b){var l="5px 5px 0px 0px",a="5px",k="centerRight",j="centerLeft",c="center",i="bottomRight",h="bottomLeft",g="bottomCenter",f="topRight",e="topCenter",d="0px 0px 5px 5px";b.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){var n="0px 0px 0px 0px",o=this;if(o.options.dismissQueue){var m=o.options.layout.container.selector+" "+o.options.layout.parent.selector;switch(o.options.layout.name){case"top":b(m).css({borderRadius:n});b(m).last().css({borderRadius:d});break;case e:case"topLeft":case f:case g:case h:case i:case c:case j:case k:case"inline":b(m).css({borderRadius:n});b(m).first().css({"border-top-left-radius":a,"border-top-right-radius":a});b(m).last().css({"border-bottom-left-radius":a,"border-bottom-right-radius":a});break;case"bottom":b(m).css({borderRadius:n});b(m).first().css({borderRadius:l})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var p="#FFF",s="1px solid #eee",o="0 2px 4px rgba(0, 0, 0, 0.1)",n="2px solid #eee",r=".noty_close",q="13px",m=this;m.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"});m.$message.css({fontSize:q,lineHeight:"16px",textAlign:c,padding:"8px 10px 9px",width:"auto",position:"relative"});m.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"});m.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"});m.$buttons.find("button").css({marginLeft:5});m.$buttons.find("button:first").css({marginLeft:0});m.$bar.bind({mouseenter:function(){b(this).find(r).fadeIn()},mouseleave:function(){b(this).find(r).fadeOut()}});switch(m.options.layout.name){case"top":m.$bar.css({borderRadius:d,borderBottom:n,borderLeft:n,borderRight:n,boxShadow:o});break;case e:case c:case g:case"inline":m.$bar.css({borderRadius:a,border:s,boxShadow:o});m.$message.css({fontSize:q,textAlign:c});break;case"topLeft":case f:case h:case i:case j:case k:m.$bar.css({borderRadius:a,border:s,boxShadow:o});m.$message.css({fontSize:q,textAlign:"left"});break;case"bottom":m.$bar.css({borderRadius:l,borderTop:n,borderLeft:n,borderRight:n,boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:m.$bar.css({border:n,boxShadow:o})}switch(m.options.type){case"alert":case"notification":m.$bar.css({backgroundColor:p,borderColor:"#CCC",color:"#444"});break;case"warning":m.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"});m.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":m.$bar.css({backgroundColor:"red",borderColor:"darkred",color:p});m.$message.css({fontWeight:"bold"});m.$buttons.css({borderTop:"1px solid darkred"});break;case"information":m.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:p});m.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":m.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"});m.$buttons.css({borderTop:"1px solid #50C24E"});break;default:m.$bar.css({backgroundColor:p,borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){b.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){b.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}})(jQuery);(function(a){a.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul id="noty_inline_layout_container" />',selector:"ul#noty_inline_layout_container",style:function(){a(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);if(typeof Object.create!=="function")Object.create=function(b){function a(){}a.prototype=b;return new a};(function(a){var j="noty_layout_count",g="noty_modal_count",h="object",f=".noty_modal",c=true,e="click",b=false,d=null,i=".noty_text",l={init:function(c){var b=this;b.options=a.extend({},a.noty.defaults,c);b.options.layout=b.options.custom?a.noty.layouts.inline:a.noty.layouts[b.options.layout];b.options.theme=a.noty.themes[b.options.theme];delete c.layout;delete c.theme;b.options=a.extend({},b.options,b.options.layout.options);b.options.id="noty_"+(new Date).getTime()*Math.floor(Math.random()*1e6);b.options=a.extend({},b.options,c);b._build();return b},_build:function(){var f=".noty_buttons",c=this,g=a('<div class="noty_bar"></div>').attr("id",c.options.id);g.append(c.options.template).find(i).html(c.options.text);c.$bar=c.options.layout.parent.object!==d?a(c.options.layout.parent.object).css(c.options.layout.parent.css).append(g):g;if(c.options.buttons){c.options.closeWith=[];c.options.timeout=b;var h=a("<div/>").addClass("noty_buttons");c.options.layout.parent.object!==d?c.$bar.find(".noty_bar").append(h):c.$bar.append(h);var j=c;a.each(c.options.buttons,function(d,b){var c=a("<button/>").addClass(b.addClass?b.addClass:"gray").html(b.text).appendTo(j.$bar.find(f)).bind(e,function(){a.isFunction(b.onClick)&&b.onClick.call(c,j)})})}c.$message=c.$bar.find(".noty_message");c.$closeButton=c.$bar.find(".noty_close");c.$buttons=c.$bar.find(f);a.noty.store[c.options.id]=c},show:function(){var d=this,b=d;a(b.options.layout.container.selector).append(b.$bar);b.options.theme.style.apply(b);a.type(b.options.layout.css)==="function"?d.options.layout.css.apply(b.$bar):b.$bar.css(d.options.layout.css||{});b.$bar.addClass(b.options.layout.addClass);b.options.layout.container.style.apply(a(b.options.layout.container.selector));b.options.theme.callback.onShow.apply(d);if(a.inArray(e,b.options.closeWith)>-1)b.$bar.css("cursor","pointer").one(e,function(){b.close()});if(a.inArray("hover",b.options.closeWith)>-1)b.$bar.one("mouseenter",function(){b.close()});if(a.inArray("button",b.options.closeWith)>-1)b.$closeButton.one(e,function(){b.close()});a.inArray("button",b.options.closeWith)==-1&&b.$closeButton.remove();b.options.callback.onShow&&b.options.callback.onShow.apply(b);b.$bar.animate(b.options.animation.open,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b);b.shown=c});b.options.timeout&&b.$bar.delay(b.options.timeout).promise().done(function(){b.close()});return d},close:function(){if(this.closed)return;var b=this;if(!this.shown){var e=[];a.each(a.noty.queue,function(c,a){a.options.id!=b.options.id&&e.push(a)});a.noty.queue=e;return}b.$bar.addClass("i-am-closing-now");b.options.callback.onClose&&b.options.callback.onClose.apply(b);b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b)}).promise().done(function(){if(b.options.modal){a.notyRenderer.setModalCount(-1);a.notyRenderer.getModalCount()==0&&a(f).fadeOut("fast",function(){a(this).remove()})}a.notyRenderer.setLayoutCountFor(b,-1);a.notyRenderer.getLayoutCountFor(b)==0&&a(b.options.layout.container.selector).remove();if(typeof b.$bar!=="undefined"&&b.$bar!==d){b.$bar.remove();b.$bar=d;b.closed=c}delete a.noty.store[b.options.id];b.options.theme.callback.onClose.apply(b);if(!b.options.dismissQueue){a.noty.ontap=c;a.notyRenderer.render()}})},setText:function(b){var a=this;if(!a.closed){a.options.text=b;a.$bar.find(i).html(b)}return a},setType:function(b){var a=this;if(!a.closed){a.options.type=b;a.options.theme.style.apply(a);a.options.theme.callback.onShow.apply(a)}return a},setTimeout:function(c){var a=this;if(!a.closed){var b=a;a.options.timeout=c;b.$bar.delay(b.options.timeout).promise().done(function(){b.close()})}return a},setAnimationSpeed:function(a){this.options.animation.speed=a},closed:b,shown:b};a.notyRenderer={};a.notyRenderer.init=function(c){var b=Object.create(l).init(c);b.options.force?a.noty.queue.unshift(b):a.noty.queue.push(b);a.notyRenderer.render();return a.noty.returns==h?b:b.options.id};a.notyRenderer.render=function(){var d=a.noty.queue[0];if(a.type(d)===h){if(d.options.dismissQueue)a.notyRenderer.show(a.noty.queue.shift());else if(a.noty.ontap){a.notyRenderer.show(a.noty.queue.shift());a.noty.ontap=b}}else a.noty.ontap=c};a.notyRenderer.show=function(b){var c="i-am-new";if(b.options.modal){a.notyRenderer.createModalFor(b);a.notyRenderer.setModalCount(+1)}if(a(b.options.layout.container.selector).length==0)if(b.options.custom)b.options.custom.append(a(b.options.layout.container.object).addClass(c));else a("body").append(a(b.options.layout.container.object).addClass(c));else a(b.options.layout.container.selector).removeClass(c);a.notyRenderer.setLayoutCountFor(b,+1);b.show()};a.notyRenderer.createModalFor=function(b){a(f).length==0&&a("<div/>").addClass("noty_modal").data(g,0).css(b.options.theme.modal.css).prependTo(a("body")).fadeIn("fast")};a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data(j)||0};a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data(j,a.notyRenderer.getLayoutCountFor(b)+c)};a.notyRenderer.getModalCount=function(){return a(f).data(g)||0};a.notyRenderer.setModalCount=function(b){return a(f).data(g,a.notyRenderer.getModalCount()+b)};a.fn.noty=function(b){b.custom=a(this);return a.notyRenderer.init(b)};a.noty={};a.noty.queue=[];a.noty.ontap=c;a.noty.layouts={};a.noty.themes={};a.noty.returns=h;a.noty.store={};a.noty.get=function(c){return a.noty.store.hasOwnProperty(c)?a.noty.store[c]:b};a.noty.close=function(c){return a.noty.get(c)?a.noty.get(c).close():b};a.noty.closeByElementId=function(c){var b=[];a.each(a.noty.store,function(d,a){a.options.elementId==c&&b.push(a)});a(b).each(function(b,a){a.close()})};a.noty.closeByViewId=function(c){var b=[];a.each(a.noty.store,function(d,a){a.options.viewId==c&&b.push(a)});a(b).each(function(b,a){a.close()})};a.noty.getByViewIdAndElementId=function(d,b){var c="";a.each(a.noty.store,function(e,a){if((!d||a.options.viewId==d)&&(!b||a.options.elementId==b))c=a});return c};a.noty.closeAllErrorsByViewId=function(c){var b=[];a.each(a.noty.store,function(d,a){a.options.viewId==c&&a.options.type=="error"&&b.push(a)});a(b).each(function(b,a){a.close()})};a.noty.setText=function(c,d){return a.noty.get(c)?a.noty.get(c).setText(d):b};a.noty.setType=function(c,d){return a.noty.get(c)?a.noty.get(c).setType(d):b};a.noty.clearQueue=function(){a.noty.queue=[]};a.noty.closeAll=function(){a.noty.clearQueue();a.each(a.noty.store,function(b,a){a.close()})};var k=window.alert;a.noty.consumeAlert=function(b){window.alert=function(c){if(b)b.text=c;else b={text:c};a.notyRenderer.init(b)}};a.noty.stopConsumeAlert=function(){window.alert=k};a.noty.defaults={layout:"topCenter",theme:"defaultTheme",type:"alert",text:"",dismissQueue:c,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:300},timeout:b,force:b,modal:b,closeWith:[],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:b};a(window).resize(function(){a.each(a.noty.layouts,function(c,b){b.container.style.apply(a(b.container.selector))})})})(jQuery);function noty(a){var b=0,c={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onClosed:"callback.afterClose"};jQuery.each(a,function(e,f){if(c[e]){b++;var d=c[e].split(".");if(!a[d[0]])a[d[0]]={};a[d[0]][d[1]]=f?f:function(){};delete a[e]}});if(!a.closeWith)a.closeWith=jQuery.noty.defaults.closeWith;if(a.hasOwnProperty("closeButton")){b++;a.closeButton&&a.closeWith.push("button");delete a.closeButton}if(a.hasOwnProperty("closeOnSelfClick")){b++;a.closeOnSelfClick&&a.closeWith.push("click");delete a.closeOnSelfClick}if(a.hasOwnProperty("closeOnSelfOver")){b++;a.closeOnSelfOver&&a.closeWith.push("hover");delete a.closeOnSelfOver}if(a.hasOwnProperty("custom")){b++;if(a.custom.container!="null")a.custom=a.custom.container}if(a.hasOwnProperty("cssPrefix")){b++;delete a.cssPrefix}if(a.theme=="noty_theme_default"){b++;a.theme="defaultTheme"}if(!a.hasOwnProperty("dismissQueue"))if(a.layout=="topLeft"||a.layout=="topRight"||a.layout=="bottomLeft"||a.layout=="bottomRight")a.dismissQueue=true;a.buttons&&jQuery.each(a.buttons,function(c,a){if(a.click){b++;a.onClick=a.click;delete a.click}if(a.type){b++;a.addClass=a.type;delete a.type}});if(b)typeof console!=="undefined"&&console.warn&&console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.");return jQuery.notyRenderer.init(a)}(function(a){a.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){a(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);(function(a){a.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){a(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});a(this).css({left:(a(window).width()-a(this).outerWidth(false))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}})(jQuery);(function(a){a.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){a(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});window.innerWidth<600&&a(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}})(jQuery);var MF=new Backbone.Marionette.Application;MF.addRegions({header:"#main-header",content:"#contentInner",menu:"#left-navigation"});MF.addInitializer(function(){$("#ajaxLoading").hide();MF.vent.bind("route",function(b,a){MF.Routing.showRoute(b,a)});Backbone.Marionette.TemplateCache.prototype.loadTemplate=function(){return MF.repository.ajaxGet(this.url,this.data)};Backbone.Marionette.TemplateCache.prototype.compileTemplate=function(a){return a}});MF.bind("initialize:after",function(){Backbone.history&&Backbone.history.start()});MF.generateRoute=function(j,c,a,b,d){var e=MF.State.get("Relationships"),f=c?c:0,g=a&&a>0?a:e.parentId,i=b&&b>0?b:e.rootId,h=d?"/"+d:"";return j+"/"+f+"/"+g+"/"+i+h};$(function(){MF.start()});MF.Controller=function(a){var b={};b.showViews=function(j,e,f,g,h){var c=_.find(a.routeTokens,function(a){return a.route==j});if(!c)return;var b=$.extend({},c);b.templateUrl=b.url+"_Template";if(e){b.url+="/"+e;b.route+="/"+e}if(f){b.url+="?ParentId="+f;b.route+="/"+f}if(g){b.url+="&RootId="+g;b.route+="/"+g}if(h){b.url+="&Var="+h;b.route+="/"+h}a.State.set({Relationships:{entityId:e?e:0,parentId:f?f:0,rootId:g?g:0,extraVar:h?h:""}});var d;if(c.itemName&&a.Views[c.itemName])d=new a.Views[c.itemName](b);else d=new a.Views[c.viewName](b);if(c.isChild){var i=a.WorkflowManager.addChildView(d);if(!i){a.WorkflowManager.cleanAllViews();a.State.set({currentView:d});a.content.show(d)}}else{a.WorkflowManager.cleanAllViews();a.State.set({currentView:d});a.content.show(d)}};a.addInitializer(function(){a.ScheduleApp.Menu.show()});return b}(MF,Backbone);MF.Header=function(b,d){var a="userSettings",c={};c.HeaderView=d.View.extend({events:{"click #userSettings":a},initialize:function(){this.setupAppSelectionEvents();this.setupGlobalSettings()},setupGlobalSettings:function(){var a="mouseover";$("a[rel^='prettyPhoto']").live(a,function(){var b=this;if(!$(b).data("init")){$(b).data("init",true);$(b).prettyPhoto({theme:"light_rounded",show_title:false,deeplinking:false});$(b).trigger(a)}})},userSettings:function(c){c.preventDefault();b.State.set({application:a});b.vent.trigger("route","usersettings",true)},setupAppSelectionEvents:function(){var a=this;b.State.bind("change:application",function(){a.setSelection(b.State.get("application"))})},setSelection:function(c){var b="#userSettings";this.$("#main-tabs li").removeClass("selected");this.$(b).removeClass("active");c==a&&this.$(b).addClass("active")}});b.addInitializer(function(){c.view=(new c.HeaderView({el:$("#main-header")})).render()});return c}(MF,Backbone);if(typeof MF=="undefined")var MF={};if(typeof CC=="undefined")var CC={};MF.mixins={};MF.mixin=function(c,e,d){var b=MF.mixins[e];for(var a in b)if(a=="render"){if(d!=true)c[a]=b[a]}else if(c[a]==null&&b.hasOwnProperty(a))c[a]=b[a]};MF.mixins.modelAndElementsMixin={bindModelAndElements:function(c){var a=this,b=a;a.mappingOptions={ignore:[]};_.each(c,function(a){b.mappingOptions.ignore.push(a)});a.model=ko.mapping.fromJS(a.rawModel,a.mappingOptions);a.extendModel(a.model);ko.applyBindings(a.model,a.el);a.elementsViewmodel=CC.elementService.getElementsViewmodel(a);a.boundElementOptions&&a.boundElementOptions.modifiers&&_.each(a.boundElementOptions.modifiers,function(a){a(this.elementsViewmodel.collection)},a);var d=_.filter(_.keys(a.model),function(a){return a.indexOf("_")==0&&a!="__ko_mapping__"});_.each(d,function(a){b.mappingOptions.ignore.push(a)});a.renderElements();a.mappingOptions.ignore.push("_availableItems");a.mappingOptions.ignore.push("_resultsItems");a.mappingOptions.ignore=_.uniq(a.mappingOptions.ignore);MF.vent.trigger("model:"+a.id+"modelLoaded")},bindSpecificModelAndElements:function(b){var a=this,d=a;a.mappingOptions={ignore:[]};a.viewModel=ko.mapping.fromJS(b);a.extendModel(a.viewModel);ko.applyBindings(a.viewModel,a.el);a.elementsViewmodel=CC.elementService.getElementsViewmodel(a);var c=_.filter(_.keys(a.viewModel),function(a){return a.indexOf("_")==0&&a!="__ko_mapping__"});_.each(c,function(a){d.mappingOptions.ignore.push(a)});a.renderElements()},renderElements:function(){var a=this.elementsViewmodel.collection;for(var b in a)a[b].render()},extendModel:function(a){a._createdText=ko.computed(function(){return a.EntityId()>0&&a.DateCreated()?"Added "+(new XDate(a.DateCreated())).toString("MMM d, yyyy"):""},this);a._title=ko.computed(function(){return a.EntityId()<=0&&a._Title()?"Add New "+a._Title():a._Title()?a._Title():""},this)},addIdsToModel:function(){var b=this,a=MF.State.get("Relationships");if(!a)return;b.model.EntityId(a.entityId);b.model.ParentId(a.parentId);b.model.RootId(a.rootId);b.model.Var(a.extraVar)}};MF.mixins.reportMixin={events:{"click #viewReport":"viewReport"},successSelector:"#messageContainer",errorSelector:"#messageContainer",viewReport:function(){var a=this,b=CC.ValidationRunner.runViewModel(a.cid,a.elementsViewmodel,a.errorSelector);if(!b)return;var c=a.createUrl();$("#reportBody").attr("src",c)},createUrl:function(){}};MF.mixins.formMixin={events:{"click #save":"saveItem","click #cancel":"cancel"},successSelector:"#messageContainer",errorSelector:"#messageContainer",saveItem:function(){var a=this,f=CC.ValidationRunner.runViewModel(a.cid,a.elementsViewmodel,a.errorSelector);if(!f)return;var b,c=$("input:file",a.$el);if(c.length>0&&_.any(c,function(a){return $(a).val()})){var e=a;b=ko.mapping.toJS(a.model,a.mappingOptions);var d=new CC.AjaxFileUpload(c[0],{action:e.model._saveUrl(),onComplete:function(b,a){e.successHandler(a)}});d.setData(b);d.submit()}else{b=JSON.stringify(ko.mapping.toJS(a.model,a.mappingOptions));var g=MF.repository.ajaxPostModel(a.model._saveUrl(),b);g.done($.proxy(a.successHandler,a))}},cancel:function(){MF.vent.trigger("form:"+this.id+":cancel");!this.options.noBubbleUp&&MF.WorkflowManager.returnParentView()},successHandler:function(c){var b=this,a=typeof c=="string"?JSON.parse(c):c;if(!a.Success){a.Message&&!$.noty.getByViewIdAndElementId(b.cid)&&$(b.errorSelector).noty({type:"error",text:a.Message,viewId:b.cid});a.Errors&&!$.noty.getByViewIdAndElementId(b.cid)&&_.each(a.Errors,function(a){$(this.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}else{if(a.Message){var d=$(b.successSelector).noty({type:"success",text:a.Message,viewId:b.cid});d.setAnimationSpeed(1e3);d.setTimeout(3e3);$.noty.closeAllErrorsByViewId(b.cid)}MF.vent.trigger("form:"+b.id+":success",a);!b.options.noBubbleUp&&MF.WorkflowManager.returnParentView(a,true)}}};MF.mixins.displayMixin={events:{"click #cancel":"cancel"},cancel:function(){MF.vent.trigger("display:"+this.id+":cancel");!this.options.noBubbleUp&&MF.WorkflowManager.returnParentView()}};MF.mixins.ajaxDisplayMixin={render:function(){$.when(MF.loadTemplateAndModel(this)).done($.proxy(this.renderCallback,this))},renderCallback:function(){var a=this;a.bindModelAndElements();a.viewLoaded();MF.vent.trigger("display:"+a.id+":pageLoaded",a.options)}};MF.mixins.ajaxFormMixin={render:function(){$.when(MF.loadTemplateAndModel(this)).done($.proxy(this.renderCallback,this))},renderCallback:function(){var a=this;a.bindModelAndElements();a.viewLoaded();MF.vent.trigger("form:"+a.id+":pageLoaded",a.options)}};MF.mixins.ajaxGridMixin={render:function(){var a=this;MF.repository.ajaxGet(a.options.url,a.options.data).done($.proxy(a.renderCallback,a))},renderCallback:function(b){var a=this;$(a.el).html($("#gridTemplate").tmpl(b));$.extend(a.options,b,MF.gridDefaults);a.setupGrid();a.viewLoaded();MF.vent.trigger("grid:"+a.id+":pageLoaded",a.options)}};MF.mixins.setupGridMixin={setupGrid:function(){var a=this;$.each(a.options.headerButtons,$.proxy(function(b,a){$(this.el).find("."+a).show()},a));if(a.options.gridId)a.$el.find("#gridContainer").attr("id",a.options.gridId);else a.options.gridId="gridContainer";if(a.options.NoMultiSelectGridView)a.options.gridOptions=a.options.gridOptions?(a.options.gridOptions.multiselect=false):(a.options.gridOptions={multiselect:false});a.options.searchField=a.options.gridDef.SearchField||a.options.searchField;$("#"+a.options.gridId,a.el).AsGrid(a.options.gridDef,a.options.gridOptions);$(a.el).gridSearch({onClear:$.proxy(a.removeSearch,a),onSubmit:$.proxy(a.search,a)})}};MF.mixins.defaultGridEventsMixin={events:{"click .new":"addNew","click .delete":"deleteItems"},setupBindings:function(){var a=this;MF.vent.bind(a.options.gridId+":AddUpdateItem",a.editItem,a);MF.vent.bind(a.options.gridId+":DisplayItem",a.displayItem,a);$.isFunction(a._setupBindings)&&a._setupBindings()},unbindBindings:function(){var a=this;MF.vent.unbind(a.options.gridId+":AddUpdateItem",a.editItem,a);MF.vent.unbind(a.options.gridId+":DisplayItem",a.displayItem,a);$.isFunction(a._unbindBindings)&&a._unbindBindings()},addNew:function(){MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate),true)},editItem:function(a){MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,a),true)},displayItem:function(a){MF.vent.trigger("route",MF.generateRoute(this.options.display,a),true)},deleteItems:function(){if(confirm("Are you sure you would like to delete this Item?")){var a=cc.gridMultiSelect.getCheckedBoxes(this.options.gridId);MF.repository.ajaxGet(this.options.deleteMultipleUrl,$.param({EntityIds:a},true)).done($.proxy(function(){this.reloadGrid()},this))}},reloadGrid:function(){var c=":DisplayItem",b=":AddUpdateItem",a=this;MF.vent.unbind(a.options.gridId+b,a.editItem,a);MF.vent.unbind(a.options.gridId+c,a.displayItem,a);$("#"+a.options.gridId).trigger("reloadGrid");MF.vent.bind(a.options.gridId+b,a.editItem,a);MF.vent.bind(a.options.gridId+c,a.displayItem,a)},callbackAction:function(){this.reloadGrid()}};MF.mixins.setupGridSearchMixin={search:function(d){var a={field:this.options.searchField,data:d},b={group:"AND",rules:[a]},c={filters:""+JSON.stringify(b)+""};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:c});this.reloadGrid()},removeSearch:function(){delete $("#"+this.options.gridId).jqGrid("getGridParam","postData").filters;this.reloadGrid();return false}};MF.Views.ResetPasswordView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"baseFormView")},render:function(){var a=this;a.bindModelAndElements();a.setBindings&&a.setBindings();$("input[name='Password']").focus();a.viewLoaded();MF.vent.trigger("form:"+a.id+":pageLoaded",a.options);return a}});MF.Views.LoginView=MF.Views.View.extend({registerEvents:function(){this.events={"click #forgotPasswordLink":"forgotPasswordClick","click .save":"submitClick"}},initialize:function(){var a=this,b=a;MF.mixin(a,"formMixin");MF.mixin(a,"modelAndElementsMixin");a.registerEvents();a.$el.delegate(a.$el,"keypress",function(a){if(a.keyCode==13){$(".save").focus();b.submitClick()}})},render:function(){var a=this;a.bindModelAndElements();a.setBindings&&a.setBindings();$("input[name='UserName']").focus();a.viewLoaded();MF.vent.trigger("form:"+a.id+":pageLoaded",a.options);return a},forgotPasswordClick:function(c){c.preventDefault();var b={url:this.options.forgotPasswordUrl,popupTitle:this.options.popupTitle},a=new MF.Views.AjaxPopupFormModule(b);a.render()},submitClick:function(){var a=this,b=CC.ValidationRunner.runViewModel(a.cid,a.elementsViewmodel);if(!b)return;var d=JSON.stringify(ko.mapping.toJS(a.model)),c=MF.repository.ajaxPostModel(a.model._saveUrl(),d);c.done($.proxy(a.success,a))},success:function(a){var b=this;if(a.Success)window.location.href=a.RedirectUrl;else{a.Message&&!$.noty.getByViewIdAndElementId(b.cid)&&$(b.errorSelector).noty({type:"error",text:a.Message,viewId:b.cid});a.Errors&&!$.noty.getByViewIdAndElementId(b.cid)&&_.each(a.Errors,function(a){$(this.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}}});MF.Routing=function(d,b){var a={};a.showRoute=function(c,a){b.history.navigate(c,a)};var c=function(a){var f=a[0],d=a.length,b=f;if(d>1)for(var c=1;c<d;c++){var e=a[c];if(e)b=b+"/"+e}return b};a.getCurrentRoute=function(){return window.location.hash};return a}(MF,Backbone);MF.loadTemplateAndModel=function(a){var b=new $.Deferred;$.when(Backbone.Marionette.TemplateCache.get(a.options.route,a.options.templateUrl,a.options.data),MF.repository.ajaxGet(a.options.url,a.options.data)).done(function(d,c){a.$el.html(d);a.rawModel=c[0];b.resolve()});return b.promise()};MF.State=function(c,a){var b=a.Model.extend({defaults:{parentStack:[]},application:"",currentView:""});return new b}(MF,Backbone);MF.Views={};(function(b){function c(c,g){var b=this;b._superCallObjects||(b._superCallObjects={});var e=b._superCallObjects[c]||b,d=a(c,e);b._superCallObjects[c]=d;if(d[c])var f=d[c].apply(b,g||[]);delete b._superCallObjects[c];return f}function a(c,b){var a=b;while(a[c]===b[c])a=a.constructor.__super__;return a}_.each(["Model","Collection","View","Router"],function(a){b[a].prototype._super=c})})(Backbone);MF.Views.View=Backbone.View.extend({removeChildView:function(a){var b=this.children[a.cid];if(b){b.close();delete this.children[a.cid]}},storeChild:function(a){if(!this.children)this.children={};this.children[a.cid]=a},close:function(){var a=this;a.unbind();a.elementsViewmodel&&a.elementsViewmodel.destroy();a.remove();a.closeChildren();a.onClose&&a.onClose()},closeChildren:function(){this.children&&_.each(this.children,function(a){a.close()})},viewLoaded:function(){}});MF.Views.FormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"modelAndElementsMixin")},render:function(){var a=this;a.bindModelAndElements();a.viewLoaded();MF.vent.trigger("form:"+a.id+":pageLoaded",a.options);return a}});MF.Views.AjaxFormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")}});MF.Views.AjaxDisplayView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"displayMixin");MF.mixin(this,"ajaxDisplayMixin");MF.mixin(this,"modelAndElementsMixin")}});MF.Views.NoMultiSelectGridView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Views.GridView=MF.Views.View.extend({initialize:function(){var a=this;MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Views.AjaxPopupFormModule=MF.Views.View.extend({initialize:function(){this.registerSubscriptions()},render:function(){var a=this;a.options.noBubbleUp=true;a.options.isPopup=true;a.popupForm=a.options.view&&MF.Views[a.options.view]?new MF.Views[a.options.view](a.options):new MF.Views.AjaxFormView(a.options);a.popupForm.errorSelector="#popupMessageContainer";a.popupForm.render();a.storeChild(a.popupForm);$(a.el).append(a.popupForm.el)},registerSubscriptions:function(){var a=this;MF.vent.bind("form:"+a.id+":pageLoaded",a.loadPopupView,a);MF.vent.bind("popup:"+a.id+":cancel",a.popupCancel,a);MF.vent.bind("popup:"+a.id+":save",a.formSave,a);MF.vent.bind("form:"+a.id+":success",a.formSuccess,a)},onClose:function(){var a=this;MF.vent.unbind("form:"+a.id+":pageLoaded");MF.vent.unbind("popup:"+a.id+":cancel");MF.vent.unbind("popup:"+a.id+":save");MF.vent.unbind("form:"+a.id+":success");a.notification=null},loadPopupView:function(a){var d=a.buttons?a.buttons:MF.Views.popupButtonBuilder.builder(a.id).standardEditButons(),c={id:this.id,el:this.el,buttons:d,title:a.title},b=new MF.Views.PopupView(c);b.render();this.storeChild(b)},formSave:function(){this.popupForm.saveItem()},formSuccess:function(a){MF.vent.trigger("ajaxPopupFormModule:"+this.id+":success",a)},popupCancel:function(){MF.vent.trigger("ajaxPopupFormModule:"+this.id+":cancel",[])}});MF.Views.AjaxPopupDisplayModule=MF.Views.View.extend({initialize:function(){this.registerSubscriptions()},render:function(){var a=this;a.options.noBubbleUp=true;a.options.isPopup=true;a.popupDisplay=a.options.view&&MF.Views[a.options.view]?new MF.Views[a.options.view](a.options):new MF.Views.AjaxDisplayView(a.options);a.popupDisplay.render();a.storeChild(a.popupDisplay);$(a.el).append(a.popupDisplay.el)},registerSubscriptions:function(){var a=this;MF.vent.bind("display:"+a.id+":pageLoaded",a.loadPopupView,a);MF.vent.bind("popup:"+a.id+":cancel",a.popupCancel,a)},onClose:function(){MF.vent.unbind("display:"+this.id+":pageLoaded");MF.vent.unbind("popup:"+this.id+":cancel")},loadPopupView:function(a){var b=this,e=a.buttons?a.buttons:MF.Views.popupButtonBuilder.builder(a.id).standardEditButons(),d={id:b.id,el:b.el,buttons:e,width:b.options.popupWidth,title:a.title},c=new MF.Views.PopupView(d);c.render();b.storeChild(c)},popupCancel:function(){MF.vent.trigger("module:"+this.id+":cancel",[])}});MF.Views.PopupView=MF.Views.View.extend({render:function(){var a=this;$(".ui-dialog").remove();$(a.el).dialog({modal:true,width:a.options.width||550,buttons:a.options.buttons,title:a.options.title,close:function(){MF.vent.trigger("popup:"+id+":cancel")}});return a},close:function(){$(this.el).dialog("close")}});MF.Views.TemplatedPopupView=MF.Views.View.extend({initialize:function(){this.options=$.extend({},MF.popupDefaults,this.options)},render:function(){var a=this;$(a.el).append($(a.options.template).tmpl(a.options.data));var c={id:a.id,el:a.el,buttons:a.options.buttons,width:a.options.popupWidth,title:a.options.title},b=new MF.Views.PopupView(c);b.render();a.storeChild(b)}});MF.Views.KOPopupView=MF.Views.View.extend({initialize:function(){this.options=$.extend({},MF.popupDefaults,this.options)},render:function(){var a=this,d=$(a.options.template).clone().show();$(a.el).append(d);ko.applyBindings(a.options.data,a.el);var c={id:a.id,el:a.el,buttons:a.options.buttons,width:a.options.popupWidth,title:a.options.title},b=new MF.Views.PopupView(c);b.render();a.storeChild(b)}});MF.Views.popupButtonBuilder=function(){return{builder:function(g){var b="Cancel",a="popup:",d={},c=function(b,a){d[b]=a},f=function(){MF.vent.trigger(a+g+":save",this)},h=function(){MF.vent.trigger(a+g+":edit")},e=function(){MF.vent.trigger(a+g+":cancel");$(this).dialog("close");$(".ui-dialog").remove()};return{getButtons:function(){return d},getSaveFunc:function(){return f},getCancelFunc:function(){return e},addSaveButton:function(){c("Save",f);return this},addEditButton:function(){c("Edit",h);return this},addCancelButton:function(){c(b,e);return this},addButton:function(b,a){c(b,a);return this},clearButtons:function(){d={};return this},standardEditButons:function(){c("Save",f);c(b,e);return d},standardDisplayButtons:function(){c(b,e);return d}}}}}();MF.Views.TokenizerModule=MF.Views.View.extend({render:function(){var a=this;a.registerSubscriptions();a.tokenView=new MF.Views.TokenView(a.options);a.storeChild(a.tokenView)},registerSubscriptions:function(){var b="ajaxPopupFormModule:",a=this;MF.vent.bind("token:"+a.id+":addUpdate",a.addUpdateItem,a);MF.vent.bind(b+a.id+":success",a.formSuccess,a);MF.vent.bind(b+a.id+":cancel",a.formCancel,a)},onClose:function(){var a="ajaxPopupFormModule:";MF.vent.unbind("token:"+this.id+":addUpdate");MF.vent.unbind(a+this.id+":success");MF.vent.unbind(a+this.id+":cancel")},addUpdateItem:function(){var a=this,b={id:a.id,url:a.options.tokenizerUrls[a.id+"AddUpdateUrl"],crudFormOptions:{errorContainer:"#errorMessagesPU",successContainer:"#errorMessagesForm"}};a.popupModule=new MF.Views.AjaxPopupFormModule(b);a.popupModule.render();a.storeChild(a.popupModule);$(a.el).append(a.popupModule.el)},formSuccess:function(a){this.tokenView.successHandler(a);this.popupModule.close();this.formCancel();return false},formCancel:function(){this.popupModule.close();return false}});MF.Views.TokenView=MF.Views.View.extend({events:{"click #addNew":"addNew"},initialize:function(){this.options=$.extend({},MF.tokenDefaults,this.options)},render:function(){var c="#hasAssets",b="#noAssets",a=this;if(!a.options.availableItems||a.options.availableItems.length==0){$(b,a.el).show();$(c,a.el).hide()}else{$(b,a.el).hide();$(c,a.el).show();a.inputSetup()}},inputSetup:function(){var a=this;$(a.options.inputSelector,a.el).tokenInput(a.options.availableItems,{prePopulate:a.options.selectedItems,internalTokenMarkup:$.proxy(a.internalTokenMarkup,a),afterTokenSelectedFunction:$.proxy(a.afterTokenSelectedFunction,a),onDelete:$.proxy(a.deleteToken,a)});a.options.instantiated=true;a.postSetup&&a.postSetup()},internalTokenMarkup:function(b){var a="class='selectedItem'";return"<p><a "+a+">"+b.name+"</a></p>"},afterTokenSelectedFunction:function(){},deleteToken:function(){},addNew:function(a){a.preventDefault();MF.vent.trigger("token:"+this.id+":addUpdate",this.id)},successHandler:function(b){var a=this;if(!a.options.instantiated){$("#noAssets",a.el).hide();$("#hasAssets",a.el).show();a.inputSetup()}$(a.options.inputSelector,a.el).tokenInput("add",{id:b.EntityId,name:b.Variable});$(a.options.inputSelector,a.el).tokenInput("addToAvailableList",{id:b.EntityId,name:b.Variable})}});MF.Views.EditableTokenView=MF.Views.TokenView.extend({events:_.extend({"click .tokenEditor":"tokenEditor"},MF.Views.TokenView.prototype.events),internalTokenMarkup:function(b){var a="class='selectedItem'";return"<p><a "+a+">"+b.name+"</a><a href='javascript:void(0);' class='tokenEditor' > -- Edit</a> </p>"},afterTokenSelectedFunction:function(c){var b="selectedItems",a=this;!$(a.options.inputSelector,a.el).data(b)&&$(a.options.inputSelector,a.el).data(b,[]);$(a.options.inputSelector,a.el).data(b).push(c)},deleteToken:function(c){var a=$(this.options.inputSelector,this.el).data("selectedItems"),b=0;$.each(a,function(d,a){if(a.id==c.id)b=d});a.splice(b,1)},tokenEditor:function(){}});MF.tokenDefaults={availableItems:[],selectedItems:[],tooltipAjaxUrl:"",inputSelector:"#Input"};MF.popupDefaults={title:""};MF.gridDefaults={searchField:"Name",showSearch:true,id:""};MF.WorkflowManager=function(b,d){var a="parentStack",c="currentView",e=d.Model.extend({defaults:{parentStack:[]},addChildView:function(d){var e=b.State.get(c);if(!e)return null;b.State.set({currentView:d});b.State.set({childView:d});var f=this.get(a);f.push(e);$.when(d.render()).then(function(){$(e.el).after(d.el)});$(e.el).hide();return d},returnParentView:function(f,e){var g=this.get(a),d=g.pop();b.State.get(c).close();if(!d)return;e&&d.callbackAction&&d.callbackAction(f);$(d.el).show();b.vent.trigger("route",d.options.route,false);b.State.set({currentView:d})},loadBottomLevel:function(c){var b=_.last(this.get(a));if(b&&b.options.url==c){this.returnParentView("",false);return false}return true},cleanAllViews:function(){var d=b.State.get(c);d&&d.close();var e=this.get(a);while(e.length>0)e.pop().close()}});return new e}(MF,Backbone);MF.Routing.BillingApp=function(b){var a={};b.addInitializer(function(){});return a}(MF,Backbone);MF.Views.PayTrainerGridView=MF.Views.View.extend({initialize:function(){var a=this;a.beforeInitGrid();a.model={};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"setupGridSearchMixin")},events:{"click .jqgrow":"handleSingleClick","click .cbox":"handleSelectAllClick","click #payTrainerButton":"payTrainer","click .return":"returnToParent","click #search":"filterByDate"},beforeInitGrid:function(){var a=this;this.options.gridId="trainerPayment";this.options.gridOptions={loadComplete:function(){var g=$(this).getDataIDs(),e=[];a.options.paymentTotal=0;for(var f=0,h=g.length;f<h;f++){var b=g[f],c,d=$(this).getRowData(b);if(d.InArrears=="True"){c=$("#"+b,a.el);c.find("td").addClass("gridRowRedFont");c.find("td:first input").remove()}else if(d.TrainerVerified=="True"){c=$("#"+b,a.el);e.push({id:b,trainerPay:d.TrainerPay,_checked:false})}else{c=$("#"+b,a.el);c.find("td").addClass("gridRowGrey");e.push({id:b,trainerPay:d.TrainerPay,_checked:false})}}a.model.paymentAmount=ko.observable(a.options.paymentTotal);a.model.eligableRows=ko.mapping.fromJS(e);a.setupElements()}}},viewLoaded:function(){var a=this;MF.vent.bind("popup:payTrainerPopup:save",a.formSave,a);MF.vent.bind("popup:payTrainerPopup:cancel",a.formCancel,a)},onClose:function(){MF.vent.unbind("popup:payTrainerPopup:save");MF.vent.unbind("popup:payTrainerPopup:cancel");this._super("onClose",arguments)},reloadGrid:function(){$("#"+this.options.gridId).trigger("reloadGrid")},setupElements:function(){var b=".content-header",a=this;if($("#filterArea").size()==0){$(a.el).find(b).prepend($("#payTrainerSearchTemplate").tmpl());$(".title-name",a.el).append("<span class='paymentAmount' data-bind='text:paymentAmount'></span>");$("[name='EndDate']",a.$el).datepicker();a.model.EndDate=ko.observable((new XDate).toString("MM/dd/yyyy"));$("#payTrainerButton").hide();$(".paymentAmount").hide();$(b,a.$el).find(".search").remove();ko.applyBindings(a.model,a.el)}},returnToParent:function(){MF.WorkflowManager.returnParentView(null,true)},filterByDate:function(){var a={endDate:this.model.EndDate()};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:a});this.reloadGrid()},payTrainer:function(){var c="payTrainerPopup",a=this,d=a.model.paymentAmount();if(d<=0)return;var b=MF.Views.popupButtonBuilder.builder(c);b.addButton("Ok",b.getSaveFunc());b.addCancelButton();var f={trainersName:a.options.TrainersName,amount:d},e={id:c,data:f,template:"#payTrainerTemplate",title:"Trainer Payment",buttons:b.getButtons()};a.templatePopup=new MF.Views.TemplatedPopupView(e);a.templatePopup.render();a.storeChild(a.templatePopup)},formSave:function(){var a=this,b=ko.mapping.toJS(a.model);b.eligableRows=_.filter(b.eligableRows,function(a){return a._checked});b.EntityId=MF.State.get("Relationships").entityId;var d=JSON.stringify(b),c=MF.repository.ajaxPostModel(a.options.PayTrainerUrl,d);c.done($.proxy(a.paymentCallback,a))},paymentCallback:function(a){if(a.Success){this.reloadGrid();window.open(a.Variable);this.formCancel()}},formCancel:function(){this.templatePopup.close()},handleSingleClick:function(g){var e=".paymentAmount",d="#payTrainerButton",a=this,b=$(g.currentTarget).find(".cbox");if(!b||b.attr("disabled"))return;var h=$(g.currentTarget).attr("id"),c=_.find(a.model.eligableRows(),function(a){return a.id()==h}),f=parseFloat(c.trainerPay());if(b.is(":checked")){a.model.paymentAmount(a.model.paymentAmount()+f);c._checked(true)}else{a.model.paymentAmount(a.model.paymentAmount()-f);c._checked(false)}if(a.model.paymentAmount()>0){$(d).show();$(e).show()}else{$(d).hide();$(e).hide()}},handleSelectAllClick:function(d){var c=".paymentAmount",b="#payTrainerButton",a=this;if($(d.target).closest("tr").attr("role")!="rowheader")return;a.model.paymentAmount(0);if($(d.currentTarget).is(":checked"))_.each(a.model.eligableRows(),function(a){a._checked(true);this.model.paymentAmount(this.model.paymentAmount()+parseFloat(a.trainerPay()))},a);else _.each(a.model.eligableRows(),function(a){a._checked(false)},a);if(a.model.paymentAmount()>0){$(b).show();$(c).show()}else{$(b).hide();$(c).hide()}}});MF.Views.TrainerSessionVerificationView=MF.Views.View.extend({initialize:function(){var a=this;a.beforeInitGrid();a.model={};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"setupGridSearchMixin");a.notification=new CC.NotificationService},events:{"click #acceptSessionsButton":"acceptSessions","click #alertAdminButton":"alertAdmin","click #search":"filterByDate"},successSelector:"#messageContainer",errorSelector:"#messageContainer",beforeInitGrid:function(){var a=this;this.options.gridId="trainerPayment";this.options.gridOptions={multiselect:false,loadComplete:function(){a.options.paymentTotal=0;for(var f=$(this).getDataIDs(),e=[],d=0,h=f.length;d<h;d++){var c=f[d],b=$(this).getRowData(c);if(b.InArrears=="True"){var g=$("#"+c,a.el);g.find("td").addClass("gridRowRedFont");g.find("td:first input").remove()}else{e.push({id:c,trainerPay:b.TrainerPay});a.options.paymentTotal+=parseFloat(b.TrainerPay)}}a.model.paymentAmount=ko.observable(a.options.paymentTotal);a.model.eligableRows=ko.mapping.fromJS(e);a.setupElements()}}},viewLoaded:function(){var a=this;MF.vent.bind("popup:trainerAlertAdminPopup:save",a.formSave,a);MF.vent.bind("popup:trainerAlertAdminPopup:cancel",a.formCancel,a)},onClose:function(){MF.vent.unbind("popup:trainerAlertAdminPopup:save");MF.vent.unbind("popup:trainerAlertAdminPopup:cancel");this._super("onClose",arguments)},setupElements:function(){var a=this;if($("#acceptSessionsButton").size()==0){$(a.el).find(".content-header").prepend('<a href="#" id="acceptSessionsButton"><img src="/content/images/thumbs_up.jpg" title="Accept Sessions" class="thumbsImage" /></a><a href="#" id="alertAdminButton"><img src="/content/images/thumbs_down.jpg" title="Email Admin of a problem" class="thumbsImage thumbsLeft" /></a>');$(".title-name",a.el).append("<span class='paymentAmount' data-bind='text:paymentAmount'></span>");$("[name='EndDate']",a.$el).datepicker();a.model.EndDate=ko.observable((new XDate).toString("MM/dd/yyyy"));ko.applyBindings(a.model,a.el)}},filterByDate:function(){var a={endDate:this.model.EndDate()};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:a});this.reloadGrid()},reloadGrid:function(){$("#"+this.options.gridId).trigger("reloadGrid")},acceptSessions:function(){var a=this,b=ko.mapping.toJS(a.model);b.EntityIds=_.pluck(b.eligableRows,"id");var d=JSON.stringify(b),c=MF.repository.ajaxPostModel(a.options.AcceptSessionsUrl,d);c.done($.proxy(a.acceptSessionsCallback,a))},acceptSessionsCallback:function(c){var a=this,b=typeof c=="string"?JSON.parse(c):c;if(!b.Success){b.Message&&!$.noty.getByViewIdAndElementId(a.cid)&&$(a.errorSelector).noty({type:"error",text:b.Message,viewId:a.cid});b.Errors&&!$.noty.getByViewIdAndElementId(a.cid)&&_.each(b.Errors,function(a){$(this.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}else{if(b.Message){var d=$(a.successSelector).noty({type:"success",text:b.Message,viewId:a.cid});d.setAnimationSpeed(1e3);d.setTimeout(3e3);$.noty.closeAllErrorsByViewId(a.cid)}a.model.paymentAmount(0);a.reloadGrid();MF.vent.trigger("form:"+a.id+":success",b)}},alertAdmin:function(){var c="trainerAlertAdminPopup",a=this;a.model.From=ko.observable(a.options.From);a.model.To=ko.observable(a.options.To);a.model.Subject=ko.observable(a.options.Subject);a.model.Body=ko.observable(a.options.Body);var b=MF.Views.popupButtonBuilder.builder(c);b.addButton("Send",b.getSaveFunc());b.addCancelButton();var e=a.model,d={id:c,data:e,template:"#emailTemplate",title:"Alert Admin",buttons:b.getButtons()};a.templatePopup=new MF.Views.KOPopupView(d);a.templatePopup.render();a.storeChild(a.templatePopup)},formSave:function(a){var c=ko.mapping.toJS(this.model),d=JSON.stringify(c),b=MF.repository.ajaxPostModel(this.options.AlertAdminEmailUrl,d);b.done($.proxy(function(b){this.emailCallback(b,a)},this))},emailCallback:function(c,f){var d=":success",a=this,g=a;a.successSelector=$("#messageContainer",a.el);a.errorSelector=$("#popupMessageContainer",f);var b=typeof c=="string"?JSON.parse(c):c;if(!b.Success){b.Message&&!$.noty.getByViewIdAndElementId(a.cid)&&$(a.errorSelector).noty({type:"error",text:b.Message,viewId:a.cid});b.Errors&&!$.noty.getByViewIdAndElementId(a.cid)&&_.each(b.Errors,function(a){$(g.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}else{if(b.Message){var e=$(a.successSelector).noty({type:"success",text:b.Message,viewId:a.cid});e.setAnimationSpeed(1e3);e.setTimeout(3e3);$.noty.closeAllErrorsByViewId(a.cid)}MF.vent.trigger("form:"+a.id+d,b);!a.options.noBubbleUp&&MF.WorkflowManager.returnParentView(b,true);MF.vent.trigger("form:"+a.id+d,b);a.formCancel()}},formCancel:function(){this.templatePopup.close()}});MF.Views.TrainerSessionView=MF.Views.View.extend({initialize:function(){var a=this;a.beforeInitGrid();a.model={};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"setupGridSearchMixin")},events:{"click #search":"filterByDate"},beforeInitGrid:function(){var a=this;this.options.gridId="trainerPayment";this.options.gridOptions={multiselect:false,loadComplete:function(){a.options.paymentTotal=0;for(var e=$(this).getDataIDs(),b=0,g=e.length;b<g;b++){var d=e[b],c=$(this).getRowData(d);if(c.InArrears=="True"){var f=$("#"+d,a.el);f.find("td").addClass("gridRowRedFont");f.find("td:first input").remove()}a.options.paymentTotal+=parseFloat(c.TrainerPay)}a.model.paymentAmount=ko.observable(a.options.paymentTotal);a.setupElements()}}},filterByDate:function(){var a={endDate:this.model.EndDate()};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:a});this.reloadGrid()},reloadGrid:function(){$("#"+this.options.gridId).trigger("reloadGrid")},setupElements:function(){var a=this;if($("#filterArea").size()==0){$(a.el).find(".content-header").prepend($("#payTrainerSearchTemplate").tmpl());$(".title-name",a.el).append("<span class='paymentAmount' data-bind='text:paymentAmount'></span>");$("[name='EndDate']",a.$el).datepicker();a.model.EndDate=ko.observable((new XDate).toString("MM/dd/yyyy"));$("#payTrainerButton").hide();ko.applyBindings(a.model,a.el)}}});MF.Views.TrainerPaymentListGridView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin");a.options.gridId="trainerPaymentsList"},events:{"click .return":"retunToParent"},retunToParent:function(){MF.WorkflowManager.returnParentView(null,true)},displayItem:function(b){var a=this.$el.find("#EntityId").val();window.open("/Billing/PayTrainer/TrainerReceipt/"+b+"?ParentId="+a);return false},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});CC.AjaxFileUpload=function(){var a=false,f=function(){var a=0;return function(){return"CCAjaxFileUpload"+a++}}();function c(a){return a.replace(/.*(\/|\\)/,"")}function e(a){return-1!==a.indexOf(".")?a.replace(/.*[.]/,""):""}var b=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c)}}();function d(b,c,d){if(b.addEventListener)b.addEventListener(c,d,a);else if(b.attachEvent)b.attachEvent("on"+c,function(){d.call(b)});else throw new Error("not supported or DOM not loaded");}AjaxFileUpload=function(d,b){this._input=d;this._settings={action:"upload.php",name:"userfile",multiple:a,data:{},autoSubmit:a,responseType:"json",onSubmit:function(){},onComplete:function(){}};for(var c in b)if(b.hasOwnProperty(c))this._settings[c]=b[c]};AjaxFileUpload.prototype={setData:function(a){this._settings.data=a},_createIframe:function(){var c=f(),a=b('<iframe src="javascript:false;" name="'+c+'" />');a.setAttribute("id",c);$(a).css({position:"absolute",top:"-1000px",left:"-1000px"});$(a).appendTo("body");return a},_createForm:function(f){var e=this._settings,a=b('<form method="post" enctype="multipart/form-data"></form>');a.setAttribute("action",e.action);a.setAttribute("target",f.name);a.style.display="none";document.body.appendChild(a);function d(d,c,e){if(d.hasOwnProperty(c)){var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name",e+c);b.setAttribute("value",d[c]);a.appendChild(b)}}function c(b,e){for(var a in b)if(b.hasOwnProperty(a)&&$.isPlainObject(b[a]))c(b[a],a+".");else if(b.hasOwnProperty(a)&&$.isArray(b[a]))$(b[a]).each(function(g,f){if(!$.isPlainObject(f)&&!$.isArray(f))d(b,f,a+"["+g+"].");else c(f,e+a+"["+g+"].")});else d(b,a,e)}c(e.data,"");return a},_getResponse:function(b,f){var e=a,g=this,c=this._settings;d(b,"load",function(){var h="javascript:'<html></html>';";if(b.src=="javascript:'%3Chtml%3E%3C/html%3E';"||b.src==h){e&&setTimeout(function(){$(b).remove()},0);return}var a=b.contentDocument?b.contentDocument:window.frames[b.id].document;if(a.readyState&&a.readyState!="complete")return;if(a.body&&a.body.innerHTML=="false")return;var d;if(a.XMLDocument)d=a.XMLDocument;else if(a.body){d=a.body.innerHTML;if(c.responseType&&c.responseType.toLowerCase()=="json"){if(a.body.firstChild&&a.body.firstChild.nodeName.toUpperCase()=="PRE"){a.normalize();d=a.body.firstChild.firstChild.nodeValue}if(d)d=eval("("+d+")");else d={}}}else d=a;c.onComplete.call(g,f,d);e=true;b.src=h})},submit:function(){var b=this,k=b,i=b._settings;if(!b._input||b._input.value==="")return;var d=c(b._input.value);if(a===i.onSubmit.call(b,d,e(d))){b._clearInput();return}var g=b._createIframe(),f=b._createForm(g),j=$(b._input).parent(),h=$(b._input).attr("id");f.appendChild(b._input);f.submit();$(j).append($("<input>").attr("type","file").attr("name",h).attr("id",h).addClass("customfile-input").attr("size",45));$(f).remove();b._getResponse(g,d)}};return AjaxFileUpload}();ko.bindingHandlers.MultiSelect={init:function(a,c){var b=c();b._resultsItems=ko.observableArray();$(a).tokenInput(b,{internalTokenMarkup:function(){var a=$("<a>").addClass("selectedItem").attr("data-bind","text:name");return $("<p>").append(a)}});var e=$(a).data("tokenInputObject"),d=function(){ko.applyBindings(b,$(a).next("div")[0])};e.init(d)},update:function(){}};ko.bindingHandlers.dateString={init:function(a,d){ko.utils.registerEventHandler(a,"change",function(){var b=d();a.nodeName=="SPAN"&&b($(a).text());a.nodeName=="INPUT"&&b($(a).val())});ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(a).timepicker("destroy")});var b=ko.utils.unwrapObservable(d()),c=b?(new XDate(new XDate(b))).toString("MM/dd/yyyy"):"";a.nodeName=="SPAN"&&$(a).text(c).change();a.nodeName=="INPUT"&&$(a).val(c).change()},update:function(a,c){var b=ko.utils.unwrapObservable(c());a.nodeName=="SPAN"&&$(a).text(b);a.nodeName=="INPUT"&&$(a).val(b)}};ko.bindingHandlers.timeString={init:function(a,d){ko.utils.registerEventHandler(a,"change",function(){var b=d();a.nodeName=="SPAN"&&b($(a).text());a.nodeName=="INPUT"&&b($(a).val())});ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(a).datepicker("destroy")});var b=ko.utils.unwrapObservable(d()),c=b?(new XDate(new Date(b))).toString("hh:mm TT"):"";a.nodeName=="SPAN"&&$(a).text(c).change();a.nodeName=="INPUT"&&$(a).val(c).change()},update:function(a,c){var b=ko.utils.unwrapObservable(c());a.nodeName=="SPAN"&&$(a).text(b);a.nodeName=="INPUT"&&$(a).val(b);$(a).val(b)}};function ensureDropdownSelectionIsConsistentWithModelValue(a,b,c){if(c)b!==ko.selectExtensions.readValue(a)&&ko.selectExtensions.writeValue(a,b);b!==ko.selectExtensions.readValue(a)&&ko.utils.triggerEvent(a,"change")}ko.bindingHandlers.groupedSelect={update:function(a,t,r){var i="option";if(ko.utils.tagNameLower(a)!=="select")throw new Error("options binding applies only to SELECT elements");var o=a.length==0,q=ko.utils.arrayMap(ko.utils.arrayFilter(a.childNodes,function(a){return a.tagName&&ko.utils.tagNameLower(a)===i&&a.selected}),function(a){return ko.selectExtensions.readValue(a)||a.innerText||a.textContent}),s=a.scrollTop,b=ko.utils.unwrapObservable(t());b=b.groups();var x=a.value;while(a.length>0){ko.cleanNode(a.options[0]);a.remove(0)}while(a.children.length>0){ko.cleanNode(a.children[0]);$(a.children[0]).remove()}if(b){var f=r();if(typeof b.length!="number")b=[b];if(f.optionsCaption){var h=document.createElement(i);ko.utils.setHtml(h,f.optionsCaption);ko.selectExtensions.writeValue(h,undefined);a.appendChild(h)}for(var e=0,v=b.length;e<v;e++){var n=document.createElement("optgroup");ko.bindingHandlers.attr.update(n,ko.observable({label:b[e].label()}));var u=ko.utils.unwrapObservable(b[e].children());for(c=0,d=u.length;c<d;c++){var h=document.createElement(i),k=typeof f.optionsValue=="string"?b[e].children()[c][f.optionsValue]:b[e].children()[c];k=ko.utils.unwrapObservable(k);ko.selectExtensions.writeValue(h,k);var j=f.optionsText,g;if(typeof j=="function")g=j(b[e].children()[c]);else if(typeof j=="string")g=b[e].children()[c][j];else g=k;if(g===null||g===undefined)g="";ko.utils.setTextContent(h,g);n.appendChild(h)}a.appendChild(n)}for(var m=a.getElementsByTagName(i),p=0,l=0,w=m.length;l<w;l++)if(ko.utils.arrayIndexOf(q,ko.selectExtensions.readValue(m[l]))>=0){ko.utils.setOptionNodeSelectionState(m[l],true);p++}a.scrollTop=s;o&&"value"in f&&ensureDropdownSelectionIsConsistentWithModelValue(a,ko.utils.unwrapObservable(f.value),true);ko.utils.ensureSelectElementIsRenderedCorrectly(a)}}};ko.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:true}}};if(typeof CC=="undefined")var CC={};CC.Elements={};CC.Elements.Element=function(a){this.$container=a;this.trimFieldName=function(){var a=this.$container.find("label").text();a=a.replace(":","");a=a.replace("*","");return $.trim(a)}};CC.Elements.Element.extend=Backbone.View.extend;$.extend(CC.Elements.Element.prototype,{init:function(b){var a=this;a.viewId=b.cid;a.cid=_.uniqueId("c");a.$input=a.$container.find("input");a.type="Element";a.friendlyName=a.trimFieldName();a.name=a.$input.attr("name")},errorSelector:"#messageContainer",validate:function(){CC.ValidationRunner.runElement(this,this.errorSelector)},getValue:function(){return this.$input.val()},setValidState:function(d){var c="valid",b="invalid",a=this;if(d){a.$input.removeClass(b);!a.$input.hasClass(c)&&a.$input.addClass(c)}else{a.$input.removeClass(c);!a.$input.hasClass(b)&&a.$input.addClass(b)}a.isValid=d},destroy:function(){$.noty.closeByElementId(this.cid)}});CC.Elements.Textbox=CC.Elements.Element.extend({render:function(){var a=this;this.type="textbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.DateTextbox=CC.Elements.Element.extend({render:function(){var a=this,b=a;a.type="datetextbox";a.$label=a.$container.find("label");a.$input.on("change",function(){b.validate()});a.$input.datepicker({changeYear:true,changeMonth:true})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.NumberTextbox=CC.Elements.Element.extend({render:function(){var a=this;this.type="numbertextbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.Textarea=CC.Elements.Element.extend({render:function(){var a=this;this.type="textarea";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.Checkbox=CC.Elements.Element.extend({render:function(){var a=this;this.type="checkbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.Password=CC.Elements.Element.extend({render:function(){var a=this;this.type="textbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.FileSubmission=CC.Elements.Element.extend({render:function(b){var a=this;a.type="file";a.$input=a.$container.find("#FileUrl");if(b.model.FileUrl())a.showImage();else a.showInput();a.$container.find(".deleteImage").on("click",$.proxy(function(){this.showInput();b.model.DeleteImage(true)},a))},showImage:function(){this.$container.find(".imageContainer").show();this.$container.find(".inputContainer").hide()},showInput:function(){this.$container.find(".imageContainer").hide();this.$container.find(".inputContainer").show();this.$input.customFileInput()}});CC.Elements.PictureGallery=CC.Elements.Element.extend({render:function(){var a=this;a.type="ul";a.$input=a.$container.find("ul");a.$input.find("li").size>0&&a.$input.galleryView({panel_width:500,panel_height:250})}});CC.Elements.Select=CC.Elements.Element.extend({init:function(){var a=this,b=a;a._super("init",arguments);a.type="select";a.$input=a.$container.find("select");a.name=a.$input.attr("name");a.$input.on("change",function(){b.validate()})},render:function(){this.type="select";this.$input=this.$container.find("select")},destroy:function(){this._super("destroy",arguments)}});CC.Elements.MultiSelect=CC.Elements.Element.extend({init:function(a){this._super("init",arguments);$.isFunction(a.multiSelectModifier)&&a.multiSelectModifier(this)},render:function(){var a=this,b=a;a.type="select";a.$input=a.$container.find("input.multiSelect");a.item=a.$input.data("tokenInputObject");a.item.render(a.multiSelectOptions);MF.vent.bind(a.name+":tokenizer:add",$.proxy(b.multiSelectChange,b));MF.vent.bind(a.name+":tokenizer:remove",$.proxy(b.multiSelectChange,b))},multiSelectChange:function(){this.selectedViewmodel=this.item.getSelectedItems();this.validate()},getValue:function(){return this.item.getSelectedItems()},destroy:function(){var a=this;MF.vent.unbind(a.name+":tokenizer:add");MF.vent.unbind(a.name+":tokenizer:remove");a.$container.off(a.$input.attr("id")+":tokenizer:blur");$("#"+a.$input.attr("name")+"_container *").unbind().remove();a._super("destroy",arguments)}});_.each(["Element","Textbox","Password","Select","MultiSelect","PictureGallery","FileSubmission"],function(a){CC.Elements[a].prototype._super=Backbone.View.prototype._super});CC.ElementCollection=function(){this.collection={}};$.extend(CC.ElementCollection.prototype,{add:function(a){this.collection[a.name]=a},destroy:function(){for(var a in this.collection)this.collection[a].destroy();this.collection={}}});CC.elementService=function(){var a={};a.getElementsViewmodel=function(b){var a=new CC.ElementCollection;b.$el.find("[eltype]").each(function(e,d){var c=new CC.Elements[$(d).attr("eltype")]($(d));c.init(b);a.add(c)});return a};return a}();CC.NotificationService=function(){this.successViewmodel={messages:ko.observableArray(),fadeOut:function(a){a.nodeType==1&&$(a).hide("slow")}};this.errorViewmodel={messages:ko.observableArray(),fadeOut:function(a){a.nodeType==1&&$(a).hide("slow")}}};$.extend(CC.NotificationService.prototype,{successSelector:"",errorSelector:"",render:function(b,c){var a=this;a.successSelector=b;a.errorSelector=c;ko.applyBindings(a.successViewmodel,a.successSelector);ko.applyBindings(a.errorViewmodel,a.errorSelector)},getCorrectViewModel:function(a){return a=="success"?this.successViewmodel.messages:a=="error"?this.errorViewmodel.messages:void 0},add:function(a,d){var b=this.getCorrectViewModel(d),c=_.any(b,function(b){return a.elementCid()===b.elementCid()&&a.message()===b.message()});if(!c){b.push(a);if(a.shouldSelfDestruct){a.parent=this;a.selfDestruct()}}},remove:function(a,c){var b=this.getCorrectViewModel(c);b.remove(function(b){return b.elementCid()===a.elementCid()&&b.message()===a.message()})},removeById:function(c,b){var a=this.getCorrectViewModel(b);a.remove(function(a){return a.elementCid()===c})},removeAllErrorsByViewId:function(a){var c=this.errorViewmodel.messages,b=this.successViewmodel.messages;c.remove(function(b){return b.viewId()===a&&b.status()==="error"});b.remove(function(b){return b.viewId()===a&&b.status()==="success"})},resetSuccessSelector:function(b){var a=this;ko.cleanNode(a.successSelector[0]);a.successSelector=b;ko.applyBindings(a.successViewmodel,a.successSelector)},resetErrorSelector:function(){var a=this;ko.cleanNode(a.errorSelector[0]);a.errorSelector=_successSelector;ko.applyBindings(a.errorViewmodel,a.errorSelector)},handleResult:function(a,d){var b="error",c=this;if(!a.Success){a.Message&&c.add(new CC.NotificationMessage("",d,a.Message,b),b);a.Errors&&_.each(a.Errors,function(a){c.add(new CC.NotificationMessage("",d,a.ErrorMessage,b),b)})}else if(a.Message){c.add(new CC.NotificationMessage("",d,a.Message,"success",true),"success");c.removeAllErrorsByViewId(d)}return a.Success}});CC.NotificationMessage=function(c,f,d,e,b){var a=this;a.message=ko.observable(d);a.elementCid=ko.observable(c);a.viewId=ko.observable(f);a.status=ko.observable(e);a.parent=null;a.shouldSelfDestruct=b;a.selfDestruct=function(b){var a=this;setTimeout(function(){a.parent.remove(a)},b?b:2e3)}};CC.errorMessages={required:"field is Required",minlength:"field should be a certain min",maxlength:"field should be a certain max",rangelength:"field should be with in a range",email:"field should be valid email",url:"field should be valid url",date:"field should be a valid date",number:"field should be a number",digits:"field should be didgets",creditcard:"field should be a valid creditcard",equalTo:"field should be equal to"};CC.validationRules=function(){return{required:function(a){var b=a.getValue();return a.type=="select"||a.type=="multiselect"?b&&b.length>0:a.type.indexOf("textbox")>=0||a.type=="textarea"?$.trim(b).length>0:a.type=="checkbox"?b:void 0},minlength:function(a,b){var c=a.getValue();return c.length>=b},maxlength:function(a,b){var c=a.getValue();return c.length<=b},rangelength:function(c,b){var d=c.getValue(),a=d.length;return a>=b[0]&&a<=b[1]},email:function(a){var b=a.getValue();return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},url:function(a){var b=a.getValue();return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(a){var b=a.getValue();return!/Invalid|NaN/.test(new Date(b))},number:function(a){var b=a.getValue();return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(b)},digits:function(a){var b=a.getValue();return/^\d+$/.test(b)},creditcard:function(g){var f=g.getValue();if(/[^0-9 -]+/.test(f))return false;for(var d=0,a=0,b=false,e=f.replace(/\D/g,""),c=e.length-1;c>=0;c--){var h=e.charAt(c),a=parseInt(h,10);if(b)if((a*=2)>9)a-=9;d+=a;b=!b}return d%10==0},equalTo:function(b,a){return b.getValue()==a.getValue()}}}();CC.ValidationRunner=function(){var a={},b=CC.validationRules;function c(a){return!a.attr("class")?[]:a.attr("class").split(/\s+/)}a.runElement=function(a,g){var d=true,e=c(a.$input),f=a.getValue();if((!f||f=="")&&!_.any(e,function(a){return a=="required"})){a.isValid=true;return}$.each(e,function(f,c){if(c&&b[c]){var e=b[c](a);if(!e){d=false;!$.noty.getByViewIdAndElementId(a.viewId,a.cid)&&$(g).noty({type:"error",text:a.friendlyName+" "+CC.errorMessages[c],elementId:a.cid,viewId:a.viewId})}else $.noty.closeByElementId(a.cid)}});if(e.length)a.setValidState(d);else a.isValid=d};a.runViewModel=function(f,e,c){var d=true,a=e.collection;for(var b in a)if(a.hasOwnProperty(b)){a[b].errorSelector=c?c:"#messageContainer";a[b].validate();if(!a[b].isValid)d=false}return d};return a}();MF.Routing.ReportingApp=function(b){var a={};b.addInitializer(function(){});return a}(MF,Backbone);MF.Views.DailyPaymentsView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin");MF.mixin(this,"reportMixin")},viewLoaded:function(){$("[name=Date]").val("");this.model.Date("");this.viewReport()},createUrl:function(){var b=this.model.Date(),a="?Date=01/01/1800";if(b)a="?Date="+b;var c=this.model.ReportUrl()+a;return c}});MF.Views.TrainerMetricView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin");MF.mixin(this,"reportMixin")},createUrl:function(){var a=this,b=a.model.StartDate(),d=a.model.EndDate(),c=a.model.TrainerEntityId();return a.model.ReportUrl()+"?TrainerId="+c+"&EndDate="+d+"&StartDate="+b}});MF.ScheduleApp=function(b){var a={};a.show=function(){a.Menu.show();b.vent.trigger("route","calendar",true)};b.State.bind("change:application",function(){b.State.get("application")=="scheduler"&&a.show()});b.addInitializer(function(){});return a}(MF,Backbone);MF.ScheduleApp.Menu=function(a,f,c){var b="menuItem",d={};d.show=function(){var b=_.find(a.routeTokens,function(a){return a.id=="scheduleMenu"}),d=new e(b);a.menu.show(d);c("#left-navigation").show()};var e=a.Views.View.extend({render:function(){var b=this;a.repository.ajaxGet(b.options.url,b.options.data).done(c.proxy(b.renderCallback,b))},renderCallback:function(e){var d=this;if(e.LoggedOut){window.location.replace(e.RedirectUrl);return}c(d.el).html(e);a.vent.bind(b,d.menuItemClick,d);c(d.el).find(".ccMenu").ccMenu({backLink:false,width:220});return d},menuItemClick:function(b){a.vent.trigger("route",b,true)},onClose:function(){a.vent.unbind(b,this.menuItemClick,this)}});return d}(MF,Backbone,jQuery);MF.Routing.ScheduleApp=function(b,d){var a="showViews",c={};c.Router=d.Marionette.AppRouter.extend({appRoutes:{"*path/:entityId/:parentId/:rootId/:string":a,"*path/:entityId/:parentId/:rootId":a,"*path/:entityId/:parentId":a,"*path/:entityId":a,"*path":a}});b.addInitializer(function(){b.ScheduleApp.router=new b.Routing.ScheduleApp.Router({controller:b.Controller})});return c}(MF,Backbone);MF.Views.CalendarView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"modelAndElementsMixin")},events:{"change [name=Location]":"resetCalendar","click .legendLabel":"legendLabelClick","click .legendHeader":"legendHeaderClick"},render:function(){$.when(MF.loadTemplateAndModel(this)).done($.proxy(this.renderCallback,this))},renderCallback:function(){var a=this;a.model=a.rawModel;a.model.id=a.model.CalendarDefinition.id=a.id;a.setupLegend();$("#calendar",a.el).asCalendar(a.model.CalendarDefinition);a.bindSpecificModelAndElements({Location:a.model.Location,_LocationList:a.model._LocationList,_Title:a.model._Title,EntityId:0});a.viewLoaded();MF.vent.trigger("calendar:"+a.id+":pageLoaded",a.options);a.calendarBindings()},calendarBindings:function(){var b="calendar:",a=this;MF.vent.trigger(b+a.id+":pageLoaded",a.options);MF.vent.bind(b+a.id+":eventDrop",a.eventDrop,a);MF.vent.bind(b+a.id+":eventResize",a.eventResize,a);MF.vent.bind(b+a.id+":dayClick",a.dayClick,a);MF.vent.bind(b+a.id+":eventClick",a.eventClick,a);MF.vent.bind("ajaxPopupFormModule:editModule:success",a.formSuccess,a);MF.vent.bind("ajaxPopupFormModule:editModule:cancel",a.formCancel,a);MF.vent.bind("ajaxPopupDisplayModule:displayModule:cancel",a.displayCancel,a);MF.vent.bind("popup:displayModule:edit",a.displayEdit,a)},onClose:function(){var a="calendar:",b=this;MF.vent.unbind(a+b.id+":eventDrop");MF.vent.unbind(a+b.id+":eventResize");MF.vent.unbind(a+b.id+":eventClick");MF.vent.unbind(a+b.id+":dayClick");MF.vent.unbind("ajaxPopupFormModule:editModule:success");MF.vent.unbind("ajaxPopupFormModule:editModule:cancel");MF.vent.unbind("ajaxPopupDisplayModule:displayModule:cancel");MF.vent.unbind("popup:displayModule:edit")},setupLegend:function(){this.model.Trainers.length<=0&&$("#legend").hide();$("#legendTemplate").tmpl(this.model.Trainers).appendTo("#legendItems");$(".legendHeader").addClass("showing");$(".legendLabel").each(function(b,a){$(a).addClass("showing")})},eventDrop:function(a,f,e,g,c){var b="M/d/yyyy hh:mm TT",d={EntityId:a.EntityId,ScheduledDate:$.fullCalendar.formatDate(a.start,b),StartTime:$.fullCalendar.formatDate(a.start,b),EndTime:$.fullCalendar.formatDate(a.end,b)};MF.repository.ajaxGet(this.model.CalendarDefinition.EventChangedUrl,d).done($.proxy(function(a){this.changeEventCallback(a,c)},this))},eventResize:function(a,f,e,c){var b="M/d/yyyy hh:mm TT",d={EntityId:a.EntityId,ScheduledDate:$.fullCalendar.formatDate(a.start,b),StartTime:$.fullCalendar.formatDate(a.start,b),EndTime:$.fullCalendar.formatDate(a.end,b)};MF.repository.ajaxGet(this.model.CalendarDefinition.EventChangedUrl,d).done($.proxy(function(a){this.changeEventCallback(a,c)},this))},dayClick:function(a){if((new XDate(a,true)).diffHours(new XDate(true))>0&&!this.model.CalendarDefinition.CanEnterRetroactiveAppointments){alert("That period is closed");return}var b={ScheduledDate:(new XDate(a)).toString("M/d/yyyy"),ScheduledStartTime:(new XDate(a)).toString("hh:mm TT")};this.editEvent(this.model.CalendarDefinition.AddUpdateUrl,b)},eventClick:function(c){var d="displayModule",a=this;if(c.trainerId!=a.model.CalendarDefinition.TrainerId&&!a.model.CalendarDefinition.CanSeeOthersAppointments)return;a.model.CalendarDefinition.canEdit=(new XDate(c.start)).diffHours(new XDate)<0||a.model.CalendarDefinition.CanEditPastAppointments;a.currentEventId=c.EntityId;var f={EntityId:c.EntityId},b=MF.Views.popupButtonBuilder.builder(d);b.addButton("Delete",$.proxy(a.deleteItem,a));b.addEditButton();b.addButton("Copy Event",$.proxy(a.copyItem,a));b.addCancelButton();var e={id:d,route:a.model.CalendarDefinition.DisplayRoute,templateUrl:a.model.CalendarDefinition.DisplayUrl+"_Template?Popup=true",view:a.options.subViewName?"Display"+a.options.subViewName:"",AddUpdateUrl:a.model.CalendarDefinition.AddUpdateUrl,url:a.model.CalendarDefinition.DisplayUrl,data:f,buttons:b.getButtons()};a.ajaxPopupDisplay=new MF.Views.AjaxPopupDisplayModule(e);a.ajaxPopupDisplay.render();a.storeChild(a.ajaxPopupDisplay);$(a.el).append(a.ajaxPopupDisplay.el)},editEvent:function(c,e){var b="editModule",a=this,d={id:b,route:a.model.CalendarDefinition.AddUpdateRoute,url:c,templateUrl:c+"_Template?Popup=true",data:e,view:"AppointmentView",buttons:MF.Views.popupButtonBuilder.builder(b).standardEditButons()};a.ajaxPopupFormModule=new MF.Views.AjaxPopupFormModule(d);a.ajaxPopupFormModule.render();a.storeChild(a.ajaxPopupFormModule);$(a.el).append(a.ajaxPopupFormModule.el)},changeEventCallback:function(a,b){if(!a.Success){alert(a.Message);b()}},copyItem:function(){var a=this,b={EntityId:a.currentEventId,Copy:true};a.editEvent(a.model.CalendarDefinition.AddUpdateUrl,b);a.ajaxPopupDisplay.close()},deleteItem:function(){confirm("Are you sure you would like to delete this Item?")&&MF.repository.ajaxGet(this.model.CalendarDefinition.DeleteUrl,{EntityId:this.currentEventId}).done($.proxy(function(a){this.ajaxPopupDisplay.close();if(!a.Success)alert(a.Message);else this.reload()},this))},displayEdit:function(){var a=this;if(!a.model.CalendarDefinition.canEdit){alert("you can't edit retroactively");return}a.ajaxPopupDisplay.close();a.editEvent(a.model.CalendarDefinition.AddUpdateUrl,{EntityId:a.currentEventId})},resetCalendar:function(){var c=".legendLabel",b=this,d=b.viewModel.Location(),a="";$(c).each(function(c,b){if($(b).hasClass("showing"))a+=$("#trainerId",$(b).parent()).val()+","});if(a)a=a.substr(0,a.length-1);else if($(c).is("visible"))a="NONE";b.replaceSource({url:b.model.CalendarDefinition.Url,data:{Loc:d,TrainerIds:a}});b.reload()},reload:function(){$("#calendar",this.el).fullCalendar("refetchEvents")},replaceSource:function(a){$("#calendar",this.el).fullCalendar("replaceEventSource",a)},legendLabelClick:function(a){$(a.target).toggleClass("showing");this.resetCalendar()},legendHeaderClick:function(d){var c=".legendLabel",b=".legendHeader",a="showing";if($(d.target).hasClass(a)){$(b).removeClass(a);$(c).each(function(c,b){$(b).removeClass(a)})}else{$(b).addClass(a);$(c).each(function(c,b){!$(b).hasClass(a)&&$(b).addClass(a)})}this.resetCalendar()},formSuccess:function(){this.formCancel();this.resetCalendar()},formCancel:function(){this.ajaxPopupFormModule.close()},displayCancel:function(){this.ajaxPopupDisplay.close()}});MF.Views.AppointmentView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},events:{'change [name="AppointmentType"]':"handleSwitchFromPairToInd",'change [name="StartTimeString"]':"handleTimeChange","click #save":"saveItem","click #cancel":"cancel"},viewLoaded:function(){var a=this,b=new XDate("1/5/1972t"+a.model.StartTimeString());a.setEndTime(b);MF.vent.bind("ClientsDtos:tokenizer:add",a.handleSwitchFromPairToInd,a);MF.vent.bind("ClientsDtos:tokenizer:remove",a.handleSwitchFromPairToInd,a);a.handleSwitchFromPairToInd()},setCurrentSelectionForAptType:function(e){var b="Pair",a="[name='AppointmentType']",d=$(a).val();if(e){$(a).data.previousSelection=d;$(a).val(b);this.model.AppointmentType(b)}else if(d==b){var c=$(a).data.previousSelection;$(a).val(c);this.model.AppointmentType(c)}},handleSwitchFromPairToInd:function(){var a=this,b=$(a.model.ClientsDtos.selectedItems()).size()>1;a.setCurrentSelectionForAptType(b);a.setDisabledOptionsOnAptType(b);a.handleTimeChange()},setDisabledOptionsOnAptType:function(a){$("[name='AppointmentType'] option").each(function(){var b="disabled",c=$(this);if(c.text()=="Pair")if(a)c.removeAttr(b);else c.attr(b,b);else if(a)c.attr(b,b);else c.removeAttr(b)})},onClose:function(){var a=this;MF.vent.unbind("ClientsDtos:tokenizer:add",a.clientChange,a);MF.vent.unbind("ClientsDtos:tokenizer:remove",a.clientChange,a)},handleTimeChange:function(){var a=new XDate(this.model.Date().split("T")[0]+"t"+this.model.StartTimeString());this.setEndTime(a);return a},setEndTime:function(f){var c;switch(this.model.AppointmentType()){case"Hour":case"Pair":c=60;break;case"Half Hour":c=30}var d=f.addMinutes(c),b=d.getHours(),e="AM";if(b>12){b-=12;e="PM"}var a=d.getMinutes().toString();if(a.length==1)a="0"+a;this.model.EndTimeString(b+":"+a+" "+e)}});MF.Views.ClientFormView=MF.Views.View.extend({events:_.extend({"click .client_payment":"payment","click .delete":"deleteItem","click #save":"saveItem","click #cancel":"cancel"}),initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},viewLoaded:function(){this._setupBindings()},_setupBindings:function(){MF.vent.bind("delete:"+this.id+":success",this.deleteSuccess,this)},_unbindBindings:function(){MF.vent.unbind("delete:"+this.id+":success",this.deleteSuccess,this)},payment:function(){var a=this.model.EntityId();MF.vent.trigger("route",MF.generateRoute("paymentlist",a),true)},deleteItem:function(){var a=this;if(confirm("Are you sure you would like to delete this Item?")){var b=a.model.EntityId();MF.repository.ajaxPost(a.model._deleteUrl,{EntityId:b},$.proxy(a.deleteCallback,a))}},deleteCallback:function(a){var b=typeof a=="string"?JSON.parse(a):a;if(!CC.notification.handleResult(b,this.cid))return;MF.vent.trigger("delete:"+this.id+":success",b)},deleteSuccess:function(a){MF.WorkflowManager.returnParentView(a,true)},onClose:function(){this._unbindBindings();this._super("onClose",arguments)}});MF.Views.PaymentListView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},addNew:function(){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,0,a),true)},editItem:function(b){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,b,a),true)},displayItem:function(b){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.display,b,a),true)},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Views.PaymentFormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},viewLoaded:function(){var a=this;$("[name='FullHour']").change($.proxy(function(){this.calculateTotal("FullHour")},a));$("[name='HalfHour']").change($.proxy(function(){this.calculateTotal("HalfHour")},a));$("[name='FullHourTenPack']").change($.proxy(function(){this.calculateTotal("FullHourTenPack")},a));$("[name='HalfHourTenPack']").change($.proxy(function(){this.calculateTotal("HalfHourTenPack")},a));$("[name='Pair']").change($.proxy(function(){this.calculateTotal("Pair")},a));$("[name='PairTenPack']").change($.proxy(function(){this.calculateTotal("PairTenPack")},a))},calculateTotal:function(b){var a=this,d=a.model[b](),c=a.model._sessionRateDto[b]()*d;a.model[b+"Price"](c);var e=a.model.FullHourPrice()+a.model.HalfHourPrice()+a.model.FullHourTenPackPrice()+a.model.HalfHourTenPackPrice()+a.model.PairPrice()+a.model.PairTenPackPrice();a.model.PaymentTotal(e)}});MF.Views.TrainerFormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},events:{"click #trainerPayments":"trainerPayments","click #payTrainer":"payTrainer","click #save":"saveItem","click #cancel":"cancel","click .tokenEditor":"tokenEditor"},viewLoaded:function(){var a=this,b=a;$("#color",a.el).miniColors({change:function(a){b.model.Color(a)}});MF.vent.bind("popup:templatePopup:save",a.tokenSave,a);MF.vent.bind("popup:templatePopup:cancel",a.tokenCancel,a)},multiSelectModifier:function(a){if(a.name=="ClientsDtos")a.multiSelectOptions={internalTokenMarkup:function(){var a="data-bind",c=$("<a>").addClass("selectedItem").attr(a,"text:display"),b=$("<a>").addClass("tokenEditor").text(" --Edit").attr("href","javascript:void(0);").attr(a,"attr:{rel:percentage}");return $("<p>").append(c).append(b)},beforeTokenAddedFunction:$.proxy(this.beforeTokenAddedFunction,this)}},tokenEditor:function(d){var b="templatePopup",a=this,c=$(d.target).closest("li");a.currentlyEditing=c;var i=c.attr("id"),f=$(d.target).attr("rel"),g={id:i,percentage:f},h=a.options.buttons?a.options.buttons:MF.Views.popupButtonBuilder.builder(b).standardEditButons(),e={id:b,buttons:h,data:g,template:"#percentageTemplate"};a.templatedPopupView=new MF.Views.TemplatedPopupView(e);a.templatedPopupView.render();a.storeChild(a.templatedPopupView)},tokenSave:function(){var b=$("#editingId").val(),a=$("#newTrainerPercentage").val();_.find(this.model.ClientsDtos.selectedItems(),function(c){if(c.id()==b){var d=$(this.currentlyEditing.find("a").first()).text();c.display(d.substring(0,d.indexOf("("))+"( "+a+" ) ");c.percentage(a);return true}},this);this.templatedPopupView.close()},tokenCancel:function(){this.templatedPopupView.close()},beforeTokenAddedFunction:function(a){a.percentage=ko.observable(this.model.ClientRateDefault());a.display=ko.observable(a.name()+"("+a.percentage()+")")},trainerPayments:function(){var a=MF.State.get("Relationships");MF.vent.trigger("route","trainerpaymentlist/"+a.entityId,true)},payTrainer:function(){var a=MF.State.get("Relationships");MF.vent.trigger("route","paytrainerlist/"+a.entityId,true)}});MF.Views.TrainerEditableTokenView=MF.Views.EditableTokenView.extend({events:_.extend({"click .tokenEditor":"tokenEditor"},MF.Views.EditableTokenView.prototype.events),internalTokenMarkup:function(a){var b="class='selectedItem'";return"<p><a "+b+">"+a.name+" ( "+a.percentage+" )</a><a href='javascript:void(0);' class='tokenEditor' >&nbsp;-- Edit</a><input id='itemId' type='hidden' value='"+a.id+"' </p>"},render:function(){var a=this;MF.vent.bind("popup:templatePopup:save",a.tokenSave,a);MF.vent.bind("popup:templatePopup:cancel",a.tokenCancel,a)},onClose:function(){MF.vent.unbind("popup:templatePopup:save");MF.vent.unbind("popup:templatePopup:cancel")},afterTokenSelectedFunction:function(c){var b="selectedItems",a=this;!$(a.options.inputSelector,a.el).data(b)&&$(a.options.inputSelector,a.el).data(b,[]);$(a.options.inputSelector,a.el).data(b).push(c)},deleteToken:function(c){var a=$(this.options.inputSelector,this.el).data("selectedItems"),b=0;$.each(a,function(d,a){if(a.id==c.id)b=d});a.splice(b,1)},tokenEditor:function(d){var b="templatePopup",a=this;a.options.currentlyEditing=$(d.target).prev("a");var h=$(d.target).next("input#itemId").val(),g=$(a.options.inputSelector,a.el).data("selectedItems"),c;$.each(g,function(b,a){if(a.id==h)c=a});var f=a.options.buttons?a.options.buttons:MF.Views.popupButtonBuilder.builder(b).standardEditButons(),e={id:b,buttons:f,data:c,template:"#percentageTemplate"};a.templatedPopupView=new MF.Views.TemplatedPopupView(e);a.templatedPopupView.render();a.storeChild(a.templatedPopupView)},tokenSave:function(){var b="#newTrainerPercentage",a=this,g=$("#editingId").val(),f=$(a.options.inputSelector,a.options.el).data("selectedItems"),c;$.each(f,function(b,a){if(a.id==g)c=a});c.percentage=$(b).val();var d=$(a.options.currentlyEditing).text(),e=d.substr(0,d.indexOf("("))+"( "+$(b).val()+" ) ";$(a.options.currentlyEditing).text(e);a.templatedPopupView.close()},tokenCancel:function(){this.templatedPopupView.close()}});MF.Views.TrainerGridView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},addNew:function(){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,0,a),true)},editItem:function(b){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,b,a),true)},viewLoaded:function(){var a=this;a.setupBindings();MF.vent.bind(a.options.gridId+":Redirect",a.showPayGrid,a)},_setupBindings:function(){MF.vent.bind("Redirect",this.showPayGrid,this)},_unbindBindings:function(){MF.vent.bind("Redirect",this.showPayGrid,this)},showPayGrid:function(a){MF.vent.trigger("route","paytrainerlist/"+a,true)},onClose:function(){this.unbindBindings()}});MF.Views.ClientGridView=MF.Views.View.extend({initialize:function(){var a=this;MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},viewLoaded:function(){var a=this;MF.vent.bind(a.options.gridId+":Redirect",a.showPayGrid,a);a.setupBindings()},onClose:function(){var a=this;MF.vent.unbind(a.options.gridId+":Redirect",a.showPayGrid,a);a.unbindBindings()},showPayGrid:function(a){MF.vent.trigger("route",MF.generateRoute("paymentlist",a),true)}});var viewModel={EntityId:1,DateCreated:"1/5/1972",_Title:"someTitle",_someList:"someList",_someUrl:"someUrl"},koViewModel={EntityId:ko.observable(1),DateCreated:ko.observable("1/5/1972"),_Title:ko.observable("someTitle"),_someList:ko.observable("someList"),_someUrl:ko.observable("someUrl")},mix={rawModel:viewModel,el:"#someSelector"};MF.mixin(mix,"modelAndElementsMixin");describe("bindModelAndElements",function(){var b="_someUrl",a="_someList";beforeEach(function(){ko.mapping.fromJS=jasmine.createSpy("fromJS").andReturn(koViewModel);spyOn(ko,"applyBindings");spyOn(mix,"extendModel");spyOn(CC.elementService,"getElementsViewmodel");spyOn(mix,"renderElements");MF.vent=jasmine.createSpy("vent");MF.vent.trigger=jasmine.createSpy("trigger");mix.bindModelAndElements([a,b])});it("should call ko.mapping.fromJs",function(){expect(ko.mapping.fromJS).toHaveBeenCalledWith(viewModel,mix.mappingOptions)});it("should call ko.applyBindings",function(){expect(ko.applyBindings).toHaveBeenCalledWith(koViewModel,mix.el)});it("should call mix.extendModel",function(){expect(mix.extendModel).toHaveBeenCalledWith(koViewModel)});it("should call CC.elementService.getElementsViewmodel",function(){expect(CC.elementService.getElementsViewmodel).toHaveBeenCalled()});it("should call mix.renderElements",function(){expect(mix.renderElements).toHaveBeenCalled()});it("should push ignore elements into array",function(){expect(mix.mappingOptions.ignore).toContain(a);expect(mix.mappingOptions.ignore).toContain(b)});it("should filter out any items in ignore or that start with _",function(){expect(mix.mappingOptions.ignore).totalCount(5)})})
