window.debug=function(){var g=this,l=Array.prototype.slice,a=g.console,d={},e,i,c=9,f=["error","warn","info","debug","log"],k="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),b=k.length,h=[];while(--b>=0)(function(b){d[b]=function(){c!==0&&a&&a[b]&&a[b].apply(a,arguments)}})(k[b]);b=f.length;while(--b>=0)(function(c,b){d[b]=function(){var d=l.call(arguments),e=[b].concat(d);h.push(e);j(e);if(!a||!m(c))return;a.firebug?a[b].apply(g,d):a[b]?a[b](d):a.log(d)}})(b,f[b]);function j(b){e&&(i||!a||!a.log)&&e.apply(g,b)}d.setLevel=function(a){c=typeof a==="number"?a:9};function m(a){return c>0?c>a:f.length+c<=a}d.setCallback=function(){var a=l.call(arguments),b=h.length,c=b;e=a.shift()||null;i=typeof a[0]==="boolean"?a.shift():false;c-=typeof a[0]==="number"?a.shift():b;while(c<b)j(h[c++])};return d}();(function(){var s=".delegateEvents",v="attributes",u="hashchange",t="popstate",n="reset",m="sync",f="",e=null,d=true,c=false,x="undefined",j=this,C=j.Backbone,M=Array.prototype.slice,L=Array.prototype.splice,b;if(typeof exports!==x)b=exports;else b=j.Backbone={};b.VERSION="0.9.2";var a=j._;if(!a&&typeof require!==x)a=require("underscore");var g=j.jQuery||j.Zepto||j.ender;b.setDomLibrary=function(a){g=a};b.noConflict=function(){j.Backbone=C;return this};b.emulateHTTP=c;b.emulateJSON=c;var o=/\s+/,h=b.Events={on:function(d,g,i){var c=this,e,f,b,h,a;if(!g)return c;d=d.split(o);e=c._callbacks||(c._callbacks={});while(f=d.shift()){a=e[f];b=a?a.tail:{};b.next=h={};b.context=i;b.callback=g;e[f]={tail:h,next:a?a.next:b}}return c},off:function(c,e,f){var d=this,h,g,b,k,j,i;if(!(g=d._callbacks))return;if(!(c||e||f)){delete d._callbacks;return d}c=c?c.split(o):a.keys(g);while(h=c.shift()){b=g[h];delete g[h];if(!b||!(e||f))continue;k=b.tail;while((b=b.next)!==k){j=b.callback;i=b.context;if(e&&j!==e||f&&i!==f)d.on(h,j,i)}}return d},trigger:function(d){var b=this,f,a,e,c,h,i,g;if(!(e=b._callbacks))return b;i=e.all;d=d.split(o);g=M.call(arguments,1);while(f=d.shift()){if(a=e[f]){c=a.tail;while((a=a.next)!==c)a.callback.apply(a.context||b,g)}if(a=i){c=a.tail;h=[f].concat(g);while((a=a.next)!==c)a.callback.apply(a.context||b,h)}}return b}};h.bind=h.on;h.unbind=h.off;var l=b.Model=function(c,e){var b=this,f;c||(c={});if(e&&e.parse)c=b.parse(c);if(f=k(b,"defaults"))c=a.extend({},f,c);if(e&&e.collection)b.collection=e.collection;b.attributes={};b._escapedAttributes={};b.cid=a.uniqueId("c");b.changed={};b._silent={};b._pending={};b.set(c,{silent:d});b.changed={};b._silent={};b._pending={};b._previousAttributes=a.clone(b.attributes);b.initialize.apply(b,arguments)};a.extend(l.prototype,h,{changed:e,_silent:e,_pending:e,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},"get":function(a){return this.attributes[a]},escape:function(b){var c;if(c=this._escapedAttributes[b])return c;var d=this.get(b);return this._escapedAttributes[b]=a.escape(d==e?f:f+d)},has:function(a){return this.get(a)!=e},"set":function(k,m,h){var f=this,g,b,j;if(a.isObject(k)||k==e){g=k;h=m}else{g={};g[k]=m}h||(h={});if(!g)return f;if(g instanceof l)g=g.attributes;if(h.unset)for(b in g)g[b]=void 0;if(!f._validate(g,h))return c;if(f.idAttribute in g)f.id=g[f.idAttribute];var o=h.changes={},i=f.attributes,p=f._escapedAttributes,n=f._previousAttributes||{};for(b in g){j=g[b];if(!a.isEqual(i[b],j)||h.unset&&a.has(i,b)){delete p[b];(h.silent?f._silent:o)[b]=d}h.unset?delete i[b]:(i[b]=j);if(!a.isEqual(n[b],j)||a.has(i,b)!=a.has(n,b)){f.changed[b]=j;if(!h.silent)f._pending[b]=d}else{delete f.changed[b];delete f._pending[b]}}!h.silent&&f.change(h);return f},unset:function(b,a){(a||(a={})).unset=d;return this.set(b,e,a)},clear:function(b){(b||(b={})).unset=d;return this.set(a.clone(this.attributes),b)},fetch:function(d){var e=this;d=d?a.clone(d):{};var f=e,g=d.success;d.success=function(a,e,b){if(!f.set(f.parse(a,b),d))return c;g&&g(f,a)};d.error=b.wrapError(d.error,f,d);return(e.sync||b.sync).call(e,"read",e,d)},save:function(j,o,f){var g=this,h,l;if(a.isObject(j)||j==e){h=j;f=o}else{h={};h[j]=o}f=f?a.clone(f):{};if(f.wait){if(!g._validate(h,f))return c;l=a.clone(g.attributes)}var k=a.extend({},f,{silent:d});if(h&&!g.set(h,f.wait?k:f))return c;var i=g,n=f.success;f.success=function(d,g,e){var b=i.parse(d,e);if(f.wait){delete f.wait;b=a.extend(h||{},b)}if(!i.set(b,f))return c;if(n)n(i,d);else i.trigger(m,i,d,f)};f.error=b.wrapError(f.error,i,f);var p=g.isNew()?"create":"update",q=(g.sync||b.sync).call(g,p,g,f);f.wait&&g.set(l,k);return q},destroy:function(d){var f=this;d=d?a.clone(d):{};var e=f,h=d.success,g=function(){e.trigger("destroy",e,e.collection,d)};if(f.isNew()){g();return c}d.success=function(a){d.wait&&g();if(h)h(e,a);else e.trigger(m,e,a,d)};d.error=b.wrapError(d.error,e,d);var i=(f.sync||b.sync).call(f,"delete",f,d);!d.wait&&g();return i},url:function(){var a=this,b=k(a,"urlRoot")||k(a.collection,"url")||y();return a.isNew()?b:b+(b.charAt(b.length-1)=="/"?f:"/")+encodeURIComponent(a.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==e},change:function(f){var b=this;f||(f={});var g=b._changing;b._changing=d;for(var e in b._silent)b._pending[e]=d;var h=a.extend({},f.changes,b._silent);b._silent={};for(var e in h)b.trigger("change:"+e,b,b.get(e),f);if(g)return b;while(!a.isEmpty(b._pending)){b._pending={};b.trigger("change",b,f);for(var e in b.changed){if(b._pending[e]||b._silent[e])continue;delete b.changed[e]}b._previousAttributes=a.clone(b.attributes)}b._changing=c;return b},hasChanged:function(b){return!arguments.length?!a.isEmpty(this.changed):a.has(this.changed,b)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):c;var f,b=c,g=this._previousAttributes;for(var d in e){if(a.isEqual(g[d],f=e[d]))continue;(b||(b={}))[d]=f}return b},previous:function(a){return!arguments.length||!this._previousAttributes?e:this._previousAttributes[a]},previousAttributes:function(){return a.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(f,b){var e=this;if(b.silent||!e.validate)return d;f=a.extend({},e.attributes,f);var g=e.validate(f,b);if(!g)return d;if(b&&b.error)b.error(e,g,b);else e.trigger("error",e,g,b);return c}});var q=b.Collection=function(c,a){var b=this;a||(a={});if(a.model)b.model=a.model;if(a.comparator)b.comparator=a.comparator;b._reset();b.initialize.apply(b,arguments);c&&b.reset(c,{silent:d,parse:a.parse})};a.extend(q.prototype,h,{model:l,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(g,h){var c=this,b,n,i,f,k,j,l={},o={},m=[];h||(h={});g=a.isArray(g)?g.slice():[g];for(b=0,i=g.length;b<i;b++){if(!(f=g[b]=c._prepareModel(g[b],h)))throw new Error("Can't add an invalid model to a collection");k=f.cid;j=f.id;if(l[k]||c._byCid[k]||j!=e&&(o[j]||c._byId[j])){m.push(b);continue}l[k]=o[j]=f}b=m.length;while(b--)g.splice(m[b],1);for(b=0,i=g.length;b<i;b++){(f=g[b]).on("all",c._onModelEvent,c);c._byCid[f.cid]=f;if(f.id!=e)c._byId[f.id]=f}c.length+=i;n=h.at!=e?h.at:c.models.length;L.apply(c.models,[n,0].concat(g));c.comparator&&c.sort({silent:d});if(h.silent)return c;for(b=0,i=c.models.length;b<i;b++){if(!l[(f=c.models[b]).cid])continue;h.index=b;f.trigger("add",f,c,h)}return c},remove:function(d,e){var b=this,f,h,g,c;e||(e={});d=a.isArray(d)?d.slice():[d];for(f=0,h=d.length;f<h;f++){c=b.getByCid(d[f])||b.get(d[f]);if(!c)continue;delete b._byId[c.id];delete b._byCid[c.cid];g=b.indexOf(c);b.models.splice(g,1);b.length--;if(!e.silent){e.index=g;c.trigger("remove",c,b,e)}b._removeReference(c)}return b},push:function(a,b){a=this._prepareModel(a,b);this.add(a,b);return a},pop:function(b){var a=this.at(this.length-1);this.remove(a,b);return a},unshift:function(b,c){b=this._prepareModel(b,c);this.add(b,a.extend({at:0},c));return b},shift:function(b){var a=this.at(0);this.remove(a,b);return a},"get":function(a){return a==e?void 0:this._byId[a.id!=e?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(b){return a.isEmpty(b)?[]:this.filter(function(e){for(var a in b)if(b[a]!==e.get(a))return c;return d})},sort:function(c){var b=this;c||(c={});if(!b.comparator)throw new Error("Cannot sort a set without a comparator");var d=a.bind(b.comparator,b);if(b.comparator.length==1)b.models=b.sortBy(d);else b.models.sort(d);!c.silent&&b.trigger(n,b,c);return b},pluck:function(b){return a.map(this.models,function(a){return a.get(b)})},reset:function(e,c){var b=this;e||(e=[]);c||(c={});for(var f=0,g=b.models.length;f<g;f++)b._removeReference(b.models[f]);b._reset();b.add(e,a.extend({silent:d},c));!c.silent&&b.trigger(n,b,c);return b},fetch:function(c){var f=this;c=c?a.clone(c):{};if(c.parse===undefined)c.parse=d;var e=f,g=c.success;c.success=function(a,d,b){e[c.add?"add":n](e.parse(a,b),c);g&&g(e,a)};c.error=b.wrapError(c.error,e,c);return(f.sync||b.sync).call(f,"read",f,c)},create:function(d,b){var g=this;b=b?a.clone(b):{};d=this._prepareModel(d,b);if(!d)return c;!b.wait&&g.add(d,b);var f=b.success;b.success=function(a,c){b.wait&&g.add(a,b);if(f)f(a,c);else a.trigger(m,d,c,b)};d.save(e,b);return d},parse:function(a){return a},chain:function(){return a(this.models).chain()},_reset:function(){var a=this;a.length=0;a.models=[];a._byId={};a._byCid={}},_prepareModel:function(a,b){b||(b={});if(!(a instanceof l)){var d=a;b.collection=this;a=new this.model(d,b);if(!a._validate(a.attributes,b))a=c}else if(!a.collection)a.collection=this;return a},_removeReference:function(a){if(this==a.collection)delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(c,a,d,e){var b=this;if((c=="add"||c=="remove")&&d!=b)return;c=="destroy"&&b.remove(a,e);if(a&&c==="change:"+a.idAttribute){delete b._byId[a.previous(a.idAttribute)];b._byId[a.id]=a}b.trigger.apply(b,arguments)}});var J=["forForEachItem","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];a.each(J,function(b){q.prototype[b]=function(){return a[b].apply(a,[this.models].concat(a.toArray(arguments)))}});var z=b.Router=function(a){var b=this;a||(a={});if(a.routes)b.routes=a.routes;b._bindRoutes();b.initialize.apply(b,arguments)},F=/:\w+/g,G=/\*\w+/g,D=/[-[\]{}()+?.,\\^$|#\s]/g;a.extend(z.prototype,h,{initialize:function(){},route:function(c,f,d){var e=this;b.history||(b.history=new i);if(!a.isRegExp(c))c=e._routeToRegExp(c);if(!d)d=e[f];b.history.route(c,a.bind(function(g){var a=this,e=a._extractParameters(c,g);d&&d.apply(a,e);a.trigger.apply(a,["route:"+f].concat(e));b.history.trigger("route",a,f,e)},e));return e},navigate:function(a,c){b.history.navigate(a,c)},_bindRoutes:function(){var b=this;if(!b.routes)return;var a=[];for(var d in b.routes)a.unshift([d,b.routes[d]]);for(var c=0,e=a.length;c<e;c++)b.route(a[c][0],a[c][1],b[a[c][1]])},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(F,"([^/]+)").replace(G,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(b,a){return b.exec(a).slice(1)}});var i=b.History=function(){this.handlers=[];a.bindAll(this,"checkUrl")},p=/^[#\/]/,E=/msie [\w.]+/;i.started=c;a.extend(i.prototype,h,{interval:50,getHash:function(a){var c=a?a.location:window.location,b=c.href.match(/#(.*)$/);return b?b[1]:f},getFragment:function(a,d){var b=this;if(a==e)if(b._hasPushState||d){a=window.location.pathname;var c=window.location.search;if(c)a+=c}else a=b.getHash();if(!a.indexOf(b.options.root))a=a.substr(b.options.root.length);return a.replace(p,f)},start:function(n){var b=this;if(i.started)throw new Error("Backbone.history has already been started");i.started=d;b.options=a.extend({},{root:"/"},b.options,n);b._wantsHashChange=b.options.hashChange!==c;b._wantsPushState=!!b.options.pushState;b._hasPushState=!!(b.options.pushState&&window.history&&window.history.pushState);var j=b.getFragment(),k=document.documentMode,m=E.exec(navigator.userAgent.toLowerCase())&&(!k||k<=7);if(m){b.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;b.navigate(j)}if(b._hasPushState)g(window).bind(t,b.checkUrl);else if(b._wantsHashChange&&"onhashchange"in window&&!m)g(window).bind(u,b.checkUrl);else if(b._wantsHashChange)b._checkUrlInterval=setInterval(b.checkUrl,b.interval);b.fragment=j;var h=window.location,l=h.pathname==b.options.root;if(b._wantsHashChange&&b._wantsPushState&&!b._hasPushState&&!l){b.fragment=b.getFragment(e,d);window.location.replace(b.options.root+"#"+b.fragment);return d}else if(b._wantsPushState&&b._hasPushState&&l&&h.hash){b.fragment=b.getHash().replace(p,f);window.history.replaceState({},document.title,h.protocol+"//"+h.host+b.options.root+b.fragment)}if(!b.options.silent)return b.loadUrl()},stop:function(){g(window).unbind(t,this.checkUrl).unbind(u,this.checkUrl);clearInterval(this._checkUrlInterval);i.started=c},route:function(b,a){this.handlers.unshift({route:b,callback:a})},checkUrl:function(){var a=this,b=a.getFragment();if(b==a.fragment&&a.iframe)b=a.getFragment(a.getHash(a.iframe));if(b==a.fragment)return c;a.iframe&&a.navigate(b);a.loadUrl()||a.loadUrl(a.getHash())},loadUrl:function(c){var b=this.fragment=this.getFragment(c),e=a.any(this.handlers,function(a){if(a.route.test(b)){a.callback(b);return d}});return e},navigate:function(g,e){var a=this;if(!i.started)return c;if(!e||e===d)e={trigger:e};var b=(g||f).replace(p,f);if(a.fragment==b)return;if(a._hasPushState){if(b.indexOf(a.options.root)!=0)b=a.options.root+b;a.fragment=b;window.history[e.replace?"replaceState":"pushState"]({},document.title,b)}else if(a._wantsHashChange){a.fragment=b;a._updateHash(window.location,b,e.replace);if(a.iframe&&b!=a.getFragment(a.getHash(a.iframe))){!e.replace&&a.iframe.document.open().close();a._updateHash(a.iframe.location,b,e.replace)}}else window.location.assign(a.options.root+g);e.trigger&&a.loadUrl(g)},_updateHash:function(a,b,c){if(c)a.replace(a.toString().replace(/(javascript:|#).*$/,f)+"#"+b);else a.hash=b}});var r=b.View=function(c){var b=this;b.cid=a.uniqueId("view");b._configure(c||{});b._ensureElement();b.initialize.apply(b,arguments);b.delegateEvents()},B=/^(\S+)\s*(.*)$/,w=["model","collection","el","id",v,"className","tagName"];a.extend(r.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(d,b,c){var a=document.createElement(d);b&&g(a).attr(b);c&&g(a).html(c);return a},setElement:function(b,d){var a=this;a.$el&&a.undelegateEvents();a.$el=b instanceof g?b:g(b);a.el=a.$el[0];d!==c&&a.delegateEvents();return a},delegateEvents:function(d){var c=this;if(!(d||(d=k(c,"events"))))return;c.undelegateEvents();for(var e in d){var b=d[e];if(!a.isFunction(b))b=c[d[e]];if(!b)throw new Error('Method "'+d[e]+'" does not exist');var i=e.match(B),g=i[1],h=i[2];b=a.bind(b,c);g+=s+c.cid;if(h===f)c.$el.bind(g,b);else c.$el.delegate(h,g,b)}},undelegateEvents:function(){this.$el.unbind(s+this.cid)},_configure:function(b){var c=this;if(c.options)b=a.extend({},c.options,b);for(var e=0,f=w.length;e<f;e++){var d=w[e];if(b[d])c[d]=b[d]}c.options=b},_ensureElement:function(){var a=this;if(!a.el){var b=k(a,v)||{};if(a.id)b.id=a.id;if(a.className)b["class"]=a.className;a.setElement(a.make(a.tagName,b),c)}else a.setElement(a.el,c)}});var K=function(c,b){var a=I(this,c,b);a.extend=this.extend;return a};l.extend=q.extend=z.extend=r.extend=K;var H={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};b.sync=function(h,i,e){var f=H[h];e||(e={});var d={type:f,dataType:"json"};if(!e.url)d.url=k(i,"url")||y();if(!e.data&&i&&(h=="create"||h=="update")){d.contentType="application/json";d.data=JSON.stringify(i.toJSON())}if(b.emulateJSON){d.contentType="application/x-www-form-urlencoded";d.data=d.data?{model:d.data}:{}}if(b.emulateHTTP)if(f==="PUT"||f==="DELETE"){if(b.emulateJSON)d.data._method=f;d.type="POST";d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f)}}if(d.type!=="GET"&&!b.emulateJSON)d.processData=c;return g.ajax(a.extend(d,e))};b.wrapError=function(b,a,c){return function(e,d){d=e===a?d:e;if(b)b(a,d,c);else a.trigger("error",a,d,c)}};var A=function(){},I=function(d,c,e){var b;if(c&&c.hasOwnProperty("constructor"))b=c.constructor;else b=function(){d.apply(this,arguments)};a.extend(b,d);A.prototype=d.prototype;b.prototype=new A;c&&a.extend(b.prototype,c);e&&a.extend(b,e);b.prototype.constructor=b;b.__super__=d.prototype;return b},k=function(b,c){return!(b&&b[c])?e:a.isFunction(b[c])?b[c]():b[c]},y=function(){throw new Error('A "url" property or function must be specified');}}).call(this);Backbone.Marionette=function(c,b,d){var e="string",g="render",i="before:render",f="reset",a={};a.EventBinder=function(){this._eventBindings=[]};b.extend(a.EventBinder.prototype,{bindTo:function(e,b,c,a){a=a||this;e.on(b,c,a);var d={obj:e,eventName:b,callback:c,context:a};this._eventBindings.push(d);return d},unbindFrom:function(a){a.obj.off(a.eventName,a.callback,a.context);this._eventBindings=b.reject(this._eventBindings,function(b){return b===a})},unbindAll:function(){var c=this,a=b.map(this._eventBindings,b.identity);b.each(a,function(a){c.unbindFrom(a)})}});a.EventBinder.extend=c.View.extend;a.View=c.View.extend({constructor:function(){var d=this;c.View.prototype.constructor.apply(d,arguments);var e=new a.EventBinder;b.extend(d,e);d.bindTo(d,"show",d.onShowCalled,d)},getTemplate:function(){var a=this,b;if(a.options&&a.options.template)b=a.options.template;else b=a.template;return b},serializeData:function(){var a=this,b;if(a.model)b=a.model.toJSON();else if(a.collection)b={items:a.collection.toJSON()};b=a.mixinTemplateHelpers(b);return b},mixinTemplateHelpers:function(c){c=c||{};var a=this.templateHelpers;if(b.isFunction(a))a=a.call(this);return b.extend(c,a)},configureTriggers:function(){var c=this;if(!c.triggers)return;var a=c.triggers,e=c,d={};if(b.isFunction(a))a=a.call(c);b.each(a,function(a,b){d[b]=function(b){b&&b.preventDefault&&b.preventDefault();b&&b.stopPropagation&&b.stopPropagation();e.trigger(a)}});return d},delegateEvents:function(a){var d=this;a=a||d.events;if(b.isFunction(a))a=a.call(d);var e={},f=d.configureTriggers();b.extend(e,a,f);c.View.prototype.delegateEvents.call(d,e)},onShowCalled:function(){},close:function(){var a=this;a.beforeClose&&a.beforeClose();a.remove();a.onClose&&a.onClose();a.trigger("close");a.unbindAll();a.unbind()},bindUIElements:function(){var a=this;if(!a.ui)return;var c=a;if(!a.uiBindings)a.uiBindings=a.ui;a.ui={};b.each(b.keys(a.uiBindings),function(a){var b=c.uiBindings[a];c.ui[a]=c.$(b)})}});a.ItemView=a.View.extend({constructor:function(){a.View.prototype.constructor.apply(this,arguments);this.initialEvents()},initialEvents:function(){var a=this;a.collection&&a.bindTo(a.collection,f,a.render,a)},render:function(){var b=this;b.beforeRender&&b.beforeRender();b.trigger(i,b);b.trigger("item:before:render",b);var d=b.serializeData(),c=b.getTemplate(),e=a.Renderer.render(c,d);b.$el.html(e);b.bindUIElements();b.onRender&&b.onRender();b.trigger(g,b);b.trigger("item:rendered",b);return b},close:function(){this.trigger("item:before:close");a.View.prototype.close.apply(this,arguments);this.trigger("item:closed")}});a.CollectionView=a.View.extend({constructor:function(){var b=this;a.View.prototype.constructor.apply(b,arguments);b.initChildViewStorage();b.initialEvents();b.onShowCallbacks=new a.Callbacks},initialEvents:function(){var a=this;if(a.collection){a.bindTo(a.collection,"add",a.addChildView,a);a.bindTo(a.collection,"remove",a.removeItemView,a);a.bindTo(a.collection,f,a.render,a)}},addChildView:function(c,d,b){this.closeEmptyView();var a=this.getItemView();return this.addItemView(c,a,b.index)},onShowCalled:function(){this.onShowCallbacks.run()},triggerBeforeRender:function(){var a=this;a.beforeRender&&a.beforeRender();a.trigger(i,a);a.trigger("collection:before:render",a)},triggerRendered:function(){var a=this;a.onRender&&a.onRender();a.trigger(g,a);a.trigger("collection:rendered",a)},render:function(){var a=this;a.triggerBeforeRender();a.closeEmptyView();a.closeChildren();if(a.collection&&a.collection.length>0)a.showCollection();else a.showEmptyView();a.triggerRendered();return a},showCollection:function(){var b=this,a=this.getItemView();this.collection.each(function(d,c){b.addItemView(d,a,c)})},showEmptyView:function(){var a=this,b=a.options.emptyView||a.emptyView;if(b&&!a._showingEmptyView){a._showingEmptyView=true;var d=new c.Model;a.addItemView(d,b,0)}},closeEmptyView:function(){if(this._showingEmptyView){this.closeChildren();delete this._showingEmptyView}},getItemView:function(){var a=this.options.itemView||this.itemView;if(!a){var b=new Error("An `itemView` must be specified");b.name="NoItemViewError";throw b;}return a},addItemView:function(i,f,g){var a=this,c=a,b=a.buildItemView(i,f);a.storeChild(b);if(a.onItemAdded)a.onItemAdded(b);a.trigger("item:added",b);var e=a.renderItemView(b,g);b.onShow&&a.onShowCallbacks.add(b.onShow,b);var d=a.bindTo(b,"all",function(){var a=h.call(arguments);a[0]="itemview:"+a[0];a.splice(1,0,b);c.trigger.apply(c,a)});a.childBindings=a.childBindings||{};a.childBindings[b.cid]=d;return e},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(e,c){var a=b.result(this,"itemViewOptions"),d=b.extend({model:e},a),f=new c(d);return f},removeItemView:function(d){var a=this,b=a.children[d.cid];if(b){var c=a.childBindings[b.cid];if(c){a.unbindFrom(c);delete a.childBindings[b.cid]}b.close();delete a.children[d.cid]}(!a.collection||a.collection.length===0)&&a.showEmptyView();a.trigger("item:removed",b)},appendHtml:function(a,b){a.$el.append(b.el)},storeChild:function(a){this.children[a.model.cid]=a},initChildViewStorage:function(){this.children={}},close:function(){var b=this;b.trigger("collection:before:close");b.closeChildren();a.View.prototype.close.apply(b,arguments);b.trigger("collection:closed")},closeChildren:function(){var a=this;this.children&&b.each(b.clone(this.children),function(b){a.removeItemView(b.model)})}});a.CompositeView=a.CollectionView.extend({constructor:function(){a.CollectionView.apply(this,arguments);this.itemView=this.getItemView()},initialEvents:function(){var a=this;if(a.collection){a.bindTo(a.collection,"add",a.addChildView,a);a.bindTo(a.collection,"remove",a.removeItemView,a);a.bindTo(a.collection,f,a.renderCollection,a)}},getItemView:function(){return this.itemView||this.constructor},render:function(){var a=this,c=a;a.resetItemViewContainer();var b=a.renderModel();a.$el.html(b);a.bindUIElements();a.trigger("composite:model:rendered");a.trigger(g);a.renderCollection();a.trigger("composite:rendered");return a},renderCollection:function(){a.CollectionView.prototype.render.apply(this,arguments);this.trigger("composite:collection:rendered")},renderModel:function(){var b={};b=this.serializeData();var c=this.getTemplate();return a.Renderer.render(c,b)},appendHtml:function(b,c){var a=this.getItemViewContainer(b);a.append(c.el)},getItemViewContainer:function(a){var c;if("$itemViewContainer"in a)c=a.$itemViewContainer;else{if(a.itemViewContainer){c=a.$(b.result(a,"itemViewContainer"));if(c.length<=0){var d=new Error("Missing `itemViewContainer`");d.name="ItemViewContainerMissingError";throw d;}}else c=a.$el;a.$itemViewContainer=c}return c},resetItemViewContainer:function(){if(this.$itemViewContainer)delete this.$itemViewContainer}});a.Region=function(d){var c=this;c.options=d||{};var f=new a.EventBinder;b.extend(c,f,d);if(!c.el){var e=new Error("An 'el' must be specified");e.name="NoElError";throw e;}c.initialize&&c.initialize.apply(c,arguments)};b.extend(a.Region.prototype,c.Events,{show:function(a){var b=this;b.ensureEl();b.close();a.render();b.open(a);a.onShow&&a.onShow();a.trigger("show");if(b.onShow)b.onShow(a);b.trigger("view:show",a);b.currentView=a},ensureEl:function(){var a=this;if(!a.$el||a.$el.length===0)a.$el=a.getEl(a.el)},getEl:function(a){return d(a)},open:function(a){this.$el.html(a.el)},close:function(){var a=this.currentView;if(!a)return;a.close&&a.close();this.trigger("view:closed",a);delete this.currentView},attachView:function(a){this.currentView=a}});a.Region.extend=c.View.extend;a.Layout=a.ItemView.extend({regionType:a.Region,constructor:function(){c.Marionette.ItemView.apply(this,arguments);this.initializeRegions()},render:function(){var b=a.ItemView.prototype.render.apply(this,arguments);this.render=function(){this.closeRegions();this.reInitializeRegions();var b=a.ItemView.prototype.render.apply(this,arguments);return b};return b},close:function(){this.closeRegions();this.destroyRegions();c.Marionette.ItemView.prototype.close.call(this,arguments)},initializeRegions:function(){var a=this;if(!a.regionManagers)a.regionManagers={};var c=a;b.each(a.regions,function(a,d){if(typeof a!=e&&typeof a.selector!=e)throw new Exception("Region must be specified as a selector string or an object with selector property");selector=typeof a===e?a:a.selector;var f=typeof a.regionType==="undefined"?c.regionType:a.regionType,b=new f({el:selector,getEl:function(a){return c.$(a)}});c.regionManagers[d]=b;c[d]=b})},reInitializeRegions:function(){var a=this;if(a.regionManagers&&b.size(a.regionManagers)===0)a.initializeRegions();else b.each(a.regionManagers,function(a){delete a.$el})},closeRegions:function(){var a=this;b.each(this.regionManagers,function(a){a.close()})},destroyRegions:function(){var a=this;b.each(this.regionManagers,function(c,b){delete a[b]});this.regionManagers={}}});a.Application=function(e){var c=this;c.initCallbacks=new a.Callbacks;c.vent=new a.EventAggregator;c.submodules={};var d=new a.EventBinder;b.extend(c,d,e)};b.extend(a.Application.prototype,c.Events,{addInitializer:function(a){this.initCallbacks.add(a)},start:function(b){var a=this;a.trigger("initialize:before",b);a.initCallbacks.run(b,a);a.trigger("initialize:after",b);a.trigger("start",b)},addRegions:function(f){var b,d,c;for(c in f)if(f.hasOwnProperty(c)){b=f[c];if(typeof b===e)d=new a.Region({el:b});else d=new b;this[c]=d}},removeRegion:function(a){this[a].close();delete this[a]},module:function(){var b=h.call(arguments);b.unshift(this);return a.Module.create.apply(a.Module,b)}});a.Application.extend=c.View.extend;a.AppRouter=c.Router.extend({constructor:function(b){var a=this;c.Router.prototype.constructor.call(a,b);if(a.appRoutes){var d=a.controller;if(b&&b.controller)d=b.controller;a.processAppRoutes(d,a.appRoutes)}},processAppRoutes:function(i,g){var c,e,a,h,d,f=[],k=this;for(a in g)g.hasOwnProperty(a)&&f.unshift([a,g[a]]);h=f.length;for(d=0;d<h;d++){a=f[d][0];e=f[d][1];c=i[e];if(!c){var l="Method '"+e+"' was not found on the controller",j=new Error(l);j.name="NoMethodError";throw j;}c=b.bind(c,i);k.route(a,e,c)}}});a.Module=function(f,g,e){var c=this;c.moduleName=f;c.submodules={};c._initializerCallbacks=new a.Callbacks;c._finalizerCallbacks=new a.Callbacks;c._config={};c._config.app=g;c._config.customArgs=e;c._config.definitions=[];var d=new a.EventBinder;b.extend(c,d)};b.extend(a.Module.prototype,c.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(c){var a=this;a._runModuleDefinition();a._initializerCallbacks.run(c,a);a._isInitialized=true;a.submodules&&b.each(a.submodules,function(a){a.start()})},stop:function(){var a=this;if(!a._isInitialized)return;a._isInitialized=false;a._finalizerCallbacks.run();b.each(a.submodules,function(a){a.stop()})},addDefinition:function(a){this._config.definitions.push(a)},_runModuleDefinition:function(){var e=this;if(e._config.definitions.length===0)return;for(var i=b.flatten([e,e._config.app,c,a,d,b,e._config.customArgs]),g=e._config.definitions.length-1,f=0;f<=g;f++){var h=e._config.definitions[f];h.apply(e,i)}}});b.extend(a.Module,{create:function(e,d,g){var j=this,c=e,d=d.split("."),f=h.apply(arguments);f.splice(0,3);var i=d.length;b.each(d,function(d,k){var h=k===i-1,b=c[d];if(!b){b=new a.Module(d,e,f);c[d]=b;c.submodules[d]=b}h&&j._createModuleDefinition(b,g,e);c=b});return c},_createModuleDefinition:function(b,c,d){var a=this._getModuleDefinitionOptions(c);a.definition&&b.addDefinition(a.definition);a.startWithApp&&d.addInitializer(function(a){b.start(a)})},_getModuleDefinitionOptions:function(a){var c={startWithApp:true};if(!a)return c;if(b.isFunction(a))c.definition=a;else{c.definition=a.define;if(a.hasOwnProperty("startWithApp"))c.startWithApp=a.startWithApp}return c}});a.TemplateCache=function(a){this.templateId=a};b.extend(a.TemplateCache,{templateCaches:{},"get":function(c,e,d){var f=this,b=this.templateCaches[c];if(!b){b=new a.TemplateCache(c);b.url=e;b.data=d;this.templateCaches[c]=b}return b.load()},clear:function(){var a,b=arguments.length;if(b>0)for(a=0;a<b;a++)delete this.templateCaches[arguments[a]];else this.templateCaches={}}});b.extend(a.TemplateCache.prototype,{load:function(){var a=this,c=a,b=new d.Deferred;if(a.compiledTemplate){b.resolve(a.compiledTemplate);return b.promise()}d.when(a.loadTemplate(a.templateId)).then(function(a){c.compiledTemplate=c.compileTemplate(a);b.resolve(c.compiledTemplate)});return b.promise()},loadTemplate:function(b){var a=d(b).html();if(!a||a.length===0){var e="Could not find template: '"+b+"'",c=new Error(e);c.name="NoTemplateError";throw c;}return a},compileTemplate:function(a){return b.template(a)}});a.Renderer={render:function(c,d){var b=a.TemplateCache.get(c),e=b(d);return e}};a.Callbacks=function(){this.deferred=d.Deferred();this.promise=this.deferred.promise()};b.extend(a.Callbacks.prototype,{add:function(b,a){this.promise.done(function(c,d){if(a)c=a;b.call(c,d)})},run:function(b,a){this.deferred.resolve(a,b)}});a.EventAggregator=a.EventBinder.extend({constructor:function(c){a.EventBinder.apply(this,arguments);b.extend(this,c)},bindTo:function(b,c,d){return a.EventBinder.prototype.bindTo.call(this,this,b,c,d)}});b.extend(a.EventAggregator.prototype,c.Events);a.EventAggregator.extend=c.View.extend;var h=Array.prototype.slice;return a}(Backbone,_,window.jQuery||window.Zepto||window.ender);Highcharts.theme={colors:["#DDDF0D","#55BF3B","#DF5353","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:[0,0,250,500],stops:[[0,"rgb(48, 48, 96)"],[1,"rgb(0, 0, 0)"]]},borderColor:"#000000",borderWidth:2,className:"dark-container",plotBackgroundColor:"rgba(255, 255, 255, .1)",plotBorderColor:"#CCCCCC",plotBorderWidth:1},title:{style:{color:"#C0C0C0",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"#333333",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",tickColor:"#A0A0A0",title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{gridLineColor:"#333333",labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",minorTickInterval:null,tickColor:"#A0A0A0",tickWidth:1,title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},legend:{itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:"#A0A0A0"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"}},credits:{style:{color:"#666"}},labels:{style:{color:"#CCC"}},navigation:{buttonOptions:{backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#606060"],[.6,"#333333"]]},borderColor:"#000000",symbolStroke:"#C0C0C0",hoverSymbolStroke:"#FFFFFF"}},exporting:{buttons:{exportButton:{symbolFill:"#55BE3B"},printButton:{symbolFill:"#7797BE"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:[0,0,0,20],stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:[0,0,0,20],stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:[0,0,0,10],stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"};var highchartsOptions=Highcharts.setOptions(Highcharts.theme);(function(a,f){var C="<div class='fc-event-inner fc-event-skin'",gc="eventResizeStop",ic="eventResizeStart",B=">",Zb=" class='",Xb="fc-event-draggable",Vb="fc-event-skin",Tb="fc-event",Rb=" style='",Pb="eventAfterRender",W="timeFormat",Hc="eventRender",ob="mouseup",yb="absolute",db="defaultEventMinutes",z="allDaySlot",l="slotMinutes",Ob="filter",Nb="eventDragStop",Mb="drag",Jb="revert",x="option",Lb="eventDragStart",xb="dragRevertDuration",lb="dragOpacity",S="dayClick",U="selectable",fb="-state-highlight fc-today",wb="<div style='position:absolute;z-index:8;top:0;left:0'/>",Fc="div.fc-day-content div",kb="td",R="tr",jb="</table>",ub="</tbody>",ib="</td>",n="</div>",sb="<div style='position:relative'>&nbsp;</div>",Dc="<div class='fc-day-content'>",t="'>",qb="<tbody>",Bc="</thead>",H="</tr>",hb="<tr>",zc="-widget-content",xc="-widget-header",vc="columnFormat",s="isRTL",Q="titleFormat",tc="weekMode",A="weekends",P="firstDay",N="fc-last",mc="fc-first",kc=":first-child",T="px",X="th",p="'",k=12,q=10,Bb="number",w=1e3,I="object",G="</span>",y=" ",eb="'/>",h=-1,i=null,Kb="body",O="fc",gb="ui",V="string",wc="circle-triangle-e",uc="circle-triangle-w",Ab="today",sc="&nbsp;&gt;&gt;&nbsp;",rc="&nbsp;&lt;&lt;&nbsp;",qc="&nbsp;&#9658;&nbsp;",pc="&nbsp;&#9668;&nbsp;",e=false,b=true,g="",zb="title",Y="month",cb={defaultView:Y,aspectRatio:1.35,header:{left:zb,center:g,right:"today prev,next"},weekends:b,allDayDefault:b,ignoreTimezone:b,lazyFetching:b,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:e,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:pc,next:qc,prevYear:rc,nextYear:sc,today:Ab,month:Y,week:"week",day:"day"},theme:e,buttonIcons:{prev:uc,next:wc},unselectAuto:b,dropAccept:"*"},ad={header:{left:"next,prev today",center:g,right:zb},buttonText:{prev:qc,next:pc,prevYear:sc,nextYear:rc},buttonIcons:{prev:wc,next:uc}},m=a.fullCalendar={version:"1.5.2"},v=m.views={};a.fn.fullCalendar=function(c){var g="fullCalendar",d=this;if(typeof c==V){var i=Array.prototype.slice.call(arguments,1),e;d.each(function(){var b=a.data(this,g);if(b&&a.isFunction(b[c])){var d=b[c].apply(b,i);if(e===f)e=d;c=="destroy"&&a.removeData(this,g)}});return e!==f?e:d}var h=c.eventSources||[];delete c.eventSources;if(c.events){h.push(c.events);delete c.events}c=a.extend(b,{},cb,c.isRTL||c.isRTL===f&&cb.isRTL?ad:{},c);d.each(function(f,e){var d=a(e),b=new fd(d,c,h);d.data(g,b);b.render()});return d};function Cc(c){a.extend(b,cb,c)}function fd(q,l,lb){var k=this;k.options=l;k.render=Z;k.destroy=U;k.refetchEvents=J;k.reportEvents=mb;k.reportEventChange=hb;k.rerenderEvents=z;k.changeView=N;k.select=bb;k.unselect=B;k.prev=eb;k.next=db;k.prevYear=T;k.nextYear=S;k.today=cb;k.gotoDate=qb;k.incrementDate=ib;k.formatDate=function(a,b){return D(a,b,l)};k.formatDates=function(a,b,c){return Eb(a,b,c,l)};k.getDate=V;k.getView=W;k.option=Y;k.trigger=X;Zc.call(k,l,lb);var kb=k.isFetchNeeded,ob=k.fetchEvents,w=q[0],r,t,m,fb,j,A={},C,s,x,R=0,o=0,n=new Date,G=[],u;Yb(n,l.year,l.month,l.date);function Z(a){if(!m)jb();else{E();I();H();p(a)}}function jb(){fb=l.theme?gb:O;q.addClass(O);l.isRTL&&q.addClass("fc-rtl");l.theme&&q.addClass("ui-widget");m=a("<div class='fc-content' style='position:relative'/>").prependTo(q);r=new Oc(k,l);t=r.render();t&&q.prepend(t);N(l.defaultView);a(window).resize(K);!L()&&P()}function P(){setTimeout(function(){!j.start&&L()&&p()},0)}function U(){a(window).unbind("resize",K);r.destroy();m.remove();q.removeClass("fc fc-rtl ui-widget")}function y(){return w.offsetWidth!==0}function L(){return a(Kb)[0].offsetWidth!==0}function N(b){var d="overflow";if(!j||b!=j.name){o++;B();var c=j,e;if(c){(c.beforeHide||ac)();ab(m,m.height());c.element.hide()}else ab(m,1);m.css(d,"hidden");j=A[b];if(j)j.element.show();else j=A[b]=new v[b](e=x=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo(m),k);c&&r.deactivateButton(c.name);r.activateButton(b);p();m.css(d,g);c&&ab(m,1);!e&&(j.afterShow||ac)();o--}}function p(d){if(y()){o++;B();s===f&&E();var a=e;if(!j.start||d||n<j.start||n>=j.end){j.render(n,d||0);F(b);a=b}else if(j.sizeDirty){j.clearEvents();F();a=b}else if(j.eventsDirty){j.clearEvents();a=b}j.sizeDirty=e;j.eventsDirty=e;nb(a);C=q.outerWidth();r.updateTitle(j.title);var c=new Date;if(c>=j.start&&c<j.end)r.disableButton(Ab);else r.enableButton(Ab);o--;j.trigger("viewDisplay",w)}}function Q(){I();if(y()){E();F();B();j.clearEvents();j.renderEvents(G);j.sizeDirty=e}}function I(){a.each(A,function(c,a){a.sizeDirty=b})}function E(){if(l.contentHeight)s=l.contentHeight;else if(l.height)s=l.height-(t?t.height():0)-M(m);else s=Math.round(m.width()/Math.max(l.aspectRatio,.5))}function F(a){o++;j.setHeight(s,a);if(x){x.css("position","relative");x=i}j.setWidth(m.width(),a);o--}function K(){if(!o)if(j.start){var a=++R;setTimeout(function(){if(a==R&&!o&&y())if(C!=(C=q.outerWidth())){o++;Q();j.trigger("windowResize",w);o--}},200)}else P()}function nb(a){if(!l.lazyFetching||kb(j.visStart,j.visEnd))J();else a&&z()}function J(){ob(j.visStart,j.visEnd)}function mb(a){G=a;z()}function hb(a){z(a)}function z(a){H();if(y()){j.clearEvents();j.renderEvents(G,a);j.eventsDirty=e}}function H(){a.each(A,function(c,a){a.eventsDirty=b})}function bb(c,d,a){j.select(c,d,a===f?b:a)}function B(){j&&j.unselect()}function eb(){p(h)}function db(){p(1)}function T(){pb(n,h);p()}function S(){pb(n,1);p()}function cb(){n=new Date;p()}function qb(a,d,b){if(a instanceof Date)n=c(a);else Yb(n,a,d,b);p()}function ib(b,a,c){b!==f&&pb(n,b);a!==f&&Fb(n,a);c!==f&&d(n,c);p()}function V(){return c(n)}function W(){return j}function Y(a,b){if(b===f)return l[a];if(a=="height"||a=="contentHeight"||a=="aspectRatio"){l[a]=b;Q()}}function X(a,b){if(l[a])return l[a].apply(b||w,Array.prototype.slice.call(arguments,2))}l.droppable&&a(document).bind("dragstart",function(e,f){var c=e.target,d=a(c);if(!d.parents(".fc").length){var b=l.dropAccept;if(a.isFunction(b)?b.call(c,d):d.is(b)){u=c;j.dragStart(u,e,f)}}}).bind("dragstop",function(a,b){if(u){j.dragStop(u,a,b);u=i}})}function Oc(k,e){var h="span.fc-button-",g="-state-active",f="-state-disabled",d=this;d.render=r;d.destroy=q;d.updateTitle=p;d.activateButton=m;d.deactivateButton=l;d.disableButton=n;d.enableButton=o;var c=a([]),b;function r(){b=e.theme?gb:O;var d=e.header;if(d){c=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(j("left")).append(j("center")).append(j("right")));return c}}function q(){c.remove()}function j(h){var c=a("<td class='fc-header-"+h+eb),d=e.header[h];d&&a.each(d.split(y),function(j){var h="-corner-right";j>0&&c.append("<span class='fc-header-space'/>");var d;a.each(this.split(","),function(r,l){var o="-state-down",n="-state-hover";if(l==zb){c.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");d&&d.addClass(b+h);d=i}else{var m;if(k[l])m=k[l];else if(v[l])m=function(){j.removeClass(b+n);k.changeView(l)};if(m){var p=e.theme?Db(e.buttonIcons,l):i,q=Db(e.buttonText,l),j=a("<span class='fc-button fc-button-"+l+y+b+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(p?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+p+eb+G:q)+G+"<span class='fc-button-effect'><span></span></span>"+G+G);if(j){j.click(function(){!j.hasClass(b+f)&&m()}).mousedown(function(){j.not("."+b+g).not("."+b+f).addClass(b+o)}).mouseup(function(){j.removeClass(b+o)}).hover(function(){j.not("."+b+g).not("."+b+f).addClass(b+n)},function(){j.removeClass(b+n).removeClass(b+o)}).appendTo(c);!d&&j.addClass(b+"-corner-left");d=j}}}});d&&d.addClass(b+h)});return c}function p(a){c.find("h2").html(a)}function m(a){c.find(h+a).addClass(b+g)}function l(a){c.find(h+a).removeClass(b+g)}function n(a){c.find(h+a).addClass(b+f)}function o(a){c.find(h+a).removeClass(b+f)}}m.sourceNormalizers=[];m.sourceFetchers=[];var Xc={dataType:"json",cache:e},cd=1;function Zc(q,x){var j=this;j.isFetchNeeded=L;j.fetchEvents=O;j.addEventSource=J;j.removeEventSource=G;j.replaceEventSource=F;j.updateEvent=Q;j.renderEvent=P;j.removeEvents=N;j.clientEvents=M;j.normalizeEvent=l;for(var y=j.trigger,R=j.getView,n=j.reportEvents,s={events:[]},h=[s],k,o,r=0,p=0,E=0,d=[],t=0;t<x.length;t++)C(x[t]);function L(a,b){return!k||a<k||b>o}function O(e,f){k=e;o=f;d=[];var c=++r,b=h.length;p=b;for(var a=0;a<b;a++)B(h[a],c)}function B(a,b){A(a,function(c){if(b==r){if(c){for(var e=0;e<c.length;e++){c[e].source=a;l(c[e])}d=d.concat(c)}p--;!p&&n(d)}})}function A(d,e){for(var n=m.sourceFetchers,g,i=0;i<n.length;i++){g=n[i](d,k,o,e);if(g===b)return;else if(typeof g==I){A(g,e);return}}var f=d.events;if(f)if(a.isFunction(f)){u();f(c(k),c(o),function(a){e(a);v()})}else if(a.isArray(f))e(f);else e();else{var t=d.url;if(t){var r=d.success,s=d.error,p=d.complete,h=a.extend({},d.data||{}),j=K(d.startParam,q.startParam),l=K(d.endParam,q.endParam);if(j)h[j]=Math.round(+k/w);if(l)h[l]=Math.round(+o/w);u();a.ajax(a.extend({},Xc,d,{data:h,success:function(b){b=b||[];var c=bb(r,this,arguments);if(a.isArray(c))b=c;e(b)},error:function(){bb(s,this,arguments);e()},complete:function(){bb(p,this,arguments);v()}}))}else e()}}function J(a){a=C(a);if(a){p++;B(a,r)}}function C(b){if(a.isFunction(b)||a.isArray(b))b={events:b};else if(typeof b==V)b={url:b};if(typeof b==I){H(b);h.push(b);return b}}function F(a){h=[a]}function G(b){h=a.grep(h,function(a){return!D(a,b)});d=a.grep(d,function(a){return!D(a.source,b)});n(d)}function Q(b){for(var h=d.length,a,e=R().defaultEventEnd,g=b.start-b._start,f=b.end?b.end-(b._end||e(b)):0,c=0;c<h;c++){a=d[c];if(a._id==b._id&&a!=b){a.start=new Date(+a.start+g);if(b.end)if(a.end)a.end=new Date(+a.end+f);else a.end=new Date(+e(a)+f);else a.end=i;a.title=b.title;a.url=b.url;a.allDay=b.allDay;a.className=b.className;a.editable=b.editable;a.color=b.color;a.backgroudColor=b.backgroudColor;a.borderColor=b.borderColor;a.textColor=b.textColor;l(a)}}l(b);n(d)}function P(a,b){l(a);if(!a.source){if(b){s.events.push(a);a.source=s}d.push(a)}n(d)}function N(e){if(!e){d=[];for(var c=0;c<h.length;c++)if(a.isArray(h[c].events))h[c].events=[]}else{if(!a.isFunction(e)){var f=e+g;e=function(a){return a._id==f}}d=a.grep(d,e,b);for(var c=0;c<h.length;c++)if(a.isArray(h[c].events))h[c].events=a.grep(h[c].events,e,b)}n(d)}function M(b){if(a.isFunction(b))return a.grep(d,b);else if(b){b+=g;return a.grep(d,function(a){return a._id==b})}return d}function u(){!E++&&y("loading",i,b)}function v(){!--E&&y("loading",i,e)}function l(a){var d=a.source||{},b=K(d.ignoreTimezone,q.ignoreTimezone);a._id=a._id||(a.id===f?"_fc"+cd++:a.id+g);if(a.date){if(!a.start)a.start=a.date;delete a.date}a._start=c(a.start=Hb(a.start,b));a.end=Hb(a.end,b);if(a.end&&a.end<=a.start)a.end=i;a._end=a.end?c(a.end):i;if(a.allDay===f)a.allDay=K(d.allDayDefault,q.allDayDefault);if(a.className){if(typeof a.className==V)a.className=a.className.split(/\s+/)}else a.className=[]}function H(a){if(a.className){if(typeof a.className==V)a.className=a.className.split(/\s+/)}else a.className=[];for(var c=m.sourceNormalizers,b=0;b<c.length;b++)c[b](a)}function D(a,b){return a&&b&&z(a)==z(b)}function z(a){return(typeof a==I?a.events||a.url:g)||a}}m.addDays=d;m.cloneDate=c;m.parseDate=Hb;m.parseISO8601=oc;m.parseTime=Ib;m.formatDate=D;m.formatDates=Eb;var Nc=["sun","mon","tue","wed","thu","fri","sat"],Wb=8.64e7,Mc=3.6e6,dd=6e4;function pb(a,c,b){a.setFullYear(a.getFullYear()+c);!b&&u(a);return a}function Fb(a,f,e){if(+a){var d=a.getMonth()+f,b=c(a);b.setDate(1);b.setMonth(d);a.setMonth(d);!e&&u(a);while(a.getMonth()!=b.getMonth())a.setDate(a.getDate()+(a<b?1:h))}return a}function d(a,f,e){if(+a){var d=a.getDate()+f,b=c(a);b.setHours(9);b.setDate(d);a.setDate(d);!e&&u(a);tb(a,b)}return a}function tb(a,b){if(+a)while(a.getDate()!=b.getDate())a.setTime(+a+(a<b?1:h)*Mc)}function j(a,b){a.setMinutes(a.getMinutes()+b);return a}function u(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function c(a,b){return b?u(new Date(+a)):new Date(+a)}function Sb(){var b=0,a;do a=new Date(1970,b++,1);while(a.getHours());return a}function r(a,b,c){b=b||1;while(!a.getDay()||(c&&a.getDay()==1||!c&&a.getDay()==6))d(a,b);return a}function o(a,d){return Math.round((c(a,b)-c(d,b))/Wb)}function Yb(a,c,b,d){if(c!==f&&c!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(c)}if(b!==f&&b!=a.getMonth()){a.setDate(1);a.setMonth(b)}d!==f&&a.setDate(d)}function Hb(a,c){if(typeof a==I)return a;if(typeof a==Bb)return new Date(a*w);if(typeof a==V){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*w);if(c===f)c=b;return oc(a,c)||(a?new Date(a):i)}return i}function oc(f,e){var a=f.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return i;var b=new Date(a[1],0,1);if(e||!a[13]){var c=new Date(a[1],0,1,9,0);if(a[3]){b.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){b.setDate(a[5]);c.setDate(a[5])}tb(b,c);a[7]&&b.setHours(a[7]);a[8]&&b.setMinutes(a[8]);a[q]&&b.setSeconds(a[q]);a[k]&&b.setMilliseconds(Number("0."+a[k])*w);tb(b,c)}else{b.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);b.setUTCHours(a[7]||0,a[8]||0,a[q]||0,a[k]?Number("0."+a[k])*w:0);if(a[14]){var d=Number(a[16])*60+(a[18]?Number(a[18]):0);d*=a[15]=="-"?1:h;b=new Date(+b+d*60*w)}}return b}function Ib(b){if(typeof b==Bb)return b*60;if(typeof b==I)return b.getHours()*60+b.getMinutes();var a=b.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(a){var c=parseInt(a[1],q);if(a[3]){c%=k;if(a[3].toLowerCase().charAt(0)=="p")c+=k}return c*60+(a[2]?parseInt(a[2],q):0)}}function D(c,b,a){return Eb(c,i,b,a)}function Eb(l,m,c,h){h=h||cb;for(var d=l,k=m,i=c.length,f,a,n,e=g,b=0;b<i;b++){f=c.charAt(b);if(f==p){for(a=b+1;a<i;a++)if(c.charAt(a)==p){if(d){if(a==b+1)e+=p;else e+=c.substring(b+1,a);b=a}break}}else if(f=="("){for(a=b+1;a<i;a++)if(c.charAt(a)==")"){var j=D(d,c.substring(b+1,a),h);if(parseInt(j.replace(/\D/,g),q))e+=j;b=a;break}}else if(f=="["){for(a=b+1;a<i;a++)if(c.charAt(a)=="]"){var o=c.substring(b+1,a),j=D(d,o,h);if(j!=D(k,o,h))e+=j;b=a;break}}else if(f=="{"){d=m;k=l}else if(f=="}"){d=l;k=m}else{for(a=i;a>b;a--)if(n=Uc[c.substring(b,a)]){if(d)e+=n(d,h);b=a-1;break}if(a==b)if(d)e+=f}}return e}var Uc={s:function(a){return a.getSeconds()},ss:function(a){return F(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return F(a.getMinutes())},h:function(a){return a.getHours()%k||k},hh:function(a){return F(a.getHours()%k||k)},H:function(a){return a.getHours()},HH:function(a){return F(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return F(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return F(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+g).substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<k?"a":"p"},tt:function(a){return a.getHours()<k?"am":"pm"},T:function(a){return a.getHours()<k?"A":"P"},TT:function(a){return a.getHours()<k?"AM":"PM"},u:function(a){return D(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(b){var a=b.getDate();return a>q&&a<20?X:(["st","nd","rd"])[a%q-1]||X}};m.applyAll=bb;function L(a){return a.end?bd(a.end,a.allDay):d(c(a.start),1)}function bd(a,b){a=c(a);return b||a.getHours()||a.getMinutes()?d(a,1):u(a)}function Pc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Ac(a,b){return a.end>b.start&&a.start<b.end}function mb(n,p,l,m){for(var o=[],q=n.length,j,a,d,f,g,i,k,h=0;h<q;h++){j=n[h];a=j.start;d=p[h];if(d>l&&a<m){if(a<l){f=c(l);i=e}else{f=a;i=b}if(d>m){g=c(m);k=e}else{g=d;k=b}o.push({event:j,start:f,end:g,isStart:i,isEnd:k,msLength:g-f})}}return o.sort(Pc)}function nb(i){for(var c=[],j=i.length,d,a,g,f,h=0;h<j;h++){d=i[h];a=0;while(b){g=e;if(c[a])for(f=0;f<c[a].length;f++)if(Ac(c[a][f],d)){g=b;break}if(g)a++;else break}if(c[a])c[a].push(d);else c[a]=[d]}return c}function yc(c,d,b){c.unbind("mouseover").mouseover(function(g){var c=g.target,h,i,e;while(c!=this){h=c;c=c.parentNode}if((i=h._fci)!==f){h._fci=f;e=d[i];b(e.event,e.element,e);a(g.target).trigger(g)}g.stopPropagation()})}function J(d,f,e){for(var c=0,b;c<d.length;c++){b=a(d[c]);b.width(Math.max(0,f-vb(b,e)))}}function lc(d,f,e){for(var c=0,b;c<d.length;c++){b=a(d[c]);b.height(Math.max(0,f-M(b,e)))}}function vb(a,b){return Jc(a)+gd(a)+(b?hd(a):0)}function Jc(c){return(parseFloat(a.curCSS(c[0],"paddingLeft",b))||0)+(parseFloat(a.curCSS(c[0],"paddingRight",b))||0)}function hd(c){return(parseFloat(a.curCSS(c[0],"marginLeft",b))||0)+(parseFloat(a.curCSS(c[0],"marginRight",b))||0)}function gd(c){return(parseFloat(a.curCSS(c[0],"borderLeftWidth",b))||0)+(parseFloat(a.curCSS(c[0],"borderRightWidth",b))||0)}function M(a,b){return Lc(a)+Kc(a)+(b?Qb(a):0)}function Lc(c){return(parseFloat(a.curCSS(c[0],"paddingTop",b))||0)+(parseFloat(a.curCSS(c[0],"paddingBottom",b))||0)}function Qb(c){return(parseFloat(a.curCSS(c[0],"marginTop",b))||0)+(parseFloat(a.curCSS(c[0],"marginBottom",b))||0)}function Kc(c){return(parseFloat(a.curCSS(c[0],"borderTopWidth",b))||0)+(parseFloat(a.curCSS(c[0],"borderBottomWidth",b))||0)}function ab(b,a){a=typeof a==Bb?a+T:a;b.each(function(c,b){b.style.cssText+=";min-height:"+a+";_height:"+a})}function ac(){}function dc(a,b){return a-b}function Ic(a){return Math.max.apply(Math,a)}function F(a){return(a<q?"0":g)+a}function Db(a,b){if(a[b]!==f)return a[b];for(var e=b.split(/(?=[A-Z])/),d=e.length-1,c;d>=0;d--){c=a[e[d].toLowerCase()];if(c!==f)return c}return a[g]}function E(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Ub(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,g)}function Cb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return e})}function Z(a){a.children().removeClass("fc-first fc-last").filter(kc).addClass(mc).end().filter(":last-child").addClass(N)}function rb(a,b){a.each(function(c,a){a.className=a.className.replace(/^fc-\w*/,"fc-"+Nc[b.getDay()])})}function Gc(a,d){var c=a.source||{},i=a.color,h=c.color,g=d("eventColor"),e=a.backgroundColor||i||c.backgroundColor||h||d("eventBackgroundColor")||g,f=a.borderColor||i||c.borderColor||h||d("eventBorderColor")||g,j=a.textColor||c.textColor||d("eventTextColor"),b=[];e&&b.push("background-color:"+e);f&&b.push("border-color:"+f);j&&b.push("color:"+j);return b.join(";")}function bb(b,e,f){if(a.isFunction(b))b=[b];if(b){for(var c,d=0;d<b.length;d++)c=b[d].apply(e,f)||c;return c}}function K(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==f)return arguments[a]}v.month=ed;function ed(j,f){var a=this;a.render=k;Gb.call(a,j,f,Y);var e=a.opt,g=a.renderBasic,i=f.formatDate;function k(n,p){if(p){Fb(n,p);n.setDate(1)}var k=c(n,b);k.setDate(1);var q=Fb(c(k),1),j=c(k),f=c(q),o=e(P),l=e(A)?0:1;if(l){r(j);r(f,h,b)}d(j,-((j.getDay()-Math.max(o,l)+7)%7));d(f,(7-f.getDay()+Math.max(o,l))%7);var m=Math.round((f-j)/(Wb*7));if(e(tc)=="fixed"){d(f,(6-m)*7);m=6}a.title=i(k,e(Q));a.start=k;a.end=q;a.visStart=j;a.visEnd=f;g(6,m,l?5:7,b)}}v.basicWeek=Wc;function Wc(k,g){var a=this;a.render=l;Gb.call(a,k,g,"basicWeek");var f=a.opt,j=a.renderBasic,i=g.formatDates;function l(m,o){o&&d(m,o*7);var l=d(c(m),-((m.getDay()-f(P)+7)%7)),p=d(c(l),7),g=c(l),k=c(p),n=f(A);if(!n){r(g);r(k,h,b)}a.title=i(g,d(c(k),h),f(Q));a.start=l;a.end=p;a.visStart=g;a.visEnd=k;j(1,1,n?7:5,e)}}v.basicDay=Yc;function Yc(k,f){var a=this;a.render=l;Gb.call(a,k,f,"basicDay");var g=a.opt,i=a.renderBasic,j=f.formatDate;function l(f,k){if(k){d(f,k);!g(A)&&r(f,k<0?h:1)}a.title=j(f,g(Q));a.start=a.visStart=c(f,b);a.end=a.visEnd=d(c(a.start),1);i(1,1,1,e)}}Cc({weekMode:"fixed"});function Gb(l,T,vb){var e=this;e.renderBasic=Hb;e.setHeight=Ob;e.setWidth=Rb;e.renderDayOverlay=nb;e.defaultSelectionEnd=Kb;e.renderSelection=xb;e.clearSelection=yb;e.reportDayClick=Ab;e.dragStart=Nb;e.dragStop=Qb;e.defaultEventEnd=tb;e.getHoverListener=function(){return z};e.colContentLeft=zb;e.colContentRight=Sb;e.dayOfWeekCol=pb;e.dateCell=W;e.cellDate=V;e.cellIsAllDay=function(){return b};e.allDayRow=Mb;e.allDayBounds=Fb;e.getRowCnt=function(){return i};e.getColCnt=function(){return f};e.getColWidth=function(){return F};e.getDaySegmentContainer=function(){return db};bc.call(e,l,T,vb);jc.call(e);fc.call(e);Rc.call(e);var k=e.opt,G=e.trigger,Gb=e.clearEvents,Db=e.renderOverlay,C=e.clearOverlays,Ib=e.daySelectionMousedown,Lb=T.formatDate,r,B,w,j,q,ob,lb,db,E,K,F,i,f,y,z,x,I,m,p,Y,cb,v,L;Cb(l.addClass("fc-grid"));function Hb(c,e,d,b){i=e;f=d;Eb();var a=!w;if(a)Bb(c,b);else Gb();Jb(a)}function Eb(){I=k(s);if(I){m=h;p=f-1}else{m=1;p=0}Y=k(P);cb=k(A)?0:1;v=k("theme")?gb:O;L=k(vc)}function Bb(m,k){var c,i=v+xc,h=v+zc,b,d,e;c="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead>"+hb;for(b=0;b<f;b++)c+="<th class='fc- "+i+eb;c+=H+Bc+qb;for(b=0;b<m;b++){c+="<tr class='fc-week"+b+t;for(d=0;d<f;d++)c+="<td class='fc- "+h+" fc-day"+(b*f+d)+t+"<div>"+(k?"<div class='fc-day-number'/>":g)+Dc+sb+n+n+ib;c+=H}c+=ub+jb;e=a(c).appendTo(l);r=e.find("thead");B=r.find(X);w=e.find("tbody");j=w.find(R);q=w.find(kb);ob=q.filter(kc);lb=j.eq(0).find(Fc);Z(r.add(r.find(R)));Z(j);j.eq(0).addClass(mc);bb(q);db=a(wb).appendTo(l)}function Jb(g){var f=g||i==1,h=e.start.getMonth(),k=u(new Date),b,c,d;f&&B.each(function(e,d){b=a(d);c=D(e);b.html(Lb(c,L));rb(b,c)});q.each(function(g,e){var d="fc-other-month";b=a(e);c=D(g);if(c.getMonth()==h)b.removeClass(d);else b.addClass(d);if(+c==+k)b.addClass(v+fb);else b.removeClass(v+fb);b.find("div.fc-day-number").text(c.getDate());f&&rb(b,c)});j.each(function(b,c){d=a(c);if(b<i){d.show();if(b==i-1)d.addClass(N);else d.removeClass(N)}else d.hide()})}function Ob(f){K=f;var d=K-r.height(),b,c,e;if(k(tc)=="variable")b=c=Math.floor(d/(i==1?2:6));else{b=Math.floor(d/i);c=d-b*(i-1)}ob.each(function(d,f){if(d<i){e=a(f);ab(e.find("> div"),(d==i-1?c:b)-M(e))}})}function Rb(a){E=a;x.clear();F=Math.floor(E/f);J(B.slice(0,h),F)}function bb(a){a.click(Pb).mousedown(Ib)}function Pb(d){if(!k(U)){var a=parseInt(this.className.match(/fc\-day(\d+)/)[1]),c=D(a);G(S,this,c,b,d)}}function nb(q,r,n){n&&y.build();for(var a=c(e.visStart),l=d(c(a),f),b=0;b<i;b++){var g=new Date(Math.max(a,q)),h=new Date(Math.min(l,r));if(g<h){var j,k;if(I){j=o(h,a)*m+p+1;k=o(g,a)*m+p+1}else{j=o(g,a);k=o(h,a)}bb(mb(b,j,b,k-1))}d(a,7);d(l,7)}}function mb(d,a,e,b){var c=y.rect(d,a,e,b,l);return Db(c,l)}function Kb(a){return c(a)}function xb(a,e){nb(a,d(c(e),1),b)}function yb(){C()}function Ab(b,d,e){var a=W(b),c=q[a.row*f+a.col];G(S,c,b,d,e)}function Nb(b,a){z.start(function(a){C();a&&mb(a.row,a.col,a.row,a.col)},a)}function Qb(c,d,e){var a=z.stop();C();if(a){var f=V(a);G("drop",c,f,b,d,e)}}function tb(a){return c(a.start)}y=new hc(function(f,e){var d,b,c;B.each(function(f,g){d=a(g);b=d.offset().left;if(f)c[1]=b;c=[b];e[f]=c});c[1]=b+d.outerWidth();j.each(function(e,g){if(e<i){d=a(g);b=d.offset().top;if(e)c[1]=b;c=[b];f[e]=c}});c[1]=b+d.outerHeight()});z=new nc(y);x=new cc(function(a){return lb.eq(a)});function zb(a){return x.left(a)}function Sb(a){return x.right(a)}function W(a){return{row:Math.floor(o(a,e.visStart)/7),col:pb(a.getDay())}}function V(a){return Q(a.row,a.col)}function Q(b,a){return d(c(e.visStart),b*7+a*m+p)}function D(a){return Q(Math.floor(a/f),a%f)}function pb(a){return(a-Math.max(Y,cb)+f)%f*m+p}function Mb(a){return j.eq(a)}function Fb(){return{left:0,right:E}}}function Rc(){var b=this;b.renderEvents=B;b.compileDaySegs=i;b.clearEvents=D;b.bindDaySeg=E;ec.call(b);var e=b.opt,j=b.trigger,v=b.isEventDraggable,w=b.isEventResizable,C=b.reportEvents,z=b.reportEventClear,q=b.eventElementHandlers,l=b.showEvents,k=b.hideEvents,m=b.eventDrop,p=b.getDaySegmentContainer,u=b.getHoverListener,y=b.renderDayOverlay,f=b.clearOverlays,o=b.getRowCnt,n=b.getColCnt,A=b.renderDaySegs,t=b.resizableDayEvent;function B(a,b){C(a);A(i(a),b)}function D(){z();p().empty()}function i(l){for(var s=o(),r=n(),j=c(b.visStart),p=d(c(j),r),q=a.map(l,L),i,e,h,g,f,m=[],k=0;k<s;k++){i=nb(mb(l,q,j,p));for(e=0;e<i.length;e++){h=i[e];for(g=0;g<h.length;g++){f=h[g];f.row=k;f.level=e;m.push(f)}}d(j,7);d(p,7)}return m}function E(a,b,c){v(a)&&r(a,b);c.isEnd&&w(a)&&t(a,b,c);q(a,b)}function r(a,b){var n=u(),i;b.draggable({zIndex:9,delay:50,opacity:e(lb),revertDuration:e(xb),start:function(g,l){j(Lb,b,a,g,l);k(a,b);n.start(function(k,l,j,g){b.draggable(x,Jb,!k||!j&&!g);f();if(k){i=j*7+g*(e(s)?h:1);y(d(c(a.start),i),d(L(a),i))}else i=0},g,Mb)},stop:function(c,d){n.stop();f();j(Nb,b,a,c,d);if(i)m(this,a,i,0,a.allDay,c,d);else{b.css(Ob,g);l(a,b)}}})}}v.agendaWeek=Tc;function Tc(j,f){var a=this;a.render=k;Ec.call(a,j,f,"agendaWeek");var e=a.opt,g=a.renderAgenda,i=f.formatDates;function k(l,n){n&&d(l,n*7);var k=d(c(l),-((l.getDay()-e(P)+7)%7)),o=d(c(k),7),f=c(k),j=c(o),m=e(A);if(!m){r(f);r(j,h,b)}a.title=i(f,d(c(j),h),e(Q));a.start=k;a.end=o;a.visStart=f;a.visEnd=j;g(m?7:5)}}v.agendaDay=Vc;function Vc(j,e){var a=this;a.render=k;Ec.call(a,j,e,"agendaDay");var f=a.opt,g=a.renderAgenda,i=e.formatDate;function k(e,j){if(j){d(e,j);!f(A)&&r(e,j<0?h:1)}var k=c(e,b),l=d(c(k),1);a.title=i(e,f(Q));a.start=a.visStart=k;a.end=a.visEnd=l;g(1)}}Cc({allDaySlot:b,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24});function Ec(nb,Wb,Vc){var k=this;k.renderAgenda=Ac;k.setWidth=Rc;k.setHeight=Lc;k.beforeHide=Ic;k.afterShow=Jc;k.defaultEventEnd=Wc;k.timePosition=L;k.dayOfWeekCol=Gb;k.dateCell=Mc;k.cellDate=W;k.cellIsAllDay=vb;k.allDayRow=yc;k.allDayBounds=wc;k.getHoverListener=function(){return K};k.colContentLeft=sc;k.colContentRight=Uc;k.getDaySegmentContainer=function(){return Db};k.getSlotSegmentContainer=function(){return Xb};k.getMinMinute=function(){return F};k.getMaxMinute=function(){return cb};k.getBodyContent=function(){return v};k.getRowCnt=function(){return 1};k.getColCnt=function(){return p};k.getColWidth=function(){return mb};k.getSlotHeight=function(){return V};k.defaultSelectionEnd=Sc;k.renderDayOverlay=pc;k.renderSelection=Xc;k.clearSelection=qc;k.reportDayClick=Mb;k.dragStart=Kc;k.dragStop=Oc;bc.call(k,nb,Wb,Vc);jc.call(k);fc.call(k);Qc.call(k);var m=k.opt,pb=k.trigger,Cc=k.clearEvents,Ob=k.renderOverlay,Fb=k.clearOverlays,rc=k.reportSelection,Tc=k.unselect,Pc=k.daySelectionMousedown,Gc=k.slotSegHtml,Pb=Wb.formatDate,T,ab,xb,Y,D,kc,Eb,Tb,x,Db,zb,Bb,r,v,Xb,G,ec,I,Q,q,Vb,Qb,E,mb,Ab,V,Nb,p,Lb,C,K,tb,Hb={},bb,Yb,gc,ic,B,w,F,cb,Rb;Cb(nb.addClass("fc-agenda"));function Ac(a){p=a;uc();if(!T)tc();else Cc();Hc()}function uc(){bb=m("theme")?gb:O;gc=m(A)?0:1;Yb=m(P);if(ic=m(s)){B=h;w=p-1}else{B=1;w=0}F=Ib(m("minTime"));cb=Ib(m("maxTime"));Rb=m(vc)}function tc(){var w="<th class='",o="th:first",k="'>&nbsp;</th>",i="<th class='fc-agenda-axis ",e=bb+xc,q=bb+zc,b,d,f,u,s,A=m(l)%15==0;b="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead>"+hb+i+e+k;for(d=0;d<p;d++)b+="<th class='fc- fc-col"+d+y+e+eb;b+="<th class='fc-agenda-gutter "+e+k+H+Bc+qb+hb+i+e+k;for(d=0;d<p;d++)b+="<td class='fc- fc-col"+d+y+q+t+"<div>"+Dc+sb+n+n+ib;b+="<td class='fc-agenda-gutter "+q+"'>&nbsp;</td>"+H+ub+jb;T=a(b).appendTo(nb);ab=T.find("thead");xb=ab.find(X).slice(1,h);Y=T.find("tbody");D=Y.find(kb).slice(0,h);kc=D.find(Fc);Eb=D.eq(0);Tb=Eb.find("> div");Z(ab.add(ab.find(R)));Z(Y.add(Y.find(R)));I=ab.find(o);Q=T.find(".fc-agenda-gutter");x=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(nb);if(m(z)){Db=a(wb).appendTo(x);b="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>"+hb+w+e+" fc-agenda-axis'>"+m("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div>"+ib+w+e+" fc-agenda-gutter'>&nbsp;</th>"+H+jb;zb=a(b).appendTo(x);Bb=zb.find(R);ac(Bb.find(kb));I=I.add(zb.find(o));Q=Q.add(zb.find("th.fc-agenda-gutter"));x.append("<div class='fc-agenda-divider "+e+t+"<div class='fc-agenda-divider-inner'/>"+n)}else Db=a([]);r=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(x);v=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(r);Xb=a(wb).appendTo(v);b="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>"+qb;f=Sb();u=j(c(f),cb);j(f,F);Lb=0;for(d=0;f<u;d++){s=f.getMinutes();b+="<tr class='fc-slot"+d+y+(!s?g:"fc-minor")+t+i+e+t+(!A||!s?Pb(f,m("axisFormat")):"&nbsp;")+"</th><td class='"+q+t+sb+ib+H;j(f,m(l));Lb++}b+=ub+jb;G=a(b).appendTo(v);ec=G.find("div:first");Jb(G.find(kb));I=I.add(G.find(o))}function Hc(){for(var d,b,c,e=u(new Date),a=0;a<p;a++){c=Kb(a);d=xb.eq(a);d.html(Pb(c,Rb));b=D.eq(a);if(+c==+e)b.addClass(bb+fb);else b.removeClass(bb+fb);rb(d.add(b),c)}}function Lc(a,e){if(a===f)a=Qb;Qb=a;Hb={};var d=Y.position().top,b=r.position().top,c=Math.min(a-d,G.height()+b+1);Tb.height(c-M(Eb));x.css("top",d);r.height(c-b-1);V=ec.height()+1;e&&Ec()}function Rc(c){Vb=c;tb.clear();E=0;J(I.width(g).each(function(c,b){E=Math.max(E,a(b).outerWidth())}),E);var b=r[0].clientWidth;Ab=r.width()-b;if(Ab){J(Q,Ab);Q.show().prev().removeClass(N)}else Q.hide().prev().addClass(N);mb=Math.floor((b-E)/p);J(xb.slice(0,h),mb)}function Ec(){var d=Sb(),a=c(d);a.setHours(m("firstHour"));var e=L(d,a)+1;function b(){r.scrollTop(e)}b();setTimeout(b,0)}function Ic(){Nb=r.scrollTop()}function Jc(){r.scrollTop(Nb)}function ac(a){a.click(Ub).mousedown(Pc)}function Jb(a){a.click(Ub).mousedown(Nc)}function Ub(d){if(!m(U)){var c=Math.min(p-1,Math.floor((d.pageX-T.offset().left-E)/mb)),a=Kb(c),f=this.parentNode.className.match(/fc-slot(\d+)/);if(f){var g=parseInt(f[1])*m(l),h=Math.floor(g/60);a.setHours(h);a.setMinutes(g%60+F);pb(S,D[c],a,e,d)}else pb(S,D[c],a,b,d)}}function pc(e,f,g){g&&C.build();var d=c(k.visStart),a,b;if(ic){a=o(f,d)*B+w+1;b=o(e,d)*B+w+1}else{a=o(e,d);b=o(f,d)}a=Math.max(0,a);b=Math.min(p,b);a<b&&ac(mc(0,a,0,b-1))}function mc(d,a,e,b){var c=C.rect(d,a,e,b,x);return Ob(c,x)}function oc(l,m){for(var a=c(k.visStart),h=d(c(a),1),e=0;e<p;e++){var f=new Date(Math.max(a,l)),g=new Date(Math.min(h,m));if(f<g){var i=e*B+w,b=C.rect(0,i,0,i,v),j=L(a,f),n=L(a,g);b.top=j;b.height=n-j;Jb(Ob(b,v))}d(a,1);d(h,1)}}C=new hc(function(i,k){var c,b,e;xb.each(function(d,f){c=a(f);b=c.offset().left;if(d)e[1]=b;e=[b];k[d]=e});e[1]=b+c.outerWidth();if(m(z)){c=Bb;b=c.offset().top;i[0]=[b,b+c.outerHeight()]}var g=v.offset().top,f=r.offset().top,j=f+r.outerHeight();function h(a){return Math.max(f,Math.min(j,a))}for(var d=0;d<Lb;d++)i.push([h(g+V*d),h(g+V*(d+1))])});K=new nc(C);tb=new cc(function(a){return kc.eq(a)});function sc(a){return tb.left(a)}function Uc(a){return tb.right(a)}function Mc(a){return{row:Math.floor(o(a,k.visStart)/7),col:Gb(a.getDay())}}function W(b){var c=Kb(b.col),a=b.row;if(m(z))a--;a>=0&&j(c,F+a*m(l));return c}function Kb(a){return d(c(k.visStart),a*B+w)}function vb(a){return m(z)&&!a.row}function Gb(a){return(a-Math.max(Yb,gc)+p)%p*B+w}function L(d,a){d=c(d,b);if(a<j(c(d),F))return 0;if(a>=j(c(d),cb))return G.height();var e=m(l),i=a.getHours()*60+a.getMinutes()-F,h=Math.floor(i/e),g=Hb[h];if(g===f)g=Hb[h]=G.find("tr:eq("+h+") td div")[0].offsetTop;return Math.max(0,Math.round(g-1+V*(i%e/e)))}function wc(){return{left:E,right:Vb-Ab}}function yc(){return Bb}function Wc(a){var b=c(a.start);return a.allDay?b:j(b,m(db))}function Sc(a,b){return b?c(a):j(c(a),m(l))}function Xc(a,e,f){if(f)m(z)&&pc(a,d(c(e),1),b);else Zb(a,e)}function Zb(d,f){var i=m("selectHelper");C.build();if(i){var h=o(d,k.visStart)*B+w;if(h>=0&&h<p){var c=C.rect(0,h,0,h,v),j=L(d,d),n=L(d,f);if(n>j){c.top=j;c.height=n-j;c.left+=2;c.width-=5;if(a.isFunction(i)){var l=i(d,f);if(l){c.position=yb;c.zIndex=8;q=a(l).css(c).appendTo(v)}}else{c.isStart=b;c.isEnd=b;q=a(Gc({title:g,start:d,end:f,className:["fc-select-helper"],editable:e},c));q.css("opacity",m(lb))}if(q){Jb(q);v.append(q);J(q,c.width,b);lc(q,c.height,b)}}}}else oc(d,f)}function qc(){Fb();if(q){q.remove();q=i}}function Nc(d){if(d.which==1&&m(U)){Tc(d);var b;K.start(function(a,d){qc();if(a&&a.col==d.col&&!vb(a)){var e=W(d),f=W(a);b=[e,j(c(e),m(l)),f,j(c(f),m(l))].sort(dc);Zb(b[0],b[3])}else b=i},d);a(document).one(ob,function(a){K.stop();if(b){+b[0]==+b[1]&&Mb(b[0],e,a);rc(b[0],b[3],e,a)}})}}function Mb(a,b,c){pb(S,D[Gb(a.getDay())],a,b,c)}function Kc(b,a){K.start(function(a){Fb();if(a)if(vb(a))mc(a.row,a.col,a.row,a.col);else{var b=W(a),d=j(c(b),m(db));oc(b,d)}},a)}function Oc(b,c,d){var a=K.stop();Fb();a&&pb("drop",b,W(a),vb(a),c,d)}}function Qc(){var u="grid",Z="div.fc-event-time",m=this;m.renderEvents=Ab;m.compileDaySegs=Q;m.clearEvents=Db;m.slotSegHtml=X;m.bindDaySeg=hb;ec.call(m);var o=m.opt,r=m.trigger,v=m.isEventDraggable,w=m.isEventResizable,kb=m.eventEnd,Bb=m.reportEvents,pb=m.reportEventClear,N=m.eventElementHandlers,jb=m.setHeight,ab=m.getDaySegmentContainer,K=m.getSlotSegmentContainer,O=m.getHoverListener,zb=m.getMaxMinute,R=m.getMinMinute,S=m.timePosition,sb=m.colContentLeft,qb=m.colContentRight,wb=m.renderDaySegs,ob=m.resizableDayEvent,H=m.getColCnt,V=m.getColWidth,A=m.getSlotHeight,tb=m.getBodyContent,cb=m.reportEventElement,G=m.showEvents,F=m.hideEvents,I=m.eventDrop,fb=m.eventResize,P=m.renderDayOverlay,t=m.clearOverlays,J=m.calendar,ib=J.formatDate,D=J.formatDates;function Ab(a,c){Bb(a);for(var f=a.length,e=[],d=[],b=0;b<f;b++)if(a[b].allDay)e.push(a[b]);else d.push(a[b]);if(o(z)){wb(Q(e),c);jb()}ub(rb(d),c)}function Db(){pb();ab().empty();K().empty()}function Q(f){for(var g=nb(mb(f,a.map(f,L),m.visStart,m.visEnd)),i=g.length,e,d,b,h=[],c=0;c<i;c++){e=g[c];for(d=0;d<e.length;d++){b=e[d];b.row=0;b.level=c;h.push(b)}}return h}function rb(o){for(var s=H(),n=R(),r=zb(),k=j(c(m.visStart),n),q=a.map(o,Cb),f,e,i,h,g,p=[],l=0;l<s;l++){f=nb(mb(o,q,k,j(c(k),r-n)));Sc(f);for(e=0;e<f.length;e++){i=f[e];for(h=0;h<i.length;h++){g=i[h];g.col=l;g.level=e;p.push(g)}}d(k,1,b)}return p}function Cb(a){return a.end?c(a.end):j(c(a.start),o(db))}function ub(m,Q){var i,x=m.length,c,j,V,F,L,E,v,u,C,l,p,O,N=g,G,d,t,J={},I={},z,n,B,D,A=K(),P,w,y,R=H();if(P=o(s)){w=h;y=R-1}else{w=1;y=0}for(i=0;i<x;i++){c=m[i];j=c.event;F=S(c.start,c.start);L=S(c.start,c.end);E=c.col;v=c.level;u=c.forward||0;C=sb(E*w+y);l=qb(E*w+y)-C;l=Math.min(l-6,l*.95);if(v)p=l/(v+u+1);else if(u)p=(l/(u+1)-k/2)*2;else p=l;O=C+l/(v+u+1)*v*w+(P?l-p:0);c.top=F;c.left=O;c.outerWidth=p;c.outerHeight=L-F;N+=X(j,c)}A[0].innerHTML=N;G=A.children();for(i=0;i<x;i++){c=m[i];j=c.event;d=a(G[i]);t=r(Hc,j,j,d);if(t===e)d.remove();else{if(t&&t!==b){d.remove();d=a(t).css({position:yb,top:c.top,left:c.left}).appendTo(A)}c.element=d;if(j._id===Q)U(j,d,c);else d[0]._fci=i;cb(j,d)}}yc(A,m,U);for(i=0;i<x;i++){c=m[i];if(d=c.element){n=J[z=c.key=Ub(d[0])];c.vsides=n===f?(J[z]=M(d,b)):n;n=I[z];c.hsides=n===f?(I[z]=vb(d,b)):n;B=d.find("div.fc-event-content");if(B.length)c.contentTop=B[0].offsetTop}}for(i=0;i<x;i++){c=m[i];if(d=c.element){d[0].style.width=Math.max(0,c.outerWidth-c.hsides)+T;D=Math.max(0,c.outerHeight-c.vsides);d[0].style.height=D+T;j=c.event;if(c.contentTop!==f&&D-c.contentTop<q){d.find(Z).text(ib(j.start,o(W))+" - "+j.title);d.find("div.fc-event-title").remove()}r(Pb,j,j,d)}}}function X(a,d){var c="<",h=a.url,e=Gc(a,o),f=e?Rb+e+p:g,b=[Tb,Vb,"fc-event-vert"];v(a)&&b.push(Xb);d.isStart&&b.push("fc-corner-top");d.isEnd&&b.push("fc-corner-bottom");b=b.concat(a.className);if(a.source)b=b.concat(a.source.className||[]);if(h)c+="a href='"+E(a.url)+p;else c+="div";c+=Zb+b.join(y)+p+" style='position:absolute;z-index:8;top:"+d.top+"px;left:"+d.left+"px;"+e+p+B+C+f+B+"<div class='fc-event-head fc-event-skin'"+f+B+"<div class='fc-event-time'>"+E(D(a.start,a.end,o(W)))+n+n+"<div class='fc-event-content'><div class='fc-event-title'>"+E(a.title)+n+n+"<div class='fc-event-bg'></div>"+n;if(d.isEnd&&w(a))c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";c+="</"+(h?"a":"div")+B;return c}function hb(a,b,c){v(a)&&gb(a,b,c.isStart);c.isEnd&&w(a)&&ob(a,b,c);N(a,b)}function U(a,b,d){var c=b.find(Z);v(a)&&bb(a,b,c);d.isEnd&&w(a)&&eb(a,b,c);N(a,b)}function gb(f,a,C){var w,k,j=b,m,z=o(s)?h:1,p=O(),y=V(),v=A(),B=R();a.draggable({zIndex:9,opacity:o(lb,Y),revertDuration:o(xb),start:function(g,h){r(Lb,a,f,g,h);F(f,a);w=a.width();p.start(function(g,i,p,h){t();if(g){k=e;m=h*z;if(!g.row){P(d(c(f.start),m),d(L(f),m));n()}else if(C){if(j){a.width(y-q);lc(a,v*Math.round((f.end?(f.end-f.start)/dd:o(db))/o(l)));a.draggable(x,u,[y,1]);j=e}}else k=b;k=k||j&&!m}else{n();k=b}a.draggable(x,Jb,k)},g,Mb)},stop:function(c,d){p.stop();t();r(Nb,a,f,c,d);if(k){n();a.css(Ob,g);G(f,a)}else{var b=0;if(!j)b=Math.round((a.offset().top-tb().offset().top)/v)*o(l)+B-(f.start.getHours()*60+f.start.getMinutes());I(this,f,m,b,j,c,d)}}});function n(){if(!j){a.width(w).height(g).draggable(x,u,i);j=b}}}function bb(f,a,v){var q,k=e,n,m,p,K=o(s)?h:1,y=O(),J=H(),C=V(),w=A();a.draggable({zIndex:9,scroll:e,grid:[C,w],axis:J==1?"y":e,opacity:o(lb),revertDuration:o(xb),start:function(e,g){r(Lb,a,f,e,g);F(f,a);q=a.position();m=p=0;y.start(function(e,h,j,g){a.draggable(x,Jb,!e);t();if(e){n=g*K;if(o(z)&&!e.row){if(!k){k=b;v.hide();a.draggable(x,u,i)}P(d(c(f.start),n),d(L(f),n))}else B()}},e,Mb)},drag:function(b,a){m=Math.round((a.position.top-q.top)/w)*o(l);if(m!=p){!k&&E(m);p=m}},stop:function(b,c){var d=y.stop();t();r(Nb,a,f,b,c);if(d&&(n||m||k))I(this,f,n,k?0:m,k,b,c);else{B();a.css(Ob,g);a.css(q);E(0);G(f,a)}}});function E(a){var d=j(c(f.start),a),b;if(f.end)b=j(c(f.end),a);v.text(D(d,b,o(W)))}function B(){if(k){v.css("display",g);a.draggable(x,u,[C,w]);k=e}}}function eb(b,c,f){var a,d,e=A();c.resizable({handles:{s:"div.ui-resizable-s"},grid:e,start:function(e,f){a=d=0;F(b,c);c.css("z-index",9);r(ic,this,b,e,f)},resize:function(h,g){a=Math.round((Math.max(e,c.height())-g.originalSize.height)/e);if(a!=d){f.text(D(b.start,!a&&!b.end?i:j(kb(b),o(l)*a),o(W)));d=a}},stop:function(d,e){r(gc,this,b,d,e);if(a)fb(this,b,0,o(l)*a,d,e);else{c.css("z-index",8);G(b,c)}}})}}function Sc(c){for(var d,e,g,f,b,a=c.length-1;a>0;a--){g=c[a];for(d=0;d<g.length;d++){f=g[d];for(e=0;e<c[a-1].length;e++){b=c[a-1][e];if(Ac(f,b))b.forward=Math.max(b.forward||0,(f.forward||0)+1)}}}}function bc(C,g,u){var a=this;a.element=C;a.calendar=g;a.name=u;a.opt=l;a.trigger=h;a.isEventDraggable=F;a.isEventResizable=G;a.reportEvents=x;a.eventEnd=t;a.reportEventElement=E;a.reportEventClear=v;a.eventElementHandlers=D;a.showEvents=A;a.hideEvents=z;a.eventDrop=B;a.eventResize=y;var w=a.defaultEventEnd,q=g.normalizeEvent,k=g.reportEventChange,e={},r=[],i={},m=g.options;function l(c,b){var a=m[c];return typeof a==I?Db(a,b||u):a}function h(c,b){return g.trigger.apply(g,[c,b||a].concat(Array.prototype.slice.call(arguments,2),[a]))}function F(a){return o(a)&&!l("disableDragging")}function G(a){return o(a)&&!l("disableResizing")}function o(a){return K(a.editable,(a.source||{}).editable,l("editable"))}function x(c){e={};for(var d=c.length,a,b=0;b<d;b++){a=c[b];if(e[a._id])e[a._id].push(a);else e[a._id]=[a]}}function t(a){return a.end?c(a.end):w(a)}function E(b,a){r.push(a);if(i[b._id])i[b._id].push(a);else i[b._id]=[a]}function v(){r=[];i={}}function D(b,a){a.click(function(c){if(!a.hasClass("ui-draggable-dragging")&&!a.hasClass("ui-resizable-resizing"))return h("eventClick",this,b,c)}).hover(function(a){h("eventMouseover",this,b,a)},function(a){h("eventMouseout",this,b,a)})}function A(b,a){n(b,a,"show")}function z(b,a){n(b,a,"hide")}function n(e,c,d){for(var b=i[e._id],f=b.length,a=0;a<f;a++)(!c||b[a][0]!=c[0])&&b[a][d]()}function B(l,d,c,b,f,i,j){var g=d.allDay,a=d._id;s(e[a],c,b,f);h("eventDrop",l,d,c,b,f,function(){s(e[a],-c,-b,g);k(a)},i,j);k(a)}function y(i,d,c,b,f,g){var a=d._id;p(e[a],c,b);h("eventResize",i,d,c,b,function(){p(e[a],-c,-b);k(a)},f,g);k(a)}function s(i,g,c,h){c=c||0;for(var a,k=i.length,e=0;e<k;e++){a=i[e];if(h!==f)a.allDay=h;j(d(a.start,g,b),c);if(a.end)a.end=j(d(a.end,g,b),c);q(a,m)}}function p(f,g,c){c=c||0;for(var a,h=f.length,e=0;e<h;e++){a=f[e];a.end=j(d(t(a),g,b),c);q(a,m)}}}function ec(){var j=this;j.renderDaySegs=cb;j.resizableDayEvent=U;var m=j.opt,l=j.trigger,V=j.isEventDraggable,X=j.isEventResizable,P=j.eventEnd,R=j.reportEventElement,M=j.showEvents,L=j.hideEvents,eb=j.eventResize,o=j.getRowCnt,F=j.getColCnt,gb=j.getColWidth,N=j.allDayRow,db=j.allDayBounds,u=j.colContentLeft,q=j.colContentRight,k=j.dayOfWeekCol,O=j.dateCell,ab=j.compileDaySegs,H=j.getDaySegmentContainer,x=j.bindDaySeg,fb=j.calendar.formatDates,Y=j.renderDayOverlay,v=j.clearOverlays,Z=j.clearSelection;function cb(a,k){var h=H(),i,n=o(),l=F(),j=0,d,m,c,f,p=a.length,b,e,g;h[0].innerHTML=z(a);I(a,h.children());Q(a);bb(a,h,k);K(a);r(a);J(a);i=A();for(d=0;d<n;d++){m=0;c=[];for(f=0;f<l;f++)c[f]=0;while(j<p&&(b=a[j]).row==d){e=Ic(c.slice(b.startCol,b.endCol));b.top=e;e+=b.outerHeight;for(g=b.startCol;g<b.endCol;g++)c[g]=e;j++}i[d].height(Ic(c))}w(a,D(i))}function S(b,h,i){var f=a("<div/>"),c,g=H(),d,j=b.length,e;f[0].innerHTML=z(b);c=f.children();g.append(c);I(b,c);K(b);r(b);J(b);w(b,D(A()));c=[];for(d=0;d<j;d++){e=b[d].element;if(e){b[d].row===h&&e.css("top",i);c.push(e[0])}}return a(c)}function z(v){for(var z="fc-corner-left",x="fc-corner-right",w=m(s),F=v.length,a,b,j,c,r=db(),D=r.left,A=r.right,f,e,h,l,i,d=g,o=0;o<F;o++){a=v[o];b=a.event;c=[Tb,Vb,"fc-event-hori"];V(b)&&c.push(Xb);if(w){a.isStart&&c.push(x);a.isEnd&&c.push(z);f=k(a.end.getDay()-1);e=k(a.start.getDay());h=a.isEnd?u(f):D;l=a.isStart?q(e):A}else{a.isStart&&c.push(z);a.isEnd&&c.push(x);f=k(a.start.getDay());e=k(a.end.getDay()-1);h=a.isStart?u(f):D;l=a.isEnd?q(e):A}c=c.concat(b.className);if(b.source)c=c.concat(b.source.className||[]);j=b.url;i=Gc(b,m);if(j)d+="<a href='"+E(j)+p;else d+="<div";d+=Zb+c.join(y)+p+" style='position:absolute;z-index:8;left:"+h+"px;"+i+p+B+C+(i?Rb+i+p:g)+B;if(!b.allDay&&a.isStart)d+="<span class='fc-event-time'>"+E(fb(b.start,b.end,m(W)))+G;d+="<span class='fc-event-title'>"+E(b.title)+G+n;if(a.isEnd&&X(b))d+="<div class='ui-resizable-handle ui-resizable-"+(w?"w":"e")+t+"&nbsp;&nbsp;&nbsp;"+n;d+="</"+(j?"a":"div")+B;a.left=h;a.outerWidth=l-h;a.startCol=f;a.endCol=e+1}return d}function I(i,j){for(var k=i.length,f,h,d,c,g=0;g<k;g++){f=i[g];h=f.event;d=a(j[g]);c=l(Hc,h,h,d);if(c===e)d.remove();else{if(c&&c!==b){c=a(c).css({position:yb,left:f.left});d.replaceWith(c);d=c}f.element=d}}}function Q(d){for(var e=d.length,b,a,c=0;c<e;c++){b=d[c];a=b.element;a&&R(b.event,a)}}function bb(e,f,g){for(var h=e.length,b,a,d,c=0;c<h;c++){b=e[c];a=b.element;if(a){d=b.event;if(d._id===g)x(d,a,b);else a[0]._fci=c}}yc(f,e,x)}function K(i){for(var j=i.length,c,a,e,d,h={},g=0;g<j;g++){c=i[g];a=c.element;if(a){e=c.key=Ub(a[0]);d=h[e];if(d===f)d=h[e]=vb(a,b);c.hsides=d}}}function r(d){for(var e=d.length,a,b,c=0;c<e;c++){a=d[c];b=a.element;if(b)b[0].style.width=Math.max(0,a.outerWidth-a.hsides)+T}}function J(h){for(var i=h.length,b,a,d,c,g={},e=0;e<i;e++){b=h[e];a=b.element;if(a){d=b.key;c=g[d];if(c===f)c=g[d]=Qb(a);b.outerHeight=a[0].offsetHeight+c}}}function A(){for(var c=o(),b=[],a=0;a<c;a++)b[a]=N(a).find("td:first div.fc-day-content > div");return b}function D(b){for(var d=b.length,c=[],a=0;a<d;a++)c[a]=b[a][0].offsetTop;return c}function w(e,f){for(var g=e.length,a,b,c,d=0;d<g;d++){a=e[d];b=a.element;if(b){b[0].style.top=f[a.row]+(a.top||0)+T;c=a.event;l(Pb,c,c,b)}}}function U(f,k,t){var n=m(s),q=n?"w":"e",r=k.find("div.ui-resizable-"+q),p=e;Cb(k);k.mousedown(function(a){a.preventDefault()}).click(function(a){if(p){a.preventDefault();a.stopImmediatePropagation()}});r.mousedown(function(w){var u="cursor";if(w.which!=1)return;p=b;var x=j.getHoverListener(),E=o(),D=F(),z=n?h:1,A=n?D-1:0,B=k.css("top"),r,m,y=a.extend({},f),s=O(f.start);Z();a(Kb).css(u,q+"-resize").one(ob,C);l(ic,this,f,w);x.start(function(e,j){if(e){var g=Math.max(s.row,e.row),a=e.col;if(E==1)g=0;if(g==s.row)if(n)a=Math.min(s.col,a);else a=Math.max(s.col,a);r=g*7+a*z+A-(j.row*7+j.col*z+A);var k=d(P(f),r,b);if(r){y.end=k;var h=m;m=S(ab([y]),t.row,B);m.find("*").css(u,q+"-resize");h&&h.remove();L(f)}else if(m){M(f);m.remove();m=i}v();Y(f.start,d(c(k),1))}},w);function C(b){l(gc,this,f,b);a(Kb).css(u,g);x.stop();v();r&&eb(this,f,r,0,b);setTimeout(function(){p=e},0)}})}}function fc(){var c=this;c.select=o;c.unselect=d;c.reportSelection=g;c.daySelectionMousedown=m;var f=c.opt,l=c.trigger,n=c.defaultSelectionEnd,j=c.renderSelection,k=c.clearSelection,h=e;f(U)&&f("unselectAuto")&&a(document).mousedown(function(c){var b=f("unselectCancel");if(b)if(a(c.target).parents(b).length)return;d(c)});function o(b,a,c){d();if(!a)a=n(b,c);j(b,a,c);g(b,a,c)}function d(a){if(h){h=e;k();l("unselect",i,a)}}function g(a,c,d,e){h=b;l("select",i,a,c,d,e)}function m(h){var m=c.cellDate,o=c.cellIsAllDay,l=c.getHoverListener(),n=c.reportDayClick;if(h.which==1&&f(U)){d(h);var p=this,e;l.start(function(a,c){k();if(a&&o(a)){e=[m(c),m(a)].sort(dc);j(e[0],e[1],b)}else e=i},h);a(document).one(ob,function(a){l.stop();if(e){+e[0]==+e[1]&&n(e[0],b,a);g(e[0],e[1],b,a)}})}}}function jc(){var d=this;d.renderOverlay=f;d.clearOverlays=e;var c=[],b=[];function f(f,e){var d=b.shift();if(!d)d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>");d[0].parentNode!=e[0]&&d.appendTo(e);c.push(d.css(f).show());return d}function e(){var a;while(a=c.shift())b.push(a.hide().unbind())}}function hc(d){var c=this,b,a;c.build=function(){b=[];a=[];d(b,a)};c.cell=function(f,g){for(var k=b.length,j=a.length,e=h,d=h,c=0;c<k;c++)if(g>=b[c][0]&&g<b[c][1]){e=c;break}for(c=0;c<j;c++)if(f>=a[c][0]&&f<a[c][1]){d=c;break}return e>=0&&d>=0?{row:e,col:d}:i};c.rect=function(e,d,h,g,f){var c=f.offset();return{top:b[e][0]-c.top,left:a[d][0]-c.left,width:a[g][1]-a[d][0],height:b[h][1]-b[e][0]}}}function nc(g){var h=this,d,e,b,c;h.start=function(j,k,h){e=j;b=c=i;g.build();f(k);d=h||"mousemove";a(document).bind(d,f)};function f(d){var a=g.cell(d.pageX,d.pageY);if(!a!=!c||a&&(a.row!=c.row||a.col!=c.col)){if(a){if(!b)b=a;e(a,b,a.row-b.row,a.col-b.col)}else e(a,b);c=a}}h.stop=function(){a(document).unbind(d,f);return c}}function cc(g){var c=this,d={},b={},a={};function e(a){return d[a]=d[a]||g(a)}c.left=function(a){return b[a]=b[a]===f?e(a).position().left:b[a]};c.right=function(b){return a[b]=a[b]===f?c.left(b)+e(b).width():a[b]};c.clear=function(){d={};b={};a={}}}})(jQuery);(function(){var Tc="borderWidth",Sc="borderColor",qd="areaspline",pd="mouseOut",od="mouseOver",mc="unselect",nb="select",Pc="group",zb="wa",xc="SPAN",yb="Z",Dc="zIndex",kc="rect",nd="dashstyle",Cc="stroke",md="rotation",Bc="translateY",zc="translateX",ld="transform",xb="text",Gb="visibility",wb="stroke-width",wc="strokeWidth",Hb="rgb",Ob="pointer",Ic="#000000",Hc="#3E576F",Ib="#FFFFFF",mb=",",vb="circle",Gc="#4572A7",Fb="http://www.w3.org/2000/svg",Nc="span",kd="horizontal",rd="verticalAlign",ec="align",uc="mouseout",sc="mouseover",qc="destroy",Bb="resize",M=" ",bd="highcharts-",cc="point",ic="column",Rb="isTracker",Sb="touchstart",Fc="tracker",Lb="#C0C0C0",fb="click",Xb="show",Cb="hide",ob="width",Wb="height",lb="y",w="x",Vb="attr",Ub="animate",u=-1,X=12,gb=1e3,Ec="auto",e=false,Tb="top",Eb="bottom",Db="middle",Y="center",T="right",F="left",a=true,Ab="-",eb=")",Z=100,j="",b=null,n=10;function k(a,c){var b;a||(a={});for(b in c)a[b]=c[b];return a}function i(a,b){return parseInt(a,b||n)}function ib(a){return typeof a==="string"}function bb(a){return typeof a==="object"}function pb(a){return typeof a==="number"}function Mb(a,c){for(var b=a.length;b--;)if(a[b]===c){a.splice(b,1);break}}function f(a){return a!==x&&a!==b}function q(b,a,d){var c,e;if(ib(a)){if(f(d))b.setAttribute(a,d);else if(b&&b.getAttribute)e=b.getAttribute(a)}else if(f(a)&&bb(a))for(c in a)b.setAttribute(c,a[c]);return e}function Nb(a){if(!a||a.constructor!==Array)a=[a];return a}function d(){for(var d=arguments,a,e=d.length,c=0;c<e;c++){a=d[c];if(typeof a!=="undefined"&&a!==b)return a}}function xd(b){var c=j,a;for(a in b)c+=a+":"+b[a]+";";return c}function s(b,a){if(Zb)if(a&&a.opacity!==x)a.filter="alpha(opacity="+a.opacity*Z+eb;k(b.style,a)}function G(a,b,c,d,e){a=o.createElement(a);b&&k(a,b);e&&s(a,{padding:0,border:H,margin:0});c&&s(a,c);d&&d.appendChild(a);return a}function W(b,c){var a=function(){};a.prototype=new b;k(a.prototype,c);return a}function Uc(b,c,a,d){var e=y.lang;b=b;var f=isNaN(c=C(c))?2:c;c=a===undefined?e.decimalPoint:a;d=d===undefined?e.thousandsSep:d;e=b<0?Ab:j;a=String(i(b=C(+b||0).toFixed(f)));var g=a.length>3?a.length%3:0;return e+(g?a.substr(0,g)+d:j)+a.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+d)+(f?c+C(b-a).toFixed(f).slice(2):j)}function qb(a,b){bc=d(a,b.animation)}function Vc(){var a=y.global.useUTC;dc=a?Date.UTC:function(a,b,c,e,f,g){return(new Date(a,b,d(c,1),d(e,0),d(f,0),d(g,0))).getTime()};Kc=a?"getUTCMinutes":"getMinutes";Lc=a?"getUTCHours":"getHours";Mc=a?"getUTCDay":"getDay";Pb=a?"getUTCDate":"getDate";fc=a?"getUTCMonth":"getMonth";gc=a?"getUTCFullYear":"getFullYear";Wc=a?"setUTCMinutes":"setMinutes";Xc=a?"setUTCHours":"setHours";Oc=a?"setUTCDate":"setDate";Yc=a?"setUTCMonth":"setMonth";Zc=a?"setUTCFullYear":"setFullYear"}function hc(a){jc||(jc=G(jb));a&&jc.appendChild(a);jc.innerHTML=j}function lc(){}function ad(nb,Nd){var Hd="endResize",Rd="selection",Qd="datetime",Kb="yAxis",Jb="xAxis";function Vd(fb,h){function mc(d,c){var b=this;b.pos=d;b.minor=c;b.isNew=a;c||b.addLabel()}function bc(a){if(a){this.options=a;this.id=a.id}return this}function Dc(a,b,e){var c=this;c.isNegative=b;c.options=a;c.x=e;c.alignOptions={align:a.align||(S?b?F:T:Y),verticalAlign:a.verticalAlign||(S?Db:b?Eb:Tb),y:d(a.y,S?4:b?14:-6),x:d(a.x,S?b?-6:6:0)};c.textAlign=a.textAlign||(S?b?T:F:Y)}function Gc(){var i=[],k=[],g;R=U=b;tb=[];c(hb,function(l){g=e;c([Jb,Kb],function(b){if(l.isCartesian&&(b===Jb&&M||b===Kb&&!M)&&(l.options[b]===h.index||l.options[b]===x&&h.index===0)){l[b]=E;tb.push(l);g=a}});if(!l.visible&&K.ignoreHiddenSeries)g=e;if(g){var n,q,p,m,o;if(!M){n=l.options.stacking;hc=n==="percent";if(n){m=l.type+d(l.options.stack,j);o=Ab+m;l.stackKey=m;q=i[m]||[];i[m]=q;p=k[o]||[];k[o]=p}if(hc){R=0;U=99}}if(l.isCartesian){c(l.data,function(e){var a=e.x,c=e.y,j=c<0,g=j?p:q,i=j?o:m;if(R===b)R=U=e[cc];if(M){if(a>U)U=a;else if(a<R)R=a}else if(f(c)){if(n)g[a]=f(g[a])?g[a]+c:c;c=g?g[a]:c;e=d(e.low,c);if(!hc)if(c>U)U=c;else if(e<R)R=e;if(n){Z[i]||(Z[i]={});Z[i][a]||(Z[i][a]=new Dc(h.stackLabels,j,a));Z[i][a].setTotal(c)}}});if(/(area|column|bar)/.test(l.type)&&!M)if(R>=0){R=0;qc=a}else if(U<0){U=0;rc=a}}}})}function Bc(c,a){var d,b;bb=a?1:m.pow(n,I(m.log(c)/m.LN10));d=c/bb;if(!a){a=[1,2,2.5,5,n];if(h.allowDecimals===e||Zb)if(bb===1)a=[1,2,5,n];else if(bb<=.1)a=[1/bb]}for(b=0;b<a.length;b++){c=a[b];if(d<=(a[b]+(a[b+1]||a[b]))/2)break}c*=bb;return c}function Hb(b){var a;a=b;bb=d(bb,m.pow(n,I(m.log(G)/m.LN10)));if(bb<1){a=g(1/bb)*n;a=g(b*a)/a}return a}function sc(){var k,i,c,j,x=h.tickInterval,r=h.tickPixelInterval;k=h.maxZoom||(M&&!f(h.min)&&!f(h.max)?O(fb.smallestInterval*5,U-R):b);ab=q?eb:V;if(jb){c=fb[M?Jb:Kb][h.linkedTo];j=c.getExtremes();o=d(j.min,j.dataMin);s=d(j.max,j.dataMax)}else{o=d(Nb,h.min,R);s=d(Ob,h.max,U)}if(Zb){o=m.log(o)/m.LN10;s=m.log(s)/m.LN10}if(s-o<k){j=(k-s+o)/2;o=p(o-j,d(h.min,o-j),R);s=O(o+k,d(h.max,o+k),U)}if(!H&&!hc&&!jb&&f(o)&&f(s)){k=s-o||1;if(!f(h.min)&&!f(Nb)&&tc&&(R<0||!qc))o-=k*tc;if(!f(h.max)&&!f(Ob)&&uc&&(U>0||!rc))s+=k*uc}G=o===s?1:jb&&!x&&r===c.options.tickPixelInterval?c.tickInterval:d(x,H?1:(s-o)*r/ab);if(!ac&&!f(h.tickInterval))G=Bc(G);E.tickInterval=G;ic=h.minorTickInterval===Ec&&G?G/5:h.minorTickInterval;if(ac){A=[];x=y.global.useUTC;var l=gb/P,t=6e4/P,v=3.6e6/P;r=8.64e7/P;k=6.048e8/P;j=2.592e9/P;var w=31556952000/P,g=[["second",l,[1,2,5,n,15,30]],["minute",t,[1,2,5,n,15,30]],["hour",v,[1,2,3,4,6,8,X]],["day",r,[1,2]],["week",k,[1,2]],["month",j,[1,2,3,4,6]],["year",w,b]],u=g[6],e=u[1],a=u[2];for(c=0;c<g.length;c++){u=g[c];e=u[1];a=u[2];if(g[c+1])if(G<=(e*a[a.length-1]+g[c+1][1])/2)break}if(e===w&&G<5*e)a=[1,2,5];g=Bc(G/e,a);a=new Date(o*P);a.setMilliseconds(0);e>=l&&a.setSeconds(e>=t?0:g*I(a.getSeconds()/g));e>=t&&a[Wc](e>=v?0:g*I(a[Kc]()/g));e>=v&&a[Xc](e>=r?0:g*I(a[Lc]()/g));e>=r&&a[Oc](e>=j?1:g*I(a[Pb]()/g));if(e>=j){a[Yc](e>=w?0:g*I(a[fc]()/g));i=a[gc]()}if(e>=w){i-=i%g;a[Zc](i)}e===k&&a[Oc](a[Pb]()-a[Mc]()+h.startOfWeek);c=1;i=a[gc]();l=a.getTime()/P;t=a[fc]();for(v=a[Pb]();l<s&&c<eb;){A.push(l);if(e===w)l=dc(i+c*g,0)/P;else if(e===j)l=dc(i,t+c*g)/P;else if(!x&&(e===r||e===k))l=dc(i,t,v+c*g*(e===r?1:7));else l+=e*g;c++}A.push(l);Rb=h.dateTimeLabelFormats[u[0]]}else{c=Hb(I(o/G)*G);i=Hb(Qc(s/G)*G);A=[];for(c=Hb(c);c<=i;){A.push(c);c=Hb(c+G)}}if(!jb){if(H||M&&fb.hasColumn){i=(H?1:G)*.5;if(H||!f(d(h.min,Nb)))o-=i;if(H||!f(d(h.max,Ob)))s+=i}i=A[0];c=A[A.length-1];if(h.startOnTick)o=i;else o>i&&A.shift();if(h.endOnTick)s=c;else s<c&&A.pop();yb||(yb={x:0,y:0});if(!ac&&A.length>yb[cc])yb[cc]=A.length}}function zc(){var a,b;Ib=o;vc=s;Gc();sc();pc=pb;pb=ab/(s-o||1);if(!M)for(a in Z)for(b in Z[a])Z[a][b].cum=Z[a][b].total;if(!E.isDirty)E.isDirty=o!==Ib||s!==vc}function wc(a){a=(new bc(a)).render();nb.push(a);return a}function xc(){var j=h.title,k=h.stackLabels,t=h.alternateGridColor,g=h.lineWidth,d,m,l=fb.hasRendered,v=l&&f(Ib)&&!isNaN(Ib);d=tb.length&&f(o)&&f(s);ab=q?eb:V;pb=ab/(s-o||1);Lb=q?J:wb;if(d||jb){if(ic&&!H)for(d=o+(A[0]-o)%ic;d<=s;d+=ic){qb[d]||(qb[d]=new mc(d,a));v&&qb[d].isNew&&qb[d].render(b,a);qb[d].isActive=a;qb[d].render()}c(A,function(b,c){if(!jb||b>=o&&b<=s){v&&W[b].isNew&&W[b].render(c,a);W[b].isActive=a;W[b].render(c)}});t&&c(A,function(b,c){if(c%2===0&&b<s){vb[b]||(vb[b]=new bc);vb[b].options={from:b,to:A[c+1]!==x?A[c+1]:s,color:t};vb[b].render();vb[b].isActive=a}});l||c((h.plotLines||[]).concat(h.plotBands||[]),function(a){nb.push((new bc(a)).render())})}c([W,qb,vb],function(a){for(var b in a)if(a[b].isActive)a[b].isActive=e;else{a[b].destroy();delete a[b]}});if(g){d=J+(cb?eb:0)+ib;m=kb-wb-(cb?V:0)+ib;d=N.crispLine([B,q?J:d,q?m:L,r,q?mb-xb:d,q?m:kb-wb],g);if(kc)kc.animate({d:d});else kc=N.path(d).attr({stroke:h.lineColor,"stroke-width":g,zIndex:7}).add()}if(E.axisTitle){d=q?J:L;g=i(j.style.fontSize||X);d=({low:d+(q?0:ab),middle:d+ab/2,high:d+(q?ab:0)})[j.align];g=(q?L+V:J)+(q?1:u)*(cb?u:1)*jc+(db===2?g:0);E.axisTitle[l?Ub:Vb]({x:q?d:g+(cb?eb:0)+ib+(j.x||0),y:q?g-(cb?V:0)+ib:d+(j.y||0)})}if(k&&k.enabled){var n,p;k=E.stackTotalGroup;if(!k)E.stackTotalGroup=k=N.g("stack-labels").attr({visibility:Q,zIndex:6}).translate(J,L).add();for(n in Z){j=Z[n];for(p in j)j[p].render(k)}}E.isDirty=e}function yc(b){for(var a=nb.length;a--;)nb[a].id===b&&nb[a].destroy()}var M=h.isX,cb=h.opposite,q=S?!M:M,db=q?cb?0:2:cb?1:3,Z={};h=l(M?nc:Rc,([sd,td,cd,ud])[db],h);var E=this,Qb=h.type,ac=Qb===Qd,Zb=Qb==="logarithmic",ib=h.offset||0,cc=M?w:lb,ab,pb,pc,Lb=q?J:wb,ub,Gb,ec,Ac,kc,R,U,tb,Nb,Ob,s=b,o=b,Ib,vc,tc=h.minPadding,uc=h.maxPadding,jb=f(h.linkedTo),qc,rc,hc;Qb=h.events;var lc,nb=[],G,ic,bb,A,W={},qb={},vb={},Bb,Fb,jc,Rb,H=h.categories,Fc=h.labels.formatter||function(){var a=this.value;return Rb?oc(Rb,a):G%1e6===0?a/1e6+"M":G%gb===0?a/gb+"k":!H&&a>=gb?Uc(a,0):a},Sb=q&&h.labels.staggerLines,rb=h.reversed,sb=H&&h.tickmarkPlacement==="between"?.5:0;mc.prototype={addLabel:function(){var a=this.pos,c=h.labels,j=!(a===o&&!d(h.showFirstLabel,1)||a===s&&!d(h.showLastLabel,0)),e=H&&q&&H.length&&!c.step&&!c.staggerLines&&!c.rotation&&eb/H.length||!q&&eb/2,i=this.label;a=Fc.call({isFirst:a===A[0],isLast:a===A[A.length-1],dateTimeLabelFormat:Rb,value:H&&H[a]?H[a]:a});e=e&&{width:p(1,g(e-2*(c.padding||n)))+z};e=k(e,c.style);if(i===x)this.label=f(a)&&j&&c.enabled?N.text(a,0,0).attr({align:c.align,rotation:c.rotation}).css(e).add(ec):b;else i&&i.attr({text:a}).css(e)},getLabelSize:function(){var a=this.label;return a?(this.labelBBox=a.getBBox())[q?Wb:ob]:0},render:function(v,n){var d=this,a=!d.minor,o=d.label,j=d.pos,p=h.labels,k=d.gridLine,l=a?h.gridLineWidth:h.minorGridLineWidth,y=a?h.gridLineColor:h.minorGridLineColor,t=a?h.gridLineDashStyle:h.minorGridLineDashStyle,w=d.mark,m=a?h.tickLength:h.minorTickLength,s=a?h.tickWidth:h.minorTickWidth||0,z=a?h.tickColor:h.minorTickColor,A=a?h.tickPosition:h.minorTickPosition;a=p.step;var c=n&&Cc||kb,g;g=q?ub(j+sb,b,b,n)+Lb:J+ib+(cb?(n&&wd||mb)-xb-J:0);c=q?c-wb+ib-(cb?V:0):c-ub(j+sb,b,b,n)-Lb;if(l){j=Gb(j+sb,l,n);if(k===x){k={stroke:y,"stroke-width":l};if(t)k.dashstyle=t;d.gridLine=k=l?N.path(j).attr(k).add(Ac):b}k&&j&&k.animate({d:j})}if(s){if(A==="inside")m=-m;if(cb)m=-m;l=N.crispLine([B,g,c,r,g+(q?0:-m),c+(q?m:0)],s);if(w)w.animate({d:l});else d.mark=N.path(l).attr({stroke:z,"stroke-width":s}).add(ec)}if(o&&!isNaN(g)){g=g+p.x-(sb&&q?sb*pb*(rb?u:1):0);c=c+p.y-(sb&&!q?sb*pb*(rb?1:u):0);f(p.y)||(c+=i(o.styles.lineHeight)*.9-o.getBBox().height/2);if(Sb)c+=v/(a||1)%Sb*16;a&&o[v%a?Cb:Xb]();o[d.isNew?Vb:Ub]({x:g,y:c})}d.isNew=e},destroy:function(){var a=this;for(var b in a)a[b]&&a[b].destroy&&a[b].destroy()}};bc.prototype={render:function(){var k=this,g=k.options,h=g.label,r=k.label,y=g.width,v=g.to,c,w=g.from,u=g.dashStyle,i=k.svgElem,a=[],t,j,z=g.color;j=g.zIndex;var x=g.events;if(y){a=Gb(g.value,y);g={stroke:z,"stroke-width":y};if(u)g.dashstyle=u}else if(f(w)&&f(v)){w=p(w,o);v=O(v,s);c=Gb(v);if((a=Gb(w))&&c)a.push(c[4],c[5],c[1],c[2]);else a=b;g={fill:z}}else return;if(f(j))g.zIndex=j;if(i)if(a)i.animate({d:a},b,i.onGetPath);else{i.hide();i.onGetPath=function(){i.show()}}else if(a&&a.length){k.svgElem=i=N.path(a).attr(g).add();if(x){u=function(a){i.on(a,function(b){x[a].apply(k,[b])})};for(t in x)u(t)}}if(h&&f(h.text)&&a&&a.length&&eb>0&&V>0){h=l({align:q&&c&&Y,x:q?!c&&4:n,verticalAlign:!q&&c&&Db,y:q?c?16:n:c?6:-4,rotation:q&&!c&&90},h);if(!r)k.label=r=N.text(h.text,0,0).attr({align:h.textAlign||h.align,rotation:h.rotation,zIndex:j}).css(h.style).add();c=[a[1],a[4],d(a[6],a[1])];a=[a[2],a[5],d(a[7],a[2])];t=O.apply(m,c);j=O.apply(m,a);r.align(h,e,{x:t,y:j,width:p.apply(m,c)-t,height:p.apply(m,a)-j});r.show()}else r&&r.hide();return k},destroy:function(){var a=this;for(var b in a){a[b]&&a[b].destroy&&a[b].destroy();delete a[b]}Mb(nb,a)}};Dc.prototype={setTotal:function(a){this.cum=this.total=a},render:function(c){var a=this,b=a.options.formatter.call(a);if(a.label)a.label.attr({text:b,visibility:D});else a.label=fb.renderer.text(b,0,0).css(a.options.style).attr({align:a.textAlign,rotation:a.options.rotation,visibility:D}).add(c)},setOffset:function(i,g){var a=this,e=a.isNegative,d=E.translate(a.total),c=E.translate(0);c=C(d-c);var h=fb.xAxis[0].translate(a.x)+i,f=fb.plotHeight;e={x:S?e?d:d-c:h,y:S?f-h-g:e?f-d-c:f-d,width:S?c:g,height:S?g:c};a.label&&a.label.align(a.alignOptions,b,e).attr({visibility:Q})}};ub=function(a,g,h,b,f){var c=1,e=0,d=b?pc:pb;b=b?Ib:o;d||(d=pb);if(h){c*=u;e=ab}if(rb){c*=u;e-=c*ab}if(g){if(rb)a=ab-a;a=a/d+b;if(Zb&&f)a=m.pow(n,a)}else{if(Zb&&f)a=m.log(a)/m.LN10;a=c*(a-b)*d+e}return a};Gb=function(d,k,c){var e,h,i;d=ub(d,b,b,c);var j=c&&Cc||kb,l=c&&wd||mb,f;c=h=g(d+Lb);e=i=g(j-d-Lb);if(isNaN(d))f=a;else if(q){e=L;i=j-wb;if(c<J||c>J+eb)f=a}else{c=J;h=l-xb;if(e<L||e>L+V)f=a}return f?b:N.crispLine([B,c,e,r,h,i],k||0)};if(S&&M&&rb===x)rb=a;k(E,{addPlotBand:wc,addPlotLine:wc,adjustTickAmount:function(){if(yb&&!ac&&!H&&!jb){var b=Bb,c=A.length;Bb=yb[cc];if(c<Bb){for(;A.length<Bb;)A.push(Hb(A[A.length-1]+G));pb*=(c-1)/(Bb-1);s=A[A.length-1]}if(f(b)&&Bb!==b)E.isDirty=a}},categories:H,getExtremes:function(){return{min:o,max:s,dataMin:R,dataMax:U,userMin:Nb,userMax:Ob}},getPlotLinePath:Gb,getThreshold:function(a){if(o>a)a=o;else if(s<a)a=s;return ub(a,0,1)},isXAxis:M,options:h,plotLinesAndBands:nb,getOffset:function(){var k=tb.length&&f(o)&&f(s),g=0,i=0,a=h.title,j=h.labels,e=([u,1,1,u])[db],b;if(!ec){ec=N.g("axis").attr({zIndex:7}).add();Ac=N.g("grid").attr({zIndex:1}).add()}Fb=0;if(k||jb){c(A,function(a){if(W[a])W[a].addLabel();else W[a]=new mc(a);if(db===0||db===2||({1:F,3:T})[db]===j.align)Fb=p(W[a].getLabelSize(),Fb)});if(Sb)Fb+=(Sb-1)*16}else for(b in W){W[b].destroy();delete W[b]}if(a&&a.text){if(!E.axisTitle)E.axisTitle=N.text(a.text,0,0).attr({zIndex:7,rotation:a.rotation||0,align:a.textAlign||({low:F,middle:Y,high:T})[a.align]}).css(a.style).add();g=E.axisTitle.getBBox()[q?Wb:ob];i=d(a.margin,q?5:n)}ib=e*(h.offset||zb[db]);jc=Fb+(db!==2&&Fb&&e*h.labels[q?lb:w])+i;zb[db]=p(zb[db],jc+g+e*ib)},render:xc,setCategories:function(b,e){E.categories=H=b;c(tb,function(b){b.translate();b.setTooltipPoints(a)});E.isDirty=a;d(e,a)&&fb.redraw()},setExtremes:function(c,e,b,f){b=d(b,a);t(E,"setExtremes",{min:c,max:e},function(){Nb=c;Ob=e;b&&fb.redraw(f)})},setScale:zc,setTickPositions:sc,translate:ub,redraw:function(){Yb.resetTracker&&Yb.resetTracker();xc();c(nb,function(a){a.render()});c(tb,function(b){b.isDirty=a})},removePlotBand:yc,removePlotLine:yc,reversed:rb,stacks:Z});for(lc in Qb)v(E,lc,Qb[lc]);zc()}function Xd(){var a={};return{add:function(c,b,e,d){if(!a[c]){b=N.text(b,0,0).css(nb.toolbar.itemStyle).align({align:T,x:-xb-20,y:L+30}).on(fb,d).attr({align:T,zIndex:20}).add();a[c]=b}},remove:function(c){hc(a[c].element);a[c]=b}}}function Yd(d){function D(){var f=this.points||Nb(this),a=f[0].series.xAxis,d=this.x;a=a&&a.options.type===Qd;var e=ib(d)||a,b;b=e?['<span style="font-size: 10px">'+(a?oc("%A, %b %e, %Y",d):d)+"</span>"]:[];c(f,function(a){b.push(a.point.tooltipFormatter(e))});return b.join("<br/>")}function z(c,a){u=l?c:(2*u+c)/3;t=l?a:(t+a)/2;m.translate(u,t);yd=C(c-u)>1||C(a-t)>1?function(){z(c,a)}:b}function y(){if(!l){var d=h.hoverPoints;m.hide();c(r,function(a){a&&a.hide()});d&&c(d,function(a){a.setState()});h.hoverPoints=b;l=a}}var B,x=d.borderWidth,f=d.crosshairs,r=[],s=d.style,q=d.shared,p=i(s.padding),k=x+p,l=a,v,o,u=0,t=0;s.padding=0;var m=N.g("tooltip").attr({zIndex:8}).add(),E=N.rect(k,k,0,0,d.borderRadius,x).attr({fill:d.backgroundColor,"stroke-width":x}).add(m).shadow(d.shadow),A=N.text(j,p+k,i(s.fontSize)+p+k).attr({zIndex:1}).css(s).add(m);m.hide();return{shared:q,refresh:function(i){var a,b,j,t=0,s={},u=[];j=i.tooltipPos;a=d.formatter||D;s=h.hoverPoints;if(q){s&&c(s,function(a){a.setState()});h.hoverPoints=i;c(i,function(a){a.setState(U);t+=a.plotY;u.push(a.getLabelConfig())});b=i[0].plotX;t=g(t)/i.length;s={x:i[0].category};s.points=u;i=i[0]}else s=i.getLabelConfig();s=a.call(s);B=i.series;b=q?b:i.plotX;t=q?t:i.plotY;a=g(j?j[0]:S?eb-t:b);b=g(j?j[1]:S?V-b:t);j=q||!i.series.isCartesian||ac(a,b);if(s===e||!j)y();else{if(l){m.show();l=e}A.attr({text:s});j=A.getBBox();v=j.width+2*p;o=j.height+2*p;E.attr({width:v,height:o,stroke:d.borderColor||i.color||B.color||"#606060"});a=a-v+J-25;b=b-o+L+n;if(a<7){a=7;b-=30}if(b<5)b=5;else if(b+o>kb)b=kb-o-5;z(g(a-k),g(b-k))}if(f){f=Nb(f);for(a=f.length;a--;){b=i.series[a?Kb:Jb];if(f[a]&&b){b=b.getPlotLinePath(i[a?lb:w],1);if(r[a])r[a].attr({d:b,visibility:Q});else{j={"stroke-width":f[a].width||1,stroke:f[a].color||Lb,zIndex:2};if(f[a].dashStyle)j.dashstyle=f[a].dashStyle;r[a]=N.path(b).attr(j).add()}}}}},hide:y}}function Zd(d,s){var w="touchend";function u(b){var d,f=dd&&o.width/o.documentElement.clientWidth-1,a,c,e;b=b||A.event;if(!b.target)b.target=b.srcElement;d=b.touches?b.touches.item(0):b;if(b.type!=="mousemove"||A.opera||f){a=W;c={left:a.offsetLeft,top:a.offsetTop};for(a=a.offsetParent;a;){c.left+=a.offsetLeft;c.top+=a.offsetTop;if(a!==o.body&&a!==o.documentElement){c.left-=a.scrollLeft;c.top-=a.scrollTop}a=a.offsetParent}mc=c;a=mc.left;c=mc.top}if(Zb){e=b.x;d=b.y}else if(d.layerX===x){e=d.pageX-a;d=d.pageY-c}else{e=b.layerX;d=b.layerY}if(f){e+=g((f+1)*a-a);d+=g((f+1)*c-c)}return k(b,{chartX:e,chartY:d})}function E(d){var b={xAxis:[],yAxis:[]};c(pb,function(e){var f=e.translate,c=e.isXAxis;b[c?Jb:Kb].push({axis:e,value:f(S?!c:c?d.chartX-J:V-d.chartY+L,a)})});return b}function r(){var c=d.hoverSeries,a=d.hoverPoint;a&&a.onMouseOut();c&&c.onMouseOut();wc&&wc.hide();zd=b}function B(){if(f){var j={xAxis:[],yAxis:[]},b=f.getBBox(),g=b.x-J,i=b.y-L;if(h){c(pb,function(e){var c=e.translate,d=e.isXAxis,h=S?!d:d,f=c(h?g:V-i-b.height,a,0,0,1);c=c(h?g+b.width:V-i,a,0,0,1);j[d?Jb:Kb].push({axis:e,min:O(f,c),max:p(f,c)})});t(d,Rd,j,Ad)}f=f.destroy()}d.mouseIsDown=Bd=h=e;ab(o,cb?w:"mouseup",B)}var m,i,h,f,D=K.zoomType,j=/x/.test(D),l=/y/.test(D),y=j&&!S||l&&S,z=l&&!S||j&&S;Dc=function(){if(Gc){Gc.translate(J,L);S&&Gc.attr({width:d.plotWidth,height:d.plotHeight}).invert()}else d.trackerGroup=Gc=N.g(Fc).attr({zIndex:9}).add()};Dc();if(s.enabled)d.tooltip=wc=Yd(s);(function(){var c=a;W.onmousedown=function(b){b=u(b);d.mouseIsDown=Bd=a;m=b.chartX;i=b.chartY;v(o,cb?w:"mouseup",B)};var b=function(a){if(!(a&&a.touches&&a.touches.length>1)){a=u(a);if(!cb)a.returnValue=e;var b=a.chartX,g=a.chartY,t=!ac(b-J,g-L);if(cb&&a.type===Sb)if(q(a.target,Rb))d.runTrackerClick||a.preventDefault();else!Td&&!t&&a.preventDefault();if(t){c||r();if(b<J)b=J;else if(b>J+eb)b=J+eb;if(g<L)g=L;else if(g>L+V)g=L+V}if(Bd&&a.type!==Sb){h=Math.sqrt(Math.pow(m-b,2)+Math.pow(i-g,2));if(h>n){if(jc&&(j||l)&&ac(m-J,i-L))f||(f=N.rect(J,L,y?1:eb,z?1:V,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add());if(f&&y){b=b-m;f.attr({width:C(b),x:(b>0?0:b)+m})}if(f&&z){g=g-i;f.attr({height:C(g),y:(g>0?0:g)+i})}}}else if(!t){var k;g=d.hoverPoint;b=d.hoverSeries;var p,o,v=mb,w=S?a.chartY:a.chartX-J;if(wc&&s.shared){k=[];p=hb.length;for(o=0;o<p;o++)if(hb[o].visible&&hb[o].tooltipPoints.length){a=hb[o].tooltipPoints[w];a._dist=C(w-a.plotX);v=O(v,a._dist);k.push(a)}for(p=k.length;p--;)k[p]._dist>v&&k.splice(p,1);if(k.length&&k[0].plotX!==zd){wc.refresh(k);zd=k[0].plotX}}if(b&&b.tracker)(a=b.tooltipPoints[w])&&a!==g&&a.onMouseOver()}return(c=t)||!jc}};W.onmousemove=b;v(W,"mouseleave",r);W.ontouchstart=function(a){if(j||l)W.onmousedown(a);b(a)};W.ontouchmove=b;W.ontouchend=function(){h&&r()};W.onclick=function(b){var c=d.hoverPoint;b=u(b);b.cancelBubble=a;if(!h)if(c&&q(b.target,Rb)){var g=c.plotX,f=c.plotY;k(c,{pageX:mc.left+J+(S?eb-f:g),pageY:mc.top+L+(S?V-g:f)});t(c.series,fb,k(b,{point:c}));c.firePointEvent(fb,b)}else{k(b,E(b));ac(b.chartX-J,b.chartY-L)&&t(d,fb,b)}h=e}})();Jd=setInterval(function(){yd&&yd()},32);k(this,{zoomX:j,zoomY:l,resetTracker:r})}function Od(d){var b=d.type||K.type||K.defaultSeriesType,c=R[b],e=h.hasRendered;if(e)if(S&&b===ic)c=R.bar;else if(!S&&b==="bar")c=R.column;b=new c;b.init(h,d);if(!e&&b.inverted)S=a;if(b.isCartesian)jc=b.isCartesian;hb.push(b);return b}function nd(){K.alignTicks!==e&&c(pb,function(a){a.adjustTickAmount()});yb=b}function pd(d){var j=h.isDirtyLegend,l,i=h.isDirtyBox,k=hb.length,f=k,g=h.clipRect;for(qb(d,h);f--;){d=hb[f];if(d.isDirty&&d.options.stacking){l=a;break}}if(l)for(f=k;f--;){d=hb[f];if(d.options.stacking)d.isDirty=a}c(hb,function(b){if(b.isDirty){b.cleanData();b.getSegments();if(b.options.legendType===cc)j=a}});if(j&&Cd.renderLegend){Cd.renderLegend();h.isDirtyLegend=e}if(jc){if(!Hc){yb=b;c(pb,function(a){a.setScale()})}nd();xc();c(pb,function(b){if(b.isDirty||i){b.redraw();i=a}})}if(i){Dd();Dc();if(g){pc(g);g.animate({width:h.plotSizeX,height:h.plotSizeY})}}c(hb,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()});Yb&&Yb.resetTracker&&Yb.resetTracker();t(h,"redraw")}function Sd(){var d=nb.xAxis||{},b=nb.yAxis||{},e;d=Nb(d);c(d,function(b,c){b.index=c;b.isX=a});b=Nb(b);c(b,function(b,a){b.index=a});pb=d.concat(b);h.xAxis=[];h.yAxis=[];pb=rb(pb,function(a){e=new Vd(h,a);h[e.isXAxis?Jb:Kb].push(e);return e});nd()}function Pd(d,a){Ob=l(nb.title,d);zc=l(nb.subtitle,a);c([["title",d,Ob],["subtitle",a,zc]],function(a){var d=a[0],c=h[d],f=a[1];a=a[2];if(c&&f){c.destroy();c=b}if(a&&a.text&&!c)h[d]=N.text(a.text,0,0).attr({align:a.align,"class":bd+d,zIndex:1}).css(a.style).add().align(a,e,kc)})}function Wd(){vb=K.renderTo;Kd=sb+Ac++;if(ib(vb))vb=o.getElementById(vb);vb.innerHTML=j;if(!vb.offsetWidth){Fb=vb.cloneNode(0);s(Fb,{position:tb,top:"-9999px",display:j});o.body.appendChild(Fb)}Ic=(Fb||vb).offsetWidth;Bc=(Fb||vb).offsetHeight;h.chartWidth=mb=K.width||Ic||600;h.chartHeight=kb=K.height||(Bc>19?Bc:400);h.container=W=G(jb,{className:"highcharts-container"+(K.className?M+K.className:j),id:Kd},k({position:ed,overflow:D,width:mb+z,height:kb+z,textAlign:F},K.style),Fb||vb);h.renderer=N=K.forExport?new rc(W,mb,kb,a):new tc(W,mb,kb);var c,b;if(fd&&W.getBoundingClientRect){c=function(){s(W,{left:0,top:0});b=W.getBoundingClientRect();s(W,{left:-(b.left-i(b.left))+z,top:-(b.top-i(b.top))+z})};c();v(A,Bb,c);v(h,qc,function(){ab(A,Bb,c)})}}function ae(){function b(){var c=K.width||vb.offsetWidth,b=K.height||vb.offsetHeight;if(c&&b){if(c!==Ic||b!==Bc){clearTimeout(a);a=setTimeout(function(){Ed(c,b,e)},Z)}Ic=c;Bc=b}}var a;v(A,Bb,b);v(h,qc,function(){ab(A,Bb,b)})}function Id(){var d=nb.labels,b=nb.credits,e;Pd();Cd=h.legend=new Ud(h);xc();c(pb,function(b){b.setTickPositions(a)});nd();xc();Dd();jc&&c(pb,function(a){a.render()});if(!h.seriesGroup)h.seriesGroup=N.g("series-group").attr({zIndex:3}).add();c(hb,function(a){a.translate();a.setTooltipPoints();a.render()});d.items&&c(d.items,function(){var a=k(d.style,this.style),c=i(a.left)+J,b=i(a.top)+L+X;delete a.left;delete a.top;N.text(this.html,c,b).attr({zIndex:2}).css(a).add()});if(!h.toolbar)h.toolbar=Xd(h);if(b.enabled&&!h.credits){e=b.href;N.text(b.text,0,0).on(fb,function(){if(e)location.href=e}).attr({align:b.position.align,zIndex:8}).css(b.style).add().align(b.position)}Dc();h.hasRendered=a;if(Fb){vb.appendChild(W);hc(Fb)}}function qd(){var a=hb.length,d=W&&W.parentNode;t(h,qc);ab(A,"unload",qd);ab(h);for(c(pb,function(a){ab(a)});a--;)hb[a].destroy();if(W){W.innerHTML=j;ab(W);d&&d.removeChild(W);W=b}if(N)N.alignedObjects=b;clearInterval(Jd);for(a in h)delete h[a]}function id(){var b="onreadystatechange",a="complete";if(!Qb&&A==A.top&&o.readyState!==a)o.attachEvent(b,function(){o.detachEvent(b,id);o.readyState===a&&id()});else{vc=db=0;Wd();Fd();Gd();c(nb.series||[],function(a){Od(a)});h.inverted=S=d(S,nb.chart.inverted);Sd();h.render=Id;h.tracker=Yb=new Zd(h,nb.tooltip);Id();t(h,"load");Nd&&Nd.apply(h,[h]);c(h.callbacks,function(a){a.apply(h,[h])})}}nc=l(nc,y.xAxis);Rc=l(Rc,y.yAxis);y.xAxis=y.yAxis=b;nb=l(y,nb);var K=nb.chart,ub=K.margin;ub=bb(ub)?ub:[ub,ub,ub,ub];var Sc=d(K.marginTop,ub[0]),vd=d(K.marginRight,ub[1]),od=d(K.marginBottom,ub[2]),xd=d(K.marginLeft,ub[3]),lc=K.spacingTop,gd=K.spacingRight,md=K.spacingBottom,Vc=K.spacingLeft,kc,Ob,zc,L,xb,wb,J,zb,vb,Fb,W,Kd,Ic,Bc,mb,kb,wd,Cc,Pc,ad,hd,Tc,h=this,Td=(ub=K.events)&&!!ub.click,jd,ac,wc,Bd,Ib,Ld,ld,V,eb,Yb,Gc,Dc,Cd,Gb,Hb,mc,jc=K.showAxes,Hc=0,pb=[],yb,hb=[],S,N,yd,Jd,zd,Dd,xc,Fd,Gd,Ed,Ad,Md,Ud=function(I){function P(b,c){var g=b.legendItem,f=b.legendLine,e=b.legendSymbol,a=A.color,i=c?d.itemStyle.color:a,h=c?b.color:a;a=c?b.pointAttr[E]:{stroke:a,fill:a};g&&g.css({fill:i});f&&f.attr({stroke:h});e&&e.attr(a)}function V(a,c,d){var f=a.legendItem,e=a.legendLine,b=a.legendSymbol;a=a.checkbox;f&&f.attr({x:c,y:d});e&&e.translate(c,d-4);b&&b.attr({x:c+b.xOff,y:d+b.yOff});if(a){a.x=c;a.y=d}}function R(){c(f,function(b){var a=b.checkbox,c=e.alignAttr;a&&s(a,{left:c.translateX+b.legendItemWidth+a.x-40+z,top:c.translateY+a.y-11+z})})}function bb(a){var f,i,q,k,l=a.legendItem;k=a.series||a;var c=k.options,u=c&&c.borderWidth||0;if(!l){k=/^(bar|pie|area|column)$/.test(k.type);a.legendItem=l=N.text(d.labelFormatter.call(a),0,0).css(a.visible?O:A).on(sc,function(){a.setState(U);l.css(Y)}).on(uc,function(){l.css(a.visible?O:A);a.setState()}).on(fb,function(){var c="legendItemClick",d=function(){a.setVisible()};a.firePointEvent?a.firePointEvent(c,b,d):t(a,c,b,d)}).attr({zIndex:2}).add(e);if(!k&&c&&c.lineWidth){var s={"stroke-width":c.lineWidth,zIndex:2};if(c.dashStyle)s.dashstyle=c.dashStyle;a.legendLine=N.path([B,-g-h,0,r,-h,0]).attr(s).add(e)}if(k)f=N.rect(i=-g-h,q=-11,g,X,2).attr({zIndex:3}).add(e);else if(c&&c.marker&&c.marker.enabled)f=N.symbol(a.symbol,i=-g/2-h,q=-4,c.marker.radius).attr({zIndex:3}).add(e);if(f){f.xOff=i+u%2/2;f.yOff=q+u%2/2}a.legendSymbol=f;P(a,a.visible);if(c&&c.showCheckbox){a.checkbox=G("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},d.itemCheckboxStyle,W);v(a.checkbox,fb,function(b){t(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}}f=l.getBBox();i=a.legendItemWidth=d.itemWidth||g+h+f.width+S;x=f.height;if(J&&j-n+i>(K||mb-2*y-n)){j=n;m+=x}D=m;V(a,j,m);if(J)j+=i;else m+=x;o=K||p(J?j-n:i,o)}function L(){j=n;m=Q;D=o=0;e||(e=N.g("legend").attr({zIndex:7}).add());f=[];c(ab,function(a){var b=a.options;if(b.showInLegend)f=f.concat(b.legendType===cc?a.data:a)});f.sort(function(b,a){return(b.options.legendIndex||0)-(a.options.legendIndex||0)});Z&&f.reverse();c(f,bb);Gb=K||o;Hb=D-Q+x;if(C||M){Gb+=2*y;Hb+=2*y;if(l)Gb>0&&Hb>0&&l.animate(l.crisp(b,b,b,Gb,Hb));else l=N.rect(0,0,Gb,Hb,d.borderRadius,C||0).attr({stroke:d.borderColor,"stroke-width":C||0,fill:M||H}).add(e).shadow(d.shadow);l[f.length?Xb:Cb]()}for(var p=[F,T,Tb,Eb],g,h=4;h--;){g=p[h];if(q[g]&&q[g]!==Ec){d[h<2?ec:rd]=g;d[h<2?w:lb]=i(q[g])*(h%2?u:1)}}e.align(k(d,{width:Gb,height:Hb}),a,kc);Hc||R()}var d=I.options.legend;if(d.enabled){var J=d.layout===kd,g=d.symbolWidth,h=d.symbolPadding,f,q=d.style,O=d.itemStyle,Y=d.itemHoverStyle,A=d.itemHiddenStyle,y=i(q.padding),S=20,Q=18,n=4+y+g+h,j,m,D,x=0,l,C=d.borderWidth,M=d.backgroundColor,e,o,K=d.width,ab=I.series,Z=d.reversed;L();v(I,Hd,R);return{colorizeItem:P,destroyItem:function(a){var b=a.checkbox;c(["legendItem","legendLine","legendSymbol"],function(b){a[b]&&a[b].destroy()});b&&hc(a.checkbox)},renderLegend:L}}};ac=function(b,a){return b>=0&&b<=eb&&a>=0&&a<=V};Md=function(){t(h,Rd,{resetSelection:a},Ad);h.toolbar.remove("zoom")};Ad=function(a){var d=y.lang,f=h.pointCount<Z;h.toolbar.add("zoom",d.resetZoom,d.resetZoomTitle,Md);!a||a.resetSelection?c(pb,function(a){a.setExtremes(b,b,e,f)}):c(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;h.tracker[b.isXAxis?"zoomX":"zoomY"]&&b.setExtremes(a.min,a.max,e,f)});pd()};xc=function(){var a=nb.legend,b=d(a.margin,n),k=a.x,j=a.y,i=a.align,e=a.verticalAlign,g;Fd();if((h.title||h.subtitle)&&!f(Sc))if(g=p(h.title&&!Ob.floating&&!Ob.verticalAlign&&Ob.y||0,h.subtitle&&!zc.floating&&!zc.verticalAlign&&zc.y||0))L=p(L,g+d(Ob.margin,15)+lc);if(a.enabled&&!a.floating)if(i===T)f(vd)||(xb=p(xb,Gb-k+b+gd));else if(i===F)f(xd)||(J=p(J,Gb+k+b+Vc));else if(e===Tb)f(Sc)||(L=p(L,Hb+j+b+lc));else if(e===Eb)f(od)||(wb=p(wb,Hb-j+b+md));jc&&c(pb,function(a){a.getOffset()});f(xd)||(J+=zb[3]);f(Sc)||(L+=zb[0]);f(od)||(wb+=zb[2]);f(vd)||(xb+=zb[1]);Gd()};Ed=function(j,i,d){var f=h.title,e=h.subtitle;Hc+=1;qb(d,h);Cc=kb;wd=mb;h.chartWidth=mb=g(j);h.chartHeight=kb=g(i);s(W,{width:mb+z,height:kb+z});N.setSize(mb,kb,d);eb=mb-J-xb;V=kb-L-wb;yb=b;c(pb,function(b){b.isDirty=a;b.setScale()});c(hb,function(b){b.isDirty=a});h.isDirtyLegend=a;h.isDirtyBox=a;xc();f&&f.align(b,b,kc);e&&e.align(b,b,kc);pd(d);Cc=b;t(h,Bb);setTimeout(function(){t(h,Hd,b,function(){Hc-=1})},bc&&bc.duration||500)};Gd=function(){h.plotLeft=J=g(J);h.plotTop=L=g(L);h.plotWidth=eb=g(mb-J-xb);h.plotHeight=V=g(kb-L-wb);h.plotSizeX=S?V:eb;h.plotSizeY=S?eb:V;kc={x:Vc,y:lc,width:mb-Vc-gd,height:kb-lc-md}};Fd=function(){L=d(Sc,lc);xb=d(vd,gd);wb=d(od,md);J=d(xd,Vc);zb=[0,0,0,0]};Dd=function(){var c=K.borderWidth||0,f=K.backgroundColor,i=K.plotBackgroundColor,g=K.plotBackgroundImage,a,d={x:J,y:L,width:eb,height:V};a=c+(K.shadow?8:0);if(c||f)if(Pc)Pc.animate(Pc.crisp(b,b,b,mb-a,kb-a));else Pc=N.rect(a/2,a/2,mb-a,kb-a,K.borderRadius,c).attr({stroke:K.borderColor,"stroke-width":c,fill:f||H}).add().shadow(K.shadow);if(i)if(ad)ad.animate(d);else ad=N.rect(J,L,eb,V,0).attr({fill:i}).add().shadow(K.plotShadow);if(g)if(hd)hd.animate(d);else hd=N.image(g,J,L,eb,V).add();if(K.plotBorderWidth)if(Tc)Tc.animate(Tc.crisp(b,J,L,eb,V));else Tc=N.rect(J,L,eb,V,0,K.plotBorderWidth).attr({stroke:K.plotBorderColor,"stroke-width":K.plotBorderWidth,zIndex:4}).add();h.isDirtyBox=e};v(A,"unload",qd);K.reflow!==e&&v(h,"load",ae);if(ub)for(jd in ub)v(h,jd,ub[jd]);h.options=nb;h.series=hb;h.addSeries=function(c,b,f){var e;if(c){qb(f,h);b=d(b,a);t(h,"addSeries",{options:c},function(){e=Od(c);e.isDirty=a;h.isDirtyLegend=a;b&&h.redraw()})}return e};h.animation=d(K.animation,a);h.destroy=qd;h.get=function(e){for(var c,d,a=0;a<pb.length;a++)if(pb[a].options.id===e)return pb[a];for(a=0;a<hb.length;a++)if(hb[a].options.id===e)return hb[a];for(a=0;a<hb.length;a++){d=hb[a].data;for(c=0;c<d.length;c++)if(d[c].id===e)return d[c]}return b};h.getSelectedPoints=function(){var a=[];c(hb,function(b){a=a.concat(Jc(b.data,function(a){return a.selected}))});return a};h.getSelectedSeries=function(){return Jc(hb,function(a){return a.selected})};h.hideLoading=function(){yc(Ib,{opacity:0},{duration:nb.loading.hideDuration,complete:function(){s(Ib,{display:H})}});ld=e};h.isInsidePlot=ac;h.redraw=pd;h.setSize=Ed;h.setTitle=Pd;h.showLoading=function(d){var c=nb.loading;if(!Ib){Ib=G(jb,{className:"highcharts-loading"},k(c.style,{left:J+z,top:L+z,width:eb+z,height:V+z,zIndex:n,display:H}),W);Ld=G(Nc,b,c.labelStyle,Ib)}Ld.innerHTML=d||nb.lang.loading;if(!ld){s(Ib,{opacity:0,display:j});yc(Ib,{opacity:c.style.opacity},{duration:c.showDuration});ld=a}};h.pointCount=0;id()}var o=document,A=window,m=Math,g=m.round,I=m.floor,Qc=m.ceil,p=m.max,O=m.min,C=m.abs,J=m.cos,V=m.sin,kb=m.PI,gd=kb*2/360,ub=navigator.userAgent,Zb=/msie/i.test(ub)&&!A.opera,Jb=o.documentMode===8,dd=/AppleWebKit/.test(ub),fd=/Firefox/.test(ub),Qb=!!o.createElementNS&&!!o.createElementNS(Fb,"svg").createSVGRect,tc,cb=o.documentElement.ontouchstart!==undefined,db,vc,hd={},Ac=0,P=1,jc,y,oc,bc,Yb,x,jb="div",tb="absolute",ed="relative",D="hidden",sb=bd,Q="visible",z="px",H="none",B="M",r="L",id="rgba(192,192,192,"+(Qb?1e-6:.002)+eb,E=j,U="hover",dc,Kc,Lc,Mc,Pb,fc,gc,Wc,Xc,Oc,Yc,Zc,h=A.HighchartsAdapter,S=h||{},c=S.each,Jc=S.grep,rb=S.map,l=S.merge,jd=S.hyphenate,v=S.addEvent,ab=S.removeEvent,t=S.fireEvent,yc=S.animate,pc=S.stop,R={};oc=function(b,a,n){function c(a){return a.toString().replace(/^([0-9])$/,"0$1")}if(!f(a)||isNaN(a))return"Invalid date";b=d(b,"%Y-%m-%d %H:%M:%S");a=new Date(a*P);var h,e=a[Lc](),k=a[Mc](),l=a[Pb](),i=a[fc](),m=a[gc](),g=y.lang,j=g.weekdays;g=g.months;a={a:j[k].substr(0,3),A:j[k],d:c(l),e:l,b:g[i].substr(0,3),B:g[i],m:c(i+1),y:m.toString().substr(2,2),Y:m,H:c(e),I:c(e%X||X),l:e%X||X,M:c(a[Kc]()),p:e<X?"AM":"PM",P:e<X?"am":"pm",S:c(a.getSeconds())};for(h in a)b=b.replace("%"+h,a[h]);return n?b.substr(0,1).toUpperCase()+b.substr(1):b};h&&h.init&&h.init();if(!h&&A.jQuery){var K=jQuery;c=function(b,c){for(var a=0,d=b.length;a<d;a++)if(c.call(b[a],b[a],a,b)===e)return a};Jc=K.grep;rb=function(b,d){for(var c=[],a=0,e=b.length;a<e;a++)c[a]=d.call(b[a],b[a],a,b);return c};l=function(){var c=arguments;return K.extend(a,b,c[0],c[1],c[2],c[3])};jd=function(a){return a.replace(/([A-Z])/g,function(b,a){return Ab+a.toLowerCase()})};v=function(a,b,c){K(a).bind(b,c)};ab=function(a,c,d){var b=o.removeEventListener?"removeEventListener":"detachEvent";if(o[b]&&!a[b])a[b]=function(){};K(a).unbind(c,d)};t=function(a,c,g,f){var d=K.Event(c),e="detached"+c;k(d,g);if(a[c]){a[e]=a[c];a[c]=b}K(a).trigger(d);if(a[e]){a[c]=a[e];a[e]=b}f&&!d.isDefaultPrevented()&&f(d)};yc=function(b,a,d){var c=K(b);if(a.d){b.toD=a.d;a.d=1}c.stop();c.animate(a,d)};pc=function(a){K(a).stop()};K.extend(K.easing,{easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b}});var vd=jQuery.fx.step._default,wd=jQuery.fx.prototype.cur;K.fx.step._default=function(a){var b=a.elem;b.attr?b.attr(a.prop,a.now):vd.apply(this,arguments)};K.fx.step.d=function(b){var c=b.elem;if(!b.started){var d=Yb.init(c,c.d,c.toD);b.start=d[0];b.end=d[1];b.started=a}c.attr("d",Yb.step(b.start,b.end,b.pos,c.toD))};K.fx.prototype.cur=function(){var a=this.elem;return a.attr?a.attr(this.prop):wd.apply(this,arguments)}}Yb={init:function(g,a,b){a=a||j;var d=g.shift,h=a.indexOf("C")>u,f=h?7:3,c;a=a.split(M);b=[].concat(b);var i,k,l=function(a){for(c=a.length;c--;)a[c]===B&&a.splice(c+1,0,a[c+1],a[c+2],a[c+1],a[c+2])};if(h){l(a);l(b)}if(g.isArea){i=a.splice(a.length-6,6);k=b.splice(b.length-6,6)}if(d){b=[].concat(b).splice(0,f).concat(b);g.shift=e}if(a.length)for(g=b.length;a.length<g;){d=[].concat(a).splice(a.length-f,f);if(h){d[f-6]=d[f-2];d[f-5]=d[f-1]}a=a.concat(d)}if(i){a=a.concat(i);b=b.concat(k)}return[a,b]},step:function(d,e,f,b){var c=[],a=d.length;if(f===1)c=b;else if(a===e.length&&f<1)for(;a--;){b=parseFloat(d[a]);c[a]=isNaN(b)?d[a]:f*parseFloat(e[a]-b)+b}else c=e;return c}};h={enabled:a,align:Y,x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};y={colors:[Gc,"#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:[vb,"diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:mb},global:{useUTC:a},chart:{borderColor:Gc,borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:a,spacingTop:n,spacingRight:n,spacingBottom:15,spacingLeft:n,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:Ib,plotBorderColor:Lb},title:{text:"Chart title",align:Y,y:15,style:{color:Hc,fontSize:"16px"}},subtitle:{text:j,align:Y,y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:e,showCheckbox:e,animation:{duration:gb},events:{},lineWidth:2,shadow:a,marker:{enabled:a,lineWidth:0,radius:4,lineColor:Ib,states:{hover:{},select:{fillColor:Ib,lineColor:Ic,lineWidth:2}}},point:{events:{}},dataLabels:l(h,{enabled:e,y:-6,formatter:function(){return this.y}}),showInLegend:a,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:a}},labels:{style:{position:tb,color:Hc}},legend:{enabled:a,align:Y,layout:kd,labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:e,style:{padding:"5px"},itemStyle:{cursor:Ob,color:Hc},itemHoverStyle:{cursor:Ob,color:Ic},itemHiddenStyle:{color:Lb},itemCheckboxStyle:{position:tb,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:Eb,x:0,y:0},loading:{hideDuration:Z,labelStyle:{fontWeight:"bold",position:ed,top:"1em"},showDuration:Z,style:{position:tb,backgroundColor:"white",opacity:.5,textAlign:Y}},tooltip:{enabled:a,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:a,snap:cb?25:n,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:Gc,cursor:Ob}},credits:{enabled:a,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:T,x:-10,verticalAlign:Eb,y:-5},style:{cursor:Ob,color:"#909090",fontSize:"10px"}}};var nc={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:e,gridLineColor:Lb,labels:h,lineColor:"#C0D0E0",lineWidth:1,max:b,min:b,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:e,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:Z,tickPosition:"outside",tickWidth:1,title:{align:Db,style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},Rc=l(nc,{endOnTick:a,gridLineWidth:1,tickPixelInterval:72,showLastLabel:a,labels:{align:T,x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:a,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:e,formatter:function(){return this.total},style:h.style}}),ud={labels:{align:T,x:-8,y:b},title:{rotation:270}},td={labels:{align:F,x:8,y:b},title:{rotation:90}},cd={labels:{align:Y,x:0,y:14},title:{rotation:0}},sd=l(cd,{labels:{y:-5}}),N=y.plotOptions;h=N.line;N.spline=l(h);N.scatter=l(h,{lineWidth:0,states:{hover:{lineWidth:0}}});N.area=l(h,{});N.areaspline=l(N.area);N.column=l(h,{borderColor:Ib,borderWidth:1,borderRadius:0,groupPadding:.2,marker:b,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:e},select:{color:Lb,borderColor:Ic,shadow:e}},dataLabels:{y:b,verticalAlign:b}});N.bar=l(N.column,{dataLabels:{align:F,x:5,y:0}});N.pie=l(h,{borderColor:Ib,borderWidth:1,center:["50%","50%"],colorByPoint:a,dataLabels:{distance:30,enabled:a,formatter:function(){return this.point.name},y:5},legendType:cc,marker:b,size:"75%",showInLegend:e,slicedOffset:n,states:{hover:{brightness:.1,shadow:e}}});Vc();var hb=function(c){var a=[],b;(function(c){if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(c))a=[i(b[1]),i(b[2]),i(b[3]),parseFloat(b[4],n)];else if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))a=[i(b[1],16),i(b[2],16),i(b[3],16),1]})(c);return{"get":function(b){return a&&!isNaN(a[0])?b===Hb?"rgb("+a[0]+mb+a[1]+mb+a[2]+eb:b==="a"?a[3]:"rgba("+a.join(mb)+eb:c},brighten:function(c){if(pb(c)&&c!==0)for(var b=0;b<3;b++){a[b]+=i(c*255);if(a[b]<0)a[b]=0;if(a[b]>255)a[b]=255}return this},setOpacity:function(b){a[3]=b;return this}}};lc.prototype={init:function(a,b){this.element=o.createElementNS(Fb,b);this.renderer=a},animate:function(e,b,c){if(b=d(b,bc,a)){b=l(b);if(c)b.complete=c;yc(this,e,b)}else{this.attr(e);c&&c()}},attr:function(g,s){var d=this,b,c,h,o,k=d.element,m=k.nodeName,p=d.renderer,n,r=d.shadows,t,l=d;if(ib(g)&&f(s)){b=g;g={};g[b]=s}if(ib(g)){b=g;if(m===vb)b=({x:"cx",y:"cy"})[b]||b;else if(b===wc)b=wb;l=q(k,b)||d[b]||0;if(b!=="d"&&b!==Gb)l=parseFloat(l)}else for(b in g){n=e;c=g[b];if(b==="d"){if(c&&c.join)c=c.join(M);if(/(NaN| {2}|^$)/.test(c))c="M 0 0";d.d=c}else if(b===w&&m===xb){for(h=0;h<k.childNodes.length;h++){o=k.childNodes[h];q(o,w)===q(k,w)&&q(o,w,c)}d.rotation&&q(k,ld,"rotate("+d.rotation+M+c+M+i(g.y||q(k,lb))+eb)}else if(b==="fill")c=p.color(c,k,b);else if(m===vb&&(b===w||b===lb))b=({x:"cx",y:"cy"})[b]||b;else if(b===zc||b===Bc||b===md||b===rd){d[b]=c;d.updateTransform();n=a}else if(b===Cc)c=p.color(c,k,b);else if(b===nd){b="stroke-dasharray";c=c&&c.toLowerCase();if(c==="solid")c=H;else if(c){c=c.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,j).split(mb);for(h=c.length;h--;)c[h]=i(c[h])*g[wb];c=c.join(mb)}}else if(b===Rb)d[b]=c;else if(b===ob)c=i(c);else if(b===ec){b="text-anchor";c=({left:"start",center:Db,right:"end"})[c]}if(b===wc)b=wb;if(dd&&b===wb&&c===0)c=1e-6;if(d.symbolName&&/^(x|y|r|start|end|innerR)/.test(b)){if(!t){d.symbolAttr(g);t=a}n=a}if(r&&/^(width|height|visibility|x|y|d)$/.test(b))for(h=r.length;h--;)q(r[h],b,c);if((b===ob||b===Wb)&&m===kc&&c<0)c=0;if(b===xb){d.textStr=c;d.added&&p.buildText(d)}else n||q(k,b,c)}return l},symbolAttr:function(b){var a=this;c([w,lb,"r","start","end",ob,Wb,"innerR"],function(c){a[c]=d(b[c],a[c])});a.attr({d:a.renderer.symbols[a.symbolName](g(a.x*2)/2,g(a.y*2)/2,a.r,{start:a.start,end:a.end,width:a.width,height:a.height,innerR:a.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+eb)},crisp:function(e,g,h,i,j){var b=this,c,f={},a={},d;e=e||b.strokeWidth||0;d=e%2/2;a.x=I(g||b.x||0)+d;a.y=I(h||b.y||0)+d;a.width=I((i||b.width||0)-2*d);a.height=I((j||b.height||0)-2*d);a.strokeWidth=e;for(c in a)if(b[c]!==a[c])b[c]=f[c]=a[c];return f},css:function(a){var b=this,c=b.element;c=a&&a.width&&c.nodeName===xb;var e=a,d;if(a&&a.color)a.fill=a.color;b.styles=a=k(b.styles,a);if(f(a)){a={};for(d in e)a[jd(d)]=e[d]}if(Zb&&!Qb){c&&delete a.width;s(b.element,a)}else b.attr({style:xd(a)});c&&b.added&&b.renderer.buildText(b);return b},on:function(a,b){var c=b;if(cb&&a===fb){a=Sb;c=function(a){a.preventDefault();b()}}this.element["on"+a]=c;return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=a;this.updateTransform();return this},updateTransform:function(){var a=this,c=a.translateX||0,d=a.translateY||0,e=a.inverted,f=a.rotation,b=[];if(e){c+=a.attr(ob);d+=a.attr(Wb)}(c||d)&&b.push("translate("+c+mb+d+eb);if(e)b.push("rotate(90) scale(-1,1)");else f&&b.push("rotate("+f+M+a.x+M+a.y+eb);b.length&&q(a.element,ld,b.join(M))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(c,f,e){var b=this;if(c){b.alignOptions=c;b.alignByTranslate=f;e||b.renderer.alignedObjects.push(b)}else{c=b.alignOptions;f=b.alignByTranslate}e=d(e,b.renderer);var i=c.align,j=c.verticalAlign,k=(e.x||0)+(c.x||0),l=(e.y||0)+(c.y||0),h={};if(/^(right|center)$/.test(i))k+=(e.width-(c.width||0))/({right:1,center:2})[i];h[f?zc:w]=g(k);if(/^(bottom|middle)$/.test(j))l+=(e.height-(c.height||0))/(({bottom:1,middle:2})[j]||1);h[f?Bc:lb]=g(l);b[b.placed?Ub:Vb](h);b.placed=a;b.alignAttr=h;return b},getBBox:function(){var a,c,d,e=this.rotation,b=e*gd;try{a=k({},this.element.getBBox())}catch(f){a={width:0,height:0}}c=a.width;d=a.height;if(e){a.width=C(d*V(b))+C(c*J(b));a.height=C(d*J(b))+C(c*V(b))}return a},show:function(){return this.attr({visibility:Q})},hide:function(){return this.attr({visibility:D})},add:function(c){var b=this,e=b.renderer,d=c||e,j=d.element||e.box,k=j.childNodes,h=b.element,g=q(h,Dc);b.parentInverted=c&&c.inverted;b.textStr!==undefined&&e.buildText(b);if(g){d.handleZ=a;g=i(g)}if(d.handleZ)for(d=0;d<k.length;d++){c=k[d];e=q(c,Dc);if(c!==h&&(i(e)>g||!f(g)&&f(e))){j.insertBefore(h,c);return b}}j.appendChild(h);b.added=a;return b},destroy:function(){var a=this,d=a.element||{},f=a.shadows,e=d.parentNode,g;d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=b;pc(a);e&&e.removeChild(d);f&&c(f,function(a){(e=a.parentNode)&&e.removeChild(a)});Mb(a.renderer.alignedObjects,a);for(g in a)delete a[g];return b},empty:function(){for(var a=this.element,b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},shadow:function(g,e){var c=this,f=[],a,b,d=c.element,h=c.parentInverted?"(-1,-1)":"(1,1)";if(g){for(a=1;a<=3;a++){b=d.cloneNode(0);q(b,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*a,"stroke-width":7-2*a,transform:"translate"+h,fill:H});e?e.element.appendChild(b):d.parentNode.insertBefore(b,d);f.push(b)}c.shadows=f}return c}};var rc=function(){this.init.apply(this,arguments)};rc.prototype={Element:lc,init:function(c,d,f,g){var a=this,h=location,b;b=a.createElement("svg").attr({xmlns:Fb,version:"1.1"});c.appendChild(b.element);a.box=b.element;a.boxWrapper=b;a.alignedObjects=[];a.url=Zb?j:h.href.replace(/#.*?$/,j);a.defs=a.createElement("defs").add();a.forExport=g;a.setSize(d,f,e)},createElement:function(b){var a=new this.Element;a.init(this,b);return a},buildText:function(g){for(var m="line-height",a=g.element,v=d(g.textStr,j).toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),p=a.childNodes,r=/style="([^"]+)"/,t=/href="([^"]+)"/,u=q(a,w),e=g.styles,x=fd&&e&&e["-hc-direction"]==="rtl"&&!this.forExport&&i(ub.split("Firefox/")[1])<4,l,h=e&&i(e.width),n=e&&e[m],k,f=p.length;f--;)a.removeChild(p[f]);h&&!g.added&&this.box.appendChild(a);c(v,function(e,v){var p,i=0,d;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");p=e.split("|||");c(p,function(c){if(c!==j||p.length===1){var w={},e=o.createElementNS(Fb,"tspan");r.test(c)&&q(e,"style",c.match(r)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));if(t.test(c)){q(e,"onclick",'location.href="'+c.match(t)[1]+'"');s(e,{cursor:Ob})}c=(c.replace(/<(.|\n)*?>/g,j)||M).replace(/&lt;/g,"<").replace(/&gt;/g,">");if(x){l=[];for(f=c.length;f--;)l.push(c.charAt(f));c=l.join(j)}e.appendChild(o.createTextNode(c));if(i)w.dx=3;else w.x=u;if(!i){if(v){!Qb&&g.renderer.forExport&&s(e,{display:"block"});d=A.getComputedStyle&&A.getComputedStyle(k,b).getPropertyValue(m);if(!d||isNaN(d))d=n||k.offsetHeight||18;q(e,"dy",d)}k=e}q(e,w);a.appendChild(e);i++;if(h){c=c.replace(/-/g,"- ").split(M);for(var z,y=[];c.length||y.length;){z=a.getBBox().width;w=z>h;if(!w||c.length===1){c=y;y=[];if(c.length){e=o.createElementNS(Fb,"tspan");q(e,{dy:n||16,x:u});a.appendChild(e);if(z>h)h=z}}else{e.removeChild(e.firstChild);y.unshift(c.pop())}c.length&&e.appendChild(o.createTextNode(c.join(M).replace(/- /g,Ab)))}}}})})},crispLine:function(a,b){if(a[1]===a[4])a[1]=a[4]=g(a[1])+b%2/2;if(a[2]===a[5])a[2]=a[5]=g(a[2])+b%2/2;return a},path:function(a){return this.createElement("path").attr({d:a,fill:H})},circle:function(a,b,c){a=bb(a)?a:{x:a,y:b,r:c};return this.createElement(vb).attr(a)},arc:function(a,b,c,d,e,f){if(bb(a)){b=a.y;c=a.r;d=a.innerR;e=a.start;f=a.end;a=a.x}return this.symbol("arc",a||0,b||0,c||0,{innerR:d||0,start:e||0,end:f||0})},rect:function(a,c,d,e,b,f){if(bb(a)){c=a.y;d=a.width;e=a.height;b=a.r;f=a.strokeWidth;a=a.x}b=this.createElement(kc).attr({rx:b,ry:b,fill:H});return b.attr(b.crisp(f,a,c,p(d,0),p(e,0)))},setSize:function(c,e,h){var b=this,f=b.alignedObjects,g=f.length;b.width=c;b.height=e;for(b.boxWrapper[d(h,a)?Ub:Vb]({width:c,height:e});g--;)f[g].align()},g:function(a){return this.createElement("g").attr(f(a)&&{"class":sb+a})},image:function(b,c,d,e,f){var a={preserveAspectRatio:H};arguments.length>1&&k(a,{x:c,y:d,width:e,height:f});a=this.createElement("image").attr(a);a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):a.element.setAttribute("hc-svg-href",b);return a},symbol:function(b,f,h,i,j){var e=this,a,c=e.symbols[b];c=c&&c(g(f),g(h),i,j);var l=/^url\((.*?)\)$/,d;if(c){a=e.path(c);k(a,{symbolName:b,x:f,y:h,r:i});j&&k(a,j)}else if(l.test(b)){var m=function(b,a){b.attr({width:a[0],height:a[1]}).translate(-g(a[0]/2),-g(a[1]/2))};d=b.match(l)[1];b=hd[d];a=e.image(d).attr({x:f,y:h});if(b)m(a,b);else{a.attr({width:0,height:0});G("img",{onload:function(){m(a,hd[d]=[this.width,this.height])},src:d})}}else a=e.circle(f,h,i);return a},symbols:{square:function(b,c,a){a=.707*a;return[B,b-a,c-a,r,b+a,c-a,b+a,c+a,b-a,c+a,yb]},triangle:function(b,c,a){return[B,b,c-1.33*a,r,b+a,c+.67*a,b-a,c+.67*a,yb]},"triangle-down":function(b,c,a){return[B,b,c+1.33*a,r,b-a,c-.67*a,b+a,c-.67*a,yb]},diamond:function(a,b,c){return[B,a,b-c,r,a+c,b,a,b+c,a-c,b,yb]},arc:function(e,f,b,a){var g=a.start,d=a.end-1e-6,c=a.innerR,h=J(g),i=V(g),j=J(d);d=V(d);a=a.end-g<kb?0:1;return[B,e+b*h,f+b*i,"A",b,b,0,a,1,e+b*j,f+b*d,r,e+c*j,f+c*d,"A",c,c,0,a,0,e+c*h,f+c*i,yb]}},clipRect:function(a,c,d,e){var b=sb+Ac++,f=this.createElement("clipPath").attr({id:b}).add(this.defs);a=this.rect(a,c,d,e,0).add(f);a.id=b;return a},color:function(a,b,e){var d,i=/^rgba/;if(a&&a.linearGradient){var f=this;b=a.linearGradient;e=sb+Ac++;var j,g,h;j=f.createElement("linearGradient").attr({id:e,gradientUnits:"userSpaceOnUse",x1:b[0],y1:b[1],x2:b[2],y2:b[3]}).add(f.defs);c(a.stops,function(a){if(i.test(a[1])){d=hb(a[1]);g=d.get(Hb);h=d.get("a")}else{g=a[1];h=1}f.createElement("stop").attr({offset:a[0],"stop-color":g,"stop-opacity":h}).add(j)});return"url("+this.url+"#"+e+eb}else if(i.test(a)){d=hb(a);q(b,e+"-opacity",d.get("a"));return d.get(Hb)}else return a},text:function(a,b,c){var e=y.chart.style;b=g(d(b,0));c=g(d(c,0));a=this.createElement(xb).attr({x:b,y:c,text:a}).css({"font-family":e.fontFamily,"font-size":e.fontSize});a.x=b;a.y=c;return a}};tc=rc;if(!Qb){S=W(lc,{init:function(d,a){var b=["<",a,' filled="f" stroked="f"'],c=["position: ",tb,";"];(a==="shape"||a===jb)&&c.push("left:0;top:0;width:10px;height:10px;");Jb&&c.push("visibility: ",a===jb?D:Q);b.push(' style="',c.join(j),'"/>');if(a){b=a===jb||a===Nc||a==="img"?b.join(j):d.prepVML(b);this.element=G(b)}this.renderer=d},add:function(c){var b=this,f=b.renderer,e=b.element,d=f.box;d=c?c.element||c:d;c&&c.inverted&&f.invertChild(e,d);Jb&&d.gVis===D&&s(e,{visibility:D});d.appendChild(e);b.added=a;b.alignOnAdd&&b.updateTransform();return b},attr:function(l,t){var h=this,c,d,i,j=h.element||{},o=j.style,v=j.nodeName,p=h.renderer,x=h.symbolName,k,u,m=h.shadows,r=h;if(ib(l)&&f(t)){c=l;l={};l[c]=t}if(ib(l)){c=l;r=c===wc||c===wb?h.strokeweight:h[c]}else for(c in l){d=l[c];k=e;if(x&&/^(x|y|r|start|end|width|height|innerR)/.test(c)){if(!u){h.symbolAttr(l);u=a}k=a}else if(c==="d"){d=d||[];h.d=d.join(M);i=d.length;for(k=[];i--;)k[i]=pb(d[i])?g(d[i]*n)-5:d[i]===yb?w:d[i];d=k.join(M)||w;j.path=d;if(m)for(i=m.length;i--;)m[i].path=d;k=a}else if(c===Dc||c===Gb){if(Jb&&c===Gb&&v==="DIV"){j.gVis=d;k=j.childNodes;for(i=k.length;i--;)s(k[i],{visibility:d});if(d===Q)d=b}if(d)o[c]=d;k=a}else if(/^(width|height)$/.test(c)){if(h.updateClipping){h[c]=d;h.updateClipping()}else o[c]=d;k=a}else if(/^(x|y)$/.test(c)){h[c]=d;if(j.tagName===xc)h.updateTransform();else o[({x:F,y:Tb})[c]]=d}else if(c==="class")j.className=d;else if(c===Cc){d=p.color(d,j,c);c="strokecolor"}else if(c===wb||c===wc){j.stroked=d?a:e;c="strokeweight";h[c]=d;if(pb(d))d+=z}else if(c===nd){(j.getElementsByTagName(Cc)[0]||G(p.prepVML(["<stroke/>"]),b,b,j))[c]=d||"solid";h.dashstyle=d;k=a}else if(c==="fill")if(v===xc)o.color=d;else{j.filled=d!==H?a:e;d=p.color(d,j,c);c="fillcolor"}else if(c===zc||c===Bc||c===md||c===ec){if(c===ec)c="textAlign";h[c]=d;h.updateTransform();k=a}else if(c===xb){h.bBox=b;j.innerHTML=d;k=a}if(m&&c===Gb)for(i=m.length;i--;)m[i].style[c]=d;if(!k)if(Jb)j[c]=d;else q(j,c,d)}return r},clip:function(b){var a=this,c=b.members;c.push(a);a.destroyClip=function(){Mb(c,a)};return a.css(b.getCSS(a.inverted))},css:function(b){var a=this,c=a.element;if(c=b&&c.tagName===xc&&b.width){delete b.width;a.textWidth=c;a.updateTransform()}a.styles=k(a.styles,b);s(a.element,b);return a},destroy:function(){this.destroyClip&&this.destroyClip();lc.prototype.destroy.apply(this)},empty:function(){for(var b=this.element.childNodes,c=b.length,a;c--;){a=b[c];a.parentNode.removeChild(a)}},getBBox:function(){var a=this.element,b=this.bBox;if(!b){if(a.nodeName===xb)a.style.position=tb;b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}return b},on:function(a,b){this.element["on"+a]=function(){var a=A.event;a.target=a.srcElement;b(a)};return this},updateTransform:function(){if(this.added){var b=this,d=b.element,h=b.translateX||0,e=b.translateY||0,w=b.x||0,x=b.y||0,p=b.textAlign||F,n=({left:0,center:.5,right:1})[p],y=p&&p!==F;(h||e)&&b.css({marginLeft:h,marginTop:e});b.inverted&&c(d.childNodes,function(a){b.renderer.invertChild(a,d)});if(d.tagName===xc){var k,t;h=b.rotation;var l;k=0;e=1;var m=0,r;l=i(b.textWidth);var q=b.xCorr||0,o=b.yCorr||0,v=[h,p,d.innerHTML,b.textWidth].join(mb);if(v!==b.cTT){if(f(h)){k=h*gd;e=J(k);m=V(k);s(d,{filter:h?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-m,", M21=",m,", M22=",e,", sizingMethod='auto expand')"].join(j):H})}k=d.offsetWidth;t=d.offsetHeight;if(k>l){s(d,{width:l+z,display:"block",whiteSpace:"normal"});k=l}l=g((i(d.style.fontSize)||X)*1.2);q=e<0&&-k;o=m<0&&-t;r=e*m<0;q+=m*l*(r?1-n:n);o-=e*l*(h?r?n:1-n:1);if(y){q-=k*n*(e<0?u:1);if(h)o-=t*n*(m<0?u:1);s(d,{textAlign:p})}b.xCorr=q;b.yCorr=o}s(d,{left:w+q,top:x+o});b.cTT=v}}else this.alignOnAdd=a},shadow:function(m,h){var e=this,j=[],a,c=e.element,k=e.renderer,d,l=c.style,f,g=c.path;if(g&&typeof g.value!=="string")g=w;if(m){for(a=1;a<=3;a++){f=['<shape isShadow="true" strokeweight="',7-2*a,'" filled="false" path="',g,'" coordsize="100,100" style="',c.style.cssText,'" />'];d=G(k.prepVML(f),b,{left:i(l.left)+1,top:i(l.top)+1});f=['<stroke color="black" opacity="',.05*a,'"/>'];G(k.prepVML(f),b,b,d);h?h.element.appendChild(d):c.parentNode.insertBefore(d,c);j.push(d)}e.shadows=j}return e}});h=function(){this.init.apply(this,arguments)};h.prototype=l(rc.prototype,{Element:S,isIE8:ub.indexOf("MSIE 8.0")>u,init:function(c,d,f){var a=this,b;a.alignedObjects=[];b=a.createElement(jb);c.appendChild(b.element);a.box=b.element;a.boxWrapper=b;a.setSize(d,f,e);if(!o.namespaces.hcv){o.namespaces.add("hcv","urn:schemas-microsoft-com:vml");o.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(b,d,e,f){var a=this.createElement();return k(a,{members:[],left:b,top:d,width:e,height:f,getCSS:function(b){var c=this,a=c.top,d=c.left,e=d+c.width,f=a+c.height;a={clip:"rect("+g(b?d:a)+"px,"+g(b?f:e)+"px,"+g(b?e:f)+"px,"+g(b?a:d)+"px)"};!b&&Jb&&k(a,{width:e+z,height:f+z});return a},updateClipping:function(){c(a.members,function(b){b.css(a.getCSS(b.inverted))})}})},color:function(a,i,d){var e,k=/^rgba/;if(a&&a.linearGradient){var f,g,h=a.linearGradient,l,n,o,j;c(a.stops,function(a,b){if(k.test(a[1])){e=hb(a[1]);f=e.get(Hb);g=e.get("a")}else{f=a[1];g=1}if(b){o=f;j=g}else{l=f;n=g}});a=90-m.atan((h[3]-h[1])/(h[2]-h[0]))*180/kb;d=["<",d,' colors="0% ',l,",100% ",o,'" angle="',a,'" opacity="',j,'" o:opacity2="',n,'" type="gradient" focus="100%" />'];G(this.prepVML(d),b,b,i)}else if(k.test(a)&&i.tagName!=="IMG"){e=hb(a);d=["<",d,' opacity="',e.get("a"),'"/>'];G(this.prepVML(d),b,b,i);return e.get(Hb)}else return a},prepVML:function(a){var b=this.isIE8;a=a.join(j);if(b){a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');a=a.indexOf('style="')===u?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')}else a=a.replace("<","<hcv:");return a},text:function(b,c,d){var a=y.chart.style;return this.createElement(Nc).attr({text:b,x:g(c),y:g(d)}).css({whiteSpace:"nowrap",fontFamily:a.fontFamily,fontSize:a.fontSize})},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},circle:function(a,b,c){return this.symbol(vb).attr({x:a,y:b,r:c})},g:function(a){var b;if(a)b={className:sb+a,"class":sb+a};return this.createElement(jb).attr(b)},image:function(b,c,d,e,f){var a=this.createElement("img").attr({src:b});arguments.length>1&&a.css({left:c,top:d,width:e,height:f});return a},rect:function(a,c,d,e,f,g){if(bb(a)){c=a.y;d=a.width;e=a.height;f=a.r;g=a.strokeWidth;a=a.x}var b=this.symbol(kc);b.r=f;return b.attr(b.crisp(g,a,c,p(d,0),p(e,0)))},invertChild:function(b,c){var a=c.style;s(b,{flip:w,left:i(a.width)-n,top:i(a.height)-n,rotation:-90})},symbols:{arc:function(c,d,b,a){var e=a.start,f=a.end,i=J(e),j=V(e),g=J(f),k=V(f);a=a.innerR;var l=.07/b,h=a&&.1/a||0;if(f-e===0)return[w];else if(2*kb-f+e<l)g=-l;else if(f-e<h)g=J(e+h);return[zb,c-b,d-b,c+b,d+b,c+b*i,d+b*j,c+b*g,d+b*k,"at",c-a,d-a,c+a,d+a,c+a*g,d+a*k,c+a*i,d+a*j,w,"e"]},circle:function(b,c,a){return[zb,b-a,c-a,b+a,c+a,b+a,c,b+a,c,"e"]},rect:function(b,c,a,g){if(!f(g))return[];var h=g.width;g=g.height;var d=b+h,e=c+g;a=O(a,h,g);return[B,b+a,c,r,d-a,c,zb,d-2*a,c,d,c+2*a,d-a,c,d,c+a,r,d,e-a,zb,d-2*a,e-2*a,d,e,d,e-a,d-a,e,r,b+a,e,zb,b,e-2*a,b+2*a,e,b+a,e,b,e-a,r,b,c+a,zb,b,c,b+2*a,c+2*a,b,c+a,b+a,c,w,"e"]}}});tc=h}ad.prototype.callbacks=[];var Kb=function(){};Kb.prototype={init:function(b,d){var a=this,c;a.series=b;a.applyOptions(d);a.pointAttr={};if(b.options.colorByPoint){c=b.chart.options.colors;if(!a.options)a.options={};a.color=a.options.color=a.color||c[db++];if(db>=c.length)db=0}b.chart.pointCount++;return a},applyOptions:function(a){var c=this,d=c.series;c.config=a;if(pb(a)||a===b)c.y=a;else if(bb(a)&&!pb(a.length)){k(c,a);c.options=a}else if(ib(a[0])){c.name=a[0];c.y=a[1]}else if(pb(a[0])){c.x=a[0];c.y=a[1]}if(c.x===x)c.x=d.autoIncrement()},destroy:function(){var a=this,d=a.series,e;d.chart.pointCount--;a===d.chart.hoverPoint&&a.onMouseOut();d.chart.hoverPoints=b;ab(a);c(["graphic",Fc,Pc,"dataLabel","connector"],function(b){a[b]&&a[b].destroy()});a.legendItem&&a.series.chart.legend.destroyItem(a);for(e in a)a[e]=b},getLabelConfig:function(){var a=this;return{x:a.category,y:a.y,series:a.series,point:a,percentage:a.percentage,total:a.total||a.stackTotal}},select:function(b,f){var a=this,g=a.series.chart;a.selected=b=d(b,!a.selected);a.firePointEvent(b?nb:mc);a.setState(b&&nb);f||c(g.getSelectedPoints(),function(b){if(b.selected&&b!==a){b.selected=e;b.setState(E);b.firePointEvent(mc)}})},onMouseOver:function(){var a=this,b=a.series.chart,c=b.tooltip,d=b.hoverPoint;d&&d!==a&&d.onMouseOut();a.firePointEvent(od);c&&!c.shared&&c.refresh(a);a.setState(U);b.hoverPoint=a},onMouseOut:function(){this.firePointEvent(pd);this.setState();this.series.chart.hoverPoint=b},tooltipFormatter:function(b){var a=this,c=a.series;return['<span style="color:'+c.color+'">',a.name||c.name,"</span>: ",!b?"<b>x = "+(a.name||a.x)+",</b> ":j,"<b>",!b?"y = ":j,a.y,"</b>"].join(j)},update:function(e,f,h){var b=this,c=b.series,g=b.graphic,i=c.chart;f=d(f,a);b.firePointEvent("update",{options:e},function(){b.applyOptions(e);if(bb(e)){c.getAttribs();g&&g.attr(b.pointAttr[c.state])}c.isDirty=a;f&&i.redraw(h)})},remove:function(e,h){var c=this,f=c.series,g=f.chart,i=f.data;qb(h,g);e=d(e,a);c.firePointEvent("remove",b,function(){Mb(i,c);c.destroy();f.isDirty=a;e&&g.redraw()})},firePointEvent:function(c,g,e){var a=this,d=a,f=a.series.options;(f.point.events[c]||d.options&&d.options.events&&d.options.events[c])&&a.importEvents();if(c===fb&&f.allowPointSelect)e=function(a){d.select(b,a.ctrlKey||a.metaKey||a.shiftKey)};t(a,c,g,e)},importEvents:function(){var b=this;if(!b.hasImportedEvents){var c=l(b.series.options.point,b.options).events,d;b.events=c;for(d in c)v(b,d,c[d]);b.hasImportedEvents=a}},setState:function(a){var b=this,c=b.series,h=c.options.states,d=N[c.type].marker&&c.options.marker,i=d&&!d.enabled,j=(d=d&&d.states[a])&&d.enabled===e,f=c.stateMarkerGraphic,k=c.chart,g=b.pointAttr;a=a||E;if(!(a===b.state||b.selected&&a!==nb||h[a]&&h[a].enabled===e||a&&(j||i&&!d.enabled))){if(b.graphic)b.graphic.attr(g[a]);else{if(a){if(!f)c.stateMarkerGraphic=f=k.renderer.circle(0,0,g[a].r).attr(g[a]).add(c.group);f.translate(b.plotX,b.plotY)}f&&f[a?Xb:Cb]()}b.state=a}}};var L=function(){};L.prototype={isCartesian:a,type:"line",pointClass:Kb,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(f,b){var d=this,g,c;c=f.series.length;d.chart=f;b=d.setOptions(b);k(d,{index:c,options:b,name:b.name||"Series "+(c+1),state:E,pointAttr:{},visible:b.visible!==e,selected:b.selected===a});c=b.events;for(g in c)v(d,g,c[g]);if(c&&c.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)f.runTrackerClick=a;d.getColor();d.getSymbol();d.setData(b.data,e)},autoIncrement:function(){var a=this,c=a.options,b=a.xIncrement;b=d(b,c.pointStart,0);a.pointInterval=d(a.pointInterval,c.pointInterval,1);a.xIncrement=b+a.pointInterval;return b},cleanData:function(){var e=this,g=e.chart,c=e.data,h,d,i=g.smallestInterval,f,a;c.sort(function(a,b){return a.x-b.x});if(e.options.connectNulls)for(a=c.length-1;a>=0;a--)c[a].y===b&&c[a-1]&&c[a+1]&&c.splice(a,1);for(a=c.length-1;a>=0;a--)if(c[a-1]){f=c[a].x-c[a-1].x;if(f>0&&(d===x||f<d)){d=f;h=a}}if(i===x||d<i)g.smallestInterval=d;e.closestPoints=h},getSegments:function(){var a=u,e=[],d=this.data;c(d,function(f,c){if(f.y===b){c>a+1&&e.push(d.slice(a+1,c));a=c}else c===d.length-1&&e.push(d.slice(a+1,c+1))});this.segments=e},setOptions:function(b){var a=this.chart.options.plotOptions;return l(a[this.type],a.series,b)},getColor:function(){var a=this.chart.options.colors;this.color=this.options.color||a[db++]||"#0000ff";if(db>=a.length)db=0},getSymbol:function(){var a=this.chart.options.symbols;this.symbol=this.options.marker.symbol||a[vc++];if(vc>=a.length)vc=0},addPoint:function(f,g,c,l){var b=this,i=b.data,j=b.graph,h=b.area,k=b.chart;f=(new b.pointClass).init(b,f);qb(l,k);if(j&&c)j.shift=c;if(h){h.shift=c;h.isArea=a}g=d(g,a);i.push(f);c&&i[0].remove(e);b.getAttribs();b.isDirty=a;g&&k.redraw()},setData:function(g,l){var c=this,h=c.data,i=c.initialColor,j=c.chart,k=h&&h.length||0;c.xIncrement=b;if(f(i))db=i;for(g=rb(Nb(g||[]),function(a){return(new c.pointClass).init(c,a)});k--;)h[k].destroy();c.data=g;c.cleanData();c.getSegments();c.getAttribs();c.isDirty=a;j.isDirtyBox=a;d(l,a)&&j.redraw(e)},remove:function(f,h){var c=this,g=c.chart;f=d(f,a);if(!c.isRemoving){c.isRemoving=a;t(c,"remove",b,function(){c.destroy();g.isDirtyLegend=g.isDirtyBox=a;f&&g.redraw(h)})}c.isRemoving=e},translate:function(){for(var e=this,l=e.chart,m=e.options.stacking,h=e.xAxis.categories,i=e.yAxis,n=e.data,o=n.length;o--;){var a=n[o],c=a.x,g=a.y,d=a.low,k=i.stacks[(g<0?Ab:j)+e.stackKey];a.plotX=e.xAxis.translate(c);if(m&&e.visible&&k&&k[c]){d=k[c];c=d.total;d.cum=d=d.cum-g;g=d+g;if(m==="percent"){d=c?d*Z/c:0;g=c?g*Z/c:0}a.percentage=c?a.y*Z/c:0;a.stackTotal=c}if(f(d))a.yBottom=i.translate(d,0,1,0,1);if(g!==b)a.plotY=i.translate(g,0,1,0,1);a.clientX=l.inverted?l.plotHeight-a.plotX:a.plotX;a.category=h&&h[a.x]!==x?h[a.x]:a.x}},setTooltipPoints:function(l){var d=this,e=d.chart,i=e.inverted,a=[],h=g((i?e.plotTop:e.plotLeft)+e.plotSizeX),f,j,k=[];if(l)d.tooltipPoints=b;c(d.segments,function(b){a=a.concat(b)});if(d.xAxis&&d.xAxis.reversed)a=a.reverse();c(a,function(c,b){f=a[b-1]?a[b-1]._high+1:0;for(j=c._high=a[b+1]?I((c.plotX+(a[b+1]?a[b+1].plotX:h))/2):h;f<=j;)k[i?h-f++:f++]=c});d.tooltipPoints=k},onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;if(!(!cb&&b.mouseIsDown)){c&&c!==a&&c.onMouseOut();a.options.events.mouseOver&&t(a,od);a.tracker&&a.tracker.toFront();a.setState(U);b.hoverSeries=a}},onMouseOut:function(){var a=this,d=a.options,c=a.chart,e=c.tooltip,f=c.hoverPoint;f&&f.onMouseOut();a&&d.events.mouseOut&&t(a,pd);e&&!d.stickyTracking&&e.hide();a.setState();c.hoverSeries=b},animate:function(f){var c=this,g=c.chart,d=c.clipRect,e=c.options.animation;if(e&&!bb(e))e={};if(f){if(!d.isAnimating){d.attr(ob,0);d.isAnimating=a}}else{d.animate({width:g.plotSizeX},e);c.animate=b}},drawPoints:function(){var b=this,e,j=b.data,k=b.chart,f,c,g,a,h,i;if(b.options.marker.enabled)for(g=j.length;g--;){a=j[g];f=a.plotX;c=a.plotY;i=a.graphic;if(c!==x&&!isNaN(c)){e=a.pointAttr[a.selected?nb:E];h=e.r;if(i)i.animate({x:f,y:c,r:h});else a.graphic=k.renderer.symbol(d(a.marker&&a.marker.symbol,b.symbol),f,c,h).attr(e).add(b.group)}}},convertAttribs:function(b,c,e,f){var g=this.pointAttrToOptions,a,h,i={};b=b||{};c=c||{};e=e||{};f=f||{};for(a in g){h=g[a];i[a]=d(b[h],c[a],e[a],f[a])}return i},getAttribs:function(){var b=this,d=N[b.type].marker?b.options.marker:b.options,k=d.states,g=k[U],l,m=b.color,h={stroke:m,fill:m},o=b.data,i=[],j,p=b.pointAttrToOptions,n;if(b.options.marker){g.radius=g.radius||d.radius+2;g.lineWidth=g.lineWidth||d.lineWidth+1}else g.color=g.color||hb(g.color||m).brighten(g.brightness).get();i[E]=b.convertAttribs(d,h);c([U,nb],function(a){i[a]=b.convertAttribs(k[a],i[E])});b.pointAttr=i;for(m=o.length;m--;){h=o[m];if((d=h.options&&h.options.marker||h.options)&&d.enabled===e)d.radius=0;l=e;if(h.options)for(n in p)if(f(d[p[n]]))l=a;if(l){j=[];k=d.states||{};l=k[U]=k[U]||{};if(!b.options.marker)l.color=hb(l.color||h.options.color).brighten(l.brightness||g.brightness).get();j[E]=b.convertAttribs(d,i[E]);j[U]=b.convertAttribs(k[U],i[U],j[E]);j.select=b.convertAttribs(k.select,i.select,j[E])}else j=i;h.pointAttr=j}},destroy:function(){var a=this,d=a.chart,g=/\/5[0-9\.]+ (Safari|Mobile)\//.test(ub),e,f;ab(a);a.legendItem&&a.chart.legend.destroyItem(a);c(a.data,function(a){a.destroy()});c(["area","graph","dataLabelsGroup",Pc,Fc],function(b){if(a[b]){e=g&&b===Pc?Cb:qc;a[b][e]()}});if(d.hoverSeries===a)d.hoverSeries=b;Mb(d.series,a);for(f in a)delete a[f]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var e=this,m,j,t=e.data,a=e.options.dataLabels,n,o=e.dataLabelsGroup,g=e.chart,h=g.inverted,p=e.type,k;k=e.options.stacking;var r=p===ic||p==="bar",s=a.verticalAlign===b,q=a.y===b;if(r)if(k){if(s)a=l(a,{verticalAlign:Db});if(q)a=l(a,{y:({top:14,middle:4,bottom:-6})[a.verticalAlign]})}else{if(s)a=l(a,{verticalAlign:Tb});if(q)a=l(a,{y:-6})}if(!o)o=e.dataLabelsGroup=g.renderer.g("data-labels").attr({visibility:e.visible?Q:D,zIndex:6}).translate(g.plotLeft,g.plotTop).add();k=a.color;if(k===Ec)k=b;a.style.color=d(k,e.color);c(t,function(c){var s=c.barX,q=s&&s+c.barW/2||c.plotX||-999,l=d(c.plotY,-999),k=c.dataLabel,t=a.align;n=a.formatter.call(c.getLabelConfig());m=(h?g.plotWidth-l:q)+a.x;j=(h?g.plotHeight-q:l)+a.y;if(p===ic)m+=({left:u,right:1})[t]*c.barW/2||0;if(k){if(h&&!a.y)j=j+i(k.styles.lineHeight)*.9-k.getBBox().height/2;k.attr({text:n}).animate({x:m,y:j})}else if(f(n)){k=c.dataLabel=g.renderer.text(n,m,j).attr({align:t,rotation:a.rotation,zIndex:1}).css(a.style).add(o);h&&!a.y&&k.attr({y:j+i(k.styles.lineHeight)*.9-k.getBBox().height/2})}if(r&&e.options.stacking){q=c.barY;l=c.barW;c=c.barH;k.align(a,b,{x:h?g.plotWidth-q-c:s,y:h?g.plotHeight-s-l:q,width:h?c:l,height:h?l:c})}})}},drawGraph:function(){var a=this,e=a.options,f=a.graph,g=[],j,k=a.area,l=a.group,s=e.lineColor||a.color,n=e.lineWidth,p=e.dashStyle,b,q=a.chart.renderer,m=a.yAxis.getThreshold(e.threshold||0),i=/^area/.test(a.type),o=[],h=[];c(a.segments,function(d){b=[];c(d,function(c,f){if(a.getPointSpline)b.push.apply(b,a.getPointSpline(d,c,f));else{b.push(f?r:B);f&&e.step&&b.push(c.plotX,d[f-1].plotY);b.push(c.plotX,c.plotY)}});if(d.length>1)g=g.concat(b);else o.push(d[0]);if(i){for(var j=[],k=b.length,f=0;f<k;f++)j.push(b[f]);k===3&&j.push(r,b[1],b[2]);if(e.stacking&&a.type!==qd)for(f=d.length-1;f>=0;f--)j.push(d[f].plotX,d[f].yBottom);else j.push(r,d[d.length-1].plotX,m,r,d[0].plotX,m);h=h.concat(j)}});a.graphPath=g;a.singlePoints=o;if(i){j=d(e.fillColor,hb(a.color).setOpacity(e.fillOpacity||.75).get());if(k)k.animate({d:h});else a.area=a.chart.renderer.path(h).attr({fill:j}).add(l)}if(f)f.animate({d:g});else if(n){f={stroke:s,"stroke-width":n};if(p)f.dashstyle=p;a.graph=q.path(g).attr(f).add(l).shadow(e.shadow)}},render:function(){var b=this,c=b.chart,g,f,j=b.options,h=j.animation,i=h&&b.animate;h=i?h&&h.duration||500:0;var d=b.clipRect;f=c.renderer;if(!d){d=b.clipRect=!c.hasRendered&&c.clipRect?c.clipRect:f.clipRect(0,0,c.plotSizeX,c.plotSizeY);if(!c.clipRect)c.clipRect=d}if(!b.group){g=b.group=f.g("series");if(c.inverted){f=function(){g.attr({width:c.plotWidth,height:c.plotHeight}).invert()};f();v(c,Bb,f)}g.clip(b.clipRect).attr({visibility:b.visible?Q:D,zIndex:j.zIndex}).translate(c.plotLeft,c.plotTop).add(c.seriesGroup)}b.drawDataLabels();i&&b.animate(a);b.drawGraph&&b.drawGraph();b.drawPoints();b.options.enableMouseTracking!==e&&b.drawTracker();i&&b.animate();setTimeout(function(){d.isAnimating=e;if((g=b.group)&&d!==c.clipRect&&d.renderer){g.clip(b.clipRect=c.clipRect);d.destroy()}},h);b.isDirty=e},redraw:function(){var b=this,c=b.chart,d=b.group;if(d){c.inverted&&d.attr({width:c.plotWidth,height:c.plotHeight});d.animate({translateX:c.plotLeft,translateY:c.plotTop})}b.translate();b.setTooltipPoints(a);b.render()},setState:function(a){var c=this,b=c.options,d=c.graph,f=b.states;b=b.lineWidth;a=a||E;if(c.state!==a){c.state=a;if(!(f[a]&&f[a].enabled===e)){if(a)b=f[a].lineWidth||b+1;d&&!d.dashstyle&&d.attr({"stroke-width":b},a?0:500)}}},setVisible:function(i,l){var b=this,f=b.chart,m=b.legendItem,g=b.group,h=b.tracker,j=b.dataLabelsGroup,d,k=b.data,n=f.options.chart.ignoreHiddenSeries;d=b.visible;d=(b.visible=i=i===x?!d:i)?Xb:Cb;g&&g[d]();if(h)h[d]();else for(g=k.length;g--;){h=k[g];h.tracker&&h.tracker[d]()}j&&j[d]();m&&f.legend.colorizeItem(b,i);b.isDirty=a;b.options.stacking&&c(f.series,function(b){if(b.options.stacking&&b.visible)b.isDirty=a});if(n)f.isDirtyBox=a;l!==e&&f.redraw();t(b,d)},show:function(){this.setVisible(a)},hide:function(){this.setVisible(e)},select:function(b){var a=this;a.selected=b=b===x?!a.selected:b;if(a.checkbox)a.checkbox.checked=b;t(a,b?nb:mc)},drawTracker:function(){var d=this,i=d.options,c=[].concat(d.graphPath),e=c.length,g=d.chart,f=g.options.tooltip.snap,j=d.tracker,h=i.cursor;h=h&&{cursor:h};var k=d.singlePoints,b;if(e)for(b=e+1;b--;){c[b]===B&&c.splice(b+1,0,c[b+1]-f,c[b+2],r);(b&&c[b]===B||b===e)&&c.splice(b,0,r,c[b-2]+f,c[b-1])}for(b=0;b<k.length;b++){e=k[b];c.push(B,e.plotX-f,e.plotY,r,e.plotX+f,e.plotY)}if(j)j.attr({d:c});else d.tracker=g.renderer.path(c).attr({isTracker:a,stroke:id,fill:H,"stroke-width":i.lineWidth+2*f,visibility:d.visible?Q:D,zIndex:1}).on(cb?Sb:sc,function(){g.hoverSeries!==d&&d.onMouseOver()}).on(uc,function(){i.stickyTracking||d.onMouseOut()}).css(h).add(g.trackerGroup)}};h=W(L);R.line=h;h=W(L,{type:"area"});R.area=h;h=W(L,{type:"spline",getPointSpline:function(e,h,k){var i=h.plotX,a=h.plotY,f=e[k-1],g=e[k+1],m,d,j,c;if(k&&k<e.length-1){e=f.plotY;j=g.plotX;g=g.plotY;var l;m=(1.5*i+f.plotX)/2.5;d=(1.5*a+e)/2.5;j=(1.5*i+j)/2.5;c=(1.5*a+g)/2.5;l=(c-d)*(j-i)/(j-m)+a-c;d+=l;c+=l;if(d>e&&d>a){d=p(e,a);c=2*a-d}else if(d<e&&d<a){d=O(e,a);c=2*a-d}if(c>g&&c>a){c=p(g,a);d=2*a-c}else if(c<g&&c<a){c=O(g,a);d=2*a-c}h.rightContX=j;h.rightContY=c}if(k){h=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,m||i,d||a,i,a];f.rightContX=f.rightContY=b}else h=[B,i,a];return h}});R.spline=h;h=W(h,{type:qd});R.areaspline=h;var ac=W(L,{type:ic,pointAttrToOptions:{stroke:Sc,"stroke-width":Tc,fill:"color",r:"borderRadius"},init:function(){L.prototype.init.apply(this,arguments);var d=this,b=d.chart;b.hasColumn=a;b.hasRendered&&c(b.series,function(b){if(b.type===d.type)b.isDirty=a})},translate:function(){var a=this,r=a.chart,b=a.options,D=b.stacking,z=b.borderWidth,n=0,A=a.xAxis.reversed,e=a.xAxis.categories,s={},o,v;L.prototype.translate.apply(a);c(r.series,function(b){if(b.type===a.type&&b.visible){if(b.options.stacking){o=b.stackKey;if(s[o]===x)s[o]=n++;v=s[o]}else v=n++;b.columnIndex=v}});var m=a.data,h=a.closestPoints;e=C(m[1]?m[h].plotX-m[h-1].plotX:r.plotSizeX/(e&&e.length||1));h=e*b.groupPadding;var i=(e-2*h)/n,t=b.pointWidth,y=f(t)?(i-t)/2:i*b.pointPadding,w=p(d(t,i-2*y),1),B=y+(h+((A?n-a.columnIndex:a.columnIndex)||0)*i-e/2)*(A?u:1),q=a.yAxis.getThreshold(b.threshold||0),g=d(b.minPointLength,5);c(m,function(c){var d=c.plotY,n=c.yBottom||q,o=c.plotX+B,e=Qc(O(d,n)),h=Qc(p(d,n)-e),m=a.yAxis.stacks[(c.y<0?Ab:j)+a.stackKey],i;D&&a.visible&&m&&m[c.x]&&m[c.x].setOffset(B,w);if(C(h)<g){if(g){h=g;e=C(e-q)>g?n-g:q-(d<=q?g:0)}i=e-3}k(c,{barX:o,barY:e,barW:w,barH:h});c.shapeType=kc;d=k(r.renderer.Element.prototype.crisp.apply({},[z,o,e,w,h]),{r:b.borderRadius});if(z%2){d.y-=1;d.height+=1}c.shapeArgs=d;c.trackerArgs=f(i)&&l(c.shapeArgs,{height:p(6,h+3),y:i})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var a=this,f=a.options,g=a.chart.renderer,d,e;c(a.data,function(c){var h=c.plotY;if(h!==x&&!isNaN(h)&&c.y!==b){d=c.graphic;e=c.shapeArgs;if(d){pc(d);d.animate(e)}else c.graphic=g[c.shapeType](e).attr(c.pointAttr[c.selected?nb:E]).add(a.group).shadow(f.shadow)}})},drawTracker:function(){var a=this,f=a.chart,j=f.renderer,d,g,h=+new Date,i=a.options.cursor,k=i&&{cursor:i},e;c(a.data,function(c){g=c.tracker;d=c.trackerArgs||c.shapeArgs;delete d.strokeWidth;if(c.y!==b)if(g)g.attr(d);else c.tracker=j[c.shapeType](d).attr({isTracker:h,fill:id,visibility:a.visible?Q:D,zIndex:1}).on(cb?Sb:sc,function(b){e=b.relatedTarget||b.fromElement;f.hoverSeries!==a&&q(e,Rb)!==h&&a.onMouseOver();c.onMouseOver()}).on(uc,function(b){if(!a.options.stickyTracking){e=b.relatedTarget||b.toElement;q(e,Rb)!==h&&a.onMouseOut()}}).css(k).add(c.group||f.trackerGroup)})},animate:function(d){var a=this,e=a.data;if(!d){c(e,function(b){var c=b.graphic;b=b.shapeArgs;if(c){c.attr({height:0,y:a.yAxis.translate(0,0,1)});c.animate({height:b.height,y:b.y},a.options.animation)}});a.animate=b}},remove:function(){var b=this,d=b.chart;d.hasRendered&&c(d.series,function(c){if(c.type===b.type)c.isDirty=a});L.prototype.remove.apply(b,arguments)}});R.column=ac;h=W(ac,{type:"bar",init:function(b){b.inverted=this.inverted=a;ac.prototype.init.apply(this,arguments)}});R.bar=h;h=W(L,{type:"scatter",translate:function(){var a=this;L.prototype.translate.apply(a);c(a.data,function(b){b.shapeType=vb;b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){var b=this,d=b.options.cursor,f=d&&{cursor:d},e;c(b.data,function(c){(e=c.graphic)&&e.attr({isTracker:a}).on(sc,function(){b.onMouseOver();c.onMouseOver()}).on(uc,function(){b.options.stickyTracking||b.onMouseOut()}).css(f)})},cleanData:function(){}});R.scatter=h;h=W(Kb,{init:function(){Kb.prototype.init.apply(this,arguments);var a=this,b;k(a,{visible:a.visible!==e,name:d(a.name,"Slice")});b=function(){a.slice()};v(a,nb,b);v(a,mc,b);return a},setVisible:function(c){var a=this,g=a.series.chart,d=a.tracker,e=a.dataLabel,f=a.connector,b;b=(a.visible=c=c===x?!a.visible:c)?Xb:Cb;a.group[b]();d&&d[b]();e&&e[b]();f&&f[b]();a.legendItem&&g.legend.colorizeItem(a,c)},slice:function(b,h,i){var c=this,e=c.series.chart,g=c.slicedTranslation;qb(i,e);d(h,a);b=c.sliced=f(b)?b:!c.sliced;b={translateX:b?g[0]:e.plotLeft,translateY:b?g[1]:e.plotTop};c.group.animate(b);c.shadowGroup&&c.shadowGroup.animate(b)}});h=W(L,{type:"pie",isCartesian:e,pointClass:h,pointAttrToOptions:{stroke:Sc,"stroke-width":Tc,fill:"color"},getColor:function(){this.initialColor=db},animate:function(){var a=this;c(a.data,function(b){var c=b.graphic;b=b.shapeArgs;var d=-kb/2;if(c){c.attr({r:0,start:d,end:d});c.animate({r:b.r,start:b.start,end:b.end},a.options.animation)}});a.animate=b},translate:function(){var d=this,k=0,o=-.25,e=d.options,p=e.slicedOffset,t=p+e.borderWidth,a=e.center.concat([e.size,e.innerSize||0]),l=d.chart,w=l.plotWidth,x=l.plotHeight,r,s,b,v=d.data,n=2*kb,q,y=O(w,x),z,h,f,j=e.dataLabels.distance;a=rb(a,function(a,b){return(z=/%$/.test(a))?([w,x,y,y])[b]*i(a)/Z:a});d.getX=function(c,d){b=m.asin((c-a[1])/(a[2]/2+j));return a[0]+(d?u:1)*J(b)*(a[2]/2+j)};d.center=a;c(v,function(a){k+=a.y});c(v,function(c){q=k?c.y/k:0;r=g(o*n*gb)/gb;o+=q;s=g(o*n*gb)/gb;c.shapeType="arc";c.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:r,end:s};b=(s+r)/2;c.slicedTranslation=rb([J(b)*p+l.plotLeft,V(b)*p+l.plotTop],g);h=J(b)*a[2]/2;f=V(b)*a[2]/2;c.tooltipPos=[a[0]+h*.7,a[1]+f*.7];c.labelPos=[a[0]+h+J(b)*j,a[1]+f+V(b)*j,a[0]+h+J(b)*t,a[1]+f+V(b)*t,a[0]+h,a[1]+f,j<0?Y:b<n/4?F:T,b];c.percentage=q*Z;c.total=k});d.setTooltipPoints()},render:function(){var a=this;a.drawPoints();a.options.enableMouseTracking!==e&&a.drawTracker();a.drawDataLabels();a.options.animation&&a.animate&&a.animate();a.isDirty=e},drawPoints:function(){var f=this.chart,g=f.renderer,b,h,d,j=this.options.shadow,a,i;c(this.data,function(c){h=c.graphic;i=c.shapeArgs;d=c.group;a=c.shadowGroup;if(j&&!a)a=c.shadowGroup=g.g("shadow").attr({zIndex:4}).add();if(!d)d=c.group=g.g(cc).attr({zIndex:5}).add();b=c.sliced?c.slicedTranslation:[f.plotLeft,f.plotTop];d.translate(b[0],b[1]);a&&a.translate(b[0],b[1]);if(h)h.animate(i);else c.graphic=g.arc(i).attr(k(c.pointAttr[E],{"stroke-linejoin":"round"})).add(c.group).shadow(j,a);c.visible===e&&c.setVisible(e)})},drawDataLabels:function(){var k=this,w=k.data,f,C=k.chart,m=k.options.dataLabels,G=d(m.connectorPadding,n),x=d(m.connectorWidth,1),g,b,y=m.distance>0,l,v,E=k.center[1],o=[[],[],[],[]],t,h,i,s,z,q,A,p=4,j;L.prototype.drawDataLabels.apply(k);c(w,function(b){var a=b.labelPos[7];o[a<0?0:a<kb/2?1:a<kb?2:3].push(b)});o[1].reverse();o[3].reverse();for(A=function(b,a){return b.y>a.y};p--;){w=0;f=[].concat(o[p]);f.sort(A);for(j=f.length;j--;)f[j].rank=j;for(s=0;s<2;s++){v=(q=p%3)?9999:-9999;z=q?u:1;for(j=0;j<o[p].length;j++){f=o[p][j];if(g=f.dataLabel){b=f.labelPos;i=Q;t=b[0];h=b[1];l||(l=g&&g.getBBox().height);if(y)if(s&&f.rank<w)i=D;else if(!q&&h<v+l||q&&h>v-l){h=v+z*l;t=k.getX(h,p>1);if(!q&&h+l>E||q&&h-l<E)if(s)i=D;else w++}if(f.visible===e)i=D;if(i===Q)v=h;if(s){g.attr({visibility:i,align:b[6]})[g.moved?Ub:Vb]({x:t+m.x+(({left:G,right:-G})[b[6]]||0),y:h+m.y});g.moved=a;if(y&&x){g=f.connector;b=[B,t+(b[6]===F?5:-5),h,r,t,h,r,b[2],b[3],r,b[4],b[5]];if(g){g.animate({d:b});g.attr(Gb,i)}else f.connector=g=k.chart.renderer.path(b).attr({"stroke-width":x,stroke:m.connectorColor||"#606060",visibility:i,zIndex:3}).translate(C.plotLeft,C.plotTop).add()}}}}}}},drawTracker:ac.prototype.drawTracker,getSymbol:function(){}});R.pie=h;A.Highcharts={Chart:ad,dateFormat:oc,pathAnim:Yb,getOptions:function(){return y},numberFormat:Uc,Point:Kb,Color:hb,Renderer:tc,seriesTypes:R,setOptions:function(a){y=l(y,a);Vc();return y},Series:L,addEvent:v,createElement:G,discardElement:hc,css:s,each:c,extend:k,map:rb,merge:l,pick:d,extendClass:W,version:"2.1.5"}})();if(!this.JSON)JSON=function(){var g="number",f="function",c="object",e="string";function d(a){return a<10?"0"+a:a}Date.prototype.toJSON=function(){var a=this;return a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+"Z"};var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,h,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b;function k(a){j.lastIndex=0;return j.test(a)?'"'+a.replace(j,function(a){var b=m[a];return typeof b===e?b:"\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4)})+'"':'"'+a+'"'}function i(r,s){var o="null",m,n,l,p,q=a,j,d=s[r];if(d&&typeof d===c&&typeof d.toJSON===f)d=d.toJSON(r);if(typeof b===f)d=b.call(s,r,d);switch(typeof d){case e:return k(d);case g:return isFinite(d)?String(d):o;case"boolean":case o:return String(d);case c:if(!d)return o;a+=h;j=[];if(typeof d.length===g&&!d.propertyIsEnumerable("length")){p=d.length;for(m=0;m<p;m+=1)j[m]=i(m,d)||o;l=j.length===0?"[]":a?"[\n"+a+j.join(",\n"+a)+"\n"+q+"]":"["+j.join(",")+"]";a=q;return l}if(b&&typeof b===c){p=b.length;for(m=0;m<p;m+=1){n=b[m];if(typeof n===e){l=i(n,d,b);l&&j.push(k(n)+(a?": ":":")+l)}}}else for(n in d)if(Object.hasOwnProperty.call(d,n)){l=i(n,d,b);l&&j.push(k(n)+(a?": ":":")+l)}l=j.length===0?"{}":a?"{\n"+a+j.join(",\n"+a)+"\n"+q+"}":"{"+j.join(",")+"}";a=q;return l}}return{stringify:function(l,d,j){var k;a="";h="";if(typeof j===g)for(k=0;k<j;k+=1)h+=" ";else if(typeof j===e)h=j;b=d;if(d&&typeof d!==f&&(typeof d!==c||typeof d.length!==g))throw new Error("JSON.stringify");return i("",{"":l})},parse:function(a,d){var b;function e(g,h){var b,f,a=g[h];if(a&&typeof a===c)for(b in a)if(Object.hasOwnProperty.call(a,b)){f=e(a,b);if(f!==undefined)a[b]=f;else delete a[b]}return d.call(g,h,a)}l.lastIndex=0;if(l.test(a))a=a.replace(l,function(a){return"\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){b=eval("("+a+")");return typeof d===f?e({"":b},""):b}throw new SyntaxError("JSON.parse");}}}();(function(f,d,h,b){var e="object",c="function",a=true,g=a;!function(a){if(typeof require===c&&typeof exports===e&&typeof module===e){var b=module.exports||exports;a(b)}else if(typeof define===c&&define.amd)define(["exports"],a);else a(f.ko={})}(function(K){var E="retained",G="isRewritten",q="if",v="with",F="focusout",u="select",t="value",o="option",p="number",D="beforeChange",A="change",B="none",m="string",C="textarea",l="",j=null,y="radio",x="checkbox",k=false,s="input",w="div",z="click",n="undefined",i=typeof K!==n?K:{};i.exportSymbol=function(d,e){for(var a=d.split("."),b=i,c=0;c<a.length-1;c++)b=b[a[c]];b[a[a.length-1]]=e};i.exportProperty=function(c,a,b){c[a]=b};i.version="2.1.0";i.exportSymbol("version",i.version);i.utils=new function(){var A=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,o={},t={},v=/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents";o[v]=["keyup","keydown","keypress"];o.MouseEvents=[z,"dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var u in o){var q=o[u];if(q.length)for(var r=0,F=q.length;r<F;r++)t[q[r]]=u}var G={propertychange:a},g=function(){var a=3,c=d.createElement(w),e=c.getElementsByTagName("i");while(c.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",e[0]);return a>4?a:b}(),D=g===6,E=g===7;function p(a,c){if(i.utils.tagNameLower(a)!==s||!a.type)return k;if(c.toLowerCase()!=z)return k;var b=a.type;return b==x||b==y}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(b,c){for(var a=0,d=b.length;a<d;a++)c(b[a])},arrayIndexOf:function(b,d){if(typeof Array.prototype.indexOf==c)return Array.prototype.indexOf.call(b,d);for(var a=0,e=b.length;a<e;a++)if(b[a]===d)return a;return-1},arrayFirst:function(b,d,c){for(var a=0,e=b.length;a<e;a++)if(d.call(c,b[a]))return b[a];return j},arrayRemoveItem:function(a,c){var b=i.utils.arrayIndexOf(a,c);b>=0&&a.splice(b,1)},arrayGetDistinctValues:function(a){a=a||[];for(var c=[],b=0,d=a.length;b<d;b++)i.utils.arrayIndexOf(c,a[b])<0&&c.push(a[b]);return c},arrayMap:function(a,d){a=a||[];for(var c=[],b=0,e=a.length;b<e;b++)c.push(d(a[b]));return c},arrayFilter:function(a,d){a=a||[];for(var c=[],b=0,e=a.length;b<e;b++)d(a[b])&&c.push(a[b]);return c},arrayPushAll:function(b,a){if(a instanceof Array)b.push.apply(b,a);else for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},extend:function(c,a){if(a)for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b];return c},emptyDomNode:function(a){while(a.firstChild)i.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var b=i.utils.makeArray(e),c=d.createElement(w),a=0,f=b.length;a<f;a++){i.cleanNode(b[a]);c.appendChild(b[a])}return c},setDomNodeChildren:function(c,a){i.utils.emptyDomNode(c);if(a)for(var b=0,d=a.length;b<d;b++)c.appendChild(a[b])},replaceDomNodes:function(c,e){var b=c.nodeType?[c]:c;if(b.length>0){for(var d=b[0],g=d.parentNode,a=0,f=e.length;a<f;a++)g.insertBefore(e[a],d);for(var a=0,f=b.length;a<f;a++)i.removeNode(b[a])}},setOptionNodeSelectionState:function(b,a){if(h.userAgent.indexOf("MSIE 6")>=0)b.setAttribute("selected",a);else b.selected=a},stringTrim:function(a){return(a||l).replace(A,l)},stringTokenize:function(f,e){for(var c=[],d=(f||l).split(e),a=0,g=d.length;a<g;a++){var b=i.utils.stringTrim(d[a]);b!==l&&c.push(b)}return c},stringStartsWith:function(a,b){a=a||l;return b.length>a.length?k:a.substring(0,b.length)===b},buildEvalWithinScopeFunction:function(d,c){for(var a="return ("+d+")",b=0;b<c;b++)a="with(sc["+b+"]) { "+a+" } ";return new Function("sc",a)},domNodeIsContainedBy:function(b,c){if(c.compareDocumentPosition)return(c.compareDocumentPosition(b)&16)==16;while(b!=j){if(b==c)return a;b=b.parentNode}return k},domNodeIsAttachedToDocument:function(a){return i.utils.domNodeIsContainedBy(a,a.ownerDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(b,d,e){var f=g&&G[d];if(!f&&typeof jQuery!=n){if(p(b,d)){var h=e;e=function(e,c){var b=this,d=b.checked;if(c)b.checked=c.checkedStateBeforeEvent!==a;h.call(b,e);b.checked=d}}jQuery(b).bind(d,e)}else if(!f&&typeof b.addEventListener==c)b.addEventListener(d,e,k);else if(typeof b.attachEvent!=n)b.attachEvent("on"+d,function(a){e.call(b,a)});else throw new Error("Browser doesn't support addEventListener or attachEvent");},triggerEvent:function(b,e){if(!(b&&b.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!=n){var g=[];p(b,e)&&g.push({checkedStateBeforeEvent:b.checked});jQuery(b).trigger(e,g)}else if(typeof d.createEvent==c)if(typeof b.dispatchEvent==c){var i=t[e]||"HTMLEvents",h=d.createEvent(i);h.initEvent(e,a,a,f,0,0,0,0,0,k,k,k,k,0,b);b.dispatchEvent(h)}else throw new Error("The supplied element doesn't support dispatchEvent");else if(typeof b.fireEvent!=n){if(p(b,e))b.checked=b.checked!==a;b.fireEvent("on"+e)}else throw new Error("Browser doesn't support triggering events");},unwrapObservable:function(a){return i.isObservable(a)?a():a},toggleDomNodeCssClass:function(d,c,e){var a=(d.className||l).split(/\s+/),g=i.utils.arrayIndexOf(a,c)>=0;if(e&&!g)d.className+=(a[0]?" ":l)+c;else if(g&&!e){for(var f=l,b=0;b<a.length;b++)if(a[b]!=c)f+=a[b]+" ";d.className=i.utils.stringTrim(f)}},setTextContent:function(a,d){var c=i.utils.unwrapObservable(d);if(c===j||c===b)c=l;"innerText"in a?(a.innerText=c):(a.textContent=c);if(g>=9)a.style.display=a.style.display},ensureSelectElementIsRenderedCorrectly:function(a){if(g>=9){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,a){b=i.utils.unwrapObservable(b);a=i.utils.unwrapObservable(a);for(var d=[],c=b;c<=a;c++)d.push(c);return d},makeArray:function(b){for(var c=[],a=0,d=b.length;a<d;a++)c.push(b[a]);return c},isIe6:D,isIe7:E,ieVersion:g,getFormFields:function(e,b){for(var c=i.utils.makeArray(e.getElementsByTagName(s)).concat(i.utils.makeArray(e.getElementsByTagName(C))),f=typeof b==m?function(a){return a.name===b}:function(a){return b.test(a.name)},d=[],a=c.length-1;a>=0;a--)f(c[a])&&d.push(c[a]);return d},parseJson:function(a){if(typeof a==m){a=i.utils.stringTrim(a);if(a)return f.JSON&&f.JSON.parse?f.JSON.parse(a):new Function("return "+a)()}return j},stringifyJson:function(c,a,b){if(typeof JSON==n||typeof JSON.stringify==n)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(i.utils.unwrapObservable(c),a,b)},postJson:function(f,g,b){b=b||{};var l=b.params||{},n=b.includeFields||this.fieldsIncludedWithJsonPost,p=f;if(typeof f==e&&i.utils.tagNameLower(f)==="form"){var o=f;p=o.action;for(var m=n.length-1;m>=0;m--)for(var k=i.utils.getFormFields(o,n[m]),j=k.length-1;j>=0;j--)l[k[j].name]=k[j].value}g=i.utils.unwrapObservable(g);var a=d.createElement("form");a.style.display=B;a.action=p;a.method="post";for(var h in g){var c=d.createElement(s);c.name=h;c.value=i.utils.stringifyJson(i.utils.unwrapObservable(g[h]));a.appendChild(c)}for(var h in l){var c=d.createElement(s);c.name=h;c.value=l[h];a.appendChild(c)}d.body.appendChild(a);b.submitter?b.submitter(a):a.submit();setTimeout(function(){a.parentNode.removeChild(a)},0)}}};i.exportSymbol("utils",i.utils);i.exportSymbol("utils.arrayForEach",i.utils.arrayForEach);i.exportSymbol("utils.arrayFirst",i.utils.arrayFirst);i.exportSymbol("utils.arrayFilter",i.utils.arrayFilter);i.exportSymbol("utils.arrayGetDistinctValues",i.utils.arrayGetDistinctValues);i.exportSymbol("utils.arrayIndexOf",i.utils.arrayIndexOf);i.exportSymbol("utils.arrayMap",i.utils.arrayMap);i.exportSymbol("utils.arrayPushAll",i.utils.arrayPushAll);i.exportSymbol("utils.arrayRemoveItem",i.utils.arrayRemoveItem);i.exportSymbol("utils.extend",i.utils.extend);i.exportSymbol("utils.fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost);i.exportSymbol("utils.getFormFields",i.utils.getFormFields);i.exportSymbol("utils.postJson",i.utils.postJson);i.exportSymbol("utils.parseJson",i.utils.parseJson);i.exportSymbol("utils.registerEventHandler",i.utils.registerEventHandler);i.exportSymbol("utils.stringifyJson",i.utils.stringifyJson);i.exportSymbol("utils.range",i.utils.range);i.exportSymbol("utils.toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass);i.exportSymbol("utils.triggerEvent",i.utils.triggerEvent);i.exportSymbol("utils.unwrapObservable",i.utils.unwrapObservable);if(!Function.prototype.bind)Function.prototype.bind=function(c){var b=this,a=Array.prototype.slice.call(arguments),c=a.shift();return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}};i.utils.domData=new function(){var e=0,c="__ko__"+(new Date).getTime(),d={};return{"get":function(c,d){var a=i.utils.domData.getAll(c,k);return a===b?b:a[d]},"set":function(d,f,c){if(c===b)if(i.utils.domData.getAll(d,k)===b)return;var e=i.utils.domData.getAll(d,a);e[f]=c},getAll:function(f,h){var a=f[c],g=a&&a!=="null";if(!g){if(!h)return b;a=f[c]="ko"+e++;d[a]={}}return d[a]},clear:function(b){var a=b[c];if(a){delete d[a];b[c]=j}}}};i.exportSymbol("utils.domData",i.utils.domData);i.exportSymbol("utils.domData.clear",i.utils.domData.clear);i.utils.domNodeDisposal=new function(){var f="__ko_domNodeDisposal__"+(new Date).getTime(),l={1:a,8:a,9:a},g={1:a,9:a};function d(c,d){var a=i.utils.domData.get(c,f);if(a===b&&d){a=[];i.utils.domData.set(c,f,a)}return a}function j(a){i.utils.domData.set(a,f,b)}function e(a){var b=d(a,k);if(b){b=b.slice(0);for(var e=0;e<b.length;e++)b[e](a)}i.utils.domData.clear(a);typeof jQuery==c&&typeof jQuery.cleanData==c&&jQuery.cleanData([a]);g[a.nodeType]&&h(a)}function h(c){var a,b=c.firstChild;while(a=b){b=a.nextSibling;a.nodeType===8&&e(a)}}return{addDisposeCallback:function(e,b){if(typeof b!=c)throw new Error("Callback must be a function");d(e,a).push(b)},removeDisposeCallback:function(b,c){var a=d(b,k);if(a){i.utils.arrayRemoveItem(a,c);a.length==0&&j(b)}},cleanNode:function(a){if(l[a.nodeType]){e(a);if(g[a.nodeType]){var b=[];i.utils.arrayPushAll(b,a.getElementsByTagName("*"));for(var c=0,d=b.length;c<d;c++)e(b[c])}}},removeNode:function(a){i.cleanNode(a);a.parentNode&&a.parentNode.removeChild(a)}}};i.cleanNode=i.utils.domNodeDisposal.cleanNode;i.removeNode=i.utils.domNodeDisposal.removeNode;i.exportSymbol("cleanNode",i.cleanNode);i.exportSymbol("removeNode",i.removeNode);i.exportSymbol("utils.domNodeDisposal",i.utils.domNodeDisposal);i.exportSymbol("utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback);i.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback);(function(){var g=/^(\s*)<!--(.*?)-->/;function e(h){var b=i.utils.stringTrim(h).toLowerCase(),a=d.createElement(w),e=b.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!b.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!b.indexOf("<td")||!b.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,l,l],g="ignored<div>"+e[1]+h+e[2]+"</div>";if(typeof f.innerShiv==c)a.appendChild(f.innerShiv(g));else a.innerHTML=g;while(e[0]--)a=a.lastChild;return i.utils.makeArray(a.lastChild.childNodes)}function a(c){var b=jQuery.clean([c]);if(b&&b[0]){var a=b[0];while(a.parentNode&&a.parentNode.nodeType!==11)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}return b}i.utils.parseHtmlFragment=function(b){return typeof jQuery!=n?a(b):e(b)};i.utils.setHtml=function(c,a){i.utils.emptyDomNode(c);if(a!==j&&a!==b){if(typeof a!=m)a=a.toString();if(typeof jQuery!=n)jQuery(c).html(a);else for(var e=i.utils.parseHtmlFragment(a),d=0;d<e.length;d++)c.appendChild(e[d])}}})();i.exportSymbol("utils.parseHtmlFragment",i.utils.parseHtmlFragment);i.exportSymbol("utils.setHtml",i.utils.setHtml);i.memoization=function(){var d={};function e(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function g(){return e()+e()}function f(a,c){if(!a)return;if(a.nodeType==8){var e=i.memoization.parseMemoText(a.nodeValue);e!=j&&c.push({domNode:a,memoId:e})}else if(a.nodeType==1)for(var b=0,d=a.childNodes,g=d.length;b<g;b++)f(d[b],c)}return{memoize:function(a){if(typeof a!=c)throw new Error("You can only pass a function to ko.memoization.memoize()");var b=g();d[b]=a;return"<!--[ko_memo:"+b+"]-->"},unmemoize:function(c,f){var e=d[c];if(e===b)throw new Error("Couldn't find any memo with ID "+c+". Perhaps it's already been unmemoized.");try{e.apply(j,f||[]);return a}finally{delete d[c]}},unmemoizeDomNodeAndDescendants:function(g,d){var b=[];f(g,b);for(var c=0,h=b.length;c<h;c++){var a=b[c].domNode,e=[a];d&&i.utils.arrayPushAll(e,d);i.memoization.unmemoize(b[c].memoId,e);a.nodeValue=l;a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(b){var a=b.match(/^\[ko_memo\:(.*?)\]$/);return a?a[1]:j}}}();i.exportSymbol("memoization",i.memoization);i.exportSymbol("memoization.memoize",i.memoization.memoize);i.exportSymbol("memoization.unmemoize",i.memoization.unmemoize);i.exportSymbol("memoization.parseMemoText",i.memoization.parseMemoText);i.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants);i.extenders={throttle:function(a,c){a.throttleEvaluation=c;var b=j;return i.dependentObservable({read:a,write:function(d){clearTimeout(b);b=setTimeout(function(){a(d)},c)}})},notify:function(a,b){a.equalityComparer=b=="always"?function(){return k}:i.observable.fn.equalityComparer;return a}};function N(a){var b=this;if(a)for(var e in a){var d=i.extenders[e];if(typeof d==c)b=d(b,a[e])}return b}i.exportSymbol("extenders",i.extenders);i.subscription=function(d,c,b){var a=this;a.target=d;a.callback=c;a.disposeCallback=b;i.exportProperty(a,"dispose",a.dispose)};i.subscription.prototype.dispose=function(){this.isDisposed=a;this.disposeCallback()};i.subscribable=function(){var a=this;a._subscriptions={};i.utils.extend(a,i.subscribable.fn);i.exportProperty(a,"subscribe",a.subscribe);i.exportProperty(a,"extend",a.extend);i.exportProperty(a,"getSubscriptionsCount",a.getSubscriptionsCount)};var J=A;i.subscribable.fn={subscribe:function(e,d,a){var b=this;a=a||J;var f=d?e.bind(d):e,c=new i.subscription(b,f,function(){i.utils.arrayRemoveItem(this._subscriptions[a],c)}.bind(b));if(!b._subscriptions[a])b._subscriptions[a]=[];b._subscriptions[a].push(c);return c},notifySubscribers:function(c,b){b=b||J;this._subscriptions[b]&&i.utils.arrayForEach(this._subscriptions[b].slice(0),function(b){b&&b.isDisposed!==a&&b.callback(c)})},getSubscriptionsCount:function(){var b=0;for(var a in this._subscriptions)if(this._subscriptions.hasOwnProperty(a))b+=this._subscriptions[a].length;return b},extend:N};i.isSubscribable=function(a){return typeof a.subscribe==c&&typeof a.notifySubscribers==c};i.exportSymbol("subscribable",i.subscribable);i.exportSymbol("isSubscribable",i.isSubscribable);i.dependencyDetection=function(){var a=[];return{begin:function(b){a.push({callback:b,distinctDependencies:[]})},end:function(){a.pop()},registerDependency:function(b){if(!i.isSubscribable(b))throw new Error("Only subscribable things can act as dependencies");if(a.length>0){var c=a[a.length-1];if(i.utils.arrayIndexOf(c.distinctDependencies,b)>=0)return;c.distinctDependencies.push(b);c.callback(b)}}}}();var O={undefined:a,"boolean":a,number:a,string:a};i.observable=function(c){var b=c;function a(){if(arguments.length>0){if(!a.equalityComparer||!a.equalityComparer(b,arguments[0])){a.valueWillMutate();b=arguments[0];if(g)a._latestValue=b;a.valueHasMutated()}return this}else{i.dependencyDetection.registerDependency(a);return b}}if(g)a._latestValue=b;i.subscribable.call(a);a.valueHasMutated=function(){a.notifySubscribers(b)};a.valueWillMutate=function(){a.notifySubscribers(b,D)};i.utils.extend(a,i.observable.fn);i.exportProperty(a,"valueHasMutated",a.valueHasMutated);i.exportProperty(a,"valueWillMutate",a.valueWillMutate);return a};i.observable.fn={equalityComparer:function(a,c){var b=a===j||typeof a in O;return b?a===c:k}};var r=i.observable.protoProperty="__ko_proto__";i.observable.fn[r]=i.observable;i.hasPrototype=function(c,d){return c===j||c===b||c[r]===b?k:c[r]===d?a:i.hasPrototype(c[r],d)};i.isObservable=function(a){return i.hasPrototype(a,i.observable)};i.isWriteableObservable=function(b){return typeof b==c&&b[r]===i.observable?a:typeof b==c&&b[r]===i.dependentObservable&&b.hasWriteFunction?a:k};i.exportSymbol("observable",i.observable);i.exportSymbol("isObservable",i.isObservable);i.exportSymbol("isWriteableObservable",i.isWriteableObservable);i.observableArray=function(a){if(arguments.length==0)a=[];if(a!==j&&a!==b&&!("length"in a))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var c=i.observable(a);i.utils.extend(c,i.observableArray.fn);return c};i.observableArray.fn={remove:function(d){for(var e=this(),b=[],g=typeof d==c?d:function(a){return a===d},a=0;a<e.length;a++){var f=e[a];if(g(f)){b.length===0&&this.valueWillMutate();b.push(f);e.splice(a,1);a--}}b.length&&this.valueHasMutated();return b},removeAll:function(d){var a=this;if(d===b){var c=a(),e=c.slice(0);a.valueWillMutate();c.splice(0,c.length);a.valueHasMutated();return e}return!d?[]:a.remove(function(a){return i.utils.arrayIndexOf(d,a)>=0})},destroy:function(d){var e=this(),f=typeof d==c?d:function(a){return a===d};this.valueWillMutate();for(var b=e.length-1;b>=0;b--){var g=e[b];if(f(g))e[b]._destroy=a}this.valueHasMutated()},destroyAll:function(c){return c===b?this.destroy(function(){return a}):!c?[]:this.destroy(function(a){return i.utils.arrayIndexOf(c,a)>=0})},indexOf:function(b){var a=this();return i.utils.arrayIndexOf(a,b)},replace:function(d,c){var a=this,b=a.indexOf(d);if(b>=0){a.valueWillMutate();a()[b]=c;a.valueHasMutated()}}};i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){i.observableArray.fn[a]=function(){var b=this();this.valueWillMutate();var c=b[a].apply(b,arguments);this.valueHasMutated();return c}});i.utils.arrayForEach(["slice"],function(a){i.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});i.exportSymbol("observableArray",i.observableArray);i.dependentObservable=function(A,o,f){var m,r=k,s=k,h=A;if(h&&typeof h==e){f=h;h=f.read}else{f=f||{};if(!h)h=f.read}if(typeof h!=c)throw new Error("Pass a function that returns the value of the ko.computed");var w=f.write;if(!o)o=f.owner;var l=[];function u(){i.utils.arrayForEach(l,function(a){a.dispose()});l=[]}var q=u,n=typeof f.disposeWhenNodeIsRemoved==e?f.disposeWhenNodeIsRemoved:j,t=f.disposeWhen||function(){return k};if(n){q=function(){i.utils.domNodeDisposal.removeDisposeCallback(n,arguments.callee);u()};i.utils.domNodeDisposal.addDisposeCallback(n,q);var z=t;t=function(){return!i.utils.domNodeIsAttachedToDocument(n)||z()}}var v=j;function B(){var a=d.throttleEvaluation;if(a&&a>=0){clearTimeout(v);v=setTimeout(p,a)}else p()}function p(){if(s)return;if(r&&t()){q();return}s=a;try{var c=i.utils.arrayMap(l,function(a){return a.target});i.dependencyDetection.begin(function(a){var d;if((d=i.utils.arrayIndexOf(c,a))>=0)c[d]=b;else l.push(a.subscribe(B))});for(var f=h.call(o),e=c.length-1;e>=0;e--)c[e]&&l.splice(e,1)[0].dispose();r=a;d.notifySubscribers(m,D);m=f;if(g)d._latestValue=m}finally{i.dependencyDetection.end()}d.notifySubscribers(m);s=k}function d(){if(arguments.length>0)y.apply(d,arguments);else return x()}function y(){if(typeof w===c)w.apply(o,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");}function x(){!r&&p();i.dependencyDetection.registerDependency(d);return m}d.getDependenciesCount=function(){return l.length};d.hasWriteFunction=typeof f.write===c;d.dispose=function(){q()};i.subscribable.call(d);i.utils.extend(d,i.dependentObservable.fn);f.deferEvaluation!==a&&p();i.exportProperty(d,"dispose",d.dispose);i.exportProperty(d,"getDependenciesCount",d.getDependenciesCount);return d};i.isComputed=function(a){return i.hasPrototype(a,i.dependentObservable)};var L=i.observable.protoProperty;i.dependentObservable[L]=i.observable;i.dependentObservable.fn={};i.dependentObservable.fn[L]=i.dependentObservable;i.exportSymbol("dependentObservable",i.dependentObservable);i.exportSymbol("computed",i.dependentObservable);i.exportSymbol("isComputed",i.isComputed);(function(){var f=10;i.toJS=function(b){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return a(b,function(a){for(var b=0;i.isObservable(a)&&b<f;b++)a=a();return a})};i.toJSON=function(b,c,d){var a=i.toJS(b);return i.utils.stringifyJson(a,c,d)};function a(f,k,h){h=h||new g;f=k(f);var l=typeof f==e&&f!==j&&f!==b&&!(f instanceof Date);if(!l)return f;var i=f instanceof Array?[]:{};h.save(f,i);d(f,function(g){var d=k(f[g]);switch(typeof d){case"boolean":case p:case m:case c:i[g]=d;break;case e:case n:var j=h.get(d);i[g]=j!==b?j:a(d,k,h)}});return i}function d(a,b){if(a instanceof Array){for(var d=0;d<a.length;d++)b(d);typeof a.toJSON==c&&b("toJSON")}else for(var e in a)b(e)}function g(){var c=[],a=[];this.save=function(e,d){var b=i.utils.arrayIndexOf(c,e);if(b>=0)a[b]=d;else{c.push(e);a.push(d)}};this.get=function(e){var d=i.utils.arrayIndexOf(c,e);return d>=0?a[d]:b}}})();i.exportSymbol("toJS",i.toJS);i.exportSymbol("toJSON",i.toJSON);(function(){var c="__ko__hasDomDataOptionValue__";i.selectExtensions={readValue:function(d){switch(i.utils.tagNameLower(d)){case o:return d[c]===a?i.utils.domData.get(d,i.bindingHandlers.options.optionValueDomDataKey):d.getAttribute(t);case u:return d.selectedIndex>=0?i.selectExtensions.readValue(d.options[d.selectedIndex]):b;default:return d.value}},writeValue:function(d,e){switch(i.utils.tagNameLower(d)){case o:switch(typeof e){case m:i.utils.domData.set(d,i.bindingHandlers.options.optionValueDomDataKey,b);if(c in d)delete d[c];d.value=e;break;default:i.utils.domData.set(d,i.bindingHandlers.options.optionValueDomDataKey,e);d[c]=a;d.value=typeof e===p?e:l}break;case u:for(var f=d.options.length-1;f>=0;f--)if(i.selectExtensions.readValue(d.options[f])==e){d.selectedIndex=f;break}break;default:if(e===j||e===b)e=l;d.value=e}}}})();i.exportSymbol("selectExtensions",i.selectExtensions);i.exportSymbol("selectExtensions.readValue",i.selectExtensions.readValue);i.exportSymbol("selectExtensions.writeValue",i.selectExtensions.writeValue);i.jsonExpressionRewriting=function(){var d=/\@ko_token_(\d+)\@/g,c=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,e=["true","false"];function b(a,c){var b=j;while(a!=b){b=a;a=a.replace(d,function(b,a){return c[a]})}return a}function f(a){return i.utils.arrayIndexOf(e,i.utils.stringTrim(a).toLowerCase())>=0?k:a.match(c)!==j}function g(b){var a=i.utils.stringTrim(b);switch(a.length&&a.charAt(0)){case"'":case'"':return b;default:return"'"+a+"'"}}return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var r="@ko_token_",a=i.utils.stringTrim(t);if(a.length<3)return[];if(a.charAt(0)==="{")a=a.substring(1,a.length-1);for(var g=[],d=j,f,c=0;c<a.length;c++){var e=a.charAt(c);if(d===j)switch(e){case'"':case"'":case"/":d=c;f=e}else if(e==f&&a.charAt(c-1)!=="\\"){var n=a.substring(d,c+1);g.push(n);var l=r+(g.length-1)+"@";a=a.substring(0,d)+l+a.substring(c+1);c-=n.length-l.length;d=j}}d=j;f=j;for(var o=0,k=j,c=0;c<a.length;c++){var e=a.charAt(c);if(d===j)switch(e){case"{":d=c;k=e;f="}";break;case"(":d=c;k=e;f=")";break;case"[":d=c;k=e;f="]"}if(e===k)o++;else if(e===f){o--;if(o===0){var n=a.substring(d,c+1);g.push(n);var l=r+(g.length-1)+"@";a=a.substring(0,d)+l+a.substring(c+1);c-=n.length-l.length;d=j}}}for(var p=[],s=a.split(","),q=0,w=s.length;q<w;q++){var h=s[q],m=h.indexOf(":");if(m>0&&m<h.length-1){var v=h.substring(0,m),u=h.substring(m+1);p.push({key:b(v,g),value:b(u,g)})}else p.push({unknown:b(h,g)})}return p},insertPropertyAccessorsIntoJson:function(d){for(var o=typeof d===m?i.jsonExpressionRewriting.parseObjectLiteral(d):d,a=[],c=[],b,k=0;b=o[k];k++){a.length>0&&a.push(",");if(b.key){var j=g(b.key),h=b.value;a.push(j);a.push(":");a.push(h);if(f(i.utils.stringTrim(h))){c.length>0&&c.push(", ");c.push(j+" : function(__ko_value) { "+h+" = __ko_value; }")}}else b.unknown&&a.push(b.unknown)}var e=a.join(l);if(c.length>0){var n=c.join(l);e=e+", '_ko_property_writers' : { "+n+" } "}return e},keyValueArrayContainsKey:function(c,d){for(var b=0;b<c.length;b++)if(i.utils.stringTrim(c[b].key)==d)return a;return k},writeValueToProperty:function(a,e,d,c,f){if(!a||!i.isWriteableObservable(a)){var b=e()._ko_property_writers;b&&b[d]&&b[d](c)}else(!f||a()!==c)&&a(c)}}}();i.exportSymbol("jsonExpressionRewriting",i.jsonExpressionRewriting);i.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",i.jsonExpressionRewriting.bindingRewriteValidators);i.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",i.jsonExpressionRewriting.parseObjectLiteral);i.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){var c=d.createComment("test").text==="<!--test-->",l=c?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,m=c?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:a,ol:a};function b(a){return a.nodeType==8&&(c?a.text:a.nodeValue).match(l)}function e(a){return a.nodeType==8&&(c?a.text:a.nodeValue).match(m)}function g(d,g){var a=d,c=1,f=[];while(a=a.nextSibling){if(e(a)){c--;if(c===0)return f}f.push(a);if(b(a))c++}if(!g)throw new Error("Cannot find closing comment tag to match: "+d.nodeValue);return j}function f(b,c){var a=g(b,c);return a?a.length>0?a[a.length-1].nextSibling:b.nextSibling:j}function k(h){var c=h.firstChild,d=j;if(c)do if(d)d.push(c);else if(b(c)){var g=f(c,a);if(g)c=g;else d=[c]}else if(e(c))d=[c];while(c=c.nextSibling);return d}i.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?g(a):a.childNodes},emptyNode:function(a){if(!b(a))i.utils.emptyDomNode(a);else for(var d=i.virtualElements.childNodes(a),c=0,e=d.length;c<e;c++)i.removeNode(d[c])},setDomNodeChildren:function(a,c){if(!b(a))i.utils.setDomNodeChildren(a,c);else{i.virtualElements.emptyNode(a);for(var e=a.nextSibling,d=0,f=c.length;d<f;d++)e.parentNode.insertBefore(c[d],e)}},prepend:function(a,c){if(!b(a))if(a.firstChild)a.insertBefore(c,a.firstChild);else a.appendChild(c);else a.parentNode.insertBefore(c,a.nextSibling)},insertAfter:function(a,d,c){if(!b(a))if(c.nextSibling)a.insertBefore(d,c.nextSibling);else a.appendChild(d);else a.parentNode.insertBefore(d,c.nextSibling)},firstChild:function(a){return!b(a)?a.firstChild:!a.nextSibling||e(a.nextSibling)?j:a.nextSibling},nextSibling:function(a){if(b(a))a=f(a);return a.nextSibling&&e(a.nextSibling)?j:a.nextSibling},virtualNodeBindingValue:function(c){var a=b(c);return a?a[1]:j},normaliseVirtualElementDomStructure:function(b){if(!h[i.utils.tagNameLower(b)])return;var a=b.firstChild;if(a)do if(a.nodeType===1){var c=k(a);if(c)for(var e=a.nextSibling,d=0;d<c.length;d++)if(e)b.insertBefore(c[d],e);else b.appendChild(c[d])}while(a=a.nextSibling)}}})();i.exportSymbol("virtualElements",i.virtualElements);i.exportSymbol("virtualElements.allowedBindings",i.virtualElements.allowedBindings);i.exportSymbol("virtualElements.emptyNode",i.virtualElements.emptyNode);i.exportSymbol("virtualElements.insertAfter",i.virtualElements.insertAfter);i.exportSymbol("virtualElements.prepend",i.virtualElements.prepend);i.exportSymbol("virtualElements.setDomNodeChildren",i.virtualElements.setDomNodeChildren);(function(){var a="data-bind";i.bindingProvider=function(){this.bindingCache={}};i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute(a)!=j;case 8:return i.virtualElements.virtualNodeBindingValue(b)!=j;default:return k}},getBindings:function(c,a){var b=this.getBindingsString(c,a);return b?this.parseBindingsString(b,a):j},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(a);case 8:return i.virtualElements.virtualNodeBindingValue(b);default:return j}},parseBindingsString:function(d,a){try{var c=a.$data,f=typeof c==e&&c!=j?[c,a]:[a],g=b(d,f.length,this.bindingCache);return g(f)}catch(h){throw new Error("Unable to parse bindings.\nMessage: "+h+";\nBindings value: "+d);}}});i.bindingProvider.instance=new i.bindingProvider;function b(a,b,e){var d=b+"_"+a;return e[d]||(e[d]=c(a,b))}function c(b,c){var a=" { "+i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(b)+" } ";return i.utils.buildEvalWithinScopeFunction(a,c)}})();i.exportSymbol("bindingProvider",i.bindingProvider);(function(){i.bindingHandlers={};i.bindingContext=function(c,b){var a=this;if(b){i.utils.extend(a,b);a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent)}else{a.$parents=[];a.$root=c}a.$data=c};i.bindingContext.prototype.createChildContext=function(a){return new i.bindingContext(a,this)};i.bindingContext.prototype.extend=function(a){var b=i.utils.extend(new i.bindingContext,this);return i.utils.extend(b,a)};function k(a){var b=i.virtualElements.allowedBindings[a];if(!b)throw new Error("The binding '"+a+"' cannot be used with virtual elements");}function e(f,e,c){var a,b=i.virtualElements.firstChild(e);while(a=b){b=i.virtualElements.nextSibling(a);d(f,a,c)}}function d(g,b,d){var f=a,c=b.nodeType===1;c&&i.virtualElements.normaliseVirtualElementDomStructure(b);var k=c&&d||i.bindingProvider.instance.nodeHasBindings(b);if(k)f=h(b,j,g,d).shouldBindDescendants;f&&e(g,b,!c)}function h(d,h,f,n){var g=0,a;function m(b){return function(){return a[b]}}function l(){return a}var e;i.dependentObservable(function(){var p=f&&f instanceof i.bindingContext?f:new i.bindingContext(i.utils.unwrapObservable(f)),r=p.$data;n&&i.storedBindingContextForNode(d,p);var s=typeof h==c?h():h;a=s||i.bindingProvider.instance.getBindings(d,p);if(a){if(g===0){g=1;for(var j in a){var o=i.bindingHandlers[j];o&&d.nodeType===8&&k(j);if(o&&typeof o.init==c){var u=o.init,q=u(d,m(j),l,r,p);if(q&&q.controlsDescendantBindings){if(e!==b)throw new Error("Multiple bindings ("+e+" and "+j+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");e=j}}}g=2}if(g===2)for(var j in a){var o=i.bindingHandlers[j];if(o&&typeof o.update==c){var t=o.update;t(d,m(j),l,r,p)}}}},j,{disposeWhenNodeIsRemoved:d});return{shouldBindDescendants:e===b}}var g="__ko_bindingContext__";i.storedBindingContextForNode=function(a,b){if(arguments.length==2)i.utils.domData.set(a,g,b);else return i.utils.domData.get(a,g)};i.applyBindingsToNode=function(b,d,c){b.nodeType===1&&i.virtualElements.normaliseVirtualElementDomStructure(b);return h(b,d,c,a)};i.applyBindingsToDescendants=function(c,b){(b.nodeType===1||b.nodeType===8)&&e(c,b,a)};i.applyBindings=function(c,b){if(b&&b.nodeType!==1&&b.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||f.document.body;d(c,b,a)};i.contextFor=function(a){switch(a.nodeType){case 1:case 8:var c=i.storedBindingContextForNode(a);if(c)return c;if(a.parentNode)return i.contextFor(a.parentNode)}return b};i.dataFor=function(c){var a=i.contextFor(c);return a?a.$data:b};i.exportSymbol("bindingHandlers",i.bindingHandlers);i.exportSymbol("applyBindings",i.applyBindings);i.exportSymbol("applyBindingsToDescendants",i.applyBindingsToDescendants);i.exportSymbol("applyBindingsToNode",i.applyBindingsToNode);i.exportSymbol("contextFor",i.contextFor);i.exportSymbol("dataFor",i.dataFor)})();var M=[z];i.utils.arrayForEach(M,function(a){i.bindingHandlers[a]={init:function(f,d,b,e){var c=function(){var b={};b[a]=d();return b};return i.bindingHandlers.event.init.call(this,f,c,b,e)}}});i.bindingHandlers.event={init:function(g,b,e,c){var f=b()||{};for(var d in f)(function(){var f=d;typeof f==m&&i.utils.registerEventHandler(g,f,function(d){var g,h=b()[f];if(!h)return;var l=e();try{var j=i.utils.makeArray(arguments);j.unshift(c);g=h.apply(c,j)}finally{if(g!==a)if(d.preventDefault)d.preventDefault();else d.returnValue=k}var m=l[f+"Bubble"]!==k;if(!m){d.cancelBubble=a;d.stopPropagation&&d.stopPropagation()}})})()}};i.bindingHandlers.submit={init:function(d,b,f,e){if(typeof b()!=c)throw new Error("The value for a submit binding must be a function");i.utils.registerEventHandler(d,"submit",function(c){var f,g=b();try{f=g.call(e,d)}finally{if(f!==a)if(c.preventDefault)c.preventDefault();else c.returnValue=k}})}};i.bindingHandlers.visible={update:function(a,d){var c=i.utils.unwrapObservable(d()),b=!(a.style.display==B);if(c&&!b)a.style.display=l;else if(!c&&b)a.style.display=B}};i.bindingHandlers.enable={update:function(b,d){var c=i.utils.unwrapObservable(d());if(c&&b.disabled)b.removeAttribute("disabled");else if(!c&&!b.disabled)b.disabled=a}};i.bindingHandlers.disable={update:function(b,a){i.bindingHandlers.enable.update(b,function(){return!i.utils.unwrapObservable(a())})}};function H(a,b,c){if(c)b!==i.selectExtensions.readValue(a)&&i.selectExtensions.writeValue(a,b);b!==i.selectExtensions.readValue(a)&&i.utils.triggerEvent(a,A)}i.bindingHandlers.value={init:function(b,l,h){var g="propertychange",d=[A],c=h().valueUpdate;if(c){if(typeof c==m)c=[c];i.utils.arrayPushAll(d,c);d=i.utils.arrayGetDistinctValues(d)}var f=function(){var d=l(),c=i.selectExtensions.readValue(b);i.jsonExpressionRewriting.writeValueToProperty(d,h,t,c,a)},j=i.utils.ieVersion&&b.tagName.toLowerCase()==s&&b.type=="text"&&b.autocomplete!="off"&&(!b.form||b.form.autocomplete!="off");if(j&&i.utils.arrayIndexOf(d,g)==-1){var e=k;i.utils.registerEventHandler(b,g,function(){e=a});i.utils.registerEventHandler(b,"blur",function(){if(e){e=k;f()}})}i.utils.arrayForEach(d,function(a){var c=f;if(i.utils.stringStartsWith(a,"after")){c=function(){setTimeout(f,0)};a=a.substring("after".length)}i.utils.registerEventHandler(b,a,c)})},update:function(b,j){var e=i.utils.tagNameLower(b)===u,c=i.utils.unwrapObservable(j()),d=i.selectExtensions.readValue(b),g=c!=d;if(c===0&&d!==0&&d!=="0")g=a;if(g){var f=function(){i.selectExtensions.writeValue(b,c)};f();var h=e;h&&setTimeout(f,0)}e&&b.length>0&&H(b,c,k)}};i.bindingHandlers.options={update:function(e,x,B){if(i.utils.tagNameLower(e)!==u)throw new Error("options binding applies only to SELECT elements");var y=e.length==0,A=i.utils.arrayMap(i.utils.arrayFilter(e.childNodes,function(a){return a.tagName&&i.utils.tagNameLower(a)===o&&a.selected}),function(a){return i.selectExtensions.readValue(a)||a.innerText||a.textContent}),w=e.scrollTop,g=i.utils.unwrapObservable(x()),C=e.value;while(e.length>0){i.cleanNode(e.options[0]);e.remove(0)}if(g){var h=B();if(typeof g.length!=p)g=[g];if(h.optionsCaption){var n=d.createElement(o);i.utils.setHtml(n,h.optionsCaption);i.selectExtensions.writeValue(n,b);e.appendChild(n)}for(var f=0,v=g.length;f<v;f++){var n=d.createElement(o),r=typeof h.optionsValue==m?g[f][h.optionsValue]:g[f];r=i.utils.unwrapObservable(r);i.selectExtensions.writeValue(n,r);var q=h.optionsText,k;if(typeof q==c)k=q(g[f]);else if(typeof q==m)k=g[f][q];else k=r;if(k===j||k===b)k=l;i.utils.setTextContent(n,k);e.appendChild(n)}for(var s=e.getElementsByTagName(o),z=0,f=0,v=s.length;f<v;f++)if(i.utils.arrayIndexOf(A,i.selectExtensions.readValue(s[f]))>=0){i.utils.setOptionNodeSelectionState(s[f],a);z++}e.scrollTop=w;y&&t in h&&H(e,i.utils.unwrapObservable(h.value),a);i.utils.ensureSelectElementIsRenderedCorrectly(e)}}};i.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";i.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(g){for(var a=[],e=g.childNodes,c=0,h=e.length;c<h;c++){var b=e[c],d=i.utils.tagNameLower(b);if(d==o&&b.selected)a.push(i.selectExtensions.readValue(b));else if(d=="optgroup"){var f=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(b);Array.prototype.splice.apply(a,[a.length,0].concat(f))}}return a},init:function(c,b,a){i.utils.registerEventHandler(c,A,function(){var d=b(),c=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);i.jsonExpressionRewriting.writeValueToProperty(d,a,t,c)})},update:function(d,f){if(i.utils.tagNameLower(d)!=u)throw new Error("values binding applies only to SELECT elements");var a=i.utils.unwrapObservable(f());if(a&&typeof a.length==p)for(var e=d.childNodes,c=0,g=e.length;c<g;c++){var b=e[c];i.utils.tagNameLower(b)===o&&i.utils.setOptionNodeSelectionState(b,i.utils.arrayIndexOf(a,i.selectExtensions.readValue(b))>=0)}}};i.bindingHandlers.text={update:function(b,a){i.utils.setTextContent(b,a())}};i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:a}},update:function(b,a){var c=i.utils.unwrapObservable(a());i.utils.setHtml(b,c)}};i.bindingHandlers.css={update:function(e,d){var b=i.utils.unwrapObservable(d()||{});for(var a in b)if(typeof a==m){var c=i.utils.unwrapObservable(b[a]);i.utils.toggleDomNodeCssClass(e,a,c)}}};i.bindingHandlers.style={update:function(e,c){var b=i.utils.unwrapObservable(c()||{});for(var a in b)if(typeof a==m){var d=i.utils.unwrapObservable(b[a]);e.style[a]=d||l}}};i.bindingHandlers.uniqueName={init:function(a,b){if(b()){a.name="ko_unique_"+ ++i.bindingHandlers.uniqueName.currentIndex;(i.utils.isIe6||i.utils.isIe7)&&a.mergeAttributes(d.createElement("<input name='"+a.name+"'/>"),k)}}};i.bindingHandlers.uniqueName.currentIndex=0;i.bindingHandlers.checked={init:function(b,e,c){var d=function(){var g;if(b.type==x)g=b.checked;else if(b.type==y&&b.checked)g=b.value;else return;var d=e();if(b.type==x&&i.utils.unwrapObservable(d)instanceof Array){var f=i.utils.arrayIndexOf(i.utils.unwrapObservable(d),b.value);if(b.checked&&f<0)d.push(b.value);else!b.checked&&f>=0&&d.splice(f,1)}else i.jsonExpressionRewriting.writeValueToProperty(d,c,"checked",g,a)};i.utils.registerEventHandler(b,z,d);b.type==y&&!b.name&&i.bindingHandlers.uniqueName.init(b,function(){return a})},update:function(a,c){var b=i.utils.unwrapObservable(c());if(a.type==x)if(b instanceof Array)a.checked=i.utils.arrayIndexOf(b,a.value)>=0;else a.checked=b;else if(a.type==y)a.checked=a.value==b}};var I={"class":"className","for":"htmlFor"};i.bindingHandlers.attr={update:function(d,g){var f=i.utils.unwrapObservable(g())||{};for(var a in f)if(typeof a==m){var c=i.utils.unwrapObservable(f[a]),e=c===k||c===j||c===b;e&&d.removeAttribute(a);if(i.utils.ieVersion<=8&&a in I){a=I[a];if(e)d.removeAttribute(a);else d[a]=c}else!e&&d.setAttribute(a,c.toString())}}};i.bindingHandlers.hasfocus={init:function(c,e,d){var b=function(b){var c=e();i.jsonExpressionRewriting.writeValueToProperty(c,d,"hasfocus",b,a)};i.utils.registerEventHandler(c,"focus",function(){b(a)});i.utils.registerEventHandler(c,"focusin",function(){b(a)});i.utils.registerEventHandler(c,"blur",function(){b(k)});i.utils.registerEventHandler(c,F,function(){b(k)})},update:function(a,c){var b=i.utils.unwrapObservable(c());b?a.focus():a.blur();i.utils.triggerEvent(a,b?"focusin":F)}};i.bindingHandlers[v]={makeTemplateValueAccessor:function(a){return function(){var b=a();return{"if":b,data:b,templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers[v].makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers[v].makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators[v]=k;i.virtualElements.allowedBindings[v]=a;i.bindingHandlers[q]={makeTemplateValueAccessor:function(a){return function(){return{"if":a(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers[q].makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers[q].makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators[q]=k;i.virtualElements.allowedBindings[q]=a;i.bindingHandlers.ifnot={makeTemplateValueAccessor:function(a){return function(){return{ifnot:a(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers.ifnot.makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers.ifnot.makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators.ifnot=k;i.virtualElements.allowedBindings.ifnot=a;i.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var b=i.utils.unwrapObservable(a());return!b||typeof b.length==p?{foreach:b,templateEngine:i.nativeTemplateEngine.instance}:{foreach:b.data,includeDestroyed:b.includeDestroyed,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,afterRender:b.afterRender,templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers.foreach.makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators.foreach=k;i.virtualElements.allowedBindings.foreach=a;i.templateEngine=function(){};i.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource");};i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock");};i.templateEngine.prototype.makeTemplateSource=function(a,b){if(typeof a==m){b=b||d;var c=b.getElementById(a);if(!c)throw new Error("Cannot find template with ID "+a);return new i.templateSources.domElement(c)}else if(a.nodeType==1||a.nodeType==8)return new i.templateSources.anonymousTemplate(a);else throw new Error("Unknown template type: "+a);};i.templateEngine.prototype.renderTemplate=function(d,b,e,a){var c=this.makeTemplateSource(d,a);return this.renderTemplateSource(c,b,e)};i.templateEngine.prototype.isTemplateRewritten=function(e,c){var b=this;if(b.allowTemplateRewriting===k)return a;var f=c&&c!=d;return!f&&b.knownRewrittenTemplates&&b.knownRewrittenTemplates[e]?a:b.makeTemplateSource(e,c).data(G)};i.templateEngine.prototype.rewriteTemplate=function(f,h,c){var b=this,e=b.makeTemplateSource(f,c),i=h(e.text());e.text(i);e.data(G,a);var g=c&&c!=d;if(!g&&typeof f==m){b.knownRewrittenTemplates=b.knownRewrittenTemplates||{};b.knownRewrittenTemplates[f]=a}};i.exportSymbol("templateEngine",i.templateEngine);i.templateRewriting=function(){var d=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,b=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function e(b){for(var g=i.jsonExpressionRewriting.bindingRewriteValidators,a=0;a<b.length;a++){var e=b[a].key;if(g.hasOwnProperty(e)){var d=g[e];if(typeof d===c){var f=d(b[a].value);if(f)throw new Error(f);}else if(!d)throw new Error("This template engine does not support the '"+e+"' binding within its templates");}}}function a(d,g,f){var a=i.jsonExpressionRewriting.parseObjectLiteral(d);e(a);var c=i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(a),b="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+c+" } })()         })";return f.createJavaScriptEvaluatorBlock(b)+g}return{ensureTemplateIsRewritten:function(c,a,b){!a.isTemplateRewritten(c,b)&&a.rewriteTemplate(c,function(b){return i.templateRewriting.memoizeBindingAttributeSyntax(b,a)},b)},memoizeBindingAttributeSyntax:function(e,c){return e.replace(d,function(){return a(arguments[6],arguments[1],c)}).replace(b,function(){return a(arguments[1],"<!-- ko -->",c)})},applyMemoizedBindingsToNextSibling:function(a){return i.memoization.memoize(function(b,c){b.nextSibling&&i.applyBindingsToNode(b.nextSibling,a,c)})}}}();i.exportSymbol("templateRewriting",i.templateRewriting);i.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",i.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){i.templateSources={};i.templateSources.domElement=function(a){this.domElement=a};i.templateSources.domElement.prototype.text=function(){var c="innerHTML",a=this,d=i.utils.tagNameLower(a.domElement),b=d==="script"?"text":d===C?t:c;if(arguments.length==0)return a.domElement[b];else{var e=arguments[0];if(b===c)i.utils.setHtml(a.domElement,e);else a.domElement[b]=e}};i.templateSources.domElement.prototype.data=function(b){var a="templateSourceData_";if(arguments.length===1)return i.utils.domData.get(this.domElement,a+b);else i.utils.domData.set(this.domElement,a+b,arguments[1])};var a="__ko_anon_template__";i.templateSources.anonymousTemplate=function(a){this.domElement=a};i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement;i.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var c=i.utils.domData.get(this.domElement,a)||{};if(c.textData===b&&c.containerData)c.textData=c.containerData.innerHTML;return c.textData}else{var d=arguments[0];i.utils.domData.set(this.domElement,a,{textData:d})}};i.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var b=i.utils.domData.get(this.domElement,a)||{};return b.containerData}else{var c=arguments[0];i.utils.domData.set(this.domElement,a,{containerData:c})}};i.exportSymbol("templateSources",i.templateSources);i.exportSymbol("templateSources.domElement",i.templateSources.domElement);i.exportSymbol("templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)})();(function(){var h="ignoreTargetNode",d="replaceNode",l="replaceChildren",g;i.setTemplateEngine=function(a){if(a!=b&&!(a instanceof i.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");g=a};function o(d,e,f){var a,b=d,c=i.virtualElements.nextSibling(e);while(b&&(a=b)!==c){b=i.virtualElements.nextSibling(a);(a.nodeType===1||a.nodeType===8)&&f(a)}}function r(a,b){if(a.length){var c=a[0],d=a[a.length-1];o(c,d,function(a){i.applyBindings(b,a)});o(c,d,function(a){i.memoization.unmemoizeDomNodeAndDescendants(a,[b])})}}function f(a){return a.nodeType?a:a.length>0?a[0]:j}function t(e,s,t,m,c){c=c||{};var q=e&&f(e),o=q&&q.ownerDocument,n=c.templateEngine||g;i.templateRewriting.ensureTemplateIsRewritten(t,n,o);var b=n.renderTemplate(t,m,c,o);if(typeof b.length!=p||b.length>0&&typeof b[0].nodeType!=p)throw new Error("Template engine must return an array of DOM nodes");var j=k;switch(s){case l:i.virtualElements.setDomNodeChildren(e,b);j=a;break;case d:i.utils.replaceDomNodes(e,b);j=a;break;case h:break;default:throw new Error("Unknown renderMode: "+s);}if(j){r(b,m);c.afterRender&&c.afterRender(b,m.$data)}return b}i.renderTemplate=function(n,h,m,e,k){m=m||{};if((m.templateEngine||g)==b)throw new Error("Set a template engine before calling renderTemplate");k=k||l;if(e){var a=f(e),p=function(){return!a||!i.utils.domNodeIsAttachedToDocument(a)},o=a&&k==d?a.parentNode:a;return i.dependentObservable(function(){var b=h&&h instanceof i.bindingContext?h:new i.bindingContext(i.utils.unwrapObservable(h)),j=typeof n==c?n(b.$data):n,g=t(e,k,j,b,m);if(k==d){e=g;a=f(e)}},j,{disposeWhen:p,disposeWhenNodeIsRemoved:o})}else return i.memoization.memoize(function(a){i.renderTemplate(n,h,m,a,d)})};i.renderTemplateForEach=function(e,l,a,f,m){var d,g=function(b,g){var f=typeof e==c?e(b):e;d=m.createChildContext(i.utils.unwrapObservable(b));d.$index=g;return t(j,h,f,d,a)},k=function(c,b){r(b,d);a.afterRender&&a.afterRender(b,c)};return i.dependentObservable(function(){var c=i.utils.unwrapObservable(l)||[];if(typeof c.length==n)c=[c];var d=i.utils.arrayFilter(c,function(c){return a.includeDestroyed||c===b||c===j||!i.utils.unwrapObservable(c._destroy)});i.utils.setDomNodeChildrenFromArrayMapping(f,d,g,a,k)},j,{disposeWhenNodeIsRemoved:f})};var s="__ko__templateSubscriptionDomDataKey__";function u(b,d){var a=i.utils.domData.get(b,s);a&&typeof a.dispose==c&&a.dispose();i.utils.domData.set(b,s,d)}i.bindingHandlers.template={init:function(b,e){var c=i.utils.unwrapObservable(e());if(typeof c!=m&&!c.name&&(b.nodeType==1||b.nodeType==8)){var d=b.nodeType==1?b.childNodes:i.virtualElements.childNodes(b),f=i.utils.moveCleanedNodesToContainerElement(d);(new i.templateSources.anonymousTemplate(b)).nodes(f)}return{controlsDescendantBindings:a}},update:function(d,l,o,p,h){var b=i.utils.unwrapObservable(l()),f,c=a;if(typeof b==m)f=b;else{f=b.name;if(q in b)c=c&&i.utils.unwrapObservable(b[q]);if("ifnot"in b)c=c&&!i.utils.unwrapObservable(b.ifnot)}var g=j;if(typeof b===e&&"foreach"in b){var n=c&&b.foreach||[];g=i.renderTemplateForEach(f||d,n,b,d,h)}else if(c){var k=typeof b==e&&"data"in b?h.createChildContext(i.utils.unwrapObservable(b.data)):h;g=i.renderTemplate(f||d,k,b,d)}else i.virtualElements.emptyNode(d);u(d,g)}};i.jsonExpressionRewriting.bindingRewriteValidators.template=function(b){var a=i.jsonExpressionRewriting.parseObjectLiteral(b);return a.length==1&&a[0].unknown?j:i.jsonExpressionRewriting.keyValueArrayContainsKey(a,"name")?j:"This template engine does not support anonymous templates nested within its templates"};i.virtualElements.allowedBindings.template=a})();i.exportSymbol("setTemplateEngine",i.setTemplateEngine);i.exportSymbol("renderTemplate",i.renderTemplate);(function(){function c(h,g,f){for(var c=[],e=0;e<=g.length;e++)c[e]=[];for(var e=0,i=Math.min(h.length,f);e<=i;e++)c[0][e]=e;for(var e=1,i=Math.min(g.length,f);e<=i;e++)c[e][0]=e;for(var o=h.length,d,n=g.length,p,q,a=1;a<=o;a++){var k=Math.max(1,a-f),j=Math.min(n,a+f);for(d=k;d<=j;d++)if(h[a-1]===g[d-1])c[d][a]=c[d-1][a-1];else{var l=c[d-1][a]===b?Number.MAX_VALUE:c[d-1][a]+1,m=c[d][a-1]===b?Number.MAX_VALUE:c[d][a-1]+1;c[d][a]=Math.min(l,m)}}return c}function a(g,k,m){var a=k.length,c=m.length,i=[],d=g[c][a];if(d===b)return j;while(a>0||c>0){var l=g[c][a],f=c>0?g[c-1][a]:d+1,e=a>0?g[c][a-1]:d+1,h=c>0&&a>0?g[c-1][a-1]:d+1;if(f===b||f<l-1)f=d+1;if(e===b||e<l-1)e=d+1;if(h<l-1)h=d+1;if(f<=e&&f<h){i.push({status:"added",value:m[c-1]});c--}else if(e<f&&e<h){i.push({status:"deleted",value:k[a-1]});a--}else{i.push({status:E,value:k[a-1]});c--;a--}}return i.reverse()}i.utils.compareArrays=function(e,d,f){if(f===b)return i.utils.compareArrays(e,d,1)||i.utils.compareArrays(e,d,10)||i.utils.compareArrays(e,d,Number.MAX_VALUE);else{e=e||[];d=d||[];var g=c(e,d,f);return a(g,e,d)}}})();i.exportSymbol("utils.compareArrays",i.utils.compareArrays);(function(){function d(a){if(a.length>2){var b=a[0],d=a[a.length-1],c=[b];while(b!==d){b=b.nextSibling;if(!b)return;c.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(c))}}function e(f,g,c,b,h){var a=[],e=i.dependentObservable(function(){var e=g(c,h)||[];if(a.length>0){d(a);i.utils.replaceDomNodes(a,e);b&&b(c,e)}a.splice(0,a.length);i.utils.arrayPushAll(a,e)},j,{disposeWhenNodeIsRemoved:f,disposeWhen:function(){return a.length==0||!i.utils.domNodeIsAttachedToDocument(a[0])}});return{mappedNodes:a,dependentObservable:e}}var c="setDomNodeChildrenFromArrayMapping_lastMappingResult";i.utils.setDomNodeChildrenFromArrayMapping=function(m,v,I,n,w){v=v||[];n=n||{};for(var F=i.utils.domData.get(m,c)===b,o=i.utils.domData.get(m,c)||[],H=i.utils.arrayMap(o,function(a){return a.arrayEntry}),l=i.utils.compareArrays(H,v),x=[],h=0,g=[],s=0,r=[],p=j,f=0,J=l.length;f<J;f++)switch(l[f].status){case E:var q=o[h];q.indexObservable(s);s=x.push(q);if(q.domNodes.length>0)p=q.domNodes[q.domNodes.length-1];h++;break;case"deleted":o[h].dependentObservable.dispose();d(o[h].domNodes);i.utils.arrayForEach(o[h].domNodes,function(a){g.push({element:a,index:f,value:l[f].value});p=a});h++;break;case"added":var C=l[f].value,y=i.observable(s),D=e(m,I,C,w,y),t=D.mappedNodes;s=x.push({arrayEntry:l[f].value,domNodes:t,dependentObservable:D.dependentObservable,indexObservable:y});for(var z=0,G=t.length;z<G;z++){var u=t[z];r.push({element:u,index:f,value:l[f].value});if(p==j)i.virtualElements.prepend(m,u);else i.virtualElements.insertAfter(m,u,p);p=u}w&&w(C,t,y)}i.utils.arrayForEach(g,function(a){i.cleanNode(a.element)});var B=k;if(!F){if(n.afterAdd)for(var f=0;f<r.length;f++)n.afterAdd(r[f].element,r[f].index,r[f].value);if(n.beforeRemove){for(var f=0;f<g.length;f++)n.beforeRemove(g[f].element,g[f].index,g[f].value);B=a}}if(!B&&g.length)for(var f=0;f<g.length;f++){var A=g[f].element;A.parentNode&&A.parentNode.removeChild(A)}i.utils.domData.set(m,c,x)}})();i.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping);i.nativeTemplateEngine=function(){this.allowTemplateRewriting=k};i.nativeTemplateEngine.prototype=new i.templateEngine;i.nativeTemplateEngine.prototype.renderTemplateSource=function(b){var d=!(i.utils.ieVersion<9),e=d?b.nodes:j,c=e?b.nodes():j;if(c)return i.utils.makeArray(c.cloneNode(a).childNodes);else{var f=b.text();return i.utils.parseHtmlFragment(f)}};i.nativeTemplateEngine.instance=new i.nativeTemplateEngine;i.setTemplateEngine(i.nativeTemplateEngine.instance);i.exportSymbol("nativeTemplateEngine",i.nativeTemplateEngine);(function(){i.jqueryTmplTemplateEngine=function(){var a=this,b=a.jQueryTmplVersion=function(){if(typeof jQuery==n||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();function c(){if(b<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function e(b,c,a){return jQuery.tmpl(b,c,a)}a.renderTemplateSource=function(b,i,g){var h="precompiled";g=g||{};c();var a=b.data(h);if(!a){var f=b.text()||l;f="{{ko_with $item.koBindingContext}}"+f+"{{/ko_with}}";a=jQuery.template(j,f);b.data(h,a)}var n=[i.$data],m=jQuery.extend({koBindingContext:i},g.templateOptions),k=e(a,n,m);k.appendTo(d.createElement(w));jQuery.fragments={};return k};a.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};a.addTemplate=function(b,a){d.write("<script type='text/html' id='"+b+"'>"+a+"<\/script>")};if(b>0){jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"};jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "}}};i.jqueryTmplTemplateEngine.prototype=new i.templateEngine;var a=new i.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&i.setTemplateEngine(a);i.exportSymbol("jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)})()})})(window,document,navigator);(function(a){var c="knockout",b="function";if(typeof require===b&&typeof exports==="object"&&typeof module==="object")a(require(c),exports);else if(typeof define===b&&define.amd)define([c,"exports"],a);else a(ko,ko.mapping={})})(function(a,b){var h="undefined",j="object",c="array",d=true,D=d,e="__ko_mapping__",q=a.dependentObservable,r=0,k,n,v=["create","update","key","arrayChanged"],m={include:["_destroy"],ignore:[],copy:[]},f=m;function s(e,d){for(var a in d)if(d.hasOwnProperty(a)&&d[a])if(a&&e[a]&&!(b.getType(e[a])===c))s(e[a],d[a]);else e[a]=d[a]}function p(b,c){var a={};s(a,b);s(a,c);return a}b.isMapped=function(c){var b=a.utils.unwrapObservable(c);return b&&b[e]};b.fromJS=function(d){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){r=0},0);if(!r++){k=[];n=new y}var a,b;if(arguments.length==2)if(arguments[1][e])b=arguments[1];else a=arguments[1];if(arguments.length==3){a=arguments[1];b=arguments[2]}if(b)a=p(a,b[e]);a=t(a);var c=l(b,d,a);if(b)c=b;!--r&&window.setTimeout(function(){while(k.length){var a=k.pop();a&&a()}},0);c[e]=p(c[e],a);return c};b.fromJSON=function(c){var d=a.utils.parseJson(c);arguments[0]=d;return b.fromJS.apply(this,arguments)};b.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};b.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};b.toJS=function(g,d){!f&&b.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(b.getType(f.ignore)!==c)throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(b.getType(f.include)!==c)throw new Error("ko.mapping.defaultOptions().include should be an array.");if(b.getType(f.copy)!==c)throw new Error("ko.mapping.defaultOptions().copy should be an array.");d=t(d,g[e]);return b.visitModel(g,function(b){return a.utils.unwrapObservable(b)},d)};b.toJSON=function(d,e){var c=b.toJS(d,e);return a.utils.stringifyJson(c)};b.defaultOptions=function(){if(arguments.length>0)f=arguments[0];else return f};b.resetDefaultOptions=function(){f={include:m.include.slice(0),ignore:m.ignore.slice(0),copy:m.copy.slice(0)}};b.getType=function(a){if(a&&typeof a===j){if(a.constructor==(new Date).constructor)return"date";if(Object.prototype.toString.call(a)==="[object Array]")return c}return typeof a};function t(d,a){options=p({},d);for(var c=v.length-1;c>=0;c--){var b=v[c];if(!options[b])continue;if(!(options[""]instanceof Object))options[""]={};options[""][b]=options[b];delete options[b]}if(a){options.ignore=g(a.ignore,options.ignore);options.include=g(a.include,options.include);options.copy=g(a.copy,options.copy)}options.ignore=g(options.ignore,f.ignore);options.include=g(options.include,f.include);options.copy=g(options.copy,f.copy);options.mappedProperties=options.mappedProperties||{};return options}function g(d,e){if(b.getType(d)!==c)if(b.getType(d)===h)d=[];else d=[d];if(b.getType(e)!==c)if(b.getType(e)===h)e=[];else e=[e];return a.utils.arrayGetDistinctValues(d.concat(e))}function A(b,c){var e=a.dependentObservable;a.dependentObservable=function(f,i,c){c=c||{};if(f&&typeof f==j)c=f;var h=c.deferEvaluation,g=false,k=function(c){var e=q({read:function(){if(!g){a.utils.arrayRemoveItem(b,c);g=d}return c.apply(c,arguments)},write:c.hasWriteFunction&&function(a){return c(a)},deferEvaluation:d});if(D)e._wrapper=d;return e};c.deferEvaluation=d;var e=new q(f,i,c);if(!h){e=k(e);b.push(e)}return e};a.dependentObservable.fn=q.fn;a.computed=a.dependentObservable;var f=c();a.dependentObservable=e;a.computed=a.dependentObservable;return f}function l(f,g,h,m,W,y){var M="function",V=b.getType(a.utils.unwrapObservable(g))===c;y=y||"";if(b.isMapped(f)){var U=a.utils.unwrapObservable(f)[e];h=p(U,h)}var B={data:g,parent:W},z=function(){return h[m]&&h[m].create instanceof Function},I=function(a){return A(k,function(){return h[m].create({data:a||B.data,parent:B.parent})})},v=function(){return h[m]&&h[m].update instanceof Function},t=function(b,d){var c={data:d||B.data,parent:B.parent,target:a.utils.unwrapObservable(b)};if(a.isWriteableObservable(b))c.observable=b;return h[m].update(c)},P=n.get(g);if(P)return P;m=m||"";if(!V)if(!w(g))switch(b.getType(g)){case M:if(v())if(a.isWriteableObservable(g)){g(t(g));f=g}else f=t(g);else f=g;break;default:if(a.isWriteableObservable(f))if(v())f(t(f));else f(a.utils.unwrapObservable(g));else{if(z())f=I();else f=a.observable(a.utils.unwrapObservable(g));v()&&f(t(f))}}else{f=a.utils.unwrapObservable(f);if(!f)if(z()){var D=I();if(v())D=t(D);return D}else{if(v())return t(D);f={}}if(v())f=t(f);n.save(g,f);u(g,function(b){var c=y.length?y+"."+b:b;if(a.utils.arrayIndexOf(h.ignore,c)!=-1)return;if(a.utils.arrayIndexOf(h.copy,c)!=-1){f[b]=g[b];return}var i=n.get(g[b]),e=i||l(f[b],g[b],h,b,f,c);if(a.isWriteableObservable(f[b]))f[b](a.utils.unwrapObservable(e));else f[b]=e;h.mappedProperties[c]=d})}else{var S=[],O=false,j=function(a){return a};if(h[m]&&h[m].key){j=h[m].key;O=d}if(!a.isObservable(f)){f=a.observableArray([]);f.mappedRemove=function(a){var b=typeof a==M?a:function(b){return b===j(a)};return f.remove(function(a){return b(j(a))})};f.mappedRemoveAll=function(b){var c=i(b,j);return f.remove(function(b){return a.utils.arrayIndexOf(c,j(b))!=-1})};f.mappedDestroy=function(a){var b=typeof a==M?a:function(b){return b===j(a)};return f.destroy(function(a){return b(j(a))})};f.mappedDestroyAll=function(b){var c=i(b,j);return f.destroy(function(b){return a.utils.arrayIndexOf(c,j(b))!=-1})};f.mappedIndexOf=function(b){var c=i(f(),j),d=j(b);return a.utils.arrayIndexOf(c,d)};f.mappedCreate=function(c){if(f.mappedIndexOf(c)!==-1)throw new Error("There already is an object with the key that you specified.");var b=z()?I(c):c;if(v()){var d=t(b,c);if(a.isWriteableObservable(b))b(d);else b=d}f.push(b);return b}}var T=i(a.utils.unwrapObservable(f),j).sort(),Q=i(g,j);O&&Q.sort();var R=a.utils.compareArrays(T,Q),C={},r,G,H=a.utils.unwrapObservable(g),L={},J=d;for(r=0,G=H.length;r<G;r++){var q=j(H[r]);if(q===undefined||q instanceof Object){J=false;break}L[q]=H[r]}var K=[];for(r=0,G=R.length;r<G;r++){var q=R[r],s,N=y+"["+r+"]";switch(q.status){case"added":var F=J?L[q.value]:o(a.utils.unwrapObservable(g),q.value,j);s=l(undefined,F,h,m,f,N);if(!z())s=a.utils.unwrapObservable(s);var E=x(a.utils.unwrapObservable(g),F,C);K[E]=s;C[E]=d;break;case"retained":var F=J?L[q.value]:o(a.utils.unwrapObservable(g),q.value,j);s=o(f,q.value,j);l(s,F,h,m,f,N);var E=x(a.utils.unwrapObservable(g),F,C);K[E]=s;C[E]=d;break;case"deleted":s=o(f,q.value,j)}S.push({event:q.status,item:s})}f(K);h[m]&&h[m].arrayChanged&&a.utils.arrayForEach(S,function(a){h[m].arrayChanged(a.event,a.item)})}return f}function x(b,e,c){for(var a=0,f=b.length;a<f;a++){if(c[a]===d)continue;if(b[a]===e)return a}return null}function z(e,d){var c;if(d)c=d(e);if(b.getType(c)===h)c=e;return a.utils.unwrapObservable(c)}function o(b,e,f){b=a.utils.unwrapObservable(b);for(var c=0,g=b.length;c<g;c++){var d=b[c];if(z(d,f)===e)return d}throw new Error("When calling ko.update*, the key '"+e+"' was not found!");}function i(c,b){return a.utils.arrayMap(a.utils.unwrapObservable(c),function(a){return b?z(a,b):a})}function u(a,e){if(b.getType(a)===c)for(var d=0;d<a.length;d++)e(d);else for(var f in a)e(f)}function w(a){var d=b.getType(a);return(d===j||d===c)&&a!==null}function C(d,f,e){var a=d||"";if(b.getType(f)===c){if(d)a+="["+e+"]"}else{if(d)a+=".";a+=e}return a}b.visitModel=function(i,k,d){d=d||{};d.visitedObjects=d.visitedObjects||new y;var g,f=a.utils.unwrapObservable(i);if(!w(f))return k(i,d.parentName);else{d=t(d,f[e]);k(i,d.parentName);g=b.getType(f)===c?[]:{}}d.visitedObjects.save(i,g);var l=d.parentName;u(f,function(i){if(d.ignore&&a.utils.arrayIndexOf(d.ignore,i)!=-1)return;var m=f[i];d.parentName=C(l,f,i);if(a.utils.arrayIndexOf(d.copy,i)===-1)if(a.utils.arrayIndexOf(d.include,i)===-1)if(f[e]&&f[e].mappedProperties&&!f[e].mappedProperties[i]&&!(b.getType(f)===c))return;var o;switch(b.getType(a.utils.unwrapObservable(m))){case j:case c:case h:var n=d.visitedObjects.get(m);g[i]=b.getType(n)!==h?n:b.visitModel(m,k,d);break;default:g[i]=k(m,d.parentName)}});return g};function B(){var c=[],b=[];this.save=function(f,e){var d=a.utils.arrayIndexOf(c,f);if(d>=0)b[d]=e;else{c.push(f);b.push(e)}};this.get=function(f){var d=a.utils.arrayIndexOf(c,f),e=d>=0?b[d]:undefined;return e}}function y(){var b={},a=function(d){var a;try{a=JSON.stringify(d)}catch(e){a="$$$"}var c=b[a];if(c===undefined){c=new B;b[a]=c}return c};this.save=function(b,c){a(b).save(b,c)};this.get=function(b){return a(b).get(b)}}});ko.exportSymbol=function(d,e){for(var a=d.split("."),b=window,c=0;c<a.length-1;c++)b=b[a[c]];b[a[a.length-1]]=e};ko.exportProperty=function(c,a,b){c[a]=b};(function(){var c=true,e="undefined",h="object";ko.mapping={};var a="__ko_mapping__",i=ko.dependentObservable,p=0,n,l,k={include:["_destroy"],ignore:[],copy:[]},b=k;function q(c,b){for(var a in b)if(b.hasOwnProperty(a)&&b[a])if(c[a]&&!(c[a]instanceof Array))q(c[a],b[a]);else c[a]=b[a]}function s(b,c){var a={};q(a,b);q(a,c);return a}ko.mapping.isMapped=function(c){var b=ko.utils.unwrapObservable(c);return b&&b[a]};ko.mapping.fromJS=function(e){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){p=0},0);if(!p++){n=[];l=new v}var b,c;if(arguments.length==2)if(arguments[1][a])c=arguments[1];else b=arguments[1];if(arguments.length==3){b=arguments[1];c=arguments[2]}if(c)b=s(b,c[a]);b=r(b);var d=j(c,e,b);if(c)d=c;!--p&&window.setTimeout(function(){ko.utils.arrayForEach(n,function(a){a&&a()})},0);d[a]=s(d[a],b);return d};ko.mapping.fromJSON=function(a){var b=ko.utils.parseJson(a);arguments[0]=b;return ko.mapping.fromJS.apply(this,arguments)};ko.mapping.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};ko.mapping.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};ko.mapping.toJS=function(d,c){!b&&ko.mapping.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(!(b.ignore instanceof Array))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(!(b.include instanceof Array))throw new Error("ko.mapping.defaultOptions().include should be an array.");if(!(b.copy instanceof Array))throw new Error("ko.mapping.defaultOptions().copy should be an array.");c=r(c,d[a]);return ko.mapping.visitModel(d,function(a){return ko.utils.unwrapObservable(a)},c)};ko.mapping.toJSON=function(b,c){var a=ko.mapping.toJS(b,c);return ko.utils.stringifyJson(a)};ko.mapping.defaultOptions=function(){if(arguments.length>0)b=arguments[0];else return b};ko.mapping.resetDefaultOptions=function(){b={include:k.include.slice(0),ignore:k.ignore.slice(0),copy:k.copy.slice(0)}};function d(a){return a&&typeof a===h&&a.constructor==(new Date).constructor?"date":typeof a}function r(a,c){a=a||{};if(a.create instanceof Function||a.update instanceof Function||a.key instanceof Function||a.arrayChanged instanceof Function)a={"":a};if(c){a.ignore=f(c.ignore,a.ignore);a.include=f(c.include,a.include);a.copy=f(c.copy,a.copy)}a.ignore=f(a.ignore,b.ignore);a.include=f(a.include,b.include);a.copy=f(a.copy,b.copy);a.mappedProperties=a.mappedProperties||{};return a}function f(a,b){if(!(a instanceof Array))if(d(a)===e)a=[];else a=[a];if(!(b instanceof Array))if(d(b)===e)b=[];else b=[b];return a.concat(b)}function x(a,b){var d=ko.dependentObservable;ko.dependentObservable=function(e,j,b){b=b||{};var g=b.deferEvaluation;if(e&&typeof e==h)b=e;var f=false,k=function(b){var d=i({read:function(){if(!f){ko.utils.arrayRemoveItem(a,b);f=c}return b.apply(b,arguments)},write:function(a){return b(a)},deferEvaluation:c});d.__ko_proto__=i;return d};b.deferEvaluation=c;var d=new i(e,j,b);d.__ko_proto__=i;if(!g){a.push(d);d=k(d)}return d};var e=b();ko.dependentObservable=d;return e}function j(b,e,f,i,P,v){var G="function",O=ko.utils.unwrapObservable(e)instanceof Array;v=v||"";if(ko.mapping.isMapped(b)){var N=ko.utils.unwrapObservable(b)[a];f=s(N,f)}var B={data:e,parent:P},D=function(){return f[i]&&f[i].create instanceof Function},E=function(a){return x(n,function(){return f[i].create({data:a||B.data,parent:B.parent})})},p=function(){return f[i]&&f[i].update instanceof Function},k=function(a,c){var b={data:c||B.data,parent:B.parent,target:ko.utils.unwrapObservable(a)};if(ko.isWriteableObservable(a))b.observable=a;return f[i].update(b)};if(l.get(e))return b;i=i||"";if(!O)if(!o(e))switch(d(e)){case G:if(p())if(ko.isWriteableObservable(e)){e(k(e));b=e}else b=k(e);else b=e;break;default:if(ko.isWriteableObservable(b))if(p())b(k(b));else b(ko.utils.unwrapObservable(e));else{if(D())b=E();else b=ko.observable(ko.utils.unwrapObservable(e));p()&&b(k(b))}}else{b=ko.utils.unwrapObservable(b);if(!b)if(D()){var w=E();if(p())w=k(w);return w}else{if(p())return k(w);b={}}if(p())b=k(b);l.save(e,b);t(e,function(a){var d=v.length?v+"."+a:a;if(ko.utils.arrayIndexOf(f.ignore,d)!=-1)return;if(ko.utils.arrayIndexOf(f.copy,d)!=-1){b[a]=e[a];return}var h=l.get(e[a]),g=h||j(b[a],e[a],f,a,b,d);if(ko.isWriteableObservable(b[a]))b[a](ko.utils.unwrapObservable(g));else b[a]=g;f.mappedProperties[d]=c})}else{var L=[],I=false,h=function(a){return a};if(f[i]&&f[i].key){h=f[i].key;I=c}if(!ko.isObservable(b)){b=ko.observableArray([]);b.mappedRemove=function(a){var c=typeof a==G?a:function(b){return b===h(a)};return b.remove(function(a){return c(h(a))})};b.mappedRemoveAll=function(a){var c=g(a,h);return b.remove(function(a){return ko.utils.arrayIndexOf(c,h(a))!=-1})};b.mappedDestroy=function(a){var c=typeof a==G?a:function(b){return b===h(a)};return b.destroy(function(a){return c(h(a))})};b.mappedDestroyAll=function(a){var c=g(a,h);return b.destroy(function(a){return ko.utils.arrayIndexOf(c,h(a))!=-1})};b.mappedIndexOf=function(a){var c=g(b(),h),d=h(a);return ko.utils.arrayIndexOf(c,d)};b.mappedCreate=function(c){if(b.mappedIndexOf(c)!==-1)throw new Error("There already is an object with the key that you specified.");var a=D()?E(c):c;if(p()){var d=k(a,c);if(ko.isWriteableObservable(a))a(d);else a=d}b.push(a);return a}}var M=g(ko.utils.unwrapObservable(b),h).sort(),J=g(e,h);I&&J.sort();for(var K=ko.utils.compareArrays(M,J),C={},F=[],A=0,Q=K.length;A<Q;A++){var r=K[A],q,H=v+"["+A+"]";switch(r.status){case"added":var z=m(ko.utils.unwrapObservable(e),r.value,h);q=ko.utils.unwrapObservable(j(undefined,z,f,i,b,H));var y=u(ko.utils.unwrapObservable(e),z,C);F[y]=q;C[y]=c;break;case"retained":var z=m(ko.utils.unwrapObservable(e),r.value,h);q=m(b,r.value,h);j(q,z,f,i,b,H);var y=u(ko.utils.unwrapObservable(e),z,C);F[y]=q;C[y]=c;break;case"deleted":q=m(b,r.value,h)}L.push({event:r.status,item:q})}b(F);f[i]&&f[i].arrayChanged&&ko.utils.arrayForEach(L,function(a){f[i].arrayChanged(a.event,a.item)})}return b}function u(b,e,d){for(var a=0,f=b.length;a<f;a++){if(d[a]===c)continue;if(b[a]===e)return a}return null}function w(c,b){var a;if(b)a=b(c);if(d(a)===e)a=c;return ko.utils.unwrapObservable(a)}function m(e,b,d){var c="When calling ko.update*, the key '",a=ko.utils.arrayFilter(ko.utils.unwrapObservable(e),function(a){return w(a,d)===b});if(a.length==0)throw new Error(c+b+"' was not found!");if(a.length>1&&o(a[0]))throw new Error(c+b+"' was not unique!");return a[0]}function g(b,a){return ko.utils.arrayMap(ko.utils.unwrapObservable(b),function(b){return a?w(b,a):b})}function t(a,c){if(a instanceof Array)for(var b=0;b<a.length;b++)c(b);else for(var d in a)c(d)}function o(a){var b=d(a);return b===h&&a!==null&&b!==e}function y(b,d,c){var a=b||"";if(d instanceof Array){if(b)a+="["+c+"]"}else{if(b)a+=".";a+=c}return a}ko.mapping.visitModel=function(g,i,b){b=b||{};b.visitedObjects=b.visitedObjects||new v;if(!b.parentName)b=r(b);var f,c=ko.utils.unwrapObservable(g);if(!o(c))return i(g,b.parentName);else{i(g,b.parentName);f=c instanceof Array?[]:{}}b.visitedObjects.save(g,f);var j=b.parentName;t(c,function(g){if(b.ignore&&ko.utils.arrayIndexOf(b.ignore,g)!=-1)return;var k=c[g];b.parentName=y(j,c,g);if(ko.utils.arrayIndexOf(b.copy,g)===-1)if(ko.utils.arrayIndexOf(b.include,g)===-1)if(c[a]&&c[a].mappedProperties&&!c[a].mappedProperties[g]&&!(c instanceof Array))return;var m;switch(d(ko.utils.unwrapObservable(k))){case h:case e:var l=b.visitedObjects.get(k);f[g]=d(l)!==e?l:ko.mapping.visitModel(k,i,b);break;default:f[g]=i(k,b.parentName)}});return f};function v(){var b=[],a=[];this.save=function(e,d){var c=ko.utils.arrayIndexOf(b,e);if(c>=0)a[c]=d;else{b.push(e);a.push(d)}};this.get=function(d){var c=ko.utils.arrayIndexOf(b,d);return c>=0?a[c]:undefined}}ko.exportSymbol("ko.mapping",ko.mapping);ko.exportSymbol("ko.mapping.fromJS",ko.mapping.fromJS);ko.exportSymbol("ko.mapping.fromJSON",ko.mapping.fromJSON);ko.exportSymbol("ko.mapping.isMapped",ko.mapping.isMapped);ko.exportSymbol("ko.mapping.defaultOptions",ko.mapping.defaultOptions);ko.exportSymbol("ko.mapping.toJS",ko.mapping.toJS);ko.exportSymbol("ko.mapping.toJSON",ko.mapping.toJSON);ko.exportSymbol("ko.mapping.updateFromJS",ko.mapping.updateFromJS);ko.exportSymbol("ko.mapping.updateFromJSON",ko.mapping.updateFromJSON);ko.exportSymbol("ko.mapping.visitModel",ko.mapping.visitModel)})();window.Modernizr=function(f,b,j){var D="@media (",J="function",h="div",C="input",d="",r=null,i=" ";function N(){c.input=function(b){for(var a=0,c=b.length;a<c;a++)H[b[a]]=b[a]in e;return H}("autocomplete autofocus list placeholder max min multiple pattern required step".split(i)),c.inputtypes=function(f){for(var d=0,a,c,h,i=f.length;d<i;d++)e.setAttribute("type",c=f[d]),a=e.type!=="text",a&&(e.value=u,e.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(c)&&e.style.WebkitAppearance!==j?(g.appendChild(e),h=b.defaultView,a=h.getComputedStyle&&h.getComputedStyle(e,r).WebkitAppearance!=="textfield"&&e.offsetHeight!==0,g.removeChild(e)):/^(search|tel)$/.test(c)||(/^(url|email)$/.test(c)?(a=e.checkValidity&&e.checkValidity()===!1):/^color$/.test(c)?(g.appendChild(e),g.offsetWidth,a=e.value!=u,g.removeChild(e)):(a=e.value!=u))),G[f[d]]=!!a;return G}("search tel url email datetime date month week time datetime-local number range color".split(i))}function k(a,c){var b=a.charAt(0).toUpperCase()+a.substr(1),d=(a+i+q.join(b+i)+b).split(i);return t(d,c)}function t(a,c){for(var b in a)if(l[a[b]]!==j)return c=="pfx"?a[b]:!0;return!1}function s(a,b){return!!~(d+a).indexOf(b)}function o(a,b){return typeof a===b}function K(a,b){return n(m.join(a+";")+(b||d))}function n(a){l.cssText=a}var L="2.0",c={},M=!0,g=b.documentElement,Q=b.head||b.getElementsByTagName("head")[0],p="modernizr",E=b.createElement(p),l=E.style,e=b.createElement(C),u=":)",F=Object.prototype.toString,m=" -webkit- -moz- -o- -ms- -khtml- ".split(i),q="Webkit Moz O ms Khtml".split(i),v={svg:"http://www.w3.org/2000/svg"},a={},G={},H={},I=[],A=function(f,l,c,i){var j,k,e,a=b.createElement(h);if(parseInt(c,10))while(c--)e=b.createElement(h),e.id=i?i[c]:p+(c+1),a.appendChild(e);j=["&shy;","<style>",f,"</style>"].join(d),a.id=p,a.innerHTML+=j,g.appendChild(a),k=l(a,f),a.parentNode.removeChild(a);return!!k},O=function(a){if(f.matchMedia)return matchMedia(a).matches;var b;A("@media "+a+" { #"+p+" { position: absolute; } }",function(a){b=(f.getComputedStyle?getComputedStyle(a,r):a.currentStyle).position=="absolute"});return b},w=function(){function c(e,c){c=c||b.createElement(a[e]||h),e="on"+e;var f=e in c;f||(c.setAttribute||(c=b.createElement(h)),c.setAttribute&&c.removeAttribute&&(c.setAttribute(e,d),f=o(c[e],J),o(c[e],j)||(c[e]=j),c.removeAttribute(e))),c=r;return f}var a={select:C,change:C,submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c}(),x,B={}.hasOwnProperty,y;!o(B,j)&&!o(B.call,j)?(y=function(a,b){return B.call(a,b)}):(y=function(a,b){return b in a&&o(a.constructor.prototype[b],j)});var P=function(g,e){var h=g.join(d),a=e.length;A(h,function(j,k){var e=b.styleSheets[b.styleSheets.length-1],g=e.cssText||e.cssRules[0].cssText,h=j.childNodes,d={};while(a--)d[h[a].id]=h[a];c.touch="ontouchstart"in f||d.touch.offsetTop===9,c.csstransforms3d=d.csstransforms3d.offsetLeft===9,c.generatedcontent=d.generatedcontent.offsetHeight>=1,c.fontface=/src/i.test(g)&&g.indexOf(k.split(i)[0])===0},a,e)}(['@font-face {font-family:"font";src:url("//:")}',[D,m.join("touch-enabled),("),p,")","{#touch{top:9px;position:absolute}}"].join(d),[D,m.join("transform-3d),("),p,")","{#csstransforms3d{left:9px;position:absolute}}"].join(d),['#generatedcontent:after{content:"',u,'"}'].join(d)],["fontface","touch","csstransforms3d","generatedcontent"]);a.flexbox=function(){function f(a,b,c,e){a.style.cssText=m.join(b+":"+c+";")+(e||d)}function e(b,a,c,e){a+=":",b.style.cssText=(a+m.join(c+";"+a)).slice(0,-a.length)+(e||d)}var a=b.createElement(h),c=b.createElement(h);e(a,"display","box","width:42px;padding:0;"),f(c,"box-flex","1","width:10px;"),a.appendChild(c),g.appendChild(a);var i=c.offsetWidth===42;a.removeChild(c),g.removeChild(a);return i},a.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},a.canvastext=function(){return!!c.canvas&&!!o(b.createElement("canvas").getContext("2d").fillText,J)},a.webgl=function(){return!!f.WebGLRenderingContext},a.touch=function(){return c.touch},a.geolocation=function(){return!!navigator.geolocation},a.postmessage=function(){return!!f.postMessage},a.websqldatabase=function(){return!!f.openDatabase},a.indexedDB=function(){for(var a=-1,b=q.length;++a<b;)if(f[q[a].toLowerCase()+"IndexedDB"])return!0;return!!f.indexedDB},a.hashchange=function(){return w("hashchange",f)&&(b.documentMode===j||b.documentMode>7)},a.history=function(){return!!f.history&&!!history.pushState},a.draganddrop=function(){return w("dragstart")&&w("drop")},a.websockets=function(){for(var a="WebSocket",b=-1,c=q.length;++b<c;)if(f[q[b]+a])return!0;return a in f},a.rgba=function(){n("background-color:rgba(150,255,150,.5)");return s(l.backgroundColor,"rgba")},a.hsla=function(){n("background-color:hsla(120,40%,100%,.5)");return s(l.backgroundColor,"rgba")||s(l.backgroundColor,"hsla")},a.multiplebgs=function(){n("background:url(//:),url(//:),red url(//:)");return/(url\s*\(.*?){3}/.test(l.background)},a.backgroundsize=function(){return k("backgroundSize")},a.borderimage=function(){return k("borderImage")},a.borderradius=function(){return k("borderRadius")},a.boxshadow=function(){return k("boxShadow")},a.textshadow=function(){return b.createElement(h).style.textShadow===d},a.opacity=function(){K("opacity:.55");return/^0.55$/.test(l.opacity)},a.cssanimations=function(){return k("animationName")},a.csscolumns=function(){return k("columnCount")},a.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";n((a+m.join(b+a)+m.join(c+a)).slice(0,-a.length));return s(l.backgroundImage,"gradient")},a.cssreflections=function(){return k("boxReflect")},a.csstransforms=function(){return!!t(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},a.csstransforms3d=function(){var a=!!t(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=c.csstransforms3d);return a},a.csstransitions=function(){return k("transitionProperty")},a.fontface=function(){return c.fontface},a.generatedcontent=function(){return c.generatedcontent},a.video=function(){var c=b.createElement("video"),a=!1;try{if(a=!!c.canPlayType){a=new Boolean(a),a.ogg=c.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';a.h264=c.canPlayType(d+'"')||c.canPlayType(d+', mp4a.40.2"'),a.webm=c.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return a},a.audio=function(){var c=b.createElement("audio"),a=!1;try{if(a=!!c.canPlayType)a=new Boolean(a),a.ogg=c.canPlayType('audio/ogg; codecs="vorbis"'),a.mp3=c.canPlayType("audio/mpeg;"),a.wav=c.canPlayType('audio/wav; codecs="1"'),a.m4a=c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/aac;")}catch(d){}return a},a.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}},a.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}},a.webworkers=function(){return!!f.Worker},a.applicationcache=function(){return!!f.applicationCache},a.svg=function(){return!!b.createElementNS&&!!b.createElementNS(v.svg,"svg").createSVGRect},a.inlinesvg=function(){var a=b.createElement(h);a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==v.svg},a.smil=function(){return!!b.createElementNS&&/SVG/.test(F.call(b.createElementNS(v.svg,"animate")))},a.svgclippaths=function(){return!!b.createElementNS&&/SVG/.test(F.call(b.createElementNS(v.svg,"clipPath")))};for(var z in a)y(a,z)&&(x=z.toLowerCase(),c[x]=a[z](),I.push((c[x]?d:"no-")+x));c.input||N(),n(d),E=e=r,f.attachEvent&&function(){var a=b.createElement(h);a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(f,b){function o(b){var a=-1;while(++a<l)b.createElement(i[a])}f.iepp=f.iepp||{};var a=f.iepp,h=a.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",i=h.split("|"),l=i.length,p=new RegExp("(^|\\s)("+h+")","gi"),q=new RegExp("<(/*)("+h+")","gi"),s=/^\s*[\{\}]\s*$/,t=new RegExp("(^|[^\\n]*?\\s)("+h+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),m=b.createDocumentFragment(),k=b.documentElement,n=k.firstChild,e=b.createElement("body"),g=b.createElement("style"),u=/print|all/,c;a.getCSS=function(e,b){if(e+d===j)return d;var f=-1,h=e.length,c,g=[];while(++f<h){c=e[f];if(c.disabled)continue;b=c.media||b,u.test(b)&&g.push(a.getCSS(c.imports,b),c.cssText),b="all"}return g.join(d)},a.parseCSS=function(c){var b=[],a;while((a=t.exec(c))!=r)b.push(((s.exec(a[1])?"\n":a[1])+a[2]+a[3]).replace(p,"$1.iepp_$2")+a[4]);return b.join("\n")},a.writeHTML=function(){var a=-1;c=c||b.body;while(++a<l){var d=b.getElementsByTagName(i[a]),g=d.length,f=-1;while(++f<g)d[f].className.indexOf("iepp_")<0&&(d[f].className+=" iepp_"+i[a])}m.appendChild(c),k.appendChild(e),e.className=c.className,e.id=c.id,e.innerHTML=c.innerHTML.replace(q,"<$1font")},a._beforePrint=function(){g.styleSheet.cssText=a.parseCSS(a.getCSS(b.styleSheets,"all")),a.writeHTML()},a.restoreHTML=function(){e.innerHTML=d,k.removeChild(e),k.appendChild(c)},a._afterPrint=function(){a.restoreHTML(),g.styleSheet.cssText=d},o(b),o(m);a.disablePP||(n.insertBefore(g,n.firstChild),g.media="print",g.className="iepp-printshim",f.attachEvent("onbeforeprint",a._beforePrint),f.attachEvent("onafterprint",a._afterPrint))}(f,b),c._version=L,c._prefixes=m,c._domPrefixes=q,c.mq=O,c.hasEvent=w,c.testProp=function(a){return t([a])},c.testAllProps=k,c.testStyles=A,g.className=g.className.replace(/\bno-js\b/,d)+(M?" js "+I.join(i):d);return c}(this,this.document),function(i,a,E){var B="DOMContentLoaded",o="object",h=null,g="script",A="complete";function y(a){return!a||a=="loaded"||a==A}function c(){var b=1,a=-1;while(e.length-++a)if(e[a].s&&!(b=e[a].r))break;b&&s()}function I(j){var e=a.createElement(g),i;e.src=j.s,e.onreadystatechange=e.onload=function(){!i&&y(e.readyState)&&(i=1,c(),e.onload=e.onreadystatechange=h)},d(function(){i||(i=1,c())},b.errorTimeout),j.e?e.onload():f.parentNode.insertBefore(e,f)}function H(h){var e=a.createElement("link"),g;e.href=h.s,e.rel="stylesheet",e.type="text/css",!h.e&&(v||m)?function h(a){d(function(){if(!g)try{a.sheet.cssRules.length?(g=1,c()):h(a)}catch(b){b.code==1e3||b.message=="security"||b.message=="denied"?(g=1,d(function(){c()},0)):h(a)}},0)}(e):(e.onload=function(){g||(g=1,d(function(){c()},0))},h.e&&e.onload()),d(function(){g||(g=1,c())},b.errorTimeout),!h.e&&f.parentNode.insertBefore(e,f)}function s(){var a=e.shift();l=1,a?a.t?d(function(){a.t=="c"?H(a):I(a)},0):(a(),c()):(l=0)}function G(k,p,q,t,w,v){function r(){!m&&y(i.readyState)&&(j.r=m=1,!l&&c(),i.onload=i.onreadystatechange=h,d(function(){u.removeChild(i)},0))}var i=a.createElement(k),m=0,j={t:q,s:p,e:v};i.src=i.data=p,!n&&(i.style.display="none"),i.width=i.height="0",k!=o&&(i.type=q),i.onload=i.onreadystatechange=r,k=="img"?(i.onerror=r):k==g&&(i.onerror=function(){j.e=j.r=1,s()}),e.splice(t,0,j),u.insertBefore(i,n?h:f),d(function(){m||(u.removeChild(i),j.r=j.e=m=1,c())},b.errorTimeout)}function F(b,a,c){var d=a=="c"?L:z;l=0,a=a||"j",j(b)?G(d,b,a,this.i++,k,c):(e.splice(this.i++,0,b),e.length==1&&s());return this}function D(){var a=b;a.loader={load:F,i:0};return a}var k=a.documentElement,d=i.setTimeout,f=a.getElementsByTagName(g)[0],t={}.toString,e=[],l=0,m="MozAppearance"in k.style,n=m&&!!a.createRange().compareNode,M=m&&!n,u=n?k:f.parentNode,J=i.opera&&t.call(i.opera)=="[object Opera]",v="webkitAppearance"in k.style,K=v&&"async"in a.createElement(g),z=m?o:J||K?"img":g,L=v?"img":z,C=Array.isArray||function(a){return t.call(a)=="[object Array]"},p=function(a){return typeof a==o},j=function(a){return typeof a=="string"},q=function(a){return t.call(a)=="[object Function]"},r=[],w={},x,b;b=function(a){function h(f){for(var c=f.split("!"),g=r.length,e=c.pop(),h=c.length,b={url:e,origUrl:e,prefixes:c},d,a=0;a<h;a++)d=w[c[a]],d&&(b=d(b));for(a=0;a<g;a++)b=r[a](b);return b}function d(c,a,e,d,f){var b=h(c),g=b.autoCallback;if(!b.bypass){a&&(a=q(a)?a:a[c]||a[d]||a[c.split("/").pop().split("?")[0]]);if(b.instead)return b.instead(c,a,e,d,f);e.load(b.url,b.forceCSS||!b.forceJS&&/css$/.test(b.url)?"c":E,b.noexec),(q(a)||q(g))&&e.load(function(){D(),a&&a(b.origUrl,f,d),g&&g(b.origUrl,f,d)})}}function g(a,c){function f(a){if(j(a))d(a,g,c,0,e);else if(p(a))for(b in a)a.hasOwnProperty(b)&&d(a[b],g,c,b,e)}var e=!!a.test,h=e?a.yep:a.nope,i=a.load||a.both,g=a.callback,b;f(h),f(i),a.complete&&c.load(a.complete)}var e,c,f=this.yepnope.loader;if(j(a))d(a,0,f,0);else if(C(a))for(e=0;e<a.length;e++)c=a[e],j(c)?d(c,0,f,0):C(c)?b(c):p(c)&&g(c,f);else p(a)&&g(a,f)},b.addPrefix=function(a,b){w[a]=b},b.addFilter=function(a){r.push(a)},b.errorTimeout=1e4,a.readyState==h&&a.addEventListener&&(a.readyState="loading",a.addEventListener(B,x=function(){a.removeEventListener(B,x,0),a.readyState=A},0)),i.yepnope=D()}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(b,o){var d=true;b.respond={};respond.update=function(){};respond.mediaQueriesSupported=o;if(o)return;var a=b.document,r=a.documentElement,i=[],e=[],c=[],g={},m=30,f=a.getElementsByTagName("head")[0]||r,l=f.getElementsByTagName("link"),h=[],s=function(){for(var f=l,k=f.length,e=0,c,a,j,i;e<k;e++){c=f[e],a=c.href,j=c.media,i=c.rel&&c.rel.toLowerCase()==="stylesheet";if(!!a&&i&&!g[a])if(!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(a)||a.replace(RegExp.$1,"").split("/")[0]===b.location.host)h.push({href:a,media:j});else g[a]=d}n()},n=function(){if(h.length){var a=h.shift();v(a.href,function(b){t(b,a.href,a.media);g[a.href]=d;n()})}},t=function(n,a,o){var h=n.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),g=h&&h.length||0,a=a.substring(0,a.lastIndexOf("/")),m=function(b){return b.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+a+"$2$3")},l=!g&&o,k=0,c,f,b,d,p;if(a.length)a+="/";if(l)g=1;for(;k<g;k++){c=0;if(l){f=o;e.push(m(n))}else{f=h[k].match(/@media ([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;e.push(RegExp.$2&&m(RegExp.$2))}d=f.split(",");p=d.length;for(;c<p;c++){b=d[c];i.push({media:b.match(/(only\s+)?([a-zA-Z]+)(\sand)?/)&&RegExp.$2,rules:e.length-1,minw:b.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1),maxw:b.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1)})}}j()},k,p,j=function(v){var s="clientWidth",n=r[s],o=a.compatMode==="CSS1Compat"&&n||a.body[s]||n,h={},q=a.createDocumentFragment(),w=l[l.length-1],u=(new Date).getTime();if(v&&k&&u-k<m){clearTimeout(p);p=setTimeout(j,m);return}else k=u;for(var g in i){var b=i[g];if(!b.minw&&!b.maxw||(!b.minw||b.minw&&o>=b.minw)&&(!b.maxw||b.maxw&&o<=b.maxw)){if(!h[b.media])h[b.media]=[];h[b.media].push(e[b.rules])}}for(var g in c)c[g]&&c[g].parentNode===f&&f.removeChild(c[g]);for(var g in h){var d=a.createElement("style"),t=h[g].join("\n");d.type="text/css";d.media=g;if(d.styleSheet)d.styleSheet.cssText=t;else d.appendChild(a.createTextNode(t));q.appendChild(d);c.push(d)}f.insertBefore(q,w.nextSibling)},v=function(c,b){var a=u();if(!a)return;a.open("GET",c,d);a.onreadystatechange=function(){if(a.readyState!=4||a.status!=200&&a.status!=304)return;b(a.responseText)};if(a.readyState==4)return;a.send()},u=function(){var a=false,b=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new XMLHttpRequest}],c=b.length;while(c--){try{a=b[c]()}catch(d){continue}break}return function(){return a}}();s();respond.update=s;function q(){j(d)}if(b.addEventListener)b.addEventListener("resize",q,false);else b.attachEvent&&b.attachEvent("onresize",q)})(this,function(h){if(h.matchMedia)return true;var f,b=document,d=b.documentElement,g=d.firstElementChild||d.firstChild,e=!b.body,c=b.body||b.createElement("body"),a=b.createElement("div"),i="only all";a.id="mq-test-1";a.style.cssText="position:absolute;top:-99em";c.appendChild(a);a.innerHTML='_<style media="'+i+'"> #mq-test-1 { width: 9px; }</style>';e&&d.insertBefore(c,g);a.removeChild(a.firstChild);f=a.offsetWidth==9;if(e)d.removeChild(c);else c.removeChild(a);return f}(this));(function(a,o){var d=true;a.respond={};respond.update=function(){};respond.mediaQueriesSupported=o;if(o)return;var b=a.document,q=b.documentElement,i=[],f=[],c=[],l={},n=30,e=b.getElementsByTagName("head")[0]||q,g=e.getElementsByTagName("link"),h=[],m=function(){for(var i=g,k=i.length,e=0,c,b,f,j;e<k;e++){c=i[e],b=c.href,f=c.media,j=c.rel&&c.rel.toLowerCase()==="stylesheet";if(!!b&&j&&!l[b])if(!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(b)||b.replace(RegExp.$1,"").split("/")[0]===a.location.host)h.push({href:b,media:f});else l[b]=d}s()},s=function(){if(h.length){var a=h.shift();v(a.href,function(b){u(b,a.href,a.media);l[a.href]=d;s()})}},u=function(m,a,o){var g=m.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),h=g&&g.length||0,a=a.substring(0,a.lastIndexOf("/")),n=function(b){return b.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+a+"$2$3")},p=!h&&o,d=0,b,e,c,k,l;if(a.length)a+="/";if(p)h=1;for(;d<h;d++){b=0;if(p){e=o;f.push(n(m))}else{e=g[d].match(/@media ([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;f.push(RegExp.$2&&n(RegExp.$2))}k=e.split(",");l=k.length;for(;b<l;b++){c=k[b];i.push({media:c.match(/(only\s+)?([a-zA-Z]+)(\sand)?/)&&RegExp.$2,rules:f.length-1,minw:c.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1),maxw:c.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1)})}}j()},k,p,j=function(w){var s="clientWidth",u=q[s],r=b.compatMode==="CSS1Compat"&&u||b.body[s]||u,l={},o=b.createDocumentFragment(),v=g[g.length-1],t=(new Date).getTime();if(w&&k&&t-k<n){clearTimeout(p);p=setTimeout(j,n);return}else k=t;for(var h in i){var a=i[h];if(!a.minw&&!a.maxw||(!a.minw||a.minw&&r>=a.minw)&&(!a.maxw||a.maxw&&r<=a.maxw)){if(!l[a.media])l[a.media]=[];l[a.media].push(f[a.rules])}}for(var h in c)c[h]&&c[h].parentNode===e&&e.removeChild(c[h]);for(var h in l){var d=b.createElement("style"),m=l[h].join("\n");d.type="text/css";d.media=h;if(d.styleSheet)d.styleSheet.cssText=m;else d.appendChild(b.createTextNode(m));o.appendChild(d);c.push(d)}e.insertBefore(o,v.nextSibling)},v=function(b,c){var a=t();if(!a)return;a.open("GET",b,d);a.onreadystatechange=function(){if(a.readyState!=4||a.status!=200&&a.status!=304)return;c(a.responseText)};if(a.readyState==4)return;a.send()},t=function(){var a=false,b=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new XMLHttpRequest}],c=b.length;while(c--){try{a=b[c]()}catch(d){continue}break}return function(){return a}}();m();respond.update=m;function r(){j(d)}if(a.addEventListener)a.addEventListener("resize",r,false);else a.attachEvent&&a.attachEvent("onresize",r)})(this,function(h){if(h.matchMedia)return true;var e,b=document,c=b.documentElement,i=c.firstElementChild||c.firstChild,f=!b.body,d=b.body||b.createElement("body"),a=b.createElement("div"),g="only all";a.id="mq-test-1";a.style.cssText="position:absolute;top:-99em";d.appendChild(a);a.innerHTML='_<style media="'+g+'"> #mq-test-1 { width: 9px; }</style>';f&&c.insertBefore(d,i);a.removeChild(a.firstChild);e=a.offsetWidth==9;if(f)c.removeChild(d);else d.removeChild(a);return e}(this));(function(a){typeof a.fn.each2=="undefined"&&a.fn.extend({each2:function(d){var b=a([0]),c=-1,e=this.length;while(++c<e&&(b.context=b[0]=this[c])&&d.call(b[0],c,b)!==false);return this}})})(jQuery);(function(a,c){var s=".select2-search-choice",v="select2-default",E=":selected",cb="span",bb="abbr",J="mousedown",hb="select2-offscreen",ab="</div>",gb="   </ul>",fb="   <ul class='select2-results'>",V="style",M="select2-search-choice-focus",L=".select2-search-choice-focus",y="</li>",l=10,U="select2-active",Z="select2-highlighted",I=".select2-highlighted",Y=".select2-disabled",p="select2-disabled",eb="li.select2-more-results",m=".select2-result-selectable",k="select2-container-active",D="select2-drop-active",r="select2-drop-above",X="select2-dropdown-open",db="select2-container-disabled",T="select2-change-triggered",w="value",j="select2-data",x="select2-result-selectable",K="disabled",S="tags",W="data",tb="multiple",F="select",H="blur",O="select2-focused",q="focus",n="tabIndex",i="select2",d="",N="<div></div>",sb="scroll-debounced",rb="mousemove-filtered",qb="select2-lastpos",ib="mousemove",pb="keyup-change",G="keydown",e=null,f=false,g=true;"use strict";if(window.Select2!==c)return;var b,z,P,Q,Ab,u;b={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=a.which?a.which:a;switch(a){case b.LEFT:case b.RIGHT:case b.UP:case b.DOWN:return g}return f},isControl:function(a){a=a.which?a.which:a;switch(a){case b.SHIFT:case b.CTRL:case b.ALT:return g}return a.metaKey?g:f},isFunctionKey:function(a){a=a.which?a.which:a;return a>=112&&a<=123}};Ab=function(){var a=1;return function(){return a++}}();function t(a){return a&&typeof a==="string"?a.replace("&","&amp;"):a}function o(b,d){var a=0,e=d.length,c;if(typeof b==="undefined")return-1;if(b.constructor===String){for(;a<e;a=a+1)if(b.localeCompare(d[a])===0)return a}else for(;a<e;a=a+1){c=d[a];if(c.constructor===String){if(c.localeCompare(b)===0)return a}else if(c===b)return a}return-1}function C(a,b){return a===b?g:a===c||b===c?f:a===e||b===e?f:a.constructor===String?a.localeCompare(b)===0:b.constructor===String?b.localeCompare(a)===0:f}function lb(d,g){var c,b,f;if(d===e||d.length<1)return[];c=d.split(g);for(b=0,f=c.length;b<f;b=b+1)c[b]=a.trim(c[b]);return c}function yb(a){return a.outerWidth()-a.width()}function wb(b){var d="keyup-change-value";b.bind(G,function(){a.data(b,d)===c&&a.data(b,d,b.val())});b.bind("keyup",function(){var e=a.data(b,d);if(e!==c&&b.val()!==e){a.removeData(b,d);b.trigger(pb)}})}a(document).delegate("*",ib,function(b){a.data(document,qb,{x:b.pageX,y:b.pageY})});function vb(b){b.bind(ib,function(b){var d=a.data(document,qb);(d===c||d.x!==b.pageX||d.y!==b.pageY)&&a(b.target).trigger(rb,b)})}function kb(b,c){var a;return function(){window.clearTimeout(a);a=window.setTimeout(c,b)}}function ub(c){var a=f,b;return function(){if(a===f){b=c();a=g}return b}}function xb(b,a){var c=kb(b,function(b){a.trigger(sb,b)});a.bind("scroll",function(b){o(b.target,a.get())>=0&&c(b)})}function h(a){a.preventDefault();a.stopPropagation()}function zb(c){var d="-10000px";if(!u){var b=c[0].currentStyle||window.getComputedStyle(c[0],e);u=a(N).css({position:"absolute",left:d,top:d,display:"none",fontSize:b.fontSize,fontFamily:b.fontFamily,fontStyle:b.fontStyle,fontWeight:b.fontWeight,letterSpacing:b.letterSpacing,textTransform:b.textTransform,whiteSpace:"nowrap"});a("body").append(u)}u.text(c.val());return u.width()}function jb(b,d,a){var c=b.toUpperCase().indexOf(d.toUpperCase()),e=d.length;if(c<0){a.push(b);return}a.push(b.substring(0,c));a.push("<span class='select2-match'>");a.push(b.substring(c,c+e));a.push("</span>");a.push(b.substring(c+e,b.length))}function nb(b){var f,c=0,d=e,g=b.quietMillis||100;return function(h){window.clearTimeout(f);f=window.setTimeout(function(){c+=1;var g=c,f=b.data,i=b.transport||a.ajax,j=b.type||"GET";f=f.call(this,h.term,h.page,h.context);e!==d&&d.abort();d=i.call(e,{url:b.url,dataType:b.dataType,data:f,type:j,success:function(d){if(g<c)return;var a=b.results(d,h.page);h.callback(a)}})},g)}}function mb(f){var b=f,e,c=function(a){return d+a.text};if(!a.isArray(b)){c=b.text;if(!a.isFunction(c)){e=b.text;c=function(a){return a[e]}}b=b.results}return function(e){var g=e.term,f={};if(g===d){e.callback({results:b});return}f.results=a(b).filter(function(){return e.matcher(g,c(this))}).get();e.callback(f)}}function ob(b){return a.isFunction(b)?b:function(e){var g=e.term,f={results:[]};a(b).each(function(){var a=this,b=a.text!==c,h=b?a.text:a;(g===d||e.matcher(g,h))&&f.results.push(b?a:{id:a,text:a})});e.callback(f)}}function A(b){if(a.isFunction(b))return g;if(!b)return f;throw new Error("formatterName must be a function or a falsy value");}a(document).ready(function(){a(document).delegate("*","mousedown touchend",function(d){var b=a(d.target).closest("div.select2-container").get(0),e;if(b)a(document).find("div.select2-container-active").each(function(){this!==b&&a(this).data(i).blur()});else{b=a(d.target).closest("div.select2-drop").get(0);a(document).find("div.select2-drop-active").each(function(){this!==b&&a(this).data(i).blur()})}b=a(d.target);e=b.attr("for");if("LABEL"===d.target.tagName&&e&&e.length>0){b=a("#"+e);b=b.data(i);if(b!==c){b.focus();d.preventDefault()}}})});function B(b){return a.isFunction(b)?b():b}function R(c,d){var b=function(){};b.prototype=new c;b.prototype.constructor=b;b.prototype.parent=c.prototype;b.prototype=a.extend(b.prototype,d);return b}z=R(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(f){var b=this,j,k,l=".select2-results";b.opts=f=b.prepareOpts(f);b.id=f.id;f.element.data(i)!==c&&f.element.data(i)!==e&&b.destroy();b.enabled=g;b.container=b.createContainer();b.body=ub(function(){return f.element.closest("body")});f.element.attr("class")!==c&&b.container.addClass(f.element.attr("class"));b.container.css(B(f.containerCss));b.container.addClass(B(f.containerCssClass));b.opts.element.data(i,b).hide().after(b.container);b.container.data(i,b);b.dropdown=b.container.find(".select2-drop");b.dropdown.css(B(f.dropdownCss));b.dropdown.addClass(B(f.dropdownCssClass));b.dropdown.data(i,b);b.results=j=b.container.find(l);b.search=k=b.container.find("input.select2-input");k.attr(n,b.opts.element.attr(n));b.resultsPage=0;b.context=e;b.initContainer();b.initContainerWidth();vb(b.results);b.dropdown.delegate(l,rb,b.bind(b.highlightUnderEvent));xb(80,b.results);b.dropdown.delegate(l,sb,b.bind(b.loadMoreIfNeeded));a.fn.mousewheel&&j.mousewheel(function(b,f,d,a){var c=j.scrollTop(),e;if(a>0&&c-a<=0){j.scrollTop(0);h(b)}else if(a<0&&j.get(0).scrollHeight-j.scrollTop()+a<=j.height()){j.scrollTop(j.get(0).scrollHeight-j.height());h(b)}});wb(k);k.bind(pb,b.bind(b.updateResults));k.bind(q,function(){k.addClass(O);k.val()===" "&&k.val(d)});k.bind(H,function(){k.removeClass(O)});b.dropdown.delegate(l,"mouseup",b.bind(function(b){if(a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0){this.highlightUnderEvent(b);this.selectHighlighted(b)}else this.focusSearch();h(b)}));b.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()});if(a.isFunction(b.opts.initSelection)){b.initSelection();b.monitorSource()}f.element.is(":disabled")&&b.disable()},destroy:function(){var a=this.opts.element.data(i);if(a!==c){a.container.remove();a.dropdown.remove();a.opts.element.removeData(i).unbind(".select2").show()}},prepareOpts:function(b){var i="function",g,h,k,e;g=b.element;if(g.get(0).tagName.toLowerCase()===F)this.select=h=b.element;b.separator=b.separator||",";h&&a.each(["id",tb,"ajax","query","createSearchChoice","initSelection",W,S],function(){if(this in b)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});b=a.extend({},{populateResults:function(e,f,g){var d,l,k,i,h=this.opts.id;d=function(p,s,q){var k,r,f,o,n,e,i,l,m;for(k=0,r=p.length;k<r;k=k+1){f=p[k];o=h(f)!==c&&a(f.element).attr(K)!=K;n="children"in f&&f.children.length>0;e=a("<li></li>");e.addClass("select2-results-dept-"+q);e.addClass("select2-result");e.addClass(o?x:"select2-result-unselectable");n&&e.addClass("select2-result-with-children");i=a(N);i.addClass("select2-result-label");m=b.formatResult(f,i,g);m!==c&&i.html(t(m));e.append(i);if(n){l=a("<ul></ul>");l.addClass("select2-result-sub");d(f.children,l,q+1);e.append(l)}e.data(j,f);s.append(e)}};d(f,e,0)}},a.fn.select2.defaults,b);if(typeof b.id!==i){k=b.id;b.id=function(a){return a[k]}}if(h){b.query=this.bind(function(i){var j={results:[],more:f},k=i.term,b,e,h;h=function(a,c){var b;if(a.is("option"))i.matcher(k,a.text(),a)&&c.push({id:a.attr(w),text:a.text(),element:a.get()});else if(a.is("optgroup")){b={text:a.attr("label"),children:[],element:a.get()};a.children().each2(function(c,a){h(a,b.children)});b.children.length>0&&c.push(b)}};b=g.children();if(this.getPlaceholder()!==c&&b.length>0){e=b[0];if(a(e).text()===d)b=b.not(e)}b.each2(function(b,a){h(a,j.results)});i.callback(j)});b.id=function(a){return a.id}}else if(!("query"in b))if("ajax"in b){e=b.element.data("ajax-url");if(e&&e.length>0)b.ajax.url=e;b.query=nb(b.ajax)}else if(W in b)b.query=mb(b.data);else if(S in b){b.query=ob(b.tags);b.createSearchChoice=function(a){return{id:a,text:a}};b.initSelection=function(e,d){var c=[];a(lb(e.val(),b.separator)).each(function(){var g=this,e=this,d=b.tags;if(a.isFunction(d))d=d();a(d).each(function(){if(C(this.id,g)){e=this.text;return f}});c.push({id:g,text:e})});d(c)}}if(typeof b.query!==i)throw"query function not defined for Select2 "+b.element.attr("id");return b},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data(T)!==g&&this.initSelection()}))},triggerChange:function(b){var c=this;b=b||{};b=a.extend({},b,{type:"change",val:c.val()});c.opts.element.data(T,g);c.opts.element.trigger(b);c.opts.element.data(T,f);c.opts.element.click()},enable:function(){if(this.enabled)return;this.enabled=g;this.container.removeClass(db)},disable:function(){var a=this;if(!a.enabled)return;a.close();a.enabled=f;a.container.addClass(db)},opened:function(){return this.container.hasClass(X)},positionDropdown:function(){var b=this,d=b.container.offset(),n=b.container.outerHeight(),o=b.container.outerWidth(),e=b.dropdown.outerHeight(),l=a(window).scrollTop()+document.documentElement.clientHeight,h=d.top+n,j=h+e<=l,i=d.top-e>=b.body().scrollTop(),m=b.dropdown.hasClass(r),c,k;if(m){c=g;if(!i&&j)c=f}else{c=f;if(!j&&i)c=g}if(c){h=d.top-e;b.container.addClass(r);b.dropdown.addClass(r)}else{b.container.removeClass(r);b.dropdown.removeClass(r)}k={top:h,left:d.left,width:o};b.dropdown.css(k)},shouldOpen:function(){var a;if(this.opened())return f;a=jQuery.Event("open");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass(r);this.dropdown.removeClass(r)},open:function(){if(!this.shouldOpen())return f;window.setTimeout(this.bind(this.opening),1);return g},opening:function(){var a=this;a.clearDropdownAlignmentPreference();a.search.val()===" "&&a.search.val(d);a.dropdown.addClass(D);a.container.addClass(X).addClass(k);a.updateResults(g);a.dropdown[0]!==a.body().children().last()[0]&&a.dropdown.detach().appendTo(a.body());a.dropdown.show();a.ensureHighlightVisible();a.positionDropdown();a.focusSearch()},close:function(){var a=this;if(!a.opened())return;a.clearDropdownAlignmentPreference();a.dropdown.hide();a.container.removeClass(X).removeClass(k);a.results.empty();a.clearSearch();a.opts.element.trigger(jQuery.Event("close"))},clearSearch:function(){},ensureHighlightVisible:function(){var b=this.results,g,c,d,f,h,i,e;c=this.highlight();if(c<0)return;if(c==0){b.scrollTop(0);return}g=b.find(m);d=a(g[c]);f=d.offset().top+d.outerHeight();if(c===g.length-1){e=b.find(eb);if(e.length>0)f=e.offset().top+e.outerHeight()}h=b.offset().top+b.outerHeight();f>h&&b.scrollTop(b.scrollTop()+(f-h));i=d.offset().top-b.offset().top;i<0&&b.scrollTop(b.scrollTop()+i)},moveHighlight:function(e){var c=this.results.find(m),b=this.highlight();while(b>-1&&b<c.length){b+=e;var d=a(c[b]);if(d.hasClass(x)&&!d.hasClass(p)){this.highlight(b);break}}},highlight:function(c){var b=this.results.find(m).not(Y);if(arguments.length===0)return o(b.filter(I)[0],b.get());if(c>=b.length)c=b.length-1;if(c<0)c=0;b.removeClass(Z);a(b[c]).addClass(Z);this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(m).not(Y).length},highlightUnderEvent:function(d){var b=a(d.target).closest(m);if(b.length>0&&!b.is(I)){var c=this.results.find(m);this.highlight(c.index(b))}else b.length==0&&this.results.find(I).removeClass(Z)},loadMoreIfNeeded:function(){var a=this,b=a.results,c=b.find(eb),h,j=-1,e=a.resultsPage+1,d=a,i=a.search.val(),f=a.context;if(c.length===0)return;h=c.offset().top-b.offset().top-b.height();if(h<=0){c.addClass(U);a.opts.query({term:i,page:e,context:f,matcher:a.opts.matcher,callback:a.bind(function(a){d.opts.populateResults.call(this,b,a.results,{term:i,page:e,context:f});if(a.more===g){c.detach().appendTo(b.children(":last")).text(d.opts.formatLoadMore(e+1));window.setTimeout(function(){d.loadMoreIfNeeded()},l)}else c.remove();d.positionDropdown();d.resultsPage=e})})}},updateResults:function(q){var o="<li class='select2-no-results'>",h=this,i=h.search,k=h.results,b=h.opts,n,j=h;if(q!==g&&(h.showSearchInput===f||!h.opened()))return;i.addClass(U);function p(){k.scrollTop(0);i.removeClass(U);j.positionDropdown()}function m(a){k.html(t(a));p()}if(b.maximumSelectionSize>=1){n=h.data();if(a.isArray(n)&&n.length>=b.maximumSelectionSize&&A(b.formatSelectionTooBig,"formatSelectionTooBig")){m("<li class='select2-selection-limit'>"+b.formatSelectionTooBig(b.maximumSelectionSize)+y);return}}if(i.val().length<b.minimumInputLength&&A(b.formatInputTooShort,"formatInputTooShort")){m(o+b.formatInputTooShort(i.val(),b.minimumInputLength)+y);return}h.resultsPage=1;b.query({term:i.val(),page:h.resultsPage,context:e,matcher:b.matcher,callback:h.bind(function(f){var h=this,n;h.context=f.context===c?e:f.context;if(h.opts.createSearchChoice&&i.val()!==d){n=h.opts.createSearchChoice.call(e,i.val(),f.results);if(n!==c&&n!==e&&j.id(n)!==c&&j.id(n)!==e)a(f.results).filter(function(){return C(j.id(this),j.id(n))}).length===0&&f.results.unshift(n)}if(f.results.length===0&&A(b.formatNoMatches,"formatNoMatches")){m(o+b.formatNoMatches(i.val())+y);return}k.empty();j.opts.populateResults.call(h,k,f.results,{term:i.val(),page:h.resultsPage,context:e});if(f.more===g&&A(b.formatLoadMore,"formatLoadMore")){k.children().filter(":last").append("<li class='select2-more-results'>"+t(b.formatLoadMore(h.resultsPage))+y);window.setTimeout(function(){j.loadMoreIfNeeded()},l)}h.postprocessResults(f,q);p()})})},cancel:function(){this.close()},blur:function(){var a=this;a.close();a.container.removeClass(k);a.dropdown.removeClass(D);a.search[0]===document.activeElement&&a.search.blur();a.clearSearch();a.selection.find(L).removeClass(M)},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus();this.search.val(this.search.val())}),l)},selectHighlighted:function(){var a=this,d=a.highlight(),b=a.results.find(I).not(Y),c=b.closest(m).data(j);if(c){b.addClass(p);a.highlight(d);a.onSelect(c)}},getPlaceholder:function(){var b="placeholder",a=this;return a.opts.element.attr(b)||a.opts.element.attr("data-placeholder")||a.opts.element.data(b)||a.opts.placeholder},initContainerWidth:function(){function f(){var b=this,f,i,h,g,j;if(b.opts.width==="off")return e;else if(b.opts.width==="element")return b.opts.element.outerWidth()===0?"auto":b.opts.element.outerWidth()+"px";else if(b.opts.width==="copy"||b.opts.width==="resolve"){f=b.opts.element.attr(V);if(f!==c){i=f.split(";");for(g=0,j=i.length;g<j;g=g+1){h=i[g].replace(/\s/g,d).match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(h!==e&&h.length>=1)return h[1]}}if(b.opts.width==="resolve"){f=b.opts.element.css("width");return f.indexOf("%")>0?f:b.opts.element.outerWidth()===0?"auto":b.opts.element.outerWidth()+"px"}return e}else return a.isFunction(b.opts.width)?b.opts.width():b.opts.width}var b=f.call(this);b!==e&&this.container.attr(V,"width: "+b)}});P=R(z,{createContainer:function(){return a(N,{"class":"select2-container"}).html(["    <a href='javascript:void(0)' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>",fb,gb,ab].join(d))},opening:function(){var a=this;a.search.show();a.parent.opening.apply(a,arguments);a.dropdown.removeClass(hb)},close:function(){var a=this;if(!a.opened())return;a.parent.close.apply(a,arguments);a.dropdown.removeAttr(V).addClass(hb).insertAfter(a.selection).show()},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var a=this,c,e=a.container,i=a.dropdown,d=f;a.selection=c=e.find(".select2-choice");a.search.bind(G,a.bind(function(a){var c=this;if(!c.enabled)return;if(a.which===b.PAGE_UP||a.which===b.PAGE_DOWN){h(a);return}if(c.opened())switch(a.which){case b.UP:case b.DOWN:c.moveHighlight(a.which===b.UP?-1:1);h(a);return;case b.TAB:case b.ENTER:c.selectHighlighted();h(a);return;case b.ESC:c.cancel(a);h(a);return}else{if(a.which===b.TAB||b.isControl(a)||b.isFunctionKey(a)||a.which===b.ESC)return;c.open();if(a.which===b.ENTER)return}}));a.search.bind(q,a.bind(function(){this.selection.attr(n,"-1")}));a.search.bind(H,a.bind(function(){!this.opened()&&this.container.removeClass(k);window.setTimeout(this.bind(function(){this.selection.attr(n,this.opts.element.attr(n))}),l)}));c.bind(J,a.bind(function(b){var a=this;d=g;if(a.opened()){a.close();a.selection.focus()}else a.enabled&&a.open();h(b);d=f}));i.bind(J,a.bind(function(){this.search.focus()}));c.bind(q,a.bind(function(){this.container.addClass(k);this.search.attr(n,"-1")}));c.bind(H,a.bind(function(){this.container.removeClass(k);window.setTimeout(this.bind(function(){this.search.attr(n,this.opts.element.attr(n))}),l)}));c.bind(G,a.bind(function(a){if(!this.enabled)return;if(a.which===b.PAGE_UP||a.which===b.PAGE_DOWN){h(a);return}if(a.which===b.TAB||b.isControl(a)||b.isFunctionKey(a)||a.which===b.ESC)return;this.open();if(a.which===b.ENTER){h(a);return}if(a.which<48){h(a);return}var c=String.fromCharCode(a.which).toLowerCase();if(a.shiftKey)c=c.toUpperCase();this.search.val(c);h(a)}));c.delegate(bb,J,a.bind(function(b){var a=this;if(!a.enabled)return;a.clear();h(b);a.close();a.triggerChange();a.selection.focus()}));a.setPlaceholder();a.search.bind(q,a.bind(function(){this.container.addClass(k)}))},clear:function(){var a=this;a.opts.element.val(d);a.selection.find(cb).empty();a.selection.removeData(j);a.setPlaceholder()},initSelection:function(){var a=this,f;if(a.opts.element.val()===d){a.close();a.setPlaceholder()}else{var b=a;a.opts.initSelection.call(e,a.opts.element,function(a){if(a!==c&&a!==e){b.updateSelection(a);b.close();b.setPlaceholder()}})}},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);if(b.element.get(0).tagName.toLowerCase()===F)b.initSelection=function(d,b){var c=d.find(E);a.isFunction(b)&&b({id:c.attr(w),text:c.text()})};return b},setPlaceholder:function(){var a=this,b=a.getPlaceholder();if(a.opts.element.val()===d&&b!==c){if(a.select&&a.select.find("option:first").text()!==d)return;a.selection.find(cb).html(t(b));a.selection.addClass(v);a.selection.find(bb).hide()}},postprocessResults:function(l,k){var e="addClass",d="removeClass",b=this,h=0,i=b,c=g;b.results.find(m).each2(function(b,a){if(C(i.id(a.data(j)),i.opts.element.val())){h=b;return f}});b.highlight(h);if(k===g){c=b.showSearchInput=l.results.length>=b.opts.minimumResultsForSearch;b.dropdown.find(".select2-search")[c?d:e]("select2-search-hidden");a(b.dropdown,b.container)[c?e:d]("select2-with-searchbox")}},onSelect:function(b){var a=this,c=a.opts.element.val();a.opts.element.val(a.id(b));a.updateSelection(b);a.close();a.selection.focus();!C(c,a.id(b))&&a.triggerChange()},updateSelection:function(e){var a=this,b=a.selection.find(cb),d;a.selection.data(j,e);b.empty();d=a.opts.formatSelection(e,b);d!==c&&b.append(t(d));a.selection.removeClass(v);a.opts.allowClear&&a.getPlaceholder()!==c&&a.selection.find(bb).show()},val:function(){var a=this,g,h=e,b=a;if(arguments.length===0)return a.opts.element.val();g=arguments[0];if(a.select){a.select.val(g).find(E).each2(function(b,a){h={id:a.attr(w),text:a.text()};return f});a.updateSelection(h);a.setPlaceholder()}else{if(a.opts.initSelection===c)throw new Error("cannot call val() if initSelection() is not defined");if(!g){a.clear();return}a.opts.initSelection(a.opts.element,function(a){b.opts.element.val(!a?d:b.id(a));b.updateSelection(a);b.setPlaceholder()})}},clearSearch:function(){this.search.val(d)},data:function(b){var a=this,f;if(arguments.length===0){f=a.selection.data(j);if(f==c)f=e;return f}else if(!b||b===d)a.clear();else{a.opts.element.val(!b?d:a.id(b));a.updateSelection(b)}}});Q=R(z,{createContainer:function(){return a(N,{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' style='width: 25px;' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>",fb,gb,ab].join(d))},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);if(b.element.get(0).tagName.toLowerCase()===F)b.initSelection=function(d,b){var c=[];d.find(E).each2(function(b,a){c.push({id:a.attr(w),text:a.text()})});a.isFunction(b)&&b(c)};return b},initContainer:function(){var a=this,e=".select2-choices",c;a.searchContainer=a.container.find(".select2-search-field");a.selection=c=a.container.find(e);a.search.bind(G,a.bind(function(a){var e=this;if(!e.enabled)return;if(a.which===b.BACKSPACE&&e.search.val()===d){e.close();var f,g=c.find(L);if(g.length>0){e.unselect(g.first());e.search.width(l);h(a);return}f=c.find(s);f.length>0&&f.last().addClass(M)}else c.find(L).removeClass(M);if(e.opened())switch(a.which){case b.UP:case b.DOWN:e.moveHighlight(a.which===b.UP?-1:1);h(a);return;case b.ENTER:case b.TAB:e.selectHighlighted();h(a);return;case b.ESC:e.cancel(a);h(a);return}if(a.which===b.TAB||b.isControl(a)||b.isFunctionKey(a)||a.which===b.BACKSPACE||a.which===b.ESC)return;e.open();(a.which===b.PAGE_UP||a.which===b.PAGE_DOWN)&&h(a)}));a.search.bind("keyup",a.bind(a.resizeSearch));a.search.bind(H,a.bind(function(){this.container.removeClass(k)}));a.container.delegate(e,J,a.bind(function(b){var a=this;if(!a.enabled)return;a.clearPlaceholder();a.open();a.focusSearch();b.preventDefault()}));a.container.delegate(e,q,a.bind(function(){var a=this;if(!a.enabled)return;a.container.addClass(k);a.dropdown.addClass(D);a.clearPlaceholder()}));a.clearSearch()},enable:function(){var a=this;if(a.enabled)return;a.parent.enable.apply(a,arguments);a.search.removeAttr(K)},disable:function(){var a=this;if(!a.enabled)return;a.parent.disable.apply(a,arguments);a.search.attr(K,g)},initSelection:function(){var a=this,f;if(a.opts.element.val()===d){a.updateSelection([]);a.close();a.clearSearch()}if(a.select||a.opts.element.val()!==d){var b=a;a.opts.initSelection.call(e,a.opts.element,function(a){if(a!==c&&a!==e){b.updateSelection(a);b.close();b.clearSearch()}})}},clearSearch:function(){var a=this,b=a.getPlaceholder();if(b!==c&&a.getVal().length===0&&a.search.hasClass(O)===f){a.search.val(b).addClass(v);a.resizeSearch()}else a.search.val(" ").width(l)},clearPlaceholder:function(){var a=this;if(a.search.hasClass(v))a.search.val(d).removeClass(v);else a.search.val()===" "&&a.search.val(d)},opening:function(){var a=this;a.parent.opening.apply(a,arguments);a.clearPlaceholder();a.resizeSearch();a.focusSearch()},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass(O)},updateSelection:function(c){var e=[],d=[],b=this;a(c).each(function(){if(o(b.id(this),e)<0){e.push(b.id(this));d.push(this)}});c=d;this.selection.find(s).remove();a(c).each(function(){b.addSelectedChoice(this)});b.postprocessResults()},onSelect:function(b){var a=this;a.addSelectedChoice(b);a.select&&a.postprocessResults();if(a.opts.closeOnSelect){a.close();a.search.width(l)}else{a.search.width(l);a.resizeSearch();if(a.countSelectableResults()>0)a.positionDropdown();else a.close()}a.triggerChange({added:b});a.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(d){var b=this,c=a("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a>"+y),g=b.id(d),f=b.getVal(),e;e=b.opts.formatSelection(d,c);c.find("div").replaceWith("<div>"+t(e)+ab);c.find(".select2-search-choice-close").bind("click dblclick",b.bind(function(b){if(!this.enabled)return;a(b.target).closest(s).fadeOut("fast").animate({width:"hide"},50,this.bind(function(){var c=this;c.unselect(a(b.target));c.selection.find(L).removeClass(M);c.close();c.focusSearch()})).dequeue();h(b)})).bind(q,b.bind(function(){if(!this.enabled)return;this.container.addClass(k);this.dropdown.addClass(D)}));c.data(j,d);c.insertBefore(b.searchContainer);f.push(g);b.setVal(f)},unselect:function(a){var b=this,e=b.getVal(),d,c;a=a.closest(s);if(a.length===0)throw"Invalid argument: "+a+". Must be .select2-search-choice";d=a.data(j);c=o(b.id(d),e);if(c>=0){e.splice(c,1);b.setVal(e);b.select&&b.postprocessResults()}a.remove();b.triggerChange({removed:d})},postprocessResults:function(){var a=this,e=a.getVal(),b=a.results.find(m),d=a.results.find(".select2-result-with-children"),c=a;b.each2(function(d,a){var b=c.id(a.data(j));if(o(b,e)>=0)a.addClass(p).removeClass(x);else a.removeClass(p).addClass(x)});d.each2(function(b,a){if(a.find(m).length==0)a.addClass(p);else a.removeClass(p)});b.each2(function(b,a){if(!a.hasClass(p)&&a.hasClass(x)){c.highlight(0);return f}})},resizeSearch:function(){var b=this,f,g,c,e,a,d=yb(b.search);f=zb(b.search)+l;g=b.search.offset().left;c=b.selection.width();e=b.selection.offset().left;a=c-(g-e)-d;if(a<f)a=c-d;if(a<40)a=c-d;b.search.width(a)},getVal:function(){var b=this,a;if(b.select){a=b.select.val();return a===e?[]:a}else{a=b.opts.element.val();return lb(a,b.opts.separator)}},setVal:function(e){var c=this,b;if(c.select)c.select.val(e);else{b=[];a(e).each(function(){o(this,b)<0&&b.push(this)});c.opts.element.val(b.length===0?d:b.join(c.opts.separator))}},val:function(){var b=this,f,g=[],e=b;if(arguments.length===0)return b.getVal();f=arguments[0];if(!f){b.opts.element.val(d);b.updateSelection([]);b.clearSearch();return}b.setVal(f);if(b.select){b.select.find(E).each(function(){g.push({id:a(this).attr(w),text:a(this).text()})});b.updateSelection(g)}else{if(b.opts.initSelection===c)throw new Error("val() cannot be called if initSelection() is not defined");b.opts.initSelection(b.opts.element,function(b){var c=a(b).map(e.id);e.setVal(c);e.updateSelection(b);e.clearSearch()})}b.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var b=this,c=[],d=b;b.searchContainer.show();b.searchContainer.appendTo(b.searchContainer.parent());b.resizeSearch();b.selection.find(s).each(function(){c.push(d.opts.id(a(this).data(j)))});b.setVal(c);b.triggerChange()},data:function(c){var b=this,e=b,d;if(arguments.length===0)return b.selection.find(s).map(function(){return a(this).data(j)}).get();else{if(!c)c=[];d=a.map(c,function(a){return e.opts.id(a)});b.setVal(d);b.updateSelection(c);b.clearSearch()}}});a.fn.select2=function(){var k="container",b=Array.prototype.slice.call(arguments,0),d,e,h,j,l=["val","destroy","open","close",q,"isFocused",k,"onSortStart","onSortEnd","enable","disable","positionDropdown",W];this.each(function(){if(b.length===0||typeof b[0]==="object"){d=b.length===0?{}:a.extend({},b[0]);d.element=a(this);if(d.element.get(0).tagName.toLowerCase()===F)j=d.element.attr(tb);else{j=d.multiple||f;if(S in d)d.multiple=j=g}e=j?new Q:new P;e.init(d)}else if(typeof b[0]==="string"){if(o(b[0],l)<0)throw"Unknown method: "+b[0];h=c;e=a(this).data(i);if(e===c)return;if(b[0]===k)h=e.container;else h=e[b[0]].apply(e,b.slice(1));if(h!==c)return f}else throw"Invalid arguments to select2 plugin: "+b;});return h===c?this:h};a.fn.select2.defaults={width:"copy",closeOnSelect:g,containerCss:{},dropdownCss:{},containerCssClass:d,dropdownCssClass:d,formatResult:function(b,e,c){var a=[];jb(b.text,c.term,a);return a.join(d)},formatSelection:function(a){return a.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){return"Please enter "+(b-a.length)+" more characters"},formatSelectionTooBig:function(a){return"You can only select "+a+" items"},formatLoadMore:function(){return"Loading more results..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return b.toUpperCase().indexOf(a.toUpperCase())>=0}};window.Select2={query:{ajax:nb,local:mb,tags:ob},util:{debounce:kb,markMatch:jb},"class":{"abstract":z,single:P,multi:Q}}})(jQuery);(function(a){var c="visibility";a.fn.superfish=function(i){var b=a.fn.superfish,c=b.c,h=a(['<span class="',c.arrowClass,'"> &#187;</span>'].join("")),d=function(){var b=a(this),c=e(b);clearTimeout(c.sfTimer);b.showSuperfishUl().siblings().hideSuperfishUl()},f=function(){var f=a(this),g=e(f),c=b.op;clearTimeout(g.sfTimer);g.sfTimer=setTimeout(function(){c.retainPath=a.inArray(f[0],c.$path)>-1;f.hideSuperfishUl();c.$path.length&&f.parents(["li.",c.hoverClass].join("")).length<1&&d.call(c.$path)},c.delay)},e=function(d){var a=d.parents(["ul.",c.menuClass,":first"].join(""))[0];b.op=b.o[a.serial];return a},g=function(a){a.addClass(c.anchorClass).append(h.clone())};return this.each(function(){var k="li:has(ul)",h=this,l=h.serial=b.o.length,e=a.extend({},b.defaults,i);e.$path=a("li."+e.pathClass,h).slice(0,e.pathLevels).each(function(){a(this).addClass([e.hoverClass,c.bcClass].join(" ")).filter(k).removeClass(e.pathClass)});b.o[l]=b.op=e;a(k,h)[a.fn.hoverIntent&&!e.disableHI?"hoverIntent":"hover"](d,f).each(function(){e.autoArrows&&g(a(">a:first-child",this))}).not("."+c.bcClass).hideSuperfishUl();var j=a("a",h);j.each(function(b){var a=j.eq(b).parents("li");j.eq(b).focus(function(){d.call(a)}).blur(function(){f.call(a)})});e.onInit.call(h)}).each(function(){var d=[c.menuClass];b.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&d.push(c.shadowClass);a(this).addClass(d.join(" "))})};var b=a.fn.superfish;b.o=[];b.op={};b.IE7fix=function(){var c=b.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined&&this.toggleClass(b.c.shadowClass+"-off")};b.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};b.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};a.fn.extend({hideSuperfishUl:function(){var d=b.op,f=d.retainPath===true?d.$path:"";d.retainPath=false;var e=a(["li.",d.hoverClass].join(""),this).add(this).not(f).removeClass(d.hoverClass).find(">ul").hide().css(c,"hidden");d.onHide.call(e);return this},showSuperfishUl:function(){var d=b.op,e=b.c.shadowClass+"-off",a=this.addClass(d.hoverClass).find(">ul:hidden").css(c,"visible");b.IE7fix.call(a);d.onBeforeShow.call(a);a.animate(d.animation,d.speed,function(){b.IE7fix.call(a);d.onShow.call(a)});return this}})})(jQuery);(function(){var h=",",n="+t(a)+",F="[object Array]",E="[object RegExp]",D="[object Boolean]",n="[object Date]",C="[object Number]",B="[object String]",j=false,e=true,b=null,s="undefined",p=this,I=p._,m={},f=Array.prototype,y=Object.prototype,M=Function.prototype,c=f.slice,S=f.unshift,g=y.toString,J=y.hasOwnProperty,r=f.forEach,x=f.map,u=f.reduce,H=f.reduceRight,t=f.filter,v=f.every,w=f.some,l=f.indexOf,G=f.lastIndexOf,K=Array.isArray,L=Object.keys,o=M.bind,a=function(a){return new i(a)};if(typeof exports!==s){if(typeof module!==s&&module.exports)exports=module.exports=a;exports._=a}else p._=a;a.VERSION="1.3.3";var d=a.each=a.forEach=function(c,e,f){if(c==b)return;if(r&&c.forEach===r)c.forEach(e,f);else if(c.length===+c.length){for(var d=0,h=c.length;d<h;d++)if(d in c&&e.call(f,c[d],d,c)===m)return}else for(var g in c)if(a.has(c,g))if(e.call(f,c[g],g,c)===m)return};a.map=a.collect=function(a,e,f){var c=[];if(a==b)return c;if(x&&a.map===x)return a.map(e,f);d(a,function(b,a,d){c[c.length]=e.call(f,b,a,d)});if(a.length===+a.length)c.length=a.length;return c};a.reduce=a.foldl=a.inject=function(c,f,g,i){var h=arguments.length>2;if(c==b)c=[];if(u&&c.reduce===u){if(i)f=a.bind(f,i);return h?c.reduce(f,g):c.reduce(f)}d(c,function(a,b,c){if(!h){g=a;h=e}else g=f.call(i,g,a,b,c)});if(!h)throw new TypeError("Reduce of empty array with no initial value");return g};a.reduceRight=a.foldr=function(d,c,h,e){var f=arguments.length>2;if(d==b)d=[];if(H&&d.reduceRight===H){if(e)c=a.bind(c,e);return f?d.reduceRight(c,h):d.reduceRight(c)}var g=a.toArray(d).reverse();if(e&&!f)c=a.bind(c,e);return f?a.reduce(g,c,h,e):a.reduce(g,c)};a.find=a.detect=function(d,b,c){var a;A(d,function(d,f,g){if(b.call(c,d,f,g)){a=d;return e}});return a};a.filter=a.select=function(c,e,f){var a=[];if(c==b)return a;if(t&&c.filter===t)return c.filter(e,f);d(c,function(b,c,d){if(e.call(f,b,c,d))a[a.length]=b});return a};a.reject=function(c,e,f){var a=[];if(c==b)return a;d(c,function(b,c,d){if(!e.call(f,b,c,d))a[a.length]=b});return a};a.every=a.all=function(c,f,g){var a=e;if(c==b)return a;if(v&&c.every===v)return c.every(f,g);d(c,function(c,b,d){if(!(a=a&&f.call(g,c,b,d)))return m});return!!a};var A=a.some=a.any=function(f,c,g){c||(c=a.identity);var e=j;if(f==b)return e;if(w&&f.some===w)return f.some(c,g);d(f,function(b,a,d){if(e||(e=c.call(g,b,a,d)))return m});return!!e};a.include=a.contains=function(a,d){var c=j;if(a==b)return c;if(l&&a.indexOf===l)return a.indexOf(d)!=-1;c=A(a,function(a){return a===d});return c};a.invoke=function(e,b){var d=c.call(arguments,2);return a.map(e,function(c){return(a.isFunction(b)?b||c:c[b]).apply(c,d)})};a.pluck=function(c,b){return a.map(c,function(a){return a[b]})};a.max=function(b,c,f){if(!c&&a.isArray(b)&&b[0]===+b[0])return Math.max.apply(Math,b);if(!c&&a.isEmpty(b))return-Infinity;var e={computed:-Infinity};d(b,function(a,d,g){var b=c?c.call(f,a,d,g):a;b>=e.computed&&(e={value:a,computed:b})});return e.value};a.min=function(b,c,f){if(!c&&a.isArray(b)&&b[0]===+b[0])return Math.min.apply(Math,b);if(!c&&a.isEmpty(b))return Infinity;var e={computed:Infinity};d(b,function(a,d,g){var b=c?c.call(f,a,d,g):a;b<e.computed&&(e={value:a,computed:b})});return e.value};a.shuffle=function(c){var a=[],b;d(c,function(d,c){b=Math.floor(Math.random()*(c+1));a[c]=a[b];a[b]=d});return a};a.sortBy=function(e,b,d){var c=a.isFunction(b)?b:function(a){return a[b]};return a.pluck(a.map(e,function(a,b,e){return{value:a,criteria:c.call(d,a,b,e)}}).sort(function(d,c){var a=d.criteria,b=c.criteria;return a===void 0?1:b===void 0?-1:a<b?-1:a>b?1:0}),"value")};a.groupBy=function(f,c){var b={},e=a.isFunction(c)?c:function(a){return a[c]};d(f,function(a,d){var c=e(a,d);(b[c]||(b[c]=[])).push(a)});return b};a.sortedIndex=function(f,g,b){b||(b=a.identity);var c=0,d=f.length;while(c<d){var e=c+d>>1;b(f[e])<b(g)?(c=e+1):(d=e)}return c};a.toArray=function(b){return!b?[]:a.isArray(b)?c.call(b):a.isArguments(b)?c.call(b):b.toArray&&a.isFunction(b.toArray)?b.toArray():a.values(b)};a.size=function(b){return a.isArray(b)?b.length:a.keys(b).length};a.first=a.head=a.take=function(a,d,e){return d!=b&&!e?c.call(a,0,d):a[0]};a.initial=function(a,d,e){return c.call(a,0,a.length-(d==b||e?1:d))};a.last=function(a,d,e){return d!=b&&!e?c.call(a,Math.max(a.length-d,0)):a[a.length-1]};a.rest=a.tail=function(d,a,e){return c.call(d,a==b||e?1:a)};a.compact=function(b){return a.filter(b,function(a){return!!a})};a.flatten=function(c,b){return a.reduce(c,function(d,c){if(a.isArray(c))return d.concat(b?c:a.flatten(c));d[d.length]=c;return d},[])};a.without=function(b){return a.difference(b,c.call(arguments,1))};a.uniq=a.unique=function(b,c,d){var g=d?a.map(b,d):b,f=[];if(b.length<3)c=e;a.reduce(g,function(d,e,g){if(c?a.last(d)!==e||!d.length:!a.include(d,e)){d.push(e);f.push(b[g])}return d},[]);return f};a.union=function(){return a.uniq(a.flatten(arguments,e))};a.intersection=a.intersect=function(b){var d=c.call(arguments,1);return a.filter(a.uniq(b),function(b){return a.every(d,function(c){return a.indexOf(c,b)>=0})})};a.difference=function(b){var d=a.flatten(c.call(arguments,1),e);return a.filter(b,function(b){return!a.include(d,b)})};a.zip=function(){for(var f=c.call(arguments),e=a.max(a.pluck(f,"length")),d=new Array(e),b=0;b<e;b++)d[b]=a.pluck(f,""+b);return d};a.indexOf=function(d,e,g){if(d==b)return-1;var c,f;if(g){c=a.sortedIndex(d,e);return d[c]===e?c:-1}if(l&&d.indexOf===l)return d.indexOf(e);for(c=0,f=d.length;c<f;c++)if(c in d&&d[c]===e)return c;return-1};a.lastIndexOf=function(a,d){if(a==b)return-1;if(G&&a.lastIndexOf===G)return a.lastIndexOf(d);var c=a.length;while(c--)if(c in a&&a[c]===d)return c;return-1};a.range=function(a,d,b){if(arguments.length<=1){d=a||0;a=0}b=arguments[2]||1;var f=Math.max(Math.ceil((d-a)/b),0),e=0,c=new Array(f);while(e<f){c[e++]=a;a+=b}return c};var z=function(){};a.bind=function(b,f){var e,d;if(b.bind===o&&o)return o.apply(b,c.call(arguments,1));if(!a.isFunction(b))throw new TypeError;d=c.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(f,d.concat(c.call(arguments)));z.prototype=b.prototype;var g=new z,a=b.apply(g,d.concat(c.call(arguments)));return Object(a)===a?a:g}};a.bindAll=function(b){var e=c.call(arguments,1);if(e.length==0)e=a.functions(b);d(e,function(c){b[c]=a.bind(b[c],b)});return b};a.memoize=function(d,b){var c={};b||(b=a.identity);return function(){var e=b.apply(this,arguments);return a.has(c,e)?c[e]:(c[e]=d.apply(this,arguments))}};a.delay=function(d,e){var a=c.call(arguments,2);return setTimeout(function(){return d.apply(b,a)},e)};a.defer=function(b){return a.delay.apply(a,[b,1].concat(c.call(arguments,1)))};a.throttle=function(l,m){var d,g,f,c,h,k,i=a.debounce(function(){h=c=j},m);return function(){d=this;g=arguments;var a=function(){f=b;h&&l.apply(d,g);i()};if(!f)f=setTimeout(a,m);if(c)h=e;else k=l.apply(d,g);i();c=e;return k}};a.debounce=function(d,e,c){var a;return function(){var f=this,g=arguments,h=function(){a=b;!c&&d.apply(f,g)};c&&!a&&d.apply(f,g);clearTimeout(a);a=setTimeout(h,e)}};a.once=function(c){var b=j,a;return function(){if(b)return a;b=e;return a=c.apply(this,arguments)}};a.wrap=function(b,a){return function(){var d=[b].concat(c.call(arguments,0));return a.apply(this,d)}};a.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}};a.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};a.keys=L||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var c=[];for(var d in b)if(a.has(b,d))c[c.length]=d;return c};a.values=function(b){return a.map(b,a.identity)};a.functions=a.methods=function(d){var b=[];for(var c in d)a.isFunction(d[c])&&b.push(c);return b.sort()};a.extend=function(a){d(c.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a};a.pick=function(e){var b={};d(a.flatten(c.call(arguments,1)),function(a){if(a in e)b[a]=e[a]});return b};a.defaults=function(a){d(c.call(arguments,1),function(d){for(var c in d)if(a[c]==b)a[c]=d[c]});return a};a.clone=function(b){return!a.isObject(b)?b:a.isArray(b)?b.slice():a.extend({},b)};a.tap=function(a,b){b(a);return a};function q(c,d,i){var m="constructor";if(c===d)return c!==0||1/c==1/d;if(c==b||d==b)return c===d;if(c._chain)c=c._wrapped;if(d._chain)d=d._wrapped;if(c.isEqual&&a.isFunction(c.isEqual))return c.isEqual(d);if(d.isEqual&&a.isFunction(d.isEqual))return d.isEqual(c);var l=g.call(c);if(l!=g.call(d))return j;switch(l){case B:return c==String(d);case C:return c!=+c?d!=+d:c==0?1/c==1/d:c==+d;case n:case D:return+c==+d;case E:return c.source==d.source&&c.global==d.global&&c.multiline==d.multiline&&c.ignoreCase==d.ignoreCase}if(typeof c!="object"||typeof d!="object")return j;var o=i.length;while(o--)if(i[o]==c)return e;i.push(c);var f=0,h=e;if(l==F){f=c.length;h=f==d.length;if(h)while(f--)if(!(h=f in c==f in d&&q(c[f],d[f],i)))break}else{if(m in c!=m in d||c.constructor!=d.constructor)return j;for(var k in c)if(a.has(c,k)){f++;if(!(h=a.has(d,k)&&q(c[k],d[k],i)))break}if(h){for(k in d)if(a.has(d,k)&&!f--)break;h=!f}}i.pop();return h}a.isEqual=function(a,b){return q(a,b,[])};a.isEmpty=function(c){if(c==b)return e;if(a.isArray(c)||a.isString(c))return c.length===0;for(var d in c)if(a.has(c,d))return j;return e};a.isElement=function(a){return!!(a&&a.nodeType==1)};a.isArray=K||function(a){return g.call(a)==F};a.isObject=function(a){return a===Object(a)};a.isArguments=function(a){return g.call(a)=="[object Arguments]"};if(!a.isArguments(arguments))a.isArguments=function(b){return!!(b&&a.has(b,"callee"))};a.isFunction=function(a){return g.call(a)=="[object Function]"};a.isString=function(a){return g.call(a)==B};a.isNumber=function(a){return g.call(a)==C};a.isFinite=function(b){return a.isNumber(b)&&isFinite(b)};a.isNaN=function(a){return a!==a};a.isBoolean=function(a){return a===e||a===j||g.call(a)==D};a.isDate=function(a){return g.call(a)==n};a.isRegExp=function(a){return g.call(a)==E};a.isNull=function(a){return a===b};a.isUndefined=function(a){return a===void 0};a.has=function(b,a){return J.call(b,a)};a.noConflict=function(){p._=I;return this};a.identity=function(a){return a};a.times=function(d,b,c){for(var a=0;a<d;a++)b.call(c,a)};a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};a.result=function(c,e){if(c==b)return b;var d=c[e];return a.isFunction(d)?d.call(c):d};a.mixin=function(b){d(a.functions(b),function(c){O(c,a[c]=b[c])})};var N=0;a.uniqueId=function(a){var b=N++;return a?a+b:b};a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/.^/,R={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:""},T=/.^/;",u2029:";"};for(var K in j)j[j[K]]=K;var T=/\\|'|\r|\n|\t||/g,S=/\\(\\|'|r|n|t|u2028|u2029)/g,t=function(a){return a.replace(S,function(b,a){return j[a]})};a.template=function(g,f,b){b=a.defaults(b||{},a.templateSettings);var c=";k+='"+g.replace(T,function(a){return"\\"+j[a]}).replace(b.escape||u,function(b,a){return"'+\;n_.escape(n)+\;n;'"}).replace(b.interpolate||u,function(b,a){return"'+\;n(n)+\;n;'"}).replace(b.evaluate||u,function(b,a){return"';\;n;n;\;n;k+='"})+"';\;n;";if(!b.variable)c=";with(obj||{}){\;n;"+c+"}\;n;";c=";var k="",P=function(){k+=Array.prototype.join.call(arguments,"")};\;n;"+c+";return k;\;n;";var e=new Function(b.variable||";obj;h;_;",c);if(f)return e(f,a);var d=function(b){return e.call(this,b,a)};d.source=";";return d};a.chain=function(b){return a(b).chain()};var i=function(a){this._wrapped=a};a.prototype=i.prototype;var v=function(b,c){return c?a(b).chain():b},O=function(c,b){i.prototype[c]=function(){var c=d.call(arguments);U.call(c,this._wrapped);return v(b.apply(a,c),this._chain)}};a.mixin(a);f([";pop;h;push;h;reverse;h;shift;h;sort;h;splice;h;unshift;"],function(a){var b=g[a];i.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;if((a==";shift;"||a==";splice;")&&d===0)delete c[0];return v(c,this._chain)}});f([";concat;h;join;h;slice;"],function(a){var b=g[a];i.prototype[a]=function(){return v(b.apply(this._wrapped,arguments),this._chain)}});i.prototype.chain=function(){this._chain=c;return this};i.prototype.value=function(){return this._wrapped}}).call(this);var XDate=function(e,j,B,l){var w=";yyyy-MM-dd;"T";a:b:ss().fff})zzz;",p=",",b=";",o=8.64e7,d=12,n=";string;",m=";boolean;";function c(){var b=this instanceof c?this:new c,d=arguments,a=d.length,f;typeof d[a-1]==m&&(f=d[--a],d=r(d,0,a));if(a)if(a==1){if(a=d[0],a instanceof e||typeof a==";number;")b[0]=new e(+a);else if(a instanceof c){var d=b,g=new e(+a[0]);if(h(a))g.toString=x;d[0]=g}else if(typeof a==n){b[0]=new e(0);a:{for(var d=a,a=f||!1,g=c.parsers,i=0,j;i<g.length;i++)if(j=g[i](d,a,b)){b=j;break a}b[0]=new e(d)}}}else b[0]=new e(k.apply(e,d)),f||(b[0]=s(b[0]));else b[0]=new e;typeof f==m&&C(b,f);return b}function h(a){return a[0].toString===x}function C(a,c,b){if(c){if(!h(a))b&&(a[0]=new e(k(a[0].getFullYear(),a[0].getMonth(),a[0].getDate(),a[0].getHours(),a[0].getMinutes(),a[0].getSeconds(),a[0].getMilliseconds()))),a[0].toString=x}else h(a)&&(a[0]=b?s(a[0]):new e(+a[0]));return a}function D(a,h,f,b,e){var c=i(g,a[0],e),a=i(E,a[0],e),e=h==1?f%d:c(1),j=!1;b.length==2&&typeof b[1]==m&&(j=b[1],b=[f]);a(h,b);j&&c(1)!=e&&(a(1,[c(1)-1]),a(2,[F(c(0),c(1))]))}function G(c,a,b,e){var b=Number(b),d=j.floor(b);c[";set;"+q[a]](c[";get;"+q[a]]()+d,e||!1);d!=b&&a<6&&G(c,a+1,(b-d)*H[a],e)}function I(e,f,a){var e=e.clone().setUTCMode(!0,!0),f=c(f).setUTCMode(!0,!0),b=0;if(a==0||a==1){for(var h=6;h>=a;h--)b/=H[h],b+=g(f,!1,h)-g(e,!1,h);a==1&&(b+=(f.getFullYear()-e.getFullYear())*d)}else a==2?(a=e.toDate().setUTCHours(0,0,0,0),b=f.toDate().setUTCHours(0,0,0,0),b=j.round((b-a)/o)+(f-b-(e-a))/o):(b=(f-e)/([3.6e6,6e4,1e3,1])[a-3]);return b}function t(a){var b=a(0),c=a(1),a=a(2),c=new e(k(b,c,a)),d=u(b),a=d;c<d?(a=u(b-1)):(b=u(b+1),c>=b&&(a=b));return j.floor(j.round((c-a)/o)/7)+1}function u(a){a=new e(k(a,0,4));a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+6)%7);return a}function J(b,e,a,c){var d=i(g,b,c),f=i(E,b,c),a=u(a===l?d(0):a);c||(a=s(a));b.setTime(+a);f(2,[d(2)+(e-1)*7])}function K(b,j,a,d,e){var h=c.locales,k=h[c.defaultLocale]||{},f=i(g,b,e),a=(typeof a==n?h[a]:a)||{};return y(b,j,function(a){if(d)for(var b=(a==7?2:a)-1;b>=0;b--)d.push(f(b));return f(a)},function(b){return a[b]||k[b]},e)}function y(i,e,j,k,m){for(var a,f,c=b;a=e.match(N);){c+=e.substr(0,a.index);if(a[1]){f=c;for(var c=i,d=a[1],o=j,p=k,q=m,g=d.length,h=void 0,n=b;g>0;)h=O(c,d.substr(0,g),o,p,q),h!==l?(n+=h,d=d.substr(g),g=d.length):g--;c=f+(n+d)}else a[3]?(f=y(i,a[4],j,k,m),parseInt(f.replace(/D/g,b),10)&&(c+=f)):(c+=a[7]||";('");e=e.substr(a.index+a[0].length)}return c+e}function O(i,g,a,e,h){var k=c.formatters[g];if(typeof k==n)return y(i,k,a,e,h);else if(typeof k=="function")return k(i,h||!1,e);switch(g){case"fff":return f(a(6),3);case"s":return a(5);case"ss":return f(a(5));case"m":return a(4);case"mm":return f(a(4));case"h":return a(3)%d||d;case"hh":return f(a(3)%d||d);case"H":return a(3);case"HH":return f(a(3));case"d":return a(2);case"dd":return f(a(2));case"ddd":return e("dayNamesShort")[a(7)]||b;case"dddd":return e("dayNames")[a(7)]||b;case"M":return a(1)+1;case"MM":return f(a(1)+1);case"MMM":return e("monthNamesShort")[a(1)]||b;case"MMMM":return e("monthNames")[a(1)]||b;case"yy":return(a(0)+b).substring(2);case"yyyy":return a(0);case"t":return v(a,e).substr(0,1).toLowerCase();case"tt":return v(a,e).toLowerCase();case"T":return v(a,e).substr(0,1);case"TT":return v(a,e);case"z":case"zz":case"zzz":return h?(g="Z"):(e=i.getTimezoneOffset(),i=e<0?"+":"-",a=j.floor(j.abs(e)/60),e=j.abs(e)%60,h=a,g=="zz"?(h=f(a)):g=="zzz"&&(h=f(a)+":"+f(e)),g=i+h),g;case"w":return t(a);case"ww":return f(t(a));case"S":return g=a(2),g>10&&g<20?"th":(["st","nd","rd"])[g%10-1]||"th"}}function v(b,a){return b(3)<d?a("amDesignator"):a("pmDesignator")}function z(a){return!isNaN(+a[0])}function g(a,d,c){return a["get"+(d?"UTC":b)+q[c]]()}function E(a,d,c,e){a["set"+(d?"UTC":b)+q[c]].apply(a,e)}function s(a){return new e(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())}function F(a,b){return 32-(new e(k(a,b,32))).getUTCDate()}function A(a){return function(){return a.apply(l,[this].concat(r(arguments)))}}function i(a){var b=r(arguments,1);return function(){return a.apply(l,b.concat(r(arguments)))}}function r(a,c,b){return B.prototype.slice.call(a,c||0,b===l?a.length:b)}function L(b,c){for(var a=0;a<b.length;a++)c(b[a],a)}function f(a,c){c=c||2;for(a+=b;a.length<c;)a="0"+a;return a}var q="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(p),M=["Years","Months","Days"],H=[d,31,24,60,60,1e3,1],N=/(([a-zA-Z])\2*)|((((')().fg-menu-footer;",g=".fg-menu-current;",d=";fg-menu-current;",j=";fg-menu-scroll;",m="</a></li>",n=this,b=e.find(".fg-menu;"),f=$('<ul class=";fg-menu-breadcrumb;ui-widget-header;ui-corner-all;ui-helper-clearfix;"></ul>'),o=$('<li class=";fg-menu-breadcrumb-text;">'+a.crumbDefaultText+"</li>"),t=a.backLink?a.backLinkText:a.topLinkText,r=a.backLink?"fg-menu-prev-list":"fg-menu-all-lists",q=a.backLink?"ui-state-default ui-corner-all":"",s=a.backLink?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"",p=$('<li
