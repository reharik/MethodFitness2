/*
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
(function(o,h){var ib="scroll",Ib="position",sb="static",Hb="CSS1Compat",L="fxshow",B="toggle",hb=":hidden",A="hide",T="olddisplay",x="show",Gb="marginLeft",Fb="marginTop",Zb="application/x-www-form-urlencoded",G="display",Eb="Width",rb="margin",cb="padding",bb="border",Db="marginRight",xb="inline-block",Yb="cssFloat",ab="opacity",Xb="absolute",Wb="replaceWith",Lb="<$1></$2>",wb="nextSibling",v="script",Z="previousSibling",qb="parentNode",wc="focusout",Kb="\\.(?:.*\\.)?",F="checkbox",Y="auto",S="height",C="width",w="button",X="set",gb="value",N="get",R=".run",pb="inprogress",s="fx",K="mark",Q="queue",fb="events",ob="relative",P="hidden",W="fixed",V="inline",k="undefined",u="none",r="px",nb="checked",y="radio",O="type",vb="form",E="on",D="href",eb="tbody",n="input",ub="option",j="*",Cb="className",p="div",q="number",mb="parsererror",lb="false",z="function",M="once memory",m="object",J="boolean",e=false,l=-1,t=".",g=" ",b=true,c=null,f="string",H="body",d="",i=o.document,wd=o.navigator,Bd=o.location,a=function(){var p="onreadystatechange",n="DOMContentLoaded",k="complete",a=function(b,c){return new a.fn.init(b,c,A)},W=o.jQuery,Z=o.$,A,Q=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,B=/\S/,D=/^\s+/,C=/\s+$/,P=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,L=/^[\],:{}\s]*$/,I=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,K=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,G=/(?:^|:|,)(?:\s*\[)+/g,V=/(webkit)[ \/]([\w.]+)/,X=/(opera)(?:.*version)?[ \/]([\w.]+)/,Y=/(msie) ([\w.]+)/,T=/(mozilla)(?:.*? rv:([\w.]+))?/,O=/-([a-z]|[0-9])/ig,R=/^-ms-/,N=function(b,a){return(a+d).toUpperCase()},S=wd.userAgent,s,u,j,U=Object.prototype.toString,v=Object.prototype.hasOwnProperty,w=Array.prototype.push,r=Array.prototype.slice,F=String.prototype.trim,E=Array.prototype.indexOf,y={};a.fn=a.prototype={constructor:a,init:function(d,g,m){var e=this,j,l,k,n;if(!d)return e;if(d.nodeType){e.context=e[0]=d;e.length=1;return e}if(d===H&&!g&&i.body){e.context=i;e[0]=i.body;e.selector=d;e.length=1;return e}if(typeof d===f){if(d.charAt(0)==="<"&&d.charAt(d.length-1)===">"&&d.length>=3)j=[c,d,c];else j=Q.exec(d);if(j&&(j[1]||!g))if(j[1]){g=g instanceof a?g[0]:g;n=g?g.ownerDocument||g:i;k=P.exec(d);if(k)if(a.isPlainObject(g)){d=[i.createElement(k[1])];a.fn.attr.call(d,g,b)}else d=[n.createElement(k[1])];else{k=a.buildFragment([j[1]],[n]);d=(k.cacheable?a.clone(k.fragment):k.fragment).childNodes}return a.merge(e,d)}else{l=i.getElementById(j[2]);if(l&&l.parentNode){if(l.id!==j[2])return m.find(d);e.length=1;e[0]=l}e.context=i;e.selector=d;return e}else return!g||g.jquery?(g||m).find(d):e.constructor(g).find(d)}else if(a.isFunction(d))return m.ready(d);if(d.selector!==h){e.selector=d.selector;e.context=d.context}return a.makeArray(d,e)},selector:d,jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return r.call(this,0)},"get":function(b){var a=this;return b==c?a.toArray():b<0?a[a.length+b]:a[b]},pushStack:function(e,f,h){var c=this,b=c.constructor();if(a.isArray(e))w.apply(b,e);else a.merge(b,e);b.prevObject=c;b.context=c.context;if(f==="find")b.selector=c.selector+(c.selector?g:d)+h;else if(f)b.selector=c.selector+t+f+"("+h+")";return b},each:function(b,c){return a.each(this,b,c)},ready:function(b){a.bindReady();u.add(b);return this},eq:function(a){a=+a;return a===l?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(l)},slice:function(){return this.pushStack(r.apply(this,arguments),"slice",r.call(arguments).join(","))},map:function(b){return this.pushStack(a.map(this,function(a,c){return b.call(a,c,a)}))},end:function(){return this.prevObject||this.constructor(c)},push:w,sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.extend=a.fn.extend=function(){var k,i,f,d,j,l,b=arguments[0]||{},g=1,o=arguments.length,n=e;if(typeof b===J){n=b;b=arguments[1]||{};g=2}if(typeof b!==m&&!a.isFunction(b))b={};if(o===g){b=this;--g}for(;g<o;g++)if((k=arguments[g])!=c)for(i in k){f=b[i];d=k[i];if(b===d)continue;if(n&&d&&(a.isPlainObject(d)||(j=a.isArray(d)))){if(j){j=e;l=f&&a.isArray(f)?f:[]}else l=f&&a.isPlainObject(f)?f:{};b[i]=a.extend(n,l,d)}else if(d!==h)b[i]=d}return b};a.extend({noConflict:function(b){if(o.$===a)o.$=Z;if(b&&o.jQuery===a)o.jQuery=W;return a},isReady:e,readyWait:1,holdReady:function(c){if(c)a.readyWait++;else a.ready(b)},ready:function(c){if(c===b&&!--a.readyWait||c!==b&&!a.isReady){if(!i.body)return setTimeout(a.ready,1);a.isReady=b;if(c!==b&&--a.readyWait>0)return;u.fireWith(i,[a]);a.fn.trigger&&a(i).trigger("ready").off("ready")}},bindReady:function(){if(u)return;u=a.Callbacks(M);if(i.readyState===k)return setTimeout(a.ready,1);if(i.addEventListener){i.addEventListener(n,j,e);o.addEventListener("load",a.ready,e)}else if(i.attachEvent){i.attachEvent(p,j);o.attachEvent("onload",a.ready);var b=e;try{b=o.frameElement==c}catch(d){}i.documentElement.doScroll&&b&&x()}},isFunction:function(b){return a.type(b)===z},isArray:Array.isArray||function(b){return a.type(b)==="array"},isWindow:function(a){return a&&typeof a===m&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==c?String(a):y[U.call(a)]||m},isPlainObject:function(b){if(!b||a.type(b)!==m||b.nodeType||a.isWindow(b))return e;try{if(b.constructor&&!v.call(b,"constructor")&&!v.call(b.constructor.prototype,"isPrototypeOf"))return e}catch(d){return e}var c;for(c in b);return c===h||v.call(b,c)},isEmptyObject:function(a){for(var c in a)return e;return b},error:function(a){throw new Error(a);},parseJSON:function(b){if(typeof b!==f||!b)return c;b=a.trim(b);if(o.JSON&&o.JSON.parse)return o.JSON.parse(b);if(L.test(b.replace(I,"@").replace(K,"]").replace(G,d)))return new Function("return "+b)();a.error("Invalid JSON: "+b)},parseXML:function(c){var b,d;try{if(o.DOMParser){d=new DOMParser;b=d.parseFromString(c,"text/xml")}else{b=new ActiveXObject("Microsoft.XMLDOM");b.async=lb;b.loadXML(c)}}catch(e){b=h}(!b||!b.documentElement||b.getElementsByTagName(mb).length)&&a.error("Invalid XML: "+c);return b},noop:function(){},globalEval:function(a){a&&B.test(a)&&(o.execScript||function(a){o.eval.call(o,a)})(a)},camelCase:function(a){return a.replace(R,"ms-").replace(O,N)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,f,i){var c,d=0,g=b.length,j=g===h||a.isFunction(b);if(i){if(j){for(c in b)if(f.apply(b[c],i)===e)break}else for(;d<g;)if(f.apply(b[d++],i)===e)break}else if(j){for(c in b)if(f.call(b[c],c,b[c])===e)break}else for(;d<g;)if(f.call(b[d],d,b[d++])===e)break;return b},trim:F?function(a){return a==c?d:F.call(a)}:function(a){return a==c?d:a.toString().replace(D,d).replace(C,d)},makeArray:function(b,g){var e=g||[];if(b!=c){var d=a.type(b);if(b.length==c||d===f||d===z||d==="regexp"||a.isWindow(b))w.call(e,b);else a.merge(e,b)}return e},inArray:function(d,b,a){var c;if(b){if(E)return E.call(b,d,a);c=b.length;a=a?a<0?Math.max(0,c+a):a:0;for(;a<c;a++)if(a in b&&b[a]===d)return a}return l},merge:function(b,a){var d=b.length,c=0;if(typeof a.length===q)for(var e=a.length;c<e;c++)b[d++]=a[c];else while(a[c]!==h)b[d++]=a[c++];b.length=d;return b},grep:function(b,f,c){var e=[],d;c=!!c;for(var a=0,g=b.length;a<g;a++){d=!!f(b[a],a);c!==d&&e.push(b[a])}return e},map:function(b,j,k){var e,i,f=[],g=0,d=b.length,l=b instanceof a||d!==h&&typeof d===q&&(d>0&&b[0]&&b[d-1]||d===0||a.isArray(b));if(l)for(;g<d;g++){e=j(b[g],g,k);if(e!=c)f[f.length]=e}else for(i in b){e=j(b[i],i,k);if(e!=c)f[f.length]=e}return f.concat.apply([],f)},guid:1,proxy:function(b,c){if(typeof c===f){var g=b[c];c=b;b=g}if(!a.isFunction(b))return h;var e=r.call(arguments,2),d=function(){return b.apply(c,e.concat(r.call(arguments)))};d.guid=b.guid=b.guid||d.guid||a.guid++;return d},access:function(b,c,e,f,g,j){var i=b.length;if(typeof c===m){for(var k in c)a.access(b,k,c[k],f,g,e);return b}if(e!==h){f=!j&&f&&a.isFunction(e);for(var d=0;d<i;d++)g(b[d],c,f?e.call(b[d],d,g(b[d],c)):e,j);return b}return i?g(b[0],c):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=V.exec(a)||X.exec(a)||Y.exec(a)||a.indexOf("compatible")<0&&T.exec(a)||[];return{browser:b[1]||d,version:b[2]||"0"}},sub:function(){var d=this;function c(a,b){return new c.fn.init(a,b)}a.extend(b,c,d);c.superclass=d;c.fn=c.prototype=d();c.fn.constructor=c;c.sub=d.sub;c.fn.init=function(d,b){if(b&&b instanceof a&&!(b instanceof c))b=c(b);return a.fn.init.call(this,d,b,e)};c.fn.init.prototype=c.fn;var e=c(i);return c},browser:{}});a.each("Boolean Number String Function Array Date RegExp Object".split(g),function(b,a){y["[object "+a+"]"]=a.toLowerCase()});s=a.uaMatch(S);if(s.browser){a.browser[s.browser]=b;a.browser.version=s.version}if(a.browser.webkit)a.browser.safari=b;if(B.test("Â ")){D=/^[\s\xA0]+/;C=/[\s\xA0]+$/}A=a(i);if(i.addEventListener)j=function(){i.removeEventListener(n,j,e);a.ready()};else if(i.attachEvent)j=function(){if(i.readyState===k){i.detachEvent(p,j);a.ready()}};function x(){if(a.isReady)return;try{i.documentElement.doScroll("left")}catch(b){setTimeout(x,1);return}a.ready()}return a}(),Cc={};function kd(a){var e=Cc[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)e[a[c]]=b;return e}a.Callbacks=function(f){f=f?Cc[f]||kd(f):{};var c=[],g=[],d,l,m,k,i,o=function(h){var d,g,b,e,i;for(d=0,g=h.length;d<g;d++){b=h[d];e=a.type(b);if(e==="array")o(b);else if(e===z)(!f.unique||!j.has(b))&&c.push(b)}},n=function(h,a){a=a||[];d=!f.memory||[h,a];l=b;i=m||0;m=0;k=c.length;for(;c&&i<k;i++)if(c[i].apply(h,a)===e&&f.stopOnFalse){d=b;break}l=e;if(c)if(!f.once){if(g&&g.length){d=g.shift();j.fireWith(d[0],d[1])}}else if(d===b)j.disable();else c=[]},j={add:function(){if(c){var a=c.length;o(arguments);if(l)k=c.length;else if(d&&d!==b){m=a;n(d[0],d[1])}}return this},remove:function(){if(c)for(var d=arguments,b=0,e=d.length;b<e;b++)for(var a=0;a<c.length;a++)if(d[b]===c[a]){if(l)if(a<=k){k--;if(a<=i)i--}c.splice(a--,1);if(f.unique)break}return this},has:function(f){if(c)for(var a=0,d=c.length;a<d;a++)if(f===c[a])return b;return e},empty:function(){c=[];return this},disable:function(){c=g=d=h;return this},disabled:function(){return!c},lock:function(){g=h;(!d||d===b)&&j.disable();return this},locked:function(){return!g},fireWith:function(a,b){if(g)if(l)!f.once&&g.push([a,b]);else!(f.once&&d)&&n(a,b);return this},fire:function(){j.fireWith(this,arguments);return this},fired:function(){return!!d}};return j};var Vb=[].slice;a.extend({Deferred:function(k){var f=a.Callbacks(M),g=a.Callbacks(M),e=a.Callbacks("memory"),j="pending",i={resolve:f,reject:g,notify:e},h={done:f.add,fail:g.add,progress:e.add,state:function(){return j},isResolved:f.fired,isRejected:g.fired,then:function(c,d,a){b.done(c).fail(d).progress(a);return this},always:function(){b.done.apply(b,arguments).fail.apply(b,arguments);return this},pipe:function(d,e,c){return a.Deferred(function(f){a.each({done:[d,"resolve"],fail:[e,"reject"],progress:[c,"notify"]},function(d,g){var h=g[0],e=g[1],c;if(a.isFunction(h))b[d](function(){c=h.apply(this,arguments);if(c&&a.isFunction(c.promise))c.promise().then(f.resolve,f.reject,f.notify);else f[e+"With"](this===b?f:this,[c])});else b[d](f[e])})}).promise()},promise:function(a){if(a==c)a=h;else for(var b in h)a[b]=h[b];return a}},b=h.promise({}),d;for(d in i){b[d]=i[d].fire;b[d+"With"]=i[d].fireWith}b.done(function(){j="resolved"},g.disable,e.lock).fail(function(){j="rejected"},f.disable,e.lock);k&&k.call(b,b);return b},when:function(f){var c=Vb.call(arguments,0),d=0,e=c.length,i=new Array(e),g=e,l=e,b=e<=1&&f&&a.isFunction(f.promise)?f:a.Deferred(),h=b.promise();function k(a){return function(d){c[a]=arguments.length>1?Vb.call(arguments,0):d;!--g&&b.resolveWith(b,c)}}function j(a){return function(c){i[a]=arguments.length>1?Vb.call(arguments,0):c;b.notifyWith(h,i)}}if(e>1){for(;d<e;d++)if(c[d]&&c[d].promise&&a.isFunction(c[d].promise))c[d].promise().then(k(d),b.reject,j(d));else--g;!g&&b.resolveWith(b,c)}else b!==f&&b.resolveWith(b,e?[f]:[]);return h}});a.support=function(){var g,A,s,w,x,h,q,l,t,F,v,B,m,f=i.createElement(p),C=i.documentElement;f.setAttribute(Cb,"t");f.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";A=f.getElementsByTagName(j);s=f.getElementsByTagName("a")[0];if(!A||!A.length||!s)return{};w=i.createElement("select");x=w.appendChild(i.createElement(ub));h=f.getElementsByTagName(n)[0];g={leadingWhitespace:f.firstChild.nodeType===3,tbody:!f.getElementsByTagName(eb).length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:s.getAttribute(D)==="/a",opacity:/^0.55/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:h.value===E,optSelected:x.selected,getSetAttribute:f.className!=="t",enctype:!!i.createElement(vb).enctype,html5Clone:i.createElement("nav").cloneNode(b).outerHTML!=="<:nav></:nav>",submitBubbles:b,changeBubbles:b,focusinBubbles:e,deleteExpando:b,noCloneEvent:b,inlineBlockNeedsLayout:e,shrinkWrapBlocks:e,reliableMarginRight:b};h.checked=b;g.noCloneChecked=h.cloneNode(b).checked;w.disabled=b;g.optDisabled=!x.disabled;try{delete f.test}catch(G){g.deleteExpando=e}if(!f.addEventListener&&f.attachEvent&&f.fireEvent){f.attachEvent("onclick",function(){g.noCloneEvent=e});f.cloneNode(b).fireEvent("onclick")}h=i.createElement(n);h.value="t";h.setAttribute(O,y);g.radioValue=h.value==="t";h.setAttribute(nb,nb);f.appendChild(h);l=i.createDocumentFragment();l.appendChild(f.lastChild);g.checkClone=l.cloneNode(b).cloneNode(b).lastChild.checked;g.appendChecked=h.checked;l.removeChild(h);l.appendChild(f);f.innerHTML=d;if(o.getComputedStyle){q=i.createElement(p);q.style.width="0";q.style.marginRight="0";f.style.width="2px";f.appendChild(q);g.reliableMarginRight=(parseInt((o.getComputedStyle(q,c)||{marginRight:0}).marginRight,10)||0)===0}if(f.attachEvent)for(B in{submit:1,change:1,focusin:1}){v=E+B;m=v in f;if(!m){f.setAttribute(v,"return;");m=typeof f[v]===z}g[B+"Bubbles"]=m}l.removeChild(f);l=w=x=q=f=h=c;a(function(){var e,j,b,x,w,h,n,q,s,o,v,l=i.getElementsByTagName(H)[0];if(!l)return;n=1;q="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;";s="visibility:hidden;border:0;";o="style='"+q+"border:5px solid #000;padding:0;'";v="<div "+o+"><div></div></div><table "+o+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";e=i.createElement(p);e.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+n+r;l.insertBefore(e,l.firstChild);f=i.createElement(p);e.appendChild(f);f.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";t=f.getElementsByTagName("td");m=t[0].offsetHeight===0;t[0].style.display=d;t[1].style.display=u;g.reliableHiddenOffsets=m&&t[0].offsetHeight===0;f.innerHTML=d;f.style.width=f.style.paddingLeft="1px";a.boxModel=g.boxModel=f.offsetWidth===2;if(typeof f.style.zoom!==k){f.style.display=V;f.style.zoom=1;g.inlineBlockNeedsLayout=f.offsetWidth===2;f.style.display=d;f.innerHTML="<div style='width:4px;'></div>";g.shrinkWrapBlocks=f.offsetWidth!==2}f.style.cssText=q+s;f.innerHTML=v;j=f.firstChild;b=j.firstChild;w=j.nextSibling.firstChild.firstChild;h={doesNotAddBorder:b.offsetTop!==5,doesAddBorderForTableAndCells:w.offsetTop===5};b.style.position=W;b.style.top="20px";h.fixedPosition=b.offsetTop===20||b.offsetTop===15;b.style.position=b.style.top=d;j.style.overflow=P;j.style.position=ob;h.subtractsBorderForOverflowNotVisible=b.offsetTop===-5;h.doesNotIncludeMarginInBodyOffset=l.offsetTop!==n;l.removeChild(e);f=e=c;a.extend(g,h)});return g}();var Nd=/^(?:\{.*\}|\[.*\])$/,td=/([A-Z])/g;a.extend({cache:{},uuid:0,expando:"jQuery"+(a.fn.jquery+Math.random()).replace(/\D/g,d),noData:{embed:b,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:b},hasData:function(b){b=b.nodeType?a.cache[b[a.expando]]:b[a.expando];return!!b&&!Tb(b)},data:function(i,g,n,o){if(!a.acceptData(i))return;var p,d,k,j=a.expando,q=typeof g===f,l=i.nodeType,e=l?a.cache:i,b=l?i[j]:i[j]&&j,r=g===fb;if((!b||!e[b]||!r&&!o&&!e[b].data)&&q&&n===h)return;if(!b)if(l)i[j]=b=++a.uuid;else b=j;if(!e[b]){e[b]={};if(!l)e[b].toJSON=a.noop}if(typeof g===m||typeof g===z)if(o)e[b]=a.extend(e[b],g);else e[b].data=a.extend(e[b].data,g);p=d=e[b];if(!o){if(!d.data)d.data={};d=d.data}if(n!==h)d[a.camelCase(g)]=n;if(r&&!d[g])return p.events;if(q){k=d[g];if(k==c)k=d[a.camelCase(g)]}else k=d;return k},removeData:function(e,b,l){if(!a.acceptData(e))return;var h,j,m,i=a.expando,k=e.nodeType,d=k?a.cache:e,f=k?e[i]:i;if(!d[f])return;if(b){h=l?d[f]:d[f].data;if(h){if(!a.isArray(b))if(b in h)b=[b];else{b=a.camelCase(b);if(b in h)b=[b];else b=b.split(g)}for(j=0,m=b.length;j<m;j++)delete h[b[j]];if(!(l?Tb:a.isEmptyObject)(h))return}}if(!l){delete d[f].data;if(!Tb(d[f]))return}if(a.support.deleteExpando||!d.setInterval)delete d[f];else d[f]=c;if(k)if(a.support.deleteExpando)delete e[i];else if(e.removeAttribute)e.removeAttribute(i);else e[i]=c},_data:function(d,e,c){return a.data(d,e,c,b)},acceptData:function(d){if(d.nodeName){var c=a.noData[d.nodeName.toLowerCase()];if(c)return!(c===b||d.getAttribute("classid")!==c)}return b}});a.fn.extend({data:function(i,n){var l="parsedAttrs",e=this,f,o,j,g=c;if(typeof i===k){if(e.length){g=a.data(e[0]);if(e[0].nodeType===1&&!a._data(e[0],l)){o=e[0].attributes;for(var p=0,q=o.length;p<q;p++){j=o[p].name;if(j.indexOf("data-")===0){j=a.camelCase(j.substring(5));Jc(e[0],j,g[j])}}a._data(e[0],l,b)}}return g}else if(typeof i===m)return e.each(function(){a.data(this,i)});f=i.split(t);f[1]=f[1]?t+f[1]:d;if(n===h){g=e.triggerHandler("getData"+f[1]+"!",[f[0]]);if(g===h&&e.length){g=a.data(e[0],i);g=Jc(e[0],i,g)}return g===h&&f[1]?e.data(f[0]):g}else return e.each(function(){var c=a(this),b=[f[0],n];c.triggerHandler("setData"+f[1]+"!",b);a.data(this,i,n);c.triggerHandler("changeData"+f[1]+"!",b)})},removeData:function(b){return this.each(function(){a.removeData(this,b)})}});function Jc(g,i,d){if(d===h&&g.nodeType===1){var j="data-"+i.replace(td,"-$1").toLowerCase();d=g.getAttribute(j);if(typeof d===f){try{d=d==="true"?b:d===lb?e:d==="null"?c:a.isNumeric(d)?parseFloat(d):Nd.test(d)?a.parseJSON(d):d}catch(k){}a.data(g,i,d)}else d=h}return d}function Tb(d){for(var c in d){if(c==="data"&&a.isEmptyObject(d[c]))continue;if(c!=="toJSON")return e}return b}function hc(c,d,i){var e=d+"defer",f=d+Q,g=d+K,h=a._data(c,e);h&&(i===Q||!a._data(c,f))&&(i===K||!a._data(c,g))&&setTimeout(function(){if(!a._data(c,f)&&!a._data(c,g)){a.removeData(c,e,b);h.fire()}},0)}a.extend({_mark:function(c,b){if(c){b=(b||s)+K;a._data(c,b,(a._data(c,b)||0)+1)}},_unmark:function(f,c,d){if(f!==b){d=c;c=f;f=e}if(c){d=d||s;var g=d+K,h=f?0:(a._data(c,g)||1)-1;if(h)a._data(c,g,h);else{a.removeData(c,g,b);hc(c,d,K)}}},queue:function(e,d,c){var b;if(e){d=(d||s)+Q;b=a._data(e,d);if(c)if(!b||a.isArray(c))b=a._data(e,d,a.makeArray(c));else b.push(c);return b||[]}},dequeue:function(d,c){c=c||s;var e=a.queue(d,c),f=e.shift(),g={};if(f===pb)f=e.shift();if(f){c===s&&e.unshift(pb);a._data(d,c+R,g);f.call(d,function(){a.dequeue(d,c)},g)}if(!e.length){a.removeData(d,c+"queue "+c+R,b);hc(d,c,Q)}}});a.fn.extend({queue:function(b,c){if(typeof b!==f){c=b;b=s}return c===h?a.queue(this[0],b):this.each(function(){var d=a.queue(this,b,c);b===s&&d[0]!==pb&&a.dequeue(this,b)})},dequeue:function(b){return this.each(function(){a.dequeue(this,b)})},delay:function(b,c){b=a.fx?a.fx.speeds[b]||b:b;c=c||s;return this.queue(c,function(d,c){var a=setTimeout(d,b);c.stop=function(){clearTimeout(a)}})},clearQueue:function(a){return this.queue(a||s,[])},promise:function(c,o){if(typeof c!==f){o=c;c=h}c=c||s;var k=a.Deferred(),d=this,e=d.length,j=1,g=c+"defer",m=c+Q,n=c+K,l;function i(){!--j&&k.resolveWith(d,[d])}while(e--)if(l=a.data(d[e],g,h,b)||(a.data(d[e],m,h,b)||a.data(d[e],n,h,b))&&a.data(d[e],g,a.Callbacks(M),b)){j++;l.add(i)}i();return k.promise()}});var Oc=/[\n\t\r]/g,Pb=/\s+/,Ld=/\r/g,Wd=/^(?:button|input)$/i,rd=/^(?:button|input|object|select|textarea)$/i,qd=/^a(?:rea)?$/i,Kc=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,nc=a.support.getSetAttribute,db,Ic,tc;a.fn.extend({attr:function(d,c){return a.access(this,d,c,b,a.attr)},removeAttr:function(b){return this.each(function(){a.removeAttr(this,b)})},prop:function(d,c){return a.access(this,d,c,b,a.prop)},removeProp:function(b){b=a.propFix[b]||b;return this.each(function(){try{this[b]=h;delete this[b]}catch(a){}})},addClass:function(b){var i=this,d,j,l,c,h,e,k;if(a.isFunction(b))return i.each(function(c){a(this).addClass(b.call(this,c,this.className))});if(b&&typeof b===f){d=b.split(Pb);for(j=0,l=i.length;j<l;j++){c=i[j];if(c.nodeType===1)if(!c.className&&d.length===1)c.className=b;else{h=g+c.className+g;for(e=0,k=d.length;e<k;e++)if(!~h.indexOf(g+d[e]+g))h+=d[e]+g;c.className=a.trim(h)}}}return i},removeClass:function(b){var i=this,l,k,n,c,e,j,m;if(a.isFunction(b))return i.each(function(c){a(this).removeClass(b.call(this,c,this.className))});if(b&&typeof b===f||b===h){l=(b||d).split(Pb);for(k=0,n=i.length;k<n;k++){c=i[k];if(c.nodeType===1&&c.className)if(b){e=(g+c.className+g).replace(Oc,g);for(j=0,m=l.length;j<m;j++)e=e.replace(g+l[j]+g,g);c.className=a.trim(e)}else c.className=d}}return i},toggleClass:function(b,c){var g=typeof b,h=typeof c===J;return a.isFunction(b)?this.each(function(d){a(this).toggleClass(b.call(this,d,this.className,c),c)}):this.each(function(){var j="__className__",i=this;if(g===f){var l,p=0,n=a(i),m=c,o=b.split(Pb);while(l=o[p++]){m=h?m:!n.hasClass(l);n[m?"addClass":"removeClass"](l)}}else if(g===k||g===J){i.className&&a._data(i,j,i.className);i.className=i.className||b===e?d:a._data(i,j)||d}})},hasClass:function(d){for(var c=g+d+g,a=0,f=this.length;a<f;a++)if(this[a].nodeType===1&&(g+this[a].className+g).replace(Oc,g).indexOf(c)>l)return b;return e},val:function(i){var b,e,j,g=this[0];if(!arguments.length){if(g){b=a.valHooks[g.nodeName.toLowerCase()]||a.valHooks[g.type];if(b&&N in b&&(e=b.get(g,gb))!==h)return e;e=g.value;return typeof e===f?e.replace(Ld,d):e==c?d:e}return}j=a.isFunction(i);return this.each(function(k){var f=this,g=a(f),e;if(f.nodeType!==1)return;if(j)e=i.call(f,k,g.val());else e=i;if(e==c)e=d;else if(typeof e===q)e+=d;else if(a.isArray(e))e=a.map(e,function(a){return a==c?d:a+d});b=a.valHooks[f.nodeName.toLowerCase()]||a.valHooks[f.type];if(!b||!(X in b)||b.set(f,e,gb)===h)f.value=e})}});a.extend({valHooks:{option:{"get":function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{"get":function(j){var i,g,k,b,e=j.selectedIndex,h=[],d=j.options,f=j.type==="select-one";if(e<0)return c;g=f?e:0;k=f?e+1:d.length;for(;g<k;g++){b=d[g];if(b.selected&&(a.support.optDisabled?!b.disabled:b.getAttribute("disabled")===c)&&(!b.parentNode.disabled||!a.nodeName(b.parentNode,"optgroup"))){i=a(b).val();if(f)return i;h.push(i)}}return f&&!h.length&&d.length?a(d[e]).val():h},"set":function(c,d){var b=a.makeArray(d);a(c).find(ub).each(function(){this.selected=a.inArray(a(this).val(),b)>=0});if(!b.length)c.selectedIndex=l;return b}}},attrFn:{val:b,css:b,html:b,text:b,data:b,width:b,height:b,offset:b},attr:function(e,b,g,m){var i,f,j,l=e.nodeType;if(!e||l===3||l===8||l===2)return;if(m&&b in a.attrFn)return a(e)[b](g);if(typeof e.getAttribute===k)return a.prop(e,b,g);j=l!==1||!a.isXMLDoc(e);if(j){b=b.toLowerCase();f=a.attrHooks[b]||(Kc.test(b)?Ic:db)}if(g!==h)if(g===c){a.removeAttr(e,b);return}else if(f&&X in f&&j&&(i=f.set(e,g,b))!==h)return i;else{e.setAttribute(b,d+g);return g}else if(f&&N in f&&j&&(i=f.get(e,b))!==c)return i;else{i=e.getAttribute(b);return i===c?h:i}},removeAttr:function(c,i){var f,g,b,j,h=0;if(i&&c.nodeType===1){g=i.toLowerCase().split(Pb);j=g.length;for(;h<j;h++){b=g[h];if(b){f=a.propFix[b]||b;a.attr(c,b,d);c.removeAttribute(nc?b:f);if(Kc.test(b)&&f in c)c[f]=e}}}},attrHooks:{type:{"set":function(b,c){if(Wd.test(b.nodeName)&&b.parentNode)a.error("type property can't be changed");else if(!a.support.radioValue&&c===y&&a.nodeName(b,n)){var d=b.value;b.setAttribute(O,c);if(d)b.value=d;return c}}},value:{"get":function(b,d){return db&&a.nodeName(b,w)?db.get(b,d):d in b?b.value:c},"set":function(b,c,d){if(db&&a.nodeName(b,w))return db.set(b,c,d);b.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":Cb,maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,b,i){var g,d,j,f=e.nodeType;if(!e||f===3||f===8||f===2)return;j=f!==1||!a.isXMLDoc(e);if(j){b=a.propFix[b]||b;d=a.propHooks[b]}return i!==h?d&&X in d&&(g=d.set(e,i,b))!==h?g:(e[b]=i):d&&N in d&&(g=d.get(e,b))!==c?g:e[b]},propHooks:{tabIndex:{"get":function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):rd.test(a.nodeName)||qd.test(a.nodeName)&&a.href?0:h}}}});a.attrHooks.tabindex=a.propHooks.tabIndex;Ic={"get":function(g,c){var d,f=a.prop(g,c);return f===b||typeof f!==J&&(d=g.getAttributeNode(c))&&d.nodeValue!==e?c.toLowerCase():h},"set":function(d,g,c){var f;if(g===e)a.removeAttr(d,c);else{f=a.propFix[c]||c;if(f in d)d[f]=b;d.setAttribute(c,c.toLowerCase())}return c}};if(!nc){tc={name:b,id:b};db=a.valHooks.button={"get":function(c,b){var a;a=c.getAttributeNode(b);return a&&(tc[b]?a.nodeValue!==d:a.specified)?a.nodeValue:h},"set":function(b,e,c){var a=b.getAttributeNode(c);if(!a){a=i.createAttribute(c);b.setAttributeNode(a)}return a.nodeValue=e+d}};a.attrHooks.tabindex.set=db.set;a.each([C,S],function(c,b){a.attrHooks[b]=a.extend(a.attrHooks[b],{"set":function(c,a){if(a===d){c.setAttribute(b,Y);return a}}})});a.attrHooks.contenteditable={"get":db.get,"set":function(b,a,c){if(a===d)a=lb;db.set(b,a,c)}}}!a.support.hrefNormalized&&a.each([D,"src",C,S],function(d,b){a.attrHooks[b]=a.extend(a.attrHooks[b],{"get":function(d){var a=d.getAttribute(b,2);return a===c?h:a}})});if(!a.support.style)a.attrHooks.style={"get":function(a){return a.style.cssText.toLowerCase()||h},"set":function(b,a){return b.style.cssText=d+a}};if(!a.support.optSelected)a.propHooks.selected=a.extend(a.propHooks.selected,{"get":function(b){var a=b.parentNode;if(a){a.selectedIndex;if(a.parentNode)a.parentNode.selectedIndex}return c}});if(!a.support.enctype)a.propFix.enctype="encoding";!a.support.checkOn&&a.each([y,F],function(){a.valHooks[this]={"get":function(a){return a.getAttribute(gb)===c?E:a.value}}});a.each([y,F],function(){a.valHooks[this]=a.extend(a.valHooks[this],{"set":function(c,b){if(a.isArray(b))return c.checked=a.inArray(a(c).val(),b)>=0}})});var dc=/^(?:textarea|input|select)$/i,rc=/^([^\.]*)?(?:\.(.+))?$/,sd=/\bhover(\.\S+)?\b/,xd=/^key/,ld=/^(?:mouse|contextmenu)|click/,yc=/^(?:focusinfocus|focusoutblur)$/,Hd=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,pd=function(b){var a=Hd.exec(b);if(a){a[1]=(a[1]||d).toLowerCase();a[3]=a[3]&&new RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},Jd=function(c,a){var b=c.attributes||{};return(!a[1]||c.nodeName.toLowerCase()===a[1])&&(!a[2]||(b.id||{}).value===a[2])&&(!a[3]||a[3].test((b["class"]||{}).value))},Ec=function(b){return a.event.special.hover?b:b.replace(sd,"mouseenter$1 mouseleave$1")};a.event={add:function(f,r,j,y,s){var p,l,q,v,u,i,x,o,w,z,n,m;if(f.nodeType===3||f.nodeType===8||!r||!j||!(p=a._data(f)))return;if(j.handler){w=j;j=w.handler}if(!j.guid)j.guid=a.guid++;q=p.events;if(!q)p.events=q={};l=p.handle;if(!l){p.handle=l=function(b){return typeof a!==k&&(!b||a.event.triggered!==b.type)?a.event.dispatch.apply(l.elem,arguments):h};l.elem=f}r=a.trim(Ec(r)).split(g);for(v=0;v<r.length;v++){u=rc.exec(r[v])||[];i=u[1];x=(u[2]||d).split(t).sort();m=a.event.special[i]||{};i=(s?m.delegateType:m.bindType)||i;m=a.event.special[i]||{};o=a.extend({type:i,origType:u[1],data:y,handler:j,guid:j.guid,selector:s,quick:pd(s),"namespace":x.join(t)},w);n=q[i];if(!n){n=q[i]=[];n.delegateCount=0;if(!m.setup||m.setup.call(f,y,x,l)===e)if(f.addEventListener)f.addEventListener(i,l,e);else f.attachEvent&&f.attachEvent(E+i,l)}if(m.add){m.add.call(f,o);if(!o.handler.guid)o.handler.guid=j.guid}if(s)n.splice(n.delegateCount++,0,o);else n.push(o);a.event.global[i]=b}f=c},global:{},remove:function(l,o,s,m,y){var r=a.hasData(l)&&a._data(l),q,v,f,x,j,w,p,n,k,u,h,i;if(!r||!(n=r.events))return;o=a.trim(Ec(o||d)).split(g);for(q=0;q<o.length;q++){v=rc.exec(o[q])||[];f=x=v[1];j=v[2];if(!f){for(f in n)a.event.remove(l,f+o[q],s,m,b);continue}k=a.event.special[f]||{};f=(m?k.delegateType:k.bindType)||f;h=n[f]||[];w=h.length;j=j?new RegExp("(^|\\.)"+j.split(t).sort().join(Kb)+"(\\.|$)"):c;for(p=0;p<h.length;p++){i=h[p];if((y||x===i.origType)&&(!s||s.guid===i.guid)&&(!j||j.test(i.namespace))&&(!m||m===i.selector||m==="**"&&i.selector)){h.splice(p--,1);if(i.selector)h.delegateCount--;k.remove&&k.remove.call(l,i)}}if(h.length===0&&w!==h.length){(!k.teardown||k.teardown.call(l,j)===e)&&a.removeEvent(l,f,r.handle);delete n[f]}}if(a.isEmptyObject(n)){u=r.handle;if(u)u.elem=c;a.removeData(l,[fb,"handle"],b)}},customEvent:{getData:b,setData:b,changeData:b},trigger:function(f,n,i,y){if(i&&(i.nodeType===3||i.nodeType===8))return;var g=f.type||f,v=[],w,z,p,j,k,r,q,u,s,x;if(yc.test(g+a.event.triggered))return;if(g.indexOf("!")>=0){g=g.slice(0,l);z=b}if(g.indexOf(t)>=0){v=g.split(t);g=v.shift();v.sort()}if((!i||a.event.customEvent[g])&&!a.event.global[g])return;f=typeof f===m?f[a.expando]?f:new a.Event(g,f):new a.Event(g);f.type=g;f.isTrigger=b;f.exclusive=z;f.namespace=v.join(t);f.namespace_re=f.namespace?new RegExp("(^|\\.)"+v.join(Kb)+"(\\.|$)"):c;r=g.indexOf(":")<0?E+g:d;if(!i){w=a.cache;for(p in w)w[p].events&&w[p].events[g]&&a.event.trigger(f,n,w[p].handle.elem,b);return}f.result=h;if(!f.target)f.target=i;n=n!=c?a.makeArray(n):[];n.unshift(f);q=a.event.special[g]||{};if(q.trigger&&q.trigger.apply(i,n)===e)return;s=[[i,q.bindType||g]];if(!y&&!q.noBubble&&!a.isWindow(i)){x=q.delegateType||g;j=yc.test(x+g)?i:i.parentNode;k=c;for(;j;j=j.parentNode){s.push([j,x]);k=j}k&&k===i.ownerDocument&&s.push([k.defaultView||k.parentWindow||o,x])}for(p=0;p<s.length&&!f.isPropagationStopped();p++){j=s[p][0];f.type=s[p][1];u=(a._data(j,fb)||{})[f.type]&&a._data(j,"handle");u&&u.apply(j,n);u=r&&j[r];u&&a.acceptData(j)&&u.apply(j,n)===e&&f.preventDefault()}f.type=g;if(!y&&!f.isDefaultPrevented())if((!q._default||q._default.apply(i.ownerDocument,n)===e)&&!(g==="click"&&a.nodeName(i,"a"))&&a.acceptData(i))if(r&&i[g]&&(g!=="focus"&&g!=="blur"||f.target.offsetWidth!==0)&&!a.isWindow(i)){k=i[r];if(k)i[r]=c;a.event.triggered=g;i[g]();a.event.triggered=h;if(k)i[r]=k}return f.result},dispatch:function(b){var d=this;b=a.event.fix(b||o.event);var m=(a._data(d,fb)||{})[b.type]||[],k=m.delegateCount,t=[].slice.call(arguments,0),u=!b.exclusive&&!b.namespace,l=[],f,s,g,q,r,n,i,p,c,j,v;t[0]=b;b.delegateTarget=d;if(k&&!b.target.disabled&&!(b.button&&b.type==="click")){q=a(d);q.context=d.ownerDocument||d;for(g=b.target;g!=d;g=g.parentNode||d){n={};p=[];q[0]=g;for(f=0;f<k;f++){c=m[f];j=c.selector;if(n[j]===h)n[j]=c.quick?Jd(g,c.quick):q.is(j);n[j]&&p.push(c)}p.length&&l.push({elem:g,matches:p})}}m.length>k&&l.push({elem:d,matches:m.slice(k)});for(f=0;f<l.length&&!b.isPropagationStopped();f++){i=l[f];b.currentTarget=i.elem;for(s=0;s<i.matches.length&&!b.isImmediatePropagationStopped();s++){c=i.matches[s];if(u||!b.namespace&&!c.namespace||b.namespace_re&&b.namespace_re.test(c.namespace)){b.data=c.data;b.handleObj=c;r=((a.event.special[c.origType]||{}).handle||c.handler).apply(i.elem,t);if(r!==h){b.result=r;if(r===e){b.preventDefault();b.stopPropagation()}}}}}return b.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(g),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(g),filter:function(b,a){if(b.which==c)b.which=a.charCode!=c?a.charCode:a.keyCode;return b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(g),filter:function(a,e){var j,d,b,f=e.button,g=e.fromElement;if(a.pageX==c&&e.clientX!=c){j=a.target.ownerDocument||i;d=j.documentElement;b=j.body;a.pageX=e.clientX+(d&&d.scrollLeft||b&&b.scrollLeft||0)-(d&&d.clientLeft||b&&b.clientLeft||0);a.pageY=e.clientY+(d&&d.scrollTop||b&&b.scrollTop||0)-(d&&d.clientTop||b&&b.clientTop||0)}if(!a.relatedTarget&&g)a.relatedTarget=g===a.target?e.toElement:g;if(!a.which&&f!==h)a.which=f&1?1:f&2?3:f&4?2:0;return a}},fix:function(b){if(b[a.expando])return b;var f,e,c=b,d=a.event.fixHooks[b.type]||{},g=d.props?this.props.concat(d.props):this.props;b=a.Event(c);for(f=g.length;f;){e=g[--f];b[e]=c[e]}if(!b.target)b.target=c.srcElement||i;if(b.target.nodeType===3)b.target=b.target.parentNode;if(b.metaKey===h)b.metaKey=b.ctrlKey;return d.filter?d.filter(b,c):b},special:{ready:{setup:a.bindReady},load:{noBubble:b},focus:{delegateType:"focusin"},blur:{delegateType:wc},beforeunload:{setup:function(d,c,b){if(a.isWindow(this))this.onbeforeunload=b},teardown:function(b,a){if(this.onbeforeunload===a)this.onbeforeunload=c}}},simulate:function(h,f,e,g){var d=a.extend(new a.Event,e,{type:h,isSimulated:b,originalEvent:{}});if(g)a.event.trigger(d,c,f);else a.event.dispatch.call(f,d);d.isDefaultPrevented()&&e.preventDefault()}};a.event.handle=a.event.dispatch;a.removeEvent=i.removeEventListener?function(a,c,b){a.removeEventListener&&a.removeEventListener(c,b,e)}:function(a,c,b){a.detachEvent&&a.detachEvent(E+c,b)};a.Event=function(c,f){var d=this;if(!(d instanceof a.Event))return new a.Event(c,f);if(c&&c.type){d.originalEvent=c;d.type=c.type;d.isDefaultPrevented=c.defaultPrevented||c.returnValue===e||c.getPreventDefault&&c.getPreventDefault()?Mb:yb}else d.type=c;f&&a.extend(d,f);d.timeStamp=c&&c.timeStamp||a.now();d[a.expando]=b};function yb(){return e}function Mb(){return b}a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Mb;var a=this.originalEvent;if(!a)return;if(a.preventDefault)a.preventDefault();else a.returnValue=e},stopPropagation:function(){this.isPropagationStopped=Mb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation();a.cancelBubble=b},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Mb;this.stopPropagation()},isDefaultPrevented:yb,isPropagationStopped:yb,isImmediatePropagationStopped:yb};a.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,b){a.event.special[c]={delegateType:b,bindType:b,handle:function(c){var f=this,e=c.relatedTarget,d=c.handleObj,h=d.selector,g;if(!e||e!==f&&!a.contains(f,e)){c.type=d.origType;g=d.handler.apply(this,arguments);c.type=b}return g}}});if(!a.support.submitBubbles)a.event.special.submit={setup:function(){if(a.nodeName(this,vb))return e;a.event.add(this,"click._submit keypress._submit",function(e){var d=e.target,c=a.nodeName(d,n)||a.nodeName(d,w)?d.form:h;if(c&&!c._submit_attached){a.event.add(c,"submit._submit",function(c){this.parentNode&&!c.isTrigger&&a.event.simulate("submit",this.parentNode,c,b)});c._submit_attached=b}})},teardown:function(){if(a.nodeName(this,vb))return e;a.event.remove(this,"._submit")}};if(!a.support.changeBubbles)a.event.special.change={setup:function(){var c=this;if(dc.test(c.nodeName)){if(c.type===F||c.type===y){a.event.add(c,"propertychange._change",function(a){if(a.originalEvent.propertyName===nb)this._just_changed=b});a.event.add(c,"click._change",function(c){if(this._just_changed&&!c.isTrigger){this._just_changed=e;a.event.simulate("change",this,c,b)}})}return e}a.event.add(c,"beforeactivate._change",function(d){var c=d.target;if(dc.test(c.nodeName)&&!c._change_attached){a.event.add(c,"change._change",function(c){this.parentNode&&!c.isSimulated&&!c.isTrigger&&a.event.simulate("change",this.parentNode,c,b)});c._change_attached=b}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!==y&&b.type!==F)return a.handleObj.handler.apply(this,arguments)},teardown:function(){a.event.remove(this,"._change");return dc.test(this.nodeName)}};!a.support.focusinBubbles&&a.each({focus:"focusin",blur:wc},function(e,f){var c=0,d=function(c){a.event.simulate(f,c.target,a.event.fix(c),b)};a.event.special[f]={setup:function(){c++===0&&i.addEventListener(e,d,b)},teardown:function(){--c===0&&i.removeEventListener(e,d,b)}}});a.fn.extend({on:function(k,d,g,b,n){var j=this,i,l;if(typeof k===m){if(typeof d!==f){g=d;d=h}for(l in k)j.on(l,d,g,k[l],n);return j}if(g==c&&b==c){b=d;g=d=h}else if(b==c)if(typeof d===f){b=g;g=h}else{b=g;g=d;d=h}if(b===e)b=yb;else if(!b)return j;if(n===1){i=b;b=function(b){a().off(b);return i.apply(this,arguments)};b.guid=i.guid||(i.guid=a.guid++)}return j.each(function(){a.event.add(this,k,b,g,d)})},one:function(b,a,c,d){return this.on.call(this,b,a,c,d,1)},off:function(b,d,g){var f=this;if(b&&b.preventDefault&&b.handleObj){var c=b.handleObj;a(b.delegateTarget).off(c.namespace?c.type+t+c.namespace:c.type,c.selector,c.handler);return f}if(typeof b===m){for(var i in b)f.off(i,d,b[i]);return f}if(d===e||typeof d===z){g=d;d=h}if(g===e)g=yb;return f.each(function(){a.event.remove(this,b,g,d)})},bind:function(a,b,d){return this.on(a,c,b,d)},unbind:function(a,b){return this.off(a,c,b)},live:function(b,c,d){a(this.context).on(b,this.selector,c,d);return this},die:function(b,c){a(this.context).off(b,this.selector||"**",c);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(c,b){return this.each(function(){a.event.trigger(c,b,this)})},triggerHandler:function(d,c){if(this[0])return a.event.trigger(d,c,this[0],b)},toggle:function(c){var b=arguments,g=c.guid||a.guid++,d=0,f=function(h){var f="lastToggle",g=(a._data(this,f+c.guid)||0)%d;a._data(this,f+c.guid,g+1);h.preventDefault();return b[g].apply(this,arguments)||e};f.guid=g;while(d<b.length)b[d++].guid=g;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});a.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(g),function(e,d){a.fn[d]=function(a,b){if(b==c){b=a;a=c}return arguments.length>0?this.on(d,c,a,b):this.trigger(d)};if(a.attrFn)a.attrFn[d]=b;if(xd.test(d))a.event.fixHooks[d]=a.event.keyHooks;if(ld.test(d))a.event.fixHooks[d]=a.event.mouseHooks});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var s="id",x="[object Array]",J=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,A="sizcache"+(Math.random()+d).replace(t,d),L=0,S=Object.prototype.toString,C=e,M=b,z=/\\/g,V=/\r\n/g,G=/\W/;[0,0].sort(function(){M=e;return 0});var o=function(m,g,k,q){k=k||[];g=g||i;var A=g;if(g.nodeType!==1&&g.nodeType!==9)return[];if(!m||typeof m!==f)return k;var p,n,h,w,l,s,t,j,y=b,v=o.isXML(g),a=[],z=m;do{J.exec(d);p=J.exec(z);if(p){z=p[3];a.push(p[1]);if(p[2]){w=p[3];break}}}while(p);if(a.length>1&&U.exec(m))if(a.length===2&&r.relative[a[0]])n=Q(a[0]+a[1],g,q);else{n=r.relative[a[0]]?[g]:o(a.shift(),g);while(a.length){m=a.shift();if(r.relative[m])m+=a.shift();n=Q(m,n,q)}}else{if(!q&&a.length>1&&g.nodeType===9&&!v&&r.match.ID.test(a[0])&&!r.match.ID.test(a[a.length-1])){l=o.find(a.shift(),g,v);g=l.expr?o.filter(l.expr,l.set)[0]:l.set[0]}if(g){l=q?{expr:a.pop(),"set":u(q)}:o.find(a.pop(),a.length===1&&(a[0]==="~"||a[0]==="+")&&g.parentNode?g.parentNode:g,v);n=l.expr?o.filter(l.expr,l.set):l.set;if(a.length>0)h=u(n);else y=e;while(a.length){s=a.pop();t=s;if(!r.relative[s])s=d;else t=a.pop();if(t==c)t=g;r.relative[s](h,t,v)}}else h=a=[]}if(!h)h=n;!h&&o.error(s||m);if(S.call(h)===x)if(!y)k.push.apply(k,h);else if(g&&g.nodeType===1)for(j=0;h[j]!=c;j++)h[j]&&(h[j]===b||h[j].nodeType===1&&o.contains(g,h[j]))&&k.push(n[j]);else for(j=0;h[j]!=c;j++)h[j]&&h[j].nodeType===1&&k.push(n[j]);else u(h,k);if(w){o(w,A,k,q);o.uniqueSort(k)}return k};o.uniqueSort=function(a){if(E){C=M;a.sort(E);if(C)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};o.matches=function(a,b){return o(a,c,c,b)};o.matchesSelector=function(b,a){return o(a,c,c,[b]).length>0};o.find=function(b,h,m){var e,g,l,a,f,i;if(!b)return[];for(g=0,l=r.order.length;g<l;g++){f=r.order[g];if(a=r.leftMatch[f].exec(b)){i=a[1];a.splice(1,1);if(i.substr(i.length-1)!=="\\"){a[1]=(a[1]||d).replace(z,d);e=r.find[f](a,h,m);if(e!=c){b=b.replace(r.match[f],d);break}}}}if(!e)e=typeof h.getElementsByTagName!==k?h.getElementsByTagName(j):[];return{"set":e,expr:b}};o.filter=function(f,m,q,v){var a,i,j,l,p,u,s,n,t,w=f,k=[],g=m,x=m&&m[0]&&o.isXML(m[0]);while(f&&m.length){for(j in r.filter)if((a=r.leftMatch[j].exec(f))!=c&&a[2]){u=r.filter[j];s=a[1];i=e;a.splice(1,1);if(s.substr(s.length-1)==="\\")continue;if(g===k)k=[];if(r.preFilter[j]){a=r.preFilter[j](a,g,q,k,v,x);if(!a)i=l=b;else if(a===b)continue}if(a)for(n=0;(p=g[n])!=c;n++)if(p){l=u(p,a,n,g);t=v^l;if(q&&l!=c)if(t)i=b;else g[n]=e;else if(t){k.push(p);i=b}}if(l!==h){if(!q)g=k;f=f.replace(r.match[j],d);if(!i)return[];break}}if(f===w)if(i==c)o.error(f);else break;w=f}return g};o.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a);};var K=o.getText=function(a){var g,c,b=a.nodeType,e=d;if(b){if(b===1||b===9)if(typeof a.textContent===f)return a.textContent;else if(typeof a.innerText===f)return a.innerText.replace(V,d);else for(a=a.firstChild;a;a=a.nextSibling)e+=K(a);else if(b===3||b===4)return a.nodeValue}else for(g=0;c=a[g];g++)if(c.nodeType!==8)e+=K(c);return e},r=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":Cb,"for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute(D)},type:function(a){return a.getAttribute(O)}},relative:{"+":function(d,c){var i=typeof c===f,j=i&&!G.test(c),h=i&&!j;if(j)c=c.toLowerCase();for(var g=0,k=d.length,a;g<k;g++)if(a=d[g]){while((a=a.previousSibling)&&a.nodeType!==1);d[g]=h||a&&a.nodeName.toLowerCase()===c?a||e:a===c}h&&o.filter(c,d,b)},">":function(g,d){var c,h=typeof d===f,a=0,j=g.length;if(h&&!G.test(d)){d=d.toLowerCase();for(;a<j;a++){c=g[a];if(c){var i=c.parentNode;g[a]=i.nodeName.toLowerCase()===d?i:e}}}else{for(;a<j;a++){c=g[a];if(c)g[a]=h?c.parentNode:c.parentNode===d}h&&o.filter(d,g,b)}},"":function(d,a,g){var b,e=L++,c=R;if(typeof a===f&&!G.test(a)){a=a.toLowerCase();b=a;c=N}c(qb,a,e,d,b,g)},"~":function(d,a,g){var b,e=L++,c=R;if(typeof a===f&&!G.test(a)){a=a.toLowerCase();b=a;c=N}c(Z,a,e,d,b,g)}},find:{ID:function(d,b,c){if(typeof b.getElementById!==k&&!c){var a=b.getElementById(d[1]);return a&&a.parentNode?[a]:[]}},NAME:function(f,e){if(typeof e.getElementsByName!==k){for(var d=[],b=e.getElementsByName(f[1]),a=0,g=b.length;a<g;a++)b[a].getAttribute("name")===f[1]&&d.push(b[a]);return d.length===0?c:d}},TAG:function(b,a){if(typeof a.getElementsByTagName!==k)return a.getElementsByTagName(b[1])}},preFilter:{CLASS:function(b,h,i,j,l,k){b=g+b[1].replace(z,d)+g;if(k)return b;for(var f=0,a;(a=h[f])!=c;f++)if(a)if(l^(a.className&&(g+a.className+g).replace(/[\t\n\r]/g,g).indexOf(b)>=0))!i&&j.push(a);else if(i)h[f]=e;return e},ID:function(a){return a[1].replace(z,d)},TAG:function(a){return a[1].replace(z,d).toLowerCase()},CHILD:function(a){if(a[1]==="nth"){!a[2]&&o.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,d);var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&o.error(a[0]);a[0]=L++;return a},ATTR:function(a,e,f,h,i,c){var b=a[1]=a[1].replace(z,d);if(!c&&r.attrMap[b])a[1]=r.attrMap[b];a[4]=(a[4]||a[5]||d).replace(z,d);if(a[2]==="~=")a[4]=g+a[4]+g;return a},PSEUDO:function(a,f,g,h,i){if(a[1]==="not")if((J.exec(a[3])||d).length>1||/^\w/.test(a[3]))a[3]=o(a[3],c,c,f);else{var j=o.filter(a[3],f,g,b^i);!g&&h.push.apply(h,j);return e}else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return b;return a},POS:function(a){a.unshift(b);return a}},filters:{enabled:function(a){return a.disabled===e&&a.type!==P},disabled:function(a){return a.disabled===b},checked:function(a){return a.checked===b},selected:function(a){if(a.parentNode)a.parentNode.selectedIndex;return a.selected===b},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(b,c,a){return!!o(a[3],b).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute(O),d=a.type;return a.nodeName.toLowerCase()===n&&"text"===d&&(b===d||b===c)},radio:function(a){return a.nodeName.toLowerCase()===n&&y===a.type},checkbox:function(a){return a.nodeName.toLowerCase()===n&&F===a.type},file:function(a){return a.nodeName.toLowerCase()===n&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()===n&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b===n||b===w)&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()===n&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b===n||b===w)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b===n&&w===a.type||b===w},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(b,a){return a===0},last:function(d,b,c,a){return b===a.length-1},even:function(b,a){return a%2===0},odd:function(b,a){return a%2===1},lt:function(c,b,a){return b<a[3]-0},gt:function(c,b,a){return b>a[3]-0},nth:function(c,b,a){return a[3]-0===b},eq:function(c,b,a){return a[3]-0===b}},filter:{PSEUDO:function(a,c,k,j){var f=c[1],h=r.filters[f];if(h)return h(a,k,c,j);else if(f==="contains")return(a.textContent||a.innerText||K([a])||d).indexOf(c[3])>=0;else if(f==="not"){for(var i=c[3],g=0,l=i.length;g<l;g++)if(i[g]===a)return e;return b}else o.error(f)},CHILD:function(f,g){var d,j,i,c,m,k,h,l=g[1],a=f;switch(l){case"only":case"first":while(a=a.previousSibling)if(a.nodeType===1)return e;if(l==="first")return b;a=f;case"last":while(a=a.nextSibling)if(a.nodeType===1)return e;return b;case"nth":d=g[2];j=g[3];if(d===1&&j===0)return b;i=g[0];c=f.parentNode;if(c&&(c[A]!==i||!f.nodeIndex)){k=0;for(a=c.firstChild;a;a=a.nextSibling)if(a.nodeType===1)a.nodeIndex=++k;c[A]=i}h=f.nodeIndex-j;return d===0?h===0:h%d===0&&h/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute(s)===b},TAG:function(a,b){return b===j&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(g+(a.className||a.getAttribute("class"))+g).indexOf(b)>l},ATTR:function(i,k){var h=k[1],j=o.attr?o.attr(i,h):r.attrHandle[h]?r.attrHandle[h](i):i[h]!=c?i[h]:i.getAttribute(h),b=j+d,f=k[2],a=k[4];return j==c?f==="!=":!f&&o.attr?j!=c:f==="="?b===a:f==="*="?b.indexOf(a)>=0:f==="~="?(g+b+g).indexOf(a)>=0:!a?b&&j!==e:f==="!="?b!==a:f==="^="?b.indexOf(a)===0:f==="$="?b.substr(b.length-a.length)===a:f==="|="?b===a||b.substr(0,a.length+1)===a+"-":e},POS:function(d,b,f,c){var e=b[2],a=r.setFilters[e];if(a)return a(d,f,b,c)}}},U=r.match.POS,T=function(b,a){return"\\"+(a-0+1)};for(var I in r.match){r.match[I]=new RegExp(r.match[I].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[I]=new RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[I].source.replace(/\\(\d+)/g,T))}var u=function(b,a){b=Array.prototype.slice.call(b,0);if(a){a.push.apply(a,b);return a}return b};try{Array.prototype.slice.call(i.documentElement.childNodes,0)[0].nodeType}catch(W){u=function(a,d){var b=0,c=d||[];if(S.call(a)===x)Array.prototype.push.apply(c,a);else if(typeof a.length===q)for(var e=a.length;b<e;b++)c.push(a[b]);else for(;a[b];b++)c.push(a[b]);return c}}var E,B;if(i.documentElement.compareDocumentPosition)E=function(a,c){if(a===c){C=b;return 0}return!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?l:1:a.compareDocumentPosition(c)&4?l:1};else{E=function(d,e){if(d===e){C=b;return 0}else if(d.sourceIndex&&e.sourceIndex)return d.sourceIndex-e.sourceIndex;var j,k,f=[],g=[],h=d.parentNode,i=e.parentNode,c=h;if(h===i)return B(d,e);else if(!h)return l;else if(!i)return 1;while(c){f.unshift(c);c=c.parentNode}c=i;while(c){g.unshift(c);c=c.parentNode}j=f.length;k=g.length;for(var a=0;a<j&&a<k;a++)if(f[a]!==g[a])return B(f[a],g[a]);return a===j?B(d,g[a],l):B(f[a],e,1)};B=function(b,c,d){if(b===c)return d;var a=b.nextSibling;while(a){if(a===c)return l;a=a.nextSibling}return 1}}(function(){var a=i.createElement(p),d=v+(new Date).getTime(),b=i.documentElement;a.innerHTML="<a name='"+d+"'/>";b.insertBefore(a,b.firstChild);if(i.getElementById(d)){r.find.ID=function(b,c,d){if(typeof c.getElementById!==k&&!d){var a=c.getElementById(b[1]);return a?a.id===b[1]||typeof a.getAttributeNode!==k&&a.getAttributeNode(s).nodeValue===b[1]?[a]:h:[]}};r.filter.ID=function(a,c){var b=typeof a.getAttributeNode!==k&&a.getAttributeNode(s);return a.nodeType===1&&b&&b.nodeValue===c}}b.removeChild(a);b=a=c})();(function(){var a=i.createElement(p);a.appendChild(i.createComment(d));if(a.getElementsByTagName(j).length>0)r.find.TAG=function(c,e){var a=e.getElementsByTagName(c[1]);if(c[1]===j){for(var d=[],b=0;a[b];b++)a[b].nodeType===1&&d.push(a[b]);a=d}return a};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!==k&&a.firstChild.getAttribute(D)!=="#")r.attrHandle.href=function(a){return a.getAttribute(D,2)};a=c})();i.querySelectorAll&&(function(){var b=o,a=i.createElement(p),e="__sizzle__";a.innerHTML="<p class='TEST'></p>";if(a.querySelectorAll&&a.querySelectorAll(".TEST").length===0)return;o=function(f,a,c,n){a=a||i;if(!n&&!o.isXML(a)){var d=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(f);if(d&&(a.nodeType===1||a.nodeType===9))if(d[1])return u(a.getElementsByTagName(f),c);else if(d[2]&&r.find.CLASS&&a.getElementsByClassName)return u(a.getElementsByClassName(d[2]),c);if(a.nodeType===9){if(f===H&&a.body)return u([a.body],c);else if(d&&d[3]){var g=a.getElementById(d[3]);if(g&&g.parentNode){if(g.id===d[3])return u([g],c)}else return u([],c)}try{return u(a.querySelectorAll(f),c)}catch(t){}}else if(a.nodeType===1&&a.nodeName.toLowerCase()!==m){var p=a,j=a.getAttribute(s),h=j||e,l=a.parentNode,k=/^\s*[+~]/.test(f);if(!j)a.setAttribute(s,h);else h=h.replace(/'/g,"\\$&");if(k&&l)a=a.parentNode;try{if(!k||l)return u(a.querySelectorAll("[id='"+h+"'] "+f),c)}catch(q){}finally{!j&&p.removeAttribute(s)}}}return b(f,a,c,n)};for(var d in b)o[d]=b[d];a=c})();(function(){var d=i.documentElement,a=d.matchesSelector||d.mozMatchesSelector||d.webkitMatchesSelector||d.msMatchesSelector;if(a){var g=!a.call(i.createElement(p),p),f=e;try{a.call(i.documentElement,"[test!='']:sizzle")}catch(h){f=b}o.matchesSelector=function(d,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!o.isXML(d))try{if(f||!r.match.PSEUDO.test(b)&&!/!=/.test(b)){var e=a.call(d,b);if(e||!g||d.document&&d.document.nodeType!==11)return e}}catch(h){}return o(b,c,c,[d]).length>0}}})();(function(){var a=i.createElement(p);a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;r.order.splice(1,0,"CLASS");r.find.CLASS=function(c,a,b){if(typeof a.getElementsByClassName!==k&&!b)return a.getElementsByClassName(c[1])};a=c})();function N(g,i,f,c,k,h){for(var b=0,j=c.length;b<j;b++){var a=c[b];if(a){var d=e;a=a[g];while(a){if(a[A]===f){d=c[a.sizset];break}if(a.nodeType===1&&!h){a[A]=f;a.sizset=b}if(a.nodeName.toLowerCase()===i){d=a;break}a=a[g]}c[b]=d}}}function R(j,h,i,d,m,k){for(var c=0,l=d.length;c<l;c++){var a=d[c];if(a){var g=e;a=a[j];while(a){if(a[A]===i){g=d[a.sizset];break}if(a.nodeType===1){if(!k){a[A]=i;a.sizset=c}if(typeof h!==f){if(a===h){g=b;break}}else if(o.filter(h,[a]).length>0){g=a;break}}a=a[j]}d[c]=g}}}if(i.documentElement.contains)o.contains=function(a,c){return a!==c&&(a.contains?a.contains(c):b)};else if(i.documentElement.compareDocumentPosition)o.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)};else o.contains=function(){return e};o.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":e};var Q=function(a,b,i){var g,e=[],f=d,h=b.nodeType?[b]:b;while(g=r.match.PSEUDO.exec(a)){f+=g[0];a=a.replace(r.match.PSEUDO,d)}a=r.relative[a]?a+j:a;for(var c=0,k=h.length;c<k;c++)o(a,h[c],e,i);return o.filter(f,e)};o.attr=a.attr;o.selectors.attrMap={};a.find=o;a.expr=o.selectors;a.expr[":"]=a.expr.filters;a.unique=o.uniqueSort;a.text=o.getText;a.isXMLDoc=o.isXML;a.contains=o.contains})();var Sd=/Until$/,id=/^(?:parents|prevUntil|prevAll)/,dd=/,/,Ad=/^.[^:#\[\.,]*$/,Xd=Array.prototype.slice,Xc=a.expr.match.POS,Zc={children:b,contents:b,next:b,prev:b};a.fn.extend({find:function(h){var i=this,m=i,c,j;if(typeof h!==f)return a(h).filter(function(){for(c=0,j=m.length;c<j;c++)if(a.contains(m[c],this))return b});var e=i.pushStack(d,"find",h),l,g,k;for(c=0,j=i.length;c<j;c++){l=e.length;a.find(h,i[c],e);if(c>0)for(g=l;g<e.length;g++)for(k=0;k<l;k++)if(e[k]===e[g]){e.splice(g--,1);break}}return e},has:function(d){var c=a(d);return this.filter(function(){for(var d=0,e=c.length;d<e;d++)if(a.contains(this,c[d]))return b})},not:function(a){return this.pushStack(Rc(this,a,e),"not",a)},filter:function(a){return this.pushStack(Rc(this,a,b),"filter",a)},is:function(b){var c=this;return!!b&&(typeof b===f?Xc.test(b)?a(b,c.context).index(c[0])>=0:a.filter(b,c).length>0:c.filter(b).length>0)},closest:function(c,h){var g=this,e=[],d,k,b=g[0];if(a.isArray(c)){var i=1;while(b&&b.ownerDocument&&b!==h){for(d=0;d<c.length;d++)a(b).is(c[d])&&e.push({selector:c[d],elem:b,level:i});b=b.parentNode;i++}return e}var j=Xc.test(c)||typeof c!==f?a(c,h||g.context):0;for(d=0,k=g.length;d<k;d++){b=g[d];while(b)if(j?j.index(b)>l:a.find.matchesSelector(b,c)){e.push(b);break}else{b=b.parentNode;if(!b||!b.ownerDocument||b===h||b.nodeType===11)break}}e=e.length>1?a.unique(e):e;return g.pushStack(e,"closest",c)},index:function(b){var c=this;return!b?c[0]&&c[0].parentNode?c.prevAll().length:l:typeof b===f?a.inArray(c[0],a(b)):a.inArray(b.jquery?b[0]:b,c)},add:function(b,e){var d=typeof b===f?a(b,e):a.makeArray(b&&b.nodeType?[b]:b),c=a.merge(this.get(),d);return this.pushStack(qc(d[0])||qc(c[0])?c:a.unique(c))},andSelf:function(){return this.add(this.prevObject)}});function qc(a){return!a||!a.parentNode||a.parentNode.nodeType===11}a.each({parent:function(b){var a=b.parentNode;return a&&a.nodeType!==11?a:c},parents:function(b){return a.dir(b,qb)},parentsUntil:function(c,d,b){return a.dir(c,qb,b)},next:function(b){return a.nth(b,2,wb)},prev:function(b){return a.nth(b,2,Z)},nextAll:function(b){return a.dir(b,wb)},prevAll:function(b){return a.dir(b,Z)},nextUntil:function(c,d,b){return a.dir(c,wb,b)},prevUntil:function(c,d,b){return a.dir(c,Z,b)},siblings:function(b){return a.sibling(b.parentNode.firstChild,b)},children:function(b){return a.sibling(b.firstChild)},contents:function(b){return a.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:a.makeArray(b.childNodes)}},function(b,c){a.fn[b]=function(h,e){var g=this,d=a.map(g,c,h);if(!Sd.test(b))e=h;if(e&&typeof e===f)d=a.filter(e,d);d=g.length>1&&!Zc[b]?a.unique(d):d;if((g.length>1||dd.test(e))&&id.test(b))d=d.reverse();return g.pushStack(d,b,Xd.call(arguments).join(","))}});a.extend({filter:function(c,b,d){if(d)c=":not("+c+")";return b.length===1?a.find.matchesSelector(b[0],c)?[b[0]]:[]:a.find.matches(c,b)},dir:function(f,e,d){var c=[],b=f[e];while(b&&b.nodeType!==9&&(d===h||b.nodeType!==1||!a(b).is(d))){b.nodeType===1&&c.push(b);b=b[e]}return c},nth:function(a,b,c){b=b||1;for(var d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,c){for(var b=[];a;a=a.nextSibling)a.nodeType===1&&a!==c&&b.push(a);return b}});function Rc(c,b,d){b=b||0;if(a.isFunction(b))return a.grep(c,function(a,e){var c=!!b.call(a,e,a);return c===d});else if(b.nodeType)return a.grep(c,function(a){return a===b===d});else if(typeof b===f){var e=a.grep(c,function(a){return a.nodeType===1});if(Ad.test(b))return a.filter(b,e,!d);else b=a.filter(b,e)}return a.grep(c,function(c){return a.inArray(c,b)>=0===d})}function jc(c){var b=Fc.split("|"),a=c.createDocumentFragment();if(a.createElement)while(b.length)a.createElement(b.pop());return a}var Fc="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ed=/ jQuery\d+="(?:\d+|null)"/g,Sb=/^\s+/,Gc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Mc=/<([\w:]+)/,Rd=/<tbody/i,Vd=/<|&#?\w+;/,hd=/<(?:script|style)/i,Fd=/<(?:script|object|embed|option|style)/i,uc=new RegExp("<(?:"+Fc+")","i"),Lc=/checked\s*(?:[^=]|=\s*.checked.)/i,md=/\/(java|ecma)script/i,gd=/^\s*<!(?:\[CDATA\[|\-\-)/,I={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,d,d]},vc=jc(i);I.optgroup=I.option;I.tbody=I.tfoot=I.colgroup=I.caption=I.thead;I.th=I.td;if(!a.support.htmlSerialize)I._default=[1,"div<div>","</div>"];a.fn.extend({text:function(c){var b=this;return a.isFunction(c)?b.each(function(d){var b=a(this);b.text(c.call(this,d,b.text()))}):typeof c!==m&&c!==h?b.empty().append((b[0]&&b[0].ownerDocument||i).createTextNode(c)):a.text(b)},wrapAll:function(d){var c=this;if(a.isFunction(d))return c.each(function(b){a(this).wrapAll(d.call(this,b))});if(c[0]){var e=a(d,c[0].ownerDocument).eq(0).clone(b);c[0].parentNode&&e.insertBefore(c[0]);e.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(c)}return c},wrapInner:function(b){return a.isFunction(b)?this.each(function(c){a(this).wrapInner(b.call(this,c))}):this.each(function(){var d=a(this),c=d.contents();if(c.length)c.wrapAll(b);else d.append(b)})},wrap:function(b){var c=a.isFunction(b);return this.each(function(d){a(this).wrapAll(c?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){!a.nodeName(this,H)&&a(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,b,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,b,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){var b=this;if(b[0]&&b[0].parentNode)return b.domManip(arguments,e,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var c=a.clean(arguments);c.push.apply(c,b.toArray());return b.pushStack(c,"before",arguments)}},after:function(){var b=this;if(b[0]&&b[0].parentNode)return b.domManip(arguments,e,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var c=b.pushStack(b,"after",arguments);c.push.apply(c,a.clean(arguments));return c}},remove:function(d,f){for(var e=0,b;(b=this[e])!=c;e++)if(!d||a.filter(d,[b]).length){if(!f&&b.nodeType===1){a.cleanData(b.getElementsByTagName(j));a.cleanData([b])}b.parentNode&&b.parentNode.removeChild(b)}return this},empty:function(){for(var d=0,b;(b=this[d])!=c;d++){b.nodeType===1&&a.cleanData(b.getElementsByTagName(j));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(b,d){b=b==c?e:b;d=d==c?b:d;return this.map(function(){return a.clone(this,b,d)})},html:function(b){var e=this;if(b===h)return e[0]&&e[0].nodeType===1?e[0].innerHTML.replace(ed,d):c;else if(typeof b===f&&!hd.test(b)&&(a.support.leadingWhitespace||!Sb.test(b))&&!I[(Mc.exec(b)||[d,d])[1].toLowerCase()]){b=b.replace(Gc,Lb);try{for(var g=0,i=e.length;g<i;g++)if(e[g].nodeType===1){a.cleanData(e[g].getElementsByTagName(j));e[g].innerHTML=b}}catch(k){e.empty().append(b)}}else if(a.isFunction(b))e.each(function(d){var c=a(this);c.html(b.call(this,d,c.html()))});else e.empty().append(b);return e},replaceWith:function(b){var c=this;if(c[0]&&c[0].parentNode){if(a.isFunction(b))return c.each(function(e){var c=a(this),d=c.html();c.replaceWith(b.call(this,e,d))});if(typeof b!==f)b=a(b).detach();return c.each(function(){var c=this.nextSibling,d=this.parentNode;a(this).remove();if(c)a(c).before(b);else a(d).append(b)})}else return c.length?c.pushStack(a(a.isFunction(b)?b():b),Wb,b):c},detach:function(a){return this.remove(a,b)},domManip:function(k,e,n){var c=this,m,j,d,i,g=k[0],o=[];if(!a.support.checkClone&&arguments.length===3&&typeof g===f&&Lc.test(g))return c.each(function(){a(this).domManip(k,e,n,b)});if(a.isFunction(g))return c.each(function(c){var b=a(this);k[0]=g.call(this,c,e?b.html():h);b.domManip(k,e,n)});if(c[0]){i=g&&g.parentNode;if(a.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===c.length)m={fragment:i};else m=a.buildFragment(k,c,o);d=m.fragment;if(d.childNodes.length===1)j=d=d.firstChild;else j=d.firstChild;if(j){e=e&&a.nodeName(j,"tr");for(var l=0,p=c.length,q=p-1;l<p;l++)n.call(e?ae(c[l],j):c[l],m.cacheable||p>1&&l<q?a.clone(d,b,b):d)}o.length&&a.each(o,od)}return c}});function ae(b){return a.nodeName(b,"table")?b.getElementsByTagName(eb)[0]||b.appendChild(b.ownerDocument.createElement(eb)):b}function oc(i,g){if(g.nodeType!==1||!a.hasData(i))return;var c,e,j,h=a._data(i),f=a._data(g,h),b=h.events;if(b){delete f.handle;f.events={};for(c in b)for(e=0,j=b[c].length;e<j;e++)a.event.add(g,c+(b[c][e].namespace?t:d)+b[c][e].namespace,b[c][e],b[c][e].data)}if(f.data)f.data=a.extend({},f.data)}function ic(c,b){var d;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(c);d=b.nodeName.toLowerCase();if(d===m)b.outerHTML=c.outerHTML;else if(d===n&&(c.type===F||c.type===y)){if(c.checked)b.defaultChecked=b.checked=c.checked;if(b.value!==c.value)b.value=c.value}else if(d===ub)b.selected=c.defaultSelected;else if(d===n||d==="textarea")b.defaultValue=c.defaultValue;b.removeAttribute(a.expando)}a.buildFragment=function(k,h,l){var d,j,g,e,c=k[0];if(h&&h[0])e=h[0].ownerDocument||h[0];if(!e.createDocumentFragment)e=i;if(k.length===1&&typeof c===f&&c.length<512&&e===i&&c.charAt(0)==="<"&&!Fd.test(c)&&(a.support.checkClone||!Lc.test(c))&&(a.support.html5Clone||!uc.test(c))){j=b;g=a.fragments[c];if(g&&g!==1)d=g}if(!d){d=e.createDocumentFragment();a.clean(k,e,d,l)}if(j)a.fragments[c]=g?d:1;return{fragment:d,cacheable:j}};a.fragments={};a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:Wb},function(d,c){a.fn[d]=function(k){var e=this,i=[],f=a(k),h=e.length===1&&e[0].parentNode;if(h&&h.nodeType===11&&h.childNodes.length===1&&f.length===1){f[c](e[0]);return e}else{for(var g=0,l=f.length;g<l;g++){var j=(g>0?e.clone(b):e).get();a(f[g])[c](j);i=i.concat(j)}return e.pushStack(i,d,f.selector)}}});function Ob(a){return typeof a.getElementsByTagName!==k?a.getElementsByTagName(j):typeof a.querySelectorAll!==k?a.querySelectorAll(j):[]}function lc(a){if(a.type===F||a.type===y)a.defaultChecked=a.checked}function Bc(b){var c=(b.nodeName||d).toLowerCase();if(c===n)lc(b);else c!==v&&typeof b.getElementsByTagName!==k&&a.grep(b.getElementsByTagName(n),lc)}function fd(b){var a=i.createElement(p);vc.appendChild(a);a.innerHTML=b.outerHTML;return a.firstChild}a.extend({clone:function(e,j,i){var f,g,d,h=a.support.html5Clone||!uc.test("<"+e.nodeName)?e.cloneNode(b):fd(e);if((!a.support.noCloneEvent||!a.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!a.isXMLDoc(e)){ic(e,h);f=Ob(e);g=Ob(h);for(d=0;f[d];++d)g[d]&&ic(f[d],g[d])}if(j){oc(e,h);if(i){f=Ob(e);g=Ob(h);for(d=0;f[d];++d)oc(f[d],g[d])}}f=g=c;return h},clean:function(z,h,r,t){var o;h=h||i;if(typeof h.createElement===k)h=h.ownerDocument||h[0]&&h[0].ownerDocument||i;for(var e=[],l,g=0,b;(b=z[g])!=c;g++){if(typeof b===q)b+=d;if(!b)continue;if(typeof b===f)if(!Vd.test(b))b=h.createTextNode(b);else{b=b.replace(Gc,Lb);var w=(Mc.exec(b)||[d,d])[1].toLowerCase(),n=I[w]||I._default,y=n[0],j=h.createElement(p);if(h===i)vc.appendChild(j);else jc(h).appendChild(j);j.innerHTML=n[1]+b+n[2];while(y--)j=j.lastChild;if(!a.support.tbody){var s=Rd.test(b),m=w==="table"&&!s?j.firstChild&&j.firstChild.childNodes:n[1]==="<table>"&&!s?j.childNodes:[];for(l=m.length-1;l>=0;--l)a.nodeName(m[l],eb)&&!m[l].childNodes.length&&m[l].parentNode.removeChild(m[l])}!a.support.leadingWhitespace&&Sb.test(b)&&j.insertBefore(h.createTextNode(Sb.exec(b)[0]),j.firstChild);b=j.childNodes}var u;if(!a.support.appendChecked)if(b[0]&&typeof(u=b.length)===q)for(l=0;l<u;l++)Bc(b[l]);else Bc(b);if(b.nodeType)e.push(b);else e=a.merge(e,b)}if(r){o=function(a){return!a.type||md.test(a.type)};for(g=0;e[g];g++)if(t&&a.nodeName(e[g],v)&&(!e[g].type||e[g].type.toLowerCase()==="text/javascript"))t.push(e[g].parentNode?e[g].parentNode.removeChild(e[g]):e[g]);else{if(e[g].nodeType===1){var x=a.grep(e[g].getElementsByTagName(v),o);e.splice.apply(e,[g+1,0].concat(x))}r.appendChild(e[g])}}return e},cleanData:function(k){for(var d,e,g=a.cache,j=a.event.special,i=a.support.deleteExpando,h=0,b;(b=k[h])!=c;h++){if(b.nodeName&&a.noData[b.nodeName.toLowerCase()])continue;e=b[a.expando];if(e){d=g[e];if(d&&d.events){for(var f in d.events)if(j[f])a.event.remove(b,f);else a.removeEvent(b,f,d.handle);if(d.handle)d.handle.elem=c}if(i)delete b[a.expando];else b.removeAttribute&&b.removeAttribute(a.expando);delete g[e]}}}});function od(c,b){if(b.src)a.ajax({url:b.src,async:e,dataType:v});else a.globalEval((b.text||b.textContent||b.innerHTML||d).replace(gd,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}var fc=/alpha\([^)]*\)/i,Gd=/opacity=([^)]*)/,Td=/([A-Z]|^ms)/g,Pc=/^-?\d+(?:px)?$/i,Zd=/^-?\d/,Kd=/^([\-+])=([\-+.\de]+)/,Id={position:Xb,visibility:P,display:"block"},zd=["Left","Right"],vd=["Top","Bottom"],Ab,mc,sc;a.fn.css=function(d,c){return arguments.length===2&&c===h?this:a.access(this,d,c,b,function(c,d,b){return b!==h?a.style(c,d,b):a.css(c,d)})};a.extend({cssHooks:{opacity:{"get":function(a,c){if(c){var b=Ab(a,ab,ab);return b===d?"1":b}else return a.style.opacity}}},cssNumber:{fillOpacity:b,fontWeight:b,lineHeight:b,opacity:b,orphans:b,widows:b,zIndex:b,zoom:b},cssProps:{"float":a.support.cssFloat?Yb:"styleFloat"},style:function(d,i,b,n){if(!d||d.nodeType===3||d.nodeType===8||!d.style)return;var k,j,l=a.camelCase(i),m=d.style,g=a.cssHooks[l];i=a.cssProps[l]||l;if(b!==h){j=typeof b;if(j===f&&(k=Kd.exec(b))){b=+(k[1]+1)*+k[2]+parseFloat(a.css(d,i));j=q}if(b==c||j===q&&isNaN(b))return;if(j===q&&!a.cssNumber[l])b+=r;if(!g||!(X in g)||(b=g.set(d,b))!==h)try{m[i]=b}catch(o){}}else return g&&N in g&&(k=g.get(d,e,n))!==h?k:m[i]},css:function(e,c,g){var f,d;c=a.camelCase(c);d=a.cssHooks[c];c=a.cssProps[c]||c;if(c===Yb)c="float";return d&&N in d&&(f=d.get(e,b,g))!==h?f:Ab?Ab(e,c):void 0},swap:function(b,c,e){var d={};for(var a in c){d[a]=b.style[a];b.style[a]=c[a]}e.call(b);for(a in c)b.style[a]=d[a]}});a.curCSS=a.css;a.each([S,C],function(c,b){a.cssHooks[b]={"get":function(c,f,d){var e;if(f){if(c.offsetWidth!==0)return Sc(c,b,d);else a.swap(c,Id,function(){e=Sc(c,b,d)});return e}},"set":function(b,a){if(Pc.test(a)){a=parseFloat(a);if(a>=0)return a+r}else return a}}});if(!a.support.opacity)a.cssHooks.opacity={"get":function(a,b){return Gd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||d)?parseFloat(RegExp.$1)/100+d:b?"1":d},"set":function(i,f){var e=i.style,b=i.currentStyle,h=a.isNumeric(f)?"alpha(opacity="+f*100+")":d,c=b&&b.filter||e.filter||d;e.zoom=1;if(f>=1&&a.trim(c.replace(fc,d))===d){e.removeAttribute("filter");if(b&&!b.filter)return}e.filter=fc.test(c)?c.replace(fc,h):c+g+h}};a(function(){if(!a.support.reliableMarginRight)a.cssHooks.marginRight={"get":function(b,d){var c;a.swap(b,{display:xb},function(){if(d)c=Ab(b,"margin-right",Db);else c=b.style.marginRight});return c}}});if(i.defaultView&&i.defaultView.getComputedStyle)mc=function(b,e){var f,h,g;e=e.replace(Td,"-$1").toLowerCase();if((h=b.ownerDocument.defaultView)&&(g=h.getComputedStyle(b,c))){f=g.getPropertyValue(e);if(f===d&&!a.contains(b.ownerDocument.documentElement,b))f=a.style(b,e)}return f};if(i.documentElement.currentStyle)sc=function(a,g){var i,f,h,b=a.currentStyle&&a.currentStyle[g],e=a.style;if(b===c&&e&&(h=e[g]))b=h;if(!Pc.test(b)&&Zd.test(b)){i=e.left;f=a.runtimeStyle&&a.runtimeStyle.left;if(f)a.runtimeStyle.left=a.currentStyle.left;e.left=g==="fontSize"?"1em":b||0;b=e.pixelLeft+r;e.left=i;if(f)a.runtimeStyle.left=f}return b===d?Y:b};Ab=mc||sc;function Sc(d,h,f){var b=h===C?d.offsetWidth:d.offsetHeight,g=h===C?zd:vd,e=0,i=g.length;if(b>0){if(f!==bb)for(;e<i;e++){if(!f)b-=parseFloat(a.css(d,cb+g[e]))||0;if(f===rb)b+=parseFloat(a.css(d,f+g[e]))||0;else b-=parseFloat(a.css(d,bb+g[e]+Eb))||0}return b+r}b=Ab(d,h,h);if(b<0||b==c)b=d.style[h]||0;b=parseFloat(b)||0;if(f)for(;e<i;e++){b+=parseFloat(a.css(d,cb+g[e]))||0;if(f!==cb)b+=parseFloat(a.css(d,bb+g[e]+Eb))||0;if(f===rb)b+=parseFloat(a.css(d,f+g[e]))||0}return b+r}if(a.expr&&a.expr.filters){a.expr.filters.hidden=function(b){var d=b.offsetWidth,c=b.offsetHeight;return d===0&&c===0||!a.support.reliableHiddenOffsets&&(b.style&&b.style.display||a.css(b,G))===u};a.expr.filters.visible=function(b){return!a.expr.filters.hidden(b)}}var ce=/%20/g,Cd=/\[\]$/,Tc=/\r?\n/g,Ud=/#.*$/,Ed=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Pd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,cd=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,ud=/^(?:GET|HEAD)$/,yd=/^\/\//,Qc=/\?/,Md=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bd=/^(?:select|textarea)/i,zc=/\s+/,de=/([?&])_=[^&]*/,Wc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Vc=a.fn.load,cc={},Dc={},jb,kb,Hc=["*/"]+[j];try{jb=Bd.href}catch(ee){jb=i.createElement("a");jb.href=d;jb=jb.href}kb=Wc.exec(jb.toLowerCase())||[];function gc(b){return function(d,g){if(typeof d!==f){g=d;d=j}if(a.isFunction(g))for(var i=d.toLowerCase().split(zc),h=0,l=i.length,c,k,e;h<l;h++){c=i[h];e=/^\+/.test(c);if(e)c=c.substr(1)||j;k=b[c]=b[c]||[];k[e?"unshift":"push"](g)}}}function Jb(e,d,i,l,g,c){g=g||d.dataTypes[0];c=c||{};c[g]=b;for(var m=e[g],n=0,o=m?m.length:0,k=e===cc,a;n<o&&(k||!a);n++){a=m[n](d,i,l);if(typeof a===f)if(!k||c[a])a=h;else{d.dataTypes.unshift(a);a=Jb(e,d,i,l,a,c)}}if((k||!a)&&!c[j])a=Jb(e,d,i,l,j,c);return a}function Ac(f,e){var c,d,g=a.ajaxSettings.flatOptions||{};for(c in e)if(e[c]!==h)(g[c]?f:d||(d={}))[c]=e[c];d&&a.extend(b,f,d)}a.fn.extend({load:function(c,b,i){var e=this;if(typeof c!==f&&Vc)return Vc.apply(e,arguments);else if(!e.length)return e;var j=c.indexOf(g);if(j>=0){var k=c.slice(j,c.length);c=c.slice(0,j)}var n="GET";if(b)if(a.isFunction(b)){i=b;b=h}else if(typeof b===m){b=a.param(b,a.ajaxSettings.traditional);n="POST"}var l=e;a.ajax({url:c,type:n,dataType:"html",data:b,complete:function(c,e,b){b=c.responseText;if(c.isResolved()){c.done(function(a){b=a});l.html(k?a("<div>").append(b.replace(Md,d)).find(k):b)}i&&l.each(i,[b,e,c])}});return e},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){var a=this;return a.name&&!a.disabled&&(a.checked||bd.test(a.nodeName)||Pd.test(a.type))}).map(function(e,d){var b=a(this).val();return b==c?c:a.isArray(b)?a.map(b,function(a){return{name:d.name,value:a.replace(Tc,"\r\n")}}):{name:d.name,value:b.replace(Tc,"\r\n")}}).get()}});a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(g),function(c,b){a.fn[b]=function(a){return this.on(b,a)}});a.each([N,"post"],function(c,b){a[b]=function(f,c,d,e){if(a.isFunction(c)){e=e||d;d=c;c=h}return a.ajax({type:b,url:f,data:c,success:d,dataType:e})}});a.extend({getScript:function(c,b){return a.get(c,h,b,v)},getJSON:function(d,c,b){return a.get(d,c,b,"json")},ajaxSetup:function(b,c){if(c)Ac(b,a.ajaxSettings);else{c=b;b=a.ajaxSettings}Ac(b,c);return b},ajaxSettings:{url:jb,isLocal:cd.test(kb[1]),global:b,type:"GET",contentType:Zb,processData:b,async:b,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Hc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":o.String,"text html":b,"text json":a.parseJSON,"text xml":a.parseXML},flatOptions:{context:b,url:b}},ajaxPrefilter:gc(cc),ajaxTransport:gc(Dc),ajax:function(x,p){if(typeof x===m){p=x;x=h}p=p||{};var g=a.ajaxSetup({},p),o=g.context||g,z=o!==g&&(o.nodeType||o instanceof a)?a(o):a.event,B=a.Deferred(),D=a.Callbacks(M),v=g.statusCode||{},n,E={},C={},y,u,q,A,r,k=0,t,s,i={readyState:0,setRequestHeader:function(a,c){if(!k){var b=a.toLowerCase();a=C[b]=C[b]||a;E[a]=c}return this},getAllResponseHeaders:function(){return k===2?y:c},getResponseHeader:function(b){var a;if(k===2){if(!u){u={};while(a=Ed.exec(y))u[a[1].toLowerCase()]=a[2]}a=u[b.toLowerCase()]}return a===h?c:a},overrideMimeType:function(a){if(!k)g.mimeType=a;return this},abort:function(a){a=a||"abort";q&&q.abort(a);w(0,a);return this}};function w(e,m,r,w){if(k===2)return;k=2;A&&clearTimeout(A);q=h;y=w||d;i.readyState=e>0?4:0;var f,l,j,c=m,u=r?Yc(g,i,r):h,p,s;if(e>=200&&e<300||e===304){if(g.ifModified){if(p=i.getResponseHeader("Last-Modified"))a.lastModified[n]=p;if(s=i.getResponseHeader("Etag"))a.etag[n]=s}if(e===304){c="notmodified";f=b}else try{l=jd(g,u);c="success";f=b}catch(x){c=mb;j=x}}else{j=c;if(!c||e){c="error";if(e<0)e=0}}i.status=e;i.statusText=d+(m||c);if(f)B.resolveWith(o,[l,c,i]);else B.rejectWith(o,[i,c,j]);i.statusCode(v);v=h;t&&z.trigger("ajax"+(f?"Success":"Error"),[i,g,f?l:j]);D.fireWith(o,[i,c]);if(t){z.trigger("ajaxComplete",[i,g]);!--a.active&&a.event.trigger("ajaxStop")}}B.promise(i);i.success=i.done;i.error=i.fail;i.complete=D.add;i.statusCode=function(b){if(b){var a;if(k<2)for(a in b)v[a]=[v[a],b[a]];else{a=b[i.status];i.then(a,a)}}return this};g.url=((x||g.url)+d).replace(Ud,d).replace(yd,kb[1]+"//");g.dataTypes=a.trim(g.dataType||j).toLowerCase().split(zc);if(g.crossDomain==c){r=Wc.exec(g.url.toLowerCase());g.crossDomain=!!(r&&(r[1]!=kb[1]||r[2]!=kb[2]||(r[3]||(r[1]==="http:"?80:443))!=(kb[3]||(kb[1]==="http:"?80:443))))}if(g.data&&g.processData&&typeof g.data!==f)g.data=a.param(g.data,g.traditional);Jb(cc,g,p,i);if(k===2)return e;t=g.global;g.type=g.type.toUpperCase();g.hasContent=!ud.test(g.type);t&&a.active++===0&&a.event.trigger("ajaxStart");if(!g.hasContent){if(g.data){g.url+=(Qc.test(g.url)?"&":"?")+g.data;delete g.data}n=g.url;if(g.cache===e){var G=a.now(),F=g.url.replace(de,"$1_="+G);g.url=F+(F===g.url?(Qc.test(g.url)?"&":"?")+"_="+G:d)}}(g.data&&g.hasContent&&g.contentType!==e||p.contentType)&&i.setRequestHeader("Content-Type",g.contentType);if(g.ifModified){n=n||g.url;a.lastModified[n]&&i.setRequestHeader("If-Modified-Since",a.lastModified[n]);a.etag[n]&&i.setRequestHeader("If-None-Match",a.etag[n])}i.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!==j?", "+Hc+"; q=0.01":d):g.accepts[j]);for(s in g.headers)i.setRequestHeader(s,g.headers[s]);if(g.beforeSend&&(g.beforeSend.call(o,i,g)===e||k===2)){i.abort();return e}for(s in{success:1,error:1,complete:1})i[s](g[s]);q=Jb(Dc,g,p,i);if(!q)w(l,"No Transport");else{i.readyState=1;t&&z.trigger("ajaxSend",[i,g]);if(g.async&&g.timeout>0)A=setTimeout(function(){i.abort("timeout")},g.timeout);try{k=1;q.send(E,w)}catch(H){if(k<2)w(l,H);else throw H;}}return i},param:function(b,c){var d=[],f=function(c,b){b=a.isFunction(b)?b():b;d[d.length]=encodeURIComponent(c)+"="+encodeURIComponent(b)};if(c===h)c=a.ajaxSettings.traditional;if(a.isArray(b)||b.jquery&&!a.isPlainObject(b))a.each(b,function(){f(this.name,this.value)});else for(var e in b)ac(e,b[e],c,f);return d.join("&").replace(ce,"+")}});function ac(e,b,f,g){if(a.isArray(b))a.each(b,function(c,b){if(f||Cd.test(e))g(e,b);else ac(e+"["+(typeof b===m||a.isArray(b)?c:d)+"]",b,f,g)});else if(!f&&b!=c&&typeof b===m)for(var h in b)ac(e+"["+h+"]",b[h],f,g);else g(e,b)}a.extend({active:0,lastModified:{},etag:{}});function Yc(e,m,d){var k=e.contents,b=e.dataTypes,l=e.responseFields,f,a,c,i;for(a in l)if(a in d)m[l[a]]=d[a];while(b[0]===j){b.shift();if(f===h)f=e.mimeType||m.getResponseHeader("content-type")}if(f)for(a in k)if(k[a]&&k[a].test(f)){b.unshift(a);break}if(b[0]in d)c=b[0];else{for(a in d){if(!b[0]||e.converters[a+g+b[0]]){c=a;break}if(!i)i=a}c=c||i}if(c){c!==b[0]&&b.unshift(c);return d[c]}}function jd(n,l){if(n.dataFilter)l=n.dataFilter(l,n.dataType);for(var s=n.dataTypes,k={},o,t=s.length,p,c=s[0],m,r,d,e,i,q=1;q<t;q++){if(q===1)for(o in n.converters)if(typeof o===f)k[o.toLowerCase()]=n.converters[o];m=c;c=s[q];if(c===j)c=m;else if(m!==j&&m!==c){r=m+g+c;d=k[r]||k["* "+c];if(!d){i=h;for(e in k){p=e.split(g);if(p[0]===m||p[0]===j){i=k[p[1]+g+c];if(i){e=k[e];if(e===b)d=i;else if(i===b)d=e;break}}}}!(d||i)&&a.error("No conversion from "+r.replace(g," to "));if(d!==b)l=d?d(l):i(e(l))}}return l}var be=a.now(),Rb=/(\=)\?(&|$)|\?\?/i;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return a.expando+"_"+be++}});a.ajaxPrefilter("json jsonp",function(b,m,l){var i=b.contentType===Zb&&typeof b.data===f;if(b.dataTypes[0]==="jsonp"||b.jsonp!==e&&(Rb.test(b.url)||i&&Rb.test(b.data))){var g,c=b.jsonpCallback=a.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,j=o[c],d=b.url,h=b.data,k="$1"+c+"$2";if(b.jsonp!==e){d=d.replace(Rb,k);if(b.url===d){if(i)h=h.replace(Rb,k);if(b.data===h)d+=(/\?/.test(d)?"&":"?")+b.jsonp+"="+c}}b.url=d;b.data=h;o[c]=function(a){g=[a]};l.always(function(){o[c]=j;g&&a.isFunction(j)&&o[c](g[0])});b.converters["script json"]=function(){!g&&a.error(c+" was not called");return g[0]};b.dataTypes[0]="json";return v}});a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){a.globalEval(b);return b}}});a.ajaxPrefilter(v,function(a){if(a.cache===h)a.cache=e;if(a.crossDomain){a.type="GET";a.global=e}});a.ajaxTransport(v,function(d){if(d.crossDomain){var a,b=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(f,e){a=i.createElement(v);a.async="async";if(d.scriptCharset)a.charset=d.scriptCharset;a.src=d.url;a.onload=a.onreadystatechange=function(f,d){if(d||!a.readyState||/loaded|complete/.test(a.readyState)){a.onload=a.onreadystatechange=c;b&&a.parentNode&&b.removeChild(a);a=h;!d&&e(200,"success")}};b.insertBefore(a,b.firstChild)},abort:function(){if(a)a.onload(0,1)}}}});var Ub=o.ActiveXObject?function(){for(var a in tb)tb[a](0,1)}:e,Yd=0,tb;function kc(){try{return new o.XMLHttpRequest}catch(a){}}function ad(){try{return new o.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.ajaxSettings.xhr=o.ActiveXObject?function(){return!this.isLocal&&kc()||ad()}:kc;(function(b){a.extend(a.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})})(a.ajaxSettings.xhr());a.support.ajax&&a.ajaxTransport(function(b){if(!b.crossDomain||a.support.cors){var e;return{send:function(j,m){var g="X-Requested-With",f=b.xhr(),k,i;if(b.username)f.open(b.type,b.url,b.async,b.username,b.password);else f.open(b.type,b.url,b.async);if(b.xhrFields)for(i in b.xhrFields)f[i]=b.xhrFields[i];b.mimeType&&f.overrideMimeType&&f.overrideMimeType(b.mimeType);if(!b.crossDomain&&!j[g])j[g]="XMLHttpRequest";try{for(i in j)f.setRequestHeader(i,j[i])}catch(n){}f.send(b.hasContent&&b.data||c);e=function(r,n){var g,j,o,c,i;try{if(e&&(n||f.readyState===4)){e=h;if(k){f.onreadystatechange=a.noop;if(Ub)delete tb[k]}if(n)f.readyState!==4&&f.abort();else{g=f.status;o=f.getAllResponseHeaders();c={};i=f.responseXML;if(i&&i.documentElement)c.xml=i;c.text=f.responseText;try{j=f.statusText}catch(q){j=d}if(!g&&b.isLocal&&!b.crossDomain)g=c.text?200:404;else if(g===1223)g=204}}}catch(p){!n&&m(l,p)}c&&m(g,j,c,o)};if(!b.async||f.readyState===4)e();else{k=++Yd;if(Ub){if(!tb){tb={};a(o).unload(Ub)}tb[k]=e}f.onreadystatechange=e}},abort:function(){e&&e(0,1)}}}});var bc={},U,zb,Dd=/^(?:toggle|show|hide)$/,Od=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Nb,Nc=[[S,Fb,"marginBottom","paddingTop","paddingBottom"],[C,Gb,Db,"paddingLeft","paddingRight"],[ab]],Qb;a.fn.extend({show:function(g,j,i){var f=this,b,c;if(g||g===0)return f.animate(Bb(x,3),g,j,i);else{for(var e=0,h=f.length;e<h;e++){b=f[e];if(b.style){c=b.style.display;if(!a._data(b,T)&&c===u)c=b.style.display=d;c===d&&a.css(b,G)===u&&a._data(b,T,pc(b.nodeName))}}for(e=0;e<h;e++){b=f[e];if(b.style){c=b.style.display;if(c===d||c===u)b.style.display=a._data(b,T)||d}}return f}},hide:function(f,i,h){var c=this;if(f||f===0)return c.animate(Bb(A,3),f,i,h);else{for(var d,e,b=0,g=c.length;b<g;b++){d=c[b];if(d.style){e=a.css(d,G);e!==u&&!a._data(d,T)&&a._data(d,T,e)}}for(b=0;b<g;b++)if(c[b].style)c[b].style.display=u;return c}},_toggle:a.fn.toggle,toggle:function(d,f,g){var b=this,e=typeof d===J;if(a.isFunction(d)&&a.isFunction(f))b._toggle.apply(b,arguments);else if(d==c||e)b.each(function(){var b=e?d:a(this).is(hb);a(this)[b?x:A]()});else b.animate(Bb(B,3),d,f,g);return b},fadeTo:function(c,d,b,a){return this.filter(hb).css(ab,0).show().end().animate({opacity:d},c,b,a)},animate:function(f,k,j,i){var g=a.speed(k,j,i);if(a.isEmptyObject(f))return this.each(g.complete,[e]);f=a.extend({},f);function h(){var h=this;g.queue===e&&a._mark(h);var m=a.extend({},g),w=h.nodeType===1,v=w&&a(h).is(hb),k,i,j,o,p,n,q,s,t;m.animatedProperties={};for(j in f){k=a.camelCase(j);if(j!==k){f[k]=f[j];delete f[j]}i=f[k];if(a.isArray(i)){m.animatedProperties[k]=i[1];i=f[k]=i[0]}else m.animatedProperties[k]=m.specialEasing&&m.specialEasing[k]||m.easing||"swing";if(i===A&&v||i===x&&!v)return m.complete.call(h);if(w&&(k===S||k===C)){m.overflow=[h.style.overflow,h.style.overflowX,h.style.overflowY];if(a.css(h,G)===V&&a.css(h,"float")===u)if(!a.support.inlineBlockNeedsLayout||pc(h.nodeName)===V)h.style.display=xb;else h.style.zoom=1}}if(m.overflow!=c)h.style.overflow=P;for(j in f){o=new a.fx(h,m,j);i=f[j];if(Dd.test(i)){t=a._data(h,B+j)||(i===B?v?x:A:0);if(t){a._data(h,B+j,t===x?A:x);o[t]()}else o[i]()}else{p=Od.exec(i);n=o.cur();if(p){q=parseFloat(p[2]);s=p[3]||(a.cssNumber[j]?d:r);if(s!==r){a.style(h,j,(q||1)+s);n=(q||1)/o.cur()*n;a.style(h,j,n+s)}if(p[1])q=(p[1]==="-="?l:1)*q+n;o.custom(n,q,s)}else o.custom(n,i,d)}}return b}return g.queue===e?this.each(h):this.queue(g.queue,h)},stop:function(d,i,g){if(typeof d!==f){g=i;i=d;d=h}i&&d!==e&&this.queue(d||s,[]);return this.each(function(){var j=this,f,k=e,i=a.timers,h=a._data(j);!g&&a._unmark(b,j);function l(f,e,c){var d=e[c];a.removeData(f,c,b);d.stop(g)}if(d==c)for(f in h)h[f]&&h[f].stop&&f.indexOf(R)===f.length-4&&l(j,h,f);else h[f=d+R]&&h[f].stop&&l(j,h,f);for(f=i.length;f--;)if(i[f].elem===j&&(d==c||i[f].queue===d)){if(g)i[f](b);else i[f].saveState();k=b;i.splice(f,1)}!(g&&k)&&a.dequeue(j,d)})}});function xc(){setTimeout(nd,0);return Qb=a.now()}function nd(){Qb=h}function Bb(c,d){var b={};a.each(Nc.concat.apply([],Nc.slice(0,d)),function(){b[this]=c});return b}a.each({slideDown:Bb(x,1),slideUp:Bb(A,1),slideToggle:Bb(B,1),fadeIn:{opacity:x},fadeOut:{opacity:A},fadeToggle:{opacity:B}},function(c,b){a.fn[c]=function(d,c,a){return this.animate(b,d,c,a)}});a.extend({speed:function(f,g,h){var d=f&&typeof f===m?a.extend({},f):{complete:h||!h&&g||a.isFunction(f)&&f,duration:f,easing:h&&g||g&&!a.isFunction(g)&&g};d.duration=a.fx.off?0:typeof d.duration===q?d.duration:d.duration in a.fx.speeds?a.fx.speeds[d.duration]:a.fx.speeds._default;if(d.queue==c||d.queue===b)d.queue=s;d.old=d.complete;d.complete=function(b){a.isFunction(d.old)&&d.old.call(this);if(d.queue)a.dequeue(this,d.queue);else b!==e&&a._unmark(this)};return d},easing:{linear:function(c,d,a,b){return a+b*c},swing:function(c,d,a,b){return(-Math.cos(c*Math.PI)/2+.5)*b+a}},timers:[],fx:function(b,a,c){this.options=a;this.elem=b;this.prop=c;a.orig=a.orig||{}}});a.fx.prototype={update:function(){var b=this;b.options.step&&b.options.step.call(b.elem,b.now,b);(a.fx.step[b.prop]||a.fx.step._default)(b)},cur:function(){var b=this;if(b.elem[b.prop]!=c&&(!b.elem.style||b.elem.style[b.prop]==c))return b.elem[b.prop];var e,d=a.css(b.elem,b.prop);return isNaN(e=parseFloat(d))?!d||d===Y?0:d:e},custom:function(g,j,i){var b=this,c=b,f=a.fx;b.startTime=Qb||xc();b.end=j;b.now=b.start=g;b.pos=b.state=0;b.unit=i||b.unit||(a.cssNumber[b.prop]?d:r);function e(a){return c.step(a)}e.queue=b.options.queue;e.elem=b.elem;e.saveState=function(){c.options.hide&&a._data(c.elem,L+c.prop)===h&&a._data(c.elem,L+c.prop,c.start)};if(e()&&a.timers.push(e)&&!Nb)Nb=setInterval(f.tick,f.interval)},show:function(){var c=this,d=a._data(c.elem,L+c.prop);c.options.orig[c.prop]=d||a.style(c.elem,c.prop);c.options.show=b;if(d!==h)c.custom(c.cur(),d);else c.custom(c.prop===C||c.prop===S?1:0,c.cur());a(c.elem).show()},hide:function(){var c=this;c.options.orig[c.prop]=a._data(c.elem,L+c.prop)||a.style(c.elem,c.prop);c.options.hide=b;c.custom(c.cur(),0)},step:function(n){var f=this,h,k,j,l=Qb||xc(),m=b,i=f.elem,g=f.options;if(n||l>=g.duration+f.startTime){f.now=f.end;f.pos=f.state=1;f.update();g.animatedProperties[f.prop]=b;for(h in g.animatedProperties)if(g.animatedProperties[h]!==b)m=e;if(m){g.overflow!=c&&!a.support.shrinkWrapBlocks&&a.each([d,"X","Y"],function(a,b){i.style["overflow"+b]=g.overflow[a]});g.hide&&a(i).hide();if(g.hide||g.show)for(h in g.animatedProperties){a.style(i,h,g.orig[h]);a.removeData(i,L+h,b);a.removeData(i,B+h,b)}j=g.complete;if(j){g.complete=e;j.call(i)}}return e}else{if(g.duration==Infinity)f.now=l;else{k=l-f.startTime;f.state=k/g.duration;f.pos=a.easing[g.animatedProperties[f.prop]](f.state,k,0,1,g.duration);f.now=f.start+(f.end-f.start)*f.pos}f.update()}return b}};a.extend(a.fx,{tick:function(){for(var d,b=a.timers,c=0;c<b.length;c++){d=b[c];!d()&&b[c]===d&&b.splice(c--,1)}!b.length&&a.fx.stop()},interval:13,stop:function(){clearInterval(Nb);Nb=c},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(b){a.style(b.elem,ab,b.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=c)a.elem.style[a.prop]=a.now+a.unit;else a.elem[a.prop]=a.now}}});a.each([C,S],function(c,b){a.fx.step[b]=function(c){a.style(c.elem,b,Math.max(0,c.now)+c.unit)}});if(a.expr&&a.expr.filters)a.expr.filters.animated=function(b){return a.grep(a.timers,function(a){return b===a.elem}).length};function pc(b){if(!bc[b]){var f=i.body,c=a("<"+b+">").appendTo(f),e=c.css(G);c.remove();if(e===u||e===d){if(!U){U=i.createElement("iframe");U.frameBorder=U.width=U.height=0}f.appendChild(U);if(!zb||!U.createElement){zb=(U.contentWindow||U.contentDocument).document;zb.write((i.compatMode===Hb?"<!doctype html>":d)+"<html><body>");zb.close()}c=zb.createElement(b);zb.body.appendChild(c);e=a.css(c,G);f.removeChild(U)}bc[b]=e}return bc[b]}var Qd=/^t(?:able|d|h)$/i,Uc=/^(?:body|html)$/i;if("getBoundingClientRect"in i.documentElement)a.fn.offset=function(h){var b=this[0],d;if(h)return this.each(function(b){a.offset.setOffset(this,h,b)});if(!b||!b.ownerDocument)return c;if(b===b.ownerDocument.body)return a.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(p){}var g=b.ownerDocument,e=g.documentElement;if(!d||!a.contains(e,b))return d?{top:d.top,left:d.left}:{top:0,left:0};var f=g.body,i=ec(g),l=e.clientTop||f.clientTop||0,j=e.clientLeft||f.clientLeft||0,m=i.pageYOffset||a.support.boxModel&&e.scrollTop||f.scrollTop,k=i.pageXOffset||a.support.boxModel&&e.scrollLeft||f.scrollLeft,o=d.top+m-l,n=d.left+k-j;return{top:o,left:n}};else a.fn.offset=function(m){var b=this[0];if(m)return this.each(function(b){a.offset.setOffset(this,m,b)});if(!b||!b.ownerDocument)return c;if(b===b.ownerDocument.body)return a.offset.bodyOffset(b);var d,j=b.offsetParent,n=b,l=b.ownerDocument,k=l.documentElement,h=l.body,i=l.defaultView,g=i?i.getComputedStyle(b,c):b.currentStyle,f=b.offsetTop,e=b.offsetLeft;while((b=b.parentNode)&&b!==h&&b!==k){if(a.support.fixedPosition&&g.position===W)break;d=i?i.getComputedStyle(b,c):b.currentStyle;f-=b.scrollTop;e-=b.scrollLeft;if(b===j){f+=b.offsetTop;e+=b.offsetLeft;if(a.support.doesNotAddBorder&&!(a.support.doesAddBorderForTableAndCells&&Qd.test(b.nodeName))){f+=parseFloat(d.borderTopWidth)||0;e+=parseFloat(d.borderLeftWidth)||0}n=j;j=b.offsetParent}if(a.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){f+=parseFloat(d.borderTopWidth)||0;e+=parseFloat(d.borderLeftWidth)||0}g=d}if(g.position===ob||g.position===sb){f+=h.offsetTop;e+=h.offsetLeft}if(a.support.fixedPosition&&g.position===W){f+=Math.max(k.scrollTop,h.scrollTop);e+=Math.max(k.scrollLeft,h.scrollLeft)}return{top:f,left:e}};a.offset={bodyOffset:function(b){var d=b.offsetTop,c=b.offsetLeft;if(a.support.doesNotIncludeMarginInBodyOffset){d+=parseFloat(a.css(b,Fb))||0;c+=parseFloat(a.css(b,Gb))||0}return{top:d,left:c}},setOffset:function(d,b,p){var h=a.css(d,Ib);if(h===sb)d.style.position=ob;var i=a(d),g=i.offset(),n=a.css(d,"top"),m=a.css(d,"left"),o=(h===Xb||h===W)&&a.inArray(Y,[n,m])>l,e={},f={},k,j;if(o){f=i.position();k=f.top;j=f.left}else{k=parseFloat(n)||0;j=parseFloat(m)||0}if(a.isFunction(b))b=b.call(d,p,g);if(b.top!=c)e.top=b.top-g.top+k;if(b.left!=c)e.left=b.left-g.left+j;if("using"in b)b.using.call(d,e);else i.css(e)}};a.fn.extend({position:function(){var f=this;if(!f[0])return c;var g=f[0],b=f.offsetParent(),e=f.offset(),d=Uc.test(b[0].nodeName)?{top:0,left:0}:b.offset();e.top-=parseFloat(a.css(g,Fb))||0;e.left-=parseFloat(a.css(g,Gb))||0;d.top+=parseFloat(a.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(a.css(b[0],"borderLeftWidth"))||0;return{top:e.top-d.top,left:e.left-d.left}},offsetParent:function(){return this.map(function(){var b=this.offsetParent||i.body;while(b&&(!Uc.test(b.nodeName)&&a.css(b,Ib)===sb))b=b.offsetParent;return b})}});a.each(["Left","Top"],function(d,e){var b=ib+e;a.fn[b]=function(i){var f="pageXOffset",g,e;if(i===h){g=this[0];if(!g)return c;e=ec(g);return e?f in e?e[d?"pageYOffset":f]:a.support.boxModel&&e.document.documentElement[b]||e.document.body[b]:g[b]}return this.each(function(){e=ec(this);if(e)e.scrollTo(!d?i:a(e).scrollLeft(),d?i:a(e).scrollTop());else this[b]=i})}});function ec(b){return a.isWindow(b)?b:b.nodeType===9?b.defaultView||b.parentWindow:e}a.each(["Height",Eb],function(e,b){var d=b.toLowerCase();a.fn["inner"+b]=function(){var b=this[0];return b?b.style?parseFloat(a.css(b,d,cb)):this[d]():c};a.fn["outer"+b]=function(e){var b=this[0];return b?b.style?parseFloat(a.css(b,d,e?rb:bb)):this[d]():c};a.fn[d]=function(i){var g="client",j=this,e=j[0];if(!e)return i==c?c:j;if(a.isFunction(i))return j.each(function(c){var b=a(this);b[d](i.call(this,c,b[d]()))});if(a.isWindow(e)){var k=e.document.documentElement[g+b],l=e.document.body;return e.document.compatMode===Hb&&k||l&&l[g+b]||k}else if(e.nodeType===9)return Math.max(e.documentElement[g+b],e.body[ib+b],e.documentElement[ib+b],e.body["offset"+b],e.documentElement["offset"+b]);else if(i===h){var m=a.css(e,d),n=parseFloat(m);return a.isNumeric(n)?n:m}else return j.css(d,typeof i===f?i:i+r)}});o.jQuery=o.$=a;typeof define===z&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return a})})(window);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,g){var f="tabindex",d="Width",e=".ui-disableSelection",c="overflow",b="position";function h(b,e){var c=b.nodeName.toLowerCase();if("area"===c){var f=b.parentNode,g=f.name,d;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(d=a("img[usemap=#"+g+"]")[0],!!d&&i(d))}return(/input|select|textarea|button|object/.test(c)?!b.disabled:"a"==c?b.href||e:e)&&i(b)}function i(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.22",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var e="overflow-x",d="overflow-y",f=this,g;return a.browser.msie&&/(static|relative)/.test(f.css(b))||/absolute/.test(f.css(b))?(g=f.parents().filter(function(){var f=this;return/(relative|absolute|fixed)/.test(a.curCSS(f,b,1))&&/(auto|scroll)/.test(a.curCSS(f,c,1)+a.curCSS(f,d,1)+a.curCSS(f,e,1))}).eq(0)):(g=f.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,c,1)+a.curCSS(this,d,1)+a.curCSS(this,e,1))}).eq(0)),/fixed/.test(f.css(b))||!g.length?a(document):g},zIndex:function(f){if(f!==g)return this.css("zIndex",f);if(this.length){var c=a(this[0]),d,e;while(c.length&&c[0]!==document){d=c.css(b);if(d==="absolute"||d==="relative"||d==="fixed"){e=parseInt(c.css("zIndex"),10);if(!isNaN(e)&&e!==0)return e}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+e,function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(e)}}),a("<a>").outerWidth(1).jquery||a.each([d,"Height"],function(i,b){function f(c,b,e,f){return a.each(h,function(){b-=parseFloat(a.curCSS(c,"padding"+this,!0))||0,e&&(b-=parseFloat(a.curCSS(c,"border"+this+d,!0))||0),f&&(b-=parseFloat(a.curCSS(c,"margin"+this,!0))||0)}),b}var h=b===d?["Left","Right"]:["Top","Bottom"],c=b.toLowerCase(),e={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+b]=function(d){return d===g?e["inner"+b].call(this):this.each(function(){a(this).css(c,f(this,d)+"px")})},a.fn["outer"+b]=function(d,g){return typeof d!="number"?e["outer"+b].call(this,d):this.each(function(){a(this).css(c,f(this,d,!0,g)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,d,c){return!!a.data(b,c[3])},focusable:function(b){return h(b,!isNaN(a.attr(b,f)))},tabbable:function(b){var c=a.attr(b,f),d=isNaN(c);return(d||c>=0)&&h(b,!d)}}),a(function(){var c=document.body,b=c.appendChild(b=document.createElement("div"));b.offsetHeight,a.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=b.offsetHeight===100,a.support.selectstart="onselectstart"in b,c.removeChild(b).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(e,f,d){var c=a.ui[e].prototype;for(var b in d)c.plugins[b]=c.plugins[b]||[],c.plugins[b].push([f,d[b]])},call:function(a,d,e){var b=a.plugins[d];if(!b||!a.element[0].parentNode)return;for(var c=0;c<b.length;c++)a.options[b[c][0]]&&b[c][1].apply(a.element,e)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,e){if(a(b).css(c)==="hidden")return!1;var d=e&&e==="left"?"scrollLeft":"scrollTop",f=!1;return b[d]>0?!0:(b[d]=1,f=b[d]>0,b[d]=0,f)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,e){var b="disabled",c="ui-state-disabled",d="aria-disabled";if(a.cleanData){var f=a.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!=null;c++)try{a(d).triggerHandler("remove")}catch(e){}f(b)}}else{var g=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){var d=this;return c||(!b||a.filter(b,[d]).length)&&a("*",d).add([d]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),g.call(a(d),b,c)})}}a.widget=function(b,d,e){var c=b.split(".")[0],f;b=b.split(".")[1],f=c+"-"+b,e||(e=d,d=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[c]=a[c]||{},a[c][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new d;g.options=a.extend(!0,{},g.options),a[c][b].prototype=a.extend(!0,g,{"namespace":c,widgetName:b,widgetEventPrefix:a[c][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},e),a.widget.bridge(b,a[c][b])},a.widget.bridge=function(b,c){a.fn[b]=function(d){var f=typeof d=="string",g=Array.prototype.slice.call(arguments,1),h=this;return d=!f&&g.length?a.extend.apply(null,[!0,d].concat(g)):d,f&&d.charAt(0)==="_"?h:(f?this.each(function(){var c=a.data(this,b),f=c&&a.isFunction(c[d])?c[d].apply(c,g):c;if(f!==c&&f!==e)return h=f,!1}):this.each(function(){var e=a.data(this,b);e?e.option(d||{})._init():a.data(this,b,new c(d,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(d,c){var b=this;a.data(c,b.widgetName,b),b.element=a(c),b.options=a.extend(!0,{},b.options,b._getCreateOptions(),d);var e=b;b.element.bind("remove."+b.widgetName,function(){e.destroy()}),b._create(),b._trigger("create"),b._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){var a=this;a.element.unbind("."+a.widgetName).removeData(a.widgetName),a.widget().unbind("."+a.widgetName).removeAttr(d).removeClass(a.widgetBaseClass+"-disabled "+c)},widget:function(){return this.element},option:function(c,f){var b=this,d=c;if(arguments.length===0)return a.extend({},b.options);if(typeof c=="string"){if(f===e)return b.options[c];d={},d[c]=f}return b._setOptions(d),b},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(f,e){var a=this;return a.options[f]=e,f===b&&a.widget()[e?"addClass":"removeClass"](a.widgetBaseClass+"-disabled "+c).attr(d,e),a},enable:function(){return this._setOption(b,!1)},disable:function(){return this._setOption(b,!0)},_trigger:function(d,b,e){var c=this,f,g,h=c.options[d];e=e||{},b=a.Event(b),b.type=(d===c.widgetEventPrefix?d:c.widgetEventPrefix+d).toLowerCase(),b.target=c.element[0],g=b.originalEvent;if(g)for(f in g)f in b||(b[f]=g[f]);return c.element.trigger(b,e),!(a.isFunction(h)&&h.call(c.element[0],b,e)===!1||b.isDefaultPrevented())}}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.mouse.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(b){var d="mouseup.",c="mousemove.",a=".preventClickEvent",e=!1;b(document).mouseup(function(){e=!1}),b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this,d=c;c.element.bind("mousedown."+c.widgetName,function(a){return d._mouseDown(a)}).bind("click."+c.widgetName,function(c){if(!0===b.data(c.target,d.widgetName+a))return b.removeData(c.target,d.widgetName+a),c.stopImmediatePropagation(),!1}),c.started=!1},_mouseDestroy:function(){var a=this;a.element.unbind("."+a.widgetName),b(document).unbind(c+a.widgetName,a._mouseMoveDelegate).unbind(d+a.widgetName,a._mouseUpDelegate)},_mouseDown:function(g){var f=this;if(e)return;f._mouseStarted&&f._mouseUp(g),f._mouseDownEvent=g;var h=f,i=g.which==1,j=typeof f.options.cancel=="string"&&g.target.nodeName?b(g.target).closest(f.options.cancel).length:!1;if(!i||j||!f._mouseCapture(g))return!0;f.mouseDelayMet=!f.options.delay,f.mouseDelayMet||(f._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},f.options.delay));if(f._mouseDistanceMet(g)&&f._mouseDelayMet(g)){f._mouseStarted=f._mouseStart(g)!==!1;if(!f._mouseStarted)return g.preventDefault(),!0}return!0===b.data(g.target,f.widgetName+a)&&b.removeData(g.target,f.widgetName+a),f._mouseMoveDelegate=function(a){return h._mouseMove(a)},f._mouseUpDelegate=function(a){return h._mouseUp(a)},b(document).bind(c+f.widgetName,f._mouseMoveDelegate).bind(d+f.widgetName,f._mouseUpDelegate),g.preventDefault(),e=!0,!0},_mouseMove:function(c){var a=this;return!b.browser.msie||document.documentMode>=9||!!c.button?a._mouseStarted?(a._mouseDrag(c),c.preventDefault()):(a._mouseDistanceMet(c)&&a._mouseDelayMet(c)&&(a._mouseStarted=a._mouseStart(a._mouseDownEvent,c)!==!1,a._mouseStarted?a._mouseDrag(c):a._mouseUp(c)),!a._mouseStarted):a._mouseUp(c)},_mouseUp:function(f){var e=this;return b(document).unbind(c+e.widgetName,e._mouseMoveDelegate).unbind(d+e.widgetName,e._mouseUpDelegate),e._mouseStarted&&(e._mouseStarted=!1,f.target==e._mouseDownEvent.target&&b.data(f.target,e.widgetName+a,!0),e._mouseStop(f)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.position.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var d="top",c="left",f="bottom",e="right";a.ui=a.ui||{};var g=/left|center|right/,h=/top|center|bottom/,b="center",i={},j=a.fn.position,k=a.fn.offset;a.fn.position=function(k){if(!k||!k.of)return j.apply(this,arguments);k=a.extend({},k);var m=a(k.of),r=m[0],q=(k.collision||"flip").split(" "),n=k.offset?k.offset.split(" "):[0,0],o,p,l;return r.nodeType===9?(o=m.width(),p=m.height(),l={top:0,left:0}):r.setTimeout?(o=m.width(),p=m.height(),l={top:m.scrollTop(),left:m.scrollLeft()}):r.preventDefault?(k.at="left top",o=p=0,l={top:k.of.pageY,left:k.of.pageX}):(o=m.outerWidth(),p=m.outerHeight(),l=m.offset()),a.each(["my","at"],function(){var a=(k[this]||"").split(" ");a.length===1&&(a=g.test(a[0])?a.concat([b]):h.test(a[0])?[b].concat(a):[b,b]),a[0]=g.test(a[0])?a[0]:b,a[1]=h.test(a[1])?a[1]:b,k[this]=a}),q.length===1&&(q[1]=q[0]),n[0]=parseInt(n[0],10)||0,n.length===1&&(n[1]=n[0]),n[1]=parseInt(n[1],10)||0,k.at[0]===e?(l.left+=o):k.at[0]===b&&(l.left+=o/2),k.at[1]===f?(l.top+=p):k.at[1]===b&&(l.top+=p/2),l.left+=n[0],l.top+=n[1],this.each(function(){var h=this,j=a(h),m=j.outerWidth(),r=j.outerHeight(),s=parseInt(a.curCSS(h,"marginLeft",!0))||0,t=parseInt(a.curCSS(h,"marginTop",!0))||0,v=m+s+(parseInt(a.curCSS(h,"marginRight",!0))||0),w=r+t+(parseInt(a.curCSS(h,"marginBottom",!0))||0),g=a.extend({},l),u;k.my[0]===e?(g.left-=m):k.my[0]===b&&(g.left-=m/2),k.my[1]===f?(g.top-=r):k.my[1]===b&&(g.top-=r/2),i.fractions||(g.left=Math.round(g.left),g.top=Math.round(g.top)),u={left:g.left-s,top:g.top-t},a.each([c,d],function(b,c){a.ui.position[q[b]]&&a.ui.position[q[b]][c](g,{targetWidth:o,targetHeight:p,elemWidth:m,elemHeight:r,collisionPosition:u,collisionWidth:v,collisionHeight:w,offset:n,my:k.my,at:k.at})}),a.fn.bgiframe&&j.bgiframe(),j.offset(a.extend(g,{using:k.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(j,d){if(d.at[0]===b)return;var f=a(window),k=d.collisionPosition.left+d.collisionWidth-f.width()-f.scrollLeft(),g=d.my[0]===c?-d.elemWidth:d.my[0]===e?d.elemWidth:0,h=d.at[0]===c?d.targetWidth:-d.targetWidth,i=-2*d.offset[0];j.left+=d.collisionPosition.left<0?g+h+i:k>0?g+h+i:0},top:function(j,c){if(c.at[1]===b)return;var e=a(window),k=c.collisionPosition.top+c.collisionHeight-e.height()-e.scrollTop(),g=c.my[1]===d?-c.elemHeight:c.my[1]===f?c.elemHeight:0,h=c.at[1]===d?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];j.top+=c.collisionPosition.top<0?g+h+i:k>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,e){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var f=a(b),g=f.offset(),i=parseInt(a.curCSS(b,d,!0),10)||0,j=parseInt(a.curCSS(b,c,!0),10)||0,h={top:e.top-g.top+i,left:e.left-g.left+j};"using"in e?e.using.call(b,h):f.css(h)},a.fn.offset=function(c){var b=this,d=b[0];return!d||!d.ownerDocument?null:c?a.isFunction(c)?b.each(function(b){a(this).offset(c.call(this,b,a(this).offset()))}):b.each(function(){a.offset.setOffset(this,c)}):k.call(b)}),function(){var c=document.getElementsByTagName("body")[0],f=document.createElement("div"),b,d,e,g,h;b=document.createElement(c?"div":"body"),e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},c&&a.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in e)b.style[j]=e[j];b.appendChild(f),d=c||document.documentElement,d.insertBefore(b,d.firstChild),f.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",g=a(f).offset(function(b,a){return a}).offset(),b.innerHTML="",d.removeChild(b),h=g.top+g.left+(c?2e3:0),i.fractions=h>21&&h<22}()})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.draggable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var g="zIndex",k="opacity",j="cursor",f="fixed",p="borderLeftWidth",o="borderTopWidth",b=10,s="ui-draggable-dragging",i="body",e="absolute",h="px",c="draggable",d="relative",m="position",l="original",n="auto",r="parent",q="drag";a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:q,options:{addClasses:!0,appendTo:r,axis:!1,connectToSortable:!1,containment:!1,cursor:n,cursorAt:!1,grid:!1,handle:!1,helper:l,iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){var a=this;a.options.helper==l&&!/^(?:r|a|f)/.test(a.element.css(m))&&(a.element[0].style.position=d),a.options.addClasses&&a.element.addClass("ui-draggable"),a.options.disabled&&a.element.addClass("ui-draggable-disabled"),a._mouseInit()},destroy:function(){var a=this;return!a.element.data(c)?void 0:(a.element.removeData(c).unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),a._mouseDestroy(),a)},_mouseCapture:function(d){var b=this,c=b.options;return b.helper||c.disabled||a(d.target).is(".ui-resizable-handle")?!1:(b.handle=b._getHandle(d),b.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+h,height:this.offsetHeight+h,position:e,opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo(i)}),!0):!1)},_mouseStart:function(c){var b=this,d=b.options;return b.helper=b._createHelper(c),b.helper.addClass(s),b._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=b),b._cacheMargins(),b.cssPosition=b.helper.css(m),b.scrollParent=b.helper.scrollParent(),b.offset=b.positionAbs=b.element.offset(),b.offset={top:b.offset.top-b.margins.top,left:b.offset.left-b.margins.left},a.extend(b.offset,{click:{left:c.pageX-b.offset.left,top:c.pageY-b.offset.top},parent:b._getParentOffset(),relative:b._getRelativeOffset()}),b.originalPosition=b.position=b._generatePosition(c),b.originalPageX=c.pageX,b.originalPageY=c.pageY,d.cursorAt&&b._adjustOffsetFromHelper(d.cursorAt),d.containment&&b._setContainment(),b._trigger("start",c)===!1?(b._clear(),!1):(b._cacheHelperProportions(),a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,c),b._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(b,c),!0)},_mouseDrag:function(c,f){var b=this;b.position=b._generatePosition(c),b.positionAbs=b._convertPositionTo(e);if(!f){var d=b._uiHash();if(b._trigger(q,c,d)===!1)return b._mouseUp({}),!1;b.position=d.position}if(!b.options.axis||b.options.axis!="y")b.helper[0].style.left=b.position.left+h;if(!b.options.axis||b.options.axis!="x")b.helper[0].style.top=b.position.top+h;return a.ui.ddmanager&&a.ui.ddmanager.drag(b,c),!1},_mouseStop:function(f){var c=this,d=!1;a.ui.ddmanager&&!c.options.dropBehaviour&&(d=a.ui.ddmanager.drop(c,f)),c.dropped&&(d=c.dropped,c.dropped=!1);var e=c.element[0],g=!1;while(e&&(e=e.parentNode))e==document&&(g=!0);if(!g&&c.options.helper===l)return!1;if(c.options.revert=="invalid"&&!d||c.options.revert=="valid"&&d||c.options.revert===!0||a.isFunction(c.options.revert)&&c.options.revert.call(c.element,d)){var h=c;a(c.helper).animate(c.originalPosition,parseInt(c.options.revertDuration,b),function(){h._trigger("stop",f)!==!1&&h._clear()})}else c._trigger("stop",f)!==!1&&c._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){var a=this;return a.helper.is(".ui-draggable-dragging")?a._mouseUp({}):a._clear(),a},_getHandle:function(d){var b=this,c=!b.options.handle||!a(b.options.handle,b.element).length?!0:!1;return a(b.options.handle,b.element).find("*").andSelf().each(function(){this==d.target&&(c=!0)}),c},_createHelper:function(f){var b=this,d=b.options,c=a.isFunction(d.helper)?a(d.helper.apply(b.element[0],[f])):d.helper=="clone"?b.element.clone().removeAttr("id"):b.element;return c.parents(i).length||c.appendTo(d.appendTo==r?b.element[0].parentNode:d.appendTo),c[0]!=b.element[0]&&!/(fixed|absolute)/.test(c.css(m))&&c.css(m,e),c},_adjustOffsetFromHelper:function(b){var c=this;typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(c.offset.click.left=b.left+c.margins.left),"right"in b&&(c.offset.click.left=c.helperProportions.width-b.right+c.margins.left),"top"in b&&(c.offset.click.top=b.top+c.margins.top),"bottom"in b&&(c.offset.click.top=c.helperProportions.height-b.bottom+c.margins.top)},_getParentOffset:function(){var c=this;c.offsetParent=c.helper.offsetParent();var d=c.offsetParent.offset();c.cssPosition==e&&c.scrollParent[0]!=document&&a.ui.contains(c.scrollParent[0],c.offsetParent[0])&&(d.left+=c.scrollParent.scrollLeft(),d.top+=c.scrollParent.scrollTop());if(c.offsetParent[0]==document.body||c.offsetParent[0].tagName&&c.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(c.offsetParent.css(o),b)||0),left:d.left+(parseInt(c.offsetParent.css(p),b)||0)}},_getRelativeOffset:function(){var a=this;if(a.cssPosition==d){var c=a.element.position();return{top:c.top-(parseInt(a.helper.css("top"),b)||0)+a.scrollParent.scrollTop(),left:c.left-(parseInt(a.helper.css("left"),b)||0)+a.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){var a=this;a.margins={left:parseInt(a.element.css("marginLeft"),b)||0,top:parseInt(a.element.css("marginTop"),b)||0,right:parseInt(a.element.css("marginRight"),b)||0,bottom:parseInt(a.element.css("marginBottom"),b)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f="document",c=this,e=c.options;e.containment==r&&(e.containment=c.helper[0].parentNode);if(e.containment==f||e.containment=="window")c.containment=[e.containment==f?0:a(window).scrollLeft()-c.offset.relative.left-c.offset.parent.left,e.containment==f?0:a(window).scrollTop()-c.offset.relative.top-c.offset.parent.top,(e.containment==f?0:a(window).scrollLeft())+a(e.containment==f?document:window).width()-c.helperProportions.width-c.margins.left,(e.containment==f?0:a(window).scrollTop())+(a(e.containment==f?document:window).height()||document.body.parentNode.scrollHeight)-c.helperProportions.height-c.margins.top];if(!/^(document|window|parent)$/.test(e.containment)&&e.containment.constructor!=Array){var g=a(e.containment),d=g[0];if(!d)return;var i=g.offset(),h=a(d).css("overflow")!="hidden";c.containment=[(parseInt(a(d).css(p),b)||0)+(parseInt(a(d).css("paddingLeft"),b)||0),(parseInt(a(d).css(o),b)||0)+(parseInt(a(d).css("paddingTop"),b)||0),(h?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(p),b)||0)-(parseInt(a(d).css("paddingRight"),b)||0)-c.helperProportions.width-c.margins.left-c.margins.right,(h?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(o),b)||0)-(parseInt(a(d).css("paddingBottom"),b)||0)-c.helperProportions.height-c.margins.top-c.margins.bottom],c.relative_container=g}else e.containment.constructor==Array&&(c.containment=e.containment)},_convertPositionTo:function(i,d){var b=this;d||(d=b.position);var c=i==e?1:-1,j=b.options,g=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,h=/(html|body)/i.test(g[0].tagName);return{top:d.top+b.offset.relative.top*c+b.offset.parent.top*c-(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:(b.cssPosition==f?-b.scrollParent.scrollTop():h?0:g.scrollTop())*c),left:d.left+b.offset.relative.left*c+b.offset.parent.left*c-(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:(b.cssPosition==f?-b.scrollParent.scrollLeft():h?0:g.scrollLeft())*c)}},_generatePosition:function(i){var b=this,d=b.options,m=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,n=/(html|body)/i.test(m[0].tagName),j=i.pageX,k=i.pageY;if(b.originalPosition){var c;if(b.containment){if(b.relative_container){var l=b.relative_container.offset();c=[b.containment[0]+l.left,b.containment[1]+l.top,b.containment[2]+l.left,b.containment[3]+l.top]}else c=b.containment;i.pageX-b.offset.click.left<c[0]&&(j=c[0]+b.offset.click.left),i.pageY-b.offset.click.top<c[1]&&(k=c[1]+b.offset.click.top),i.pageX-b.offset.click.left>c[2]&&(j=c[2]+b.offset.click.left),i.pageY-b.offset.click.top>c[3]&&(k=c[3]+b.offset.click.top)}if(d.grid){var g=d.grid[1]?b.originalPageY+Math.round((k-b.originalPageY)/d.grid[1])*d.grid[1]:b.originalPageY;k=c?g-b.offset.click.top<c[1]||g-b.offset.click.top>c[3]?g-b.offset.click.top<c[1]?g+d.grid[1]:g-d.grid[1]:g:g;var h=d.grid[0]?b.originalPageX+Math.round((j-b.originalPageX)/d.grid[0])*d.grid[0]:b.originalPageX;j=c?h-b.offset.click.left<c[0]||h-b.offset.click.left>c[2]?h-b.offset.click.left<c[0]?h+d.grid[0]:h-d.grid[0]:h:h}}return{top:k-b.offset.click.top-b.offset.relative.top-b.offset.parent.top+(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:b.cssPosition==f?-b.scrollParent.scrollTop():n?0:m.scrollTop()),left:j-b.offset.click.left-b.offset.relative.left-b.offset.parent.left+(a.browser.safari&&a.browser.version<526&&b.cssPosition==f?0:b.cssPosition==f?-b.scrollParent.scrollLeft():n?0:m.scrollLeft())}},_clear:function(){var a=this;a.helper.removeClass(s),a.helper[0]!=a.element[0]&&!a.cancelHelperRemoval&&a.helper.remove(),a.helper=null,a.cancelHelperRemoval=!1},_trigger:function(d,f,c){var b=this;return c=c||b._uiHash(),a.ui.plugin.call(b,d,[f,c]),d==q&&(b.positionAbs=b._convertPositionTo(e)),a.Widget.prototype._trigger.call(b,d,f,c)},plugins:{},_uiHash:function(){var a=this;return{helper:a.helper,position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.22"}),a.ui.plugin.add(c,"connectToSortable",{start:function(d,e){var b=a(this).data(c),f=b.options,g=a.extend({},e,{item:b.element});b.sortables=[],a(f.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(b.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",d,g))})},stop:function(d,e){var b=a(this).data(c),f=a.extend({},e,{item:b.element});a.each(b.sortables,function(){var a=this;a.instance.isOver?(a.instance.isOver=0,b.cancelHelperRemoval=!0,a.instance.cancelHelperRemoval=!1,a.shouldRevert&&(a.instance.options.revert=!0),a.instance._mouseStop(d),a.instance.options.helper=a.instance.options._helper,b.options.helper==l&&a.instance.currentItem.css({top:n,left:n})):(a.instance.cancelHelperRemoval=!1,a.instance._trigger("deactivate",d,f))})},drag:function(d,e){var b=a(this).data(c),f=this,g=function(c){var b=this,d=b.offset.click.top,e=b.offset.click.left,f=b.positionAbs.top,g=b.positionAbs.left,h=c.height,i=c.width,j=c.top,k=c.left;return a.ui.isOver(f+d,g+e,j,k,h,i)};a.each(b.sortables,function(){var c=this;c.instance.positionAbs=b.positionAbs,c.instance.helperProportions=b.helperProportions,c.instance.offset.click=b.offset.click,c.instance._intersectsWith(c.instance.containerCache)?(c.instance.isOver||(c.instance.isOver=1,c.instance.currentItem=a(f).clone().removeAttr("id").appendTo(c.instance.element).data("sortable-item",!0),c.instance.options._helper=c.instance.options.helper,c.instance.options.helper=function(){return e.helper[0]},d.target=c.instance.currentItem[0],c.instance._mouseCapture(d,!0),c.instance._mouseStart(d,!0,!0),c.instance.offset.click.top=b.offset.click.top,c.instance.offset.click.left=b.offset.click.left,c.instance.offset.parent.left-=b.offset.parent.left-c.instance.offset.parent.left,c.instance.offset.parent.top-=b.offset.parent.top-c.instance.offset.parent.top,b._trigger("toSortable",d),b.dropped=c.instance.element,b.currentItem=b.element,c.instance.fromOutside=b),c.instance.currentItem&&c.instance._mouseDrag(d)):c.instance.isOver&&(c.instance.isOver=0,c.instance.cancelHelperRemoval=!0,c.instance.options.revert=!1,c.instance._trigger("out",d,c.instance._uiHash(c.instance)),c.instance._mouseStop(d,!0),c.instance.options.helper=c.instance.options._helper,c.instance.currentItem.remove(),c.instance.placeholder&&c.instance.placeholder.remove(),b._trigger("fromSortable",d),b.dropped=!1)})}}),a.ui.plugin.add(c,j,{start:function(){var b=a(i),d=a(this).data(c).options;b.css(j)&&(d._cursor=b.css(j)),b.css(j,d.cursor)},stop:function(){var b=a(this).data(c).options;b._cursor&&a(i).css(j,b._cursor)}}),a.ui.plugin.add(c,k,{start:function(f,e){var b=a(e.helper),d=a(this).data(c).options;b.css(k)&&(d._opacity=b.css(k)),b.css(k,d.opacity)},stop:function(e,d){var b=a(this).data(c).options;b._opacity&&a(d.helper).css(k,b._opacity)}}),a.ui.plugin.add(c,"scroll",{start:function(){var b=a(this).data(c);b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset())},drag:function(e){var d=a(this).data(c),b=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!b.axis||b.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-e.pageY<b.scrollSensitivity?(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+b.scrollSpeed):e.pageY-d.overflowOffset.top<b.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||b.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-e.pageX<b.scrollSensitivity?(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+b.scrollSpeed):e.pageX-d.overflowOffset.left<b.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||b.axis!="x")e.pageY-a(document).scrollTop()<b.scrollSensitivity?(f=a(document).scrollTop(a(document).scrollTop()-b.scrollSpeed)):a(window).height()-(e.pageY-a(document).scrollTop())<b.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+b.scrollSpeed));if(!b.axis||b.axis!="y")e.pageX-a(document).scrollLeft()<b.scrollSensitivity?(f=a(document).scrollLeft(a(document).scrollLeft()-b.scrollSpeed)):a(window).width()-(e.pageX-a(document).scrollLeft())<b.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+b.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,e)}}),a.ui.plugin.add(c,"snap",{start:function(){var b=a(this).data(c),d=b.options;b.snapElements=[],a(d.snap.constructor!=String?d.snap.items||":data(draggable)":d.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(u,g){for(var b=a(this).data(c),t=b.options,e=t.snapTolerance,l=g.offset.left,n=l+b.helperProportions.width,m=g.offset.top,o=m+b.helperProportions.height,f=b.snapElements.length-1;f>=0;f--){var h=b.snapElements[f].left,j=h+b.snapElements[f].width,i=b.snapElements[f].top,k=i+b.snapElements[f].height;if(!(h-e<l&&l<j+e&&i-e<m&&m<k+e||h-e<l&&l<j+e&&i-e<o&&o<k+e||h-e<n&&n<j+e&&i-e<m&&m<k+e||h-e<n&&n<j+e&&i-e<o&&o<k+e)){b.snapElements[f].snapping&&b.options.snap.release&&b.options.snap.release.call(b.element,u,a.extend(b._uiHash(),{snapItem:b.snapElements[f].item})),b.snapElements[f].snapping=!1;continue}if(t.snapMode!="inner"){var p=Math.abs(i-o)<=e,q=Math.abs(k-m)<=e,r=Math.abs(h-n)<=e,s=Math.abs(j-l)<=e;p&&(g.position.top=b._convertPositionTo(d,{top:i-b.helperProportions.height,left:0}).top-b.margins.top),q&&(g.position.top=b._convertPositionTo(d,{top:k,left:0}).top-b.margins.top),r&&(g.position.left=b._convertPositionTo(d,{top:0,left:h-b.helperProportions.width}).left-b.margins.left),s&&(g.position.left=b._convertPositionTo(d,{top:0,left:j}).left-b.margins.left)}var v=p||q||r||s;if(t.snapMode!="outer"){var p=Math.abs(i-m)<=e,q=Math.abs(k-o)<=e,r=Math.abs(h-l)<=e,s=Math.abs(j-n)<=e;p&&(g.position.top=b._convertPositionTo(d,{top:i,left:0}).top-b.margins.top),q&&(g.position.top=b._convertPositionTo(d,{top:k-b.helperProportions.height,left:0}).top-b.margins.top),r&&(g.position.left=b._convertPositionTo(d,{top:0,left:h}).left-b.margins.left),s&&(g.position.left=b._convertPositionTo(d,{top:0,left:j-b.helperProportions.width}).left-b.margins.left)}!b.snapElements[f].snapping&&(p||q||r||s||v)&&b.options.snap.snap&&b.options.snap.snap.call(b.element,u,a.extend(b._uiHash(),{snapItem:b.snapElements[f].item})),b.snapElements[f].snapping=p||q||r||s||v}}}),a.ui.plugin.add(c,"stack",{start:function(){var f=a(this).data(c).options,d=a.makeArray(a(f.stack)).sort(function(c,d){return(parseInt(a(c).css(g),b)||0)-(parseInt(a(d).css(g),b)||0)});if(!d.length)return;var e=parseInt(d[0].style.zIndex)||0;a(d).each(function(a){this.style.zIndex=e+a}),this[0].style.zIndex=e+d.length}}),a.ui.plugin.add(c,g,{start:function(f,e){var b=a(e.helper),d=a(this).data(c).options;b.css(g)&&(d._zIndex=b.css(g)),b.css(g,d.zIndex)},stop:function(e,d){var b=a(this).data(c).options;b._zIndex&&a(d.helper).css(g,b._zIndex)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.droppable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var e="scroll.droppable",d=":not(body,html)",c=":data(droppable)",b="droppable",f="intersect";a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:f},_create:function(){var b=this,c=b.options,d=c.accept;b.isover=0,b.isout=1,b.accept=a.isFunction(d)?d:function(a){return a.is(d)},b.proportions={width:b.element[0].offsetWidth,height:b.element[0].offsetHeight},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(b),c.addClasses&&b.element.addClass("ui-droppable")},destroy:function(){var c=this;for(var e=a.ui.ddmanager.droppables[c.options.scope],d=0;d<e.length;d++)e[d]==c&&e.splice(d,1);return c.element.removeClass("ui-droppable ui-droppable-disabled").removeData(b).unbind(".droppable"),c},_setOption:function(c,b){c=="accept"&&(this.accept=a.isFunction(b)?b:function(a){return a.is(b)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var b=this,c=a.ui.ddmanager.current;b.options.activeClass&&b.element.addClass(b.options.activeClass),c&&b._trigger("activate",d,b.ui(c))},_deactivate:function(d){var b=this,c=a.ui.ddmanager.current;b.options.activeClass&&b.element.removeClass(b.options.activeClass),c&&b._trigger("deactivate",d,b.ui(c))},_over:function(d){var b=this,c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==b.element[0])return;b.accept.call(b.element[0],c.currentItem||c.element)&&(b.options.hoverClass&&b.element.addClass(b.options.hoverClass),b._trigger("over",d,b.ui(c)))},_out:function(d){var b=this,c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==b.element[0])return;b.accept.call(b.element[0],c.currentItem||c.element)&&(b.options.hoverClass&&b.element.removeClass(b.options.hoverClass),b._trigger("out",d,b.ui(c)))},_drop:function(g,h){var d=this,e=h||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==d.element[0])return!1;var f=!1;return d.element.find(c).not(".ui-draggable-dragging").each(function(){var c=a.data(this,b);if(c.options.greedy&&!c.options.disabled&&c.options.scope==e.options.scope&&c.accept.call(c.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(c,{offset:c.element.offset()}),c.options.tolerance))return f=!0,!1}),f?!1:d.accept.call(d.element[0],e.currentItem||e.element)?(d.options.activeClass&&d.element.removeClass(d.options.activeClass),d.options.hoverClass&&d.element.removeClass(d.options.hoverClass),d._trigger("drop",g,d.ui(e)),d.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.22"}),a.ui.intersect=function(b,c,m){if(!c.offset)return!1;var g=(b.positionAbs||b.position.absolute).left,i=g+b.helperProportions.width,h=(b.positionAbs||b.position.absolute).top,j=h+b.helperProportions.height,d=c.offset.left,k=d+c.proportions.width,e=c.offset.top,l=e+c.proportions.height;switch(m){case"fit":return d<=g&&i<=k&&e<=h&&j<=l;case f:return d<g+b.helperProportions.width/2&&i-b.helperProportions.width/2<k&&e<h+b.helperProportions.height/2&&j-b.helperProportions.height/2<l;case"pointer":var n=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,o=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,p=a.ui.isOver(o,n,e,d,c.proportions.height,c.proportions.width);return p;case"touch":return(h>=e&&h<=l||j>=e&&j<=l||h<e&&j>l)&&(g>=d&&g<=k||i>=d&&i<=k||g<d&&i>k);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,f){var d=a.ui.ddmanager.droppables[e.options.scope]||[],i=f?f.type:null,h=(e.currentItem||e.element).find(c).andSelf();a:for(var b=0;b<d.length;b++){if(d[b].options.disabled||e&&!d[b].accept.call(d[b].element[0],e.currentItem||e.element))continue;for(var g=0;g<h.length;g++)if(h[g]==d[b].element[0]){d[b].proportions.height=0;continue a}d[b].visible=d[b].element.css("display")!="none";if(!d[b].visible)continue;i=="mousedown"&&d[b]._activate.call(d[b],f),d[b].offset=d[b].element.offset(),d[b].proportions={width:d[b].element[0].offsetWidth,height:d[b].element[0].offsetHeight}}},drop:function(b,d){var c=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){var e=this;if(!e.options)return;!e.options.disabled&&e.visible&&a.ui.intersect(b,e,e.options.tolerance)&&(c=e._drop.call(e,d)||c),!e.options.disabled&&e.visible&&e.accept.call(e.element[0],b.currentItem||b.element)&&(e.isout=1,e.isover=0,e._deactivate.call(e,d))}),c},dragStart:function(b,c){b.element.parents(d).bind(e,function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(c,d){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,d),a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){var e="isover",g="isout",f=this;if(f.options.disabled||f.greedyChild||!f.visible)return;var j=a.ui.intersect(c,f,f.options.tolerance),i=!j&&f.isover==1?g:j&&f.isover==0?e:null;if(!i)return;var h;if(f.options.greedy){var k=f.element.parents(":data(droppable):eq(0)");k.length&&(h=a.data(k[0],b),h.greedyChild=i==e?1:0)}h&&i==e&&(h.isover=0,h.isout=1,h._out.call(h,d)),f[i]=1,f[i==g?e:g]=0,f[i==e?"_over":"_out"].call(f,d),h&&i==g&&(h.isout=0,h.isover=1,h._over.call(h,d))})},dragStop:function(b,c){b.element.parents(d).unbind(e),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.resizable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var t="relative",l="height",k="width",m="resizable-alsoresize",j="px",s="ui-resizable-resizing",p="body",o="cursor",r="absolute",q=".ui-resizable-",n=".ui-resizable-handle",c="resizable",d="left",f="top",h="position",b=10,e=null,g="resize";a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:g,options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:e,maxWidth:e,minHeight:b,minWidth:b,zIndex:1e3},_create:function(){var j="ui-resizable-autohide",b=this,k=b,i=b.options;b.element.addClass("ui-resizable"),a.extend(b,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:b.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":e}),b.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(b.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:b.element.css(h),width:b.element.outerWidth(),height:b.element.outerHeight(),top:b.element.css(f),left:b.element.css(d)})),b.element=b.element.parent().data(c,b.element.data(c)),b.elementIsWrapper=!0,b.element.css({marginLeft:b.originalElement.css("marginLeft"),marginTop:b.originalElement.css("marginTop"),marginRight:b.originalElement.css("marginRight"),marginBottom:b.originalElement.css("marginBottom")}),b.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),b.originalResizeStyle=b.originalElement.css(g),b.originalElement.css(g,"none"),b._proportionallyResizeElements.push(b.originalElement.css({position:"static",zoom:1,display:"block"})),b.originalElement.css({margin:b.originalElement.css("margin")}),b._proportionallyResize()),b.handles=i.handles||(a(n,b.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(b.handles.constructor==String){b.handles=="all"&&(b.handles="n,e,s,w,se,sw,ne,nw");var p=b.handles.split(",");b.handles={};for(var m=0;m<p.length;m++){var l=a.trim(p[m]),r="ui-resizable-"+l,o=a('<div class="ui-resizable-handle '+r+'"></div>');o.css({zIndex:i.zIndex}),"se"==l&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),b.handles[l]=q+l,b.element.append(o)}}b._renderAxis=function(d){var b=this;d=d||b.element;for(var c in b.handles){b.handles[c].constructor==String&&(b.handles[c]=a(b.handles[c],b.element).show());if(b.elementIsWrapper&&b.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var e=a(b.handles[c],b.element),f=0;f=/sw|ne|nw|se|n|s/.test(c)?e.outerHeight():e.outerWidth();var g=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");d.css(g,f),b._proportionallyResize()}if(!a(b.handles[c]).length)continue}},b._renderAxis(b.element),b._handles=a(n,b.element).disableSelection(),b._handles.mouseover(function(){if(!k.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);k.axis=a&&a[1]?a[1]:"se"}}),i.autoHide&&(b._handles.hide(),a(b.element).addClass(j).hover(function(){if(i.disabled)return;a(this).removeClass(j),k._handles.show()},function(){if(i.disabled)return;k.resizing||(a(this).addClass(j),k._handles.hide())})),b._mouseInit()},destroy:function(){var b=this;b._mouseDestroy();var i=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData(c).unbind(".resizable").find(n).remove()};if(b.elementIsWrapper){i(b.element);var e=b.element;e.after(b.originalElement.css({position:e.css(h),width:e.outerWidth(),height:e.outerHeight(),top:e.css(f),left:e.css(d)})).remove()}return b.originalElement.css(g,b.originalResizeStyle),i(b.originalElement),b},_mouseCapture:function(c){var b=!1;for(var d in this.handles)a(this.handles[d])[0]==c.target&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(g){var b=this,e=b.options,k=b.element.position(),c=b.element;b.resizing=!0,b.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(c.is(".ui-draggable")||/absolute/.test(c.css(h)))&&c.css({position:r,top:k.top,left:k.left}),b._renderProxy();var i=u(b.helper.css(d)),j=u(b.helper.css(f));e.containment&&(i+=a(e.containment).scrollLeft()||0,j+=a(e.containment).scrollTop()||0),b.offset=b.helper.offset(),b.position={left:i,top:j},b.size=b._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()},b.originalSize=b._helper?{width:c.outerWidth(),height:c.outerHeight()}:{width:c.width(),height:c.height()},b.originalPosition={left:i,top:j},b.sizeDiff={width:c.outerWidth()-c.width(),height:c.outerHeight()-c.height()},b.originalMousePosition={left:g.pageX,top:g.pageY},b.aspectRatio=typeof e.aspectRatio=="number"?e.aspectRatio:b.originalSize.width/b.originalSize.height||1;var l=a(q+b.axis).css(o);return a(p).css(o,l=="auto"?b.axis+"-resize":l),c.addClass(s),b._propagate("start",g),!0},_mouseDrag:function(c){var b=this,h=b.helper,m=b.options,n={},o=b,e=b.originalMousePosition,i=b.axis,k=c.pageX-e.left||0,l=c.pageY-e.top||0,f=b._change[i];if(!f)return!1;var d=f.apply(b,[c,k,l]),p=a.browser.msie&&a.browser.version<7,q=b.sizeDiff;b._updateVirtualBoundaries(c.shiftKey);if(b._aspectRatio||c.shiftKey)d=b._updateRatio(d,c);return d=b._respectSize(d,c),b._propagate(g,c),h.css({top:b.position.top+j,left:b.position.left+j,width:b.size.width+j,height:b.size.height+j}),!b._helper&&b._proportionallyResizeElements.length&&b._proportionallyResize(),b._updateCache(d),b._trigger(g,c,b.ui()),!1},_mouseStop:function(k){var g=this;g.resizing=!1;var i=g.options,c=g;if(g._helper){var h=g._proportionallyResizeElements,j=h.length&&/textarea/i.test(h[0].nodeName),l=j&&a.ui.hasScroll(h[0],d)?0:c.sizeDiff.height,m=j?0:c.sizeDiff.width,n={width:c.helper.width()-m,height:c.helper.height()-l},q=parseInt(c.element.css(d),b)+(c.position.left-c.originalPosition.left)||e,r=parseInt(c.element.css(f),b)+(c.position.top-c.originalPosition.top)||e;i.animate||g.element.css(a.extend(n,{top:r,left:q})),c.helper.height(c.size.height),c.helper.width(c.size.width),g._helper&&!i.animate&&g._proportionallyResize()}return a(p).css(o,"auto"),g.element.removeClass(s),g._propagate("stop",k),g._helper&&g.helper.remove(),!1},_updateVirtualBoundaries:function(h){var c=this,b=c.options,d,e,f,g,a;a={minWidth:i(b.minWidth)?b.minWidth:0,maxWidth:i(b.maxWidth)?b.maxWidth:Infinity,minHeight:i(b.minHeight)?b.minHeight:0,maxHeight:i(b.maxHeight)?b.maxHeight:Infinity};if(c._aspectRatio||h)d=a.minHeight*c.aspectRatio,f=a.minWidth/c.aspectRatio,e=a.maxHeight*c.aspectRatio,g=a.maxWidth/c.aspectRatio,d>a.minWidth&&(a.minWidth=d),f>a.minHeight&&(a.minHeight=f),e<a.maxWidth&&(a.maxWidth=e),g<a.maxHeight&&(a.maxHeight=g);c._vBoundaries=a},_updateCache:function(a){var b=this,c=b.options;b.offset=b.helper.offset(),i(a.left)&&(b.position.left=a.left),i(a.top)&&(b.position.top=a.top),i(a.height)&&(b.size.height=a.height),i(a.width)&&(b.size.width=a.width)},_updateRatio:function(a){var b=this,h=b.options,c=b.position,d=b.size,f=b.axis;return i(a.height)?(a.width=a.height*b.aspectRatio):i(a.width)&&(a.height=a.width/b.aspectRatio),f=="sw"&&(a.left=c.left+(d.width-a.width),a.top=e),f=="nw"&&(a.top=c.top+(d.height-a.height),a.left=c.left+(d.width-a.width)),a},_respectSize:function(a,p){var c=this,q=c.helper,b=c._vBoundaries,r=c._aspectRatio||p.shiftKey,d=c.axis,f=i(a.width)&&b.maxWidth&&b.maxWidth<a.width,g=i(a.height)&&b.maxHeight&&b.maxHeight<a.height,h=i(a.width)&&b.minWidth&&b.minWidth>a.width,j=i(a.height)&&b.minHeight&&b.minHeight>a.height;h&&(a.width=b.minWidth),j&&(a.height=b.minHeight),f&&(a.width=b.maxWidth),g&&(a.height=b.maxHeight);var k=c.originalPosition.left+c.originalSize.width,l=c.position.top+c.size.height,m=/sw|nw|w/.test(d),n=/nw|ne|n/.test(d);h&&m&&(a.left=k-b.minWidth),f&&m&&(a.left=k-b.maxWidth),j&&n&&(a.top=l-b.minHeight),g&&n&&(a.top=l-b.maxHeight);var o=!a.width&&!a.height;return o&&!a.left&&a.top?(a.top=e):o&&!a.top&&a.left&&(a.left=e),a},_proportionallyResize:function(){var c=this,i=c.options;if(!c._proportionallyResizeElements.length)return;for(var e=c.helper||c.element,f=0;f<c._proportionallyResizeElements.length;f++){var d=c._proportionallyResizeElements[f];if(!c.borderDif){var g=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],h=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];c.borderDif=a.map(g,function(a,c){var d=parseInt(a,b)||0,e=parseInt(h[c],b)||0;return d+e})}if(!a.browser.msie||!a(e).is(":hidden")&&!a(e).parents(":hidden").length)d.css({height:e.height()-c.borderDif[0]-c.borderDif[2]||0,width:e.width()-c.borderDif[1]-c.borderDif[3]||0});else continue}},_renderProxy:function(){var b=this,f=b.element,g=b.options;b.elementOffset=f.offset();if(b._helper){b.helper=b.helper||a('<div style="overflow:hidden;"></div>');var c=a.browser.msie&&a.browser.version<7,d=c?1:0,e=c?2:-1;b.helper.addClass(b._helper).css({width:b.element.outerWidth()+e,height:b.element.outerHeight()+e,position:r,left:b.elementOffset.left-d+j,top:b.elementOffset.top-d+j,zIndex:++g.zIndex}),b.helper.appendTo(p).disableSelection()}else b.helper=b.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(d,a){var f=this.options,b=this.originalSize,c=this.originalPosition;return{left:c.left+a,width:b.width-a}},n:function(d,e,a){var f=this.options,b=this.originalSize,c=this.originalPosition;return{top:c.top+a,height:b.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(c,d,e){var b=this;return a.extend(b._change.s.apply(b,arguments),b._change.e.apply(b,[c,d,e]))},sw:function(c,d,e){var b=this;return a.extend(b._change.s.apply(b,arguments),b._change.w.apply(b,[c,d,e]))},ne:function(c,d,e){var b=this;return a.extend(b._change.n.apply(b,arguments),b._change.e.apply(b,[c,d,e]))},nw:function(c,d,e){var b=this;return a.extend(b._change.n.apply(b,arguments),b._change.w.apply(b,[c,d,e]))}},_propagate:function(c,d){var b=this;a.ui.plugin.call(b,c,[d,b.ui()]),c!=g&&b._trigger(c,d,b.ui())},plugins:{},ui:function(){var a=this;return{originalElement:a.originalElement,element:a.element,helper:a.helper,position:a.position,size:a.size,originalSize:a.originalSize,originalPosition:a.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.22"}),a.ui.plugin.add(c,"alsoResize",{start:function(){var h=a(this).data(c),e=h.options,g=function(c){a(c).each(function(){var c=a(this);c.data(m,{width:parseInt(c.width(),b),height:parseInt(c.height(),b),left:parseInt(c.css(d),b),top:parseInt(c.css(f),b)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],g(e.alsoResize)):a.each(e.alsoResize,function(a){g(a)}):g(e.alsoResize)},resize:function(p,n){var b=a(this).data(c),g=b.options,h=b.originalSize,i=b.originalPosition,o={height:b.size.height-h.height||0,width:b.size.width-h.width||0,top:b.position.top-i.top||0,left:b.position.left-i.left||0},j=function(c,b){a(c).each(function(){var c=a(this),h=a(this).data(m),g={},i=b&&b.length?b:c.parents(n.originalElement[0]).length?[k,l]:[k,l,f,d];a.each(i,function(c,a){var b=(h[a]||0)+(o[a]||0);b&&b>=0&&(g[a]=b||e)}),c.css(g)})};typeof g.alsoResize=="object"&&!g.alsoResize.nodeType?a.each(g.alsoResize,function(a,b){j(a,b)}):j(g.alsoResize)},stop:function(){a(this).removeData(m)}}),a.ui.plugin.add(c,"animate",{stop:function(p){var h=a(this).data(c),j=h.options,i=h._proportionallyResizeElements,m=i.length&&/textarea/i.test(i[0].nodeName),q=m&&a.ui.hasScroll(i[0],d)?0:h.sizeDiff.height,r=m?0:h.sizeDiff.width,s={width:h.size.width-r,height:h.size.height-q},n=parseInt(h.element.css(d),b)+(h.position.left-h.originalPosition.left)||e,o=parseInt(h.element.css(f),b)+(h.position.top-h.originalPosition.top)||e;h.element.animate(a.extend(s,o&&n?{top:o,left:n}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var c={width:parseInt(h.element.css(k),b),height:parseInt(h.element.css(l),b),top:parseInt(h.element.css(f),b),left:parseInt(h.element.css(d),b)};i&&i.length&&a(i[0]).css({width:c.width,height:c.height}),h._updateCache(c),h._propagate(g,p)}})}}),a.ui.plugin.add(c,"containment",{start:function(){var b=a(this).data(c),j=b.options,k=b.element,f=j.containment,e=f instanceof a?f.get(0):/parent/.test(f)?k.parent().get(0):f;if(!e)return;b.containerElement=a(e);if(/document/.test(f)||f==document)b.containerOffset={left:0,top:0},b.containerPosition={left:0,top:0},b.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var g=a(e),h=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){h[a]=u(g.css("padding"+b))}),b.containerOffset=g.offset(),b.containerPosition=g.position(),b.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]};var i=b.containerOffset,l=b.containerSize.height,m=b.containerSize.width,n=a.ui.hasScroll(e,d)?e.scrollWidth:m,o=a.ui.hasScroll(e)?e.scrollHeight:l;b.parentData={element:e,left:i.left,top:i.top,width:n,height:o}}},resize:function(l){var b=a(this).data(c),m=b.options,q=b.containerSize,d=b.containerOffset,r=b.size,i=b.position,f=b._aspectRatio||l.shiftKey,e={top:0,left:0},j=b.containerElement;j[0]!=document&&/static/.test(j.css(h))&&(e=d),i.left<(b._helper?d.left:0)&&(b.size.width=b.size.width+(b._helper?b.position.left-d.left:b.position.left-e.left),f&&(b.size.height=b.size.width/b.aspectRatio),b.position.left=m.helper?d.left:0),i.top<(b._helper?d.top:0)&&(b.size.height=b.size.height+(b._helper?b.position.top-d.top:b.position.top),f&&(b.size.width=b.size.height*b.aspectRatio),b.position.top=b._helper?d.top:0),b.offset.left=b.parentData.left+b.position.left,b.offset.top=b.parentData.top+b.position.top;var g=Math.abs((b._helper?b.offset.left-e.left:b.offset.left-e.left)+b.sizeDiff.width),k=Math.abs((b._helper?b.offset.top-e.top:b.offset.top-d.top)+b.sizeDiff.height),n=b.containerElement.get(0)==b.element.parent().get(0),o=/relative|absolute/.test(b.containerElement.css(h));n&&o&&(g-=b.parentData.left),g+b.size.width>=b.parentData.width&&(b.size.width=b.parentData.width-g,f&&(b.size.height=b.size.width/b.aspectRatio)),k+b.size.height>=b.parentData.height&&(b.size.height=b.parentData.height-k,f&&(b.size.width=b.size.height*b.aspectRatio))},stop:function(){var b=a(this).data(c),e=b.options,o=b.position,f=b.containerOffset,g=b.containerPosition,i=b.containerElement,d=a(b.helper),j=d.offset(),k=d.outerWidth()-b.sizeDiff.width,l=d.outerHeight()-b.sizeDiff.height;b._helper&&!e.animate&&/relative/.test(i.css(h))&&a(this).css({left:j.left-g.left-f.left,width:k,height:l}),b._helper&&!e.animate&&/static/.test(i.css(h))&&a(this).css({left:j.left-g.left-f.left,width:k,height:l})}}),a.ui.plugin.add(c,"ghost",{start:function(){var b=a(this).data(c),d=b.options,e=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:t,height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof d.ghost=="string"?d.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data(c),f=b.options;b.ghost&&b.ghost.css({position:t,height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data(c),f=b.options;b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add(c,"grid",{resize:function(k){var b=a(this).data(c),d=b.options,j=b.size,e=b.originalSize,h=b.originalPosition,i=b.axis,m=d._aspectRatio||k.shiftKey;d.grid=typeof d.grid=="number"?[d.grid,d.grid]:d.grid;var f=Math.round((j.width-e.width)/(d.grid[0]||1))*(d.grid[0]||1),g=Math.round((j.height-e.height)/(d.grid[1]||1))*(d.grid[1]||1);/^(se|s|e)$/.test(i)?(b.size.width=e.width+f,b.size.height=e.height+g):/^(ne)$/.test(i)?(b.size.width=e.width+f,b.size.height=e.height+g,b.position.top=h.top-g):/^(sw)$/.test(i)?(b.size.width=e.width+f,b.size.height=e.height+g,b.position.left=h.left-f):(b.size.width=e.width+f,b.size.height=e.height+g,b.position.top=h.top-g,b.position.left=h.left-f)}});var u=function(a){return parseInt(a,b)||0},i=function(a){return!isNaN(parseInt(a,b))}})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.selectable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(e){var h="selecting",f="unselecting",b="ui-unselecting",d="ui-selecting",a="ui-selected",c="selectable-item",g="ui-selectee";e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var f=this,i=f;f.element.addClass("ui-selectable"),f.dragged=!1;var h;f.refresh=function(){h=e(i.options.filter,i.element[0]),h.addClass(g),h.each(function(){var f=e(this),g=f.offset();e.data(this,c,{element:this,$element:f,left:g.left,top:g.top,right:g.left+f.outerWidth(),bottom:g.top+f.outerHeight(),startselected:!1,selected:f.hasClass(a),selecting:f.hasClass(d),unselecting:f.hasClass(b)})})},f.refresh(),f.selectees=h.addClass(g),f._mouseInit(),f.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){var a=this;return a.selectees.removeClass(g).removeData(c),a.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),a._mouseDestroy(),a},_mouseStart:function(g){var i=this,j=i;i.opos=[g.pageX,g.pageY];if(i.options.disabled)return;var k=i.options;i.selectees=e(k.filter,i.element[0]),i._trigger("start",g),e(k.appendTo).append(i.helper),i.helper.css({left:g.clientX,top:g.clientY,width:0,height:0}),k.autoRefresh&&i.refresh(),i.selectees.filter(".ui-selected").each(function(){var d=e.data(this,c);d.startselected=!0,!g.metaKey&&!g.ctrlKey&&(d.$element.removeClass(a),d.selected=!1,d.$element.addClass(b),d.unselecting=!0,j._trigger(f,g,{unselecting:d.element}))}),e(g.target).parents().andSelf().each(function(){var i=e.data(this,c);if(i){var k=!g.metaKey&&!g.ctrlKey||!i.$element.hasClass(a);return i.$element.removeClass(k?b:a).addClass(k?d:b),i.unselecting=!k,i.selecting=k,i.selected=k,k?j._trigger(h,g,{selecting:i.element}):j._trigger(f,g,{unselecting:i.element}),!1}})},_mouseDrag:function(g){var i=this,n=i;i.dragged=!0;if(i.options.disabled)return;var o=i.options,j=i.opos[0],k=i.opos[1],l=g.pageX,m=g.pageY;if(j>l){var p=l;l=j,j=p}if(k>m){var p=m;m=k,k=p}return i.helper.css({left:j,top:k,width:l-j,height:m-k}),i.selectees.each(function(){var i=e.data(this,c);if(!i||i.element==n.element[0])return;var p=!1;o.tolerance=="touch"?(p=!(i.left>l||i.right<j||i.top>m||i.bottom<k)):o.tolerance=="fit"&&(p=i.left>j&&i.right<l&&i.top>k&&i.bottom<m),p?(i.selected&&(i.$element.removeClass(a),i.selected=!1),i.unselecting&&(i.$element.removeClass(b),i.unselecting=!1),i.selecting||(i.$element.addClass(d),i.selecting=!0,n._trigger(h,g,{selecting:i.element}))):(i.selecting&&((g.metaKey||g.ctrlKey)&&i.startselected?(i.$element.removeClass(d),i.selecting=!1,i.$element.addClass(a),i.selected=!0):(i.$element.removeClass(d),i.selecting=!1,i.startselected&&(i.$element.addClass(b),i.unselecting=!0),n._trigger(f,g,{unselecting:i.element}))),i.selected&&!g.metaKey&&!g.ctrlKey&&!i.startselected&&(i.$element.removeClass(a),i.selected=!1,i.$element.addClass(b),i.unselecting=!0,n._trigger(f,g,{unselecting:i.element})))}),!1},_mouseStop:function(g){var f=this,h=f;f.dragged=!1;var i=f.options;return e(".ui-unselecting",f.element[0]).each(function(){var a=e.data(this,c);a.$element.removeClass(b),a.unselecting=!1,a.startselected=!1,h._trigger("unselected",g,{unselected:a.element})}),e(".ui-selecting",f.element[0]).each(function(){var b=e.data(this,c);b.$element.removeClass(d).addClass(a),b.selecting=!1,b.selected=!0,b.startselected=!0,h._trigger("selected",g,{selected:b.element})}),f._trigger("stop",g),f.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.sortable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var d="fixed",E="relative",w="borderLeftWidth",v="borderTopWidth",p="top",D="paddingRight",C="paddingLeft",B="paddingBottom",A="paddingTop",u=".ui-sortable-helper",g="left",o="right",t="deactivate",b=10,s="change",r="pointer",n="up",f="down",j="ui-sortable-helper",m="zIndex",l="opacity",k="cursor",h="body",e="absolute",q="position",c=null,i="-item",z="original",y="auto",x="parent";a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:x,axis:!1,connectWith:!1,containment:!1,cursor:y,cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:z,items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this,b=a.options;a.containerCache={},a.element.addClass("ui-sortable"),a.refresh(),a.floating=a.items.length?b.axis==="x"||/left|right/.test(a.items[0].item.css("float"))||/inline|table-cell/.test(a.items[0].item.css("display")):!1,a.offset=a.element.offset(),a._mouseInit(),a.ready=!0},destroy:function(){var b=this;a.Widget.prototype.destroy.call(b),b.element.removeClass("ui-sortable ui-sortable-disabled"),b._mouseDestroy();for(var c=b.items.length-1;c>=0;c--)b.items[c].item.removeData(b.widgetName+i);return b},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,j){var b=this,f=b;if(b.reverting)return!1;if(b.options.disabled||b.options.type=="static")return!1;b._refreshItems(d);var e=c,g=b,k=a(d.target).parents().each(function(){if(a.data(this,f.widgetName+i)==g)return e=a(this),!1});a.data(d.target,f.widgetName+i)==g&&(e=a(d.target));if(!e)return!1;if(b.options.handle&&!j){var h=!1;a(b.options.handle,e).find("*").andSelf().each(function(){this==d.target&&(h=!0)});if(!h)return!1}return b.currentItem=e,b._removeCurrentsFromItems(),!0},_mouseStart:function(c,n,g){var b=this,d=b.options,i=b;b.currentContainer=b,b.refreshPositions(),b.helper=b._createHelper(c),b._cacheHelperProportions(),b._cacheMargins(),b.scrollParent=b.helper.scrollParent(),b.offset=b.currentItem.offset(),b.offset={top:b.offset.top-b.margins.top,left:b.offset.left-b.margins.left},a.extend(b.offset,{click:{left:c.pageX-b.offset.left,top:c.pageY-b.offset.top},parent:b._getParentOffset(),relative:b._getRelativeOffset()}),b.helper.css(q,e),b.cssPosition=b.helper.css(q),b.originalPosition=b._generatePosition(c),b.originalPageX=c.pageX,b.originalPageY=c.pageY,d.cursorAt&&b._adjustOffsetFromHelper(d.cursorAt),b.domPosition={prev:b.currentItem.prev()[0],parent:b.currentItem.parent()[0]},b.helper[0]!=b.currentItem[0]&&b.currentItem.hide(),b._createPlaceholder(),d.containment&&b._setContainment(),d.cursor&&(a(h).css(k)&&(b._storedCursor=a(h).css(k)),a(h).css(k,d.cursor)),d.opacity&&(b.helper.css(l)&&(b._storedOpacity=b.helper.css(l)),b.helper.css(l,d.opacity)),d.zIndex&&(b.helper.css(m)&&(b._storedZIndex=b.helper.css(m)),b.helper.css(m,d.zIndex)),b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset()),b._trigger("start",c,b._uiHash()),b._preserveHelperProportions||b._cacheHelperProportions();if(!g)for(var f=b.containers.length-1;f>=0;f--)b.containers[f]._trigger("activate",c,i._uiHash(b));return a.ui.ddmanager&&(a.ui.ddmanager.current=b),a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,c),b.dragging=!0,b.helper.addClass(j),b._mouseDrag(c),!0},_mouseDrag:function(d){var b=this;b.position=b._generatePosition(d),b.positionAbs=b._convertPositionTo(e),b.lastPositionAbs||(b.lastPositionAbs=b.positionAbs);if(b.options.scroll){var c=b.options,g=!1;b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"?(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?(b.scrollParent[0].scrollTop=g=b.scrollParent[0].scrollTop+c.scrollSpeed):d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=g=b.scrollParent[0].scrollTop-c.scrollSpeed),b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?(b.scrollParent[0].scrollLeft=g=b.scrollParent[0].scrollLeft+c.scrollSpeed):d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=g=b.scrollParent[0].scrollLeft-c.scrollSpeed)):(d.pageY-a(document).scrollTop()<c.scrollSensitivity?(g=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed)):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&(g=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),d.pageX-a(document).scrollLeft()<c.scrollSensitivity?(g=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed)):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(g=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),g!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d)}b.positionAbs=b._convertPositionTo(e);if(!b.options.axis||b.options.axis!="y")b.helper[0].style.left=b.position.left+"px";if(!b.options.axis||b.options.axis!="x")b.helper[0].style.top=b.position.top+"px";for(var j=b.items.length-1;j>=0;j--){var h=b.items[j],i=h.item[0],k=b._intersectsWithPointer(h);if(!k)continue;if(i!=b.currentItem[0]&&b.placeholder[k==1?"next":"prev"]()[0]!=i&&!a.ui.contains(b.placeholder[0],i)&&(b.options.type=="semi-dynamic"?!a.ui.contains(b.element[0],i):!0)){b.direction=k==1?f:n;if(b.options.tolerance==r||b._intersectsWithSides(h))b._rearrange(d,h);else break;b._trigger(s,d,b._uiHash());break}}return b._contactContainers(d),a.ui.ddmanager&&a.ui.ddmanager.drag(b,d),b._trigger("sort",d,b._uiHash()),b.lastPositionAbs=b.positionAbs,!1},_mouseStop:function(e,g){var c=this;if(!e)return;a.ui.ddmanager&&!c.options.dropBehaviour&&a.ui.ddmanager.drop(c,e);if(c.options.revert){var d=c,f=d.placeholder.offset();d.reverting=!0,a(c.helper).animate({left:f.left-c.offset.parent.left-d.margins.left+(c.offsetParent[0]==document.body?0:c.offsetParent[0].scrollLeft),top:f.top-c.offset.parent.top-d.margins.top+(c.offsetParent[0]==document.body?0:c.offsetParent[0].scrollTop)},parseInt(c.options.revert,b)||500,function(){d._clear(e)})}else c._clear(e,g);return!1},cancel:function(){var b=this,e=b;if(b.dragging){b._mouseUp({target:c}),b.options.helper==z?b.currentItem.css(b._storedCSS).removeClass(j):b.currentItem.show();for(var d=b.containers.length-1;d>=0;d--)b.containers[d]._trigger(t,c,e._uiHash(b)),b.containers[d].containerCache.over&&(b.containers[d]._trigger("out",c,e._uiHash(b)),b.containers[d].containerCache.over=0)}return b.placeholder&&(b.placeholder[0].parentNode&&b.placeholder[0].parentNode.removeChild(b.placeholder[0]),b.options.helper!=z&&b.helper&&b.helper[0].parentNode&&b.helper.remove(),a.extend(b,{helper:c,dragging:!1,reverting:!1,_noFinalSort:c}),b.domPosition.prev?a(b.domPosition.prev).after(b.currentItem):a(b.domPosition.parent).prepend(b.currentItem)),b},serialize:function(b){var d=this._getItemsAsjQuery(b&&b.connected),c=[];return b=b||{},a(d).each(function(){var d=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);d&&c.push((b.key||d[1]+"[]")+"="+(b.key&&b.expression?d[1]:d[2]))}),!c.length&&b.key&&c.push(b.key+"="),c.join("&")},toArray:function(b){var d=this._getItemsAsjQuery(b&&b.connected),c=[];return b=b||{},d.each(function(){c.push(a(b.item||this).attr(b.attribute||"id")||"")}),c},_intersectsWith:function(b){var a=this,c=a.positionAbs.left,k=c+a.helperProportions.width,d=a.positionAbs.top,l=d+a.helperProportions.height,e=b.left,g=e+b.width,f=b.top,h=f+b.height,i=a.offset.click.top,j=a.offset.click.left,m=d+i>f&&d+i<h&&c+j>e&&c+j<g;return a.options.tolerance==r||a.options.forcePointerForContainers||a.options.tolerance!=r&&a.helperProportions[a.floating?"width":"height"]>b[a.floating?"width":"height"]?m:e<c+a.helperProportions.width/2&&k-a.helperProportions.width/2<g&&f<d+a.helperProportions.height/2&&l-a.helperProportions.height/2<h},_intersectsWithPointer:function(c){var b=this,g=b.options.axis==="x"||a.ui.isOverAxis(b.positionAbs.top+b.offset.click.top,c.top,c.height),h=b.options.axis==="y"||a.ui.isOverAxis(b.positionAbs.left+b.offset.click.left,c.left,c.width),i=g&&h,d=b._getDragVerticalDirection(),e=b._getDragHorizontalDirection();return i?b.floating?e&&e==o||d==f?2:1:d&&(d==f?2:1):!1},_intersectsWithSides:function(c){var b=this,h=a.ui.isOverAxis(b.positionAbs.top+b.offset.click.top,c.top+c.height/2,c.height),i=a.ui.isOverAxis(b.positionAbs.left+b.offset.click.left,c.left+c.width/2,c.width),d=b._getDragVerticalDirection(),e=b._getDragHorizontalDirection();return b.floating&&e?e==o&&i||e==g&&!i:d&&(d==f&&h||d==n&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?f:n)},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?o:g)},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(l){var f=".ui-sortable-placeholder",b=this,m=b,j=[],g=[],h=b._connectWith();if(h&&l)for(var e=h.length-1;e>=0;e--)for(var k=a(h[e]),i=k.length-1;i>=0;i--){var d=a.data(k[i],b.widgetName);d&&d!=b&&!d.options.disabled&&g.push([a.isFunction(d.options.items)?d.options.items.call(d.element):a(d.options.items,d.element).not(u).not(f),d])}g.push([a.isFunction(b.options.items)?b.options.items.call(b.element,c,{options:b.options,item:b.currentItem}):a(b.options.items,b.element).not(u).not(f),b]);for(var e=g.length-1;e>=0;e--)g[e][0].each(function(){j.push(this)});return a(j)},_removeCurrentsFromItems:function(){var a=this;for(var d=a.currentItem.find(":data("+a.widgetName+"-item)"),b=0;b<a.items.length;b++)for(var c=0;c<d.length;c++)d[c]==a.items[b].item[0]&&a.items.splice(b,1)},_refreshItems:function(h){var b=this;b.items=[],b.containers=[b];var n=b.items,p=b,f=[[a.isFunction(b.options.items)?b.options.items.call(b.element[0],h,{item:b.currentItem}):a(b.options.items,b.element),b]],g=b._connectWith();if(g&&b.ready)for(var d=g.length-1;d>=0;d--)for(var j=a(g[d]),e=j.length-1;e>=0;e--){var c=a.data(j[e],b.widgetName);c&&c!=b&&!c.options.disabled&&(f.push([a.isFunction(c.options.items)?c.options.items.call(c.element[0],h,{item:b.currentItem}):a(c.options.items,c.element),c]),b.containers.push(c))}for(var d=f.length-1;d>=0;d--)for(var k=f[d][1],l=f[d][0],e=0,o=l.length;e<o;e++){var m=a(l[e]);m.data(b.widgetName+i,k),n.push({item:m,instance:k,width:0,height:0,left:0,top:0})}},refreshPositions:function(g){var b=this;b.offsetParent&&b.helper&&(b.offset.parent=b._getParentOffset());for(var c=b.items.length-1;c>=0;c--){var d=b.items[c];if(d.instance!=b.currentContainer&&b.currentContainer&&d.item[0]!=b.currentItem[0])continue;var f=b.options.toleranceElement?a(b.options.toleranceElement,d.item):d.item;g||(d.width=f.outerWidth(),d.height=f.outerHeight());var e=f.offset();d.left=e.left,d.top=e.top}if(b.options.custom&&b.options.custom.refreshContainers)b.options.custom.refreshContainers.call(b);else for(var c=b.containers.length-1;c>=0;c--){var e=b.containers[c].element.offset();b.containers[c].containerCache.left=e.left,b.containers[c].containerCache.top=e.top,b.containers[c].containerCache.width=b.containers[c].element.outerWidth(),b.containers[c].containerCache.height=b.containers[c].element.outerHeight()}return b},_createPlaceholder:function(f){var c=f||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass(j)[0];return e||(b.style.visibility="hidden"),b},update:function(f,a){if(e&&!d.forcePlaceholderSize)return;a.height()||a.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css(A)||0,b)-parseInt(c.currentItem.css(B)||0,b)),a.width()||a.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css(C)||0,b)-parseInt(c.currentItem.css(D)||0,b))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(h){var b=this;for(var j=c,d=c,e=b.containers.length-1;e>=0;e--){if(a.ui.contains(b.currentItem[0],b.containers[e].element[0]))continue;if(b._intersectsWith(b.containers[e].containerCache)){if(j&&a.ui.contains(b.containers[e].element[0],j.element[0]))continue;j=b.containers[e],d=e}else b.containers[e].containerCache.over&&(b.containers[e]._trigger("out",h,b._uiHash(b)),b.containers[e].containerCache.over=0)}if(!j)return;if(b.containers.length===1)b.containers[d]._trigger("over",h,b._uiHash(b)),b.containers[d].containerCache.over=1;else if(b.currentContainer!=b.containers[d]){for(var o=1e4,k=c,l=b.positionAbs[b.containers[d].floating?g:p],i=b.items.length-1;i>=0;i--){if(!a.ui.contains(b.containers[d].element[0],b.items[i].item[0]))continue;var m=b.containers[d].floating?b.items[i].item.offset().left:b.items[i].item.offset().top;Math.abs(m-l)<o&&(o=Math.abs(m-l),k=b.items[i],b.direction=m-l>0?f:n)}if(!k&&!b.options.dropOnEmpty)return;b.currentContainer=b.containers[d],k?b._rearrange(h,k,c,!0):b._rearrange(h,c,b.containers[d].element,!0),b._trigger(s,h,b._uiHash()),b.containers[d]._trigger(s,h,b._uiHash(b)),b.options.placeholder.update(b.currentContainer,b.placeholder),b.containers[d]._trigger("over",h,b._uiHash(b)),b.containers[d].containerCache.over=1}},_createHelper:function(e){var b=this,d=b.options,c=a.isFunction(d.helper)?a(d.helper.apply(b.element[0],[e,b.currentItem])):d.helper=="clone"?b.currentItem.clone():b.currentItem;return c.parents(h).length||a(d.appendTo!=x?d.appendTo:b.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==b.currentItem[0]&&(b._storedCSS={width:b.currentItem[0].style.width,height:b.currentItem[0].style.height,position:b.currentItem.css(q),top:b.currentItem.css(p),left:b.currentItem.css(g)}),(c[0].style.width==""||d.forceHelperSize)&&c.width(b.currentItem.width()),(c[0].style.height==""||d.forceHelperSize)&&c.height(b.currentItem.height()),c},_adjustOffsetFromHelper:function(b){var c=this;typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),g in b&&(c.offset.click.left=b.left+c.margins.left),o in b&&(c.offset.click.left=c.helperProportions.width-b.right+c.margins.left),p in b&&(c.offset.click.top=b.top+c.margins.top),"bottom"in b&&(c.offset.click.top=c.helperProportions.height-b.bottom+c.margins.top)},_getParentOffset:function(){var c=this;c.offsetParent=c.helper.offsetParent();var d=c.offsetParent.offset();c.cssPosition==e&&c.scrollParent[0]!=document&&a.ui.contains(c.scrollParent[0],c.offsetParent[0])&&(d.left+=c.scrollParent.scrollLeft(),d.top+=c.scrollParent.scrollTop());if(c.offsetParent[0]==document.body||c.offsetParent[0].tagName&&c.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(c.offsetParent.css(v),b)||0),left:d.left+(parseInt(c.offsetParent.css(w),b)||0)}},_getRelativeOffset:function(){var a=this;if(a.cssPosition==E){var c=a.currentItem.position();return{top:c.top-(parseInt(a.helper.css(p),b)||0)+a.scrollParent.scrollTop(),left:c.left-(parseInt(a.helper.css(g),b)||0)+a.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),b)||0,top:parseInt(this.currentItem.css("marginTop"),b)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f="document",c=this,e=c.options;e.containment==x&&(e.containment=c.helper[0].parentNode);if(e.containment==f||e.containment=="window")c.containment=[0-c.offset.relative.left-c.offset.parent.left,0-c.offset.relative.top-c.offset.parent.top,a(e.containment==f?document:window).width()-c.helperProportions.width-c.margins.left,(a(e.containment==f?document:window).height()||document.body.parentNode.scrollHeight)-c.helperProportions.height-c.margins.top];if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0],g=a(e.containment).offset(),h=a(d).css("overflow")!="hidden";c.containment=[g.left+(parseInt(a(d).css(w),b)||0)+(parseInt(a(d).css(C),b)||0)-c.margins.left,g.top+(parseInt(a(d).css(v),b)||0)+(parseInt(a(d).css(A),b)||0)-c.margins.top,g.left+(h?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(w),b)||0)-(parseInt(a(d).css(D),b)||0)-c.helperProportions.width-c.margins.left,g.top+(h?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(v),b)||0)-(parseInt(a(d).css(B),b)||0)-c.helperProportions.height-c.margins.top]}},_convertPositionTo:function(i,f){var b=this;f||(f=b.position);var c=i==e?1:-1,j=b.options,g=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,h=/(html|body)/i.test(g[0].tagName);return{top:f.top+b.offset.relative.top*c+b.offset.parent.top*c-(a.browser.safari&&b.cssPosition==d?0:(b.cssPosition==d?-b.scrollParent.scrollTop():h?0:g.scrollTop())*c),left:f.left+b.offset.relative.left*c+b.offset.parent.left*c-(a.browser.safari&&b.cssPosition==d?0:(b.cssPosition==d?-b.scrollParent.scrollLeft():h?0:g.scrollLeft())*c)}},_generatePosition:function(h){var b=this,c=b.options,k=b.cssPosition==e&&(b.scrollParent[0]==document||!a.ui.contains(b.scrollParent[0],b.offsetParent[0]))?b.offsetParent:b.scrollParent,l=/(html|body)/i.test(k[0].tagName);b.cssPosition==E&&(b.scrollParent[0]==document||b.scrollParent[0]==b.offsetParent[0])&&(b.offset.relative=b._getRelativeOffset());var i=h.pageX,j=h.pageY;if(b.originalPosition){b.containment&&(h.pageX-b.offset.click.left<b.containment[0]&&(i=b.containment[0]+b.offset.click.left),h.pageY-b.offset.click.top<b.containment[1]&&(j=b.containment[1]+b.offset.click.top),h.pageX-b.offset.click.left>b.containment[2]&&(i=b.containment[2]+b.offset.click.left),h.pageY-b.offset.click.top>b.containment[3]&&(j=b.containment[3]+b.offset.click.top));if(c.grid){var f=b.originalPageY+Math.round((j-b.originalPageY)/c.grid[1])*c.grid[1];j=b.containment?f-b.offset.click.top<b.containment[1]||f-b.offset.click.top>b.containment[3]?f-b.offset.click.top<b.containment[1]?f+c.grid[1]:f-c.grid[1]:f:f;var g=b.originalPageX+Math.round((i-b.originalPageX)/c.grid[0])*c.grid[0];i=b.containment?g-b.offset.click.left<b.containment[0]||g-b.offset.click.left>b.containment[2]?g-b.offset.click.left<b.containment[0]?g+c.grid[0]:g-c.grid[0]:g:g}}return{top:j-b.offset.click.top-b.offset.relative.top-b.offset.parent.top+(a.browser.safari&&b.cssPosition==d?0:b.cssPosition==d?-b.scrollParent.scrollTop():l?0:k.scrollTop()),left:i-b.offset.click.left-b.offset.relative.left-b.offset.parent.left+(a.browser.safari&&b.cssPosition==d?0:b.cssPosition==d?-b.scrollParent.scrollLeft():l?0:k.scrollLeft())}},_rearrange:function(h,b,c,e){var a=this;c?c[0].appendChild(a.placeholder[0]):b.item[0].parentNode.insertBefore(a.placeholder[0],a.direction==f?b.item[0]:b.item[0].nextSibling),a.counter=a.counter?++a.counter:1;var d=a,g=a.counter;window.setTimeout(function(){g==d.counter&&d.refreshPositions(!e)},0)},_clear:function(g,f){var i="beforeStop",b=this;b.reverting=!1;var e=[],n=b;!b._noFinalSort&&b.currentItem.parent().length&&b.placeholder.before(b.currentItem),b._noFinalSort=c;if(b.helper[0]==b.currentItem[0]){for(var d in b._storedCSS)if(b._storedCSS[d]==y||b._storedCSS[d]=="static")b._storedCSS[d]="";b.currentItem.css(b._storedCSS).removeClass(j)}else b.currentItem.show();b.fromOutside&&!f&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(b.fromOutside||b.domPosition.prev!=b.currentItem.prev().not(u)[0]||b.domPosition.parent!=b.currentItem.parent()[0])&&!f&&e.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(b.element[0],b.currentItem[0])){f||e.push(function(a){this._trigger("remove",a,this._uiHash())});for(var d=b.containers.length-1;d>=0;d--)a.ui.contains(b.containers[d].element[0],b.currentItem[0])&&!f&&(e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(b,b.containers[d])),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(b,b.containers[d])))}for(var d=b.containers.length-1;d>=0;d--)f||e.push(function(a){return function(b){a._trigger(t,b,this._uiHash(this))}}.call(b,b.containers[d])),b.containers[d].containerCache.over&&(e.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(b,b.containers[d])),b.containers[d].containerCache.over=0);b._storedCursor&&a(h).css(k,b._storedCursor),b._storedOpacity&&b.helper.css(l,b._storedOpacity),b._storedZIndex&&b.helper.css(m,b._storedZIndex==y?"":b._storedZIndex),b.dragging=!1;if(b.cancelHelperRemoval){if(!f){b._trigger(i,g,b._uiHash());for(var d=0;d<e.length;d++)e[d].call(b,g);b._trigger("stop",g,b._uiHash())}return b.fromOutside=!1,!1}f||b._trigger(i,g,b._uiHash()),b.placeholder[0].parentNode.removeChild(b.placeholder[0]),b.helper[0]!=b.currentItem[0]&&b.helper.remove(),b.helper=c;if(!f){for(var d=0;d<e.length;d++)e[d].call(b,g);b._trigger("stop",g,b._uiHash())}return b.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(d){var b=d||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:d?d.element:c}}}),a.extend(a.ui.sortable,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.accordion.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var f="overflow",e="height",l="ui-accordion-icons",d=".ui-icon",k=".accordion",c="tabIndex",i="true",h="false",b="role",g="ui-accordion-content-active",j="ui-accordion ui-widget ui-helper-reset";a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var l="ui-state-focus",f="ui-state-hover",d=this,e=d.options;d.running=0,d.element.addClass(j).children("li").addClass("ui-accordion-li-fix"),d.headers=d.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(e.disabled)return;a(this).addClass(f)}).bind("mouseleave.accordion",function(){if(e.disabled)return;a(this).removeClass(f)}).bind("focus.accordion",function(){if(e.disabled)return;a(this).addClass(l)}).bind("blur.accordion",function(){if(e.disabled)return;a(this).removeClass(l)}),d.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(e.navigation){var m=d.element.find("a").filter(e.navigationFilter).eq(0);if(m.length){var n=m.closest(".ui-accordion-header");n.length?(d.active=n):(d.active=m.closest(".ui-accordion-content").prev())}}d.active=d._findActive(d.active||e.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),d.active.next().addClass(g),d._createIcons(),d.resize(),d.element.attr(b,"tablist"),d.headers.attr(b,"tab").bind("keydown.accordion",function(a){return d._keydown(a)}).next().attr(b,"tabpanel"),d.headers.not(d.active||"").attr({"aria-expanded":h,"aria-selected":h,tabIndex:-1}).next().hide(),d.active.length?d.active.attr({"aria-expanded":i,"aria-selected":i,tabIndex:0}):d.headers.eq(0).attr(c,0),a.browser.safari||d.headers.find("a").attr(c,-1),e.event&&d.headers.bind(e.event.split(" ").join(".accordion ")+k,function(a){d._clickHandler.call(d,a,this),a.preventDefault()})},_createIcons:function(){var b=this,c=b.options;c.icons&&(a("<span></span>").addClass("ui-icon "+c.icons.header).prependTo(b.headers),b.active.children(d).toggleClass(c.icons.header).toggleClass(c.icons.headerSelected),b.element.addClass(l))},_destroyIcons:function(){this.headers.children(d).remove(),this.element.removeClass(l)},destroy:function(){var d=this,f=d.options;d.element.removeClass(j).removeAttr(b),d.headers.unbind(k).removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr(b).removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr(c),d.headers.find("a").removeAttr(c),d._destroyIcons();var g=d.headers.next().css("display","").removeAttr(b).removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(f.autoHeight||f.fillHeight)&&g.css(e,""),a.Widget.prototype.destroy.call(d)},_setOption:function(c,d){var b=this;a.Widget.prototype._setOption.apply(b,arguments),c=="active"&&b.activate(d),c=="icons"&&(b._destroyIcons(),d&&b._createIcons()),c=="disabled"&&b.headers.add(b.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){var d=this;if(d.options.disabled||b.altKey||b.ctrlKey)return;var e=a.ui.keyCode,g=d.headers.length,h=d.headers.index(b.target),f=!1;switch(b.keyCode){case e.RIGHT:case e.DOWN:f=d.headers[(h+1)%g];break;case e.LEFT:case e.UP:f=d.headers[(h-1+g)%g];break;case e.SPACE:case e.ENTER:d._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr(c,-1),a(f).attr(c,0),f.focus(),!1):!0},resize:function(){var b=this,d=b.options,c;if(d.fillSpace){if(a.browser.msie){var e=b.element.parent().css(f);b.element.parent().css(f,"hidden")}c=b.element.parent().height(),a.browser.msie&&b.element.parent().css(f,e),b.headers.each(function(){c-=a(this).outerHeight(!0)}),b.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css(f,"auto")}else d.autoHeight&&(c=0,b.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return b},activate:function(b){var a=this;a.options.active=b;var c=a._findActive(b)[0];return a._clickHandler({target:c},c),a},_findActive:function(b){var c=this;return b?typeof b=="number"?c.headers.filter(":eq("+b+")"):c.headers.not(c.headers.not(b)):b===!1?a([]):c.headers.filter(":eq(0)")},_clickHandler:function(l,n){var i="ui-state-default ui-corner-all",h="ui-state-active ui-corner-top",b=this,c=b.options;if(c.disabled)return;if(!l.target){if(!c.collapsible)return;b.active.removeClass(h).addClass(i).children(d).removeClass(c.icons.headerSelected).addClass(c.icons.header),b.active.next().addClass(g);var j=b.active.next(),m={options:c,newHeader:a([]),oldHeader:c.active,newContent:a([]),oldContent:j},k=b.active=a([]);b._toggle(k,j,m);return}var e=a(l.currentTarget||n),f=e[0]===b.active[0];c.active=c.collapsible&&f?!1:b.headers.index(e);if(b.running||!c.collapsible&&f)return;var o=b.active,k=e.next(),j=b.active.next(),m={options:c,newHeader:f&&c.collapsible?a([]):e,oldHeader:b.active,newContent:f&&c.collapsible?a([]):k,oldContent:j},p=b.headers.index(b.active[0])>b.headers.index(e[0]);b.active=f?a([]):e,b._toggle(k,j,m,f,p),o.removeClass(h).addClass(i).children(d).removeClass(c.icons.headerSelected).addClass(c.icons.header),f||(e.removeClass(i).addClass(h).children(d).removeClass(c.icons.header).addClass(c.icons.headerSelected),e.next().addClass(g));return},_toggle:function(f,e,n,l,m){var c=this,b=c.options;c.toShow=f,c.toHide=e,c.data=n;var k=function(){return!c?void 0:c._completed.apply(c,arguments)};c._trigger("changestart",null,c.data),c.running=e.size()===0?f.size():e.size();if(b.animated){var g={};b.collapsible&&l?(g={toShow:a([]),toHide:e,complete:k,down:m,autoHeight:b.autoHeight||b.fillSpace}):(g={toShow:f,toHide:e,complete:k,down:m,autoHeight:b.autoHeight||b.fillSpace}),b.proxied||(b.proxied=b.animated),b.proxiedDuration||(b.proxiedDuration=b.duration),b.animated=a.isFunction(b.proxied)?b.proxied(g):b.proxied,b.duration=a.isFunction(b.proxiedDuration)?b.proxiedDuration(g):b.proxiedDuration;var j=a.ui.accordion.animations,o=b.duration,d=b.animated;d&&!j[d]&&!a.easing[d]&&(d="slide"),j[d]||(j[d]=function(a){this.slide(a,{easing:d,duration:o||700})}),j[d](g)}else b.collapsible&&l?f.toggle():(e.hide(),f.show()),k(!0);e.prev().attr({"aria-expanded":h,"aria-selected":h,tabIndex:-1}).blur(),f.prev().attr({"aria-expanded":i,"aria-selected":i,tabIndex:0}).focus()},_completed:function(b){var a=this;a.running=b?0:--a.running;if(a.running)return;a.options.clearStyle&&a.toShow.add(a.toHide).css({height:"",overflow:""}),a.toHide.removeClass(g),a.toHide.length&&(a.toHide.parent()[0].className=a.toHide.parent()[0].className),a._trigger("change",null,a.data)}}),a.extend(a.ui.accordion,{version:"1.8.22",animations:{slide:function(b,l){var c="hide",g="show";b=a.extend({easing:"swing",duration:300},b,l);if(!b.toHide.size()){b.toShow.animate({height:g,paddingTop:g,paddingBottom:g},b);return}if(!b.toShow.size()){b.toHide.animate({height:c,paddingTop:c,paddingBottom:c},b);return}var m=b.toShow.css(f),i=0,h={},j={},n=[e,"paddingTop","paddingBottom"],k,d=b.toShow;k=d[0].style.width,d.width(d.parent().width()-parseFloat(d.css("paddingLeft"))-parseFloat(d.css("paddingRight"))-(parseFloat(d.css("borderLeftWidth"))||0)-(parseFloat(d.css("borderRightWidth"))||0)),a.each(n,function(f,d){j[d]=c;var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);h[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(j,{step:function(c,a){a.prop==e&&(i=a.end-a.start===0?0:(a.now-a.start)/(a.end-a.start)),b.toShow[0].style[a.prop]=i*h[a.prop].value+h[a.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css(e,""),b.toShow.css({width:k,overflow:m}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.autocomplete.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var g="ui-autocomplete-loading",i="beforeunload",c=":visible",d="item.autocomplete",e="autocomplete",h="ui-autocomplete-input",b=null,f="body",j=0;a.widget("ui.autocomplete",{options:{appendTo:f,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:b},pending:0,_create:function(){var j=this,g=j,l=j.element[0].ownerDocument,k;j.isMultiLine=j.element.is("textarea"),j.element.addClass(h).attr(e,"off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(g.options.disabled||g.element.propAttr("readOnly"))return;k=!1;var d=a.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:g._move("previousPage",c);break;case d.PAGE_DOWN:g._move("nextPage",c);break;case d.UP:g._keyEvent("previous",c);break;case d.DOWN:g._keyEvent("next",c);break;case d.ENTER:case d.NUMPAD_ENTER:g.menu.active&&(k=!0,c.preventDefault());case d.TAB:if(!g.menu.active)return;g.menu.select(c);break;case d.ESCAPE:g.element.val(g.term),g.close(c);break;default:clearTimeout(g.searching),g.searching=setTimeout(function(){g.term!=g.element.val()&&(g.selectedItem=b,g.search(b,c))},g.options.delay)}}).bind("keypress.autocomplete",function(a){k&&(k=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(g.options.disabled)return;g.selectedItem=b,g.previous=g.element.val()}).bind("blur.autocomplete",function(a){if(g.options.disabled)return;clearTimeout(g.searching),g.closing=setTimeout(function(){g.close(a),g._change(a)},150)}),j._initSource(),j.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(j.options.appendTo||f,l)[0]).mousedown(function(c){var b=g.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==g.element[0]&&c.target!==b&&!a.ui.contains(b,c.target)&&g.close()})},1),setTimeout(function(){clearTimeout(g.closing)},13)}).menu({focus:function(a,c){var b=c.item.data(d);!1!==g._trigger("focus",a,{item:b})&&/^key/.test(a.originalEvent.type)&&g.element.val(b.value)},selected:function(b,e){var a=e.item.data(d),c=g.previous;g.element[0]!==l.activeElement&&(g.element.focus(),g.previous=c,setTimeout(function(){g.previous=c,g.selectedItem=a},1)),!1!==g._trigger("select",b,{item:a})&&g.element.val(a.value),g.term=g.element.val(),g.close(b),g.selectedItem=a},blur:function(){g.menu.element.is(c)&&g.element.val()!==g.term&&g.element.val(g.term)}}).zIndex(j.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&j.menu.element.bgiframe(),g.beforeunloadHandler=function(){g.element.removeAttr(e)},a(window).bind(i,g.beforeunloadHandler)},destroy:function(){var b=this;b.element.removeClass(h).removeAttr(e).removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),b.menu.element.remove(),a(window).unbind(i,b.beforeunloadHandler),a.Widget.prototype.destroy.call(b)},_setOption:function(c,d){var b=this;a.Widget.prototype._setOption.apply(b,arguments),c==="source"&&b._initSource(),c==="appendTo"&&b.menu.element.appendTo(a(d||f,b.element[0].ownerDocument)[0]),c==="disabled"&&d&&b.xhr&&b.xhr.abort()},_initSource:function(){var b=this,c=b,d,e;a.isArray(b.options.source)?(d=b.options.source,b.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof b.options.source=="string"?(e=b.options.source,b.source=function(d,b){c.xhr&&c.xhr.abort(),c.xhr=a.ajax({url:e,data:d,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):(b.source=b.options.source)},search:function(c,d){var a=this;c=c!=b?c:a.element.val(),a.term=a.element.val();if(c.length<a.options.minLength)return a.close(d);clearTimeout(a.closing);return a._trigger("search",d)===!1?void 0:a._search(c)},_search:function(b){var a=this;a.pending++,a.element.addClass(g),a.source({term:b},a._response())},_response:function(){var a=this,b=++j;return function(c){b===j&&a.__response(c),a.pending--,a.pending||a.element.removeClass(g)}},__response:function(b){var a=this;!a.options.disabled&&b&&b.length?(b=a._normalize(b),a._suggest(b),a._trigger("open")):a.close()},close:function(b){var a=this;clearTimeout(a.closing),a.menu.element.is(c)&&(a.menu.element.hide(),a.menu.deactivate(),a._trigger("close",b))},_change:function(b){var a=this;a.previous!==a.element.val()&&a._trigger("change",b,{item:a.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(d){var b=this,c=b.menu.element.empty().zIndex(b.element.zIndex()+1);b._renderMenu(c,d),b.menu.deactivate(),b.menu.refresh(),c.show(),b._resizeMenu(),c.position(a.extend({of:b.element},b.options.position)),b.options.autoFocus&&b.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(c,a){d._renderItem(b,a)})},_renderItem:function(c,b){return a("<li></li>").data(d,b).append(a("<a></a>").text(b.label)).appendTo(c)},_move:function(d,e){var a=this;if(!a.menu.element.is(c)){a.search(b,e);return}if(a.menu.first()&&/^previous/.test(d)||a.menu.last()&&/^next/.test(d)){a.element.val(a.term),a.menu.deactivate();return}a.menu[d](e)},widget:function(){return this.menu.element},_keyEvent:function(b,a){if(!this.isMultiLine||this.menu.element.is(c))this._move(b,a),a.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(b){var a=".ui-menu-item",d=".ui-menu-item:last",c=".ui-menu-item:first",f="ui-state-hover",e="ui-active-menuitem";b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":e}).click(function(c){if(!b(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),a.select(c)}),this.refresh()},refresh:function(){var a=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){a.activate(c,b(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(h,b){var a=this;a.deactivate();if(a.hasScroll()){var c=b.offset().top-a.element.offset().top,d=a.element.scrollTop(),g=a.element.height();c<0?a.element.scrollTop(d+c):c>=g&&a.element.scrollTop(d+c-g+b.height())}a.active=b.eq(0).children("a").addClass(f).attr("id",e).end(),a._trigger("focus",h,{item:b})},deactivate:function(){var a=this;if(!a.active)return;a.active.children("a").removeClass(f).removeAttr("id"),a._trigger("blur"),a.active=null},next:function(a){this.move("next",c,a)},previous:function(a){this.move("prev",d,a)},first:function(){return this.active&&!this.active.prevAll(a).length},last:function(){return this.active&&!this.active.nextAll(a).length},move:function(f,d,c){var b=this;if(!b.active){b.activate(c,b.element.children(d));return}var e=b.active[f+"All"](a).eq(0);e.length?b.activate(c,e):b.activate(c,b.element.children(d))},nextPage:function(f){var e=this;if(e.hasScroll()){if(!e.active||e.last()){e.activate(f,e.element.children(c));return}var h=e.active.offset().top,i=e.element.height(),g=e.element.children(a).filter(function(){var a=b(this).offset().top-h-i+b(this).height();return a<10&&a>-10});g.length||(g=e.element.children(d)),e.activate(f,g)}else e.activate(f,e.element.children(a).filter(!e.active||e.last()?":first":":last"))},previousPage:function(f){var e=this;if(e.hasScroll()){if(!e.active||e.first()){e.activate(f,e.element.children(d));return}var h=e.active.offset().top,i=e.element.height(),g=e.element.children(a).filter(function(){var a=b(this).offset().top-h+i-b(this).height();return a<10&&a>-10});g.length||(g=e.element.children(c)),e.activate(f,g)}else e.activate(f,e.element.children(a).filter(!e.active||e.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.button.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(b){var q="ui-buttonset",k=":checked",p="ui-helper-hidden-accessible",n="input",j="false",e="widget",i="true",c="aria-pressed",a="ui-state-active",h="radio",g="checkbox",m="title",d="disabled",f=null,l=":ui-button",r,s,t,o,u="ui-button ui-widget ui-state-default ui-corner-all",x="ui-state-hover ui-state-active ",v="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",y=function(){var a=b(this).find(l);setTimeout(function(){a.button("refresh")},1)},w=function(a){var c=a.name,e=a.form,d=b([]);return c&&(e?(d=b(e).find("[name='"+c+"']")):(d=b("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form}))),d};b.widget("ui.button",{options:{disabled:f,text:!0,label:f,icons:{primary:f,secondary:f}},_create:function(){var z="mouseup.button",x="mousedown.button",p="click.button",q="ui-state-hover",v="reset.button",k=this;k.element.closest("form").unbind(v).bind(v,y),typeof k.options.disabled!="boolean"?(k.options.disabled=!!k.element.propAttr(d)):k.element.propAttr(d,k.options.disabled),k._determineButtonType(),k.hasTitle=!!k.buttonElement.attr(m);var n=k,l=k.options,A=k.type===g||k.type===h,C=q+(A?"":" ui-state-active"),B="ui-state-focus";l.label===f&&(l.label=k.buttonElement.html()),k.buttonElement.addClass(u).attr("role","button").bind("mouseenter.button",function(){if(l.disabled)return;b(this).addClass(q),this===r&&b(this).addClass(a)}).bind("mouseleave.button",function(){if(l.disabled)return;b(this).removeClass(C)}).bind(p,function(a){l.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),k.element.bind("focus.button",function(){n.buttonElement.addClass(B)}).bind("blur.button",function(){n.buttonElement.removeClass(B)}),A&&(k.element.bind("change.button",function(){if(o)return;n.refresh()}),k.buttonElement.bind(x,function(a){if(l.disabled)return;o=!1,s=a.pageX,t=a.pageY}).bind(z,function(a){if(l.disabled)return;if(s!==a.pageX||t!==a.pageY)o=!0})),k.type===g?k.buttonElement.bind(p,function(){if(l.disabled||o)return!1;b(this).toggleClass(a),n.buttonElement.attr(c,n.element[0].checked)}):k.type===h?k.buttonElement.bind(p,function(){if(l.disabled||o)return!1;b(this).addClass(a),n.buttonElement.attr(c,i);var d=n.element[0];w(d).not(d).map(function(){return b(this).button(e)[0]}).removeClass(a).attr(c,j)}):(k.buttonElement.bind(x,function(){if(l.disabled)return!1;b(this).addClass(a),r=this,b(document).one("mouseup",function(){r=f})}).bind(z,function(){if(l.disabled)return!1;b(this).removeClass(a)}).bind("keydown.button",function(c){if(l.disabled)return!1;(c.keyCode==b.ui.keyCode.SPACE||c.keyCode==b.ui.keyCode.ENTER)&&b(this).addClass(a)}).bind("keyup.button",function(){b(this).removeClass(a)}),k.buttonElement.is("a")&&k.buttonElement.keyup(function(a){a.keyCode===b.ui.keyCode.SPACE&&b(this).click()})),k._setOption(d,l.disabled),k._resetButton()},_determineButtonType:function(){var b=this;b.element.is(":checkbox")?(b.type=g):b.element.is(":radio")?(b.type=h):b.element.is(n)?(b.type=n):(b.type="button");if(b.type===g||b.type===h){var d=b.element.parents().filter(":last"),e="label[for='"+b.element.attr("id")+"']";b.buttonElement=d.find(e),b.buttonElement.length||(d=d.length?d.siblings():b.element.siblings(),b.buttonElement=d.filter(e),b.buttonElement.length||(b.buttonElement=d.find(e))),b.element.addClass(p);var f=b.element.is(k);f&&b.buttonElement.addClass(a),b.buttonElement.attr(c,f)}else b.buttonElement=b.element},widget:function(){return this.buttonElement},destroy:function(){var a=this;a.element.removeClass(p),a.buttonElement.removeClass(u+" "+x+" "+v).removeAttr("role").removeAttr(c).html(a.buttonElement.find(".ui-button-text").html()),a.hasTitle||a.buttonElement.removeAttr(m),b.Widget.prototype.destroy.call(a)},_setOption:function(c,e){var a=this;b.Widget.prototype._setOption.apply(a,arguments);if(c===d){e?a.element.propAttr(d,!0):a.element.propAttr(d,!1);return}a._resetButton()},refresh:function(){var f=this,l=f.element.is(":disabled");l!==f.options.disabled&&f._setOption(d,l),f.type===h?w(f.element[0]).each(function(){b(this).is(k)?b(this).button(e).addClass(a).attr(c,i):b(this).button(e).removeClass(a).attr(c,j)}):f.type===g&&(f.element.is(k)?f.buttonElement.addClass(a).attr(c,i):f.buttonElement.removeClass(a).attr(c,j))},_resetButton:function(){var e="'></span>",a=this;if(a.type===n){a.options.label&&a.element.val(a.options.label);return}var d=a.buttonElement.removeClass(v),h=b("<span></span>",a.element[0].ownerDocument).addClass("ui-button-text").html(a.options.label).appendTo(d.empty()).text(),c=a.options.icons,g=c.primary&&c.secondary,f=[];c.primary||c.secondary?(a.options.text&&f.push("ui-button-text-icon"+(g?"s":c.primary?"-primary":"-secondary")),c.primary&&d.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+e),c.secondary&&d.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+e),a.options.text||(f.push(g?"ui-button-icons-only":"ui-button-icon-only"),a.hasTitle||d.attr(m,h))):f.push("ui-button-text-only"),d.addClass(f.join(" "))}}),b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass(q)},_init:function(){this.refresh()},_setOption:function(a,c){a===d&&this.buttons.button("option",a,c),b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var c="ui-corner-left",a="ui-corner-right",d=this,f=d.element.css("direction")==="rtl";d.buttons=d.element.find(d.options.items).filter(l).button("refresh").end().not(l).button().end().map(function(){return b(this).button(e)[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(f?a:c).end().filter(":last").addClass(f?c:a).end().end()},destroy:function(){this.element.removeClass(q),this.buttons.map(function(){return b(this).button(e)[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),b.Widget.prototype.destroy.call(this)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.dialog.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,s){var c="px",q=".dialog-overlay",l="option",k=":data(resizable)",p=":visible",j="position",o="document",e="z-index",n="beforeClose",m="ui-dialog-content ui-widget-content",d="<div></div>",g="string",f="title",b="auto",i=null,h="close",r="ui-dialog ui-widget ui-widget-content ui-corner-all ",t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},u={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},v=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:h,dialogClass:"",draggable:!0,hide:i,height:b,maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:i,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){var k="<span></span>",i="ui-state-focus",h="ui-state-hover",e=this;e.originalTitle=e.element.attr(f),typeof e.originalTitle!=g&&(e.originalTitle=""),e.options.title=e.options.title||e.originalTitle;var b=e,c=b.options,p=c.title||"&#160;",o=a.ui.dialog.getTitleId(b.element),n=(b.uiDialog=a(d)).appendTo(document.body).hide().addClass(r+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){c.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}).attr({role:"dialog","aria-labelledby":o}).mousedown(function(a){b.moveToTop(!1,a)}),q=b.element.show().removeAttr(f).addClass(m).appendTo(n),l=(b.uiDialogTitlebar=a(d)).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(n),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass(h)},function(){j.removeClass(h)}).focus(function(){j.addClass(i)}).blur(function(){j.removeClass(i)}).click(function(a){return b.close(a),!1}).appendTo(l),s=(b.uiDialogTitlebarCloseText=a(k)).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(j),t=a(k).addClass("ui-dialog-title").attr("id",o).html(p).prependTo(l);a.isFunction(c.beforeclose)&&!a.isFunction(c.beforeClose)&&(c.beforeClose=c.beforeclose),l.find("*").add(l).disableSelection(),c.draggable&&a.fn.draggable&&b._makeDraggable(),c.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(c.buttons),b._isOpen=!1,a.fn.bgiframe&&n.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass(m).hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr(f,a.originalTitle),a},widget:function(){return this.uiDialog},close:function(d){var b=this,c,f;return!1===b._trigger(n,d)?void 0:(b.overlay&&b.overlay.destroy(),b.uiDialog.unbind("keypress.ui-dialog"),b._isOpen=!1,b.options.hide?b.uiDialog.hide(b.options.hide,function(){b._trigger(h,d)}):(b.uiDialog.hide(),b._trigger(h,d)),a.ui.dialog.overlay.resize(),b.options.modal&&(c=0,a(".ui-dialog").each(function(){this!==b.uiDialog[0]&&(f=a(this).css(e),isNaN(f)||(c=Math.max(c,f)))}),a.ui.dialog.maxZ=c),b)},isOpen:function(){return this._isOpen},moveToTop:function(g,d){var b=this,c=b.options,f;return c.modal&&!g||!c.stack&&!c.modal?b._trigger("focus",d):(c.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=c.zIndex),b.overlay&&(a.ui.dialog.maxZ+=1,b.overlay.$el.css(e,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:b.element.scrollTop(),scrollLeft:b.element.scrollLeft()},a.ui.dialog.maxZ+=1,b.uiDialog.css(e,a.ui.dialog.maxZ),b.element.attr(f),b._trigger("focus",d),b)},open:function(){var c=":tabbable";if(this._isOpen)return;var b=this,d=b.options,e=b.uiDialog;return b.overlay=d.modal?new a.ui.dialog.overlay(b):i,b._size(),b._position(d.position),e.show(d.show),b.moveToTop(!0),d.modal&&e.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var d=a(c,this),e=d.filter(":first"),f=d.filter(":last");return b.target===f[0]&&!b.shiftKey?(e.focus(1),!1):b.target===e[0]&&b.shiftKey?(f.focus(1),!1):void 0}),a(b.element.find(c).get().concat(e.find(".ui-dialog-buttonpane :tabbable").get().concat(e.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,e=!1,f=a(d).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a(d).addClass("ui-dialog-buttonset").appendTo(f);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==i&&a.each(b,function(){return!(e=!0)}),e&&(a.each(b,function(e,b){b=a.isFunction(b)?{click:b,text:e}:b;var d=a('<button type="button"></button>').click(function(){b.click.apply(c.element[0],arguments)}).appendTo(g);a.each(b,function(a,b){if(a==="click")return;a in v?d[a](b):d.attr(a,b)}),a.fn.button&&d.button()}),f.appendTo(c.uiDialog))},_makeDraggable:function(){var c="ui-dialog-dragging";function e(a){return{position:a.position,offset:a.offset}}var d=this,f=d.options,g=a(document),h;d.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:o,start:function(g,i){h=f.height===b?b:a(this).height(),a(this).height(a(this).height()).addClass(c),d._trigger("dragStart",g,e(i))},drag:function(a,b){d._trigger("drag",a,e(b))},stop:function(i,b){f.position=[b.position.left-g.scrollLeft(),b.position.top-g.scrollTop()],a(this).removeClass(c).height(h),d._trigger("dragStop",i,e(b)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(d){var c="ui-dialog-resizing";function f(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}d=d===s?this.options.resizable:d;var b=this,e=b.options,h=b.uiDialog.css(j),i=typeof d==g?d:"n,e,s,w,se,sw,ne,nw";b.uiDialog.resizable({cancel:".ui-dialog-content",containment:o,alsoResize:b.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:b._minHeight(),handles:i,start:function(d,e){a(this).addClass(c),b._trigger("resizeStart",d,f(e))},resize:function(a,c){b._trigger("resize",a,f(c))},stop:function(d,g){a(this).removeClass(c),e.height=a(this).height(),e.width=a(this).width(),b._trigger("resizeStop",d,f(g)),a.ui.dialog.overlay.resize()}}).css(j,h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height===b?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var d=this,c=[],f=[0,0],e;if(b){if(typeof b==g||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(f[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:f.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=d.uiDialog.is(p),e||d.uiDialog.show(),d.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||d.uiDialog.hide()},_setOptions:function(e){var b=this,f=b,c={},d=!1;a.each(e,function(a,b){f._setOption(a,b),a in t&&(d=!0),a in u&&(c[a]=b)}),d&&b._size(),b.uiDialog.is(k)&&b.uiDialog.resizable(l,c)},_setOption:function(i,b){var e="ui-dialog-disabled",c=this,d=c.uiDialog;switch(i){case"beforeclose":i=n;break;case"buttons":c._createButtons(b);break;case"closeText":c.uiDialogTitlebarCloseText.text(""+b);break;case"dialogClass":d.removeClass(c.options.dialogClass).addClass(r+b);break;case"disabled":b?d.addClass(e):d.removeClass(e);break;case"draggable":var m=d.is(":data(draggable)");m&&!b&&d.draggable("destroy"),!m&&b&&c._makeDraggable();break;case j:c._position(b);break;case"resizable":var h=d.is(k);h&&!b&&d.resizable("destroy"),h&&typeof b==g&&d.resizable(l,"handles",b),!h&&b!==!1&&c._makeResizable(b);break;case f:a(".ui-dialog-title",c.uiDialogTitlebar).html(""+(b||"&#160;"))}a.Widget.prototype._setOption.apply(c,arguments)},_size:function(){var c=this,d=c.options,e,f,g=c.uiDialog.is(p);c.element.show().css({width:b,minHeight:0,height:0}),d.minWidth>d.width&&(d.width=d.minWidth),e=c.uiDialog.css({height:b,width:d.width}).height(),f=Math.max(0,d.minHeight-e);if(d.height===b)if(a.support.minHeight)c.element.css({minHeight:f,height:b});else{c.uiDialog.show();var h=c.element.css("height",b).height();g||c.uiDialog.hide(),c.element.height(Math.max(h,f))}else c.element.height(Math.max(d.height-e,0));c.uiDialog.is(k)&&c.uiDialog.resizable(l,"minHeight",c._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.22",uuid:0,maxZ:0,getTitleId:function(b){var a=b.attr("id");return a||(this.uuid+=1,a=this.uuid),"ui-dialog-title-"+a},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+q}).join(" "),create:function(e){var b=this;b.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(b){e.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE&&(e.close(b),b.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(b.oldInstances.pop()||a(d).addClass("ui-widget-overlay")).appendTo(document.body).css({width:b.width(),height:b.height()});return a.fn.bgiframe&&c.bgiframe(),b.instances.push(c),c},destroy:function(d){var b=this,f=a.inArray(d,b.instances);f!=-1&&b.oldInstances.push(b.instances.splice(f,1)[0]),b.instances.length===0&&a([document,window]).unbind(q),d.remove();var c=0;a.each(b.instances,function(){c=Math.max(c,this.css(e))}),b.maxZ=c},height:function(){var b,d;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<d?a(window).height()+c:b+c):a(document).height()+c},width:function(){var b,d;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<d?a(window).width()+c:b+c):a(document).width()+c},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){var f="vertical",e="ui-state-active",d="ui-state-hover",h=".ui-slider-handle",c=null,b="horizontal",g="slide",i=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:g,options:{animate:!1,distance:0,max:100,min:0,orientation:b,range:!1,step:1,value:0,values:c},_create:function(){var k="index.ui-slider-handle",j="ui-state-focus",f=this,b=f,g=f.options,l=f.element.find(h).addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",p=g.values&&g.values.length||1,m=[];f._keySliding=!1,f._mouseSliding=!1,f._animateOff=!0,f._handleIndex=c,f._detectOrientation(),f._mouseInit(),f.element.addClass("ui-slider ui-slider-"+f.orientation+" ui-widget ui-widget-content ui-corner-all"+(g.disabled?" ui-slider-disabled ui-disabled":"")),f.range=a([]),g.range&&(g.range===!0&&(g.values||(g.values=[f._valueMin(),f._valueMin()]),g.values.length&&g.values.length!==2&&(g.values=[g.values[0],g.values[0]])),f.range=a("<div></div>").appendTo(f.element).addClass("ui-slider-range ui-widget-header"+(g.range==="min"||g.range==="max"?" ui-slider-range-"+g.range:"")));for(var n=l.length;n<p;n+=1)m.push(o);f.handles=l.add(a(m.join("")).appendTo(b.element)),f.handle=f.handles.eq(0),f.handles.add(f.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){g.disabled||a(this).addClass(d)},function(){a(this).removeClass(d)}).focus(function(){g.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass(j),a(this).addClass(j))}).blur(function(){a(this).removeClass(j)}),f.handles.each(function(b){a(this).data(k,b)}),f.handles.keydown(function(f){var g=a(this).data(k),j,d,c,h;if(b.options.disabled)return;switch(f.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:f.preventDefault();if(!b._keySliding){b._keySliding=!0,a(this).addClass(e),j=b._start(f,g);if(j===!1)return}}h=b.options.step,b.options.values&&b.options.values.length?(d=c=b.values(g)):(d=c=b.value());switch(f.keyCode){case a.ui.keyCode.HOME:c=b._valueMin();break;case a.ui.keyCode.END:c=b._valueMax();break;case a.ui.keyCode.PAGE_UP:c=b._trimAlignValue(d+(b._valueMax()-b._valueMin())/i);break;case a.ui.keyCode.PAGE_DOWN:c=b._trimAlignValue(d-(b._valueMax()-b._valueMin())/i);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===b._valueMax())return;c=b._trimAlignValue(d+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===b._valueMin())return;c=b._trimAlignValue(d-h)}b._slide(f,g,c)}).keyup(function(c){var d=a(this).data(k);b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass(e))}),f._refreshValue(),f._animateOff=!1},destroy:function(){var a=this;return a.handles.remove(),a.range.remove(),a.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),a._mouseDestroy(),a},_mouseCapture:function(f){var b=this,i=b.options,n,j,k,c,l,g,o,m,p;return i.disabled?!1:(b.elementSize={width:b.element.outerWidth(),height:b.element.outerHeight()},b.elementOffset=b.element.offset(),n={x:f.pageX,y:f.pageY},j=b._normValueFromMouse(n),k=b._valueMax()-b._valueMin()+1,l=b,b.handles.each(function(b){var d=Math.abs(j-l.values(b));k>d&&(k=d,c=a(this),g=b)}),i.range===!0&&b.values(1)===i.min&&(g+=1,c=a(b.handles[g])),o=b._start(f,g),o===!1?!1:(b._mouseSliding=!0,l._handleIndex=g,c.addClass(e).focus(),m=c.offset(),p=!a(f.target).parents().andSelf().is(h),b._clickOffset=p?{left:0,top:0}:{left:f.pageX-m.left-c.width()/2,top:f.pageY-m.top-c.height()/2-(parseInt(c.css("borderTopWidth"),10)||0)-(parseInt(c.css("borderBottomWidth"),10)||0)+(parseInt(c.css("marginTop"),10)||0)},b.handles.hasClass(d)||b._slide(f,g,j),b._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(b){var a=this;return a.handles.removeClass(e),a._mouseSliding=!1,a._stop(b,a._handleIndex),a._change(b,a._handleIndex),a._handleIndex=c,a._clickOffset=c,a._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation===f?f:b},_normValueFromMouse:function(g){var a=this,d,e,c,h,i;return a.orientation===b?(d=a.elementSize.width,e=g.x-a.elementOffset.left-(a._clickOffset?a._clickOffset.left:0)):(d=a.elementSize.height,e=g.y-a.elementOffset.top-(a._clickOffset?a._clickOffset.top:0)),c=e/d,c>1&&(c=1),c<0&&(c=0),a.orientation===f&&(c=1-c),h=a._valueMax()-a._valueMin(),i=a._valueMin()+c*h,a._trimAlignValue(i)},_start:function(d,c){var a=this,b={handle:a.handles[c],value:a.value()};return a.options.values&&a.options.values.length&&(b.value=a.values(c),b.values=a.values()),a._trigger("start",d,b)},_slide:function(h,c,b){var a=this,d,f,e;a.options.values&&a.options.values.length?(d=a.values(c?0:1),a.options.values.length===2&&a.options.range===!0&&(c===0&&b>d||c===1&&b<d)&&(b=d),b!==a.values(c)&&(f=a.values(),f[c]=b,e=a._trigger(g,h,{handle:a.handles[c],value:b,values:f}),d=a.values(c?0:1),e!==!1&&a.values(c,b,!0))):b!==a.value()&&(e=a._trigger(g,h,{handle:a.handles[c],value:b}),e!==!1&&a.value(b))},_stop:function(d,c){var a=this,b={handle:a.handles[c],value:a.value()};a.options.values&&a.options.values.length&&(b.value=a.values(c),b.values=a.values()),a._trigger("stop",d,b)},_change:function(d,c){var a=this;if(!a._keySliding&&!a._mouseSliding){var b={handle:a.handles[c],value:a.value()};a.options.values&&a.options.values.length&&(b.value=a.values(c),b.values=a.values()),a._trigger("change",d,b)}},value:function(b){var a=this;if(arguments.length){a.options.value=a._trimAlignValue(b),a._refreshValue(),a._change(c,0);return}return a._value()},values:function(e,h){var b=this,f,g,d;if(arguments.length>1){b.options.values[e]=b._trimAlignValue(h),b._refreshValue(),b._change(c,e);return}if(!arguments.length)return b._values();if(!a.isArray(arguments[0]))return b.options.values&&b.options.values.length?b._values(e):b.value();f=b.options.values,g=arguments[0];for(d=0;d<f.length;d+=1)f[d]=b._trimAlignValue(g[d]),b._change(c,d);b._refreshValue()},_setOption:function(i,j){var f="ui-disabled",e="disabled",b=this,g,h=0;a.isArray(b.options.values)&&(h=b.options.values.length),a.Widget.prototype._setOption.apply(b,arguments);switch(i){case e:j?(b.handles.filter(".ui-state-focus").blur(),b.handles.removeClass(d),b.handles.propAttr(e,!0),b.element.addClass(f)):(b.handles.propAttr(e,!1),b.element.removeClass(f));break;case"orientation":b._detectOrientation(),b.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+b.orientation),b._refreshValue();break;case"value":b._animateOff=!0,b._refreshValue(),b._change(c,0),b._animateOff=!1;break;case"values":b._animateOff=!0,b._refreshValue();for(g=0;g<h;g+=1)b._change(c,g);b._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(e){var c=this,d,a,b;if(arguments.length)return d=c.options.values[e],d=c._trimAlignValue(d),d;a=c.options.values.slice();for(b=0;b<a.length;b+=1)a[b]=c._trimAlignValue(a[b]);return a},_trimAlignValue:function(b){var a=this;if(b<=a._valueMin())return a._valueMin();if(b>=a._valueMax())return a._valueMax();var c=a.options.step>0?a.options.step:1,d=(b-a._valueMin())%c,e=b-d;return Math.abs(d)*2>=c&&(e+=d>0?c:-c),parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e="css",d="animate",c="%",g=this,l=g.options.range,j=g.options,i=g,k=g._animateOff?!1:j.animate,h,m={},o,q,n,p;g.options.values&&g.options.values.length?g.handles.each(function(f){h=(i.values(f)-i._valueMin())/(i._valueMax()-i._valueMin())*100,m[i.orientation===b?"left":"bottom"]=h+c,a(this).stop(1,1)[k?d:e](m,j.animate),i.options.range===!0&&(i.orientation===b?(f===0&&i.range.stop(1,1)[k?d:e]({left:h+c},j.animate),f===1&&i.range[k?d:e]({width:h-o+c},{queue:!1,duration:j.animate})):(f===0&&i.range.stop(1,1)[k?d:e]({bottom:h+c},j.animate),f===1&&i.range[k?d:e]({height:h-o+c},{queue:!1,duration:j.animate}))),o=h}):(q=g.value(),n=g._valueMin(),p=g._valueMax(),h=p!==n?(q-n)/(p-n)*100:0,m[i.orientation===b?"left":"bottom"]=h+c,g.handle.stop(1,1)[k?d:e](m,j.animate),l==="min"&&g.orientation===b&&g.range.stop(1,1)[k?d:e]({width:h+c},j.animate),l==="max"&&g.orientation===b&&g.range[k?d:e]({width:100-h+c},{queue:!1,duration:j.animate}),l==="min"&&g.orientation===f&&g.range.stop(1,1)[k?d:e]({height:h+c},j.animate),l==="max"&&g.orientation===f&&g.range[k?d:e]({height:100-h+c},{queue:!1,duration:j.animate}))}}),a.extend(a.ui.slider,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.tabs.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,u){var m="load",l="cache.tabs",j="ui-state-disabled",i="ui-tabs-selected",d=".tabs",h="show",c="tabs",g="ui-tabs-selected ui-state-active",e="ui-tabs-hide",s="ui-state-default ui-corner-top",r="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all",k="destroy.tabs",p="load.tabs",q="href.tabs",f="#",n="label.tabs",o="ui-state-processing",t="ui-tabs-",b=null;function x(){return++v}function y(){return++w}var v=0,w=0;a.widget("ui.tabs",{options:{add:b,ajaxOptions:b,cache:!1,cookie:b,collapsible:!1,disable:b,disabled:[],enable:b,event:"click",fx:b,idPrefix:t,load:b,panelTemplate:"<div></div>",remove:b,select:b,show:b,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(c,b){var a=this;if(c=="selected"){if(a.options.collapsible&&b==a.options.selected)return;a.select(b)}else a.options[c]=b,a._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+x()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||t+y());return a.cookie.apply(b,[c].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass(o).find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data(n)).removeData(n)})},_tabify:function(K){var v="li",x="ui-state-",C="removeClass",B="addClass",w=".ui-tabs-selected",A="ui-tabs-panel ui-widget-content ui-corner-bottom",t=this;function H(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var n=t,m=t.options,L=/^#.+/;t.list=t.element.find("ol,ul").eq(0),t.lis=a(" > li:has(a[href])",t.list),t.anchors=t.lis.map(function(){return a("a",this)[0]}),t.panels=a([]),t.anchors.each(function(h,c){var b=a(c).attr("href"),e=b.split(f)[0],i;e&&(e===location.toString().split(f)[0]||(i=a("base")[0])&&e===i.href)&&(b=c.hash,c.href=b);if(L.test(b))n.panels=n.panels.add(n.element.find(n._sanitizeSelector(b)));else if(b&&b!==f){a.data(c,q,b),a.data(c,p,b.replace(/#.*$/,""));var g=n._tabId(c);c.href=f+g;var d=n.element.find(f+g);d.length||(d=a(m.panelTemplate).attr("id",g).addClass(A).insertAfter(n.panels[h-1]||n.list),d.data(k,!0)),n.panels=n.panels.add(d)}else m.disabled.push(h)}),K?(t.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),t.list.addClass(r),t.lis.addClass(s),t.panels.addClass(A),m.selected===u?(location.hash&&t.anchors.each(function(a,b){if(b.hash==location.hash)return m.selected=a,!1}),typeof m.selected!="number"&&m.cookie&&(m.selected=parseInt(n._cookie(),10)),typeof m.selected!="number"&&t.lis.filter(w).length&&(m.selected=t.lis.index(t.lis.filter(w))),m.selected=m.selected||(t.lis.length?0:-1)):m.selected===b&&(m.selected=-1),m.selected=m.selected>=0&&t.anchors[m.selected]||m.selected<0?m.selected:0,m.disabled=a.unique(m.disabled.concat(a.map(t.lis.filter(".ui-state-disabled"),function(a){return n.lis.index(a)}))).sort(),a.inArray(m.selected,m.disabled)!=-1&&m.disabled.splice(a.inArray(m.selected,m.disabled),1),t.panels.addClass(e),t.lis.removeClass(g),m.selected>=0&&t.anchors.length&&(n.element.find(n._sanitizeSelector(n.anchors[m.selected].hash)).removeClass(e),t.lis.eq(m.selected).addClass(g),n.element.queue(c,function(){n._trigger(h,b,n._ui(n.anchors[m.selected],n.element.find(n._sanitizeSelector(n.anchors[m.selected].hash))[0]))}),t.load(m.selected)),a(window).bind("unload",function(){n.lis.add(n.anchors).unbind(d),n.lis=n.anchors=n.panels=b})):(m.selected=t.lis.index(t.lis.filter(w))),t.element[m.collapsible?B:C]("ui-tabs-collapsible"),m.cookie&&t._cookie(m.selected,m.cookie);for(var D=0,E;E=t.lis[D];D++)a(E)[a.inArray(D,m.disabled)!=-1&&!a(E).hasClass(i)?B:C](j);m.cache===!1&&t.anchors.removeData(l),t.lis.add(t.anchors).unbind(d);if(m.event!=="mouseover"){var F=function(b,a){a.is(":not(.ui-state-disabled)")&&a.addClass(x+b)},G=function(a,b){b.removeClass(x+a)};t.lis.bind("mouseover.tabs",function(){F("hover",a(this))}),t.lis.bind("mouseout.tabs",function(){G("hover",a(this))}),t.anchors.bind("focus.tabs",function(){F("focus",a(this).closest(v))}),t.anchors.bind("blur.tabs",function(){G("focus",a(this).closest(v))})}var y,z;m.fx&&(a.isArray(m.fx)?(y=m.fx[0],z=m.fx[1]):(y=z=m.fx));var I=z?function(d,c){a(d).closest(v).addClass(g),c.hide().removeClass(e).animate(z,z.duration||"normal",function(){H(c,z),n._trigger(h,b,n._ui(d,c[0]))})}:function(c,d){a(c).closest(v).addClass(g),d.removeClass(e),n._trigger(h,b,n._ui(c,d[0]))},J=y?function(b,a){a.animate(y,y.duration||"normal",function(){n.lis.removeClass(g),a.addClass(e),H(a,y),n.element.dequeue(c)})}:function(b,a){n.lis.removeClass(g),a.addClass(e),n.element.dequeue(c)};t.anchors.bind(m.event+d,function(){var d=this,e=d,f=a(e).closest(v),g=n.panels.filter(":not(.ui-tabs-hide)"),h=n.element.find(n._sanitizeSelector(e.hash));if(f.hasClass(i)&&!m.collapsible||f.hasClass(j)||f.hasClass(o)||n.panels.filter(":animated").length||n._trigger("select",b,n._ui(d,h[0]))===!1)return d.blur(),!1;m.selected=n.anchors.index(d),n.abort();if(m.collapsible){if(f.hasClass(i))return m.selected=-1,m.cookie&&n._cookie(m.selected,m.cookie),n.element.queue(c,function(){J(e,g)}).dequeue(c),d.blur(),!1;if(!g.length)return m.cookie&&n._cookie(m.selected,m.cookie),n.element.queue(c,function(){I(e,h)}),n.load(n.anchors.index(d)),d.blur(),!1}m.cookie&&n._cookie(m.selected,m.cookie);if(h.length)g.length&&n.element.queue(c,function(){J(e,g)}),n.element.queue(c,function(){I(e,h)}),n.load(n.anchors.index(d));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&d.blur()}),t.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},destroy:function(){var f=this,g=f.options;return f.abort(),f.element.unbind(d).removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData(c),f.list.removeClass(r),f.anchors.each(function(){var b=a.data(this,q);b&&(this.href=b);var c=a(this).unbind(d);a.each(["href",m,"cache"],function(b,a){c.removeData(a+d)})}),f.lis.unbind(d).add(f.panels).each(function(){a.data(this,k)?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top",i,"ui-state-active","ui-state-hover","ui-state-focus",j,"ui-tabs-panel","ui-widget-content","ui-corner-bottom",e].join(" "))}),g.cookie&&f._cookie(b,g.cookie),f},add:function(o,q,i){var d=this;i===u&&(i=d.anchors.length);var l=d,m=d.options,n=a(m.tabTemplate.replace(/#\{href\}/g,o).replace(/#\{label\}/g,q)),p=o.indexOf(f)?d._tabId(a("a",n)[0]):o.replace(f,"");n.addClass(s).data(k,!0);var j=l.element.find(f+p);return j.length||(j=a(m.panelTemplate).attr("id",p).data(k,!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),i>=d.lis.length?(n.appendTo(d.list),j.appendTo(d.list[0].parentNode)):(n.insertBefore(d.lis[i]),j.insertBefore(d.panels[i])),m.disabled=a.map(m.disabled,function(a){return a>=i?++a:a}),d._tabify(),d.anchors.length==1&&(m.selected=0,n.addClass(g),j.removeClass(e),d.element.queue(c,function(){l._trigger(h,b,l._ui(l.anchors[0],l.panels[0]))}),d.load(0)),d._trigger("add",b,d._ui(d.anchors[i],d.panels[i])),d},remove:function(d){var c=this;d=c._getIndex(d);var e=c.options,f=c.lis.eq(d).remove(),g=c.panels.eq(d).remove();return f.hasClass(i)&&c.anchors.length>1&&c.select(d+(d+1<c.anchors.length?1:-1)),e.disabled=a.map(a.grep(e.disabled,function(a){return a!=d}),function(a){return a>=d?--a:a}),c._tabify(),c._trigger("remove",b,c._ui(f.find("a")[0],g[0])),c},enable:function(d){var c=this;d=c._getIndex(d);var e=c.options;return a.inArray(d,e.disabled)==-1?void 0:(c.lis.eq(d).removeClass(j),e.disabled=a.grep(e.disabled,function(a){return a!=d}),c._trigger("enable",b,c._ui(c.anchors[d],c.panels[d])),c)},disable:function(c){var a=this;c=a._getIndex(c);var e=a,d=a.options;return c!=d.selected&&(a.lis.eq(c).addClass(j),d.disabled.push(c),d.disabled.sort(),a._trigger("disable",b,a._ui(a.anchors[c],a.panels[c]))),a},select:function(b){var a=this;b=a._getIndex(b);if(b==-1)if(a.options.collapsible&&a.options.selected!=-1)b=a.options.selected;else return a;return a.anchors.eq(b).trigger(a.options.event+d),a},load:function(f){var e=this;f=e._getIndex(f);var d=e,g=e.options,h=e.anchors.eq(f)[0],i=a.data(h,p);e.abort();if(!i||e.element.queue(c).length!==0&&a.data(h,l)){e.element.dequeue(c);return}e.lis.eq(f).addClass(o);if(g.spinner){var j=a("span",h);j.data(n,j.html()).html(g.spinner)}return e.xhr=a.ajax(a.extend({},g.ajaxOptions,{url:i,success:function(c,e){d.element.find(d._sanitizeSelector(h.hash)).html(c),d._cleanup(),g.cache&&a.data(h,l,!0),d._trigger(m,b,d._ui(d.anchors[f],d.panels[f]));try{g.ajaxOptions.success(c,e)}catch(i){}},error:function(a,c){d._cleanup(),d._trigger(m,b,d._ui(d.anchors[f],d.panels[f]));try{g.ajaxOptions.error(a,c,f,h)}catch(e){}}})),d.element.dequeue(c),e},abort:function(){var a=this;return a.element.queue([]),a.panels.stop(!1,!0),a.element.queue(c,a.element.queue(c).splice(-2,2)),a.xhr&&(a.xhr.abort(),delete a.xhr),a._cleanup(),a},url:function(a,b){return this.anchors.eq(a).removeData(l).data(p,b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.22"}),a.extend(a.ui.tabs.prototype,{rotation:b,rotate:function(h,j){var e="tabsshow",c=this,a=c,g=c.options,f=a._rotate||(a._rotate=function(b){clearTimeout(a.rotation),a.rotation=setTimeout(function(){var b=g.selected;a.select(++b<a.anchors.length?b:0)},h),b&&b.stopPropagation()}),i=a._unrotate||(a._unrotate=j?function(){f()}:function(c){c.clientX&&a.rotate(b)});return h?(c.element.bind(e,f),c.anchors.bind(g.event+d,i),f()):(clearTimeout(a.rotation),c.element.unbind(e,f),c.anchors.unbind(g.event+d,i),delete c._rotate,delete c._unrotate),c}})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.datepicker.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,E){var P="&#xa0;",O="</div>",f="DP_jQuery_",ib="D, d M yy",gb="D, d M y",fb="yy-mm-dd",p="m",m="d",g="'",l="y",s="@",e=10,db="gotoCurrent",cb="showCurrentAtPos",bb=":disabled",ab=":visible",Z="showOptions",R="iframe.ui-datepicker-cover",Y="duration",X="showAnim",N="absolute",i="D",h=-1,d="M",r="stepMonths",W="onSelect",C="max",B="min",j="string",M="disabled",V="select.ui-datepicker-month, select.ui-datepicker-year",U="ui-state-disabled",A="px",L="left",o=100,K="body",J="dayNamesShort",I="dayNames",H="monthNamesShort",G="monthNames",n="dateFormat",F="button",z="</span>",k='">',t="isRTL",T="getData.datepicker",S="setData.datepicker",q="input",y="span",x="div",w="object",Q=".ui-datepicker-calendar",v="focus",b="",c=null;function jb(){var d=this;d.debug=!1,d._curInst=c,d._keyEvent=!1,d._disabledInputs=[],d._datepickerShowing=!1,d._inDialog=!1,d._mainDivId="ui-datepicker-div",d._inlineClass="ui-datepicker-inline",d._appendClass="ui-datepicker-append",d._triggerClass="ui-datepicker-trigger",d._dialogClass="ui-datepicker-dialog",d._disableClass="ui-datepicker-disabled",d._unselectableClass="ui-datepicker-unselectable",d._currentClass="ui-datepicker-current-day",d._dayOverClass="ui-datepicker-days-cell-over",d.regional=[],d.regional[b]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:b},d._defaults={showOn:v,showAnim:"fadeIn",showOptions:{},defaultDate:c,appendText:b,buttonText:"...",buttonImage:b,buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:d.iso8601Week,shortYearCutoff:"+10",minDate:c,maxDate:c,duration:"fast",beforeShowDay:c,beforeShow:c,onSelect:c,onChangeMonthYear:c,onClose:c,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:b,altFormat:b,constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(d._defaults,d.regional[b]),d.dpDiv=kb(a('<div id="'+d._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function kb(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.bind("mouseout",function(d){var b=a(d.target).closest(c);if(!b.length)return;b.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(f){var e="ui-state-hover",d=a(f.target).closest(c);if(a.datepicker._isDisabledDatepicker(hb.inline?b.parent()[0]:hb.input[0])||!d.length)return;d.parents(Q).find("a").removeClass(e),d.addClass(e),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function eb(e,b){a.extend(e,b);for(var d in b)if(b[d]==c||b[d]==E)e[d]=b[d];return e}a.extend(a.ui,{datepicker:{version:"1.8.22"}});var u="datepicker",D=(new Date).getTime(),hb;a.extend(jb.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply(b,arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return eb(this._defaults,a||{}),this},_attachDatepicker:function(b,k){var d=this,e=c;for(var g in d._defaults){var f=b.getAttribute("date:"+g);if(f){e=e||{};try{e[g]=eval(f)}catch(l){e[g]=f}}}var h=b.nodeName.toLowerCase(),j=h==x||h==y;b.id||(d.uuid+=1,b.id="dp"+d.uuid);var i=d._newInst(a(b),j);i.settings=a.extend({},k||{},e||{}),h==q?d._connectDatepicker(b,i):j&&d._inlineDatepicker(b,i)},_newInst:function(b,c){var d=b[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:d,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?kb(a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(d,c){var b=this,e=a(d);c.append=a([]),c.trigger=a([]);if(e.hasClass(b.markerClassName))return;b._attachments(e,c),e.addClass(b.markerClassName).keydown(b._doKeyDown).keypress(b._doKeyPress).keyup(b._doKeyUp).bind(S,function(d,a,b){c.settings[a]=b}).bind(T,function(b,a){return this._get(c,a)}),b._autoSize(c),a.data(d,u,c),c.settings.disabled&&b._disableDatepicker(d)},_attachments:function(e,c){var d=this,i=d._get(c,"appendText"),j=d._get(c,t);c.append&&c.append.remove(),i&&(c.append=a('<span class="'+d._appendClass+k+i+z),e[j?"before":"after"](c.append)),e.unbind(v,d._showDatepicker),c.trigger&&c.trigger.remove();var g=d._get(c,"showOn");(g==v||g=="both")&&e.focus(d._showDatepicker);if(g==F||g=="both"){var f=d._get(c,"buttonText"),h=d._get(c,"buttonImage");c.trigger=a(d._get(c,"buttonImageOnly")?a("<img/>").addClass(d._triggerClass).attr({src:h,alt:f,title:f}):a('<button type="button"></button>').addClass(d._triggerClass).html(h==b?f:a("<img/>").attr({src:h,alt:f,title:f}))),e[j?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput==e[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!=e[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(e[0])):a.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(a){var b=this;if(b._get(a,"autoSize")&&!a.inline){var c=new Date(2009,11,20),d=b._get(a,n);if(d.match(/[DM]/)){var e=function(b){for(var c=0,d=0,a=0;a<b.length;a++)b[a].length>c&&(c=b[a].length,d=a);return d};c.setMonth(e(b._get(a,d.match(/MM/)?G:H))),c.setDate(e(b._get(a,d.match(/DD/)?I:J))+20-c.getDay())}a.input.attr("size",b._formatDate(a,c).length)}},_inlineDatepicker:function(d,b){var c=this,e=a(d);if(e.hasClass(c.markerClassName))return;e.addClass(c.markerClassName).append(b.dpDiv).bind(S,function(d,a,c){b.settings[a]=c}).bind(T,function(c,a){return this._get(b,a)}),a.data(d,u,b),c._setDate(b,c._getDefaultDate(b),!0),c._updateDatepicker(b),c._updateAlternate(b),b.settings.disabled&&c._disableDatepicker(d),b.dpDiv.css("display","block")},_dialogDatepicker:function(n,e,g,h,f){var b=this,d=b._dialogInst;if(!d){b.uuid+=1;var i="dp"+b.uuid;b._dialogInput=a('<input type="text" id="'+i+'" style="position: absolute; top: -100px; width: 0px;"/>'),b._dialogInput.keydown(b._doKeyDown),a(K).append(b._dialogInput),d=b._dialogInst=b._newInst(b._dialogInput,!1),d.settings={},a.data(b._dialogInput[0],u,d)}eb(d.settings,h||{}),e=e&&e.constructor==Date?b._formatDate(d,e):e,b._dialogInput.val(e),b._pos=f?f.length?f:[f.pageX,f.pageY]:c;if(!b._pos){var j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop;b._pos=[j/2-o+l,k/2-150+m]}return b._dialogInput.css(L,b._pos[0]+20+A).css("top",b._pos[1]+A),d.settings.onSelect=g,b._inDialog=!0,b.dpDiv.addClass(b._dialogClass),b._showDatepicker(b._dialogInput[0]),a.blockUI&&a.blockUI(b.dpDiv),a.data(b._dialogInput[0],u,d),b},_destroyDatepicker:function(c){var b=this,d=a(c),f=a.data(c,u);if(!d.hasClass(b.markerClassName))return;var e=c.nodeName.toLowerCase();a.removeData(c,u),e==q?(f.append.remove(),f.trigger.remove(),d.removeClass(b.markerClassName).unbind(v,b._showDatepicker).unbind("keydown",b._doKeyDown).unbind("keypress",b._doKeyPress).unbind("keyup",b._doKeyUp)):(e==x||e==y)&&d.removeClass(b.markerClassName).empty()},_enableDatepicker:function(d){var e=this,g=a(d),i=a.data(d,u);if(!g.hasClass(e.markerClassName))return;var f=d.nodeName.toLowerCase();if(f==q)d.disabled=!1,i.trigger.filter(F).each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:b});else if(f==x||f==y){var h=g.children("."+e._inlineClass);h.children().removeClass(U),h.find(V).removeAttr(M)}e._disabledInputs=a.map(e._disabledInputs,function(a){return a==d?c:a})},_disableDatepicker:function(d){var b=this,f=a(d),h=a.data(d,u);if(!f.hasClass(b.markerClassName))return;var e=d.nodeName.toLowerCase();if(e==q)d.disabled=!0,h.trigger.filter(F).each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(e==x||e==y){var g=f.children("."+b._inlineClass);g.children().addClass(U),g.find(V).attr(M,M)}b._disabledInputs=a.map(b._disabledInputs,function(a){return a==d?c:a}),b._disabledInputs[b._disabledInputs.length]=d},_isDisabledDatepicker:function(b){if(!b)return!1;for(var a=0;a<this._disabledInputs.length;a++)if(this._disabledInputs[a]==b)return!0;return!1},_getInst:function(b){try{return a.data(b,u)}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(g,e,k){var d=this,b=d._getInst(g);if(arguments.length==2&&typeof e==j)return e=="defaults"?a.extend({},a.datepicker._defaults):b?e=="all"?a.extend({},b.settings):d._get(b,e):c;var f=e||{};typeof e==j&&(f={},f[e]=k);if(b){d._curInst==b&&d._hideDatepicker();var l=d._getDateDatepicker(g,!0),h=d._getMinMaxDate(b,B),i=d._getMinMaxDate(b,C);eb(b.settings,f),h!==c&&f.dateFormat!==E&&f.minDate===E&&(b.settings.minDate=d._formatDate(b,h)),i!==c&&f.dateFormat!==E&&f.maxDate===E&&(b.settings.maxDate=d._formatDate(b,i)),d._attachments(a(g),b),d._autoSize(b),d._setDate(b,l),d._updateAlternate(b),d._updateDatepicker(b)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(b){var a=this._getInst(b);a&&this._updateDatepicker(a)},_setDateDatepicker:function(c,d){var a=this,b=a._getInst(c);b&&(a._setDate(b,d),a._updateDatepicker(b),a._updateAlternate(b))},_getDateDatepicker:function(b,d){var a=this._getInst(b);return a&&!a.inline&&this._setDateFromField(a,d),a?this._getDate(a):c},_doKeyDown:function(b){var g="stepBigMonths",e=a.datepicker._getInst(b.target),f=!0,j=e.dpDiv.is(".ui-datepicker-rtl");e._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),f=!1;break;case 13:var k=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",e.dpDiv);k[0]&&a.datepicker._selectDay(b.target,e.selectedMonth,e.selectedYear,k[0]);var l=a.datepicker._get(e,W);if(l){var m=a.datepicker._formatDate(e);l.apply(e.input?e.input[0]:c,[m,e])}else a.datepicker._hideDatepicker();return!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(e,g):-a.datepicker._get(e,r),d);break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(e,g):+a.datepicker._get(e,r),d);break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),f=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),f=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,j?1:h,i),f=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(e,g):-a.datepicker._get(e,r),d);break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,i),f=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,j?h:1,i),f=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(e,g):+a.datepicker._get(e,r),d);break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,i),f=b.ctrlKey||b.metaKey;break;default:f=!1}else b.keyCode==36&&b.ctrlKey?a.datepicker._showDatepicker(this):(f=!1);f&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c=a.datepicker._getInst(b.target);if(a.datepicker._get(c,"constrainInput")){var d=a.datepicker._possibleChars(a.datepicker._get(c,n)),e=String.fromCharCode(b.charCode==E?b.keyCode:b.charCode);return b.ctrlKey||b.metaKey||e<" "||!d||d.indexOf(e)>h}},_doKeyUp:function(d){var b=a.datepicker._getInst(d.target);if(b.input.val()!=b.lastVal)try{var e=a.datepicker.parseDate(a.datepicker._get(b,n),b.input?b.input.val():c,a.datepicker._getFormatConfig(b));e&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b))}catch(f){a.datepicker.log(f)}return!0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!=q&&(e=a(q,e.parentNode)[0]);if(a.datepicker._isDisabledDatepicker(e)||a.datepicker._lastInput==e)return;var d=a.datepicker._getInst(e);a.datepicker._curInst&&a.datepicker._curInst!=d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));var k=a.datepicker._get(d,"beforeShow"),l=k?k.apply(e,[e,d]):{};if(l===!1)return;eb(d.settings,l),d.lastVal=c,a.datepicker._lastInput=e,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(e.value=b),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(e),a.datepicker._pos[1]+=e.offsetHeight);var f=!1;a(e).parents().each(function(){return f|=a(this).css("position")=="fixed",!f}),f&&a.browser.opera&&(a.datepicker._pos[0]-=document.documentElement.scrollLeft,a.datepicker._pos[1]-=document.documentElement.scrollTop);var h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=c,d.dpDiv.empty(),d.dpDiv.css({position:N,display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),h=a.datepicker._checkOffset(d,h,f),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":f?"fixed":N,display:"none",left:h.left+A,top:h.top+A});if(!d.inline){var g=a.datepicker._get(d,X),i=a.datepicker._get(d,Y),j=function(){var b=d.dpDiv.find(R);if(!!b.length){var c=a.datepicker._getBorders(d.dpDiv);b.css({left:-c[0],top:-c[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()})}};d.dpDiv.zIndex(a(e).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects[g]?d.dpDiv.show(g,a.datepicker._get(d,Z),i,j):d.dpDiv[g||"show"](g?i:c,j),(!g||!i)&&j(),d.input.is(ab)&&!d.input.is(bb)&&d.input.focus(),a.datepicker._curInst=d}},_updateDatepicker:function(d){var e=this,k=e;k.maxRows=4;var h=a.datepicker._getBorders(d.dpDiv);hb=d,d.dpDiv.empty().append(e._generateHTML(d)),e._attachHandlers(d);var i=d.dpDiv.find(R);!i.length||i.css({left:-h[0],top:-h[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()}),d.dpDiv.find("."+e._dayOverClass+" a").mouseover();var f=e._getNumberOfMonths(d),g=f[1],l=17;d.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(b),g>1&&d.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",l*g+"em"),d.dpDiv[(f[0]!=1||f[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),d.dpDiv[(e._get(d,t)?"add":"remove")+"Class"]("ui-datepicker-rtl"),d==a.datepicker._curInst&&a.datepicker._datepickerShowing&&d.input&&d.input.is(ab)&&!d.input.is(bb)&&d.input[0]!=document.activeElement&&d.input.focus();if(d.yearshtml){var j=d.yearshtml;setTimeout(function(){j===d.yearshtml&&d.yearshtml&&d.dpDiv.find("select.ui-datepicker-year:first").replaceWith(d.yearshtml),j=d.yearshtml=c},0)}},_getBorders:function(a){var b=function(a){return({thin:1,medium:2,thick:3})[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(c,b,d){var e=c.dpDiv.outerWidth(),f=c.dpDiv.outerHeight(),j=c.input?c.input.outerWidth():0,h=c.input?c.input.outerHeight():0,g=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),i=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return b.left-=this._get(c,t)?e-j:0,b.left-=d&&b.left==c.input.offset().left?a(document).scrollLeft():0,b.top-=d&&b.top==c.input.offset().top+h?a(document).scrollTop():0,b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0),b.top-=Math.min(b.top,b.top+f>i&&i>f?Math.abs(f+h):0),b},_findPos:function(b){var d=this._getInst(b),e=this._get(d,t);while(b&&(b.type=="hidden"||b.nodeType!=1||a.expr.filters.hidden(b)))b=b[e?"previousSibling":"nextSibling"];var c=a(b).offset();return[c.left,c.top]},_hideDatepicker:function(h){var e=this,d=e._curInst;if(!d||h&&d!=a.data(h,u))return;if(e._datepickerShowing){var f=e._get(d,X),i=e._get(d,Y),g=function(){a.datepicker._tidyDialog(d)};a.effects&&a.effects[f]?d.dpDiv.hide(f,a.datepicker._get(d,Z),i,g):d.dpDiv[f=="slideDown"?"slideUp":f=="fadeIn"?"fadeOut":"hide"](f?i:c,g),f||g(),e._datepickerShowing=!1;var j=e._get(d,"onClose");j&&j.apply(d.input?d.input[0]:c,[d.input?d.input.val():b,d]),e._lastInput=c,e._inDialog&&(e._dialogInput.css({position:N,left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a(K).append(e.dpDiv))),e._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(Q)},_checkExternalClick:function(c){if(!a.datepicker._curInst)return;var b=a(c.target),d=a.datepicker._getInst(b[0]);(b[0].id!=a.datepicker._mainDivId&&b.parents("#"+a.datepicker._mainDivId).length==0&&!b.hasClass(a.datepicker.markerClassName)&&!b.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!=d)&&a.datepicker._hideDatepicker()},_adjustDate:function(g,h,e){var b=this,f=a(g),c=b._getInst(f[0]);if(b._isDisabledDatepicker(f[0]))return;b._adjustInstDate(c,h+(e==d?b._get(c,cb):0),e),b._updateDatepicker(c)},_gotoToday:function(f){var c=this,e=a(f),b=c._getInst(e[0]);if(c._get(b,db)&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var d=new Date;b.selectedDay=d.getDate(),b.drawMonth=b.selectedMonth=d.getMonth(),b.drawYear=b.selectedYear=d.getFullYear()}c._notifyChange(b),c._adjustDate(e)},_selectMonthYear:function(h,c,f){var g=a(h),b=this._getInst(g[0]);b["selected"+(f==d?"Month":"Year")]=b["draw"+(f==d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,e),this._notifyChange(b),this._adjustDate(g)},_selectDay:function(d,g,h,e){var c=this,f=a(d);if(a(e).hasClass(c._unselectableClass)||c._isDisabledDatepicker(f[0]))return;var b=c._getInst(f[0]);b.selectedDay=b.currentDay=a("a",e).html(),b.selectedMonth=b.currentMonth=g,b.selectedYear=b.currentYear=h,c._selectDate(d,c._formatDate(b,b.currentDay,b.currentMonth,b.currentYear))},_clearDate:function(d){var c=a(d),e=this._getInst(c[0]);this._selectDate(c,b)},_selectDate:function(g,e){var d=this,h=a(g),b=d._getInst(h[0]);e=e!=c?e:d._formatDate(b),b.input&&b.input.val(e),d._updateAlternate(b);var f=d._get(b,W);f?f.apply(b.input?b.input[0]:c,[e,b]):b.input&&b.input.trigger("change"),b.inline?d._updateDatepicker(b):(d._hideDatepicker(),d._lastInput=b.input[0],typeof b.input[0]!=w&&b.input.focus(),d._lastInput=c)},_updateAlternate:function(c){var b=this,d=b._get(c,"altField");if(d){var e=b._get(c,"altFormat")||b._get(c,n),f=b._getDate(c),g=b.formatDate(e,f,b._getFormatConfig(c));a(d).each(function(){a(this).val(g)})}},noWeekends:function(c){var a=c.getDay();return[a>0&&a<6,b]},iso8601Week:function(b){var a=new Date(b.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var c=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((c-a)/8.64e7)/7)+1},parseDate:function(y,f,q){var u=this;if(y==c||f==c)throw"Invalid arguments";f=typeof f==w?f.toString():f+b;if(f==b)return c;var A=(q?q.shortYearCutoff:c)||u._defaults.shortYearCutoff;A=typeof A!=j?A:(new Date).getFullYear()%o+parseInt(A,e);for(var H=(q?q.dayNamesShort:c)||u._defaults.dayNamesShort,I=(q?q.dayNames:c)||u._defaults.dayNames,J=(q?q.monthNamesShort:c)||u._defaults.monthNamesShort,K=(q?q.monthNames:c)||u._defaults.monthNames,k=h,t=h,v=h,C=h,D=!1,B=function(b){var a=x+1<y.length&&y.charAt(x+1)==b;return a&&x++,a},z=function(a){var c=B(a),d=a==s?14:a=="!"?20:a==l&&c?4:a=="o"?3:2,g=new RegExp("^\\d{1,"+d+"}"),b=f.substring(n).match(g);if(!b)throw"Missing number at position "+n;return n+=b[0].length,parseInt(b[0],e)},F=function(c,d,e){var g=a.map(B(c)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),b=h;a.each(g,function(d,c){var a=c[1];if(f.substr(n,a.length).toLowerCase()==a.toLowerCase())return b=c[0],n+=a.length,!1});if(b!=h)return b+1;throw"Unknown name at position "+n;},E=function(){if(f.charAt(n)!=y.charAt(x))throw"Unexpected literal at position "+n;n++},n=0,x=0;x<y.length;x++)if(D)y.charAt(x)==g&&!B(g)?(D=!1):E();else switch(y.charAt(x)){case m:v=z(m);break;case i:F(i,H,I);break;case"o":C=z("o");break;case p:t=z(p);break;case d:t=F(d,J,K);break;case l:k=z(l);break;case s:var r=new Date(z(s));k=r.getFullYear(),t=r.getMonth()+1,v=r.getDate();break;case"!":var r=new Date((z("!")-u._ticksTo1970)/1e4);k=r.getFullYear(),t=r.getMonth()+1,v=r.getDate();break;case g:B(g)?E():(D=!0);break;default:E()}if(n<f.length)throw"Extra/unparsed characters found in date: "+f.substring(n);k==h?(k=(new Date).getFullYear()):k<o&&(k+=(new Date).getFullYear()-(new Date).getFullYear()%o+(k<=A?0:-100));if(C>h){t=1,v=C;do{var G=u._getDaysInMonth(k,t-1);if(v<=G)break;t++,v-=G}while(!0)}var r=u._daylightSavingAdjust(new Date(k,t-1,v));if(r.getFullYear()!=k||r.getMonth()+1!=t||r.getDate()!=v)throw"Invalid date";return r},ATOM:fb,COOKIE:"D, dd M yy",ISO_8601:fb,RFC_822:gb,RFC_850:"DD, dd-M-y",RFC_1036:gb,RFC_1123:ib,RFC_2822:ib,RSS:gb,TICKS:"!",TIMESTAMP:s,W3C:fb,_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(k,a,j){var n=this;if(!a)return b;var v=(j?j.dayNamesShort:c)||n._defaults.dayNamesShort,w=(j?j.dayNames:c)||n._defaults.dayNames,x=(j?j.monthNamesShort:c)||n._defaults.monthNamesShort,y=(j?j.monthNames:c)||n._defaults.monthNames,q=function(b){var a=h+1<k.length&&k.charAt(h+1)==b;return a&&h++,a},r=function(c,d,e){var a=b+d;if(q(c))while(a.length<e)a="0"+a;return a},u=function(b,a,c,d){return q(b)?d[a]:c[a]},f=b,t=!1;if(a)for(var h=0;h<k.length;h++)if(t)k.charAt(h)==g&&!q(g)?(t=!1):(f+=k.charAt(h));else switch(k.charAt(h)){case m:f+=r(m,a.getDate(),2);break;case i:f+=u(i,a.getDay(),v,w);break;case"o":f+=r("o",Math.round(((new Date(a.getFullYear(),a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/8.64e7),3);break;case p:f+=r(p,a.getMonth()+1,2);break;case d:f+=u(d,a.getMonth(),x,y);break;case l:f+=q(l)?a.getFullYear():(a.getYear()%o<e?"0":b)+a.getYear()%o;break;case s:f+=a.getTime();break;case"!":f+=a.getTime()*1e4+n._ticksTo1970;break;case g:q(g)?(f+=g):(t=!0);break;default:f+=k.charAt(h)}return f},_possibleChars:function(e){for(var f=b,h=!1,j=function(c){var b=a+1<e.length&&e.charAt(a+1)==c;return b&&a++,b},a=0;a<e.length;a++)if(h)e.charAt(a)==g&&!j(g)?(h=!1):(f+=e.charAt(a));else switch(e.charAt(a)){case m:case p:case l:case s:f+="0123456789";break;case i:case d:return c;case g:j(g)?(f+=g):(h=!0);break;default:f+=e.charAt(a)}return f},_get:function(b,a){return b.settings[a]!==E?b.settings[a]:this._defaults[a]},_setDateFromField:function(a,h){var e=this;if(a.input.val()==a.lastVal)return;var i=e._get(a,n),f=a.lastVal=a.input?a.input.val():c,d,g;d=g=e._getDefaultDate(a);var j=e._getFormatConfig(a);try{d=e.parseDate(i,f,j)||g}catch(k){e.log(k),f=h?b:f}a.selectedDay=d.getDate(),a.drawMonth=a.selectedMonth=d.getMonth(),a.drawYear=a.selectedYear=d.getFullYear(),a.currentDay=f?d.getDate():0,a.currentMonth=f?d.getMonth():0,a.currentYear=f?d.getFullYear():0,e._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(h,g,k){var o=function(b){var a=new Date;return a.setDate(a.getDate()+b),a},q=function(g){try{return a.datepicker.parseDate(a.datepicker._get(h,n),g,a.datepicker._getFormatConfig(h))}catch(r){}var o=(g.toLowerCase().match(/^c/)?a.datepicker._getDate(h):c)||new Date,j=o.getFullYear(),k=o.getMonth(),b=o.getDate(),q=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=q.exec(g);while(f){switch(f[2]||m){case m:case i:b+=parseInt(f[1],e);break;case"w":case"W":b+=parseInt(f[1],e)*7;break;case p:case d:k+=parseInt(f[1],e),b=Math.min(b,a.datepicker._getDaysInMonth(j,k));break;case l:case"Y":j+=parseInt(f[1],e),b=Math.min(b,a.datepicker._getDaysInMonth(j,k))}f=q.exec(g)}return new Date(j,k,b)},f=g==c||g===b?k:typeof g==j?q(g):typeof g=="number"?isNaN(g)?k:o(g):new Date(g.getTime());return f=f&&f.toString()=="Invalid Date"?k:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):c},_setDate:function(a,e,f){var c=this,g=!e,h=a.selectedMonth,i=a.selectedYear,d=c._restrictMinMax(a,c._determineDate(a,e,new Date));a.selectedDay=a.currentDay=d.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=d.getMonth(),a.drawYear=a.selectedYear=a.currentYear=d.getFullYear(),(h!=a.selectedMonth||i!=a.selectedYear)&&!f&&c._notifyChange(a),c._adjustInstDate(a),a.input&&a.input.val(g?b:c._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==b?c:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(c){var e=this._get(c,r),b="#"+c.id;c.dpDiv.find("[data-handler]").map(function(){var c={prev:function(){window[f+D].datepicker._adjustDate(b,-e,d)},next:function(){window[f+D].datepicker._adjustDate(b,+e,d)},hide:function(){window[f+D].datepicker._hideDatepicker()},today:function(){window[f+D].datepicker._gotoToday(b)},selectDay:function(){return window[f+D].datepicker._selectDay(b,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window[f+D].datepicker._selectMonthYear(b,this,d),!1},selectYear:function(){return window[f+D].datepicker._selectMonthYear(b,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),c[this.getAttribute("data-handler")])})},_generateHTML:function(f){var N=" ui-corner-",M="calculateWeek",K="</button>",p="</span></a>",o='"><span class="ui-icon ui-icon-circle-triangle-',d=this,q=new Date;q=d._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate()));var m=d._get(f,t),xb=d._get(f,"showButtonPanel"),ab=d._get(f,"hideIfNoPrevNext"),U=d._get(f,"navigationAsDateFormat"),n=d._getNumberOfMonths(f),Ab=d._get(f,cb),eb=d._get(f,r),W=n[0]!=1||n[1]!=1,X=d._daylightSavingAdjust(f.currentDay?new Date(f.currentYear,f.currentMonth,f.currentDay):new Date(9999,9,9)),A=d._getMinMaxDate(f,B),s=d._getMinMaxDate(f,C),g=f.drawMonth-Ab,j=f.drawYear;g<0&&(g+=12,j--);if(s){var R=d._daylightSavingAdjust(new Date(s.getFullYear(),s.getMonth()-n[0]*n[1]+1,s.getDate()));R=A&&R<A?A:R;while(d._daylightSavingAdjust(new Date(j,g,1))>R)g--,g<0&&(g=11,j--)}f.drawMonth=g,f.drawYear=j;var u=d._get(f,"prevText");u=U?d.formatDate(u,d._daylightSavingAdjust(new Date(j,g-eb,1)),d._getFormatConfig(f)):u;var ib=d._canAdjustMonth(f,h,j,g)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+u+o+(m?"e":"w")+k+u+p:ab?b:'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+u+o+(m?"e":"w")+k+u+p,v=d._get(f,"nextText");v=U?d.formatDate(v,d._daylightSavingAdjust(new Date(j,g+eb,1)),d._getFormatConfig(f)):v;var kb=d._canAdjustMonth(f,1,j,g)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+v+o+(m?"w":"e")+k+v+p:ab?b:'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+v+o+(m?"w":"e")+k+v+p,S=d._get(f,"currentText"),ob=d._get(f,db)&&f.currentDay?X:q;S=U?d.formatDate(S,ob,d._getFormatConfig(f)):S;var pb=f.inline?b:'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+d._get(f,"closeText")+K,Bb=xb?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(m?pb:b)+(d._isInRange(f,ob)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+S+K:b)+(m?b:pb)+O:b,x=parseInt(d._get(f,"firstDay"),e);x=isNaN(x)?0:x;for(var sb=d._get(f,"showWeek"),ub=d._get(f,I),Cb=d._get(f,J),vb=d._get(f,"dayNamesMin"),wb=d._get(f,G),yb=d._get(f,H),bb=d._get(f,"beforeShowDay"),V=d._get(f,"showOtherMonths"),zb=d._get(f,"selectOtherMonths"),Db=d._get(f,M)||d.iso8601Week,fb=d._getDefaultDate(f),Y=b,E=0;E<n[0];E++){var gb=b;d.maxRows=4;for(var F=0;F<n[1];F++){var hb=d._daylightSavingAdjust(new Date(j,g,f.selectedDay)),D=" ui-corner-all",l=b;if(W){l+='<div class="ui-datepicker-group';if(n[1]>1)switch(F){case 0:l+=" ui-datepicker-group-first",D=N+(m?"right":L);break;case n[1]-1:l+=" ui-datepicker-group-last",D=N+(m?L:"right");break;default:l+=" ui-datepicker-group-middle",D=b}l+=k}l+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+D+k+(/all|left/.test(D)&&E==0?m?kb:ib:b)+(/all|right/.test(D)&&E==0?m?ib:kb:b)+d._generateMonthYearHeader(f,g,j,A,s,E>0||F>0,wb,yb)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var jb=sb?'<th class="ui-datepicker-week-col">'+d._get(f,"weekHeader")+"</th>":b,w=0;w<7;w++){var lb=(w+x)%7;jb+="<th"+((w+x+6)%7>=5?' class="ui-datepicker-week-end"':b)+'><span title="'+ub[lb]+k+vb[lb]+"</span></th>"}l+=jb+"</tr></thead><tbody>";var mb=d._getDaysInMonth(j,g);j==f.selectedYear&&g==f.selectedMonth&&(f.selectedDay=Math.min(f.selectedDay,mb));var nb=(d._getFirstDayOfMonth(j,g)-x+7)%7,Z=Math.ceil((nb+mb)/7),qb=W?d.maxRows>Z?d.maxRows:Z:Z;d.maxRows=qb;for(var i=d._daylightSavingAdjust(new Date(j,g,1-nb)),rb=0;rb<qb;rb++){l+="<tr>";for(var tb=sb?'<td class="ui-datepicker-week-col">'+d._get(f,M)(i)+"</td>":b,w=0;w<7;w++){var Q=bb?bb.apply(f.input?f.input[0]:c,[i]):[!0,b],y=i.getMonth()!=g,T=y&&!zb||!Q[0]||A&&i<A||s&&i>s;tb+='<td class="'+((w+x+6)%7>=5?" ui-datepicker-week-end":b)+(y?" ui-datepicker-other-month":b)+(i.getTime()==hb.getTime()&&g==f.selectedMonth&&f._keyEvent||fb.getTime()==i.getTime()&&fb.getTime()==hb.getTime()?" "+d._dayOverClass:b)+(T?" "+d._unselectableClass+" ui-state-disabled":b)+(y&&!V?b:" "+Q[1]+(i.getTime()==X.getTime()?" "+d._currentClass:b)+(i.getTime()==q.getTime()?" ui-datepicker-today":b))+'"'+((!y||V)&&Q[2]?' title="'+Q[2]+'"':b)+(T?b:' data-handler="selectDay" data-event="click" data-month="'+i.getMonth()+'" data-year="'+i.getFullYear()+'"')+">"+(y&&!V?P:T?'<span class="ui-state-default">'+i.getDate()+z:'<a class="ui-state-default'+(i.getTime()==q.getTime()?" ui-state-highlight":b)+(i.getTime()==X.getTime()?" ui-state-active":b)+(y?" ui-priority-secondary":b)+'" href="#">'+i.getDate()+"</a>")+"</td>",i.setDate(i.getDate()+1),i=d._daylightSavingAdjust(i)}l+=tb+"</tr>"}g++,g>11&&(g=0,j++),l+="</tbody></table>"+(W?O+(n[0]>0&&F==n[1]-1?'<div class="ui-datepicker-row-break"></div>':b):b),gb+=l}Y+=gb}return Y+=Bb+(a.browser.msie&&parseInt(a.browser.version,e)<7&&!f.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':b),f._keyEvent=!1,Y},_generateMonthYearHeader:function(a,u,j,k,l,q,A,B){var p="</select>",o="</option>",n=' selected="selected"',m='<option value="',i=this,s=i._get(a,"changeMonth"),t=i._get(a,"changeYear"),v=i._get(a,"showMonthAfterYear"),f='<div class="ui-datepicker-title">',h=b;if(q||!s)h+='<span class="ui-datepicker-month">'+A[u]+z;else{var C=k&&k.getFullYear()==j,D=l&&l.getFullYear()==j;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!C||g>=k.getMonth())&&(!D||g<=l.getMonth())&&(h+=m+g+'"'+(g==u?n:b)+">"+B[g]+o);h+=p}v||(f+=h+(q||!s||!t?P:b));if(!a.yearshtml){a.yearshtml=b;if(q||!t)f+='<span class="ui-datepicker-year">'+j+z;else{var w=i._get(a,"yearRange").split(":"),x=(new Date).getFullYear(),y=function(a){var b=a.match(/c[+-].*/)?j+parseInt(a.substring(1),e):a.match(/[+-].*/)?x+parseInt(a,e):parseInt(a,e);return isNaN(b)?x:b},d=y(w[0]),r=Math.max(d,y(w[1]||b));d=k?Math.max(d,k.getFullYear()):d,r=l?Math.min(r,l.getFullYear()):r,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;d<=r;d++)a.yearshtml+=m+d+'"'+(d==j?n:b)+">"+d+o;a.yearshtml+=p,f+=a.yearshtml,a.yearshtml=c}}return f+=i._get(a,"yearSuffix"),v&&(f+=(q||!s||!t?P:b)+h),f+=O,f},_adjustInstDate:function(a,e,b){var c=this,g=a.drawYear+(b=="Y"?e:0),h=a.drawMonth+(b==d?e:0),j=Math.min(a.selectedDay,c._getDaysInMonth(g,h))+(b==i?e:0),f=c._restrictMinMax(a,c._daylightSavingAdjust(new Date(g,h,j)));a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),(b==d||b=="Y")&&c._notifyChange(a)},_restrictMinMax:function(d,e){var b=this._getMinMaxDate(d,B),c=this._getMinMaxDate(d,C),a=b&&e<b?b:e;return a=c&&a>c?c:a,a},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:c,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(b){var a=this._get(b,"numberOfMonths");return a==c?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),c)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(d,c,f,g){var a=this,e=a._getNumberOfMonths(d),b=a._daylightSavingAdjust(new Date(f,g+(c<0?c:e[0]*e[1]),1));return c<0&&b.setDate(a._getDaysInMonth(b.getFullYear(),b.getMonth())),a._isInRange(d,b)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,B),d=this._getMinMaxDate(a,C);return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(b){var a=this,c=a._get(b,"shortYearCutoff");return c=typeof c!=j?c:(new Date).getFullYear()%o+parseInt(c,e),{shortYearCutoff:c,dayNamesShort:a._get(b,J),dayNames:a._get(b,I),monthNamesShort:a._get(b,H),monthNames:a._get(b,G)}},_formatDate:function(a,c,d,e){var b=this;c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var f=c?typeof c==w?c:b._daylightSavingAdjust(new Date(e,d,c)):b._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b.formatDate(b._get(a,n),f,b._getFormatConfig(a))}}),a.fn.datepicker=function(b){var c="Datepicker",d=this;if(!d.length)return d;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick).find(K).append(a.datepicker.dpDiv),a.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return typeof b!=j||b!="isDisabled"&&b!="getDate"&&b!="widget"?b=="option"&&arguments.length==2&&typeof arguments[1]==j?a.datepicker["_"+b+c].apply(a.datepicker,[d[0]].concat(e)):d.each(function(){typeof b==j?a.datepicker["_"+b+c].apply(a.datepicker,[this].concat(e)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+c].apply(a.datepicker,[d[0]].concat(e))},a.datepicker=new jb,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.8.22",window[f+D]=a})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.progressbar.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,d){var c="aria-valuenow",b="ui-progressbar ui-widget ui-widget-content ui-corner-all";a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){var c=this;c.element.addClass(b).attr({role:"progressbar","aria-valuemin":c.min,"aria-valuemax":c.options.max,"aria-valuenow":c._value()}),c.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(c.element),c.oldValue=c._value(),c._refreshValue()},destroy:function(){this.element.removeClass(b).removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr(c),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===d?this._value():(this._setOption("value",a),this)},_setOption:function(c,d){var b=this;c==="value"&&(b.options.value=d,b._refreshValue(),b._value()===b.options.max&&b._trigger("complete")),a.Widget.prototype._setOption.apply(b,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this,b=a.value(),d=a._percentage();a.oldValue!==b&&(a.oldValue=b,a._trigger("change")),a.valueDiv.toggle(b>a.min).toggleClass("ui-corner-right",b===a.options.max).width(d.toFixed(0)+"%"),a.element.attr(c,b)}}),a.extend(a.ui.progressbar,{version:"1.8.22"})})(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
jQuery.effects||function(a,n){var e=1.70158,m=".ui-effects-wrapper",l="ec.storage.",j="toggle",f=128,i=139,b=255,h="number",g="string",d=null,p="backgroundColor",k="transparent",c=10;function r(d){var b;return d&&d.constructor==Array&&d.length==3?d:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(d))?[parseInt(b[1],c),parseInt(b[2],c),parseInt(b[3],c)]:(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(d))?[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(d))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(d))?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:(b=/rgba\(0, 0, 0, 0\)/.exec(d))?s.transparent:s[a.trim(d).toLowerCase()]}function w(b,d){var c;do{c=(a.curCSS||a.css)(b,d);if(c!=""&&c!=k||a.nodeName(b,"body"))break;d=p}while(b=b.parentNode);return r(c)}function u(){var a=document.defaultView?document.defaultView.getComputedStyle(this,d):this.currentStyle,c={},b,e;if(a&&a.length&&a[0]&&a[a[0]]){var f=a.length;while(f--)b=a[f],typeof a[b]==g&&(e=b.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()}),c[e]=a[b])}else for(b in a)typeof a[b]==g&&(c[b]=a[b]);return c}function v(c){var b,e;for(b in c)e=c[b],(e==d||a.isFunction(e)||b in x||/scrollbar/.test(b)||!/color/i.test(b)&&isNaN(parseFloat(e)))&&delete c[b];return c}function y(d,b){var c={_:0},a;for(a in b)d[a]!=b[a]&&(c[a]=b[a]);return c}function o(f,b,c,e){typeof f=="object"&&(e=b,c=d,b=f,f=b.effect),a.isFunction(b)&&(e=b,c=d,b={});if(typeof b==h||a.fx.speeds[b])e=c,c=b,b={};return a.isFunction(c)&&(e=c,c=d),b=b||{},c=c||b.duration,c=a.fx.off?0:typeof c==h?c:c in a.fx.speeds?a.fx.speeds[c]:a.fx.speeds._default,e=e||b.complete,[f,b,c,e]}function q(b){return!b||typeof b==h||a.fx.speeds[b]?!0:typeof b==g&&!a.effects[b]?!0:!1}a.effects={},a.each([p,"borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(e,d){a.fx.step[d]=function(a){a.colorInit||(a.start=w(a.elem,d),a.end=r(a.end),a.colorInit=!0),a.elem.style[d]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],c),b),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],c),b),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],c),b),0)+")"}});var s={aqua:[0,b,b],azure:[240,b,b],beige:[245,245,220],black:[0,0,0],blue:[0,0,b],brown:[165,42,42],cyan:[0,b,b],darkblue:[0,0,i],darkcyan:[0,i,i],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[i,0,i],darkolivegreen:[85,107,47],darkorange:[b,140,0],darkorchid:[153,50,204],darkred:[i,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[b,0,b],gold:[b,215,0],green:[0,f,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,b,b],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[b,182,193],lightyellow:[b,b,224],lime:[0,b,0],magenta:[b,0,b],maroon:[f,0,0],navy:[0,0,f],olive:[f,f,0],orange:[b,165,0],pink:[b,192,203],purple:[f,0,f],violet:[f,0,f],red:[b,0,0],silver:[192,192,192],white:[b,b,b],yellow:[b,b,0],transparent:[b,b,b]},t=["add","remove",j],x={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,f,c,e){return a.isFunction(c)&&(e=c,c=d),this.queue(function(){var d="style",g=a(this),h=g.attr(d)||" ",j=v(u.call(this)),i,k=g.attr("class")||"";a.each(t,function(c,a){b[a]&&g[a+"Class"](b[a])}),i=v(u.call(this)),g.attr("class",k),g.animate(y(j,i),{queue:!1,duration:f,easing:c,complete:function(){a.each(t,function(c,a){b[a]&&g[a+"Class"](b[a])}),typeof g.attr(d)=="object"?(g.attr(d).cssText="",g.attr(d).cssText=h):g.attr(d,h),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,b,d,e,f){return typeof b=="boolean"||b===n?d?a.effects.animateClass.apply(this,[b?{add:c}:{remove:c},d,e,f]):this._toggleClass(c,b):a.effects.animateClass.apply(this,[{toggle:c},b,d,e])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.22",save:function(c,b){for(var a=0;a<b.length;a++)b[a]!==d&&c.data(l+b[a],c[0].style[b[a]])},restore:function(c,b){for(var a=0;a<b.length;a++)b[a]!==d&&c.css(b[a],c.data(l+b[a]))},setMode:function(b,a){return a==j&&(a=b.is(":hidden")?"show":"hide"),a},getBaseline:function(c,d){var a,b;switch(c[0]){case"top":a=0;break;case"middle":a=.5;break;case"bottom":a=1;break;default:a=c[0]/d.height}switch(c[1]){case"left":b=0;break;case"center":b=.5;break;case"right":b=1;break;default:b=c[1]/d.width}return{x:b,y:a}},createWrapper:function(b){var d="auto",e="relative",h="position";if(b.parent().is(m))return b.parent();var f={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},i=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:k,border:"none",margin:0,padding:0}),g=document.activeElement;try{g.id}catch(j){g=document.body}return b.wrap(i),(b[0]===g||a.contains(b[0],g))&&a(g).focus(),i=b.parent(),b.css(h)=="static"?(i.css({position:e}),b.css({position:e})):(a.extend(f,{position:b.css(h),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(e,a){f[a]=b.css(a),isNaN(parseInt(f[a],c))&&(f[a]=d)}),b.css({position:e,top:0,left:0,right:d,bottom:d})),i.css(f).show()},removeWrapper:function(b){var d,c=document.activeElement;return b.parent().is(m)?(d=b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus(),d):b},setTransition:function(c,d,e,b){return b=b||{},a.each(d,function(f,d){var a=c.cssUnit(d);a[0]>0&&(b[d]=a[0]*e+a[1])}),b}}),a.fn.extend({effect:function(g){var c=this,d=o.apply(c,arguments),b={options:d[1],duration:d[2],callback:d[3]},e=b.options.mode,f=a.effects[g];return a.fx.off||!f?e?c[e](b.duration,b.callback):c.each(function(){b.callback&&b.callback.call(this)}):f.call(c,b)},_show:a.fn.show,show:function(c){var a=this;if(q(c))return a._show.apply(a,arguments);var b=o.apply(a,arguments);return b[1].mode="show",a.effect.apply(a,b)},_hide:a.fn.hide,hide:function(c){var a=this;if(q(c))return a._hide.apply(a,arguments);var b=o.apply(a,arguments);return b[1].mode="hide",a.effect.apply(a,b)},__toggle:a.fn.toggle,toggle:function(c){var b=this;if(q(c)||typeof c=="boolean"||a.isFunction(c))return b.__toggle.apply(b,arguments);var d=o.apply(b,arguments);return d[1].mode=j,b.effect.apply(b,d)},cssUnit:function(d){var b=this.css(d),c=[];return a.each(["em","px","%","pt"],function(d,a){b.indexOf(a)>0&&(c=[parseFloat(b),a])}),c}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(e,a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(e,a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(e,a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(e,a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(e,a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(e,a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(e,a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(e,b,c,a,d){return-a*Math.cos(b/d*(Math.PI/2))+a+c},easeOutSine:function(e,a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(e,a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(f,a,b,d,e){return a==0?b:d*Math.pow(2,c*(a/e-1))+b},easeOutExpo:function(e,a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(f,a,b,d,e){return a==0?b:a==e?b+d:(a/=e/2)<1?d/2*Math.pow(2,c*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(e,a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(e,a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(e,a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(j,d,g,a,h){var i=e,b=0,f=a;if(d==0)return g;if((d/=h)==1)return g+a;b||(b=h*.3);if(f<Math.abs(a)){f=a;var i=b/4}else var i=b/(2*Math.PI)*Math.asin(a/f);return-(f*Math.pow(2,c*(d-=1))*Math.sin((d*h-i)*2*Math.PI/b))+g},easeOutElastic:function(i,c,f,a,g){var h=e,b=0,d=a;if(c==0)return f;if((c/=g)==1)return f+a;b||(b=g*.3);if(d<Math.abs(a)){d=a;var h=b/4}else var h=b/(2*Math.PI)*Math.asin(a/d);return d*Math.pow(2,-10*c)*Math.sin((c*g-h)*2*Math.PI/b)+a+f},easeInOutElastic:function(j,a,g,b,h){var i=e,d=0,f=b;if(a==0)return g;if((a/=h/2)==2)return g+b;d||(d=h*.3*1.5);if(f<Math.abs(b)){f=b;var i=d/4}else var i=d/(2*Math.PI)*Math.asin(b/f);return a<1?-.5*f*Math.pow(2,c*(a-=1))*Math.sin((a*h-i)*2*Math.PI/d)+g:f*Math.pow(2,-10*(a-=1))*Math.sin((a*h-i)*2*Math.PI/d)*.5+b+g},easeInBack:function(g,b,c,d,f,a){return a==n&&(a=e),d*(b/=f)*b*((a+1)*b-a)+c},easeOutBack:function(g,a,c,d,f,b){return b==n&&(b=e),d*((a=a/f-1)*a*((b+1)*a+b)+1)+c},easeInOutBack:function(g,a,c,d,f,b){return b==n&&(b=e),(a/=f/2)<1?d/2*a*a*(((b*=1.525)+1)*a-b)+c:d/2*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)+c},easeInBounce:function(d,e,f,b,c){return b-a.easing.easeOutBounce(d,c-e,0,b,c)+f},easeOutBounce:function(g,b,d,e,f){var c=7.5625,a=2.75;return(b/=f)<1/a?e*c*b*b+d:b<2/a?e*(c*(b-=1.5/a)*b+.75)+d:b<2.5/a?e*(c*(b-=2.25/a)*b+.9375)+d:e*(c*(b-=2.625/a)*b+.984375)+d},easeInOutBounce:function(e,c,f,d,b){return c<b/2?a.easing.easeInBounce(e,c*2,0,d,b)*.5+f:a.easing.easeOutBounce(e,c*2-b,0,d,b)*.5+d*.5+f}})}(jQuery);
/* jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.blind.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a){a.effects.blind=function(b){return this.queue(function(){var c="vertical",d=a(this),g=["position","top","bottom","left","right"],f=a.effects.setMode(d,b.options.mode||"hide"),h=b.options.direction||c;a.effects.save(d,g),d.show();var e=a.effects.createWrapper(d).css({overflow:"hidden"}),i=h==c?"height":"width",k=h==c?e.height():e.width();f=="show"&&e.css(i,0);var j={};j[i]=f=="show"?k:0,e.animate(j,b.duration,b.options.easing,function(){f=="hide"&&d.hide(),a.effects.restore(d,g),a.effects.removeWrapper(d),b.callback&&b.callback.apply(d[0],arguments),d.dequeue()})})}})(jQuery);(function(a){var c=false,e=true,b=null,g={hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",searchDelay:300,minChars:1,tokenLimit:b,jsonContainer:b,method:"GET",contentType:"json",queryParam:"q",tokenDelimiter:",",preventDuplicates:e,prePopulate:b,processPrePopulate:c,animateDropdown:e,onResult:b,onAdd:b,onDelete:b,idPrefix:"token-input-",internalTokenMarkup:function(a){return"<p>"+a.name+"</p>"},afterTokenSelectedFunction:function(){},beforeTokenAddedFunction:function(){}},f={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-container",tokenInput:"token-input-Input"},d={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188};a.fn.tokenInput=function(b,d){var c=a.extend({},g,d||{});return this.each(function(){a(this).data("tokenInputObject",new a.TokenList(this,b,c))})};a.TokenList=function(l,i,k){var h=l,j=i,g=k;this.init=function(a){this.binding=a;return this};this.render=function(T){var s="mouseover",i="li",m="data-bind",k="li.",l="id",t=this;a.extend(g,T||{});var w=a(h).attr("name"),H=a("<div></div>").attr(l,w+"_container");a(h).after(H);a(h).hide();g.viewModel=j;if(g.classes)g.classes=a.extend({},f,g.classes);else if(g.theme){g.classes={};a.each(f,function(b,a){g.classes[b]=a+"-"+g.theme})}else g.classes=f;var C=function(){return g.viewModel.selectedItems().length},D,B=function(){return a(o).find(k+g.classes.selectedToken)},v=function(){return a(q).find(k+g.classes.selectedDropdownItem)},o=a("<ul />").addClass(g.classes.tokenList).attr(m,"foreach: selectedItems").delegate("span","click",function(){z(a(this).parent())}).delegate(i,"click",function(){var b=a(this);N(b);n.focus();MF.vent.trigger(w+":tokenizer:selectedClick",b.attr(l))}).delegate(i,s,function(){var b=a(this);B()!==this&&b.addClass(g.classes.highlightedToken)}).delegate(i,"mouseout",function(){var b=a(this);B()!==this&&b.removeClass(g.classes.highlightedToken)}).appendTo(H),J=a("<li>").addClass(g.classes.token).attr(m,"attr:{id:id}").append(g.internalTokenMarkup()),W=a("<span>"+g.deleteText+"</span>").addClass(g.classes.tokenDelete).appendTo(J);o.append(J);var n=a('<input type="text"  autocomplete="off">').addClass(g.classes.tokenInput).css({outline:"none"}).attr(l,g.idPrefix+h.id).blur(function(){p();a(this).val("")}).keydown(function(f){var i,j,g=v();switch(f.keyCode){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:if(!a(this).val()){i=g.prev();j=g.next();if((f.keyCode===d.LEFT||f.keyCode===d.UP)&&i.length)u(a(i.get(0)));else(f.keyCode===d.RIGHT||f.keyCode===d.DOWN)&&j.length&&u(a(j.get(0)))}else{var h=b;if(f.keyCode===d.DOWN||f.keyCode===d.RIGHT)h=g.next();else h=g.prev();h().length&&u(h);return c}break;case d.TAB:case d.ENTER:case d.NUMPAD_ENTER:case d.COMMA:if(v().length){var k=E(v());y(k);p();return c}break;case d.ESCAPE:p();return e;default:String.fromCharCode(f.which)&&setTimeout(function(){F()},5)}}),R=a("<div />").addClass("token-input-sprite"),S=a("<div/>").click(function(){(g.tokenLimit===b||g.tokenLimit!==C())&&F()}).addClass(g.classes.inputToken).append(n).append(R).insertAfter(o),r=a("<div>").addClass(g.classes.dropdown).hide().insertAfter(S),q=a("<ul>").attr(m,"foreach: _resultsItems").delegate(i,s,function(){u(a(this))}).delegate(i,"mousedown",function(){var a=E(this);y(a);return c}).hide().appendTo(r);a("<li>").attr(m,"text:name, attr:{id:id}").appendTo(q);t.getSelectedItems=function(){return g.viewModel.selectedItems()};t.clear=function(){o.children(i).each(z)};t.add=function(a){y(a)};t.remove=function(b){o.children(i).each(function(){var g=a(this).data("tokeninput"),d=e;for(var f in b)if(b[f]!==g[f]){d=c;break}d&&z(a(this))})};t.addToAvailableList=function(a){!_.any(g.viewModel._availableItems,function(c,b){return b.id()==a.id})&&g.viewModel._availableItems.push(a)};function O(){if(g.tokenLimit!==b&&C()>=g.tokenLimit){n.hide();p()}else n.focus()}function M(b){var a={id:ko.observable(b.id()),name:ko.observable(b.name())};g.beforeTokenAddedFunction(a);g.viewModel.selectedItems.push(a);g.afterTokenSelectedFunction(a);return a}function y(b){var d=g.onAdd;if(C()>0&&g.preventDuplicates){var c=_.find(g.viewModel.selectedItems(),function(a){return b.id()===a.id()});if(c){var f=o.find("li[id='"+c.id()+"']");x(f);n.focus();p();return}}M(b);var e=o.find("li[id='"+b.id()+"']");x(e);O();n.val("");p();MF.vent.trigger(w+":tokenizer:add",g.viewModel.selectedItems());a.isFunction(d)&&d.call(b)}function z(e){var d=K(e),c=g.onDelete;g.viewModel.selectedItems.remove(d);n.focus();g.tokenLimit!==b&&n.show().val("").focus();MF.vent.trigger(w+":tokenizer:remove",g.viewModel.selectedItems());a.isFunction(c)&&c.call(args)}function K(b){return _.find(g.viewModel.selectedItems(),function(c){return a(b).find("p").text().indexOf(c.name())>-1})}function E(b){return _.find(g.viewModel._availableItems(),function(c){return a(b).attr(l)===c.id()})}function N(a){var b=B().get(0);if(b===a.get(0))a.removeClass(g.classes.selectedToken);else x(a);n.val("")}function x(a){o.find(k+g.classes.selectedToken).removeClass(g.classes.selectedToken);a.addClass(g.classes.selectedToken)}function u(b){if(b){v().length&&L(v());a(b).addClass(g.classes.selectedDropdownItem)}}function L(a){a.removeClass(g.classes.selectedDropdownItem)}function P(a,b){if(b)a=a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");return a}function A(b){a(r).children("*").not("ul").remove();g.viewModel._resultsItems.removeAll();_.each(b,function(a){g.viewModel._resultsItems.push(a)})}function p(){r.hide();a(q).html();a(r).children("*").not("ul").remove();q.find(k+g.classes.selectedDropdownItem).removeClass(g.classes.selectedDropdownItem)}function I(){function a(){var a=setTimeout(function(){p()},8e3);r.mouseenter(function(){clearTimeout(a)})}r.show().mouseleave(function(){a()});if(g.animateDropdown)q.slideDown("fast");else q.show("slow");a()}function G(b){if(g.viewModel._resultsItems().length>0)a.each(a(q).find(i),function(d,e){var c=a(e);c.html(P(c.text(),b));if(d%2)c.addClass(g.classes.dropdownItem);else c.addClass(g.classes.dropdownItem2);d===0&&u(e)});else g.noResultsText&&a(r).append("<p>"+g.noResultsText+"</p>")}function F(){var a=n.val().toLowerCase();if(!a||!a.length){A(g.viewModel._availableItems());G("");I();return}a.length>=g.minChars&&Q(a)}function Q(c){var d=a.grep(g.viewModel._availableItems(),function(a){return a.name().toLowerCase().indexOf(c.toLowerCase())>-1});A(d);if(a.isFunction(g.onResult)){var b=g.onResult.call(g.viewModel._resultsItems);b&&A(b)}G(c);I()}t.binding()}}})(jQuery);(function(c){var a="",b="Cancel";c.jgrid={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:["equal","not equal","less","less or equal","greater","greater or equal","begins with","does not begin with","is in","is not in","ends with","does not end with","contains","does not contain"],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],matchText:" match",rulesText:" rules"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:b,bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:b,msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:b},nav:{edittext:a,edittitle:"Edit selected row",addtext:a,addtitle:"Add new row",deltext:a,deltitle:"Delete selected row",searchtext:a,searchtitle:"Find records",refreshtext:a,refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:a,viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:b},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:" ",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:" ",decimalPlaces:2,prefix:a,suffix:a,defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(a){return a<11||a>13?(["st","nd","rd","th"])[Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"d/m/Y",masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:false},baseLinkUrl:a,showAction:a,target:a,checkbox:{disabled:true},idName:"id"}}})(jQuery);(function(c){var pb="showHideCol",hb="tr.footrow td:eq(",K="td:eq(",U="jqgrow",T="span",qb="thead:first",v="ui-state-highlight",w="#jqg_",F="ui-subgrid",S="boolean",bb="both",O="click",Z="true",G="false",z="aria-selected",N="last",gb="first",r="checked",C="#cb_",l="ui-state-disabled",o="attr",n="prop",Y="set",jb="addSubGrid",kb="tbody:first",ab="</tr>",ib="addSubGridCell",R=" tbody:first",ob=" tbody:first tr:first",nb=" tbody:first tr:gt(0)",j="#",k="local",X="rn",fb="subgrid",W="cb",mb=' id="jqg_',lb='<input role="checkbox" type="checkbox"',J="</td>",t="undefined",i="_",u="setSelection",q="width",A="table:first",g="px",B="none",I="display",x="#gbox_",Q="edit",M="asc",eb="desc",E=" ",db="Y-m-d",L="0",cb="datetime",D="date",P="text",f=10,p=")",rb="function",H="object",b=true,d=null,a=false,s="string",h=-1,m='"',y=">",e="",V="&#160;";c.jgrid=c.jgrid||{};c.extend(c.jgrid,{htmlDecode:function(a){return a&&(a=="&nbsp;"||a==V||a.length==1&&a.charCodeAt(0)==160)?e:!a?a:String(a).replace(/&gt;/g,y).replace(/&lt;/g,"<").replace(/&quot;/g,m).replace(/&amp;/g,"&")},htmlEncode:function(a){return!a?a:String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},format:function(a){var b=c.makeArray(arguments).slice(1);if(a===undefined)a=e;return a.replace(/\{(\d+)\}/g,function(c,a){return b[a]})},getCellIndex:function(b){var a=c(b);if(a.is("tr"))return h;a=(!a.is("td")&&!a.is("th")?a.closest("td,th"):a)[0];return c.browser.msie?c.inArray(a,a.parentNode.cells):a.cellIndex},stripHtml:function(a){a=a+e;var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;if(a){a=a.replace(b,e);return a&&a!=="&nbsp;"&&a!==V?a.replace(/\"/g,"'"):e}else return a},stripPref:function(a,b){var c=Object.prototype.toString.call(a).slice(8,h);if(c=="String"||c=="Number"){a=String(a);b=a!=e?String(b).replace(String(a),e):b}return b},stringToDoc:function(c){var b;if(typeof c!==s)return c;try{var e=new DOMParser;b=e.parseFromString(c,"text/xml")}catch(f){b=new ActiveXObject("Microsoft.XMLDOM");b.async=a;b.loadXML(c)}return b&&b.documentElement&&b.documentElement.tagName!="parsererror"?b:d},parse:function(d){var a=d;if(a.substr(0,9)=="while(1);")a=a.substr(9);if(a.substr(0,2)=="/*")a=a.substr(2,a.length-4);if(!a)a="{}";return c.jgrid.useJSON===b&&typeof JSON===H&&typeof JSON.parse===rb?JSON.parse(a):eval("("+a+p)},parseDate:function(i,b){var e={m:1,d:1,y:1970,h:0,i:0,s:0},a,o,g,m=/[\\\/:_;.,\t\T\s-]/;if(b&&b!==d&&b!==undefined){b=c.trim(b);b=b.split(m);i=i.split(m);var n=c.jgrid.formatter.date.monthNames,j=c.jgrid.formatter.date.AmPm,l=function(b,a){if(b===0){if(a==12)a=0}else if(a!=12)a+=12;return a};for(a=0,o=i.length;a<o;a++){if(i[a]=="M"){g=c.inArray(b[a],n);if(g!==h&&g<12)b[a]=g+1}if(i[a]=="F"){g=c.inArray(b[a],n);if(g!==h&&g>11)b[a]=g+1-12}if(i[a]=="a"){g=c.inArray(b[a],j);if(g!==h&&g<2&&b[a]==j[g]){b[a]=g;e.h=l(b[a],e.h)}}if(i[a]=="A"){g=c.inArray(b[a],j);if(g!==h&&g>1&&b[a]==j[g]){b[a]=g-2;e.h=l(b[a],e.h)}}if(b[a]!==undefined)e[i[a].toLowerCase()]=parseInt(b[a],f)}e.m=parseInt(e.m,f)-1;var k=e.y;if(k>=70&&k<=99)e.y=1900+e.y;else if(k>=0&&k<=69)e.y=2e3+e.y}return new Date(e.y,e.m,e.d,e.h,e.i,e.s,0)},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(a){return(a?a:c.jgrid.uidPref)+c.jgrid.guid++},getAccessor:function(c,b){var a,f,d=[],e;if(typeof b===rb)return b(c);a=c[b];if(a===undefined)try{if(typeof b===s)d=b.split(".");e=d.length;if(e){a=c;while(a&&e--){f=d.shift();a=a[f]}}}catch(g){}return a},ajaxOptions:{},from:function(g){var f=function(t,F){var k="this",j="')",i="jQuery.jgrid.getAccessor(this,'",l="number",g=this;if(typeof t==s)t=c.data(t);var f=g,n=t,z=b,r=a,q=F,B=/[\$,%]/g,w=d,A=d,C=0,o=a,x=e,v=[],u=b;if(typeof t==H&&t.push){if(t.length>0)if(typeof t[0]!=H)u=a;else u=b}else throw"data provides is not an array";g._hasData=function(){return n===d?a:n.length===0?a:b};g._getStr=function(b){var a=[];r&&a.push("jQuery.trim(");a.push("String("+b+p);r&&a.push(p);!z&&a.push(".toLowerCase()");return a.join(e)};g._strComp=function(a){return typeof a==s?".toString()":e};g._group=function(a,b){return{field:a.toString(),unique:b,items:[]}};g._toStr=function(a){if(r)a=c.trim(a);if(!z)a=a.toLowerCase();a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"');return a};g._funcLoop=function(b){var a=[];c.each(n,function(d,c){a.push(b(c))});return a};g._append=function(c){var b;if(q===d)q=e;else q+=x===e?" && ":x;for(b=0;b<C;b++)q+="(";if(o)q+="!";q+="("+c+p;o=a;x=e;C=0};g._setCommand=function(b,a){w=b;A=a};g._resetNegate=function(){o=a};g._repeatCommand=function(a,b){return w===d?f:a!==d&&b!==d?w(a,b):A===d?w(a):!u?w(a):w(A,a)};g._equals=function(a,b){return f._compare(a,b,1)===0};g._compare=function(a,b,c){if(c===undefined)c=1;if(a===undefined)a=d;if(b===undefined)b=d;if(a===d&&b===d)return 0;if(a===d&&b!==d)return 1;if(a!==d&&b===d)return h;if(!z&&typeof a!==l&&typeof b!==l){a=String(a).toLowerCase();b=String(b).toLowerCase()}return a<b?-c:a>b?c:0};g._performSort=function(){if(v.length===0)return;n=f._doSort(n,0)};g._doSort=function(l,a){var k=v[a].by,j=v[a].dir,i=v[a].type,h=v[a].datefmt;if(a==v.length-1)return f._getOrder(l,k,j,i,h);a++;for(var g=f._getGroup(l,k,j,i,h),d=[],b=0;b<g.length;b++)for(var e=f._doSort(g[b].items,a),c=0;c<e.length;c++)d.push(e[c]);return d};g._getOrder=function(j,m,r,a,p){var k=[],i=[],o=r=="a"?1:h,n,d,g,b;if(a===undefined)a=P;if(a=="float"||a==l||a=="currency"||a=="numeric")b=function(b){var a=parseFloat(String(b).replace(B,e));return isNaN(a)?0:a};else if(a=="int"||a=="integer")b=function(a){return a?parseFloat(String(a).replace(B,e)):0};else if(a==D||a==cb)b=function(a){return c.jgrid.parseDate(p,a).getTime()};else if(c.isFunction(a))b=a;else b=function(a){if(!a)a=e;return c.trim(String(a).toUpperCase())};c.each(j,function(f,a){d=m!==e?c.jgrid.getAccessor(a,m):a;if(d===undefined)d=e;d=b(d,a);i.push({vSort:d,index:f})});i.sort(function(a,b){a=a.vSort;b=b.vSort;return f._compare(a,b,o)});g=0;var q=j.length;while(g<q){n=i[g].index;k.push(j[n]);g++}return k};g._getGroup=function(j,h,m,l,k){var g=[],a=d,i=d,b;c.each(f._getOrder(j,h,m,l,k),function(k,j){b=c.jgrid.getAccessor(j,h);if(b===undefined)b=e;if(!f._equals(i,b)){i=b;a!==d&&g.push(a);a=f._group(h,b)}a.items.push(j)});a!==d&&g.push(a);return g};g.ignoreCase=function(){z=a;return f};g.useCase=function(){z=b;return f};g.trim=function(){r=b;return f};g.noTrim=function(){r=a;return f};g.execute=function(){var b=q,a=[];if(b===d)return f;c.each(n,function(){eval(b)&&a.push(this)});n=a;return f};g.data=function(){return n};g.select=function(b){f._performSort();if(!f._hasData())return[];f.execute();if(c.isFunction(b)){var a=[];c.each(n,function(d,c){a.push(b(c))});return a}return n};g.hasMatch=function(){if(!f._hasData())return a;f.execute();return n.length>0};g.andNot=function(a,b,c){o=!o;return f.and(a,b,c)};g.orNot=function(a,b,c){o=!o;return f.or(a,b,c)};g.not=function(a,b,c){return f.andNot(a,b,c)};g.and=function(a,b,c){x=" && ";return a===undefined?f:f._repeatCommand(a,b,c)};g.or=function(a,b,c){x=" || ";return a===undefined?f:f._repeatCommand(a,b,c)};g.orBegin=function(){C++;return f};g.orEnd=function(){if(q!==d)q+=p;return f};g.isNot=function(a){o=!o;return f.is(a)};g.is=function(a){f._append("this."+a);f._resetNegate();return f};g._compareValues=function(r,q,o,t,n){var h="parseFloat(",g="parseInt(",b;if(u)b=i+q+j;else b=k;if(o===undefined)o=d;var a=o,s=n.stype===undefined?P:n.stype;if(o!==d)switch(s){case"int":case"integer":a=isNaN(Number(a))||a===e?L:a;b=g+b+",10)";a=g+a+",10)";break;case"float":case l:case"numeric":a=String(a).replace(B,e);a=isNaN(Number(a))||a===e?L:a;b=h+b+p;a=h+a+p;break;case D:case cb:a=String(c.jgrid.parseDate(n.newfmt||db,a).getTime());b='jQuery.jgrid.parseDate("'+n.srcfmt+'",'+b+").getTime()";break;default:b=f._getStr(b);a=f._getStr(m+f._toStr(a)+m)}f._append(b+E+t+E+a);f._setCommand(r,q);f._resetNegate();return f};g.equals=function(a,c,b){return f._compareValues(f.equals,a,c,"==",b)};g.notEquals=function(a,c,b){return f._compareValues(f.equals,a,c,"!==",b)};g.isNull=function(a,c,b){return f._compareValues(f.equals,a,d,"===",b)};g.greater=function(a,c,b){return f._compareValues(f.greater,a,c,y,b)};g.less=function(a,c,b){return f._compareValues(f.less,a,c,"<",b)};g.greaterOrEquals=function(a,c,b){return f._compareValues(f.greaterOrEquals,a,c,">=",b)};g.lessOrEquals=function(a,c,b){return f._compareValues(f.lessOrEquals,a,c,"<=",b)};g.startsWith=function(e,b){var a=".substr(0,",h=b===undefined||b===d?e:b,g=r?c.trim(h.toString()).length:h.toString().length;if(u)f._append(f._getStr(i+e+j)+a+g+") == "+f._getStr(m+f._toStr(b)+m));else{g=r?c.trim(b.toString()).length:b.toString().length;f._append(f._getStr(k)+a+g+") == "+f._getStr(m+f._toStr(e)+m))}f._setCommand(f.startsWith,e);f._resetNegate();return f};g.endsWith=function(b,e){var a=".substr(",h=e===undefined||e===d?b:e,g=r?c.trim(h.toString()).length:h.toString().length;if(u)f._append(f._getStr(i+b+j)+a+f._getStr(i+b+j)+".length-"+g+","+g+') == "'+f._toStr(e)+m);else f._append(f._getStr(k)+a+f._getStr(k)+'.length-"'+f._toStr(b)+'".length,"'+f._toStr(b)+'".length) == "'+f._toStr(b)+m);f._setCommand(f.endsWith,b);f._resetNegate();return f};g.contains=function(c,d){var b='",0) > -1',a='.indexOf("';if(u)f._append(f._getStr(i+c+j)+a+f._toStr(d)+b);else f._append(f._getStr(k)+a+f._toStr(c)+b);f._setCommand(f.contains,c);f._resetNegate();return f};g.groupBy=function(e,c,b,a){return!f._hasData()?d:f._getGroup(n,e,c,b,a)};g.orderBy=function(g,a,b,e){a=a===undefined||a===d?"a":c.trim(a.toString().toLowerCase());if(b===d||b===undefined)b=P;if(e===d||e===undefined)e=db;if(a==eb||a=="descending")a="d";if(a==M||a=="ascending")a="a";v.push({by:g,dir:a,type:b,datefmt:e});return f};return f};return new f(g,d)},extend:function(a){c.extend(c.fn.jqGrid,a);!this.no_legacy_api&&c.fn.extend(a)}});c.fn.jqGrid=function(p){if(typeof p==s){var H=c.jgrid.getAccessor(c.fn.jqGrid,p);if(!H)throw"jqGrid - No such method: "+p;var K=c.makeArray(arguments).slice(1);return H.apply(this,K)}return this.each(function(){var tc=".ui-jqgrid-titlebar-close",Ub="ui-userdata ui-state-default",sc="selectstart",zb="tr.jqgrow",Tb="-rtl",rc="<div class='ui-jqgrid-hbox",wb="div",Sb="userdata",Ab="cell",ic="resetSelection",Ob="records",pc="</tr></tbody></table>",oc="'></span>",nc="<div id='",Eb="#load_",Lb=", #last",hb="ui-state-hover",Kb=", #prev",Jb="#first",hc="jsonstring",gc="footerData",fc="setTreeNode",ec="groupingRender",dc="groupingPrepare",cc=' style="display:none;"',Nb="_id_",bc="xmlstring",ac="div:first",Zb=">div:first",Yb='<td role="gridcell" ',mc=' title="',Xb="display:none;",Bb="'>",Ib="'></div>",ub="rtl",Fb="default",Hb="block",Wb="col-resize",tb="ltr",Rb="center",Mb="enable",Gb="visible",rb="id",xb="rows",Qb="page",yb="xml",U=this;if(U.grid)return;var pb=c.extend(b,{url:e,height:150,page:1,rowNum:20,rowTotal:d,records:0,pager:e,pgbuttons:b,pginput:b,colModel:[],rowList:[],colNames:[],sortorder:M,sortname:e,datatype:yb,mtype:"GET",altRows:a,selarrrow:[],savedRow:[],shrinkToFit:b,xmlReader:{},jsonReader:{},subGrid:a,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:d,beforeSelectRow:d,onSelectRow:d,onSortCol:d,ondblClickRow:d,onRightClickRow:d,onPaging:d,onSelectAll:d,loadComplete:d,gridComplete:d,loadError:d,loadBeforeSend:d,afterInsertRow:d,beforeRequest:d,beforeProcessing:d,onHeaderClick:d,viewrecords:a,loadonce:a,multiselect:a,multikey:a,editurl:d,search:a,caption:e,hidegrid:b,hiddengrid:a,postData:{},userData:{},treeGrid:a,treeGridModel:"nested",treeReader:{},treeANode:h,ExpandColumn:d,tree_root_level:0,prmNames:{page:Qb,rows:xb,sort:"sidx",order:"sord",search:"_search",nd:"nd",id:rb,oper:"oper",editoper:Q,addoper:"add",deloper:"del",subgridid:rb,npage:d,totalrows:"totalrows"},forceFit:a,gridstate:Gb,cellEdit:a,cellsubmit:"remote",nv:0,loadui:Mb,toolbar:[a,e],scroll:a,multiboxonly:a,deselectAfterSort:b,scrollrows:a,autowidth:a,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:a,rownumWidth:25,rownumbers:a,pagerpos:Rb,recordpos:"right",footerrow:a,userDataOnFooter:a,hoverrows:b,altclass:"ui-priority-secondary",viewsortcols:[a,"vertical",b],resizeclass:e,autoencode:a,remapColumns:[],ajaxGridOptions:{},direction:tb,toppager:a,headertitles:a,scrollTimeout:40,data:[],_index:{},grouping:a,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:a,sortitems:[],sortnames:[],groupDataSorted:a,summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus"},ignoreCase:a,cmTemplate:{},idPrefix:e},c.jgrid.defaults,p||{}),K={headers:[],cols:[],footers:[],dragStart:function(e,f,d){var b=this;b.resizing={idx:e,startX:f.clientX,sOL:d[0]};b.hDiv.style.cursor=Wb;b.curGbox=c("#rs_m"+c.jgrid.jqID(pb.id),x+c.jgrid.jqID(pb.id));b.curGbox.css({display:Hb,left:d[0],top:d[1],height:d[2]});c.isFunction(pb.resizeStart)&&pb.resizeStart.call(b,f,e);document.onselectstart=function(){return a}},dragMove:function(h){var a=this;if(a.resizing){var c=h.clientX-a.resizing.startX,e=a.headers[a.resizing.idx],f=pb.direction===tb?e.width+c:e.width-c,d,g;if(f>33){a.curGbox.css({left:a.resizing.sOL+c});if(pb.forceFit===b){d=a.headers[a.resizing.idx+pb.nv];g=pb.direction===tb?d.width-c:d.width+c;if(g>33){e.newWidth=f;d.newWidth=g}}else{a.newWidth=pb.direction===tb?pb.tblwidth+c:pb.tblwidth-c;e.newWidth=f}}}},dragEnd:function(){var e=this;e.hDiv.style.cursor=Fb;if(e.resizing){var h=e.resizing.idx,i=e.headers[h].newWidth||e.headers[h].width;i=parseInt(i,f);e.resizing=a;c("#rs_m"+c.jgrid.jqID(pb.id)).css(I,B);pb.colModel[h].width=i;e.headers[h].width=i;e.headers[h].el.style.width=i+g;e.cols[h].style.width=i+g;if(e.footers.length>0)e.footers[h].style.width=i+g;if(pb.forceFit===b){i=e.headers[h+pb.nv].newWidth||e.headers[h+pb.nv].width;e.headers[h+pb.nv].width=i;e.headers[h+pb.nv].el.style.width=i+g;e.cols[h+pb.nv].style.width=i+g;if(e.footers.length>0)e.footers[h+pb.nv].style.width=i+g;pb.colModel[h+pb.nv].width=i}else{pb.tblwidth=e.newWidth||pb.tblwidth;c(A,e.bDiv).css(q,pb.tblwidth+g);c(A,e.hDiv).css(q,pb.tblwidth+g);e.hDiv.scrollLeft=e.bDiv.scrollLeft;if(pb.footerrow){c(A,e.sDiv).css(q,pb.tblwidth+g);e.sDiv.scrollLeft=e.bDiv.scrollLeft}}c.isFunction(pb.resizeStop)&&pb.resizeStop.call(e,i,h)}e.curGbox=d;document.onselectstart=function(){return b}},populateVisible:function(){K.timer&&clearTimeout(K.timer);K.timer=d;var o=c(K.bDiv).height();if(!o)return;var k=c(A,K.bDiv),p,n;if(k[0].rows.length)try{p=k[0].rows[1];n=p?c(p).outerHeight()||K.prevRowHeight:K.prevRowHeight}catch(s){n=K.prevRowHeight}if(!n)return;K.prevRowHeight=n;var r=pb.rowNum,i=K.scrollTop=K.bDiv.scrollTop,m=Math.round(k.position().top)-i,l=m+k.height(),g=n*r,e,j,q;if(l<o&&m<=0&&(pb.lastpage===undefined||parseInt((l+i+g-1)/g,f)<=pb.lastpage)){j=parseInt((o-l+g-1)/g,f);if(l>=0||j<2||pb.scroll===b){e=Math.round((l+i)/g)+1;m=h}else m=1}if(m>0){e=parseInt(i/g,f)+1;j=parseInt((i+o)/g,f)+2-e;q=b}if(j){if(pb.lastpage&&e>pb.lastpage||pb.lastpage==1||e===pb.page&&e===pb.lastpage)return;if(K.hDiv.loading)K.timer=setTimeout(K.populateVisible,pb.scrollTimeout);else{pb.page=e;if(q){K.selectionPreserver(k[0]);K.emptyRows(K.bDiv,a,a)}K.populate(j)}}},scrollGrid:function(b){if(pb.scroll){var a=K.bDiv.scrollTop;if(K.scrollTop===undefined)K.scrollTop=0;if(a!=K.scrollTop){K.scrollTop=a;K.timer&&clearTimeout(K.timer);K.timer=setTimeout(K.populateVisible,pb.scrollTimeout)}}K.hDiv.scrollLeft=K.bDiv.scrollLeft;if(pb.footerrow)K.sDiv.scrollLeft=K.bDiv.scrollLeft;b&&b.stopPropagation()},selectionPreserver:function(f){var b=f.p,g=b.selrow,e=b.selarrrow?c.makeArray(b.selarrrow):d,i=f.grid.bDiv.scrollLeft,h=b.gridComplete;b.gridComplete=function(){b.selrow=d;b.selarrrow=[];if(b.multiselect&&e&&e.length>0)for(var j=0;j<e.length;j++)e[j]!=g&&c(f).jqGrid(u,e[j],a);g&&c(f).jqGrid(u,g,a);f.grid.bDiv.scrollLeft=i;b.gridComplete=h;b.gridComplete&&h()}}};if(U.tagName.toUpperCase()!="TABLE"){alert("Element is not a table");return}c(U).empty().attr("tabindex","1");U.p=pb;U.p.useProp=!!c.fn.prop;var sb,Cb,H;if(U.p.colNames.length===0)for(sb=0;sb<U.p.colModel.length;sb++)U.p.colNames[sb]=U.p.colModel[sb].label||U.p.colModel[sb].name;if(U.p.colNames.length!==U.p.colModel.length){alert(c.jgrid.errors.model);return}var qc=c("<div class='ui-jqgrid-view'></div>"),Rc,zc=c.browser.msie?b:a,Nc=c.browser.webkit||c.browser.safari?b:a;H=U;H.p.direction=c.trim(H.p.direction.toLowerCase());if(c.inArray(H.p.direction,[tb,ub])==h)H.p.direction=tb;Cb=H.p.direction;c(qc).insertBefore(U);c(U).appendTo(qc).removeClass("scroll");var Bc=c("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");c(Bc).insertBefore(qc).attr({id:"gbox_"+U.id,dir:Cb});c(qc).appendTo(Bc).attr(rb,"gview_"+U.id);if(zc&&c.browser.version<=6)Rc='<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>';else Rc=e;c("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+U.id+Ib).append(Rc).insertBefore(qc);c("<div class='loading ui-state-default ui-state-active' id='load_"+U.id+Bb+U.p.loadtext+"</div>").insertBefore(qc);c(U).attr({cellspacing:L,cellpadding:L,border:L,role:"grid","aria-multiselectable":!!U.p.multiselect,"aria-labelledby":"gbox_"+U.id});var nd=["shiftKey","altKey","ctrlKey"],yc=function(a,b){a=parseInt(a,f);return isNaN(a)?b?b:0:a},wc=function(n,q,l,p,t,r){var f=H.p.colModel[n],o=f.align,g='style="',k=f.classes,u=f.name,j,d=[];if(o)g+="text-align:"+o+";";if(f.hidden===b)g+=Xb;if(q===0)g+="width: "+K.headers[n].width+"px;";else if(f.cellattr&&c.isFunction(f.cellattr)){j=f.cellattr.call(H,t,l,p,f,r);if(j&&typeof j===s){j=j.replace(/style/i,"style").replace(/title/i,"title");if(j.indexOf("title")>h)f.title=a;if(j.indexOf("class")>h)k=undefined;d=j.split("style");if(d.length===2){d[1]=c.trim(d[1].replace("=",e));if(d[1].indexOf("'")===0||d[1].indexOf(m)===0)d[1]=d[1].substring(1);g+=d[1].replace(/'/gi,m)}else g+=m}}if(!d.length){d[0]=e;g+=m}g+=(k!==undefined?' class="'+k+m:e)+(f.title&&l?mc+c.jgrid.stripHtml(l)+m:e);g+=' aria-describedby="'+H.p.id+i+u+m;return g+d[0]},Yc=function(a){return a===undefined||a===d||a===e?V:H.p.autoencode?c.jgrid.htmlEncode(a):a+e},Uc=function(i,d,e,f,h){var a=H.p.colModel[e],b;if(typeof a.formatter!==t){var g={rowId:i,colModel:a,gid:H.p.id,pos:e};if(c.isFunction(a.formatter))b=a.formatter.call(H,d,g,f,h);else if(c.fmatter)b=c.fn.fmatter(a.formatter,d,g,f,h);else b=Yc(d)}else b=Yc(d);return b},Oc=function(c,g,e,h,d){var a,f;a=Uc(c,g,e,d,"add");f=wc(e,h,a,d,c,b);return Yb+f+y+a+J},Vc=function(a,f,c){var h=lb+mb+H.p.id+i+a+'" class="cbox" name="jqg_'+H.p.id+i+a+'"/>',g=wc(f,c,e,d,a,b);return Yb+g+y+h+J},Tc=function(e,a,h,i){var c=(parseInt(h,f)-1)*parseInt(i,f)+1+a,g=wc(e,a,c,d,a,b);return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+g+y+c+J},ad=function(e){for(var a,b=[],d=0,c=0;c<H.p.colModel.length;c++){a=H.p.colModel[c];if(a.name!==W&&a.name!==fb&&a.name!==X){if(e==k)b[d]=a.name;else b[d]=e==yb?a.xmlmap||a.name:a.jsonmap||a.name;d++}}return b},Dc=function(b){var a=H.p.remapColumns;if(!a||!a.length)a=c.map(H.p.colModel,function(b,a){return a});if(b)a=c.map(a,function(a){return a<b?d:a-b});return a},vc=function(a,e,d){if(H.p.deepempty)c(j+c.jgrid.jqID(H.p.id)+nb).remove();else{var f=c(j+c.jgrid.jqID(H.p.id)+ob)[0];c(j+c.jgrid.jqID(H.p.id)+R).empty().append(f)}if(e&&H.p.scroll){c(Zb,a).css({height:"auto"}).children(ac).css({height:0,display:B});a.scrollTop=0}if(d===b)if(H.p.treeGrid===b){H.p.data=[];H.p._index={}}},Lc=function(){var g=H.p.data.length,e,d,f,i=H.p.rownumbers===b?1:0,h=H.p.multiselect===b?1:0,j=H.p.subGrid===b?1:0;if(H.p.keyIndex===a||H.p.loadonce===b)e=H.p.localReader.id;else e=H.p.colModel[H.p.keyIndex+h+j+i].name;for(d=0;d<g;d++){f=c.jgrid.getAccessor(H.p.data[d],e);H.p._index[f]=d}},Mc=function(x,I,s,U,M){var Q=new Date,D=H.p.datatype!=k&&H.p.loadonce||H.p.datatype==bc,G=Nb,V=H.p.datatype==k?k:yb;if(D){H.p.data=[];H.p._index={};H.p.localReader.id=G}H.p.reccount=0;if(c.isXMLDoc(x))if(H.p.treeANode===h&&!H.p.scroll){vc(I,a,b);s=1}else s=s>1?s:1;else return;var p,B,t=0,r,Z,o=0,u=0,l=0,n,A,v=[],z,j={},m,g,i=[],X=H.p.altRows===b?E+H.p.altclass:e,O;if(!H.p.xmlReader.repeatitems)v=ad(V);if(H.p.keyIndex===a)n=H.p.xmlReader.id;else n=H.p.keyIndex;if(v.length>0&&!isNaN(n)){if(H.p.remapColumns&&H.p.remapColumns.length)n=c.inArray(n,H.p.remapColumns);n=v[n]}if((n+e).indexOf("[")===h)if(v.length)A=function(a,b){return c(n,a).text()||b};else A=function(a,b){return c(H.p.xmlReader.cell,a).eq(n).text()||b};else A=function(a,b){return a.getAttribute(n.replace(/[\[\]]/g,e))||b};H.p.userData={};c(H.p.xmlReader.page,x).each(function(){H.p.page=this.textContent||this.text||0});c(H.p.xmlReader.total,x).each(function(){H.p.lastpage=this.textContent||this.text;if(H.p.lastpage===undefined)H.p.lastpage=1});c(H.p.xmlReader.records,x).each(function(){H.p.records=this.textContent||this.text||0});c(H.p.xmlReader.userdata,x).each(function(){H.p.userData[this.getAttribute("name")]=c(this).text()});var w=c(H.p.xmlReader.root+E+H.p.xmlReader.row,x);if(!w)w=[];var y=w.length,q=0,C={},F;if(w&&y){F=parseInt(H.p.rowNum,f);var W=H.p.scroll?c.jgrid.randId():1,N;if(M)F*=M+1;var P=c.isFunction(H.p.afterInsertRow),L=e;if(H.p.grouping&&H.p.groupingView.groupCollapse===b)L=cc;while(q<y){m=w[q];g=A(m,W+q);g=H.p.idPrefix+g;N=s===0?0:s+1;O=(N+q)%2==1?X:e;i.push("<tr"+L+' id="'+g+'" tabindex="-1" role="row" class ="ui-widget-content jqgrow ui-row-'+H.p.direction+e+O+'">');if(H.p.rownumbers===b){i.push(Tc(0,q,H.p.page,H.p.rowNum));l=1}if(H.p.multiselect===b){i.push(Vc(g,l,q));o=1}if(H.p.subGrid===b){i.push(c(H).jqGrid(ib,o+l,q+s));u=1}if(H.p.xmlReader.repeatitems){if(!z)z=Dc(o+u+l);var S=c(H.p.xmlReader.cell,m);c.each(z,function(c){var b=S[this];if(!b)return a;r=b.textContent||b.text;j[H.p.colModel[c+o+u+l].name]=r;i.push(Oc(g,r,c+o+u+l,q+s,m))})}else for(p=0;p<v.length;p++){r=c(v[p],m).text();j[H.p.colModel[p+o+u+l].name]=r;i.push(Oc(g,r,p+o+u+l,q+s,m))}i.push(ab);if(H.p.grouping){for(var T=H.p.groupingView.groupField.length,K=[],J=0;J<T;J++)K.push(j[H.p.groupingView.groupField[J]]);C=c(H).jqGrid(dc,i,K,C,j);i=[]}if(D||H.p.treeGrid===b){j[G]=g;H.p.data.push(j);H.p._index[g]=H.p.data.length-1}if(H.p.gridview===a){c(kb,I).append(i.join(e));P&&H.p.afterInsertRow.call(H,g,j,m);i=[]}j={};t++;q++;if(t==F)break}}if(H.p.gridview===b){B=H.p.treeANode>h?H.p.treeANode:0;if(H.p.grouping){c(H).jqGrid(ec,C,H.p.colModel.length);C=d}else if(H.p.treeGrid===b&&B>0)c(H.rows[B]).after(i.join(e));else c(kb,I).append(i.join(e))}if(H.p.subGrid===b)try{c(H).jqGrid(jb,o+l)}catch(cb){}H.p.totaltime=new Date-Q;if(t>0)if(H.p.records===0)H.p.records=y;i=d;if(H.p.treeGrid===b)try{c(H).jqGrid(fc,B+1,t+B+1)}catch(bb){}if(!H.p.treeGrid&&!H.p.scroll)H.grid.bDiv.scrollTop=0;H.p.reccount=t;H.p.treeANode=h;H.p.userDataOnFooter&&c(H).jqGrid(gc,Y,H.p.userData,b);if(D){H.p.records=y;H.p.lastpage=Math.ceil(y/F)}!U&&H.updatepager(a,b);if(D)while(t<y){m=w[t];g=A(m,t);g=H.p.idPrefix+g;if(H.p.xmlReader.repeatitems){if(!z)z=Dc(o+u+l);var R=c(H.p.xmlReader.cell,m);c.each(z,function(c){var b=R[this];if(!b)return a;r=b.textContent||b.text;j[H.p.colModel[c+o+u+l].name]=r})}else for(p=0;p<v.length;p++){r=c(v[p],m).text();j[H.p.colModel[p+o+u+l].name]=r}j[G]=g;H.p.data.push(j);H.p._index[g]=H.p.data.length-1;j={};t++}},Cc=function(x,cb,u,Z,O){var W=new Date;if(x)if(H.p.treeANode===h&&!H.p.scroll){vc(cb,a,b);u=1}else u=u>1?u:1;else return;var i,G=Nb,I,F=H.p.datatype!=k&&H.p.loadonce||H.p.datatype==hc;if(F){H.p.data=[];H.p._index={};H.p.localReader.id=G}H.p.reccount=0;if(H.p.datatype==k){i=H.p.localReader;I=k}else{i=H.p.jsonReader;I="json"}var q=0,C,r,p,B=[],t,l,v=0,z=0,s=0,y,w,n,o={},A,g,m=[],bb=H.p.altRows===b?E+H.p.altclass:e,T,J;H.p.page=c.jgrid.getAccessor(x,i.page)||0;J=c.jgrid.getAccessor(x,i.total);H.p.lastpage=J===undefined?1:J;H.p.records=c.jgrid.getAccessor(x,i.records)||0;H.p.userData=c.jgrid.getAccessor(x,i.userdata)||{};if(!i.repeatitems)t=B=ad(I);if(H.p.keyIndex===a)n=i.id;else n=H.p.keyIndex;if(B.length>0&&!isNaN(n)){if(H.p.remapColumns&&H.p.remapColumns.length)n=c.inArray(n,H.p.remapColumns);n=B[n]}w=c.jgrid.getAccessor(x,i.root);if(!w)w=[];y=w.length;r=0;var K=parseInt(H.p.rowNum,f),U=H.p.scroll?c.jgrid.randId():1,Q;if(O)K*=O+1;var V=c.isFunction(H.p.afterInsertRow),D={},N=e;if(H.p.grouping&&H.p.groupingView.groupCollapse===b)N=cc;while(r<y){l=w[r];g=c.jgrid.getAccessor(l,n);if(g===undefined){g=U+r;if(B.length===0)if(i.cell){var S=c.jgrid.getAccessor(l,i.cell);g=S[n]||g;S=d}}g=H.p.idPrefix+g;Q=u===1?0:u;T=(Q+r)%2==1?bb:e;m.push("<tr"+N+' id="'+g+'" tabindex="-1" role="row" class= "ui-widget-content jqgrow ui-row-'+H.p.direction+e+T+'">');if(H.p.rownumbers===b){m.push(Tc(0,r,H.p.page,H.p.rowNum));s=1}if(H.p.multiselect){m.push(Vc(g,s,r));v=1}if(H.p.subGrid){m.push(c(H).jqGrid(ib,v+s,r+u));z=1}if(i.repeatitems){if(i.cell)l=c.jgrid.getAccessor(l,i.cell);if(!t)t=Dc(v+z+s)}for(p=0;p<t.length;p++){C=c.jgrid.getAccessor(l,t[p]);m.push(Oc(g,C,p+v+z+s,r+u,l));o[H.p.colModel[p+v+z+s].name]=C}m.push(ab);if(H.p.grouping){for(var X=H.p.groupingView.groupField.length,M=[],L=0;L<X;L++)M.push(o[H.p.groupingView.groupField[L]]);D=c(H).jqGrid(dc,m,M,D,o);m=[]}if(F||H.p.treeGrid===b){o[G]=g;H.p.data.push(o);H.p._index[g]=H.p.data.length-1}if(H.p.gridview===a){c(j+c.jgrid.jqID(H.p.id)+R).append(m.join(e));V&&H.p.afterInsertRow.call(H,g,o,l);m=[]}o={};q++;r++;if(q==K)break}if(H.p.gridview===b){A=H.p.treeANode>h?H.p.treeANode:0;if(H.p.grouping){c(H).jqGrid(ec,D,H.p.colModel.length);D=d}else if(H.p.treeGrid===b&&A>0)c(H.rows[A]).after(m.join(e));else c(j+c.jgrid.jqID(H.p.id)+R).append(m.join(e))}if(H.p.subGrid===b)try{c(H).jqGrid(jb,v+s)}catch(eb){}H.p.totaltime=new Date-W;if(q>0)if(H.p.records===0)H.p.records=y;m=d;if(H.p.treeGrid===b)try{c(H).jqGrid(fc,A+1,q+A+1)}catch(db){}if(!H.p.treeGrid&&!H.p.scroll)H.grid.bDiv.scrollTop=0;H.p.reccount=q;H.p.treeANode=h;H.p.userDataOnFooter&&c(H).jqGrid(gc,Y,H.p.userData,b);if(F){H.p.records=y;H.p.lastpage=Math.ceil(y/K)}!Z&&H.updatepager(a,b);if(F)while(q<y&&w[q]){l=w[q];g=c.jgrid.getAccessor(l,n);if(g===undefined){g=U+q;if(B.length===0)if(i.cell){var P=c.jgrid.getAccessor(l,i.cell);g=P[n]||g;P=d}}if(l){g=H.p.idPrefix+g;if(i.repeatitems){if(i.cell)l=c.jgrid.getAccessor(l,i.cell);if(!t)t=Dc(v+z+s)}for(p=0;p<t.length;p++){C=c.jgrid.getAccessor(l,t[p]);o[H.p.colModel[p+v+z+s].name]=C}o[G]=g;H.p.data.push(o);H.p._index[g]=H.p.data.length-1;o={}}q++}},id=function(){var g="OR",j,u=a,i={},w=[],y=[],p,m,o;if(!c.isArray(H.p.data))return;var v=H.p.grouping?H.p.groupingView:a;c.each(H.p.colModel,function(){var a=this;m=a.sorttype||P;if(m==D||m==cb){if(a.formatter&&typeof a.formatter===s&&a.formatter==D){if(a.formatoptions&&a.formatoptions.srcformat)p=a.formatoptions.srcformat;else p=c.jgrid.formatter.date.srcformat;if(a.formatoptions&&a.formatoptions.newformat)o=a.formatoptions.newformat;else o=c.jgrid.formatter.date.newformat}else p=o=a.datefmt||db;i[a.name]={stype:m,srcfmt:p,newfmt:o}}else i[a.name]={stype:m,srcfmt:e,newfmt:e};if(H.p.grouping&&a.name==v.groupField[0]){var d=a.name;if(typeof a.index!=t)d=a.index;w[0]=i[d];y.push(d)}if(!u&&(a.index==H.p.sortname||a.name==H.p.sortname)){j=a.name;u=b}});if(H.p.treeGrid){c(H).jqGrid("SortTree",j,H.p.sortorder,i[j].stype,i[j].srcfmt);return}var r={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return b===g?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return b===g?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return b===g?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return b===g?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return b===g?a.orNot().isNull:a.andNot().isNull}},h=c.jgrid.from(H.p.data);if(H.p.ignoreCase)h=h.ignoreCase();function z(a){var e=0,b,f,k,j,d;if(a.groups!==undefined){f=a.groups.length&&a.groupOp.toString().toUpperCase()===g;f&&h.orBegin();for(b=0;b<a.groups.length;b++){e>0&&f&&h.or();try{z(a.groups[b])}catch(m){alert(m)}e++}f&&h.orEnd()}if(a.rules!==undefined){if(e>0){var l=h.select();h=c.jgrid.from(l);if(H.p.ignoreCase)h=h.ignoreCase()}try{k=a.rules.length&&a.groupOp.toString().toUpperCase()===g;k&&h.orBegin();for(b=0;b<a.rules.length;b++){d=a.rules[b];j=a.groupOp.toString().toUpperCase();if(r[d.op]&&d.field){if(e>0&&j&&j===g)h=h.or();h=r[d.op](h,j)(d.field,d.data,i[d.field])}e++}k&&h.orEnd()}catch(n){alert(n)}}}if(H.p.search===b){var n=H.p.postData.filters;if(n){if(typeof n==s)n=c.jgrid.parse(n);z(n)}else try{h=r[H.p.postData.searchOper](h)(H.p.postData.searchField,H.p.postData.searchString,i[H.p.postData.searchField])}catch(C){}}if(H.p.grouping){h.orderBy(y,v.groupOrder[0],w[0].stype,w[0].srcfmt);v.groupDataSorted=b}if(j&&H.p.sortorder&&u)if(H.p.sortorder.toUpperCase()=="DESC")h.orderBy(H.p.sortname,"d",i[j].stype,i[j].srcfmt);else h.orderBy(H.p.sortname,"a",i[j].stype,i[j].srcfmt);var l=h.select(),q=parseInt(H.p.rowNum,f),A=l.length,x=parseInt(H.p.page,f),B=Math.ceil(A/q),k={};l=l.slice((x-1)*q,x*q);h=d;i=d;k[H.p.localReader.total]=B;k[H.p.localReader.page]=x;k[H.p.localReader.records]=A;k[H.p.localReader.root]=l;k[H.p.localReader.userdata]=H.p.userData;l=d;return k},ld=function(E,D){var p=", #last_t",m=", #prev_t",k="#first_t",j=".ui-paging-info",r,w,d,u,t,v,s,q=e,z,g=H.p.pager?i+c.jgrid.jqID(H.p.pager.substr(1)):e,h=H.p.toppager?i+H.p.toppager.substr(1):e;d=parseInt(H.p.page,f)-1;if(d<0)d=0;d=d*parseInt(H.p.rowNum,f);t=d+H.p.reccount;if(H.p.scroll){var x=c("tbody:first > tr:gt(0)",H.grid.bDiv);d=t-x.length;H.p.reccount=x.length;var y=x.outerHeight()||H.grid.prevRowHeight;if(y){var A=d*y,C=parseInt(H.p.records,f)*y;c(Zb,H.grid.bDiv).css({height:C}).children(ac).css({height:A,display:A?e:B})}H.grid.bDiv.scrollLeft=H.grid.hDiv.scrollLeft}q=H.p.pager?H.p.pager:e;q+=H.p.toppager?q?","+H.p.toppager:H.p.toppager:e;if(q){s=c.jgrid.formatter.integer||{};r=yc(H.p.page);w=yc(H.p.lastpage);c(".selbox",q)[this.p.useProp?n:o]("disabled",a);if(H.p.pginput===b){c(".ui-pg-input",q).val(H.p.page);z=H.p.toppager?"#sp_1"+g+",#sp_1"+h:"#sp_1"+g;c(z).html(c.fmatter?c.fmatter.util.NumberFormat(H.p.lastpage,s):H.p.lastpage)}if(H.p.viewrecords)if(H.p.reccount===0)c(j,q).html(H.p.emptyrecords);else{u=d+1;v=H.p.records;if(c.fmatter){u=c.fmatter.util.NumberFormat(u,s);t=c.fmatter.util.NumberFormat(t,s);v=c.fmatter.util.NumberFormat(v,s)}c(j,q).html(c.jgrid.format(H.p.recordtext,u,t,v))}if(H.p.pgbuttons===b){if(r<=0)r=w=0;if(r==1||r===0){c(Jb+g+Kb+g).addClass(l).removeClass(hb);H.p.toppager&&c(k+h+m+h).addClass(l).removeClass(hb)}else{c(Jb+g+Kb+g).removeClass(l);H.p.toppager&&c(k+h+m+h).removeClass(l)}if(r==w||r===0){c("#next"+g+Lb+g).addClass(l).removeClass(hb);H.p.toppager&&c("#next_t"+h+p+h).addClass(l).removeClass(hb)}else{c("#next"+g+Lb+g).removeClass(l);H.p.toppager&&c("#next_t"+h+p+h).removeClass(l)}}}E===b&&H.p.rownumbers===b&&c("td.jqgrid-rownum",H.rows).each(function(a){c(this).html(d+1+a)});D&&H.p.jqgdnd&&c(H).jqGrid("gridDnD","updateDnD");c.isFunction(H.p.gridComplete)&&H.p.gridComplete.call(H)},Ec=function(){H.grid.hDiv.loading=b;if(H.p.hiddengrid)return;switch(H.p.loadui){case Mb:c(Eb+c.jgrid.jqID(H.p.id)).show();break;case Hb:c("#lui_"+c.jgrid.jqID(H.p.id)).show();c(Eb+c.jgrid.jqID(H.p.id)).show()}},xc=function(){H.grid.hDiv.loading=a;switch(H.p.loadui){case Mb:c(Eb+c.jgrid.jqID(H.p.id)).hide();break;case Hb:c("#lui_"+c.jgrid.jqID(H.p.id)).hide();c(Eb+c.jgrid.jqID(H.p.id)).hide()}},jc=function(f){if(!H.grid.hDiv.loading){var p=H.p.scroll&&f===a,g={},m,h,e=H.p.prmNames;if(H.p.page<=0)H.p.page=1;if(e.search!==d)g[e.search]=H.p.search;if(e.nd!==d)g[e.nd]=(new Date).getTime();if(e.rows!==d)g[e.rows]=H.p.rowNum;if(e.page!==d)g[e.page]=H.p.page;if(e.sort!==d)g[e.sort]=H.p.sortname;if(e.order!==d)g[e.order]=H.p.sortorder;if(H.p.rowTotal!==d&&e.totalrows!==d)g[e.totalrows]=H.p.rowTotal;var i=H.p.loadComplete,l=c.isFunction(i);if(!l)i=d;var j=0;f=f||1;if(f>1)if(e.npage!==d){g[e.npage]=f;j=f-1;f=1}else i=function(b){H.p.page++;H.grid.hDiv.loading=a;l&&H.p.loadComplete.call(H,b);jc(f-1)};else if(e.npage!==d)delete H.p.postData[e.npage];if(H.p.grouping){c(H).jqGrid("groupingSetup");if(H.p.groupingView.groupDataSorted===b)g[e.sort]=H.p.groupingView.groupField[0]+E+H.p.groupingView.groupOrder[0]+", "+g[e.sort]}c.extend(H.p.postData,g);var n=!H.p.scroll?1:H.rows.length-1;if(c.isFunction(H.p.datatype)){H.p.datatype.call(H,H.p.postData,"load_"+H.p.id);return}else if(c.isFunction(H.p.beforeRequest)){var o=H.p.beforeRequest.call(H);if(o===undefined)o=b;if(o===a)return}m=H.p.datatype.toLowerCase();switch(m){case"json":case"jsonp":case yb:case"script":c.ajax(c.extend({url:H.p.url,type:H.p.mtype,dataType:m,data:c.isFunction(H.p.serializeGridData)?H.p.serializeGridData.call(H,H.p.postData):H.p.postData,success:function(a,e,b){c.isFunction(H.p.beforeProcessing)&&H.p.beforeProcessing.call(H,a,e,b);if(m===yb)Mc(a,H.grid.bDiv,n,f>1,j);else Cc(a,H.grid.bDiv,n,f>1,j);i&&i.call(H,a);p&&H.grid.populateVisible();if(H.p.loadonce||H.p.treeGrid)H.p.datatype=k;a=d;f===1&&xc()},error:function(a,e,b){c.isFunction(H.p.loadError)&&H.p.loadError.call(H,a,e,b);f===1&&xc();a=d},beforeSend:function(f,e){var d=b;if(c.isFunction(H.p.loadBeforeSend))d=H.p.loadBeforeSend.call(H,f,e);if(d===undefined)d=b;if(d===a)return a;else Ec()}},c.jgrid.ajaxOptions,H.p.ajaxGridOptions));break;case bc:Ec();h=c.jgrid.stringToDoc(H.p.datastr);Mc(h,H.grid.bDiv);l&&H.p.loadComplete.call(H,h);H.p.datatype=k;H.p.datastr=d;xc();break;case hc:Ec();if(typeof H.p.datastr==s)h=c.jgrid.parse(H.p.datastr);else h=H.p.datastr;Cc(h,H.grid.bDiv);l&&H.p.loadComplete.call(H,h);H.p.datatype=k;H.p.datastr=d;xc();break;case k:case"clientside":Ec();H.p.datatype=k;var q=id();Cc(q,H.grid.bDiv,n,f>1,j);i&&i.call(H,q);p&&H.grid.populateVisible();xc()}}},Wc=function(k,h){var g=".ui-pg-selbox",f="<td id='",q="<td dir='",E="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",t=e,p="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",u=e,s,B,A,D,v,F,w,z=function(f){var e;if(c.isFunction(H.p.onPaging))e=H.p.onPaging.call(H,f);H.p.selrow=d;if(H.p.multiselect){H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a)}H.p.savedRow=[];return e=="stop"?a:b};k=k.substr(1);h+=i+k;s="pg_"+k;B=k+"_left";A=k+"_center";D=k+"_right";c(j+c.jgrid.jqID(k)).append(nc+s+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+B+"' align='left'></td><td id='"+A+"' align='center' style='white-space:pre;'></td><td id='"+D+"' align='right'></td></tr></tbody></table></div>").attr("dir",tb);if(H.p.rowList.length>0){u=q+Cb+Bb;u+="<select class='ui-pg-selbox' role='listbox'>";for(w=0;w<H.p.rowList.length;w++)u+='<option role="option" value="'+H.p.rowList[w]+m+(H.p.rowNum==H.p.rowList[w]?' selected="selected"':e)+y+H.p.rowList[w]+"</option>";u+="</select></td>"}if(Cb==ub)p+=u;if(H.p.pginput===b)t=q+Cb+Bb+c.jgrid.format(H.p.pgtext||e,"<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+c.jgrid.jqID(k)+oc)+J;if(H.p.pgbuttons===b){var x=[gb+h,"prev"+h,"next"+h,N+h];Cb==ub&&x.reverse();p+=f+x[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>";p+=f+x[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>";p+=t!==e?E+t+E:e;p+=f+x[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>";p+=f+x[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else if(t!==e)p+=t;if(Cb==tb)p+=u;p+=pc;H.p.viewrecords===b&&c("td#"+k+i+H.p.recordpos,j+s).append("<div dir='"+Cb+"' style='text-align:"+H.p.recordpos+"' class='ui-paging-info'></div>");c("td#"+k+i+H.p.pagerpos,j+s).append(p);F=c(".ui-jqgrid").css("font-size")||"11px";c(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+F+";visibility:hidden;' ></div>");v=c(p).clone().appendTo("#testpg").width();c("#testpg").remove();if(v>0){if(t!==e)v+=50;c("td#"+k+i+H.p.pagerpos,j+s).width(v)}H.p._nvtd=[];H.p._nvtd[0]=v?Math.floor((H.p.width-v)/2):Math.floor(H.p.width/3);H.p._nvtd[1]=0;p=d;c(g,j+s).bind("change",function(){var b=this;H.p.page=Math.round(H.p.rowNum*(H.p.page-1)/b.value-.5)+1;H.p.rowNum=b.value;if(h)c(g,H.p.pager).val(b.value);else H.p.toppager&&c(g,H.p.toppager).val(b.value);if(!z(Ob))return a;jc();return a});if(H.p.pgbuttons===b){c(".ui-pg-button",j+s).hover(function(){var a=this;if(c(a).hasClass(l))a.style.cursor=Fb;else{c(a).addClass(hb);a.style.cursor="pointer"}},function(){if(!c(this).hasClass(l)){c(this).removeClass(hb);this.style.cursor=Fb}});c(Jb+c.jgrid.jqID(h)+Kb+c.jgrid.jqID(h)+", #next"+c.jgrid.jqID(h)+Lb+c.jgrid.jqID(h)).click(function(){var f=this,c=yc(H.p.page,1),d=yc(H.p.lastpage,1),e=a,j=b,k=b,i=b,g=b;if(d===0||d===1){j=a;k=a;i=a;g=a}else if(d>1&&c>=1){if(c===1){j=a;k=a}else if(!(c>1&&c<d))if(c===d){i=a;g=a}}else if(d>1&&c===0){i=a;g=a;c=d-1}if(f.id===gb+h&&j){H.p.page=1;e=b}if(f.id==="prev"+h&&k){H.p.page=c-1;e=b}if(f.id==="next"+h&&i){H.p.page=c+1;e=b}if(f.id===N+h&&g){H.p.page=d;e=b}if(e){if(!z(f.id))return a;jc()}return a})}H.p.pginput===b&&c("input.ui-pg-input",j+s).keypress(function(b){var d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(d==13){H.p.page=c(this).val()>0?c(this).val():H.p.page;if(!z("user"))return a;jc();return a}return this})},Xc=function(g,e,p,m){var f="span.s-ico";if(!H.p.colModel[e].sortable)return;var q;if(H.p.savedRow.length>0)return;if(!p){if(H.p.lastsort==e){if(H.p.sortorder==M)H.p.sortorder=eb;else if(H.p.sortorder==eb)H.p.sortorder=M}else H.p.sortorder=H.p.colModel[e].firstsortorder||M;H.p.page=1}if(m)if(H.p.lastsort==e&&H.p.sortorder==m&&!p)return;else H.p.sortorder=m;var h=H.grid.headers[H.p.lastsort].el,i=H.grid.headers[e].el;c("span.ui-grid-ico-sort",h).addClass(l);c(h).attr(z,G);c("span.ui-icon-"+H.p.sortorder,i).removeClass(l);c(i).attr(z,Z);if(!H.p.viewsortcols[0])if(H.p.lastsort!=e){c(f,h).hide();c(f,i).show()}g=g.substring(5+H.p.id.length+1);H.p.sortname=H.p.colModel[e].index||g;q=H.p.sortorder;if(c.isFunction(H.p.onSortCol))if(H.p.onSortCol.call(H,g,e,q)=="stop"){H.p.lastsort=e;return}if(H.p.datatype==k)H.p.deselectAfterSort&&c(H).jqGrid(ic);else{H.p.selrow=d;H.p.multiselect&&c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a);H.p.selarrrow=[];H.p.savedRow=[]}if(H.p.scroll){var s=H.grid.bDiv.scrollLeft;vc(H.grid.bDiv,b,a);H.grid.hDiv.scrollLeft=s}H.p.subGrid&&H.p.datatype==k&&c("td.sgexpanded",j+c.jgrid.jqID(H.p.id)).each(function(){c(this).trigger(O)});jc();H.p.lastsort=e;if(H.p.sortname!=g&&e)H.p.lastsort=e},kd=function(){var d=0,e=Nc?0:H.p.cellLayout,g=0,k,l=H.p.scrollOffset,i,n=a,m,h=0,o=0,j;c.each(H.p.colModel,function(){var b=this;if(typeof b.hidden===t)b.hidden=a;b.widthOrg=i=yc(b.width,0);if(b.hidden===a){d+=i+e;if(b.fixed)h+=i+e;else g++;o++}});if(isNaN(H.p.width))H.p.width=K.width=d;else K.width=H.p.width;H.p.tblwidth=d;if(H.p.shrinkToFit===a&&H.p.forceFit===b)H.p.forceFit=a;if(H.p.shrinkToFit===b&&g>0){m=K.width-e*g-h;if(!isNaN(H.p.height)){m-=l;n=b}d=0;c.each(H.p.colModel,function(c){var b=this;if(b.hidden===a&&!b.fixed){i=Math.round(m*b.width/(H.p.tblwidth-e*g-h));b.width=i;d+=i;k=c}});j=0;if(n){if(K.width-h-(d+e*g)!==l)j=K.width-h-(d+e*g)-l}else if(!n&&Math.abs(K.width-h-(d+e*g))!==1)j=K.width-h-(d+e*g);H.p.colModel[k].width+=j;H.p.tblwidth=d+j+e*g+h;if(H.p.tblwidth>H.p.width){H.p.colModel[k].width-=H.p.tblwidth-parseInt(H.p.width,f);H.p.tblwidth=H.p.width}}},jd=function(c){for(var e=c,d=c,a=c+1;a<H.p.colModel.length;a++)if(H.p.colModel[a].hidden!==b){d=a;break}return d-e},md=function(i){var e="border-bottom-width",g,d={},h=Nc?0:H.p.cellLayout;d[0]=d[1]=d[2]=0;for(g=0;g<=i;g++)if(H.p.colModel[g].hidden===a)d[0]+=H.p.colModel[g].width+h;if(H.p.direction==ub)d[0]=H.p.width-d[0];d[0]=d[0]-H.grid.bDiv.scrollLeft;if(c(H.grid.cDiv).is(":visible"))d[1]+=c(H.grid.cDiv).height()+parseInt(c(H.grid.cDiv).css("padding-top"),f)+parseInt(c(H.grid.cDiv).css("padding-bottom"),f);if(H.p.toolbar[0]===b&&(H.p.toolbar[1]=="top"||H.p.toolbar[1]==bb))d[1]+=c(H.grid.uDiv).height()+parseInt(c(H.grid.uDiv).css("border-top-width"),f)+parseInt(c(H.grid.uDiv).css(e),f);if(H.p.toppager)d[1]+=c(H.grid.topDiv).height()+parseInt(c(H.grid.topDiv).css(e),f);d[2]+=c(H.grid.bDiv).height()+c(H.grid.hDiv).height();return d},Sc=function(e){for(var b=H.grid.headers,d=c.jgrid.getCellIndex(e),a=0;a<b.length;a++)if(e===b[a].el){d=a;break}return d};U.p.id=U.id;if(c.inArray(H.p.multikey,nd)==h)H.p.multikey=a;H.p.keyIndex=a;for(sb=0;sb<H.p.colModel.length;sb++){H.p.colModel[sb]=c.extend(b,{},H.p.cmTemplate,H.p.colModel[sb].template||{},H.p.colModel[sb]);if(H.p.keyIndex===a&&H.p.colModel[sb].key===b)H.p.keyIndex=sb}H.p.sortorder=H.p.sortorder.toLowerCase();if(H.p.grouping===b){H.p.scroll=a;H.p.rownumbers=a;H.p.subGrid=a;H.p.treeGrid=a;H.p.gridview=b}if(U.p.treeGrid===b){try{c(U).jqGrid("setTreeGrid")}catch(sd){}if(H.p.datatype!=k)H.p.localReader={id:Nb}}if(U.p.subGrid)try{c(H).jqGrid("setSubGrid")}catch(rd){}if(U.p.multiselect){U.p.colNames.unshift("<input role='checkbox' id='cb_"+U.p.id+"' class='cbox' type='checkbox'/>");U.p.colModel.unshift({name:W,width:Nc?H.p.multiselectWidth+H.p.cellLayout:H.p.multiselectWidth,sortable:a,resizable:a,hidedlg:b,search:a,align:Rb,fixed:b})}if(U.p.rownumbers){U.p.colNames.unshift(e);U.p.colModel.unshift({name:X,width:H.p.rownumWidth,sortable:a,resizable:a,hidedlg:b,search:a,align:Rb,fixed:b})}H.p.xmlReader=c.extend(b,{root:xb,row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:b,cell:Ab,id:"[id]",userdata:Sb,subgrid:{root:xb,row:"row",repeatitems:b,cell:Ab}},H.p.xmlReader);H.p.jsonReader=c.extend(b,{root:xb,page:Qb,total:"total",records:Ob,repeatitems:b,cell:Ab,id:rb,userdata:Sb,subgrid:{root:xb,repeatitems:b,cell:Ab}},H.p.jsonReader);H.p.localReader=c.extend(b,{root:xb,page:Qb,total:"total",records:Ob,repeatitems:a,cell:Ab,id:rb,userdata:Sb,subgrid:{root:xb,repeatitems:b,cell:Ab}},H.p.localReader);if(H.p.scroll){H.p.pgbuttons=a;H.p.pginput=a;H.p.rowList=[]}H.p.data.length&&Lc();var Vb="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",fd,ed,Kc,Ac,Ic,Db,vb,bd,Hc,cd=e,dd=e;if(H.p.shrinkToFit===b&&H.p.forceFit===b)for(sb=H.p.colModel.length-1;sb>=0;sb--)if(!H.p.colModel[sb].hidden){H.p.colModel[sb].resizable=a;break}if(H.p.viewsortcols[1]=="horizontal"){cd=" ui-i-asc";dd=" ui-i-desc"}fd=zc?"class='ui-th-div-ie'":e;Hc="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+cd+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+Cb+oc;Hc+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+dd+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+Cb+"'></span></span>";for(sb=0;sb<U.p.colNames.length;sb++){var od=H.p.headertitles?mc+c.jgrid.stripHtml(H.p.colNames[sb])+m:e;Vb+="<th id='"+H.p.id+i+H.p.colModel[sb].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+Cb+"'"+od+y;ed=H.p.colModel[sb].index||H.p.colModel[sb].name;Vb+="<div id='jqgh_"+H.p.id+i+H.p.colModel[sb].name+"' "+fd+y+H.p.colNames[sb];if(!H.p.colModel[sb].width)H.p.colModel[sb].width=150;else H.p.colModel[sb].width=parseInt(H.p.colModel[sb].width,f);if(typeof H.p.colModel[sb].title!==S)H.p.colModel[sb].title=b;if(ed==H.p.sortname)H.p.lastsort=sb;Vb+=Hc+"</div></th>"}Vb+="</tr></thead>";Hc=d;c(U).append(Vb);c("thead tr:first th",U).hover(function(){c(this).addClass(hb)},function(){c(this).removeClass(hb)});if(U.p.multiselect){var Qc=[],Jc;c(C+c.jgrid.jqID(H.p.id),U).bind(O,function(){H.p.selarrrow=[];if(this.checked){c(H.rows).each(function(d){var a=this;if(d>0)if(!c(a).hasClass(F)&&!c(a).hasClass("jqgroup")&&!c(a).hasClass(l)){c(w+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(a.id))[H.p.useProp?n:o](r,b);c(a).addClass(v).attr(z,Z);H.p.selarrrow.push(a.id);H.p.selrow=a.id}});Jc=b;Qc=[]}else{c(H.rows).each(function(d){var b=this;if(d>0)if(!c(b).hasClass(F)&&!c(b).hasClass(l)){c(w+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(b.id))[H.p.useProp?n:o](r,a);c(b).removeClass(v).attr(z,G);Qc.push(b.id)}});H.p.selrow=d;Jc=a}c.isFunction(H.p.onSelectAll)&&H.p.onSelectAll.call(H,Jc?H.p.selarrrow:Qc,Jc)})}if(H.p.autowidth===b){var hd=c(Bc).innerWidth();H.p.width=hd>0?hd:"nw"}kd();c(Bc).css(q,K.width+g).append("<div class='ui-jqgrid-resize-mark' id='rs_m"+H.p.id+"'>&#160;</div>");c(qc).css(q,K.width+g);Vb=c(qb,H).get(0);var Gc=e;if(H.p.footerrow)Gc+="<table role='grid' style='width:"+H.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+Cb+Bb;var gd=c("tr:first",Vb),Fc="<tr class='jqgfirstrow' role='row' style='height:auto'>";H.p.disableClick=a;c("th",gd).each(function(f){var j="div span.ui-icon-",i="div span.s-ico",h=this;Kc=H.p.colModel[f].width;if(typeof H.p.colModel[f].resizable===t)H.p.colModel[f].resizable=b;if(H.p.colModel[f].resizable){Ac=document.createElement(T);c(Ac).html(V).addClass("ui-jqgrid-resize ui-jqgrid-resize-"+Cb);!c.browser.opera&&c(Ac).css("cursor",Wb);c(h).addClass(H.p.resizeclass)}else Ac=e;c(h).css(q,Kc+g).prepend(Ac);var m=e;if(H.p.colModel[f].hidden){c(h).css(I,B);m=Xb}Fc+="<td role='gridcell' style='height:0px;width:"+Kc+"px;"+m+"'></td>";K.headers[f]={width:Kc,el:h};Ic=H.p.colModel[f].sortable;if(typeof Ic!==S){H.p.colModel[f].sortable=b;Ic=b}var k=H.p.colModel[f].name;if(!(k==W||k==fb||k==X))H.p.viewsortcols[2]&&c(wb,h).addClass("ui-jqgrid-sortable");if(Ic)if(H.p.viewsortcols[0]){c(i,h).show();f==H.p.lastsort&&c(j+H.p.sortorder,h).removeClass(l)}else if(f==H.p.lastsort){c(i,h).show();c(j+H.p.sortorder,h).removeClass(l)}if(H.p.footerrow)Gc+="<td role='gridcell' "+wc(f,0,e,d,e,a)+">&#160;</td>"}).mousedown(function(e){if(c(e.target).closest("th>span.ui-jqgrid-resize").length!=1)return;var d=Sc(this);if(H.p.forceFit===b)H.p.nv=jd(d);K.dragStart(d,e,md(d));return a}).click(function(i){if(H.p.disableClick){H.p.disableClick=a;return a}var f="th>div.ui-jqgrid-sortable",e,d;if(!H.p.viewsortcols[2])f="th>div>span>span.ui-grid-ico-sort";var g=c(i.target).closest(f);if(g.length!=1)return;var h=Sc(this);if(!H.p.viewsortcols[2]){e=b;d=g.attr("sort")}Xc(c(wb,this)[0].id,h,e,d);return a});if(H.p.sortable&&c.fn.sortable)try{c(H).jqGrid("sortableColumns",gd)}catch(qd){}if(H.p.footerrow)Gc+=pc;Fc+=ab;bd=document.createElement("tbody");U.appendChild(bd);c(U).addClass("ui-jqgrid-btable").append(Fc);Fc=d;var Zc=c("<table class='ui-jqgrid-htable' style='width:"+H.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+U.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(Vb),Pb=H.p.caption&&H.p.hiddengrid===b?b:a,uc=c(rc+(Cb==ub?Tb:e)+Ib);Vb=d;K.hDiv=document.createElement(wb);c(K.hDiv).css({width:K.width+g}).addClass("ui-state-default ui-jqgrid-hdiv").append(uc);c(uc).append(Zc);Zc=d;Pb&&c(K.hDiv).hide();if(H.p.pager){if(typeof H.p.pager==s){if(H.p.pager.substr(0,1)!=j)H.p.pager=j+H.p.pager}else H.p.pager=j+c(H.p.pager).attr(rb);c(H.p.pager).css({width:K.width+g}).appendTo(Bc).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");Pb&&c(H.p.pager).hide();Wc(H.p.pager,e)}H.p.cellEdit===a&&H.p.hoverrows===b&&c(H).bind("mouseover",function(a){vb=c(a.target).closest(zb);c(vb).attr("class")!==F&&c(vb).addClass(hb)}).bind("mouseout",function(a){vb=c(a.target).closest(zb);c(vb).removeClass(hb)});var lc,kc;c(H).before(K.hDiv).click(function(e){Db=e.target;vb=c(Db,H.rows).closest(zb);if(c(vb).length===0||vb[0].className.indexOf(l)>h)return this;var d=c(Db).hasClass("cbox"),f=b;if(c.isFunction(H.p.beforeSelectRow))f=H.p.beforeSelectRow.call(H,vb[0].id,e);if(Db.tagName=="A"||(Db.tagName=="INPUT"||Db.tagName=="TEXTAREA"||Db.tagName=="OPTION"||Db.tagName=="SELECT")&&!d)return this;if(f===b){if(H.p.cellEdit===b)if(H.p.multiselect&&d)c(H).jqGrid(u,vb[0].id,b);else{lc=vb[0].rowIndex;kc=c.jgrid.getCellIndex(Db);try{c(H).jqGrid("editCell",lc,kc,b)}catch(g){}}else if(!H.p.multikey)if(H.p.multiselect&&H.p.multiboxonly)if(d)c(H).jqGrid(u,vb[0].id,b);else{c(H.p.selarrrow).each(function(e,b){var d=H.rows.namedItem(b);c(d).removeClass(v);c(w+c.jgrid.jqID(H.p.id)+i+c.jgrid.jqID(b))[H.p.useProp?n:o](r,a)});H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a);c(H).jqGrid(u,vb[0].id,b)}else c(H).jqGrid(u,vb[0].id,b);else if(e[H.p.multikey])c(H).jqGrid(u,vb[0].id,b);else if(H.p.multiselect&&d){d=c(w+c.jgrid.jqID(H.p.id)+i+vb[0].id).is(":checked");c(w+c.jgrid.jqID(H.p.id)+i+vb[0].id)[H.p.useProp?n:o](r,d)}if(c.isFunction(H.p.onCellSelect)){lc=vb[0].id;kc=c.jgrid.getCellIndex(Db);H.p.onCellSelect.call(H,lc,kc,c(Db).html(),e)}}return this}).bind("reloadGrid",function(g,f){if(H.p.treeGrid===b)H.p.datatype=H.p.treedatatype;f&&f.current&&H.grid.selectionPreserver(H);if(H.p.datatype==k){c(H).jqGrid(ic);H.p.data.length&&Lc()}else if(!H.p.treeGrid){H.p.selrow=d;if(H.p.multiselect){H.p.selarrrow=[];c(C+c.jgrid.jqID(H.p.id),H.grid.hDiv)[H.p.useProp?n:o](r,a)}H.p.savedRow=[]}H.p.scroll&&vc(H.grid.bDiv,b,a);if(f&&f.page){var e=f.page;if(e>H.p.lastpage)e=H.p.lastpage;if(e<1)e=1;H.p.page=e;if(H.grid.prevRowHeight)H.grid.bDiv.scrollTop=(e-1)*H.grid.prevRowHeight*H.p.rowNum;else H.grid.bDiv.scrollTop=0}if(H.grid.prevRowHeight&&H.p.scroll){delete H.p.lastpage;H.grid.populateVisible()}else H.grid.populate();return a});c.isFunction(U.p.ondblClickRow)&&c(U).dblclick(function(b){Db=b.target;vb=c(Db,H.rows).closest(zb);if(c(vb).length===0)return a;lc=vb[0].rowIndex;kc=c.jgrid.getCellIndex(Db);H.p.ondblClickRow.call(H,c(vb).attr(rb),lc,kc,b);return a});c.isFunction(U.p.onRightClickRow)&&c(U).bind("contextmenu",function(d){Db=d.target;vb=c(Db,H.rows).closest(zb);if(c(vb).length===0)return a;!H.p.multiselect&&c(H).jqGrid(u,vb[0].id,b);lc=vb[0].rowIndex;kc=c.jgrid.getCellIndex(Db);H.p.onRightClickRow.call(H,c(vb).attr(rb),lc,kc,d);return a});K.bDiv=document.createElement(wb);if(zc)if(String(H.p.height).toLowerCase()==="auto")H.p.height="100%";c(K.bDiv).append(c('<div style="position:relative;'+(zc&&c.browser.version<8?"height:0.01%;":e)+'"></div>').append("<div></div>").append(U)).addClass("ui-jqgrid-bdiv").css({height:H.p.height+(isNaN(H.p.height)?e:g),width:K.width+g}).scroll(K.scrollGrid);c(A,K.bDiv).css({width:H.p.tblwidth+g});if(zc){c("tbody",U).size()==2&&c("tbody:gt(0)",U).remove();H.p.multikey&&c(K.bDiv).bind(sc,function(){return a})}else H.p.multikey&&c(K.bDiv).bind("mousedown",function(){return a});Pb&&c(K.bDiv).hide();K.cDiv=document.createElement(wb);var Pc=H.p.hidegrid===b?c("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){Pc.addClass(hb)},function(){Pc.removeClass(hb)}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css(Cb==ub?"left":"right","0px"):e;c(K.cDiv).append(Pc).append("<span class='ui-jqgrid-title"+(Cb==ub?Tb:e)+Bb+H.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");c(K.cDiv).insertBefore(K.hDiv);if(H.p.toolbar[0]){K.uDiv=document.createElement(wb);if(H.p.toolbar[1]=="top")c(K.uDiv).insertBefore(K.hDiv);else H.p.toolbar[1]=="bottom"&&c(K.uDiv).insertAfter(K.hDiv);if(H.p.toolbar[1]==bb){K.ubDiv=document.createElement(wb);c(K.uDiv).insertBefore(K.hDiv).addClass(Ub).attr(rb,"t_"+U.id);c(K.ubDiv).insertAfter(K.hDiv).addClass(Ub).attr(rb,"tb_"+U.id);Pb&&c(K.ubDiv).hide()}else c(K.uDiv).width(K.width).addClass(Ub).attr(rb,"t_"+U.id);Pb&&c(K.uDiv).hide()}if(H.p.toppager){H.p.toppager=c.jgrid.jqID(H.p.id)+"_toppager";K.topDiv=c(nc+H.p.toppager+Ib)[0];H.p.toppager=j+H.p.toppager;c(K.topDiv).insertBefore(K.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(K.width);Wc(H.p.toppager,"_t")}if(H.p.footerrow){K.sDiv=c("<div class='ui-jqgrid-sdiv'></div>")[0];uc=c(rc+(Cb==ub?Tb:e)+Ib);c(K.sDiv).append(uc).insertAfter(K.hDiv).width(K.width);c(uc).append(Gc);K.footers=c(".ui-jqgrid-ftable",K.sDiv)[0].rows[0].cells;if(H.p.rownumbers)K.footers[0].className="ui-state-default jqgrid-rownum";Pb&&c(K.sDiv).hide()}uc=d;if(H.p.caption){var pd=H.p.datatype;if(H.p.hidegrid===b){c(tc,K.cDiv).click(function(l){var g=".ui-resizable-handle",f="ui-resizable",e="ui-icon-circle-triangle-s",d="ui-icon-circle-triangle-n",j=c.isFunction(H.p.onHeaderClick),i=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",h,k=this;if(H.p.toolbar[0]===b){if(H.p.toolbar[1]==bb)i+=", #"+c(K.ubDiv).attr(rb);i+=", #"+c(K.uDiv).attr(rb)}h=c(i,"#gview_"+c.jgrid.jqID(H.p.id)).length;if(H.p.gridstate==Gb)c(i,x+c.jgrid.jqID(H.p.id)).slideUp("fast",function(){h--;if(h===0){c(T,k).removeClass(d).addClass(e);H.p.gridstate="hidden";c(x+c.jgrid.jqID(H.p.id)).hasClass(f)&&c(g,x+c.jgrid.jqID(H.p.id)).hide();if(j)!Pb&&H.p.onHeaderClick.call(H,H.p.gridstate,l)}});else H.p.gridstate=="hidden"&&c(i,x+c.jgrid.jqID(H.p.id)).slideDown("fast",function(){h--;if(h===0){c(T,k).removeClass(e).addClass(d);if(Pb){H.p.datatype=pd;jc();Pb=a}H.p.gridstate=Gb;c(x+c.jgrid.jqID(H.p.id)).hasClass(f)&&c(g,x+c.jgrid.jqID(H.p.id)).show();if(j)!Pb&&H.p.onHeaderClick.call(H,H.p.gridstate,l)}});return a});if(Pb){H.p.datatype=k;c(tc,K.cDiv).trigger(O)}}}else c(K.cDiv).hide();c(K.hDiv).after(K.bDiv).mousemove(function(b){if(K.resizing){K.dragMove(b);return a}});c(".ui-jqgrid-labels",K.hDiv).bind(sc,function(){return a});c(document).mouseup(function(){if(K.resizing){K.dragEnd();return a}return b});H.formatCol=wc;H.sortData=Xc;H.updatepager=ld;H.refreshIndex=Lc;H.formatter=function(c,a,b,d,e){return Uc(c,a,b,d,e)};c.extend(K,{populate:jc,emptyRows:vc});U.grid=K;H.addXmlData=function(a){Mc(a,H.grid.bDiv)};H.addJSONData=function(a){Cc(a,H.grid.bDiv)};U.grid.cols=U.rows[0].cells;jc();H.p.hiddengrid=a;c(window).unload(function(){H=d})})};c.jgrid.extend({getGridParam:function(b){var a=this[0];return!a||!a.grid?void 0:!b?a.p:typeof a.p[b]!=t?a.p[b]:d},setGridParam:function(a){return this.each(function(){this.grid&&typeof a===H&&c.extend(b,this.p,a)})},getDataIDs:function(){var d=[],b=0,a,e=0;this.each(function(){a=this.rows.length;if(a&&a>0)while(b<a){if(c(this.rows[b]).hasClass(U)){d[e]=this.rows[b].id;e++}b++}});return d},setSelection:function(g,f){return this.each(function(){var j=this,m,k,q,s,p;if(g===undefined)return;f=f===a?a:b;k=j.rows.namedItem(g+e);if(!k||k.className.indexOf(l)>h)return;function t(e){var d=c(j.grid.bDiv)[0].clientHeight,b=c(j.grid.bDiv)[0].scrollTop,a=j.rows[e].offsetTop,f=j.rows[e].clientHeight;if(a+f>=d+b)c(j.grid.bDiv)[0].scrollTop=a-(d+b)+f+b;else if(a<d+b)if(a<b)c(j.grid.bDiv)[0].scrollTop=a}if(j.p.scrollrows===b){q=j.rows.namedItem(g).rowIndex;q>=0&&t(q)}if(!j.p.multiselect){if(k.className!==F){if(j.p.selrow!=k.id){c(j.rows.namedItem(j.p.selrow)).removeClass(v).attr({"aria-selected":G,tabindex:"-1"});c(k).addClass(v).attr({"aria-selected":Z,tabindex:L});m=b}else m=a;j.p.selrow=k.id;j.p.onSelectRow&&f&&j.p.onSelectRow.call(j,k.id,m)}}else{c(C+c.jgrid.jqID(j.p.id),j.grid.hDiv)[j.p.useProp?n:o](r,a);j.p.selrow=k.id;s=c.inArray(j.p.selrow,j.p.selarrrow);if(s===h){k.className!==F&&c(k).addClass(v).attr(z,Z);m=b;c(w+c.jgrid.jqID(j.p.id)+i+c.jgrid.jqID(j.p.selrow))[j.p.useProp?n:o](r,m);j.p.selarrrow.push(j.p.selrow)}else{k.className!==F&&c(k).removeClass(v).attr(z,G);m=a;c(w+c.jgrid.jqID(j.p.id)+i+c.jgrid.jqID(j.p.selrow))[j.p.useProp?n:o](r,m);j.p.selarrrow.splice(s,1);p=j.p.selarrrow[0];j.p.selrow=p===undefined?d:p}j.p.onSelectRow&&f&&j.p.onSelectRow.call(j,k.id,m)}})},resetSelection:function(e){return this.each(function(){var h=" tbody:first tr#",g=this,l,k;if(typeof e!==t){k=e===g.p.selrow?g.p.selrow:e;c(j+c.jgrid.jqID(g.p.id)+h+c.jgrid.jqID(k)).removeClass(v).attr(z,G);if(g.p.multiselect){c(w+c.jgrid.jqID(g.p.id)+i+c.jgrid.jqID(k))[g.p.useProp?n:o](r,a);c(C+c.jgrid.jqID(g.p.id))[g.p.useProp?n:o](r,a)}k=d}else if(!g.p.multiselect){if(g.p.selrow){c(j+c.jgrid.jqID(g.p.id)+h+c.jgrid.jqID(g.p.selrow)).removeClass(v).attr(z,G);g.p.selrow=d}}else{c(g.p.selarrrow).each(function(d,b){l=g.rows.namedItem(b);c(l).removeClass(v).attr(z,G);c(w+c.jgrid.jqID(g.p.id)+i+c.jgrid.jqID(b))[g.p.useProp?n:o](r,a)});c(C+c.jgrid.jqID(g.p.id))[g.p.useProp?n:o](r,a);g.p.selarrrow=[]}if(g.p.cellEdit===b)if(parseInt(g.p.iCol,f)>=0&&parseInt(g.p.iRow,f)>=0){c(K+g.p.iCol+p,g.rows[g.p.iRow]).removeClass("edit-cell ui-state-highlight");c(g.rows[g.p.iRow]).removeClass("selected-row ui-state-hover")}g.p.savedRow=[]})},getRowData:function(i){var d={},e,f=a,g,h=0;this.each(function(){var j=this,a,k;if(typeof i==t){f=b;e=[];g=j.rows.length}else{k=j.rows.namedItem(i);if(!k)return d;g=2}while(h<g){if(f)k=j.rows[h];if(c(k).hasClass(U)){c("td",k).each(function(e){a=j.p.colModel[e].name;if(a!==W&&a!==fb&&a!==X)if(j.p.treeGrid===b&&a==j.p.ExpandColumn)d[a]=c.jgrid.htmlDecode(c("span:first",this).html());else try{d[a]=c.unformat(this,{rowId:k.id,colModel:j.p.colModel[e]},e)}catch(f){d[a]=c.jgrid.htmlDecode(c(this).html())}});if(f){e.push(d);d={}}}h++}});return e?e:d},delRowData:function(f){var g=a,e,i,j;this.each(function(){var l=this;e=l.rows.namedItem(f);if(!e)return a;else{j=e.rowIndex;c(e).remove();l.p.records--;l.p.reccount--;l.updatepager(b,a);g=b;if(l.p.multiselect){i=c.inArray(f,l.p.selarrrow);i!=h&&l.p.selarrrow.splice(i,1)}if(f==l.p.selrow)l.p.selrow=d}if(l.p.datatype==k){var m=l.p._index[f];if(typeof m!=t){l.p.data.splice(m,1);l.refreshIndex()}}if(l.p.altRows===b&&g){var n=l.p.altclass;c(l.rows).each(function(a){if(a%2==1)c(this).addClass(n);else c(this).removeClass(n)})}});return g},setRowData:function(h,f,j){var e,g=b,i;this.each(function(){if(!this.grid)return a;var l=this,o,m,u=typeof j,n={};m=l.rows.namedItem(h);if(!m)return a;if(f)try{c(this.p.colModel).each(function(d){var a=this;e=a.name;if(f[e]!==undefined){n[e]=a.formatter&&typeof a.formatter===s&&a.formatter==D?c.unformat.date(f[e],a):f[e];o=l.formatter(h,f[e],d,f,Q);i=a.title?{title:c.jgrid.stripHtml(o)}:{};if(l.p.treeGrid===b&&e==l.p.ExpandColumn)c(K+d+") > span:first",m).html(o).attr(i);else c(K+d+p,m).html(o).attr(i)}});if(l.p.datatype==k){var q=l.p._index[h];if(l.p.treeGrid)for(var r in l.p.treeReader)if(n.hasOwnProperty(l.p.treeReader[r]))delete n[l.p.treeReader[r]];if(typeof q!=t)l.p.data[q]=c.extend(b,l.p.data[q],n);n=d}}catch(v){g=a}if(g)if(u===s)c(m).addClass(j);else u===H&&c(m).css(j)});return g},addRowData:function(f,l,w,G){if(!w)w=N;var C=a,q,h,p,B,m,g,r,z,n=e,u,v,x,j,o;if(l){if(c.isArray(l)){u=b;w=N;v=f}else{l=[l];u=a}this.each(function(){var I='<td role="gridcell" aria-describedby="',H=this,O=l.length;m=H.p.rownumbers===b?1:0;p=H.p.multiselect===b?1:0;B=H.p.subGrid===b?1:0;if(!u)if(typeof f!=t)f=f+e;else{f=c.jgrid.randId();if(H.p.keyIndex!==a){v=H.p.colModel[H.p.keyIndex+p+B+m].name;if(typeof l[0][v]!=t)f=l[0][v]}}x=H.p.altclass;var L=0,M=e,K={},P=c.isFunction(H.p.afterInsertRow)?b:a;while(L<O){j=l[L];h=e;if(u){try{f=j[v]}catch(R){f=c.jgrid.randId()}M=H.p.altRows===b?(H.rows.length-1)%2===0?x:e:e}f=H.p.idPrefix+f;if(m){n=H.formatCol(0,1,e,d,f,b);h+=I+H.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+n+">0</td>"}if(p){z=lb+mb+H.p.id+i+f+'" class="cbox"/>';n=H.formatCol(m,1,e,d,f,b);h+=I+H.p.id+'_cb" '+n+y+z+J}if(B)h+=c(H).jqGrid(ib,p+m,1);for(r=p+B+m;r<H.p.colModel.length;r++){o=H.p.colModel[r];q=o.name;K[q]=o.formatter&&typeof o.formatter===s&&o.formatter==D?c.unformat.date(j[q],o):j[q];z=H.formatter(f,c.jgrid.getAccessor(j,q),r,j,Q);n=H.formatCol(r,1,z,j,f,b);h+=I+H.p.id+i+q+'" '+n+y+z+J}h='<tr id="'+f+'" role="row" tabindex="-1" class="ui-widget-content jqgrow ui-row-'+H.p.direction+E+M+'">'+h+ab;if(H.rows.length===0)c(A,H.grid.bDiv).append(h);else switch(w){case N:c(H.rows[H.rows.length-1]).after(h);g=H.rows.length-1;break;case gb:c(H.rows[0]).after(h);g=1;break;case"after":g=H.rows.namedItem(G);if(g)if(c(H.rows[g.rowIndex+1]).hasClass(F))c(H.rows[g.rowIndex+1]).after(h);else c(g).after(h);g++;break;case"before":g=H.rows.namedItem(G);if(g){c(g).before(h);g=g.rowIndex}g--}H.p.subGrid===b&&c(H).jqGrid(jb,p+m,g);H.p.records++;H.p.reccount++;P&&H.p.afterInsertRow.call(H,f,j,j);L++;if(H.p.datatype==k){K[H.p.localReader.id]=f;H.p._index[f]=H.p.data.length;H.p.data.push(K);K={}}}if(H.p.altRows===b&&!u)if(w==N)(H.rows.length-1)%2==1&&c(H.rows[H.rows.length-1]).addClass(x);else c(H.rows).each(function(a){if(a%2==1)c(this).addClass(x);else c(this).removeClass(x)});H.updatepager(b,b);C=b})}return C},footerData:function(d,f,i){var g,h=a,k={},j;function l(c){for(var d in c)if(c.hasOwnProperty(d))return a;return b}if(typeof d==t)d="get";if(typeof i!=S)i=b;d=d.toLowerCase();this.each(function(){var m=this,n;if(!m.grid||!m.p.footerrow)return a;if(d==Y)if(l(f))return a;h=b;c(this.p.colModel).each(function(a){g=this.name;if(d==Y){if(f[g]!==undefined){n=i?m.formatter(e,f[g],a,f,Q):f[g];j=this.title?{title:c.jgrid.stripHtml(n)}:{};c(hb+a+p,m.grid.sDiv).html(n).attr(j);h=b}}else if(d=="get")k[g]=c(hb+a+p,m.grid.sDiv).html()})});return d=="get"?k:h},showHideCol:function(g,d){return this.each(function(){var i=this,k=a,l=c.browser.webkit||c.browser.safari?0:i.p.cellLayout,j;if(!i.grid)return;if(typeof g===s)g=[g];d=d!=B?e:B;var n=d===e?b:a,m=i.p.groupHeader&&(typeof i.p.groupHeader===H||c.isFunction(i.p.groupHeader));m&&c(i).jqGrid("destroyGroupHeader",a);c(this.p.colModel).each(function(e){var a=this;if(c.inArray(a.name,g)!==h&&a.hidden===n){c("tr",i.grid.hDiv).each(function(){c(this.cells[e]).css(I,d)});c(i.rows).each(function(){c(this.cells[e]).css(I,d)});i.p.footerrow&&c(hb+e+p,i.grid.sDiv).css(I,d);j=a.widthOrg?a.widthOrg:parseInt(a.width,f);if(d===B)i.p.tblwidth-=j+l;else i.p.tblwidth+=j+l;a.hidden=!n;k=b}});k===b&&c(i).jqGrid("setGridWidth",i.p.shrinkToFit===b?i.p.tblwidth:i.p.width);m&&c(i).jqGrid("setGroupHeaders",i.p.groupHeader)})},hideCol:function(a){return this.each(function(){c(this).jqGrid(pb,a,B)})},showCol:function(a){return this.each(function(){c(this).jqGrid(pb,a,e)})},remapColumns:function(b,g,h){function d(a){var d;if(a.length)d=c.makeArray(a);else d=c.extend({},a);c.each(b,function(b){a[b]=d[this]})}var a=this.get(0);function f(a,d){c(">tr"+(d||e),a).each(function(){var a=this,d=c.makeArray(a.cells);c.each(b,function(){var b=d[this];b&&a.appendChild(b)})})}d(a.p.colModel);d(a.p.colNames);d(a.grid.headers);f(c(qb,a.grid.hDiv),h&&":not(.ui-jqgrid-labels)");g&&f(c(j+c.jgrid.jqID(a.p.id)+R),".jqgfirstrow, tr.jqgrow, tr.jqfoot");a.p.footerrow&&f(c(kb,a.grid.sDiv));if(a.p.remapColumns)if(!a.p.remapColumns.length)a.p.remapColumns=c.makeArray(b);else d(a.p.remapColumns);a.p.lastsort=c.inArray(a.p.lastsort,b);if(a.p.treeGrid)a.p.expColInd=c.inArray(a.p.expColInd,b)},setGridWidth:function(d,e){return this.each(function(){if(!this.grid)return;var h=this,i,k=0,l=c.browser.webkit||c.browser.safari?0:h.p.cellLayout,j,m=0,t=a,p=h.p.scrollOffset,r,n=0,v=0,o;if(typeof e!=S)e=h.p.shrinkToFit;if(isNaN(d))return;else{d=parseInt(d,f);h.grid.width=h.p.width=d}c(x+c.jgrid.jqID(h.p.id)).css(q,d+g);c("#gview_"+c.jgrid.jqID(h.p.id)).css(q,d+g);c(h.grid.bDiv).css(q,d+g);c(h.grid.hDiv).css(q,d+g);h.p.pager&&c(h.p.pager).css(q,d+g);h.p.toppager&&c(h.p.toppager).css(q,d+g);if(h.p.toolbar[0]===b){c(h.grid.uDiv).css(q,d+g);h.p.toolbar[1]==bb&&c(h.grid.ubDiv).css(q,d+g)}h.p.footerrow&&c(h.grid.sDiv).css(q,d+g);if(e===a&&h.p.forceFit===b)h.p.forceFit=a;if(e===b){c.each(h.p.colModel,function(){var b=this;if(b.hidden===a){i=b.widthOrg?b.widthOrg:parseInt(b.width,f);k+=i+l;if(b.fixed)n+=i+l;else m++;v++}});if(m===0)return;h.p.tblwidth=k;r=d-l*m-n;if(!isNaN(h.p.height))if(c(h.grid.bDiv)[0].clientHeight<c(h.grid.bDiv)[0].scrollHeight||h.rows.length===1){t=b;r-=p}k=0;var s=h.grid.cols.length>0;c.each(h.p.colModel,function(c){var b=this;if(b.hidden===a&&!b.fixed){i=b.widthOrg?b.widthOrg:parseInt(b.width,f);i=Math.round(r*i/(h.p.tblwidth-l*m-n));if(i<0)return;b.width=i;k+=i;h.grid.headers[c].width=i;h.grid.headers[c].el.style.width=i+g;if(h.p.footerrow)h.grid.footers[c].style.width=i+g;if(s)h.grid.cols[c].style.width=i+g;j=c}});if(!j)return;o=0;if(t){if(d-n-(k+l*m)!==p)o=d-n-(k+l*m)-p}else if(Math.abs(d-n-(k+l*m))!==1)o=d-n-(k+l*m);h.p.colModel[j].width+=o;h.p.tblwidth=k+o+l*m+n;if(h.p.tblwidth>d){var u=h.p.tblwidth-parseInt(d,f);h.p.tblwidth=d;i=h.p.colModel[j].width=h.p.colModel[j].width-u}else i=h.p.colModel[j].width;h.grid.headers[j].width=i;h.grid.headers[j].el.style.width=i+g;if(s)h.grid.cols[j].style.width=i+g;if(h.p.footerrow)h.grid.footers[j].style.width=i+g}if(h.p.tblwidth){c(A,h.grid.bDiv).css(q,h.p.tblwidth+g);c(A,h.grid.hDiv).css(q,h.p.tblwidth+g);h.grid.hDiv.scrollLeft=h.grid.bDiv.scrollLeft;h.p.footerrow&&c(A,h.grid.sDiv).css(q,h.p.tblwidth+g)}})},setGridHeight:function(a){return this.each(function(){var b=this;if(!b.grid)return;c(b.grid.bDiv).css({height:a+(isNaN(a)?e:g)});b.p.height=a;b.p.scroll&&b.grid.populateVisible()})},setCaption:function(a){return this.each(function(){this.p.caption=a;c("span.ui-jqgrid-title",this.grid.cDiv).html(a);c(this.grid.cDiv).show()})},setLabel:function(e,d,b,f){return this.each(function(){var j=this,i=h;if(!j.grid)return;if(typeof e!=t)c(j.p.colModel).each(function(b){if(this.name==e){i=b;return a}});else return;if(i>=0){var g=c("tr.ui-jqgrid-labels th:eq("+i+p,j.grid.hDiv);if(d){var k=c(".s-ico",g);c("[id^=jqgh_]",g).empty().html(d).append(k);j.p.colNames[i]=d}if(b)if(typeof b===s)c(g).addClass(b);else c(g).css(b);typeof f===H&&c(g).attr(f)}})},setCell:function(j,i,d,g,l,m){return this.each(function(){var n=this,o=h,u,w;if(!n.grid)return;if(isNaN(i))c(n.p.colModel).each(function(b){if(this.name==i){o=b;return a}});else o=parseInt(i,f);if(o>=0){var x=n.rows.namedItem(j);if(x){var q=c(K+o+p,x);if(d!==e||m===b){u=n.formatter(j,d,o,x,Q);w=n.p.colModel[o].title?{title:c.jgrid.stripHtml(u)}:{};if(n.p.treeGrid&&c(".tree-wrap",c(q)).length>0)c(T,c(q)).html(u).attr(w);else c(q).html(u).attr(w);if(n.p.datatype==k){var r=n.p.colModel[o],v;d=r.formatter&&typeof r.formatter===s&&r.formatter==D?c.unformat.date(d,r):d;v=n.p._index[j];if(typeof v!=t)n.p.data[v][r.name]=d}}if(typeof g===s)c(q).addClass(g);else g&&c(q).css(g);typeof l===H&&c(q).attr(l)}}})},getCell:function(e,b){var d=a;this.each(function(){var j=this,g=h;if(!j.grid)return;if(isNaN(b))c(j.p.colModel).each(function(c){if(this.name===b){g=c;return a}});else g=parseInt(b,f);if(g>=0){var i=j.rows.namedItem(e);if(i)try{d=c.unformat(c(K+g+p,i),{rowId:i.id,colModel:j.p.colModel[g]},g)}catch(k){d=c.jgrid.htmlDecode(c(K+g+p,i).html())}}});return d},getCol:function(j,g,d){var b=[],e,m=0,l=0,k=0,i;g=typeof g!=S?a:g;if(typeof d==t)d=a;this.each(function(){var n=this,o=h;if(!n.grid)return;if(isNaN(j))c(n.p.colModel).each(function(b){if(this.name===j){o=b;return a}});else o=parseInt(j,f);if(o>=0){var q=n.rows.length,p=0;if(q&&q>0){while(p<q){if(c(n.rows[p]).hasClass(U)){try{e=c.unformat(c(n.rows[p].cells[o]),{rowId:n.rows[p].id,colModel:n.p.colModel[o]},o)}catch(r){e=c.jgrid.htmlDecode(n.rows[p].cells[o].innerHTML)}if(d){i=parseFloat(e);m+=i;l=Math.min(l,i);k=Math.max(k,i)}else if(g)b.push({id:n.rows[p].id,value:e});else b.push(e)}p++}if(d)switch(d.toLowerCase()){case"sum":b=m;break;case"avg":b=m/q;break;case"count":b=q;break;case"min":b=l;break;case"max":b=k}}}});return b},clearGridData:function(e){return this.each(function(){var f=this;if(!f.grid)return;if(typeof e!=S)e=a;if(f.p.deepempty)c(j+c.jgrid.jqID(f.p.id)+nb).remove();else{var g=c(j+c.jgrid.jqID(f.p.id)+ob)[0];c(j+c.jgrid.jqID(f.p.id)+R).empty().append(g)}f.p.footerrow&&e&&c(".ui-jqgrid-ftable td",f.grid.sDiv).html(V);f.p.selrow=d;f.p.selarrrow=[];f.p.savedRow=[];f.p.records=0;f.p.page=1;f.p.lastpage=0;f.p.reccount=0;f.p.data=[];f.p._index={};f.updatepager(b,a)})},getInd:function(e,f){var d=a,c;this.each(function(){c=this.rows.namedItem(e);if(c)d=f===b?c:c.rowIndex});return d},bindKeys:function(f){var a=c.extend({onEnter:d,onSpace:d,onLeftKey:d,onRightKey:d,scrollingRows:b},f||{});return this.each(function(){var b=this;!c("body").is("[role]")&&c("body").attr("role","application");b.p.scrollrows=a.scrollingRows;c(b).keydown(function(g){var h="div.treeclick",f=":hidden",j=c(b).find("tr[tabindex=0]")[0],i,d,k,l=b.p.treeReader.expanded_field;if(j){k=b.p._index[j.id];if(g.keyCode===37||g.keyCode===38||g.keyCode===39||g.keyCode===40){if(g.keyCode===38){d=j.previousSibling;i=e;if(d)if(c(d).is(f))while(d){d=d.previousSibling;if(!c(d).is(f)&&c(d).hasClass(U)){i=d.id;break}}else i=d.id;c(b).jqGrid(u,i)}if(g.keyCode===40){d=j.nextSibling;i=e;if(d)if(c(d).is(f))while(d){d=d.nextSibling;if(!c(d).is(f)&&c(d).hasClass(U)){i=d.id;break}}else i=d.id;c(b).jqGrid(u,i)}if(g.keyCode===37){b.p.treeGrid&&b.p.data[k][l]&&c(j).find(h).trigger(O);c.isFunction(a.onLeftKey)&&a.onLeftKey.call(b,b.p.selrow)}if(g.keyCode===39){b.p.treeGrid&&!b.p.data[k][l]&&c(j).find(h).trigger(O);c.isFunction(a.onRightKey)&&a.onRightKey.call(b,b.p.selrow)}}else if(g.keyCode===13)c.isFunction(a.onEnter)&&a.onEnter.call(b,b.p.selrow);else if(g.keyCode===32)c.isFunction(a.onSpace)&&a.onSpace.call(b,b.p.selrow)}})})},unbindKeys:function(){return this.each(function(){var a=this;c(a).unbind("keydown")})},getLocalRow:function(c){var d=a,b;this.each(function(){if(typeof c!==t){b=this.p._index[c];if(b>=0)d=this.p.data[b]}});return d}})})(jQuery);(function(a){var n="span.ui-jqgrid-resize",m="rowheader",k="<tr>",l="undefined",h="none",i="display",e="setGridParam",d="",g=null,f="#gbox_",b=true,j="boolean",c=false;a.jgrid.extend({getColProp:function(f){var d={},e=this[0];if(!e.grid)return c;for(var b=e.p.colModel,a=0;a<b.length;a++)if(b[a].name==f){d=b[a];break}return d},setColProp:function(c,b){return this.each(function(){if(this.grid)if(b)for(var e=this.p.colModel,d=0;d<e.length;d++)if(e[d].name==c){a.extend(this.p.colModel[d],b);break}})},sortGrid:function(a,d,e){return this.each(function(){var f=this,h=-1;if(!f.grid)return;if(!a)a=f.p.sortname;for(var g=0;g<f.p.colModel.length;g++)if(f.p.colModel[g].index==a||f.p.colModel[g].name==a){h=g;break}if(h!=-1){var i=f.p.colModel[h].sortable;if(typeof i!==j)i=b;if(typeof d!==j)d=c;i&&f.sortData("jqgh_"+f.p.id+"_"+a,h,d,e)}})},GridDestroy:function(){return this.each(function(){var b=this;if(b.grid){b.p.pager&&a(b.p.pager).remove();var c=b.id;try{a(f+c).remove()}catch(d){}}})},GridUnload:function(){return this.each(function(){var b=this;if(!b.grid)return;var e={id:a(b).attr("id"),cl:a(b).attr("class")};b.p.pager&&a(b.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var c=document.createElement("table");a(c).attr({id:e.id});c.className=e.cl;var d=b.id;a(c).removeClass("ui-jqgrid-btable");if(a(b.p.pager).parents(f+d).length===1){a(c).insertBefore(f+d).show();a(b.p.pager).insertBefore(f+d)}else a(c).insertBefore(f+d).show();a(f+d).remove()})},setGridState:function(c){return this.each(function(){var j="ui-icon-circle-triangle-s",i="ui-icon-circle-triangle-n",h=".ui-jqgrid-titlebar-close span",g=".ui-jqgrid-sdiv",d="fast";if(!this.grid)return;var e=this;if(c=="hidden"){a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.p.id).slideUp(d);e.p.pager&&a(e.p.pager).slideUp(d);e.p.toppager&&a(e.p.toppager).slideUp(d);if(e.p.toolbar[0]===b){e.p.toolbar[1]=="both"&&a(e.grid.ubDiv).slideUp(d);a(e.grid.uDiv).slideUp(d)}e.p.footerrow&&a(g,f+e.p.id).slideUp(d);a(h,e.grid.cDiv).removeClass(i).addClass(j);e.p.gridstate="hidden"}else if(c=="visible"){a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.p.id).slideDown(d);e.p.pager&&a(e.p.pager).slideDown(d);e.p.toppager&&a(e.p.toppager).slideDown(d);if(e.p.toolbar[0]===b){e.p.toolbar[1]=="both"&&a(e.grid.ubDiv).slideDown(d);a(e.grid.uDiv).slideDown(d)}e.p.footerrow&&a(g,f+e.p.id).slideDown(d);a(h,e.grid.cDiv).removeClass(j).addClass(i);e.p.gridstate="visible"}})},filterToolbar:function(f){f=a.extend({autosearch:b,searchOnEnter:b,beforeSearch:g,afterSearch:g,beforeClear:g,afterClear:g,searchurl:d,stringResult:c,groupOp:"AND",defaultSearch:"bw"},f||{});return this.each(function(){var x="reloadGrid",w="searchOper",v="searchString",u="searchField",r='"data":"',o='",',q='{"field":"',t='","rules":[',s='{"groupOp":"',p="text",n="#gs_",k="select",y=this,m=y;if(y.ftoolbar)return;var z=function(){var j={},A=0,i,g,z={},l;a.each(m.p.colModel,function(){var b=this;g=b.index||b.name;switch(b.stype){case k:l=b.searchoptions&&b.searchoptions.sopt?b.searchoptions.sopt[0]:"eq";i=a(n+a.jgrid.jqID(b.name),m.grid.hDiv).val();if(i){j[g]=i;z[g]=l;A++}else try{delete m.p.postData[g]}catch(c){}break;case p:l=b.searchoptions&&b.searchoptions.sopt?b.searchoptions.sopt[0]:f.defaultSearch;i=a(n+a.jgrid.jqID(b.name),m.grid.hDiv).val();if(i){j[g]=i;z[g]=l;A++}else try{delete m.p.postData[g]}catch(h){}}});var D=A>0?b:c;if(f.stringResult===b||m.p.datatype=="local"){var h=s+f.groupOp+t,C=0;a.each(j,function(a,b){if(C>0)h+=",";h+=q+a+o;h+='"op":"'+z[a]+o;b+=d;h+=r+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';C++});h+="]}";a.extend(m.p.postData,{filters:h});a.each([u,v,w],function(b,a){if(m.p.postData.hasOwnProperty(a))delete m.p.postData[a]})}else a.extend(m.p.postData,j);var y;if(m.p.searchurl){y=m.p.url;a(m).jqGrid(e,{url:m.p.searchurl})}var B=c;if(a.isFunction(f.beforeSearch))B=f.beforeSearch.call(m);!B&&a(m).jqGrid(e,{search:D}).trigger(x,[{page:1}]);y&&a(m).jqGrid(e,{url:y});a.isFunction(f.afterSearch)&&f.afterSearch()},E=function(l){var y={},i,A=0,g;l=typeof l!=j?b:l;a.each(m.p.colModel,function(){var e=this;i=e.searchoptions&&e.searchoptions.defaultValue?e.searchoptions.defaultValue:d;g=e.index||e.name;switch(e.stype){case k:var f;a(n+a.jgrid.jqID(g)+" option",m.grid.hDiv).each(function(e){var d=this;if(e===0)d.selected=b;if(a(d).text()==i){d.selected=b;f=a(d).val();return c}});if(f){y[g]=f;A++}else try{delete m.p.postData[g]}catch(h){}break;case p:a(n+a.jgrid.jqID(g),m.grid.hDiv).val(i);if(i){y[g]=i;A++}else try{delete m.p.postData[g]}catch(o){}}});var D=A>0?b:c;if(f.stringResult===b||m.p.datatype=="local"){var h=s+f.groupOp+t,C=0;a.each(y,function(b,a){if(C>0)h+=",";h+=q+b+o;h+='"op":"eq'+o;a+=d;h+=r+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';C++});h+="]}";a.extend(m.p.postData,{filters:h});a.each([u,v,w],function(b,a){if(m.p.postData.hasOwnProperty(a))delete m.p.postData[a]})}else a.extend(m.p.postData,y);var z;if(m.p.searchurl){z=m.p.url;a(m).jqGrid(e,{url:m.p.searchurl})}var B=c;if(a.isFunction(f.beforeClear))B=f.beforeClear.call(m);if(!B)l&&a(m).jqGrid(e,{search:D}).trigger(x,[{page:1}]);z&&a(m).jqGrid(e,{url:z});a.isFunction(f.afterClear)&&f.afterClear()},D=function(){var b=a("tr.ui-search-toolbar",m.grid.hDiv);if(b.css(i)==h)b.show();else b.hide()};function A(c,d){var b=a(c);b[0]&&jQuery.each(d,function(){var a=this;if(a.data!==undefined)b.bind(a.type,a.data,a.fn);else b.bind(a.type,a.fn)})}var C=a("<tr class='ui-search-toolbar' role='rowheader'></tr>"),B;a.each(m.p.colModel,function(){var j="input",o=this,n=o,s,v,e,w,r;v=a("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+m.p.direction+"'></th>");s=a("<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>");o.hidden===b&&a(v).css(i,h);o.search=o.search===c?c:b;if(typeof o.stype==l)o.stype=p;e=a.extend({},o.searchoptions||{});if(o.search)switch(o.stype){case k:w=o.surl||e.dataUrl;if(w){r=s;a.ajax(a.extend({url:w,dataType:"html",success:function(d){if(e.buildSelect!==undefined){var h=e.buildSelect(d);h&&a(r).append(h)}else a(r).append(d);e.defaultValue&&a(k,r).val(e.defaultValue);a(k,r).attr({name:n.index||n.name,id:"gs_"+n.name});e.attr&&a(k,r).attr(e.attr);a(k,r).css({width:"100%"});e.dataInit!==undefined&&e.dataInit(a(k,r)[0]);e.dataEvents!==undefined&&A(a(k,r)[0],e.dataEvents);f.autosearch===b&&a(k,r).change(function(){z();return c});d=g}},a.jgrid.ajaxOptions,m.p.ajaxSelectOptions||{}))}else{var t;if(n.searchoptions&&n.searchoptions.value)t=n.searchoptions.value;else if(n.editoptions&&n.editoptions.value)t=n.editoptions.value;if(t){var q=document.createElement(k);q.style.width="100%";a(q).attr({name:n.index||n.name,id:"gs_"+n.name});var y,D,u;if(typeof t==="string"){y=t.split(";");for(var E=0;E<y.length;E++){D=y[E].split(":");u=document.createElement("option");u.value=D[0];u.innerHTML=D[1];q.appendChild(u)}}else if(typeof t==="object")for(var x in t)if(t.hasOwnProperty(x)){u=document.createElement("option");u.value=x;u.innerHTML=t[x];q.appendChild(u)}e.defaultValue&&a(q).val(e.defaultValue);e.attr&&a(q).attr(e.attr);e.dataInit!==undefined&&e.dataInit(q);e.dataEvents!==undefined&&A(q,e.dataEvents);a(s).append(q);f.autosearch===b&&a(q).change(function(){z();return c})}}break;case p:var F=e.defaultValue?e.defaultValue:d;a(s).append("<input type='text' style='width:95%;padding:0px;' name='"+(n.index||n.name)+"' id='gs_"+n.name+"' value='"+F+"'/>");e.attr&&a(j,s).attr(e.attr);e.dataInit!==undefined&&e.dataInit(a(j,s)[0]);e.dataEvents!==undefined&&A(a(j,s)[0],e.dataEvents);if(f.autosearch===b)if(f.searchOnEnter)a(j,s).keypress(function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(b==13){z();return c}return this});else a(j,s).keydown(function(b){var a=b.which;switch(a){case 13:return c;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:B&&clearTimeout(B);B=setTimeout(function(){z()},500)}})}a(v).append(s);a(C).append(v)});a("table thead",m.grid.hDiv).append(C);y.ftoolbar=b;y.triggerToolbar=z;y.clearToolbar=E;y.toggleToolbar=D})},destroyGroupHeader:function(c){if(typeof c==l)c=b;return this.each(function(){var r=this,q,f,u,j,l,o,p=r.grid,s=a("table.ui-jqgrid-htable thead",p.hDiv),v=r.p.colModel,t;if(!p)return;q=a(k,{role:m}).addClass("ui-jqgrid-labels");j=p.headers;for(f=0,u=j.length;f<u;f++){t=v[f].hidden?h:d;l=a(j[f].el).width(j[f].width).removeAttr("rowSpan").css(i,t);q.append(l);o=l.children(n);if(o.length>0)o[0].style.height=d;l.children("div")[0].style.top=d}a(s).children("tr.ui-jqgrid-labels").remove();a(s).prepend(q);c===b&&a(r).jqGrid(e,{groupHeader:g})})},setGroupHeaders:function(b){b=a.extend({useColSpanStyle:c,groupHeaders:[]},b||{});return this.each(function(){var i=":visible",q="0px none",p="ui-state-default ui-th-column-header ui-th-",o="columnheader",f="<th>",e="thead";this.p.groupHeader=b;var c=this,l,z,E=0,v,u,s,y,H,j,D,B,G,w,C=c.p.colModel,I=C.length,J=c.grid.headers,r=a("table.ui-jqgrid-htable",c.grid.hDiv),L=r.children(e).children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),M=r.children(e),x,A,t=r.find(".jqg-first-row-header");if(t.html()===g)t=a(k,{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto");else t.empty();var F,K=function(d,b){for(var a=0,c=b.length;a<c;a++)if(b[a].startColumnName===d)return a;return-1};a(c).prepend(M);v=a(k,{role:m}).addClass("ui-jqgrid-labels jqg-third-row-header");for(l=0;l<I;l++){s=J[l].el;y=a(s);z=C[l];H={height:"0px",width:J[l].width+"px",display:z.hidden?h:d};a(f,{role:"gridcell"}).css(H).addClass("ui-first-th-"+c.p.direction).appendTo(t);s.style.width=d;j=K(z.name,b.groupHeaders);if(j>=0){D=b.groupHeaders[j];B=D.numberOfColumns;G=D.titleText;for(w=0,j=0;j<B&&l+j<I;j++)if(!C[l+j].hidden)w++;u=a(f,{colspan:String(w),role:o}).addClass(p+c.p.direction).css({height:"22px","border-top":q}).html(G);c.p.headertitles&&u.attr("title",u.text());w===0&&u.hide();y.before(u);v.append(s);E=B-1}else if(E===0)if(b.useColSpanStyle)y.attr("rowspan","2");else{a(f,{role:o}).addClass(p+c.p.direction).css({display:z.hidden?h:d,"border-top":q}).insertBefore(y);v.append(s)}else{v.append(s);E--}}x=a(c).children(e);x.prepend(t);v.insertAfter(L);r.append(x);if(b.useColSpanStyle){r.find(n).each(function(){var b=a(this).parent();if(b.is(i))this.style.cssText="height: "+b.height()+"px !important; cursor: col-resize;"});r.find("div.ui-jqgrid-sortable").each(function(){var b=a(this),c=b.parent();c.is(i)&&b.css("top",(c.height()-b.outerHeight())/2+"px")})}if(a.isFunction(c.p.resizeStop))A=c.p.resizeStop;F=x.find("tr.jqg-first-row-header");c.p.resizeStop=function(d,b){F.find("th").eq(b).width(d);a.isFunction(A)&&A.call(c,d,b)}})}})})(jQuery);(function(a){a.fn.jqm=function(f){var d={overlay:50,closeoverlay:true,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:b,ajaxText:"",target:b,modal:b,toTop:b,onShow:b,onHide:b,onLoad:b};return this.each(function(){var g=this;if(g._jqm)return c[g._jqm].c=a.extend({},c[g._jqm].c,f);e++;g._jqm=e;c[e]={c:a.extend(d,a.jqm.params,f),a:b,w:a(g).addClass("jqmID"+e),s:e};d.trigger&&a(g).jqmAddTrigger(d.trigger)})};a.fn.jqmAddClose=function(a){return h(this,a,"jqmHide")};a.fn.jqmAddTrigger=function(a){return h(this,a,"jqmShow")};a.fn.jqmShow=function(b){return this.each(function(){a.jqm.open(this._jqm,b)})};a.fn.jqmHide=function(b){return this.each(function(){a.jqm.close(this._jqm,b)})};a.jqm={hash:{},open:function(q,r){var h="100%",e=c[q],f=e.c,o="."+f.closeClass,n=parseInt(e.w.css("z-index"));n=n>0?n:3e3;var j=a("<div></div>").css({height:h,width:h,position:"fixed",left:0,top:0,"z-index":n-1,opacity:f.overlay/100});if(e.a)return b;e.t=r;e.a=true;e.w.css("z-index",n);if(f.modal){!d[0]&&setTimeout(function(){k("bind")},1);d.push(q)}else if(f.overlay>0)f.closeoverlay&&e.w.jqmAddClose(j);else j=b;e.o=j?j.addClass(f.overlayClass).prependTo("body"):b;if(g){a("html,body").css({height:h,width:h});if(j){j=j.css({position:"absolute"})[0];for(var p in{Top:1,Left:1})j.style.setExpression(p.toLowerCase(),"(_=(document.documentElement.scroll"+p+" || document.body.scroll"+p+"))+'px'")}}if(f.ajax){var l=f.target||e.w,m=f.ajax;l=typeof l=="string"?a(l,e.w):a(l);m=m.substr(0,1)=="@"?a(r).attr(m.substring(1)):m;l.html(f.ajaxText).load(m,function(){f.onLoad&&f.onLoad.call(this,e);o&&e.w.jqmAddClose(a(o,e.w));i(e)})}else o&&e.w.jqmAddClose(a(o,e.w));f.toTop&&e.o&&e.w.before('<span id="jqmP'+e.w[0]._jqm+'"></span>').insertAfter(e.o);f.onShow?f.onShow(e):e.w.show();i(e);return b},close:function(f){var e=c[f];if(!e.a)return b;e.a=b;if(d[0]){d.pop();!d[0]&&k("unbind")}e.c.toTop&&e.o&&a("#jqmP"+e.w[0]._jqm).after(e.w).remove();if(e.c.onHide)e.c.onHide(e);else{e.w.hide();e.o&&e.o.remove()}return b},params:{}};var e=0,c=a.jqm.hash,d=[],g=a.browser.msie&&a.browser.version=="6.0",b=false,i=function(b){var c=a('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0});if(g)if(b.o)b.o.html('<p style="width:100%;height:100%"/>').prepend(c);else!a("iframe.jqm",b.w)[0]&&b.w.prepend(c);j(b)},j=function(b){try{a(":input:visible",b.w)[0].focus()}catch(c){}},k=function(b){a(document)[b]("keypress",f)[b]("keydown",f)[b]("mousedown",f)},f=function(f){var b=c[d[d.length-1]],e=!a(f.target).parents(".jqmID"+b.s)[0];e&&j(b);return!e},h=function(f,e,d){return f.each(function(){var f=this._jqm;a(e).each(function(){var e=this;if(!e[d]){e[d]=[];a(e).click(function(){var a=this;for(var d in{jqmShow:1,jqmHide:1})for(var e in a[d])c[a[d][e]]&&c[a[d][e]].w[d](a);return b})}e[d].push(f)})})}})(jQuery);(function(b){var a=false;b.fn.jqDrag=function(a){return h(this,a,"d")};b.fn.jqResize=function(b,a){return h(this,b,"r",a)};b.jqDnR={dnr:{},e:0,drag:function(b){if(d.k=="d")c.css({left:d.X+b.pageX-d.pX,top:d.Y+b.pageY-d.pY});else{c.css({width:Math.max(b.pageX-d.pX+d.W,0),height:Math.max(b.pageY-d.pY+d.H,0)});M1&&e.css({width:Math.max(b.pageX-M1.pX+M1.W,0),height:Math.max(b.pageY-M1.pY+M1.H,0)})}return a},stop:function(){b(document).unbind("mousemove",g.drag).unbind("mouseup",g.stop)}};var g=b.jqDnR,d=g.dnr,c=g.e,e,h=function(g,h,j,i){return g.each(function(){h=h?b(h,g):g;h.bind("mousedown",{e:g,k:j},function(j){var g="input.hasDatepicker",k=j.data,h={};c=k.e;e=i?b(i):a;if(c.css("position")!="relative")try{c.position(h)}catch(m){}d={X:h.left||f("left")||0,Y:h.top||f("top")||0,W:f("width")||c[0].scrollWidth||0,H:f("height")||c[0].scrollHeight||0,pX:j.pageX,pY:j.pageY,k:k.k};if(e&&k.k!="d")M1={X:h.left||f1("left")||0,Y:h.top||f1("top")||0,W:e[0].offsetWidth||f1("width")||0,H:e[0].offsetHeight||f1("height")||0,pX:j.pageX,pY:j.pageY,k:k.k};else M1=a;if(b(g,c[0])[0])try{b(g,c[0]).datepicker("hide")}catch(l){}b(document).mousemove(b.jqDnR.drag).mouseup(b.jqDnR.stop);return a})})},f=function(b){return parseInt(c.css(b))||a};f1=function(b){return parseInt(e.css(b))||a}})(jQuery);var xmlJsonClass={xml2json:function(a,b){if(a.nodeType===9)a=a.documentElement;var d=this.removeWhite(a),e=this.toObj(d),c=this.toJson(e,a.nodeName,"\t");return"{\n"+b+(b?c.replace(/\t/g,b):c.replace(/\t|\n/g,""))+"\n}"},json2xml:function(d,e){var b=function(a,f,g){var h="<![CDATA[",d=">",c="",i,k;if(a instanceof Array)if(a.length===0)c+=g+"<"+f+">__EMPTY_ARRAY_</"+f+">\n";else for(i=0,k=a.length;i<k;i+=1){var l=g+b(a[i],f,g+"\t")+"\n";c+=l}else if(typeof a==="object"){var j=false;c+=g+"<"+f;var e;for(e in a)if(a.hasOwnProperty(e))if(e.charAt(0)==="@")c+=" "+e.substr(1)+'="'+a[e].toString()+'"';else j=true;c+=j?d:"/>";if(j){for(e in a)if(a.hasOwnProperty(e))if(e==="#text")c+=a[e];else if(e==="#cdata")c+=h+a[e]+"]\]>";else if(e.charAt(0)!=="@")c+=b(a[e],e,g+"\t");c+=(c.charAt(c.length-1)==="\n"?g:"")+"</"+f+d}}else if(typeof a==="function")c+=g+"<"+f+d+h+a+"]\]></"+f+d;else{if(a===undefined)a="";if(a.toString()==='""'||a.toString().length===0)c+=g+"<"+f+">__EMPTY_STRING_</"+f+d;else c+=g+"<"+f+d+a.toString()+"</"+f+d}return c},c="",a;for(a in d)if(d.hasOwnProperty(a))c+=b(d[a],a,"");return e?c.replace(/\t/g,e):c.replace(/\t|\n/g,"")},toObj:function(c){var g="#text",d=this,b={},j=/function/i;if(c.nodeType===1){if(c.attributes.length)for(var f=0;f<c.attributes.length;f+=1)b["@"+c.attributes[f].nodeName]=(c.attributes[f].nodeValue||"").toString();if(c.firstChild){for(var h=0,e=0,i=false,a=c.firstChild;a;a=a.nextSibling)if(a.nodeType===1)i=true;else if(a.nodeType===3&&a.nodeValue.match(/[^ \f\n\r\t\v]/))h+=1;else if(a.nodeType===4)e+=1;if(i)if(h<2&&e<2){d.removeWhite(c);for(a=c.firstChild;a;a=a.nextSibling)if(a.nodeType===3)b[g]=d.escape(a.nodeValue);else if(a.nodeType===4)if(j.test(a.nodeValue))b[a.nodeName]=[b[a.nodeName],a.nodeValue];else b["#cdata"]=d.escape(a.nodeValue);else if(b[a.nodeName])if(b[a.nodeName]instanceof Array)b[a.nodeName][b[a.nodeName].length]=d.toObj(a);else b[a.nodeName]=[b[a.nodeName],d.toObj(a)];else b[a.nodeName]=d.toObj(a)}else if(!c.attributes.length)b=d.escape(d.innerXml(c));else b[g]=d.escape(d.innerXml(c));else if(h)if(!c.attributes.length){b=d.escape(d.innerXml(c));if(b==="__EMPTY_ARRAY_")b="[]";else if(b==="__EMPTY_STRING_")b=""}else b[g]=d.escape(d.innerXml(c));else if(e)if(e>1)b=d.escape(d.innerXml(c));else for(a=c.firstChild;a;a=a.nextSibling)if(j.test(c.firstChild.nodeValue)){b=c.firstChild.nodeValue;break}else b["#cdata"]=d.escape(a.nodeValue)}if(!c.attributes.length&&!c.firstChild)b=null}else if(c.nodeType===9)b=d.toObj(c.documentElement);else alert("unhandled node type: "+c.nodeType);return b},toJson:function(a,b,c,h){var g='"';if(h===undefined)h=true;var e=b?g+b+g:"",f="\t",d="\n";if(!h){f="";d=""}if(a==="[]")e+=b?":[]":"[]";else if(a instanceof Array){var m,j,k=[];for(j=0,m=a.length;j<m;j+=1)k[j]=this.toJson(a[j],"",c+f,h);e+=(b?":[":"[")+(k.length>1?d+c+f+k.join(","+d+c+f)+d+c:k.join(""))+"]"}else if(a===null)e+=(b&&":")+"null";else if(typeof a==="object"){var i=[],l;for(l in a)if(a.hasOwnProperty(l))i[i.length]=this.toJson(a[l],l,c+f,h);e+=(b?":{":"{")+(i.length>1?d+c+f+i.join(","+d+c+f)+d+c:i.join(""))+"}"}else if(typeof a==="string")e+=(b&&":")+g+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+g;else e+=(b&&":")+g+a.toString()+g;return e},innerXml:function(b){var c="";if("innerHTML"in b)c=b.innerHTML;else for(var d=function(a){var b="",c;if(a.nodeType===1){b+="<"+a.nodeName;for(c=0;c<a.attributes.length;c+=1)b+=" "+a.attributes[c].nodeName+'="'+(a.attributes[c].nodeValue||"").toString()+'"';if(a.firstChild){b+=">";for(var e=a.firstChild;e;e=e.nextSibling)b+=d(e);b+="</"+a.nodeName+">"}else b+="/>"}else if(a.nodeType===3)b+=a.nodeValue;else if(a.nodeType===4)b+="<![CDATA["+a.nodeValue+"]\]>";return b},a=b.firstChild;a;a=a.nextSibling)c+=d(a);return c},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(b){b.normalize();for(var a=b.firstChild;a;)if(a.nodeType===3)if(!a.nodeValue.match(/[^ \f\n\r\t\v]/)){var c=a.nextSibling;b.removeChild(a);a=c}else a=a.nextSibling;else if(a.nodeType===1){this.removeWhite(a);a=a.nextSibling}else a=a.nextSibling;return b}};(function(a){var j="edit",i="</a>",c="?",g=".",b="",e=true,h="undefined",f=null,d=false;a.fmatter={};a.extend(a.fmatter,{isBoolean:function(a){return typeof a==="boolean"},isObject:function(b){return b&&(typeof b==="object"||a.isFunction(b))||d},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNull:function(a){return a===f},isUndefined:function(a){return typeof a===h},isValue:function(b){var a=this;return a.isObject(b)||a.isString(b)||a.isNumber(b)||a.isBoolean(b)},isEmpty:function(c){if(!this.isString(c)&&this.isValue(c))return d;else if(!this.isValue(c))return e;c=a.trim(c).replace(/\&nbsp\;/ig,b).replace(/\&#160\;/ig,b);return c===b}});a.fn.fmatter=function(c,d,b,g,f){var e=d;b=a.extend({},a.jgrid.formatter,b);if(a.fn.fmatter[c])e=a.fn.fmatter[c](d,b,g,f);return e};a.fmatter.util={NumberFormat:function(f,e){if(!a.fmatter.isNumber(f))f*=1;if(a.fmatter.isNumber(f)){var o=f<0,c=f+b,j=e.decimalSeparator?e.decimalSeparator:g,d;if(a.fmatter.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);c=Math.round(f*l)/l+b;d=c.lastIndexOf(g);if(k>0){if(d<0){c+=j;d=c.length-1}else if(j!==g)c=c.replace(g,j);while(c.length-1-d<k)c+="0"}}if(e.thousandsSeparator){var n=e.thousandsSeparator;d=c.lastIndexOf(j);d=d>-1?d:c.length;for(var h=c.substring(d),m=-1,i=d;i>0;i--){m++;if(m%3===0&&i!==d&&(!o||i>1))h=n+h;h=c.charAt(i-1)+h}c=h}c=e.prefix?e.prefix+c:c;c=e.suffix?c+e.suffix:c;return c}else return f},DateFormat:function(j,g,n,i){var E=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,D=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,C=/[^-+\dA-Z]/g,B=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),o=typeof g==="string"?g.match(B):f,m=function(a,b){a=String(a);b=parseInt(b,10)||2;while(a.length<b)a="0"+a;return a},d={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},e=0,k,h,A,l=["i18n"];l.i18n={dayNames:i.dayNames,monthNames:i.monthNames};if(j in i.masks)j=i.masks[j];if(!isNaN(g-0)&&String(j).toLowerCase()=="u")e=new Date(parseFloat(g)*1e3);else if(g.constructor===Date)e=g;else if(o!==f){e=new Date(parseInt(o[1],10));if(o[3]){var w=Number(o[5])*60+Number(o[6]);w*=o[4]=="-"?1:-1;w-=e.getTimezoneOffset();e.setTime(Number(Number(e)+w*60*1e3))}}else{g=String(g).split(/[\\\/:_;.,\t\T\s-]/);j=j.split(/[\\\/:_;.,\t\T\s-]/);for(h=0,A=j.length;h<A;h++){if(j[h]=="M"){k=a.inArray(g[h],l.i18n.monthNames);if(k!==-1&&k<12)g[h]=k+1}if(j[h]=="F"){k=a.inArray(g[h],l.i18n.monthNames);if(k!==-1&&k>11)g[h]=k+1-12}if(g[h])d[j[h].toLowerCase()]=parseInt(g[h],10)}if(d.f)d.m=d.f;if(d.m===0&&d.y===0&&d.d===0)return"&#160;";d.m=parseInt(d.m,10)-1;var s=d.y;if(s>=70&&s<=99)d.y=1900+d.y;else if(s>=0&&s<=69)d.y=2e3+d.y;e=new Date(d.y,d.m,d.d,d.h,d.i,d.s,d.u)}if(n in i.masks)n=i.masks[n];else if(!n)n="Y-m-d";var p=e.getHours(),F=e.getMinutes(),t=e.getDate(),q=e.getMonth()+1,x=e.getTimezoneOffset(),G=e.getSeconds(),H=e.getMilliseconds(),v=e.getDay(),r=e.getFullYear(),u=(v+6)%7+1,y=(new Date(r,q-1,t)-new Date(r,0,1))/8.64e7,z={d:m(t),D:l.i18n.dayNames[v],j:t,l:l.i18n.dayNames[v+7],N:u,S:i.S(t),w:v,z:y,W:u<5?Math.floor((y+u-1)/7)+1:Math.floor((y+u-1)/7)||(((new Date(r-1,0,1)).getDay()+6)%7<4?53:52),F:l.i18n.monthNames[q-1+12],m:m(q),M:l.i18n.monthNames[q-1],n:q,t:c,L:c,o:c,Y:r,y:String(r).substring(2),a:p<12?i.AmPm[0]:i.AmPm[1],A:p<12?i.AmPm[2]:i.AmPm[3],B:c,g:p%12||12,G:p,h:m(p%12||12),H:m(p),i:m(F),s:m(G),u:H,e:c,I:c,O:(x>0?"-":"+")+m(Math.floor(Math.abs(x)/60)*100+Math.abs(x)%60,4),P:c,T:(String(e).match(D)||[b]).pop().replace(C,b),Z:c,c:c,r:c,U:Math.floor(e/1e3)};return n.replace(E,function(a){return a in z?z[a]:a.substring(1)})}};a.fn.fmatter.defaultFormat=function(c,d){return a.fmatter.isValue(c)&&c!==b?c:d.defaultValue?d.defaultValue:"&#160;"};a.fn.fmatter.email=function(b,c){return!a.fmatter.isEmpty(b)?'<a href="mailto:'+b+'">'+b+i:a.fn.fmatter.defaultFormat(b,c)};a.fn.fmatter.checkbox=function(c,f){var d=a.extend({},f.checkbox),g;if(!a.fmatter.isUndefined(f.colModel.formatoptions))d=a.extend({},d,f.colModel.formatoptions);if(d.disabled===e)g='disabled="disabled"';else g=b;if(a.fmatter.isEmpty(c)||a.fmatter.isUndefined(c))c=a.fn.fmatter.defaultFormat(c,d);c=c+b;c=c.toLowerCase();var h=c.search(/(false|0|no|off)/i)<0?" checked='checked' ":b;return'<input type="checkbox" '+h+' value="'+c+'" offval="no" '+g+"/>"};a.fn.fmatter.link=function(c,d){var e={target:d.target},f=b;if(!a.fmatter.isUndefined(d.colModel.formatoptions))e=a.extend({},e,d.colModel.formatoptions);if(e.target)f="target="+e.target;return!a.fmatter.isEmpty(c)?"<a "+f+' href="'+c+'">'+c+i:a.fn.fmatter.defaultFormat(c,d)};a.fn.fmatter.showlink=function(f,d){var e={baseLinkUrl:d.baseLinkUrl,showAction:d.showAction,addParam:d.addParam||b,target:d.target,idName:d.idName},g=b,h;if(!a.fmatter.isUndefined(d.colModel.formatoptions))e=a.extend({},e,d.colModel.formatoptions);if(e.target)g="target="+e.target;h=e.baseLinkUrl+e.showAction+c+e.idName+"="+d.rowId+e.addParam;return a.fmatter.isString(f)||a.fmatter.isNumber(f)?"<a "+g+' href="'+h+'">'+f+i:a.fn.fmatter.defaultFormat(f,d)};a.fn.fmatter.integer=function(d,c){var b=a.extend({},c.integer);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.number=function(d,c){var b=a.extend({},c.number);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.currency=function(d,c){var b=a.extend({},c.currency);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return a.fmatter.isEmpty(d)?b.defaultValue:a.fmatter.util.NumberFormat(d,b)};a.fn.fmatter.date=function(d,c,f,e){var b=a.extend({},c.date);if(!a.fmatter.isUndefined(c.colModel.formatoptions))b=a.extend({},b,c.colModel.formatoptions);return!b.reformatAfterEdit&&e==j?a.fn.fmatter.defaultFormat(d,c):!a.fmatter.isEmpty(d)?a.fmatter.util.DateFormat(b.srcformat,d,b.newformat,b):a.fn.fmatter.defaultFormat(d,c)};a.fn.fmatter.select=function(c,h){c=c+b;var f=d,j=[];if(!a.fmatter.isUndefined(h.colModel.formatoptions))f=h.colModel.formatoptions.value;else if(!a.fmatter.isUndefined(h.colModel.editoptions))f=h.colModel.editoptions.value;if(f){var k=h.colModel.editoptions.multiple===e?e:d,i=[],g;if(k){i=c.split(",");i=a.map(i,function(b){return a.trim(b)})}if(a.fmatter.isString(f))for(var m=f.split(";"),n=0,l=0;l<m.length;l++){g=m[l].split(":");if(g.length>2)g[1]=jQuery.map(g,function(b,a){if(a>0)return b}).join(":");if(k){if(jQuery.inArray(g[0],i)>-1){j[n]=g[1];n++}}else if(a.trim(g[0])==a.trim(c)){j[0]=g[1];break}}else if(a.fmatter.isObject(f))if(k)j=jQuery.map(i,function(a){return f[a]});else j[0]=f[c]||b}c=j.join(", ");return c===b?a.fn.fmatter.defaultFormat(c,h):c};a.fn.fmatter.rowactions=function(e,h,r,s){var n=" div.ui-inline-cancel",m=" div.ui-inline-save, ",g=".ui-jqgrid-btable:first",l=" div.ui-inline-del",k=" div.ui-inline-edit, ",b="tr#",c="#",i={keys:d,onEdit:f,onSuccess:f,afterSave:f,onError:f,afterRestore:f,extraparam:{oper:j},url:f,delOptions:{},editOptions:{}};e=a.jgrid.jqID(e);h=a.jgrid.jqID(h);var q=a(c+h)[0].p.colModel[s];if(!a.fmatter.isUndefined(q.formatoptions))i=a.extend(i,q.formatoptions);if(!a.fmatter.isUndefined(a(c+h)[0].p.editOptions))i.editOptions=a(c+h)[0].p.editOptions;if(!a.fmatter.isUndefined(a(c+h)[0].p.delOptions))i.delOptions=a(c+h)[0].p.delOptions;var p=function(d){i.afterSave&&i.afterSave(d);a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide()},o=function(d){i.afterRestore&&i.afterRestore(d);a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide()};switch(r){case j:a(c+h).jqGrid("editRow",e,i.keys,i.onEdit,i.onSuccess,i.url,i.extraparam,p,i.onError,o);a(b+e+k+b+e+l,c+h+g).hide();a(b+e+m+b+e+n,c+h+g).show();break;case"save":if(a(c+h).jqGrid("saveRow",e,i.onSuccess,i.url,i.extraparam,p,i.onError,o)){a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide()}break;case"cancel":a(c+h).jqGrid("restoreRow",e,o);a(b+e+k+b+e+l,c+h+g).show();a(b+e+m+b+e+n,c+h+g).hide();break;case"del":a(c+h).jqGrid("delGridRow",e,i.delOptions);break;case"formedit":a(c+h).jqGrid("setSelection",e);a(c+h).jqGrid("editGridRow",e,i.editOptions)}};a.fn.fmatter.actions=function(q,c){var p="><span class='ui-icon ui-icon-pencil'></span></div>",o="' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' ",j="<div title='",l="); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",i="','",g="onclick=jQuery.fn.fmatter.rowactions('",n={keys:d,editbutton:e,delbutton:e,editformbutton:d};if(!a.fmatter.isUndefined(c.colModel.formatoptions))n=a.extend(n,c.colModel.formatoptions);var m=c.rowId,f=b,k;if(typeof m==h||a.fmatter.isEmpty(m))return b;if(n.editformbutton){k=g+m+i+c.gid+"','formedit',"+c.pos+l;f=f+j+a.jgrid.nav.edittitle+o+k+p}else if(n.editbutton){k=g+m+i+c.gid+"','edit',"+c.pos+"); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ";f=f+j+a.jgrid.nav.edittitle+o+k+p}if(n.delbutton){k=g+m+i+c.gid+"','del',"+c.pos+l;f=f+j+a.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+k+"><span class='ui-icon ui-icon-trash'></span></div>"}k=g+m+i+c.gid+"','save',"+c.pos+l;f=f+j+a.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+k+"><span class='ui-icon ui-icon-disk'></span></div>";k=g+m+i+c.gid+"','cancel',"+c.pos+l;f=f+j+a.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+k+"><span class='ui-icon ui-icon-cancel'></span></div>";return"<div style='margin-left:8px;'>"+f+"</div>"};a.unformat=function(d,i,s,r){var j="\\$1",f,m=i.colModel.formatter,c=i.colModel.formatoptions||{},l,p=/([\.\*\_\'\(\)\{\}\+\?\\])/g,n=i.colModel.unformat||a.fn.fmatter[m]&&a.fn.fmatter[m].unformat;if(typeof n!==h&&a.isFunction(n))f=n(a(d).text(),i,d);else if(!a.fmatter.isUndefined(m)&&a.fmatter.isString(m)){var o=a.jgrid.formatter||{},k;switch(m){case"integer":c=a.extend({},o.integer,c);l=c.thousandsSeparator.replace(p,j);k=new RegExp(l,"g");f=a(d).text().replace(k,b);break;case"number":c=a.extend({},o.number,c);l=c.thousandsSeparator.replace(p,j);k=new RegExp(l,"g");f=a(d).text().replace(k,b).replace(c.decimalSeparator,g);break;case"currency":c=a.extend({},o.currency,c);l=c.thousandsSeparator.replace(p,j);k=new RegExp(l,"g");f=a(d).text().replace(k,b).replace(c.decimalSeparator,g).replace(c.prefix,b).replace(c.suffix,b);break;case"checkbox":var q=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];f=a("input",d).is(":checked")?q[0]:q[1];break;case"select":f=a.unformat.select(d,i,s,r);break;case"actions":return b;default:f=a(d).text()}}return f!==undefined?f:r===e?a(d).text():a.jgrid.htmlDecode(a(d).html())};a.unformat.select=function(p,q,s,r){var j=[],i=a(p).text();if(r===e)return i;var l=a.extend({},q.colModel.editoptions);if(l.value){var g=l.value,k=l.multiple===e?e:d,f=[],c;if(k){f=i.split(",");f=a.map(f,function(b){return a.trim(b)})}if(a.fmatter.isString(g))for(var n=g.split(";"),o=0,m=0;m<n.length;m++){c=n[m].split(":");if(c.length>2)c[1]=jQuery.map(c,function(b,a){if(a>0)return b}).join(":");if(k){if(jQuery.inArray(c[1],f)>-1){j[o]=c[0];o++}}else if(a.trim(c[1])==a.trim(i)){j[0]=c[0];break}}else if(a.fmatter.isObject(g)||a.isArray(g)){if(!k)f[0]=i;j=jQuery.map(f,function(c){var b;a.each(g,function(e,a){if(a==c){b=e;return d}});if(typeof b!=h)return b})}return j.join(", ")}else return i||b};a.unformat.date=function(c,d){var b=a.jgrid.formatter.date||{};if(!a.fmatter.isUndefined(d.formatoptions))b=a.extend({},b,d.formatoptions);return!a.fmatter.isEmpty(c)?a.fmatter.util.DateFormat(b.newformat,c,b.srcformat,b):a.fn.fmatter.defaultFormat(c,d)}})(jQuery);(function(a){var e=-1,n="false",m="auto",g="#",k="px",f="undefined",l="string",j="ui-state-hover",b=false,o=".jqgrid-overlay:first",d="",c=true,i="true",h="aria-hidden";a.extend(a.jgrid,{showModal:function(a){a.w.show()},closeModal:function(a){a.w.hide().attr(h,i);a.o&&a.o.remove()},hideModal:function(e,b){b=a.extend({jqm:c,gb:d},b||{});if(b.onClose){var f=b.onClose(e);if(typeof f=="boolean"&&!f)return}if(a.fn.jqm&&b.jqm===c)a(e).attr(h,i).jqmHide();else{if(b.gb!==d)try{a(o,b.gb).hide()}catch(g){}a(e).hide().attr(h,i)}},findPos:function(a){var b=0,c=0;if(a.offsetParent)do{b+=a.offsetLeft;c+=a.offsetTop}while(a=a.offsetParent);return[b,c]},createModal:function(h,C,d,x,B,r,u){var q=".ui-jqdialog-titlebar-close",p=".ui-jqdialog-title",e=document.createElement("div"),s,A=this;u=a.extend({},u||{});s=a(d.gbox).attr("dir")=="rtl"?c:b;e.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";e.id=h.themodal;var n=document.createElement("div");n.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";n.id=h.modalhead;a(n).append("<span class='ui-jqdialog-title'>"+d.caption+"</span>");var t=a("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){t.addClass(j)},function(){t.removeClass(j)}).append("<span class='ui-icon ui-icon-closethick'></span>");a(n).append(t);if(s){e.dir="rtl";a(p,n).css("float","right");a(q,n).css("left",.3+"em")}else{e.dir="ltr";a(p,n).css("float","left");a(q,n).css("right",.3+"em")}var w=document.createElement("div");a(w).addClass("ui-jqdialog-content ui-widget-content").attr("id",h.modalcontent);a(w).append(C);e.appendChild(w);a(e).prepend(n);if(r===c)a("body").append(e);else if(typeof r==l)a(r).append(e);else a(e).insertBefore(x);a(e).css(u);if(typeof d.jqModal===f)d.jqModal=c;var o={};if(a.fn.jqm&&d.jqModal===c){if(d.left===0&&d.top===0&&d.overlay){var v=[];v=this.findPos(B);d.left=v[0]+4;d.top=v[1]+4}o.top=d.top+k;o.left=d.left}else if(d.left!==0||d.top!==0){o.left=d.left;o.top=d.top+k}a("a.ui-jqdialog-titlebar-close",n).click(function(){var e=a(g+h.themodal).data("onClose")||d.onClose,c=a(g+h.themodal).data("gbox")||d.gbox;A.hideModal(g+h.themodal,{gb:c,jqm:d.jqModal,onClose:e});return b});if(d.width===0||!d.width)d.width=300;if(d.height===0||!d.height)d.height=200;if(!d.zIndex){var y=a(x).parents("*[role=dialog]").filter(":first").css("z-index");if(y)d.zIndex=parseInt(y,10)+1;else d.zIndex=950}var z=0;if(s&&o.left&&!r){z=a(d.gbox).width()-(!isNaN(d.width)?parseInt(d.width,10):0)-8;o.left=parseInt(o.left,10)+parseInt(z,10)}if(o.left)o.left+=k;a(e).css(a.extend({width:isNaN(d.width)?m:d.width+k,height:isNaN(d.height)?m:d.height+k,zIndex:d.zIndex,overflow:"hidden"},o)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":h.modalhead,"aria-hidden":i});if(typeof d.drag==f)d.drag=c;if(typeof d.resize==f)d.resize=c;if(d.drag){a(n).css("cursor","move");if(a.fn.jqDrag)a(e).jqDrag(n);else try{a(e).draggable({handle:a(g+n.id)})}catch(D){}}if(d.resize)if(a.fn.jqResize){a(e).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>");a(g+h.themodal).jqResize(".jqResize",h.scrollelm?g+h.scrollelm:b)}else try{a(e).resizable({handles:"se, sw",alsoResize:h.scrollelm?g+h.scrollelm:b})}catch(E){}d.closeOnEscape===c&&a(e).keydown(function(c){if(c.which==27){var b=a(g+h.themodal).data("onClose")||d.onClose;A.hideModal(this,{gb:d.gbox,jqm:d.jqModal,onClose:b})}})},viewModal:function(f,e){e=a.extend({toTop:c,overlay:10,modal:b,overlayClass:"ui-widget-overlay",onShow:this.showModal,onHide:this.closeModal,gbox:d,jqm:c,jqM:c},e||{});if(a.fn.jqm&&e.jqm===c)if(e.jqM)a(f).attr(h,n).jqm(e).jqmShow();else a(f).attr(h,n).jqmShow();else{if(e.gbox!==d){a(o,e.gbox).show();a(f).data("gbox",e.gbox)}a(f).show().attr(h,n);try{a(":input:visible",f)[0].focus()}catch(g){}}},info_dialog:function(x,y,v,w){var p="#info_id",i="#info_dialog",s="<div class='ui-widget-content ui-helper-clearfix' style='text-align:",l="</div>",t=this,e={width:290,height:m,dataheight:m,drag:c,resize:b,caption:"<b>"+x+"</b>",left:250,top:170,zIndex:1e3,jqModal:c,modal:b,closeOnEscape:c,align:"center",buttonalign:"center",buttons:[]};a.extend(e,w||{});var r=e.jqModal,z=t;if(a.fn.jqm&&!r)r=b;var q=d;if(e.buttons.length>0)for(var o=0;o<e.buttons.length;o++){if(typeof e.buttons[o].id==f)e.buttons[o].id="info_button_"+o;q+="<a href='javascript:void(0)' id='"+e.buttons[o].id+"' class='fm-button ui-state-default ui-corner-all'>"+e.buttons[o].text+"</a>"}var B=isNaN(e.dataheight)?e.dataheight:e.dataheight+k,A="text-align:"+e.align+";",u="<div id='info_id'>";u+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+B+";"+A+"'>"+y+l;u+=v?s+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+v+"</a>"+q+l:q!==d?s+e.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+q+l:d;u+=l;try{a(i).attr(h)==n&&t.hideModal(i,{jqm:r});a(i).remove()}catch(C){}t.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},u,e,d,d,c);q&&a.each(e.buttons,function(c){a(g+this.id,p).bind("click",function(){e.buttons[c].onClick.call(a(i));return b})});a("#closedialog",p).click(function(){z.hideModal(i,{jqm:r});return b});a(".fm-button",i).hover(function(){a(this).addClass(j)},function(){a(this).removeClass(j)});a.isFunction(e.beforeOpen)&&e.beforeOpen();t.viewModal(i,{onHide:function(a){a.w.hide().remove();a.o&&a.o.remove()},modal:e.modal,jqm:r});a.isFunction(e.afterOpen)&&e.afterOpen();try{a(i).focus()}catch(D){}},createEl:function(A,g,k,J,L){var y="function 'custom_element' ",q="button",o="selected",j="option",x="select",m="role",w="input",v="checkbox",C="textarea",D=this,h=d;function z(c,b){a.isFunction(b.dataInit)&&b.dataInit(c);b.dataEvents&&a.each(b.dataEvents,function(){var b=this;if(b.data!==undefined)a(c).bind(b.type,b.data,b.fn);else a(c).bind(b.type,b.fn)});return b}function u(g,d,c){var b=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr"];if(typeof c!=f&&a.isArray(c))b=a.extend(b,c);a.each(d,function(c,d){a.inArray(c,b)===e&&a(g).attr(c,d)});!d.hasOwnProperty("id")&&a(g).attr("id",a.jgrid.randId())}switch(A){case C:h=document.createElement(C);if(J)!g.cols&&a(h).css({width:"98%"});else if(!g.cols)g.cols=20;if(!g.rows)g.rows=2;if(k=="&nbsp;"||k=="&#160;"||k.length==1&&k.charCodeAt(0)==160)k=d;h.value=k;u(h,g);g=z(h,g);a(h).attr({role:"textbox",multiline:i});break;case v:h=document.createElement(w);h.type=v;if(!g.value){var K=k.toLowerCase();if(K.search(/(false|0|no|off|undefined)/i)<0&&K!==d){h.checked=c;h.defaultChecked=c;h.value=k}else h.value="on";a(h).attr("offval","off")}else{var G=g.value.split(":");if(k===G[0]){h.checked=c;h.defaultChecked=c}h.value=G[0];a(h).attr("offval",G[1])}u(h,g,["value"]);g=z(h,g);a(h).attr(m,v);break;case x:h=document.createElement(x);h.setAttribute(m,x);var r,t=[];if(g.multiple===c){r=c;h.multiple="multiple";a(h).attr("aria-multiselectable",i)}else r=b;if(typeof g.dataUrl!=f)a.ajax(a.extend({url:g.dataUrl,type:"GET",dataType:"html",context:{elem:h,options:g,vl:k},success:function(i){var h,d=[],g=this.elem,l=this.vl,b=a.extend({},this.options),k=b.multiple===c;if(typeof b.buildSelect!=f){var n=b.buildSelect(i);h=a(n).html()}else h=a(i).html();if(h){a(g).append(h);u(g,b);b=z(g,b);if(typeof b.size===f)b.size=k?3:1;if(k){d=l.split(",");d=a.map(d,function(b){return a.trim(b)})}else d[0]=a.trim(l);setTimeout(function(){a(j,g).each(function(){var b=this;a(b).attr(m,j);if(a.inArray(a.trim(a(b).text()),d)>e||a.inArray(a.trim(a(b).val()),d)>e)b.selected=o})},0)}}},L||{}));else if(g.value){var F;if(typeof g.size===f)g.size=r?3:1;if(r){t=k.split(",");t=a.map(t,function(b){return a.trim(b)})}if(typeof g.value==="function")g.value=g.value();var I,p,n;if(typeof g.value===l){I=g.value.split(";");for(F=0;F<I.length;F++){p=I[F].split(":");if(p.length>2)p[1]=a.map(p,function(b,a){if(a>0)return b}).join(":");n=document.createElement(j);n.setAttribute(m,j);n.value=p[0];n.innerHTML=p[1];h.appendChild(n);if(!r&&(a.trim(p[0])==a.trim(k)||a.trim(p[1])==a.trim(k)))n.selected=o;if(r&&(a.inArray(a.trim(p[1]),t)>e||a.inArray(a.trim(p[0]),t)>e))n.selected=o}}else if(typeof g.value==="object"){var B=g.value;for(var s in B)if(B.hasOwnProperty(s)){n=document.createElement(j);n.setAttribute(m,j);n.value=s;n.innerHTML=B[s];h.appendChild(n);if(!r&&(a.trim(s)==a.trim(k)||a.trim(B[s])==a.trim(k)))n.selected=o;if(r&&(a.inArray(a.trim(B[s]),t)>e||a.inArray(a.trim(s),t)>e))n.selected=o}}u(h,g,["value"]);g=z(h,g)}break;case"text":case"password":case q:var H;if(A==q)H=q;else H="textbox";h=document.createElement(w);h.type=A;h.value=k;u(h,g);g=z(h,g);if(A!=q)if(J)!g.size&&a(h).css({width:"98%"});else if(!g.size)g.size=20;a(h).attr(m,H);break;case"image":case"file":h=document.createElement(w);h.type=A;u(h,g);g=z(h,g);break;case"custom":h=document.createElement("span");try{if(a.isFunction(g.custom_element)){var E=g.custom_element.call(D,k,g);if(E){E=a(E).addClass("customelement").attr({id:g.id,name:g.name});a(h).empty().append(E)}else throw"e2";}else throw"e1";}catch(M){M=="e1"&&D.info_dialog(a.jgrid.errors.errcap,y+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose);if(M=="e2")D.info_dialog(a.jgrid.errors.errcap,y+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose);else D.info_dialog(a.jgrid.errors.errcap,typeof M===l?M:M.message,a.jgrid.edit.bClose)}}return h},checkDate:function(a,l){var n=function(a){return a%4===0&&(a%100!==0||a%400===0)?29:28},p=function(c){var b=this;for(var a=1;a<=c;a++){b[a]=31;if(a==4||a==6||a==9||a==11)b[a]=30;if(a==2)b[a]=29}return b},d={},m;a=a.toLowerCase();if(a.indexOf("/")!=e)m="/";else if(a.indexOf("-")!=e)m="-";else if(a.indexOf(".")!=e)m=".";else m="/";a=a.split(m);l=l.split(m);if(l.length!=3)return b;for(var h=e,f,j=e,k=e,g=0;g<a.length;g++){var q=isNaN(l[g])?0:parseInt(l[g],10);d[a[g]]=q;f=a[g];if(f.indexOf("y")!=e)h=g;if(f.indexOf("m")!=e)k=g;if(f.indexOf("d")!=e)j=g}if(a[h]=="y"||a[h]=="yyyy")f=4;else if(a[h]=="yy")f=2;else f=e;var o=p(12),i;if(h===e)return b;else{i=d[a[h]].toString();if(f==2&&i.length==1)f=1;if(i.length!=f||d[a[h]]===0&&l[h]!="00")return b}if(k===e)return b;else{i=d[a[k]].toString();if(i.length<1||d[a[k]]<1||d[a[k]]>12)return b}if(j===e)return b;else{i=d[a[j]].toString();if(i.length<1||d[a[j]]<1||d[a[j]]>31||d[a[k]]==2&&d[a[j]]>n(d[a[h]])||d[a[j]]>o[d[a[k]]])return b}return c},isEmpty:function(a){return a.match(/^\s+$/)||a===d?c:b},checkTime:function(d){var e=/^(\d{1,2}):(\d{2})([ap]m)?$/,a;if(!this.isEmpty(d)){a=d.match(e);if(a){if(a[3]){if(a[1]<1||a[1]>12)return b}else if(a[1]>23)return b;if(a[2]>59)return b}else return b}return c},checkValues:function(i,m,k,s,u){var h=": ",n=this,g,p,j,r,t;if(typeof s===f){if(typeof m==l){for(p=0,t=k.p.colModel.length;p<t;p++)if(k.p.colModel[p].name==m){g=k.p.colModel[p].editrules;m=p;try{j=k.p.colModel[p].formoptions.label}catch(w){}break}}else if(m>=0)g=k.p.colModel[m].editrules}else{g=s;j=u===undefined?"_":u}if(g){if(!j)j=k.p.colNames[m];if(g.required===c)if(n.isEmpty(i))return[b,j+h+a.jgrid.edit.msg.required,d];var o=g.required===b?b:c;if(g.number===c)if(!(o===b&&n.isEmpty(i)))if(isNaN(i))return[b,j+h+a.jgrid.edit.msg.number,d];if(typeof g.minValue!=f&&!isNaN(g.minValue))if(parseFloat(i)<parseFloat(g.minValue))return[b,j+h+a.jgrid.edit.msg.minValue+" "+g.minValue,d];if(typeof g.maxValue!=f&&!isNaN(g.maxValue))if(parseFloat(i)>parseFloat(g.maxValue))return[b,j+h+a.jgrid.edit.msg.maxValue+" "+g.maxValue,d];var q;if(g.email===c)if(!(o===b&&n.isEmpty(i))){q=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;if(!q.test(i))return[b,j+h+a.jgrid.edit.msg.email,d]}if(g.integer===c)if(!(o===b&&n.isEmpty(i))){if(isNaN(i))return[b,j+h+a.jgrid.edit.msg.integer,d];if(i%1!==0||i.indexOf(".")!=e)return[b,j+h+a.jgrid.edit.msg.integer,d]}if(g.date===c)if(!(o===b&&n.isEmpty(i))){if(k.p.colModel[m].formatoptions&&k.p.colModel[m].formatoptions.newformat)r=k.p.colModel[m].formatoptions.newformat;else r=k.p.colModel[m].datefmt||"Y-m-d";if(!n.checkDate(r,i))return[b,j+h+a.jgrid.edit.msg.date+" - "+r,d]}if(g.time===c)if(!(o===b&&n.isEmpty(i)))if(!n.checkTime(i))return[b,j+h+a.jgrid.edit.msg.date+" - hh:mm (am/pm)",d];if(g.url===c)if(!(o===b&&n.isEmpty(i))){q=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;if(!q.test(i))return[b,j+h+a.jgrid.edit.msg.url,d]}if(g.custom===c)if(!(o===b&&n.isEmpty(i)))if(a.isFunction(g.custom_func)){var v=g.custom_func.call(k,i,j);return a.isArray(v)?v:[b,a.jgrid.edit.msg.customarray,d]}else return[b,a.jgrid.edit.msg.customfcheck,d]}return[c,d,d]}})})(jQuery);(function(b){var a="",c="string";b.fn.jqFilter=function(n){var h="nn",g="nu",j="ni",i="in",m="NOT LIKE",l="LIKE",e=false,f=null,d=true;if(typeof n===c){var o=b.fn.jqFilter[n];if(!o)throw"jqFilter - No such method: "+n;var p=b.makeArray(arguments).slice(1);return o.apply(this,p)}var k=b.extend(d,{filter:f,columns:[],onChange:f,afterRedraw:f,checkValues:f,error:e,errmsg:a,errorcheck:d,showQuery:d,sopt:f,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:l},{name:"bn",description:"does not begin with",operator:m},{name:i,description:i,operator:"IN"},{name:j,description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:l},{name:"en",description:"does not end with",operator:m},{name:"cn",description:"contains",operator:l},{name:"nc",description:"does not contain",operator:m},{name:g,description:"is null",operator:"IS NULL"},{name:h,description:"is not null",operator:"IS NOT NULL"}],numopts:["eq","ne","lt","le","gt","ge",g,h,i,j],stropts:["eq","ne","bw","bn","ew","en","cn","nc",g,h,i,j],_gridsopt:[],groupOps:["AND","OR"],groupButton:d,ruleButtons:d,direction:"ltr"},n||{});return this.each(function(){var z="tr.error",y="th.ui-state-error",m=" ",x="<td class='first'></td>",v="undefined",r="click",o="change",q="</option>",p="<option value='",u=" selected='selected'",t="<tr></tr>",s="text",l=this;if(l.filter)return;l.p=k;if(l.p.filter===f||l.p.filter===undefined)l.p.filter={groupOp:l.p.groupOps[0],rules:[],groups:[]};var w,C=l.p.columns.length,n,B=/msie/i.test(navigator.userAgent)&&!window.opera;if(l.p._gridsopt.length)for(w=0;w<l.p._gridsopt.length;w++)l.p.ops[w].description=l.p._gridsopt[w];l.p.initFilter=b.extend(d,{},l.p.filter);if(!C)return;for(w=0;w<C;w++){n=l.p.columns[w];if(n.stype)n.inputtype=n.stype;else if(!n.inputtype)n.inputtype=s;if(n.sorttype)n.searchtype=n.sorttype;else if(!n.searchtype)n.searchtype=c;if(n.hidden===undefined)n.hidden=e;if(!n.label)n.label=n.name;if(n.index)n.name=n.index;if(!n.hasOwnProperty("searchoptions"))n.searchoptions={};if(!n.hasOwnProperty("searchrules"))n.searchrules={}}l.p.showQuery&&b(l).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+l.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var A=function(h,g){var c=[d,a];if(b.isFunction(g.searchrules))c=g.searchrules(h,g);else if(b.jgrid&&b.jgrid.checkValues)try{c=b.jgrid.checkValues(h,-1,f,g.searchrules,g.label)}catch(i){}if(c&&c.length&&c[0]===e){k.error=!c[0];k.errmsg=c[1]}};l.onchange=function(){var c=this;c.p.error=e;c.p.errmsg=a;return b.isFunction(c.p.onChange)?c.p.onChange.call(c,c.p):e};l.reDraw=function(){var a=this;b("table.group:first",a).remove();var c=a.createTableForGroup(k.filter,f);b(a).append(c);b.isFunction(a.p.afterRedraw)&&a.p.afterRedraw.call(a,a.p)};l.createTableForGroup=function(i,m){var j=this,h=j,g,l=b("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),A="left";if(j.p.direction=="rtl"){A="right";l.attr("dir","rtl")}m===f&&l.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+A+"'></th></tr>");var G=b(t);l.append(G);var s=b("<th colspan='5' align='"+A+"'></th>");G.append(s);if(j.p.ruleButtons===d){var z=b("<select class='opsel'></select>");s.append(z);var F=a,E;for(g=0;g<k.groupOps.length;g++){E=i.groupOp===h.p.groupOps[g]?u:a;F+=p+h.p.groupOps[g]+"'"+E+">"+h.p.groupOps[g]+q}z.append(F).bind(o,function(){i.groupOp=b(z).val();h.onchange()})}var y="<span></span>";if(j.p.groupButton){y=b("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>");y.bind(r,function(){if(i.groups===undefined)i.groups=[];i.groups.push({groupOp:k.groupOps[0],rules:[],groups:[]});h.reDraw();h.onchange();return e})}s.append(y);if(j.p.ruleButtons===d){var D=b("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>"),n;D.bind(r,function(){if(i.rules===undefined)i.rules=[];for(g=0;g<h.p.columns.length;g++){var f=typeof h.p.columns[g].search===v?d:h.p.columns[g].search,k=h.p.columns[g].hidden===d,j=h.p.columns[g].searchoptions.searchhidden===d;if(j&&f||f&&!k){n=h.p.columns[g];break}}var b;if(n.searchoptions.sopt)b=n.searchoptions.sopt;else if(h.p.sopt)b=h.p.sopt;else if(n.searchtype===c)b=h.p.stropts;else b=h.p.numopts;i.rules.push({field:n.name,op:b[0],data:a});h.reDraw();return e});s.append(D)}if(m!==f){var C=b("<input type='button' value='-' title='Delete group' class='delete-group'/>");s.append(C);C.bind(r,function(){for(g=0;g<m.groups.length;g++)if(m.groups[g]===i){m.groups.splice(g,1);break}h.reDraw();h.onchange();return e})}if(i.groups!==undefined)for(g=0;g<i.groups.length;g++){var w=b(t);l.append(w);var H=b(x);w.append(H);var B=b("<td colspan='4'></td>");B.append(j.createTableForGroup(i.groups[g],i));w.append(B)}if(i.groupOp===undefined)i.groupOp=h.p.groupOps[0];if(i.rules!==undefined)for(g=0;g<i.rules.length;g++)l.append(j.createTableRowForRule(i.rules[g],i));return l};l.createTableRowForRule=function(l,I){var w=".input-elm",A="input-elm",n="tr:first",f=this,C=b(t),i,m,y,j,F=a,D;C.append(x);var N=b("<td class='columns'></td>");C.append(N);var H=b("<select></select>"),z,E=[];N.append(H);H.bind(o,function(){var e=".selectopts";l.field=b(H).val();y=b(this).parents(n);for(i=0;i<f.p.columns.length;i++)if(f.p.columns[i].name===l.field){j=f.p.columns[i];break}if(!j)return;j.searchoptions.id=b.jgrid.randId();if(B&&j.inputtype===s)if(!j.searchoptions.size)j.searchoptions.size=10;var g=b.jgrid.createEl(j.inputtype,j.searchoptions,a,d,f.p.ajaxSelectOptions,d);b(g).addClass(A);if(j.searchoptions.sopt)m=j.searchoptions.sopt;else if(f.p.sopt)m=f.p.sopt;else if(j.searchtype===c)m=f.p.stropts;else m=f.p.numopts;var k=a,h=0;E=[];b.each(f.p.ops,function(){E.push(this.name)});for(i=0;i<m.length;i++){z=b.inArray(m[i],E);if(z!==-1){if(h===0)l.op=f.p.ops[z].name;k+=p+f.p.ops[z].name+"'>"+f.p.ops[z].description+q;h++}}b(e,y).empty().append(k);b(e,y)[0].selectedIndex=0;if(b.browser.msie&&b.browser.version<9){var r=parseInt(b("select.selectopts",y)[0].offsetWidth)+1;b(e,y).width(r);b(e,y).css("width","auto")}b(".data",y).empty().append(g);b(w,y).bind(o,function(){l.data=b(this).val();f.onchange()});setTimeout(function(){l.data=b(g).val();f.onchange()},0)});var Q=0;for(i=0;i<f.p.columns.length;i++){var P=typeof f.p.columns[i].search===v?d:f.p.columns[i].search,S=f.p.columns[i].hidden===d,R=f.p.columns[i].searchoptions.searchhidden===d;if(R&&P||P&&!S){D=a;if(l.field===f.p.columns[i].name){D=u;Q=i}F+=p+f.p.columns[i].name+"'"+D+">"+f.p.columns[i].label+q}}H.append(F);var K=b("<td class='operators'></td>");C.append(K);j=k.columns[Q];j.searchoptions.id=b.jgrid.randId();if(B&&j.inputtype===s)if(!j.searchoptions.size)j.searchoptions.size=10;var L=b.jgrid.createEl(j.inputtype,j.searchoptions,l.data,d,f.p.ajaxSelectOptions,d),G=b("<select class='selectopts'></select>");K.append(G);G.bind(o,function(){var d="disabled",c="readonly";l.op=b(G).val();y=b(this).parents(n);var e=b(w,y)[0];if(l.op===g||l.op===h){l.data=a;e.value=a;e.setAttribute(c,"true");e.setAttribute(d,"true")}else{e.removeAttribute(c);e.removeAttribute(d)}f.onchange()});if(j.searchoptions.sopt)m=j.searchoptions.sopt;else if(f.p.sopt)m=f.p.sopt;else if(j.searchtype===c)m=k.stropts;else m=f.p.numopts;F=a;b.each(f.p.ops,function(){E.push(this.name)});for(i=0;i<m.length;i++){z=b.inArray(m[i],E);if(z!==-1){D=l.op===f.p.ops[z].name?u:a;F+=p+f.p.ops[z].name+"'"+D+">"+f.p.ops[z].description+q}}G.append(F);var O=b("<td class='data'></td>");C.append(O);O.append(L);b(L).addClass(A).bind(o,function(){l.data=b(this).val();f.onchange()});var M=b("<td></td>");C.append(M);if(this.p.ruleButtons===d){var J=b("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>");M.append(J);J.bind(r,function(){for(i=0;i<I.rules.length;i++)if(I.rules[i]===l){I.rules.splice(i,1);break}f.reDraw();f.onchange();return e})}return C};l.getStringForGroup=function(c){var b="(",d;if(c.groups!==undefined)for(d=0;d<c.groups.length;d++){if(b.length>1)b+=m+c.groupOp+m;try{b+=this.getStringForGroup(c.groups[d])}catch(e){alert(e)}}if(c.rules!==undefined)try{for(d=0;d<c.rules.length;d++){if(b.length>1)b+=m+c.groupOp+m;b+=this.getStringForRule(c.rules[d])}}catch(f){alert(f)}b+=")";return b==="()"?a:b};l.getStringForRule=function(l){var f=this;for(var n=a,c=a,p,o,d,q=["int","integer","float","number","currency"],e=0;e<f.p.ops.length;e++)if(f.p.ops[e].name===l.op){n=f.p.ops[e].operator;c=f.p.ops[e].name;break}for(e=0;e<f.p.columns.length;e++)if(f.p.columns[e].name===l.field){p=f.p.columns[e];break}d=l.data;if(c==="bw"||c==="bn")d=d+"%";if(c==="ew"||c==="en")d="%"+d;if(c==="cn"||c==="nc")d="%"+d+"%";if(c===i||c===j)d=" ("+d+")";k.errorcheck&&A(l.data,p);if(b.inArray(p.searchtype,q)!==-1||c===h||c===g)o=l.field+m+n+m+d;else o=l.field+m+n+' "'+d+'"';return o};l.resetFilter=function(){var a=this;a.p.filter=b.extend(d,{},a.p.initFilter);a.reDraw();a.onchange()};l.hideError=function(){b(y,this).html(a);b(z,this).hide()};l.showError=function(){b(y,this).html(this.p.errmsg);b(z,this).show()};l.toUserFriendlyString=function(){return this.getStringForGroup(k.filter)};l.toString=function(){var b=this;function d(a){if(b.p.errorcheck){for(var d,c=0;c<b.p.columns.length;c++)if(b.p.columns[c].name===a.field){d=b.p.columns[c];break}d&&A(a.data,d)}return a.op+"(item."+a.field+",'"+a.data+"')"}function c(e){var b="(",f;if(e.groups!==undefined)for(f=0;f<e.groups.length;f++){if(b.length>1)if(e.groupOp==="OR")b+=" || ";else b+=" && ";b+=c(e.groups[f])}if(e.rules!==undefined)for(f=0;f<e.rules.length;f++){if(b.length>1)if(e.groupOp==="OR")b+=" || ";else b+=" && ";b+=d(e.rules[f])}b+=")";return b==="()"?a:b}return c(this.p.filter)};l.reDraw();l.p.showQuery&&l.onchange();l.filter=d})};b.extend(b.fn.jqFilter,{toSQLString:function(){var b=a;this.each(function(){b=this.toUserFriendlyString()});return b},filterData:function(){var a;this.each(function(){a=this.p.filter});return a},getParameter:function(a){if(a!==undefined)if(this.p.hasOwnProperty(a))return this.p[a];return this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(a){if(typeof a===c)a=jQuery.jgrid.parse(a);this.each(function(){this.p.filter=a;this.reDraw();this.onchange()})}})})(jQuery);(function(b){var Nb=".navtable",B="tr",N="<div class='ui-pg-div'><span class='ui-icon ",sb=".ui-jqdialog-titlebar-close",X="prev",W="next",Mb=".fm-button",E="</div>",hb="#cData",w="'></span>",bb="<span class='ui-icon ",ab="fm-button-icon-left",Z="fm-button-icon-right",Lb="ui-icon-close",Kb="text-align",Jb=".EditButton",rb="float",Ib="<span></span>",Hb="</td><td class='EditButton'>",Gb="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>",Fb="' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",Eb="' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",gb="pData",fb="nData",Db="<table id='",Cb=";'></form>",Bb="<form name='FormPost' id='",cb="px",Y="#pData, #nData",Ab=".ui-jqdialog-title",yb="getDataIDs",A="#nData",l="ui-state-disabled",z="#pData",xb="Error deleting the selected row!",wb="setRowData",D="setSelection",U="addRowData",v="#FormError",pb="'. Error code: ",ob=" Status: '",eb="getGridParam",J="ui-state-active",g="_2",C="checked",r="attr",q="prop",I="#id_g",vb="'/></td></tr>",ub="<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='",T="id",nb="FormData",mb=" rowpos='",L="</td></tr>",lb="<tr><td class='contentinfo' colspan='",K="]",kb="tr[rowpos=",db="&#160;",p=")",n="td:eq(",Q="rn",P="subgrid",O="cb",jb="style='display:none'",V="getInd",tb="first",k="ui-state-hover",zb=".fm-button:not(.ui-state-disabled)",u="reloadGrid",x="click",o=10,qb="</td></tr></tbody></table>",G="'>",s=-1,y="</a>",M="<a href='javascript:void(0)' id='",t="right",S="rtl",e="",F="left",H="#gview_",j="#gbox_",m="undefined",a="#",ib="string",R="auto",f=null,d=true,c=false,h={};b.jgrid.extend({searchGrid:function(g){g=b.extend({recreateFilter:c,drag:d,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:d,beforeShowSearch:f,afterShowSearch:f,onInitializeSearch:f,afterRedraw:f,closeAfterSearch:c,closeAfterReset:c,closeOnEscape:c,multipleSearch:c,multipleGroup:c,top:0,left:0,jqModal:d,modal:c,resize:d,width:450,height:R,dataheight:R,showQuery:c,errorcheck:d,sopt:f,stringResult:undefined,onClose:f,onSearch:f,onReset:f,toTop:d,overlay:30,columns:[],tmplNames:f,tmplFilters:f,tmplLabel:" Template: ",showOnLoad:c,layer:f},b.jgrid.search,g||{});return this.each(function(){var p=".ui-template",i=this;if(!i.grid)return;var h="fbox_"+i.p.id,A=d,w={themodal:"searchmod"+h,modalhead:"searchhd"+h,modalcontent:"searchcnt"+h,scrollelm:h},n=i.p.postData[g.sFilter];if(typeof n===ib)n=b.jgrid.parse(n);g.recreateFilter===d&&b(a+w.themodal).remove();function E(){if(b.isFunction(g.beforeShowSearch)){A=g.beforeShowSearch(b(a+h));if(typeof A===m)A=d}if(A){b.jgrid.viewModal(a+w.themodal,{gbox:j+h,jqm:g.jqModal,modal:g.modal,overlay:g.overlay,toTop:g.toTop});b.isFunction(g.afterShowSearch)&&g.afterShowSearch(b(a+h))}}if(b(a+w.themodal).html()!==f)E();else{var l=b("<div><div id='"+h+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore(H+i.p.id),J=F,I=e;if(i.p.direction==S){J=t;I=" style='text-align:left'";l.attr("dir",S)}if(b.isFunction(g.onInitializeSearch))g.onInitializeSearch(b(a+h));var q=b.extend([],i.p.colModel),N=M+h+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+g.Find+y,L=M+h+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+g.Reset+y,D=e,v=e,B,r=c,K,z=s;if(g.showQuery)D=M+h+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>";if(!g.columns.length)b.each(q,function(c,a){if(!a.label)a.label=i.p.colNames[c];if(!r){var b=typeof a.search===m?d:a.search,f=a.hidden===d,e=a.searchoptions&&a.searchoptions.searchhidden===d;if(e&&b||b&&!f){r=d;B=a.index||a.name;z=c}}});else q=g.columns;if(!n&&B||g.multipleSearch===c){var C="eq";if(z>=0&&q[z].searchoptions&&q[z].searchoptions.sopt)C=q[z].searchoptions.sopt[0];else if(g.sopt&&g.sopt.length)C=g.sopt[0];n={groupOp:"AND",rules:[{field:B,op:C,data:e}]}}r=c;if(g.tmplNames&&g.tmplNames.length){r=d;v=g.tmplLabel;v+="<select class='ui-template'>";v+="<option value='default'>Default</option>";b.each(g.tmplNames,function(a,b){v+="<option value='"+a+G+b+"</option>"});v+="</select>"}K="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+h+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+J+G+L+v+"</td><td class='EditButton' "+I+">"+D+N+qb;b(a+h).jqFilter({columns:q,filter:g.loadDefaults?n:f,showQuery:g.showQuery,errorcheck:g.errorcheck,sopt:g.sopt,groupButton:g.multipleGroup,ruleButtons:g.multipleSearch,afterRedraw:g.afterRedraw,_gridsopt:b.jgrid.search.odata,onChange:function(){this.p.showQuery&&b(".query",this).html(this.toUserFriendlyString())},direction:i.p.direction});l.append(K);r&&g.tmplFilters&&g.tmplFilters.length&&b(p,l).bind("change",function(){var d="addFilter",e=b(this).val();if(e=="default")b(a+h).jqFilter(d,n);else b(a+h).jqFilter(d,g.tmplFilters[parseInt(e,o)]);return c});if(g.multipleGroup===d)g.multipleSearch=d;if(b.isFunction(g.onInitializeSearch))g.onInitializeSearch(b(a+h));g.gbox=j+h;if(g.layer)b.jgrid.createModal(w,l,g,H+i.p.id,b(j+i.p.id)[0],a+g.layer,{position:"relative"});else b.jgrid.createModal(w,l,g,H+i.p.id,b(j+i.p.id)[0]);D&&b(a+h+"_query").bind(x,function(){b(".queryresult",l).toggle();return c});if(g.stringResult===undefined)g.stringResult=g.multipleSearch;b(a+h+"_search").bind(x,function(){var l=b(a+h),f={},m,k=l.jqFilter("filterData");if(g.errorcheck){l[0].hideError();!g.showQuery&&l.jqFilter("toSQLString");if(l[0].p.error){l[0].showError();return c}}if(g.stringResult){try{m=xmlJsonClass.toJson(k,e,e,c)}catch(o){try{m=JSON.stringify(k)}catch(n){}}if(typeof m===ib){f[g.sFilter]=m;b.each([g.sField,g.sValue,g.sOper],function(){f[this]=e})}}else if(g.multipleSearch){f[g.sFilter]=k;b.each([g.sField,g.sValue,g.sOper],function(){f[this]=e})}else{f[g.sField]=k.rules[0].field;f[g.sValue]=k.rules[0].data;f[g.sOper]=k.rules[0].op;f[g.sFilter]=e}i.p.search=d;b.extend(i.p.postData,f);b.isFunction(g.onSearch)&&g.onSearch();b(i).trigger(u,[{page:1}]);g.closeAfterSearch&&b.jgrid.hideModal(a+w.themodal,{gb:j+i.p.id,jqm:g.jqModal,onClose:g.onClose});return c});b(a+h+"_reset").bind(x,function(){var d={},f=b(a+h);i.p.search=c;if(g.multipleSearch===c)d[g.sField]=d[g.sValue]=d[g.sOper]=e;else d[g.sFilter]=e;f[0].resetFilter();r&&b(p,l).val("default");b.extend(i.p.postData,d);b.isFunction(g.onReset)&&g.onReset();b(i).trigger(u,[{page:1}]);return c});E();b(zb,l).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)})}})},editGridRow:function(N,B){B=b.extend({top:0,left:0,width:300,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,url:f,mtype:"POST",clearAfterAdd:d,closeAfterEdit:c,reloadAfterSubmit:d,onInitializeForm:f,beforeInitData:f,beforeShowForm:f,afterShowForm:f,beforeSubmit:f,afterSubmit:f,onclickSubmit:f,afterComplete:f,onclickPgButtons:f,afterclickPgButtons:f,editData:{},recreateForm:c,jqModal:d,closeOnEscape:c,addedrow:tb,topinfo:e,bottominfo:e,saveicon:[],closeicon:[],savekey:[c,13],navkeys:[c,38,40],checkOnSubmit:c,checkOnUpdate:c,_savedData:{},processing:c,onClose:f,ajaxEditOptions:{},serializeEditData:f,viewPagerButtons:d},b.jgrid.edit,B||{});h[b(this)[0].p.id]=B;return this.each(function(){var gc="#pData,#nData",fc=".jqmOverlay",bc=".binfo",ac=".tinfo",Sb=".confirm",tb="disabled",Tb="#sData",zb="_id",Ub="select",Pb="textarea",Vb="text",Zb="password",Xb="offval",Qb="checkbox",Yb="function 'custom_value' ",Rb="e1",qb="_empty",R=this;if(!R.grid||!N)return;var Wb=R.p.id,Nb="FrmGrid_"+Wb,sb="TblGrid_"+Wb,Ob={themodal:"editmod"+Wb,modalhead:"edithd"+Wb,modalcontent:"editcnt"+Wb,scrollelm:Nb},lc=b.isFunction(h[R.p.id].beforeShowForm)?h[R.p.id].beforeShowForm:c,mc=b.isFunction(h[R.p.id].afterShowForm)?h[R.p.id].afterShowForm:c,kc=b.isFunction(h[R.p.id].beforeInitData)?h[R.p.id].beforeInitData:c,Dc=b.isFunction(h[R.p.id].onInitializeForm)?h[R.p.id].onInitializeForm:c,Sc=f,dc=d,ic=1,xc=0,ib,cc,oc,qc;if(N==="new"){N=qb;B.caption=h[R.p.id].addCaption}else B.caption=h[R.p.id].editCaption;B.recreateForm===d&&b(a+Ob.themodal).html()!==f&&b(a+Ob.themodal).remove();var vc=d;if(B.checkOnUpdate&&B.jqModal&&!B.modal)vc=c;function Gc(){b(a+sb+" > tbody > tr > td > .FormElement").each(function(){var f="option:selected",c=this,i=b(".customelement",c);if(i.length){var j=i[0],g=b(j).attr("name");b.each(R.p.colModel,function(){var c=this;if(c.name===g&&c.editoptions&&b.isFunction(c.editoptions.custom_value)){try{ib[g]=c.editoptions.custom_value(b(a+b.jgrid.jqID(g),a+sb),"get");if(ib[g]===undefined)throw Rb;}catch(e){if(e===Rb)b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,Yb+b.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose);else b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e.message,jQuery.jgrid.edit.bClose)}return d}})}else{switch(b(c).get(0).type){case Qb:if(b(c).is(":checked"))ib[c.name]=b(c).val();else{var k=b(c).attr(Xb);ib[c.name]=k}break;case"select-one":ib[c.name]=b(f,c).val();cc[c.name]=b(f,c).text();break;case"select-multiple":ib[c.name]=b(c).val();if(ib[c.name])ib[c.name]=ib[c.name].join(",");else ib[c.name]=e;var h=[];b(f,c).each(function(c,a){h[c]=b(a).text()});cc[c.name]=h.join(",");break;case Zb:case Vb:case Pb:case"button":ib[c.name]=b(c).val()}if(R.p.autoencode)ib[c.name]=b.jgrid.htmlEncode(ib[c.name])}});return d}function Nc(j,f,r,s){for(var g,t,i,q=0,a,x,k,u=[],l=c,z="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",w=e,y=1;y<=s;y++)w+=z;if(j!=qb)l=b(f).jqGrid(V,j);b(f.p.colModel).each(function(z){var v=this;g=v.name;if(v.editrules&&v.editrules.edithidden===d)t=c;else t=v.hidden===d?d:c;x=t?jb:e;if(g!==O&&g!==P&&v.editable===d&&g!==Q){if(l===c)a=e;else if(g==f.p.ExpandColumn&&f.p.treeGrid===d)a=b(n+z+p,f.rows[l]).text();else{try{a=b.unformat(b(n+z+p,f.rows[l]),{rowId:j,colModel:v},z)}catch(E){a=v.edittype&&v.edittype==Pb?b(n+z+p,f.rows[l]).text():b(n+z+p,f.rows[l]).html()}if(!a||a=="&nbsp;"||a==db||a.length==1&&a.charCodeAt(0)==160)a=e}var A=b.extend({},v.editoptions||{},{id:g,name:g}),y=b.extend({},{elmprefix:e,elmsuffix:e,rowabove:c,rowcontent:e},v.formoptions||{}),B=parseInt(y.rowpos,o)||q+1,D=parseInt((parseInt(y.colpos,o)||1)*2,o);if(j==qb&&A.defaultValue)a=b.isFunction(A.defaultValue)?A.defaultValue():A.defaultValue;if(!v.edittype)v.edittype=Vb;if(R.p.autoencode)a=b.jgrid.htmlDecode(a);k=b.jgrid.createEl(v.edittype,A,a,c,b.extend({},b.jgrid.ajaxOptions,f.p.ajaxSelectOptions||{}));if(a===e&&v.edittype==Qb)a=b(k).attr(Xb);if(a===e&&v.edittype==Ub)a=b("option:eq(0)",k).text();if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[g]=a;b(k).addClass("FormElement");(v.edittype==Vb||v.edittype==Pb)&&b(k).addClass("ui-widget-content ui-corner-all");i=b(r).find(kb+B+K);if(y.rowabove){var C=b(lb+s*2+G+y.rowcontent+L);b(r).append(C);C[0].rp=B}if(i.length===0){i=b("<tr "+x+mb+B+"'></tr>").addClass(nb).attr(T,"tr_"+g);b(i).append(w);b(r).append(i);i[0].rp=B}b(n+(D-2)+p,i[0]).html(typeof y.label===m?f.p.colNames[z]:y.label);b(n+(D-1)+p,i[0]).append(y.elmprefix).append(k).append(y.elmsuffix);u[q]=z;q++}});if(q>0){var v=b(ub+(s*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+f.p.id+"_id' value='"+j+vb);v[0].rp=q+999;b(r).append(v);if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[f.p.id+zb]=j}return u}function nc(n,o,l){var i,u=0,g,j,p,m,t;if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate){h[R.p.id]._savedData={};h[R.p.id]._savedData[o.p.id+zb]=n}var k=o.p.colModel;if(n==qb){b(k).each(function(){i=this.name;p=b.extend({},this.editoptions||{});j=b(a+b.jgrid.jqID(i),a+l);if(j&&j.length&&j[0]!==f){m=e;if(p.defaultValue){m=b.isFunction(p.defaultValue)?p.defaultValue():p.defaultValue;if(j[0].type==Qb){t=m.toLowerCase();if(t.search(/(false|0|no|off|undefined)/i)<0&&t!==e){j[0].checked=d;j[0].defaultChecked=d;j[0].value=m}else{j[0].checked=c;j[0].defaultChecked=c}}else j.val(m)}else if(j[0].type==Qb){j[0].checked=c;j[0].defaultChecked=c;m=b(j).attr(Xb)}else if(j[0].type&&j[0].type.substr(0,6)==Ub)j[0].selectedIndex=0;else j.val(m);if(h[R.p.id].checkOnSubmit===d||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[i]=m}});b(I,a+l).val(n);return}var v=b(o).jqGrid(V,n,d);if(!v)return;b("td",v).each(function(j){var f="defaultChecked",p=this;i=k[j].name;if(i!==O&&i!==P&&i!==Q&&k[j].editable===d){if(i==o.p.ExpandColumn&&o.p.treeGrid===d)g=b(p).text();else try{g=b.unformat(b(p),{rowId:n,colModel:k[j]},j)}catch(w){g=k[j].edittype==Pb?b(p).text():b(p).html()}if(R.p.autoencode)g=b.jgrid.htmlDecode(g);if(h[R.p.id].checkOnSubmit===d||h[R.p.id].checkOnUpdate)h[R.p.id]._savedData[i]=g;i=b.jgrid.jqID(i);switch(k[j].edittype){case Zb:case Vb:case"button":case"image":case Pb:if(g=="&nbsp;"||g==db||g.length==1&&g.charCodeAt(0)==160)g=e;b(a+i,a+l).val(g);break;case Ub:var m=g.split(",");m=b.map(m,function(a){return b.trim(a)});b(a+i+" option",a+l).each(function(){var a=this;if(!k[j].editoptions.multiple&&(b.trim(g)==b.trim(b(a).text())||m[0]==b.trim(b(a).text())||m[0]==b.trim(b(a).val())))a.selected=d;else if(k[j].editoptions.multiple)if(b.inArray(b.trim(b(a).text()),m)>s||b.inArray(b.trim(b(a).val()),m)>s)a.selected=d;else a.selected=c;else a.selected=c});break;case Qb:g=g+e;if(k[j].editoptions&&k[j].editoptions.value){var t=k[j].editoptions.value.split(":");if(t[0]==g){b(a+i,a+l)[R.p.useProp?q:r](C,d);b(a+i,a+l)[R.p.useProp?q:r](f,d)}else{b(a+i,a+l)[R.p.useProp?q:r](C,c);b(a+i,a+l)[R.p.useProp?q:r](f,c)}}else{g=g.toLowerCase();if(g.search(/(false|0|no|off|undefined)/i)<0&&g!==e){b(a+i,a+l)[R.p.useProp?q:r](C,d);b(a+i,a+l)[R.p.useProp?q:r](f,d)}else{b(a+i,a+l)[R.p.useProp?q:r](C,c);b(a+i,a+l)[R.p.useProp?q:r](f,c)}}break;case"custom":try{if(k[j].editoptions&&b.isFunction(k[j].editoptions.custom_value))k[j].editoptions.custom_value(b(a+i,a+l),"set",g);else throw Rb;}catch(v){if(v==Rb)b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,Yb+b.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);else b.jgrid.info_dialog(jQuery.jgrid.errors.errcap,v.message,jQuery.jgrid.edit.bClose)}}u++}});u>0&&b(I,a+sb).val(n)}function pc(){var o="#FormError>td",w,k=[d,e,e],y={},n=R.p.prmNames,l,p,t,r;if(b.isFunction(h[R.p.id].beforeCheckValues)){var x=h[R.p.id].beforeCheckValues(ib,b(a+Nb),ib[R.p.id+zb]==qb?n.addoper:n.editoper);if(x&&typeof x==="object")ib=x}for(t in ib)if(ib.hasOwnProperty(t)){k=b.jgrid.checkValues(ib[t],t,R);if(k[0]===c)break}Oc();if(k[0]){if(b.isFunction(h[R.p.id].onclickSubmit))y=h[R.p.id].onclickSubmit(h[R.p.id],ib)||{};if(b.isFunction(h[R.p.id].beforeSubmit))k=h[R.p.id].beforeSubmit(ib,b(a+Nb))}if(k[0]&&!h[R.p.id].processing){h[R.p.id].processing=d;b(Tb,a+sb+g).addClass(J);p=n.oper;l=n.id;ib[p]=b.trim(ib[R.p.id+zb])==qb?n.addoper:n.editoper;if(ib[p]!=n.addoper)ib[l]=ib[R.p.id+zb];else if(ib[l]===undefined)ib[l]=ib[R.p.id+zb];delete ib[R.p.id+zb];ib=b.extend(ib,h[R.p.id].editData,y);if(R.p.treeGrid===d){if(ib[p]==n.addoper){r=b(R).jqGrid(eb,"selrow");var A=R.p.treeGridModel=="adjacency"?R.p.treeReader.parent_id_field:"parent_id";ib[A]=r}for(i in R.p.treeReader){var z=R.p.treeReader[i];if(ib.hasOwnProperty(z)){if(ib[p]==n.addoper&&i==="parent_id_field")continue;delete ib[z]}}}ib[l]=b.jgrid.stripPref(R.p.idPrefix,ib[l]);var q=b.extend({url:h[R.p.id].url?h[R.p.id].url:b(R).jqGrid(eb,"editurl"),type:h[R.p.id].mtype,data:b.isFunction(h[R.p.id].serializeEditData)?h[R.p.id].serializeEditData(ib):ib,complete:function(i,q){var e="addChildNode";ib[l]=R.p.idPrefix+ib[l];if(q!="success"){k[0]=c;if(b.isFunction(h[R.p.id].errorTextFormat))k[1]=h[R.p.id].errorTextFormat(i);else k[1]=q+ob+i.statusText+pb+i.status}else if(b.isFunction(h[R.p.id].afterSubmit))k=h[R.p.id].afterSubmit(i,ib);if(k[0]===c){b(o,a+sb).html(k[1]);b(v,a+sb).show()}else{b.each(R.p.colModel,function(){var a=this;if(cc[a.name]&&a.formatter&&a.formatter==Ub)try{delete cc[a.name]}catch(b){}});ib=b.extend(ib,cc);R.p.autoencode&&b.each(ib,function(a,c){ib[a]=b.jgrid.htmlDecode(c)});if(ib[p]==n.addoper){if(!k[2])k[2]=b.jgrid.randId();ib[l]=k[2];if(h[R.p.id].closeAfterAdd){if(h[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],r,ib);else{b(R).jqGrid(U,k[2],ib,B.addedrow);b(R).jqGrid(D,k[2])}b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose})}else if(h[R.p.id].clearAfterAdd){if(h[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],r,ib);else b(R).jqGrid(U,k[2],ib,B.addedrow);nc(qb,R,Nb)}else if(h[R.p.id].reloadAfterSubmit)b(R).trigger(u);else if(R.p.treeGrid===d)b(R).jqGrid(e,k[2],r,ib);else b(R).jqGrid(U,k[2],ib,B.addedrow)}else{if(h[R.p.id].reloadAfterSubmit){b(R).trigger(u);!h[R.p.id].closeAfterEdit&&setTimeout(function(){b(R).jqGrid(D,ib[l])},1e3)}else if(R.p.treeGrid===d)b(R).jqGrid("setTreeRow",ib[l],ib);else b(R).jqGrid(wb,ib[l],ib);h[R.p.id].closeAfterEdit&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose})}if(b.isFunction(h[R.p.id].afterComplete)){w=i;setTimeout(function(){h[R.p.id].afterComplete(w,ib,b(a+Nb));w=f},500)}if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate){b(a+Nb).data(tb,c);if(h[R.p.id]._savedData[R.p.id+zb]!=qb)for(var m in h[R.p.id]._savedData)if(ib[m])h[R.p.id]._savedData[m]=ib[m]}}h[R.p.id].processing=c;b(Tb,a+sb+g).removeClass(J);try{b(":input:visible",a+Nb)[0].focus()}catch(s){}}},b.jgrid.ajaxOptions,h[R.p.id].ajaxEditOptions);if(!q.url&&!h[R.p.id].useDataProxy)if(b.isFunction(R.p.dataProxy))h[R.p.id].useDataProxy=d;else{k[0]=c;k[1]+=" "+b.jgrid.errors.nourl}if(k[0])if(h[R.p.id].useDataProxy){var s=R.p.dataProxy.call(R,q,"set_"+R.p.id);if(typeof s==m)s=[d,e];if(s[0]===c){k[0]=c;k[1]=s[1]||xb}else{q.data.oper==n.addoper&&h[R.p.id].closeAfterAdd&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});q.data.oper==n.editoper&&h[R.p.id].closeAfterEdit&&b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose})}}else b.ajax(q)}if(k[0]===c){b(o,a+sb).html(k[1]);b(v,a+sb).show()}}function Fc(b,f){var e=c,a;for(a in b)if(b[a]!=f[a]){e=d;break}return e}function Oc(){b.each(R.p.colModel,function(b,a){if(a.editoptions&&a.editoptions.NullIfEmpty===d)if(ib.hasOwnProperty(a.name)&&ib[a.name]==e)ib[a.name]="null"})}function ec(){var e=d;b(v,a+sb).hide();if(h[R.p.id].checkOnUpdate){ib={};cc={};Gc();oc=b.extend({},ib,cc);qc=Fc(oc,h[R.p.id]._savedData);if(qc){b(a+Nb).data(tb,d);b(Sb,a+Ob.themodal).show();e=c}}return e}function Ec(){if(N!==qb&&typeof R.p.savedRow!==m&&R.p.savedRow.length>0&&b.isFunction(b.fn.jqGrid.restoreRow))for(var a=0;a<R.p.savedRow.length;a++)if(R.p.savedRow[a].id==N){b(R).jqGrid("restoreRow",N);break}}function wc(c,d){if(c===0)b(z,a+sb+g).addClass(l);else b(z,a+sb+g).removeClass(l);if(c==d)b(A,a+sb+g).addClass(l);else b(A,a+sb+g).removeClass(l)}function uc(){var c=b(R).jqGrid(yb),d=b(I,a+sb).val(),e=b.inArray(d,c);return[e,c]}if(b(a+Ob.themodal).html()!==f){if(kc){dc=kc(b(a+Nb));if(typeof dc==m)dc=d}if(dc===c)return;Ec();b(Ab,a+Ob.modalhead).html(B.caption);b(v,a+sb).hide();if(h[R.p.id].topinfo){b(".topinfo",a+sb).html(h[R.p.id].topinfo);b(ac,a+sb).show()}else b(ac,a+sb).hide();if(h[R.p.id].bottominfo){b(".bottominfo",a+sb+g).html(h[R.p.id].bottominfo);b(bc,a+sb+g).show()}else b(bc,a+sb+g).hide();nc(N,R,Nb);if(N==qb||!h[R.p.id].viewPagerButtons)b(Y,a+sb+g).hide();else b(Y,a+sb+g).show();if(h[R.p.id].processing===d){h[R.p.id].processing=c;b(Tb,a+sb+g).removeClass(J)}if(b(a+Nb).data(tb)===d){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c)}lc&&lc(b(a+Nb));b(a+Ob.themodal).data("onClose",h[R.p.id].onClose);b.jgrid.viewModal(a+Ob.themodal,{gbox:j+Wb,jqm:B.jqModal,jqM:c,overlay:B.overlay,modal:B.modal});!vc&&b(fc).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c});mc&&mc(b(a+Nb))}else{var Rc=isNaN(B.dataheight)?B.dataheight:B.dataheight+cb,Kc=b(Bb+Nb+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+Rc+Cb).data(tb,c),hc=b(Db+sb+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>");if(kc){dc=kc(b(a+Nb));if(typeof dc==m)dc=d}if(dc===c)return;Ec();b(R.p.colModel).each(function(){var a=this.formoptions;ic=Math.max(ic,a?a.colpos||0:0);xc=Math.max(xc,a?a.rowpos||0:0)});b(Kc).append(hc);var jc=b("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+ic*2+"'></td></tr>");jc[0].rp=0;b(hc).append(jc);jc=b("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+ic*2+G+h[R.p.id].topinfo+L);jc[0].rp=0;b(hc).append(jc);var rc=R.p.direction==S?d:c,Qc=rc?fb:gb,Pc=rc?gb:fb;Nc(N,R,hc,ic);var Mc=M+Qc+Eb,sc=M+Pc+Fb,zc="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+B.bSubmit+y,yc=Gb+B.bCancel+y,tc="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+sb+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(rc?sc+Mc:Mc+sc)+Hb+zc+yc+L;tc+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+h[R.p.id].bottominfo+L;tc+="</tbody></table>";if(xc>0){var Bc=[],Jc={};b.each(b(hc)[0].rows,function(a,b){Bc[a]=b});Bc.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?s:0});b.each(Bc,function(b,a){Jc.html+=a});b("tbody",hc).append(Jc.html)}B.gbox=j+Wb;var Ic=c;if(B.closeOnEscape===d){B.closeOnEscape=c;Ic=d}var Lc=b(Ib).append(Kc).append(tc);b.jgrid.createModal(Ob,Lc,B,H+R.p.id,b(j+R.p.id)[0]);if(rc){b(Y,a+sb+g).css(rb,t);b(Jb,a+sb+g).css(Kb,F)}h[R.p.id].topinfo&&b(ac,a+sb).show();h[R.p.id].bottominfo&&b(bc,a+sb+g).show();Lc=f;tc=f;b(a+Ob.themodal).keydown(function(e){var f=e.target;if(b(a+Nb).data(tb)===d)return c;if(h[R.p.id].savekey[0]===d&&e.which==h[R.p.id].savekey[1])if(f.tagName!="TEXTAREA"){b(Tb,a+sb+g).trigger(x);return c}if(e.which===27){if(!ec())return c;Ic&&b.jgrid.hideModal(this,{gb:B.gbox,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c}if(h[R.p.id].navkeys[0]===d){if(b(I,a+sb).val()==qb)return d;if(e.which==h[R.p.id].navkeys[1]){b(z,a+sb+g).trigger(x);return c}if(e.which==h[R.p.id].navkeys[2]){b(A,a+sb+g).trigger(x);return c}}});if(B.checkOnUpdate){b("a.ui-jqdialog-titlebar-close span",a+Ob.themodal).removeClass("jqmClose");b("a.ui-jqdialog-titlebar-close",a+Ob.themodal).unbind(x).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c})}B.saveicon=b.extend([d,F,"ui-icon-disk"],B.saveicon);B.closeicon=b.extend([d,F,Lb],B.closeicon);B.saveicon[0]===d&&b(Tb,a+sb+g).addClass(B.saveicon[1]==t?Z:ab).append(bb+B.saveicon[2]+w);B.closeicon[0]===d&&b(hb,a+sb+g).addClass(B.closeicon[1]==t?Z:ab).append(bb+B.closeicon[2]+w);if(h[R.p.id].checkOnSubmit||h[R.p.id].checkOnUpdate){zc="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bYes+y;sc="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bNo+y;yc="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+B.bExit+y;var Ac,Cc=B.zIndex||999;Cc++;if(b.browser.msie&&b.browser.version==6)Ac='<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>';else Ac=e;b("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+Cc+";display:none;'>&#160;"+Ac+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(Cc+1)+G+B.saveData+"<br/><br/>"+zc+sc+yc+E).insertAfter(a+Nb);b("#sNew",a+Ob.themodal).click(function(){pc();b(a+Nb).data(tb,c);b(Sb,a+Ob.themodal).hide();return c});b("#nNew",a+Ob.themodal).click(function(){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c);setTimeout(function(){b(":input",a+Nb)[0].focus()},0);return c});b("#cNew",a+Ob.themodal).click(function(){b(Sb,a+Ob.themodal).hide();b(a+Nb).data(tb,c);b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c})}Dc&&Dc(b(a+Nb));if(N==qb||!h[R.p.id].viewPagerButtons)b(gc,a+sb+g).hide();else b(gc,a+sb+g).show();lc&&lc(b(a+Nb));b(a+Ob.themodal).data("onClose",h[R.p.id].onClose);b.jgrid.viewModal(a+Ob.themodal,{gbox:j+Wb,jqm:B.jqModal,overlay:B.overlay,modal:B.modal});!vc&&b(fc).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c});mc&&mc(b(a+Nb));b(Mb,a+Ob.themodal).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});b(Tb,a+sb+g).click(function(){ib={};cc={};b(v,a+sb).hide();Gc();if(ib[R.p.id+zb]==qb)pc();else if(B.checkOnSubmit===d){oc=b.extend({},ib,cc);qc=Fc(oc,h[R.p.id]._savedData);if(qc){b(a+Nb).data(tb,d);b(Sb,a+Ob.themodal).show()}else pc()}else pc();return c});b(hb,a+sb+g).click(function(){if(!ec())return c;b.jgrid.hideModal(a+Ob.themodal,{gb:j+Wb,jqm:B.jqModal,onClose:h[R.p.id].onClose});return c});b(A,a+sb+g).click(function(){if(!ec())return c;b(v,a+sb).hide();var d=uc();d[0]=parseInt(d[0],o);if(d[0]!=s&&d[1][d[0]+1]){if(b.isFunction(B.onclickPgButtons))B.onclickPgButtons(W,b(a+Nb),d[1][d[0]]);nc(d[1][d[0]+1],R,Nb);b(R).jqGrid(D,d[1][d[0]+1]);b.isFunction(B.afterclickPgButtons)&&B.afterclickPgButtons(W,b(a+Nb),d[1][d[0]+1]);wc(d[0]+1,d[1].length-1)}return c});b(z,a+sb+g).click(function(){if(!ec())return c;b(v,a+sb).hide();var d=uc();if(d[0]!=s&&d[1][d[0]-1]){if(b.isFunction(B.onclickPgButtons))B.onclickPgButtons(X,b(a+Nb),d[1][d[0]]);nc(d[1][d[0]-1],R,Nb);b(R).jqGrid(D,d[1][d[0]-1]);b.isFunction(B.afterclickPgButtons)&&B.afterclickPgButtons(X,b(a+Nb),d[1][d[0]-1]);wc(d[0]-1,d[1].length-1)}return c})}var Hc=uc();wc(Hc[0],Hc[1].length-1)})},viewGridRow:function(i,h){h=b.extend({top:0,left:0,width:0,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,jqModal:d,closeOnEscape:c,labelswidth:"30%",closeicon:[],navkeys:[c,38,40],onClose:f,beforeShowForm:f,beforeInitData:f,viewPagerButtons:d},b.jgrid.view,h||{});return this.each(function(){var r=this;if(!r.grid||!i)return;var B=r.p.id,u="ViewGrid_"+B,q="ViewTbl_"+B,E={themodal:"viewmod"+B,modalhead:"viewhd"+B,modalcontent:"viewcnt"+B,scrollelm:u},J=b.isFunction(h.beforeInitData)?h.beforeInitData:c,C=d,ob=1,pb=0;function N(){(h.closeOnEscape===d||h.navkeys[0]===d)&&setTimeout(function(){b(sb,a+E.modalhead).focus()},0)}function Qb(C,g,u,v){for(var f,i,a,j=0,r,E,A=[],q=c,I="<td class='CaptionTD form-view-label ui-widget-content' width='"+h.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",D=e,F="<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>",H=["integer","number","currency"],k=0,l=0,x,w,z,y=1;y<=v;y++)D+=y==1?I:F;b(g.p.colModel).each(function(){var a=this;if(a.editrules&&a.editrules.edithidden===d)i=c;else i=a.hidden===d?d:c;if(!i&&a.align===t)if(a.formatter&&b.inArray(a.formatter,H)!==s)k=Math.max(k,parseInt(a.width,o));else l=Math.max(l,parseInt(a.width,o))});x=k!==0?k:l!==0?l:0;q=b(g).jqGrid(V,C);b(g.p.colModel).each(function(s){var h=this;f=h.name;w=c;if(h.editrules&&h.editrules.edithidden===d)i=c;else i=h.hidden===d?d:c;E=i?jb:e;z=typeof h.viewable!="boolean"?d:h.viewable;if(f!==O&&f!==P&&f!==Q&&z){if(q===c)r=e;else if(f==g.p.ExpandColumn&&g.p.treeGrid===d)r=b(n+s+p,g.rows[q]).text();else r=b(n+s+p,g.rows[q]).html();w=h.align===t&&x!==0?d:c;var C=b.extend({},h.editoptions||{},{id:f,name:f}),k=b.extend({},{rowabove:c,rowcontent:e},h.formoptions||{}),l=parseInt(k.rowpos,o)||j+1,y=parseInt((parseInt(k.colpos,o)||1)*2,o);if(k.rowabove){var B=b(lb+v*2+G+k.rowcontent+L);b(u).append(B);B[0].rp=l}a=b(u).find(kb+l+K);if(a.length===0){a=b("<tr "+E+mb+l+"'></tr>").addClass(nb).attr(T,"trv_"+f);b(a).append(D);b(u).append(a);a[0].rp=l}b(n+(y-2)+p,a[0]).html("<b>"+(typeof k.label===m?g.p.colNames[s]:k.label)+"</b>");b(n+(y-1)+p,a[0]).append("<span>"+r+"</span>").attr(T,"v_"+f);w&&b(n+(y-1)+") span",a[0]).css({"text-align":t,width:x+cb});A[j]=s;j++}});if(j>0){var B=b(ub+(v*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+C+vb);B[0].rp=j+99;b(u).append(B)}return A}function ib(j,f){var e,i,k=0,g,l,h;h=b(f).jqGrid(V,j,d);if(!h)return;b("td",h).each(function(h){e=f.p.colModel[h].name;if(f.p.colModel[h].editrules&&f.p.colModel[h].editrules.edithidden===d)i=c;else i=f.p.colModel[h].hidden===d?d:c;if(e!==O&&e!==P&&e!==Q){if(e==f.p.ExpandColumn&&f.p.treeGrid===d)g=b(this).text();else g=b(this).html();l=b.extend({},f.p.colModel[h].editoptions||{});e=b.jgrid.jqID("v_"+e);b(a+e+" span",a+q).html(g);i&&b(a+e,a+q).parents("tr:first").hide();k++}});k>0&&b(I,a+q).val(j)}function eb(c,d){if(c===0)b(z,a+q+g).addClass(l);else b(z,a+q+g).removeClass(l);if(c==d)b(A,a+q+g).addClass(l);else b(A,a+q+g).removeClass(l)}function db(){var c=b(r).jqGrid(yb),d=b(I,a+q).val(),e=b.inArray(d,c);return[e,c]}if(b(a+E.themodal).html()!==f){if(J){C=J(b(a+u));if(typeof C==m)C=d}if(C===c)return;b(Ab,a+E.modalhead).html(h.caption);b(v,a+q).hide();ib(i,r);b.isFunction(h.beforeShowForm)&&h.beforeShowForm(b(a+u));b.jgrid.viewModal(a+E.themodal,{gbox:j+B,jqm:h.jqModal,jqM:c,overlay:h.overlay,modal:h.modal});N()}else{var Ub=isNaN(h.dataheight)?h.dataheight:h.dataheight+cb,Mb=b(Bb+u+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+Ub+Cb),U=b(Db+q+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(J){C=J(b(a+u));if(typeof C==m)C=d}if(C===c)return;b(r.p.colModel).each(function(){var a=this.formoptions;ob=Math.max(ob,a?a.colpos||0:0);pb=Math.max(pb,a?a.rowpos||0:0)});b(Mb).append(U);Qb(i,r,U,ob);var R=r.p.direction==S?d:c,Tb=R?fb:gb,Sb=R?gb:fb,Ob=M+Tb+Eb,Nb=M+Sb+Fb,Rb=Gb+h.bClose+y;if(pb>0){var tb=[];b.each(b(U)[0].rows,function(a,b){tb[a]=b});tb.sort(function(a,b){return a.rp>b.rp?1:a.rp<b.rp?s:0});b.each(tb,function(c,a){b("tbody",U).append(a)})}h.gbox=j+B;var xb=c;if(h.closeOnEscape===d){h.closeOnEscape=c;xb=d}var Pb=b(Ib).append(Mb).append("<table border='0' class='EditTable' id='"+q+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+h.labelswidth+G+(R?Nb+Ob:Ob+Nb)+Hb+Rb+qb);b.jgrid.createModal(E,Pb,h,H+r.p.id,b(H+r.p.id)[0]);if(R){b(Y,a+q+g).css(rb,t);b(Jb,a+q+g).css(Kb,F)}!h.viewPagerButtons&&b(Y,a+q+g).hide();Pb=f;b(a+E.themodal).keydown(function(e){if(e.which===27){xb&&b.jgrid.hideModal(this,{gb:h.gbox,jqm:h.jqModal,onClose:h.onClose});return c}if(h.navkeys[0]===d){if(e.which===h.navkeys[1]){b(z,a+q+g).trigger(x);return c}if(e.which===h.navkeys[2]){b(A,a+q+g).trigger(x);return c}}});h.closeicon=b.extend([d,F,Lb],h.closeicon);h.closeicon[0]===d&&b(hb,a+q+g).addClass(h.closeicon[1]==t?Z:ab).append(bb+h.closeicon[2]+w);b.isFunction(h.beforeShowForm)&&h.beforeShowForm(b(a+u));b.jgrid.viewModal(a+E.themodal,{gbox:j+B,jqm:h.jqModal,modal:h.modal});b(zb,a+q+g).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});N();b(hb,a+q+g).click(function(){b.jgrid.hideModal(a+E.themodal,{gb:j+B,jqm:h.jqModal,onClose:h.onClose});return c});b(A,a+q+g).click(function(){b(v,a+q).hide();var d=db();d[0]=parseInt(d[0],o);if(d[0]!=s&&d[1][d[0]+1]){if(b.isFunction(h.onclickPgButtons))h.onclickPgButtons(W,b(a+u),d[1][d[0]]);ib(d[1][d[0]+1],r);b(r).jqGrid(D,d[1][d[0]+1]);b.isFunction(h.afterclickPgButtons)&&h.afterclickPgButtons(W,b(a+u),d[1][d[0]+1]);eb(d[0]+1,d[1].length-1)}N();return c});b(z,a+q+g).click(function(){b(v,a+q).hide();var d=db();if(d[0]!=s&&d[1][d[0]-1]){if(b.isFunction(h.onclickPgButtons))h.onclickPgButtons(X,b(a+u),d[1][d[0]]);ib(d[1][d[0]-1],r);b(r).jqGrid(D,d[1][d[0]-1]);b.isFunction(h.afterclickPgButtons)&&h.afterclickPgButtons(X,b(a+u),d[1][d[0]-1]);eb(d[0]-1,d[1].length-1)}N();return c})}var wb=db();eb(wb[0],wb[1].length-1)})},delGridRow:function(l,i){i=b.extend({top:0,left:0,width:240,height:R,dataheight:R,modal:c,overlay:30,drag:d,resize:d,url:e,mtype:"POST",reloadAfterSubmit:d,beforeShowForm:f,beforeInitData:f,afterShowForm:f,beforeSubmit:f,onclickSubmit:f,afterSubmit:f,jqModal:d,closeOnEscape:c,delData:{},delicon:[],cancelicon:[],onClose:f,ajaxDelOptions:{},processing:c,serializeDelData:f,useDataProxy:c},b.jgrid.del,i||{});h[b(this)[0].p.id]=i;return this.each(function(){var p="#dData",q="#DelError",x="#DelData>td",n=this;if(!n.grid)return;if(!l)return;var E=b.isFunction(h[n.p.id].beforeShowForm),G=b.isFunction(h[n.p.id].afterShowForm),B=b.isFunction(h[n.p.id].beforeInitData)?h[n.p.id].beforeInitData:c,r=n.p.id,D={},s=d,o="DelTbl_"+r,A,I,C,K,v={themodal:"delmod"+r,modalhead:"delhd"+r,modalcontent:"delcnt"+r,scrollelm:o};if(jQuery.isArray(l))l=l.join();if(b(a+v.themodal).html()!==f){if(B){s=B(b(a+o));if(typeof s==m)s=d}if(s===c)return;b(x,a+o).text(l);b(q,a+o).hide();if(h[n.p.id].processing===d){h[n.p.id].processing=c;b(p,a+o).removeClass(J)}E&&h[n.p.id].beforeShowForm(b(a+o));b.jgrid.viewModal(a+v.themodal,{gbox:j+r,jqm:h[n.p.id].jqModal,jqM:c,overlay:h[n.p.id].overlay,modal:h[n.p.id].modal});G&&h[n.p.id].afterShowForm(b(a+o))}else{var O=isNaN(h[n.p.id].dataheight)?h[n.p.id].dataheight:h[n.p.id].dataheight+cb,z="<div id='"+o+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+O+";'>";z+="<table class='DelTable'><tbody>";z+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>";z+="<tr id='DelData' style='display:none'><td >"+l+L;z+='<tr><td class="delmsg" style="white-space:pre;">'+h[n.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>";z+="</tbody></table></div>";var N="<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+i.bSubmit+y,M="<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+i.bCancel+y;z+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+o+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+N+db+M+qb;i.gbox=j+r;b.jgrid.createModal(v,z,i,H+n.p.id,b(H+n.p.id)[0]);if(B){s=B(b(a+o));if(typeof s==m)s=d}if(s===c)return;b(Mb,a+o+g).hover(function(){b(this).addClass(k)},function(){b(this).removeClass(k)});i.delicon=b.extend([d,F,"ui-icon-scissors"],h[n.p.id].delicon);i.cancelicon=b.extend([d,F,"ui-icon-cancel"],h[n.p.id].cancelicon);i.delicon[0]===d&&b(p,a+o+g).addClass(i.delicon[1]==t?Z:ab).append(bb+i.delicon[2]+w);i.cancelicon[0]===d&&b("#eData",a+o+g).addClass(i.cancelicon[1]==t?Z:ab).append(bb+i.cancelicon[2]+w);b(p,a+o+g).click(function(){var s="#DelError>td",k=[d,e];D={};var l=b(x,a+o).text();if(b.isFunction(h[n.p.id].onclickSubmit))D=h[n.p.id].onclickSubmit(h[n.p.id],l)||{};if(b.isFunction(h[n.p.id].beforeSubmit))k=h[n.p.id].beforeSubmit(l);if(k[0]&&!h[n.p.id].processing){h[n.p.id].processing=d;b(this).addClass(J);C=n.p.prmNames;A=b.extend({},h[n.p.id].delData,D);K=C.oper;A[K]=C.deloper;I=C.id;l=l.split(",");for(var y in l)if(l.hasOwnProperty(y))l[y]=b.jgrid.stripPref(n.p.idPrefix,l[y]);A[I]=l.join();var w=b.extend({url:h[n.p.id].url?h[n.p.id].url:b(n).jqGrid(eb,"editurl"),type:h[n.p.id].mtype,data:b.isFunction(h[n.p.id].serializeDelData)?h[n.p.id].serializeDelData(A):A,complete:function(e,w){if(w!="success"){k[0]=c;if(b.isFunction(h[n.p.id].errorTextFormat))k[1]=h[n.p.id].errorTextFormat(e);else k[1]=w+ob+e.statusText+pb+e.status}else if(b.isFunction(h[n.p.id].afterSubmit))k=h[n.p.id].afterSubmit(e,A);if(k[0]===c){b(s,a+o).html(k[1]);b(q,a+o).show()}else{if(h[n.p.id].reloadAfterSubmit&&n.p.datatype!="local")b(n).trigger(u);else{var m=[];m=l.split(",");if(n.p.treeGrid===d)try{b(n).jqGrid("delTreeNode",n.p.idPrefix+m[0])}catch(x){}else for(var t=0;t<m.length;t++)b(n).jqGrid("delRowData",n.p.idPrefix+m[t]);n.p.selrow=f;n.p.selarrrow=[]}b.isFunction(h[n.p.id].afterComplete)&&setTimeout(function(){h[n.p.id].afterComplete(e,l)},500)}h[n.p.id].processing=c;b(p,a+o+g).removeClass(J);k[0]&&b.jgrid.hideModal(a+v.themodal,{gb:j+r,jqm:i.jqModal,onClose:h[n.p.id].onClose})}},b.jgrid.ajaxOptions,h[n.p.id].ajaxDelOptions);if(!w.url&&!h[n.p.id].useDataProxy)if(b.isFunction(n.p.dataProxy))h[n.p.id].useDataProxy=d;else{k[0]=c;k[1]+=" "+b.jgrid.errors.nourl}if(k[0])if(h[n.p.id].useDataProxy){var t=n.p.dataProxy.call(n,w,"del_"+n.p.id);if(typeof t==m)t=[d,e];if(t[0]===c){k[0]=c;k[1]=t[1]||xb}else b.jgrid.hideModal(a+v.themodal,{gb:j+r,jqm:i.jqModal,onClose:h[n.p.id].onClose})}else b.ajax(w)}if(k[0]===c){b(s,a+o).html(k[1]);b(q,a+o).show()}return c});b("#eData",a+o+g).click(function(){b.jgrid.hideModal(a+v.themodal,{gb:j+r,jqm:h[n.p.id].jqModal,onClose:h[n.p.id].onClose});return c});E&&h[n.p.id].beforeShowForm(b(a+o));b.jgrid.viewModal(a+v.themodal,{gbox:j+r,jqm:h[n.p.id].jqModal,overlay:h[n.p.id].overlay,modal:h[n.p.id].modal});G&&h[n.p.id].afterShowForm(b(a+o))}h[n.p.id].closeOnEscape===d&&setTimeout(function(){b(sb,a+v.modalhead).focus()},0)})},navGrid:function(s,g,n,q,r,i,p){var h="firstpage";g=b.extend({edit:d,editicon:"ui-icon-pencil",add:d,addicon:"ui-icon-plus",del:d,delicon:"ui-icon-trash",search:d,searchicon:"ui-icon-search",refresh:d,refreshicon:"ui-icon-refresh",refreshstate:h,view:c,viewicon:"ui-icon-document",position:F,closeOnEscape:d,beforeRefresh:f,afterRefresh:f,cloneToTop:c,alertwidth:200,alertheight:R,alerttop:f,alertleft:f,alertzIndex:f},b.jgrid.nav,g||{});return this.each(function(){var G="#testpg2",A="#jqg_alrt",D="editGridRow",y="<td class='ui-pg-button ui-corner-all'></td>";if(this.nav)return;var I={themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},v=this,H,K;if(!v.grid||typeof s!=ib)return;if(b(a+I.themodal).html()===f){if(!g.alerttop&&!g.alertleft){if(typeof window.innerWidth!=m){g.alertleft=window.innerWidth;g.alerttop=window.innerHeight}else if(typeof document.documentElement!=m&&typeof document.documentElement.clientWidth!=m&&document.documentElement.clientWidth!==0){g.alertleft=document.documentElement.clientWidth;g.alerttop=document.documentElement.clientHeight}else{g.alertleft=1024;g.alerttop=768}g.alertleft=g.alertleft/2-parseInt(g.alertwidth,o)/2;g.alerttop=g.alerttop/2-25}b.jgrid.createModal(I,"<div>"+g.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:j+v.p.id,jqModal:d,drag:d,resize:d,caption:g.alertcap,top:g.alerttop,left:g.alertleft,width:g.alertwidth,height:g.alertheight,closeOnEscape:g.closeOnEscape,zIndex:g.alertzIndex},e,e,d)}var J=1;if(g.cloneToTop&&v.p.toppager)J=2;for(var L=0;L<J;L++){var x,z=b("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),M="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",F,C;if(L===0){F=s;C=v.p.id;if(F==v.p.toppager){C+="_top";J=1}}else{F=v.p.toppager;C=v.p.id+"_top"}v.p.direction==S&&b(z).attr("dir",S).css(rb,t);if(g.add){q=q||{};x=b(y);b(x).append(N+g.addicon+w+g.addtext+E);b(B,z).append(x);b(x,z).attr({title:g.addtitle||e,id:q.id||"add_"+C}).click(function(){if(!b(this).hasClass(l))if(b.isFunction(g.addfunc))g.addfunc();else b(v).jqGrid(D,"new",q);return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}if(g.edit){x=b(y);n=n||{};b(x).append(N+g.editicon+w+g.edittext+E);b(B,z).append(x);b(x,z).attr({title:g.edittitle||e,id:n.id||"edit_"+C}).click(function(){if(!b(this).hasClass(l)){var e=v.p.selrow;if(e)if(b.isFunction(g.editfunc))g.editfunc(e);else b(v).jqGrid(D,e,n);else{b.jgrid.viewModal(a+I.themodal,{gbox:j+v.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}if(g.view){x=b(y);p=p||{};b(x).append(N+g.viewicon+w+g.viewtext+E);b(B,z).append(x);b(x,z).attr({title:g.viewtitle||e,id:p.id||"view_"+C}).click(function(){if(!b(this).hasClass(l)){var e=v.p.selrow;if(e)if(b.isFunction(g.viewfunc))g.viewfunc(e);else b(v).jqGrid("viewGridRow",e,p);else{b.jgrid.viewModal(a+I.themodal,{gbox:j+v.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}if(g.del){x=b(y);r=r||{};b(x).append(N+g.delicon+w+g.deltext+E);b(B,z).append(x);b(x,z).attr({title:g.deltitle||e,id:r.id||"del_"+C}).click(function(){if(!b(this).hasClass(l)){var e;if(v.p.multiselect){e=v.p.selarrrow;if(e.length===0)e=f}else e=v.p.selrow;if(e)if("function"==typeof g.delfunc)g.delfunc(e);else b(v).jqGrid("delGridRow",e,r);else{b.jgrid.viewModal(a+I.themodal,{gbox:j+v.p.id,jqm:d});b(A).focus()}}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}(g.add||g.edit||g.del||g.view)&&b(B,z).append(M);if(g.search){x=b(y);i=i||{};b(x).append(N+g.searchicon+w+g.searchtext+E);b(B,z).append(x);b(x,z).attr({title:g.searchtitle||e,id:i.id||"search_"+C}).click(function(){!b(this).hasClass(l)&&b(v).jqGrid("searchGrid",i);return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});i.showOnLoad&&i.showOnLoad===d&&b(x,z).click();x=f}if(g.refresh){x=b(y);b(x).append(N+g.refreshicon+w+g.refreshtext+E);b(B,z).append(x);b(x,z).attr({title:g.refreshtitle||e,id:"refresh_"+C}).click(function(){if(!b(this).hasClass(l)){b.isFunction(g.beforeRefresh)&&g.beforeRefresh();v.p.search=c;try{var a=v.p.id;v.p.postData.filters=e;b("#fbox_"+a).jqFilter("resetFilter");b.isFunction(v.clearToolbar)&&v.clearToolbar(c)}catch(f){}switch(g.refreshstate){case h:b(v).trigger(u,[{page:1}]);break;case"current":b(v).trigger(u,[{current:d}])}b.isFunction(g.afterRefresh)&&g.afterRefresh()}return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)});x=f}K=b(".ui-jqgrid").css("font-size")||"11px";b("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+K+";visibility:hidden;' ></div>");H=b(z).clone().appendTo(G).width();b(G).remove();b(F+"_"+g.position,F).append(z);if(v.p._nvtd){if(H>v.p._nvtd[0]){b(F+"_"+g.position,F).width(H);v.p._nvtd[0]=H}v.p._nvtd[1]=H}K=f;H=f;z=f;this.nav=d}})},navButtonAdd:function(g,d){d=b.extend({caption:"newButton",title:e,buttonicon:"ui-icon-newwin",onClickButton:f,position:"last",cursor:"pointer"},d||{});return this.each(function(){var j="ui-pg-button ui-corner-all";if(!this.grid)return;if(g.indexOf(a)!==0)g=a+g;var h=b(Nb,g)[0],m=this;if(h){if(d.id&&b(a+d.id,h).html()!==f)return;var i=b("<td></td>");if(d.buttonicon.toString().toUpperCase()=="NONE")b(i).addClass(j).append("<div class='ui-pg-div'>"+d.caption+E);else b(i).addClass(j).append(N+d.buttonicon+w+d.caption+E);d.id&&b(i).attr(T,d.id);if(d.position==tb)if(h.rows[0].cells.length===0)b(B,h).append(i);else b("tr td:eq(0)",h).before(i);else b(B,h).append(i);b(i,h).attr("title",d.title||e).click(function(a){if(!b(this).hasClass(l))b.isFunction(d.onClickButton)&&d.onClickButton.call(m,a);return c}).hover(function(){!b(this).hasClass(l)&&b(this).addClass(k)},function(){b(this).removeClass(k)})}})},navSeparatorAdd:function(c,d){d=b.extend({sepclass:"ui-separator",sepcontent:e},d||{});return this.each(function(){if(!this.grid)return;if(c.indexOf(a)!==0)c=a+c;var e=b(Nb,c)[0];if(e){var f="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+d.sepclass+w+d.sepcontent+"</td>";b(B,e).append(f)}})},GridToForm:function(e,a){return this.each(function(){var f="[name=",i=this;if(!i.grid)return;var h=b(i).jqGrid("getRowData",e);if(h)for(var g in h)if(b(f+b.jgrid.jqID(g)+K,a).is("input:radio")||b(f+b.jgrid.jqID(g)+K,a).is("input:checkbox"))b(f+b.jgrid.jqID(g)+K,a).each(function(){if(b(this).val()==h[g])b(this)[i.p.useProp?q:r](C,d);else b(this)[i.p.useProp?q:r](C,c)});else b(f+b.jgrid.jqID(g)+K,a).val(h[g])})},FormToGrid:function(d,e,a,c){return this.each(function(){var g=this;if(!g.grid)return;if(!a)a="set";if(!c)c=tb;var h=b(e).serializeArray(),f={};b.each(h,function(b,a){f[a.name]=a.value});if(a=="add")b(g).jqGrid(U,d,f,c);else a=="set"&&b(g).jqGrid(wb,d,f)})}})})(jQuery);(function(a){var l="setRowData",m="not-editable-cell",i="restoreRow",g="keydown",h="undefined",f="select",k="textarea",e="editable",j="getInd",b=true,c=null,d=false;a.jgrid.extend({editRow:function(l,v,t,r,w,s,q,u,o){var p={keys:v||d,oneditfunc:t||c,successfunc:r||c,url:w||c,extraparam:s||{},aftersavefunc:q||c,errorfunc:u||c,afterrestorefunc:o||c,restoreAfterError:b,mtype:"POST"},n=a.makeArray(arguments).slice(1),m;if(n[0]&&typeof n[0]=="object"&&!a.isFunction(n[0]))m=a.extend(p,n[0]);else m=p;return this.each(function(){var q=this,s,p,v,w=0,t=c,u={},r,n;if(!q.grid)return;r=a(q).jqGrid(j,l,b);if(r===d)return;v=a(r).attr(e)||"0";if(v=="0"&&!a(r).hasClass("not-editable-row")){n=q.p.colModel;a("td",r).each(function(d){var g="span:first",i=this;s=n[d].name;var m=q.p.treeGrid===b&&s==q.p.ExpandColumn;if(m)p=a(g,i).html();else try{p=a.unformat(i,{rowId:l,colModel:n[d]},d)}catch(r){p=n[d].edittype&&n[d].edittype==k?a(i).text():a(i).html()}if(s!="cb"&&s!="subgrid"&&s!="rn"){if(q.p.autoencode)p=a.jgrid.htmlDecode(p);u[s]=p;if(n[d].editable===b){if(t===c)t=d;if(m)a(g,i).html("");else a(i).html("");var o=a.extend({},n[d].editoptions||{},{id:l+"_"+s,name:s});if(!n[d].edittype)n[d].edittype="text";if(p=="&nbsp;"||p=="&#160;"||p.length==1&&p.charCodeAt(0)==160)p="";var j=a.jgrid.createEl(n[d].edittype,o,p,b,a.extend({},a.jgrid.ajaxOptions,q.p.ajaxSelectOptions||{}));a(j).addClass(e);if(m)a(g,i).append(j);else a(i).append(j);n[d].edittype==f&&typeof n[d].editoptions!==h&&n[d].editoptions.multiple===b&&typeof n[d].editoptions.dataUrl===h&&a.browser.msie&&a(j).width(a(j).width());w++}}});if(w>0){u.id=l;q.p.savedRow.push(u);a(r).attr(e,"1");a("td:eq("+t+") input",r).focus();m.keys===b&&a(r).bind(g,function(c){c.keyCode===27&&a(q).jqGrid(i,l,o);if(c.keyCode===13){var e=c.target;if(e.tagName=="TEXTAREA")return b;a(q).jqGrid("saveRow",l,m);return d}c.stopPropagation()});a.isFunction(m.oneditfunc)&&m.oneditfunc.call(q,l)}}})},saveRow:function(s,L,P,M,K,N,J){var t="#lui_",z="clientArray",H={successfunc:L||c,url:P||c,extraparam:M||{},aftersavefunc:K||c,errorfunc:N||c,afterrestorefunc:J||c,restoreAfterError:b,mtype:"POST"},D=a.makeArray(arguments).slice(1),p;if(D[0]&&typeof D[0]=="object"&&!a.isFunction(D[0]))p=a.extend(H,D[0]);else p=H;var x=d,n=this[0],q,o={},A={},v={},G,y,w,u;if(!n.grid)return x;u=a(n).jqGrid(j,s,b);if(u===d)return x;G=a(u).attr(e);p.url=p.url?p.url:n.p.editurl;if(G==="1"){var r;a("td",u).each(function(j){var e="function 'custom_value' ",c="select option:selected",g=this;r=n.p.colModel[j];q=r.name;if(q!="cb"&&q!="subgrid"&&r.editable===b&&q!="rn"&&!a(g).hasClass(m)){switch(r.edittype){case"checkbox":var h=["Yes","No"];if(r.editoptions)h=r.editoptions.value.split(":");o[q]=a("input",g).is(":checked")?h[0]:h[1];break;case"text":case"password":case k:case"button":o[q]=a("input, textarea",g).val();break;case f:if(!r.editoptions.multiple){o[q]=a(c,g).val();A[q]=a(c,g).text()}else{var l=a(f,g),i=[];o[q]=a(l).val();if(o[q])o[q]=o[q].join(",");else o[q]="";a(c,g).each(function(c,b){i[c]=a(b).text()});A[q]=i.join(",")}if(r.formatter&&r.formatter==f)A={};break;case"custom":try{if(r.editoptions&&a.isFunction(r.editoptions.custom_value)){o[q]=r.editoptions.custom_value.call(n,a(".customelement",g),"get");if(o[q]===undefined)throw"e2";}else throw"e1";}catch(s){s=="e1"&&a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);if(s=="e2")a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,e+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose);else a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,s.message,jQuery.jgrid.edit.bClose)}}w=a.jgrid.checkValues(o[q],j,n);if(w[0]===d){w[1]=o[q]+" "+w[1];return d}if(n.p.autoencode)o[q]=a.jgrid.htmlEncode(o[q]);if(p.url!==z&&r.editoptions&&r.editoptions.NullIfEmpty===b)if(o[q]=="")v[q]="null"}});if(w[0]===d){try{var F=a.jgrid.findPos(a("#"+a.jgrid.jqID(s),n.grid.bDiv)[0]);a.jgrid.info_dialog(a.jgrid.errors.errcap,w[1],a.jgrid.edit.bClose,{left:F[0],top:F[1]})}catch(Q){alert(w[1])}return x}var B,C,I;C=n.p.prmNames;I=C.oper;B=C.id;if(o){o[I]=C.editoper;o[B]=s;if(typeof n.p.inlineData==h)n.p.inlineData={};o=a.extend({},o,n.p.inlineData,p.extraparam)}if(p.url==z){o=a.extend({},o,A);n.p.autoencode&&a.each(o,function(b,c){o[b]=a.jgrid.htmlDecode(c)});var O=a(n).jqGrid(l,s,o);a(u).attr(e,"0");for(var E=0;E<n.p.savedRow.length;E++)if(n.p.savedRow[E].id==s){y=E;break}y>=0&&n.p.savedRow.splice(y,1);a.isFunction(p.aftersavefunc)&&p.aftersavefunc.call(n,s,O);x=b;a(u).unbind(g)}else{a(t+n.p.id).show();v=a.extend({},o,v);v[B]=a.jgrid.stripPref(n.p.idPrefix,v[B]);a.ajax(a.extend({url:p.url,data:a.isFunction(n.p.serializeRowData)?n.p.serializeRowData.call(n,v):v,type:p.mtype,async:d,complete:function(d,h){a(t+n.p.id).hide();if(h==="success"){var f;if(a.isFunction(p.successfunc))f=p.successfunc.call(n,d);else f=b;if(f===b){n.p.autoencode&&a.each(o,function(b,c){o[b]=a.jgrid.htmlDecode(c)});o=a.extend({},o,A);a(n).jqGrid(l,s,o);a(u).attr(e,"0");for(var c=0;c<n.p.savedRow.length;c++)if(n.p.savedRow[c].id==s){y=c;break}y>=0&&n.p.savedRow.splice(y,1);a.isFunction(p.aftersavefunc)&&p.aftersavefunc.call(n,s,d);x=b;a(u).unbind(g)}else{a.isFunction(p.errorfunc)&&p.errorfunc.call(n,s,d,h);p.restoreAfterError===b&&a(n).jqGrid(i,s,p.afterrestorefunc)}}},error:function(c,d){a(t+n.p.id).hide();if(a.isFunction(p.errorfunc))p.errorfunc.call(n,s,c,d);else try{jQuery.jgrid.info_dialog(jQuery.jgrid.errors.errcap,'<div class="ui-state-error">'+c.responseText+"</div>",jQuery.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(c.responseText)}p.restoreAfterError===b&&a(n).jqGrid(i,s,p.afterrestorefunc)}},a.jgrid.ajaxOptions,n.p.ajaxRowOptions||{}))}}return x},restoreRow:function(c,f){return this.each(function(){var h=this,i,k,o={};if(!h.grid)return;k=a(h).jqGrid(j,c,b);if(k===d)return;for(var n=0;n<h.p.savedRow.length;n++)if(h.p.savedRow[n].id==c){i=n;break}if(i>=0){if(a.isFunction(a.fn.datepicker))try{a("input.hasDatepicker","#"+a.jgrid.jqID(k.id)).datepicker("hide")}catch(p){}a.each(h.p.colModel,function(){var c=this;if(c.editable===b&&c.name in h.p.savedRow[i]&&!a(c).hasClass(m))o[c.name]=h.p.savedRow[i][c.name]});a(h).jqGrid(l,c,o);a(k).attr(e,"0").unbind(g);h.p.savedRow.splice(i,1)}a.isFunction(f)&&f.call(h,c)})}})})(jQuery);(function(a){var f="editCell",m="edited",k="dirty-cell",n="setCell",p=null,c=false,q="hide",e="restoreCell",j="input.hasDatepicker",i="_",r="textarea",l="td:eq(",h="-1",g="tabindex",d="#",o="saveCell",b=true;a.jgrid.extend({editCell:function(f,k,m){return this.each(function(){var t="selected-row ui-state-hover",s="edit-cell ui-state-highlight",n=this,v,p,u,w;if(!n.grid||n.p.cellEdit!==b)return;k=parseInt(k,10);n.p.selrow=n.rows[f].id;!n.p.knv&&a(n).jqGrid("GridNav");if(n.p.savedRow.length>0){if(m===b)if(f==n.p.iRow&&k==n.p.iCol)return;a(n).jqGrid(o,n.p.savedRow[0].id,n.p.savedRow[0].ic)}else window.setTimeout(function(){a(d+n.p.knv).attr(g,h).focus()},0);w=n.p.colModel[k];v=w.name;if(v=="subgrid"||v=="cb"||v=="rn")return;u=a(l+k+")",n.rows[f]);if(w.editable===b&&m===b&&!u.hasClass("not-editable-cell")){if(parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0){a(l+n.p.iCol+")",n.rows[n.p.iRow]).removeClass(s);a(n.rows[n.p.iRow]).removeClass(t)}a(u).addClass(s);a(n.rows[f]).addClass(t);try{p=a.unformat(u,{rowId:n.rows[f].id,colModel:w},k)}catch(A){p=w.edittype&&w.edittype==r?a(u).text():a(u).html()}if(n.p.autoencode)p=a.jgrid.htmlDecode(p);if(!w.edittype)w.edittype="text";n.p.savedRow.push({id:f,ic:k,name:v,v:p});if(p=="&nbsp;"||p=="&#160;"||p.length==1&&p.charCodeAt(0)==160)p="";if(a.isFunction(n.p.formatCell)){var x=n.p.formatCell.call(n,n.rows[f].id,v,p,f,k);if(x!==undefined)p=x}var z=a.extend({},w.editoptions||{},{id:f+i+v,name:v}),y=a.jgrid.createEl(w.edittype,z,p,b,a.extend({},a.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));a.isFunction(n.p.beforeEditCell)&&n.p.beforeEditCell.call(n,n.rows[f].id,v,p,f,k);a(u).html("").append(y).attr(g,"0");window.setTimeout(function(){a(y).focus()},0);a("input, select, textarea",u).bind("keydown",function(b){if(b.keyCode===27)if(a(j,u).length>0)if(a(".ui-datepicker").is(":hidden"))a(n).jqGrid(e,f,k);else a(j,u).datepicker(q);else a(n).jqGrid(e,f,k);b.keyCode===13&&a(n).jqGrid(o,f,k);if(b.keyCode==9)if(!n.grid.hDiv.loading)if(b.shiftKey)a(n).jqGrid("prevCell",f,k);else a(n).jqGrid("nextCell",f,k);else return c;b.stopPropagation()});a.isFunction(n.p.afterEditCell)&&n.p.afterEditCell.call(n,n.rows[f].id,v,p,f,k)}else{if(parseInt(n.p.iCol,10)>=0&&parseInt(n.p.iRow,10)>=0){a(l+n.p.iCol+")",n.rows[n.p.iRow]).removeClass(s);a(n.rows[n.p.iRow]).removeClass(t)}u.addClass(s);a(n.rows[f]).addClass(t);if(a.isFunction(n.p.onSelectCell)){p=u.html().replace(/\&#160\;/ig,"");n.p.onSelectCell.call(n,n.rows[f].id,v,p,f,k)}}n.p.iCol=k;n.p.iRow=f})},saveCell:function(f,o){return this.each(function(){var y="function 'custom_value' ",u="#lui_",B=">option:selected",s=this,F;if(!s.grid||s.p.cellEdit!==b)return;if(s.p.savedRow.length>=1)F=0;else F=p;if(F!==p){var w=a(l+o+")",s.rows[f]),t,v,x=s.p.colModel[o],A=x.name,C=a.jgrid.jqID(A);switch(x.edittype){case"select":if(!x.editoptions.multiple){t=a(d+f+i+C+B,s.rows[f]).val();v=a(d+f+i+C+B,s.rows[f]).text()}else{var L=a(d+f+i+C,s.rows[f]),I=[];t=a(L).val();if(t)t.join(",");else t="";a("option:selected",L).each(function(c,b){I[c]=a(b).text()});v=I.join(",")}if(x.formatter)v=t;break;case"checkbox":var G=["Yes","No"];if(x.editoptions)G=x.editoptions.value.split(":");t=a(d+f+i+C,s.rows[f]).is(":checked")?G[0]:G[1];v=t;break;case"password":case"text":case r:case"button":t=a(d+f+i+C,s.rows[f]).val();v=t;break;case"custom":try{if(x.editoptions&&a.isFunction(x.editoptions.custom_value)){t=x.editoptions.custom_value.call(s,a(".customelement",w),"get");if(t===undefined)throw"e2";else v=t}else throw"e1";}catch(N){N=="e1"&&a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,y+a.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);if(N=="e2")a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,y+a.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose);else a.jgrid.info_dialog(jQuery.jgrid.errors.errcap,N.message,jQuery.jgrid.edit.bClose)}}if(v!==s.p.savedRow[F].v){if(a.isFunction(s.p.beforeSaveCell)){var H=s.p.beforeSaveCell.call(s,s.rows[f].id,A,t,f,o);if(H){t=H;v=H}}var M=a.jgrid.checkValues(t,o,s);if(M[0]===b){var D={};if(a.isFunction(s.p.beforeSubmitCell)){D=s.p.beforeSubmitCell.call(s,s.rows[f].id,A,t,f,o);if(!D)D={}}a(j,w).length>0&&a(j,w).datepicker(q);if(s.p.cellsubmit=="remote")if(s.p.cellurl){var z={};if(s.p.autoencode)t=a.jgrid.htmlEncode(t);z[A]=t;var J,K,E;E=s.p.prmNames;J=E.id;K=E.oper;z[J]=a.jgrid.stripPref(s.p.idPrefix,s.rows[f].id);z[K]=E.editoper;z=a.extend(D,z);a(u+s.p.id).show();s.grid.hDiv.loading=b;a.ajax(a.extend({url:s.p.cellurl,data:a.isFunction(s.p.serializeCellData)?s.p.serializeCellData.call(s,z):z,type:"POST",complete:function(g,h){a(u+s.p.id).hide();s.grid.hDiv.loading=c;if(h=="success")if(a.isFunction(s.p.afterSubmitCell)){var d=s.p.afterSubmitCell.call(s,g,z.id,A,t,f,o);if(d[0]===b){a(w).empty();a(s).jqGrid(n,s.rows[f].id,o,v,c,c,b);a(w).addClass(k);a(s.rows[f]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[f].id,A,t,f,o);s.p.savedRow.splice(0,1)}else{a.jgrid.info_dialog(a.jgrid.errors.errcap,d[1],a.jgrid.edit.bClose);a(s).jqGrid(e,f,o)}}else{a(w).empty();a(s).jqGrid(n,s.rows[f].id,o,v,c,c,b);a(w).addClass(k);a(s.rows[f]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[f].id,A,t,f,o);s.p.savedRow.splice(0,1)}},error:function(b,d){a(u+s.p.id).hide();s.grid.hDiv.loading=c;if(a.isFunction(s.p.errorCell)){s.p.errorCell.call(s,b,d);a(s).jqGrid(e,f,o)}else{a.jgrid.info_dialog(a.jgrid.errors.errcap,b.status+" : "+b.statusText+"<br/>"+d,a.jgrid.edit.bClose);a(s).jqGrid(e,f,o)}}},a.jgrid.ajaxOptions,s.p.ajaxCellOptions||{}))}else try{a.jgrid.info_dialog(a.jgrid.errors.errcap,a.jgrid.errors.nourl,a.jgrid.edit.bClose);a(s).jqGrid(e,f,o)}catch(N){}if(s.p.cellsubmit=="clientArray"){a(w).empty();a(s).jqGrid(n,s.rows[f].id,o,v,c,c,b);a(w).addClass(k);a(s.rows[f]).addClass(m);a.isFunction(s.p.afterSaveCell)&&s.p.afterSaveCell.call(s,s.rows[f].id,A,t,f,o);s.p.savedRow.splice(0,1)}}else try{window.setTimeout(function(){a.jgrid.info_dialog(a.jgrid.errors.errcap,t+" "+M[1],a.jgrid.edit.bClose)},100);a(s).jqGrid(e,f,o)}catch(N){}}else a(s).jqGrid(e,f,o)}if(a.browser.opera)a(d+s.p.knv).attr(g,h).focus();else window.setTimeout(function(){a(d+s.p.knv).attr(g,h).focus()},0)})},restoreCell:function(e,f){return this.each(function(){var i=this,k;if(!i.grid||i.p.cellEdit!==b)return;if(i.p.savedRow.length>=1)k=0;else k=p;if(k!==p){var m=a(l+f+")",i.rows[e]);if(a.isFunction(a.fn.datepicker))try{a(j,m).datepicker(q)}catch(o){}a(m).empty().attr(g,h);a(i).jqGrid(n,i.rows[e].id,f,i.p.savedRow[k].v,c,c,b);a.isFunction(i.p.afterRestoreCell)&&i.p.afterRestoreCell.call(i,i.rows[e].id,i.p.savedRow[k].v,e,f);i.p.savedRow.splice(0,1)}window.setTimeout(function(){a(d+i.p.knv).attr(g,h).focus()},0)})},nextCell:function(e,d){return this.each(function(){var g=this,i=c;if(!g.grid||g.p.cellEdit!==b)return;for(var h=d+1;h<g.p.colModel.length;h++)if(g.p.colModel[h].editable===b){i=h;break}if(i!==c)a(g).jqGrid(f,e,i,b);else g.p.savedRow.length>0&&a(g).jqGrid(o,e,d)})},prevCell:function(e,d){return this.each(function(){var g=this,i=c;if(!g.grid||g.p.cellEdit!==b)return;for(var h=d-1;h>=0;h--)if(g.p.colModel[h].editable===b){i=h;break}if(i!==c)a(g).jqGrid(f,e,i,b);else g.p.savedRow.length>0&&a(g).jqGrid(o,e,d)})},GridNav:function(){return this.each(function(){var e=this;if(!e.grid||e.p.cellEdit!==b)return;e.p.knv=e.p.id+"_kn";var k=a("<span style='width:0px;height:0px;background-color:black;' tabindex='0'><span tabindex='-1' style='width:0px;height:0px;background-color:grey' id='"+e.p.knv+"'></span></span>"),h,g;a(k).insertBefore(e.grid.cDiv);a(d+e.p.knv).focus().keydown(function(d){g=d.keyCode;if(e.p.direction=="rtl")if(g==37)g=39;else if(g==39)g=37;switch(g){case 38:if(e.p.iRow-1>0){i(e.p.iRow-1,e.p.iCol,"vu");a(e).jqGrid(f,e.p.iRow-1,e.p.iCol,c)}break;case 40:if(e.p.iRow+1<=e.rows.length-1){i(e.p.iRow+1,e.p.iCol,"vd");a(e).jqGrid(f,e.p.iRow+1,e.p.iCol,c)}break;case 37:if(e.p.iCol-1>=0){h=j(e.p.iCol-1,"lft");i(e.p.iRow,h,"h");a(e).jqGrid(f,e.p.iRow,h,c)}break;case 39:if(e.p.iCol+1<=e.p.colModel.length-1){h=j(e.p.iCol+1,"rgt");i(e.p.iRow,h,"h");a(e).jqGrid(f,e.p.iRow,h,c)}break;case 13:parseInt(e.p.iCol,10)>=0&&parseInt(e.p.iRow,10)>=0&&a(e).jqGrid(f,e.p.iRow,e.p.iCol,b)}return c});function i(b,c,d){if(d.substr(0,1)=="v"){var k=a(e.grid.bDiv)[0].clientHeight,m=a(e.grid.bDiv)[0].scrollTop,h=e.rows[b].offsetTop+e.rows[b].clientHeight,j=e.rows[b].offsetTop;if(d=="vd")if(h>=k)a(e.grid.bDiv)[0].scrollTop=a(e.grid.bDiv)[0].scrollTop+e.rows[b].clientHeight;if(d=="vu")if(j<m)a(e.grid.bDiv)[0].scrollTop=a(e.grid.bDiv)[0].scrollTop-e.rows[b].clientHeight}if(d=="h"){var l=a(e.grid.bDiv)[0].clientWidth,f=a(e.grid.bDiv)[0].scrollLeft,g=e.rows[b].cells[c].offsetLeft+e.rows[b].cells[c].clientWidth,i=e.rows[b].cells[c].offsetLeft;if(g>=l+parseInt(f,10))a(e.grid.bDiv)[0].scrollLeft=a(e.grid.bDiv)[0].scrollLeft+e.rows[b].cells[c].clientWidth;else if(i<f)a(e.grid.bDiv)[0].scrollLeft=a(e.grid.bDiv)[0].scrollLeft-e.rows[b].cells[c].clientWidth}}function j(d,f){var c,a;if(f=="lft"){c=d+1;for(a=d;a>=0;a--)if(e.p.colModel[a].hidden!==b){c=a;break}}if(f=="rgt"){c=d-1;for(a=d;a<e.p.colModel.length;a++)if(e.p.colModel[a].hidden!==b){c=a;break}}return c}})},getChangedCells:function(c){var d=[];if(!c)c="all";this.each(function(){var e=this,f;if(!e.grid||e.p.cellEdit!==b)return;a(e.rows).each(function(g){var b={};if(a(this).hasClass(m)){a("td",this).each(function(h){var d=this;f=e.p.colModel[h].name;if(f!=="cb"&&f!=="subgrid")if(c=="dirty"){if(a(d).hasClass(k))try{b[f]=a.unformat(d,{rowId:e.rows[g].id,colModel:e.p.colModel[h]},h)}catch(i){b[f]=a.jgrid.htmlDecode(a(d).html())}}else try{b[f]=a.unformat(d,{rowId:e.rows[g].id,colModel:e.p.colModel[h]},h)}catch(i){b[f]=a.jgrid.htmlDecode(a(d).html())}});b.id=this.id;d.push(b)}})});return d}})})(jQuery);(function(a){var g="td.sgexpanded",f="td.sgcollapsed",e="getInd",d="click",c=true,b=false;a.jgrid.extend({setSubGrid:function(){return this.each(function(){var d=this,e,g={plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:b,delayOnLoad:50,selectOnExpand:b,reloadOnExpand:c};d.p.subGridOptions=a.extend(g,d.p.subGridOptions||{});d.p.colNames.unshift("");d.p.colModel.unshift({name:"subgrid",width:a.browser.safari?d.p.subGridWidth+d.p.cellLayout:d.p.subGridWidth,sortable:b,resizable:b,hidedlg:c,search:b,fixed:c});e=d.p.subGridModel;if(e[0]){e[0].align=a.extend([],e[0].align||[]);for(var f=0;f<e[0].name.length;f++)e[0].align[f]=e[0].align[f]||"left"}})},addSubGridCell:function(e,d){var a="",c,b;this.each(function(){a=this.formatCol(e,d);b=this.p.id;c=this.p.subGridOptions.plusicon});return'<td role="grid" aria-describedby="'+b+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+a+"><a href='javascript:void(0);'><span class='ui-icon "+c+"'></span></a></td>"},addSubGrid:function(f,e){return this.each(function(){var j="#load_",h="_",p="table:first",i="&#160;",l="<tr class='ui-widget-content ui-subtblcell'></tr>",o="<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-",n="<tr></tr>",m="<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>",g=this;if(!g.grid)return;var u=function(c,d,e){var b=a("<td align='"+g.p.subGridModel[0].align[e]+"'></td>").html(d);a(c).append(b)},w=function(r,s){for(var k,f,q=a(m),e=a(n),d=0;d<g.p.subGridModel[0].name.length;d++){k=a(o+g.p.direction+"'></th>");a(k).html(g.p.subGridModel[0].name[d]);a(k).width(g.p.subGridModel[0].width[d]);a(e).append(k)}a(q).append(e);if(r){f=g.p.xmlReader.subgrid;a(f.root+" "+f.row,r).each(function(){e=a(l);if(f.repeatitems===c)a(f.cell,this).each(function(b){u(e,a(this).text()||i,b)});else{var b=g.p.subGridModel[0].mapping||g.p.subGridModel[0].name;if(b)for(d=0;d<b.length;d++)u(e,a(b[d],this).text()||i,d)}a(q).append(e)})}var t=a(p,g.grid.bDiv).attr("id")+h;a("#"+t+s).append(q);g.grid.hDiv.loading=b;a(j+g.p.id).hide();return b},v=function(w,x){for(var s,r,k,q,d,t=a(m),f=a(n),e=0;e<g.p.subGridModel[0].name.length;e++){s=a(o+g.p.direction+"'></th>");a(s).html(g.p.subGridModel[0].name[e]);a(s).width(g.p.subGridModel[0].width[e]);a(f).append(s)}a(t).append(f);if(w){q=g.p.jsonReader.subgrid;r=w[q.root];if(typeof r!=="undefined")for(e=0;e<r.length;e++){k=r[e];f=a(l);if(q.repeatitems===c){if(q.cell)k=k[q.cell];for(d=0;d<k.length;d++)u(f,k[d]||i,d)}else{var v=g.p.subGridModel[0].mapping||g.p.subGridModel[0].name;if(v.length)for(d=0;d<v.length;d++)u(f,k[v[d]]||i,d)}a(t).append(f)}}var y=a(p,g.grid.bDiv).attr("id")+h;a("#"+y+x).append(t);g.grid.hDiv.loading=b;a(j+g.p.id).hide();return b},A=function(i){var f,d,e,h;f=a(i).attr("id");d={nd_:(new Date).getTime()};d[g.p.prmNames.subgridid]=f;if(!g.p.subGridModel[0])return b;if(g.p.subGridModel[0].params)for(h=0;h<g.p.subGridModel[0].params.length;h++)for(e=0;e<g.p.colModel.length;e++)if(g.p.colModel[e].name==g.p.subGridModel[0].params[h])d[g.p.colModel[e].name]=a("td:eq("+e+")",i).text().replace(/\&#160\;/ig,"");if(!g.grid.hDiv.loading){g.grid.hDiv.loading=c;a(j+g.p.id).show();if(!g.p.subgridtype)g.p.subgridtype=g.p.datatype;if(a.isFunction(g.p.subgridtype))g.p.subgridtype.call(g,d);else g.p.subgridtype=g.p.subgridtype.toLowerCase();switch(g.p.subgridtype){case"xml":case"json":a.ajax(a.extend({type:g.p.mtype,url:g.p.subGridUrl,dataType:g.p.subgridtype,data:a.isFunction(g.p.serializeSubGridData)?g.p.serializeSubGridData.call(g,d):d,complete:function(b){if(g.p.subgridtype=="xml")w(b.responseXML,f);else v(a.jgrid.parse(b.responseText),f);b=null}},a.jgrid.ajaxOptions,g.p.ajaxSubgridOptions||{}))}}return b},k,t,x,z=0,q,s;a.each(g.p.colModel,function(){if(this.hidden===c||this.name=="rn"||this.name=="cb")z++});var y=g.rows.length,r=1;if(e!==undefined&&e>0){r=e;y=e+1}while(r<y){a(g.rows[r]).hasClass("jqgrow")&&a(g.rows[r].cells[f]).bind(d,function(){var e="sgexpanded",l="'></span></a>",j="<a href='javascript:void(0);'><span class='ui-icon ",i="ui-subgrid",d="sgcollapsed",m=this,n=a(m).parent("tr")[0];s=n.nextSibling;if(a(m).hasClass(d)){t=g.p.id;k=n.id;if(g.p.subGridOptions.reloadOnExpand===c||g.p.subGridOptions.reloadOnExpand===b&&!a(s).hasClass(i)){x=f>=1?"<td colspan='"+f+"'>&#160;</td>":"";q=c;if(a.isFunction(g.p.subGridBeforeExpand))q=g.p.subGridBeforeExpand.call(g,t+h+k,k);if(q===b)return b;a(n).after("<tr role='row' class='ui-subgrid'>"+x+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+g.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(g.p.colNames.length-1-z,10)+"' class='ui-widget-content subgrid-data'><div id="+t+h+k+" class='tablediv'></div></td></tr>");if(a.isFunction(g.p.subGridRowExpanded))g.p.subGridRowExpanded.call(g,t+h+k,k);else A(n)}else a(s).show();a(m).html(j+g.p.subGridOptions.minusicon+l).removeClass(d).addClass(e);g.p.subGridOptions.selectOnExpand&&a(g).jqGrid("setSelection",k)}else if(a(m).hasClass(e)){q=c;if(a.isFunction(g.p.subGridRowColapsed)){k=n.id;q=g.p.subGridRowColapsed.call(g,t+h+k,k)}if(q===b)return b;if(g.p.subGridOptions.reloadOnExpand===c)a(s).remove(".ui-subgrid");else a(s).hasClass(i)&&a(s).hide();a(m).html(j+g.p.subGridOptions.plusicon+l).removeClass(e).addClass(d)}return b});g.p.subGridOptions.expandOnLoad===c&&a(g.rows[r].cells[f]).trigger(d);r++}g.subGridXml=function(b,a){w(b,a)};g.subGridJson=function(a,b){v(a,b)}})},expandSubGridRow:function(b){return this.each(function(){var h=this;if(!h.grid&&!b)return;if(h.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var g=a(f,i)[0];g&&a(g).trigger(d)}}})},collapseSubGridRow:function(b){return this.each(function(){var h=this;if(!h.grid&&!b)return;if(h.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var f=a(g,i)[0];f&&a(f).trigger(d)}}})},toggleSubGridRow:function(b){return this.each(function(){var j=this;if(!j.grid&&!b)return;if(j.p.subGrid===c){var i=a(this).jqGrid(e,b,c);if(i){var h=a(f,i)[0];if(h)a(h).trigger(d);else{h=a(g,i)[0];h&&a(h).trigger(d)}}}})}})})(jQuery);(function(b){var m="integer",u="getFullTreeNode",s="collectChildrenSortTree",o=" tree-minus",q=" tree-plus",t="isNodeLoaded",r="getNodeAncestors",l="getNodeChildren",h="adjacency",g=null,k="expandRow",j="collapseRow",i="div.treeclick",n="display",p="getNodeParent",e="",c=false,d=true,a=10,f="nested";b.jgrid.extend({setTreeNode:function(g,h){return this.each(function(){var t="expandNode",s="collapseNode",r="tr.jqgrow",o="true",l=this;if(!l.grid||!l.p.treeGrid)return;var y=l.p.expColInd,u=l.p.treeReader.expanded_field,q=l.p.treeReader.leaf_field,H=l.p.treeReader.level_field,B=l.p.treeReader.icon_field,x=l.p.treeReader.loaded,F,G,w,A,z,v,m,C;while(g<h){var J=l.rows[g].id,I=l.p._index[J],E;m=l.p.data[I];if(l.p.treeGridModel==f)if(!m[q]){F=parseInt(m[l.p.treeReader.left_field],a);G=parseInt(m[l.p.treeReader.right_field],a);m[q]=G===F+1?o:"false";l.rows[g].cells[l.p._treeleafpos].innerHTML=m[q]}w=parseInt(m[H],a);if(l.p.tree_root_level===0){A=w+1;z=w}else{A=w;z=w-1}v="<div class='tree-wrap tree-wrap-"+l.p.direction+"' style='width:"+A*18+"px;'>";v+="<div style='"+(l.p.direction=="rtl"?"right:":"left:")+z*18+"px;' class='ui-icon ";if(m[x]!==undefined)if(m[x]==o||m[x]===d)m[x]=d;else m[x]=c;if(m[q]==o||m[q]===d){v+=(m[B]!==undefined&&m[B]!==e?m[B]:l.p.treeIcons.leaf)+" tree-leaf treeclick";m[q]=d;C="leaf"}else{m[q]=c;C=e}m[u]=(m[u]==o||m[u]===d?d:c)&&m[x];if(m[u]===c)v+=m[q]===d?"'":l.p.treeIcons.plus+" tree-plus treeclick'";else v+=m[q]===d?"'":l.p.treeIcons.minus+" tree-minus treeclick'";v+="></div></div>";b(l.rows[g].cells[y]).wrapInner("<span class='cell-wrapper"+C+"'></span>").prepend(v);if(w!==parseInt(l.p.tree_root_level,a)){var D=b(l).jqGrid(p,m);E=D&&D.hasOwnProperty(u)?D[u]:d;!E&&b(l.rows[g]).css(n,"none")}b(l.rows[g].cells[y]).find(i).bind("click",function(d){var e=d.target||d.srcElement,f=b(e,l.rows).closest(r)[0].id,a=l.p._index[f];if(!l.p.data[a][q])if(l.p.data[a][u]){b(l).jqGrid(j,l.p.data[a]);b(l).jqGrid(s,l.p.data[a])}else{b(l).jqGrid(k,l.p.data[a]);b(l).jqGrid(t,l.p.data[a])}return c});l.p.ExpandColClick===d&&b(l.rows[g].cells[y]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var f=e.target||e.srcElement,d=b(f,l.rows).closest(r)[0].id,a=l.p._index[d];if(!l.p.data[a][q])if(l.p.data[a][u]){b(l).jqGrid(j,l.p.data[a]);b(l).jqGrid(s,l.p.data[a])}else{b(l).jqGrid(k,l.p.data[a]);b(l).jqGrid(t,l.p.data[a])}b(l).jqGrid("setSelection",d);return c});g++}})},setTreeGrid:function(){return this.each(function(){var e="expanded",a=this,j=0,n,m=c,i,k,l=[];if(!a.p.treeGrid)return;!a.p.treedatatype&&b.extend(a.p,{treedatatype:a.p.datatype});a.p.subGrid=c;a.p.altRows=c;a.p.pgbuttons=c;a.p.pginput=c;a.p.gridview=d;if(a.p.rowTotal===g)a.p.rowNum=1e4;a.p.multiselect=c;a.p.rowList=[];a.p.expColInd=0;n="ui-icon-triangle-1-"+(a.p.direction=="rtl"?"w":"e");a.p.treeIcons=b.extend({plus:n,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},a.p.treeIcons||{});if(a.p.treeGridModel==f)a.p.treeReader=b.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:e,loaded:"loaded",icon_field:"icon"},a.p.treeReader);else if(a.p.treeGridModel==h)a.p.treeReader=b.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:e,loaded:"loaded",icon_field:"icon"},a.p.treeReader);for(k in a.p.colModel)if(a.p.colModel.hasOwnProperty(k)){i=a.p.colModel[k].name;if(i==a.p.ExpandColumn&&!m){m=d;a.p.expColInd=j}j++;for(var o in a.p.treeReader)a.p.treeReader[o]==i&&l.push(i)}b.each(a.p.treeReader,function(f,e){if(e&&b.inArray(e,l)===-1){if(f==="leaf_field")a.p._treeleafpos=j;j++;a.p.colNames.push(e);a.p.colModel.push({name:e,width:1,hidden:d,sortable:c,resizable:c,hidedlg:d,editable:d,search:c})}})})},expandRow:function(a){this.each(function(){var c=this;if(!c.grid||!c.p.treeGrid)return;var d=b(c).jqGrid(l,a),f=c.p.treeReader.expanded_field;b(d).each(function(){var a=b.jgrid.getAccessor(this,c.p.localReader.id);b("#"+a,c.grid.bDiv).css(n,e);this[f]&&b(c).jqGrid(k,this)})})},collapseRow:function(a){this.each(function(){var c=this;if(!c.grid||!c.p.treeGrid)return;var d=b(c).jqGrid(l,a),e=c.p.treeReader.expanded_field;b(d).each(function(){var a=b.jgrid.getAccessor(this,c.p.localReader.id);b("#"+a,c.grid.bDiv).css(n,"none");this[e]&&b(c).jqGrid(j,this)})})},getRootNodes:function(){var c=[];this.each(function(){var d=this;if(!d.grid||!d.p.treeGrid)return;switch(d.p.treeGridModel){case f:var i=d.p.treeReader.level_field;b(d.p.data).each(function(){parseInt(this[i],a)===parseInt(d.p.tree_root_level,a)&&c.push(this)});break;case h:var e=d.p.treeReader.parent_id_field;b(d.p.data).each(function(){(this[e]===g||String(this[e]).toLowerCase()=="null")&&c.push(this)})}});return c},getNodeDepth:function(d){var c=g;this.each(function(){if(!this.grid||!this.p.treeGrid)return;var e=this;switch(e.p.treeGridModel){case f:var g=e.p.treeReader.level_field;c=parseInt(d[g],a)-parseInt(e.p.tree_root_level,a);break;case h:c=b(e).jqGrid(r,d).length}});return c},getNodeParent:function(d){var e=g;this.each(function(){var g=this;if(!g.grid||!g.p.treeGrid)return;switch(g.p.treeGridModel){case f:var j=g.p.treeReader.left_field,k=g.p.treeReader.right_field,i=g.p.treeReader.level_field,o=parseInt(d[j],a),p=parseInt(d[k],a),m=parseInt(d[i],a);b(this.p.data).each(function(){var b=this;if(parseInt(b[i],a)===m-1&&parseInt(b[j],a)<o&&parseInt(b[k],a)>p){e=b;return c}});break;case h:var l=g.p.treeReader.parent_id_field,n=g.p.localReader.id;b(this.p.data).each(function(){if(this[n]==d[l]){e=this;return c}})}});return e},getNodeChildren:function(c){var d=[];this.each(function(){var e=this;if(!e.grid||!e.p.treeGrid)return;switch(e.p.treeGridModel){case f:var i=e.p.treeReader.left_field,j=e.p.treeReader.right_field,g=e.p.treeReader.level_field,n=parseInt(c[i],a),o=parseInt(c[j],a),l=parseInt(c[g],a);b(this.p.data).each(function(){var b=this;parseInt(b[g],a)===l+1&&parseInt(b[i],a)>n&&parseInt(b[j],a)<o&&d.push(b)});break;case h:var k=e.p.treeReader.parent_id_field,m=e.p.localReader.id;b(this.p.data).each(function(){this[k]==c[m]&&d.push(this)})}});return d},getFullTreeNode:function(d){var c=[];this.each(function(){var e=this,j;if(!e.grid||!e.p.treeGrid)return;switch(e.p.treeGridModel){case f:var g=e.p.treeReader.left_field,n=e.p.treeReader.right_field,i=e.p.treeReader.level_field,o=parseInt(d[g],a),p=parseInt(d[n],a),l=parseInt(d[i],a);b(this.p.data).each(function(){var b=this;parseInt(b[i],a)>=l&&parseInt(b[g],a)>=o&&parseInt(b[g],a)<=p&&c.push(b)});break;case h:if(d){c.push(d);var k=e.p.treeReader.parent_id_field,m=e.p.localReader.id;b(this.p.data).each(function(a){j=c.length;for(a=0;a<j;a++)if(c[a][m]==this[k]){c.push(this);break}})}}});return c},getNodeAncestors:function(c){var a=[];this.each(function(){var e=this;if(!e.grid||!e.p.treeGrid)return;var d=b(e).jqGrid(p,c);while(d){a.push(d);d=b(e).jqGrid(p,d)}});return a},isVisibleNode:function(e){var a=d;this.each(function(){var d=this;if(!d.grid||!d.p.treeGrid)return;var f=b(d).jqGrid(r,e),g=d.p.treeReader.expanded_field;b(f).each(function(){a=a&&this[g];if(!a)return c})});return a},isNodeLoaded:function(e){var a;this.each(function(){var f=this;if(!f.grid||!f.p.treeGrid)return;var g=f.p.treeReader.leaf_field;if(e!==undefined)if(e.loaded!==undefined)a=e.loaded;else if(e[g]||b(f).jqGrid(l,e).length>0)a=d;else a=c;else a=c});return a},expandNode:function(a){return this.each(function(){var g="setGridParam",c=this;if(!c.grid||!c.p.treeGrid)return;var j=c.p.treeReader.expanded_field,p=c.p.treeReader.parent_id_field,n=c.p.treeReader.loaded,l=c.p.treeReader.level_field,r=c.p.treeReader.left_field,s=c.p.treeReader.right_field;if(!a[j]){var h=b.jgrid.getAccessor(a,c.p.localReader.id),k=b("#"+h,c.grid.bDiv)[0],m=c.p._index[h];if(b(c).jqGrid(t,c.p.data[m])){a[j]=d;b(i,k).removeClass(c.p.treeIcons.plus+q).addClass(c.p.treeIcons.minus+o)}else{a[j]=d;b(i,k).removeClass(c.p.treeIcons.plus+q).addClass(c.p.treeIcons.minus+o);c.p.treeANode=k.rowIndex;c.p.datatype=c.p.treedatatype;if(c.p.treeGridModel==f)b(c).jqGrid(g,{postData:{nodeid:h,n_left:a[r],n_right:a[s],n_level:a[l]}});else b(c).jqGrid(g,{postData:{nodeid:h,parentid:a[p],n_level:a[l]}});b(c).trigger("reloadGrid");a[n]=d;if(c.p.treeGridModel==f)b(c).jqGrid(g,{postData:{nodeid:e,n_left:e,n_right:e,n_level:e}});else b(c).jqGrid(g,{postData:{nodeid:e,parentid:e,n_level:e}})}}})},collapseNode:function(a){return this.each(function(){var d=this;if(!d.grid||!d.p.treeGrid)return;if(a.expanded){a.expanded=c;var f=b.jgrid.getAccessor(a,d.p.localReader.id),e=b("#"+f,d.grid.bDiv)[0];b(i,e).removeClass(d.p.treeIcons.minus+o).addClass(d.p.treeIcons.plus+q)}})},SortTree:function(a,d,e,c){return this.each(function(){var f=this;if(!f.grid||!f.p.treeGrid)return;var k,n,l,h=[],m=f,i,j,o=b(f).jqGrid("getRootNodes");i=b.jgrid.from(o);i.orderBy(a,d,e,c);j=i.select();for(k=0,n=j.length;k<n;k++){l=j[k];h.push(l);b(f).jqGrid(s,h,l,a,d,e,c)}b.each(h,function(a){var c=b.jgrid.getAccessor(this,m.p.localReader.id);b("#"+m.p.id+" tbody tr:eq("+a+")").after(b("tr#"+c,m.grid.bDiv))});i=g;j=g;h=g})},collectChildrenSortTree:function(d,g,a,e,f,c){return this.each(function(){var h=this;if(!h.grid||!h.p.treeGrid)return;var i,n,k,o,m,j;o=b(h).jqGrid(l,g);m=b.jgrid.from(o);m.orderBy(a,e,f,c);j=m.select();for(i=0,n=j.length;i<n;i++){k=j[i];d.push(k);b(h).jqGrid(s,d,k,a,e,f,c)}})},setTreeRow:function(d,e){var a=c;this.each(function(){var c=this;if(!c.grid||!c.p.treeGrid)return;a=b(c).jqGrid("setRowData",d,e)});return a},delTreeNode:function(c){return this.each(function(){var d=this,p=d.p.localReader.id,j=d.p.treeReader.left_field,i=d.p.treeReader.right_field,h,l,e,g;if(!d.grid||!d.p.treeGrid)return;var k=d.p._index[c];if(k!==undefined){h=parseInt(d.p.data[k][i],a);l=h-parseInt(d.p.data[k][j],a)+1;var n=b(d).jqGrid(u,d.p.data[k]);if(n.length>0)for(var o=0;o<n.length;o++)b(d).jqGrid("delRowData",n[o][p]);if(d.p.treeGridModel===f){e=b.jgrid.from(d.p.data).greater(j,h,{stype:m}).select();if(e.length)for(g in e)e[g][j]=parseInt(e[g][j],a)-l;e=b.jgrid.from(d.p.data).greater(i,h,{stype:m}).select();if(e.length)for(g in e)e[g][i]=parseInt(e[g][i],a)-l}}})},addChildNode:function(G,n,v){var x="getInd",j=this[0];if(v){var C=j.p.treeReader.expanded_field,E=j.p.treeReader.leaf_field,K=j.p.treeReader.level_field,O=j.p.treeReader.icon_field,N=j.p.treeReader.parent_id_field,w=j.p.treeReader.left_field,p=j.p.treeReader.right_field,J=j.p.treeReader.loaded,F,A,r,B,q,M,I=0,y=n,H,s;if(!G){q=j.p.data.length-1;if(q>=0)while(q>=0){I=Math.max(I,parseInt(j.p.data[q][j.p.localReader.id],a));q--}G=I+1}var L=b(j).jqGrid(x,n);H=c;if(n===undefined||n===g||n===e){n=g;y=g;F="last";B=j.p.tree_root_level;q=j.p.data.length+1}else{F="after";A=j.p._index[n];r=j.p.data[A];n=r[j.p.localReader.id];B=parseInt(r[K],a)+1;var D=b(j).jqGrid(u,r);if(D.length){q=D[D.length-1][j.p.localReader.id];y=q;q=b(j).jqGrid(x,y)+1}else q=b(j).jqGrid(x,n)+1;if(r[E]){H=d;r[C]=d;b(j.rows[L]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(j.p.treeIcons.leaf+" tree-leaf").addClass(j.p.treeIcons.minus+o);j.p.data[A][E]=c;r[J]=d}}M=q+1;v[C]=c;v[J]=d;v[K]=B;v[E]=d;if(j.p.treeGridModel===h)v[N]=n;if(j.p.treeGridModel===f){var z,k,l;if(n!==g){s=parseInt(r[p],a);z=b.jgrid.from(j.p.data);z=z.greaterOrEquals(p,s,{stype:m});k=z.select();if(k.length)for(l in k){k[l][w]=k[l][w]>s?parseInt(k[l][w],a)+2:k[l][w];k[l][p]=k[l][p]>=s?parseInt(k[l][p],a)+2:k[l][p]}v[w]=s;v[p]=s+1}else{s=parseInt(b(j).jqGrid("getCol",p,c,"max"),a);k=b.jgrid.from(j.p.data).greater(w,s,{stype:m}).select();if(k.length)for(l in k)k[l][w]=parseInt(k[l][w],a)+2;k=b.jgrid.from(j.p.data).greater(p,s,{stype:m}).select();if(k.length)for(l in k)k[l][p]=parseInt(k[l][p],a)+2;v[w]=s+1;v[p]=s+2}}if(n===g||b(j).jqGrid(t,r)||H){b(j).jqGrid("addRowData",G,v,F,y);b(j).jqGrid("setTreeNode",q,M)}r&&!r[C]&&b(j.rows[L]).find(i).click()}}})})(jQuery);(function(c){var j="reloadGrid",h=" tbody:first",a="",i=":visible",e="#",g="showCol",d=true,f="undefined",b=false;c.jgrid.extend({groupingSetup:function(){return this.each(function(){var k=this,h=k.p.groupingView;if(h!==null&&(typeof h==="object"||c.isFunction(h)))if(!h.groupField.length)k.p.grouping=b;else{if(typeof h.visibiltyOnNextGrouping==f)h.visibiltyOnNextGrouping=[];for(var j=0;j<h.groupField.length;j++){if(!h.groupOrder[j])h.groupOrder[j]="asc";if(!h.groupText[j])h.groupText[j]="{0}";if(typeof h.groupColumnShow[j]!="boolean")h.groupColumnShow[j]=d;if(typeof h.groupSummary[j]!="boolean")h.groupSummary[j]=b;if(h.groupColumnShow[j]===d){h.visibiltyOnNextGrouping[j]=d;c(k).jqGrid(g,h.groupField[j])}else{h.visibiltyOnNextGrouping[j]=c(e+k.p.id+"_"+h.groupField[j]).is(i);c(k).jqGrid("hideCol",h.groupField[j])}h.sortitems[j]=[];h.sortnames[j]=[];h.summaryval[j]=[];if(h.groupSummary[j]){h.summary[j]=[];for(var m=k.p.colModel,l=0,n=m.length;l<n;l++)m[l].summaryType&&h.summary[j].push({nm:m[l].name,st:m[l].summaryType,v:a})}}k.p.scroll=b;k.p.rownumbers=b;k.p.subGrid=b;k.p.treeGrid=b;k.p.gridview=d}else k.p.grouping=b})},groupingPrepare:function(g,e,b,f){this.each(function(){e[0]+=a;var h=e[0].toString().split(" ").join(a),i=this.p.groupingView,j=this;if(b.hasOwnProperty(h))b[h].push(g);else{b[h]=[];b[h].push(g);i.sortitems[0].push(h);i.sortnames[0].push(c.trim(e[0].toString()));i.summaryval[0][h]=c.extend(d,[],i.summary[0])}i.groupSummary[0]&&c.each(i.summaryval[0][h],function(){var a=this;if(c.isFunction(a.st))a.v=a.st.call(j,a.v,a.nm,f);else a.v=c(j).jqGrid("groupingCalculations."+a.st,a.v,a.nm,f)})});return b},groupingToggle:function(a){this.each(function(){var g=this,h=g.p.groupingView,l=a.lastIndexOf("_"),p=a.substring(0,l+1),n=parseInt(a.substring(l+1),10)+1,j=h.minusicon,m=h.plusicon,o=c(e+a),f=o.length?o[0].nextSibling:null,i=c(e+a+" span.tree-wrap-"+g.p.direction),k=b;if(i.hasClass(j)){if(h.showSummaryOnHide&&h.groupSummary[0]){if(f)while(f){if(c(f).hasClass("jqfoot"))break;c(f).hide();f=f.nextSibling}}else if(f)while(f){if(c(f).attr("id")==p+String(n))break;c(f).hide();f=f.nextSibling}i.removeClass(j).addClass(m);k=d}else{if(f)while(f){if(c(f).attr("id")==p+String(n))break;c(f).show();f=f.nextSibling}i.removeClass(m).addClass(j)}c.isFunction(g.p.onClickGroup)&&g.p.onClickGroup.call(g,a,k)});return b},groupingRender:function(d,f){return this.each(function(){var i=this,g=i.p.groupingView,j=a,o=a,l,n=g.groupCollapse?g.plusicon:g.minusicon,m,p,k;if(!g.groupDataSorted){g.sortitems[0].sort();g.sortnames[0].sort();if(g.groupOrder[0].toLowerCase()=="desc"){g.sortitems[0].reverse();g.sortnames[0].reverse()}}n+=" tree-wrap-"+i.p.direction;k=0;while(k<f){if(i.p.colModel[k].name==g.groupField[0]){p=k;break}k++}c.each(g.sortitems[0],function(s,h){l=i.p.id+"ghead_"+s;o="<span style='cursor:pointer;' class='ui-icon "+n+"' onclick=\"jQuery('#"+i.p.id+"').jqGrid('groupingToggle','"+l+"');return false;\"></span>";try{m=i.formatter(l,g.sortnames[0][s],p,g.sortitems[0])}catch(y){m=g.sortnames[0][s]}j+='<tr id="'+l+'" role="row" class= "ui-widget-content jqgroup ui-row-'+i.p.direction+'"><td colspan="'+f+'">'+o+c.jgrid.format(g.groupText[0],m,d[h].length)+"</td></tr>";for(var q=0;q<d[h].length;q++)j+=d[h][q].join(a);if(g.groupSummary[0]){var w=a;if(g.groupCollapse&&!g.showSummaryOnHide)w=' style="display:none;"';j+="<tr"+w+' role="row" class="ui-widget-content jqfoot ui-row-'+i.p.direction+'">';for(var x=g.summaryval[0][h],k=i.p.colModel,r,v=d[h].length,e=0;e<f;e++){var t="<td "+i.formatCol(e,1,a)+">&#160;</td>",u="{0}";c.each(x,function(){var d=this;if(d.nm==k[e].name){if(k[e].summaryTpl)u=k[e].summaryTpl;if(d.st=="avg")if(d.v&&v>0)d.v=d.v/v;try{r=i.formatter(a,d.v,e,d)}catch(f){r=d.v}t="<td "+i.formatCol(e,1,a)+">"+c.jgrid.format(u,r)+"</td>";return b}});j+=t}j+="</tr>"}});c(e+i.p.id+h).append(j);j=null})},groupingGroupBy:function(a,b){return this.each(function(){var l=this;if(typeof a=="string")a=[a];var k=l.p.groupingView;l.p.grouping=d;if(typeof k.visibiltyOnNextGrouping==f)k.visibiltyOnNextGrouping=[];for(var h=0;h<k.groupField.length;h++)!k.groupColumnShow[h]&&k.visibiltyOnNextGrouping[h]&&c(l).jqGrid(g,k.groupField[h]);for(h=0;h<a.length;h++)k.visibiltyOnNextGrouping[h]=c(e+l.p.id+"_"+a[h]).is(i);l.p.groupingView=c.extend(l.p.groupingView,b||{});k.groupField=a;c(l).trigger(j)})},groupingRemove:function(a){return this.each(function(){var i=this;if(typeof a==f)a=d;i.p.grouping=b;if(a===d){for(var k=i.p.groupingView,l=0;l<k.groupField.length;l++)!k.groupColumnShow[l]&&k.visibiltyOnNextGrouping[l]&&c(i).jqGrid(g,k.groupField);c("tr.jqgroup, tr.jqfoot",e+i.p.id+h).remove();c("tr.jqgrow:hidden",e+i.p.id+h).show()}else c(i).trigger(j)})},groupingCalculations:{sum:function(c,a,b){return parseFloat(c||0)+parseFloat(b[a]||0)},min:function(d,b,c){return d===a?parseFloat(c[b]||0):Math.min(parseFloat(d),parseFloat(c[b]||0))},max:function(d,b,c){return d===a?parseFloat(c[b]||0):Math.max(parseFloat(d),parseFloat(c[b]||0))},count:function(b,c,d){if(b===a)b=0;return d.hasOwnProperty(c)?b+1:0},avg:function(c,a,b){return parseFloat(c||0)+parseFloat(b[a]||0)}}})})(jQuery);(function(b){var d="jsonstring",a=null,c="xmlstring";b.jgrid.extend({jqGridImport:function(e){e=b.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},e||{});return this.each(function(){var f="string",g="setGridParam",i=this,k=function(f,j){var m=b(j.xmlGrid.config,f)[0],l=b(j.xmlGrid.data,f)[0],d,e;if(xmlJsonClass.xml2json&&b.jgrid.parse){d=xmlJsonClass.xml2json(m," ");d=b.jgrid.parse(d);for(var h in d)if(d.hasOwnProperty(h))e=d[h];if(l){var k=d.grid.datatype;d.grid.datatype=c;d.grid.datastr=f;b(i).jqGrid(e).jqGrid(g,{datatype:k})}else b(i).jqGrid(e);d=a;e=a}else alert("xml2json or parse are not present")},j=function(c,j){if(c&&typeof c==f){var h=b.jgrid.parse(c),a=h[j.jsonGrid.config],e=h[j.jsonGrid.data];if(e){var k=a.datatype;a.datatype=d;a.datastr=e;b(i).jqGrid(a).jqGrid(g,{datatype:k})}else b(i).jqGrid(a)}};switch(e.imptype){case"xml":b.ajax(b.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"xml",complete:function(c,d){if(d=="success"){k(c.responseXML,e);b.isFunction(e.importComplete)&&e.importComplete(c)}c=a}},e.ajaxOptions));break;case c:if(e.impstring&&typeof e.impstring==f){var h=b.jgrid.stringToDoc(e.impstring);if(h){k(h,e);b.isFunction(e.importComplete)&&e.importComplete(h);e.impstring=a}h=a}break;case"json":b.ajax(b.extend({url:e.impurl,type:e.mtype,data:e.impData,dataType:"json",complete:function(c,d){if(d=="success"){j(c.responseText,e);b.isFunction(e.importComplete)&&e.importComplete(c)}c=a}},e.ajaxOptions));break;case d:if(e.impstring&&typeof e.impstring==f){j(e.impstring,e);b.isFunction(e.importComplete)&&e.importComplete(e.impstring);e.impstring=a}}})},jqGridExport:function(e){e=b.extend({exptype:c,root:"grid",ident:"\t"},e||{});var f=a;this.each(function(){if(!this.grid)return;var g=b.extend({},b(this).jqGrid("getGridParam"));if(g.rownumbers){g.colNames.splice(0,1);g.colModel.splice(0,1)}if(g.multiselect){g.colNames.splice(0,1);g.colModel.splice(0,1)}if(g.subGrid){g.colNames.splice(0,1);g.colModel.splice(0,1)}g.knv=a;if(g.treeGrid)for(var h in g.treeReader)if(g.treeReader.hasOwnProperty(h)){g.colNames.splice(g.colNames.length-1);g.colModel.splice(g.colModel.length-1)}switch(e.exptype){case c:f="<"+e.root+">"+xmlJsonClass.json2xml(g,e.ident)+"</"+e.root+">";break;case d:f="{"+xmlJsonClass.toJson(g,e.root,e.ident,false)+"}";if(g.postData.filters!==undefined){f=f.replace(/filters":"/,'filters":');f=f.replace(/}]}"/,"}]}")}}});return f},excelExport:function(c){c=b.extend({exptype:"remote",url:a,oper:"oper",tag:"excel",exportOptions:{}},c||{});return this.each(function(){if(!this.grid)return;var a;if(c.exptype=="remote"){var e=b.extend({},this.p.postData);e[c.oper]=c.tag;var d=jQuery.param(e);if(c.url.indexOf("?")!=-1)a=c.url+"&"+d;else a=c.url+"?"+d;window.location=a}})}})})(jQuery);(function(a){var i="collapseSubGridRow",f="id",k="colModel",g="getGridParam",e=null,j="remapColumns",h=">div",c=10,b=true,d=false;if(a.browser.msie&&a.browser.version==8)a.expr[":"].hidden=function(a){return a.offsetWidth===0||a.offsetHeight===0||a.style.display=="none"};a.jgrid._multiselect=d;if(a.ui)if(a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var l=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(d,c){var b=this,f=l.call(b,d,c);if(c&&b.selectedList){var e=b.element;b.selectedList.find("li").each(function(){var b="optionLink";a(this).data(b)&&a(this).data(b).remove().appendTo(e)})}return f}}if(a.ui.multiselect.prototype.destroy)a.ui.multiselect.prototype.destroy=function(){var b=this;b.element.show();b.container.remove();if(a.Widget===undefined)a.widget.prototype.destroy.apply(b,arguments);else a.Widget.prototype.destroy.apply(b,arguments)};a.jgrid._multiselect=b}a.jgrid.extend({sortableColumns:function(e){return this.each(function(){var f=this,i=f.p.id;function k(){f.p.disableClick=b}var g={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+i+"_cb,#jqgh_"+i+"_rn,#jqgh_"+i+"_subgrid),:hidden)",placeholder:{element:function(b){return a(document.createElement(b[0].nodeName)).addClass(b[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,c)-parseInt(a.currentItem.css("paddingBottom")||0,c));b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,c)-parseInt(a.currentItem.css("paddingRight")||0,c))}},update:function(n,l){var m=a(l.item).parent(),k=a(">th",m),g=f.p.colModel,e={},i=f.p.id+"_";a.each(g,function(a){e[this.name]=a});var c=[];k.each(function(){var b=a(h,this).get(0).id.replace(/^jqgh_/,"").replace(i,"");b in e&&c.push(e[b])});a(f).jqGrid(j,c,b,b);a.isFunction(f.p.sortable.update)&&f.p.sortable.update(c);setTimeout(function(){f.p.disableClick=d},50)}};if(f.p.sortable.options)a.extend(g,f.p.sortable.options);else if(a.isFunction(f.p.sortable))f.p.sortable={update:f.p.sortable};if(g.start){var l=g.start;g.start=function(b,a){k();l.call(this,b,a)}}else g.start=k;if(f.p.sortable.exclude)g.items+=":not("+f.p.sortable.exclude+")";e.sortable(g).data("sortable").floating=b})},columnChooser:function(f){var n="multiselect",i=this;if(a("#colchooser_"+i[0].p.id).length)return;var m=a('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),l=a("select",m);function t(b,a,e){if(a>=0){var c=b.slice(),d=c.splice(a,Math.max(b.length-a,a));if(a>b.length)a=b.length;c[a]=e;return c.concat(d)}}f=a.extend({width:420,height:240,classname:e,done:function(a){a&&i.jqGrid(j,a,b)},msel:n,dlog:"dialog",dlog_opts:function(a){var c={};c[a.bSubmit]=function(){a.apply_perm();a.cleanup(d)};c[a.bCancel]=function(){a.cleanup(b)};return{buttons:c,close:function(){a.cleanup(b)},modal:a.modal?a.modal:d,resizable:a.resizable?a.resizable:b,width:a.width+20}},apply_perm:function(){a("option",l).each(function(){if(this.selected)i.jqGrid("showCol",o[this.value].name);else i.jqGrid("hideCol",o[this.value].name)});var b=[];a("option:selected",l).each(function(){b.push(parseInt(this.value,c))});a.each(b,function(){delete q[o[parseInt(this,c)].name]});a.each(q,function(){var a=parseInt(this,c);b=t(b,a,a)});f.done&&f.done.call(i,b)},cleanup:function(a){p(f.dlog,m,"destroy");p(f.msel,l,"destroy");m.remove();a&&f.done&&f.done.call(i)},msel_opts:{}},a.jgrid.col,f||{});if(a.ui)if(a.ui.multiselect)if(f.msel==n){if(!a.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}f.msel_opts=a.extend(a.ui.multiselect.defaults,f.msel_opts)}f.caption&&m.attr("title",f.caption);if(f.classname){m.addClass(f.classname);l.addClass(f.classname)}if(f.width){a(h,m).css({width:f.width,margin:"0 auto"});l.css("width",f.width)}if(f.height){a(h,m).css("height",f.height);l.css("height",f.height-c)}var o=i.jqGrid(g,k),s=i.jqGrid(g,"colNames"),q={},r=[];l.empty();a.each(o,function(b){var a=this;q[a.name]=b;if(a.hidedlg){!a.hidden&&r.push(b);return}l.append("<option value='"+b+"' "+(a.hidden?"":"selected='selected'")+">"+s[b]+"</option>")});function p(b,c){if(!b)return;if(typeof b=="string")a.fn[b]&&a.fn[b].apply(c,a.makeArray(arguments).slice(2));else a.isFunction(b)&&b.apply(c,a.makeArray(arguments).slice(2))}var u=a.isFunction(f.dlog_opts)?f.dlog_opts.call(i,f):f.dlog_opts;p(f.dlog,m,u);var v=a.isFunction(f.msel_opts)?f.msel_opts.call(i,f):f.msel_opts;p(f.msel,l,v)},sortableRows:function(e){return this.each(function(){var j="tbody:first",h="border-width",g=this;if(!g.grid)return;if(g.p.treeGrid)return;if(a.fn.sortable){e=a.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{});if(e.start&&a.isFunction(e.start)){e._start_=e.start;delete e.start}else e._start_=d;if(e.update&&a.isFunction(e.update)){e._update_=e.update;delete e.update}else e._update_=d;e.start=function(d,b){a(b.item).css(h,"0px");a("td",b.item).each(function(a){this.style.width=g.grid.cols[a].style.width});if(g.p.subGrid){var c=a(b.item).attr(f);try{a(g).jqGrid(i,c)}catch(j){}}e._start_&&e._start_.apply(this,[d,b])};e.update=function(f,d){a(d.item).css(h,"");g.p.rownumbers===b&&a("td.jqgrid-rownum",g.rows).each(function(b){a(this).html(b+1+(parseInt(g.p.page,c)-1)*parseInt(g.p.rowNum,c))});e._update_&&e._update_.apply(this,[f,d])};a(j,g).sortable(e);a(j,g).disableSelection()}})},gridDnD:function(c){return this.each(function(){var l="addRowData",m="#jqgrid_dnd",h="dnd",j=this;if(!j.grid)return;if(j.p.treeGrid)return;if(!a.fn.draggable||!a.fn.droppable)return;function o(){var b=a.data(j,h);a("tr.jqgrow:not(.ui-draggable)",j).draggable(a.isFunction(b.drag)?b.drag.call(a(j),b):b.drag)}var p="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";a(m).html()===e&&a("body").append(p);if(typeof c=="string"&&c=="updateDnD"&&j.p.jqgdnd===b){o();return}c=a.extend({drag:function(c){var b="jqg_empty_row";return a.extend({start:function(m,d){if(j.p.subGrid){var k=a(d.helper).attr(f);try{a(j).jqGrid(i,k)}catch(n){}}for(var e=0;e<a.data(j,h).connectWith.length;e++)a(a.data(j,h).connectWith[e]).jqGrid(g,"reccount")=="0"&&a(a.data(j,h).connectWith[e]).jqGrid(l,b,{});d.helper.addClass("ui-state-highlight");a("td",d.helper).each(function(a){this.style.width=j.grid.headers[a].width+"px"});c.onstart&&a.isFunction(c.onstart)&&c.onstart.call(a(j),m,d)},stop:function(k,e){var d="delRowData";if(e.helper.dropped&&!c.dragcopy){var i=a(e.helper).attr(f);a(j).jqGrid(d,i)}for(var g=0;g<a.data(j,h).connectWith.length;g++)a(a.data(j,h).connectWith[g]).jqGrid(d,b);c.onstop&&a.isFunction(c.onstop)&&c.onstop.call(a(j),k,e)}},c.drag_opts||{})},drop:function(c){return a.extend({accept:function(c){if(!a(c).hasClass("jqgrow"))return c;var e=a(c).closest("table.ui-jqgrid-btable");if(e.length>0&&a.data(e[0],h)!==undefined){var f=a.data(e[0],h).connectWith;return a.inArray("#"+this.id,f)!=-1?b:d}return c},drop:function(t,h){var i=this;if(!a(h.draggable).hasClass("jqgrow"))return;var u=a(h.draggable).attr(f),d=h.draggable.parent().parent().jqGrid("getRowData",u);if(!c.dropbyname){var o=0,r={},q,p=a("#"+i.id).jqGrid(g,k);try{for(var s in d){if(d.hasOwnProperty(s)&&p[o]){q=p[o].name;r[q]=d[s]}o++}d=r}catch(v){}}h.helper.dropped=b;if(c.beforedrop&&a.isFunction(c.beforedrop)){var n=c.beforedrop.call(i,t,h,d,a("#"+j.id),a(i));if(typeof n!="undefined"&&n!==e&&typeof n=="object")d=n}if(h.helper.dropped){var m;if(c.autoid)if(a.isFunction(c.autoid))m=c.autoid.call(i,d);else{m=Math.ceil(Math.random()*1e3);m=c.autoidprefix+m}a("#"+i.id).jqGrid(l,m,d,c.droppos)}c.ondrop&&a.isFunction(c.ondrop)&&c.ondrop.call(i,t,h,d)}},c.drop_opts||{})},onstart:e,onstop:e,beforedrop:e,ondrop:e,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:m,zIndex:5e3},dragcopy:d,dropbyname:d,droppos:"first",autoid:b,autoidprefix:"dnd_"},c||{});if(!c.connectWith)return;c.connectWith=c.connectWith.split(",");c.connectWith=a.map(c.connectWith,function(b){return a.trim(b)});a.data(j,h,c);j.p.reccount!="0"&&!j.p.jqgdnd&&o();j.p.jqgdnd=b;for(var n=0;n<c.connectWith.length;n++){var q=c.connectWith[n];a(q).droppable(a.isFunction(c.drop)?c.drop.call(a(j),c):c.drop)}})},gridResize:function(b){return this.each(function(){var c=this;if(!c.grid||!a.fn.resizable)return;b=a.extend({},b||{});if(b.alsoResize){b._alsoResize_=b.alsoResize;delete b.alsoResize}else b._alsoResize_=d;if(b.stop&&a.isFunction(b.stop)){b._stop_=b.stop;delete b.stop}else b._stop_=d;b.stop=function(e,d){a(c).jqGrid("setGridParam",{height:a("#gview_"+c.p.id+" .ui-jqgrid-bdiv").height()});a(c).jqGrid("setGridWidth",d.size.width,b.shrinkToFit);b._stop_&&b._stop_.call(c,e,d)};if(b._alsoResize_){var e="{'#gview_"+c.p.id+" .ui-jqgrid-bdiv':true,'"+b._alsoResize_+"':true}";b.alsoResize=eval("("+e+")")}else b.alsoResize=a(".ui-jqgrid-bdiv","#gview_"+c.p.id);delete b._alsoResize_;a("#gbox_"+c.p.id).resizable(b)})}})})(jQuery);function tableToGrid(a,b){jQuery(a).each(function(){var a=this;if(a.grid)return;jQuery(a).width("99%");var o=jQuery(a).width(),l=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(a)),n=jQuery("tr td:first-child input[type=radio]:first",jQuery(a)),g=l.length>0,m=!g&&n.length>0,k=g||m,e=[],i=[];jQuery("th",jQuery(a)).each(function(){var a="__selection__",b=this;if(e.length===0&&k){e.push({name:a,index:a,width:0,hidden:true});i.push(a)}else{e.push({name:jQuery(b).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(b).html())).split(" ").join("_"),index:jQuery(b).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(b).html())).split(" ").join("_"),width:jQuery(b).width()||150});i.push(jQuery(b).html())}});var f=[],j=[],h=[];jQuery("tbody > tr",jQuery(a)).each(function(){var b={},a=0;jQuery("td",jQuery(this)).each(function(){if(a===0&&k){var c=jQuery("input",jQuery(this)),d=c.attr("value");j.push(d||f.length);c.is(":checked")&&h.push(d);b[e[a].name]=c.attr("value")}else b[e[a].name]=jQuery(this).html();a++});a>0&&f.push(b)});jQuery(a).empty();jQuery(a).addClass("scroll");jQuery(a).jqGrid(jQuery.extend({datatype:"local",width:o,colNames:i,colModel:e,multiselect:g},b||{}));for(var c=0;c<f.length;c++){var d=null;if(j.length>0){d=j[c];if(d&&d.replace)d=encodeURIComponent(d).replace(/[.\-%]/g,"_")}if(d===null)d=c+1;jQuery(a).jqGrid("addRowData",d,f[c])}for(c=0;c<h.length;c++)jQuery(a).jqGrid("setSelection",h[c])})}/*
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(a){var g="null",e="string",c="tmplItem",b=null,v=a.fn.domManip,h="_tmplitem",u=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,d={},j={},i,t={key:0,data:{}},m=0,f=0,p=[];function k(g,e,h,f){var c={data:f||(f===0||f===false)?f:e?e.data:{},_wrap:e?e._wrap:b,tmpl:b,parent:e||b,nodes:[],calls:y,nest:A,wrap:B,html:z,update:x};g&&a.extend(c,g,{nodes:[],parent:e});if(h){c.tmpl=h;c._ctnt=c._ctnt||c.tmpl(a,c);c.key=++m;(p.length?j:d)[m]=c}return c}a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,c){a.fn[e]=function(p){var g=this,h=[],k=a(p),m,j,o,n,l=g.length===1&&g[0].parentNode;i=d||{};if(l&&l.nodeType===11&&l.childNodes.length===1&&k.length===1){k[c](g[0]);h=g}else{for(j=0,o=k.length;j<o;j++){f=j;m=(j>0?g.clone(true):g).get();a(k[j])[c](m);h=h.concat(m)}f=0;h=g.pushStack(h,e,k.selector)}n=i;i=b;a.tmpl.complete(n);return h}});a.fn.extend({tmpl:function(d,c,b){return a.tmpl(this[0],d,c,b)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(b,n,l){if(b[0]&&a.isArray(b[0])){var g=a.makeArray(arguments),h=b[0],k=h.length,j=0,e;while(j<k&&!(e=a.data(h[j++],c)));if(e&&f)g[2]=function(b){a.tmpl.afterManip(this,b,l)};v.apply(this,g)}else v.apply(this,arguments);f=0;!i&&a.tmpl.complete(d);return this}});a.extend({tmpl:function(e,g,f,c){var h,i=!c;if(i){c=t;e=a.template[e]||a.template(b,e);j={}}else if(!e){e=c.tmpl;d[c.key]=c;c.nodes=[];c.wrapped&&r(c,c.wrapped);return a(n(c,b,c.tmpl(a,c)))}if(!e)return[];if(typeof g==="function")g=g.call(c||{});f&&f.wrapped&&r(f,f.wrapped);h=a.isArray(g)?a.map(g,function(a){return a?k(f,c,e,a):b}):[k(f,c,e,g)];return i?a(n(c,b,h)):h},tmplItem:function(b){var d;if(b instanceof a)b=b[0];while(b&&b.nodeType===1&&!(d=a.data(b,c))&&(b=b.parentNode));return d||t},template:function(d,c){if(c){if(typeof c===e)c=s(c);else if(c instanceof a)c=c[0]||{};if(c.nodeType)c=a.data(c,"tmpl")||a.data(c,"tmpl",s(c.innerHTML));return typeof d===e?(a.template[d]=c):c}return d?typeof d!==e?a.template(b,d):a.template[d]||a.template(b,u.test(d)?d:a(d)):b},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:g},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:g},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){d={}},afterManip:function(e,b,c){var d=b.nodeType===11?a.makeArray(b.childNodes):b.nodeType===1?[b]:[];c.call(e,b);q(d);f++}});function n(d,g,f){var b,c=f?a.map(f,function(a){return typeof a===e?d.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+h+'="'+d.key+'" $2'):a:n(a,d,a._ctnt)}):d;if(g)return c;c=c.join("");c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,c,e,d){b=a(e).get();q(b);if(c)b=o(c).concat(b);if(d)b=b.concat(o(d))});return b?b:o(c)}function o(c){var b=document.createElement("div");b.innerHTML=c;return a.makeArray(b.childNodes)}function s(b){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(n,m,k,h,b,c,d){var j=a.tmpl.tag[k],i,e,f;if(!j)throw"Unknown template tag: "+k;i=j._default||[];if(c&&!/\w$/.test(b)){b+=c;c=""}if(b){b=l(b);d=d?","+l(d)+")":c?")":"";e=c?b.indexOf(".")>-1?b+l(c):"("+b+").call($item"+d:b;f=c?e:"(typeof("+b+")==='function'?("+b+").call($item):("+b+"))"}else f=e=i.$1||g;h=l(h);return"');"+j[m?"close":"open"].split("$notnull_1").join(b?"typeof("+b+")!=='undefined' && ("+b+")!=null":"true").split("$1a").join(f).split("$1").join(e).split("$2").join(h||i.$2||"")+"__.push('"})+"');}return __;")}function r(c,b){c._wrap=n(c,true,a.isArray(b)?b:[u.test(b)?b:a(b).html()]).join("")}function l(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):b}function w(b){var a=document.createElement("div");a.appendChild(b.cloneNode(true));return a.innerHTML}function q(p){var o="_"+f,i,g,l={},b,q,e;for(b=0,q=p.length;b<q;b++){if((i=p[b]).nodeType!==1)continue;g=i.getElementsByTagName("*");for(e=g.length-1;e>=0;e--)n(g[e]);n(i)}function n(g){var q,e=g,i,b,n;if(n=g.getAttribute(h)){while(e.parentNode&&(e=e.parentNode).nodeType===1&&!(q=e.getAttribute(h)));if(q!==n){e=e.parentNode?e.nodeType===11?0:e.getAttribute(h)||0:0;if(!(b=d[n])){b=j[n];b=k(b,d[e]||j[e]);b.key=++m;d[m]=b}f&&p(n)}g.removeAttribute(h)}else if(f&&(b=a.data(g,c))){p(b.key);d[b.key]=b;e=a.data(g.parentNode,c);e=e?e.key:0}if(b){i=b;while(i&&i.key!=e){i.nodes.push(g);i=i.parent}delete b._ctnt;delete b._wrap;a.data(g,c,b)}function p(a){a=a+o;b=l[a]=l[a]||k(b,d[b.parent.key+o]||b.parent)}}}function y(a,d,c,b){if(!a)return p.pop();p.push({_:a,tmpl:d,item:this,data:c,options:b})}function A(d,c,b){return a.tmpl(a.template(d),c,b,this)}function B(b,d){var c=b.options||{};c.wrapped=d;return a.tmpl(a.template(b.tmpl),b.data,c,b.item)}function z(d,c){var b=this._wrap;return a.map(a(a.isArray(b)?b.join(""):b).filter(d||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||w(a)})}function x(){var c=this.nodes;a.tmpl(b,b,b,this).insertBefore(c[0]);a(c).remove()}})(jQuery);jQuery&&(function(a){a.extend(a.fn,{miniColors:function(N,M){var f=255,o=360,e=150,K="huePosition",z="left",n="px",m="top",J="colorPosition",b=100,q=".miniColors-colors",p=false,u="disabled",y="mousemove.miniColors",x="mousedown.miniColors",g="moving",l="mousebutton",t="colorPicker",s="huePicker",d="selector",I="paste.miniColors",r="backgroundColor",H="keyup.miniColors",G="keydown.miniColors",i="#",F="blur.miniColors",E="focus.miniColors",D="click.miniColors",k=true,A="readonly",w="change",j="hsb",c="trigger",C="autocomplete",B="miniColors",v=this,db=function(b,e){var d=O(b.val());if(!d)d="FFFFFF";var g=V(d),f=a('<a class="miniColors-trigger" style="background-color: #'+d+'" href="#"></a>');f.insertAfter(b);b.addClass(B).attr("maxlength",7).attr(C,"off");b.data(c,f);b.data(j,g);e.change&&b.data(w,e.change);e.readonly&&b.attr(A,k);e.disabled&&U(b);f.bind(D,function(a){a.preventDefault();b.trigger("focus")});b.bind(E,function(){fb(b)});b.bind(F,function(){var a=O(b.val());b.val(a?i+a:"")});b.bind(G,function(a){a.keyCode===9&&L(b)});b.bind(H,function(){var a=b.val().replace(/[^A-F0-9#]/ig,"");b.val(a);!Y(b)&&b.data(c).css(r,"#FFF")});b.bind(I,function(){setTimeout(function(){b.trigger("keyup")},5)})},Z=function(b){L();b=a(b);b.data(c).remove();b.removeAttr(C);b.removeData(c);b.removeData(d);b.removeData(j);b.removeData(s);b.removeData(t);b.removeData(l);b.removeData(g);b.unbind(D);b.unbind(E);b.unbind(F);b.unbind(H);b.unbind(G);b.unbind(I);a(document).unbind(x);a(document).unbind(y)},eb=function(a){a.attr(u,p);a.data(c).css("opacity",1)},U=function(a){L(a);a.attr(u,k);a.data(c).css("opacity",.5)},fb=function(e){var o=".miniColors-huePicker",k=".miniColors-colorPicker",h=":visible";if(e.attr(u))return p;L();var f=a('<div class="miniColors-selector"></div>');f.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>');f.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>');f.css({top:e.is(h)?e.offset().top+e.outerHeight():e.data(c).offset().top+e.data(c).outerHeight(),left:e.is(h)?e.offset().left:e.data(c).offset().left,display:"none"}).addClass(e.attr("class"));var A=e.data(j);f.find(q).css(r,i+Q({h:A.h,s:b,b:b}));var v=e.data(J);if(!v)v=R(A);f.find(k).css(m,v.y+n).css(z,v.x+n);var w=e.data(K);if(!w)w=S(A);f.find(o).css(m,w.y+n);e.data(d,f);e.data(s,f.find(o));e.data(t,f.find(k));e.data(l,0);a("BODY").append(f);f.fadeIn(b);f.bind("selectstart",function(){return p});a(document).bind(x,function(b){e.data(l,1);if(a(b.target).parents().andSelf().hasClass("miniColors-colors")){b.preventDefault();e.data(g,"colors");T(e,b)}if(a(b.target).parents().andSelf().hasClass("miniColors-hues")){b.preventDefault();e.data(g,"hues");X(e,b)}if(a(b.target).parents().andSelf().hasClass("miniColors-selector")){b.preventDefault();return}if(a(b.target).parents().andSelf().hasClass(B))return;L(e)});a(document).bind("mouseup.miniColors",function(){e.data(l,0);e.removeData(g)});a(document).bind(y,function(a){if(e.data(l)===1){e.data(g)==="colors"&&T(e,a);e.data(g)==="hues"&&X(e,a)}})},L=function(c){if(!c)c=".miniColors";a(c).each(function(){var c=a(this).data(d);a(this).removeData(d);a(c).fadeOut(b,function(){a(this).remove()})});a(document).unbind(x);a(document).unbind(y)},T=function(e,l){var i=e.data(t);i.hide();var c={x:l.clientX-e.data(d).find(q).offset().left+a(document).scrollLeft()-5,y:l.clientY-e.data(d).find(q).offset().top+a(document).scrollTop()-5};if(c.x<=-5)c.x=-5;if(c.x>=144)c.x=144;if(c.y<=-5)c.y=-5;if(c.y>=144)c.y=144;e.data(J,c);i.css(z,c.x).css(m,c.y).show();var g=Math.round((c.x+5)*.67);if(g<0)g=0;if(g>b)g=b;var f=b-Math.round((c.y+5)*.67);if(f<0)f=0;if(f>b)f=b;var h=e.data(j);h.s=g;h.b=f;P(e,h,k)},X=function(c,i){var g=c.data(s);g.hide();var b={y:i.clientY-c.data(d).find(q).offset().top+a(document).scrollTop()-1};if(b.y<=-1)b.y=-1;if(b.y>=149)b.y=149;c.data(K,b);g.css(m,b.y).show();var f=Math.round((e-b.y-1)*2.4);if(f<0)f=0;if(f>o)f=o;var h=c.data(j);h.h=f;P(c,h,k)},P=function(a,e,g){a.data(j,e);var f=Q(e);g&&a.val(i+f);a.data(c).css(r,i+f);a.data(d)&&a.data(d).find(q).css(r,i+Q({h:e.h,s:b,b:b}));a.data(w)&&a.data(w).call(a,i+f,W(e))},Y=function(c){var f=O(c.val());if(!f)return p;var b=V(f),d=c.data(j);if(b.h===d.h&&b.s===d.s&&b.b===d.b)return k;var e=R(b),g=a(c.data(t));g.css(m,e.y+n).css(z,e.x+n);var h=S(b),i=a(c.data(s));i.css(m,h.y+n);P(c,b,p);return k},R=function(c){var a=Math.ceil(c.s/.67);if(a<0)a=0;if(a>e)a=e;var b=e-Math.ceil(c.b/.67);if(b<0)b=0;if(b>e)b=e;return{x:a-5,y:b-5}},S=function(b){var a=e-b.h/2.4;if(a<0)h=0;if(a>e)h=e;return{y:a-1}},O=function(a){a=a.replace(/[^A-Fa-f0-9]/,"");if(a.length==3)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];return a.length===6?a:null},W=function(h){var a={},e=Math.round(h.h),j=Math.round(h.s*f/b),i=Math.round(h.b*f/b);if(j==0)a.r=a.g=a.b=i;else{var c=i,d=(f-j)*i/f,g=(c-d)*(e%60)/60;if(e==o)e=0;if(e<60){a.r=c;a.b=d;a.g=d+g}else if(e<120){a.g=c;a.b=d;a.r=c-g}else if(e<180){a.g=c;a.r=d;a.b=d+g}else if(e<240){a.b=c;a.r=d;a.g=c-g}else if(e<300){a.b=c;a.g=d;a.r=d+g}else if(e<o){a.r=c;a.g=d;a.b=c-g}else{a.r=0;a.g=0;a.b=0}}return{r:Math.round(a.r),g:Math.round(a.g),b:Math.round(a.b)}},bb=function(c){var b=[c.r.toString(16),c.g.toString(16),c.b.toString(16)];a.each(b,function(c,a){if(a.length==1)b[c]="0"+a});return b.join("")},ab=function(a){var a=parseInt(a.indexOf(i)>-1?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&f}},cb=function(a){var c={h:0,s:0,b:0},g=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-g;c.b=d;c.s=d!=0?f*e/d:0;if(c.s!=0)if(a.r==d)c.h=(a.g-a.b)/e;else if(a.g==d)c.h=2+(a.b-a.r)/e;else c.h=4+(a.r-a.g)/e;else c.h=-1;c.h*=60;if(c.h<0)c.h+=o;c.s*=b/f;c.b*=b/f;return c},V=function(b){var a=cb(ab(b));if(a.s===0)a.h=o;return a},Q=function(a){return bb(W(a))};switch(N){case A:a(v).each(function(){a(this).attr(A,M)});return a(v);break;case u:a(v).each(function(){if(M)U(a(this));else eb(a(this))});return a(v);case"value":a(v).each(function(){a(this).val(M).trigger("keyup")});return a(v);break;case"destroy":a(v).each(function(){Z(a(this))});return a(v);default:if(!N)N={};a(v).each(function(){if(a(this)[0].tagName.toLowerCase()!=="input")return;if(a(this).data(c))return;db(a(this),N,M)});return a(v)}}})})(jQuery);$.fn.customFileInput=function(){var g="customfile-disabled",f="disabled",c="checkChange",e="customfile-focus",d="customfile-hover",a=$(this).addClass("customfile-input").mouseover(function(){b.addClass(d)}).mouseout(function(){b.removeClass(d)}).focus(function(){b.addClass(e);a.data("val",a.val())}).blur(function(){b.removeClass(e);$(this).trigger(c)}).bind("disable",function(){a.attr(f,true);b.addClass(g)}).bind("enable",function(){a.removeAttr(f);b.removeClass(g)}).bind(c,function(){a.val()&&a.val()!=a.data("val")&&a.trigger("change")}).bind("change",function(){var a=$(this).val().split(/\\/).pop(),b="customfile-ext-"+a.split(".").pop().toLowerCase();h.text(a).removeClass(h.data("fileExt")||"").addClass(b).data("fileExt",b).addClass("customfile-feedback-populated");i.text("Change")}).click(function(){a.data("val",a.val());setTimeout(function(){a.trigger(c)},100)}),b=$('<div class="customfile"></div>'),i=$('<span class="customfile-button" aria-hidden="true">Browse</span>').appendTo(b),h=$('<span class="customfile-feedback" aria-hidden="true">No file selected...</span>').appendTo(b);a.is("[disabled]")&&a.trigger("disable");b.insertAfter(a);a.appendTo(b);return $(this)};if(typeof Object.create!=="function")Object.create=function(b){function a(){}a.prototype=b;return new a};(function(a){var j="noty_layout_count",g="noty_modal_count",h="object",f=".noty_modal",c=true,e="click",b=false,d=null,i=".noty_text",l={init:function(c){var b=this;b.options=a.extend({},a.noty.defaults,c);b.options.layout=b.options.custom?a.noty.layouts.inline:a.noty.layouts[b.options.layout];b.options.theme=a.noty.themes[b.options.theme];delete c.layout;delete c.theme;b.options=a.extend({},b.options,b.options.layout.options);b.options.id="noty_"+(new Date).getTime()*Math.floor(Math.random()*1e6);b.options=a.extend({},b.options,c);b._build();return b},_build:function(){var f=".noty_buttons",c=this,g=a('<div class="noty_bar"></div>').attr("id",c.options.id);g.append(c.options.template).find(i).html(c.options.text);c.$bar=c.options.layout.parent.object!==d?a(c.options.layout.parent.object).css(c.options.layout.parent.css).append(g):g;if(c.options.buttons){c.options.closeWith=[];c.options.timeout=b;var h=a("<div/>").addClass("noty_buttons");c.options.layout.parent.object!==d?c.$bar.find(".noty_bar").append(h):c.$bar.append(h);var j=c;a.each(c.options.buttons,function(d,b){var c=a("<button/>").addClass(b.addClass?b.addClass:"gray").html(b.text).appendTo(j.$bar.find(f)).bind(e,function(){a.isFunction(b.onClick)&&b.onClick.call(c,j)})})}c.$message=c.$bar.find(".noty_message");c.$closeButton=c.$bar.find(".noty_close");c.$buttons=c.$bar.find(f);a.noty.store[c.options.id]=c},show:function(){var d=this,b=d;a(b.options.layout.container.selector).append(b.$bar);b.options.theme.style.apply(b);a.type(b.options.layout.css)==="function"?d.options.layout.css.apply(b.$bar):b.$bar.css(d.options.layout.css||{});b.$bar.addClass(b.options.layout.addClass);b.options.layout.container.style.apply(a(b.options.layout.container.selector));b.options.theme.callback.onShow.apply(d);if(a.inArray(e,b.options.closeWith)>-1)b.$bar.css("cursor","pointer").one(e,function(){b.close()});if(a.inArray("hover",b.options.closeWith)>-1)b.$bar.one("mouseenter",function(){b.close()});if(a.inArray("button",b.options.closeWith)>-1)b.$closeButton.one(e,function(){b.close()});a.inArray("button",b.options.closeWith)==-1&&b.$closeButton.remove();b.options.callback.onShow&&b.options.callback.onShow.apply(b);b.$bar.animate(b.options.animation.open,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b);b.shown=c});b.options.timeout&&b.$bar.delay(b.options.timeout).promise().done(function(){b.close()});return d},close:function(){if(this.closed)return;var b=this;if(!this.shown){var e=[];a.each(a.noty.queue,function(c,a){a.options.id!=b.options.id&&e.push(a)});a.noty.queue=e;return}b.$bar.addClass("i-am-closing-now");b.options.callback.onClose&&b.options.callback.onClose.apply(b);b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b)}).promise().done(function(){if(b.options.modal){a.notyRenderer.setModalCount(-1);a.notyRenderer.getModalCount()==0&&a(f).fadeOut("fast",function(){a(this).remove()})}a.notyRenderer.setLayoutCountFor(b,-1);a.notyRenderer.getLayoutCountFor(b)==0&&a(b.options.layout.container.selector).remove();if(typeof b.$bar!=="undefined"&&b.$bar!==d){b.$bar.remove();b.$bar=d;b.closed=c}delete a.noty.store[b.options.id];b.options.theme.callback.onClose.apply(b);if(!b.options.dismissQueue){a.noty.ontap=c;a.notyRenderer.render()}})},setText:function(b){var a=this;if(!a.closed){a.options.text=b;a.$bar.find(i).html(b)}return a},setType:function(b){var a=this;if(!a.closed){a.options.type=b;a.options.theme.style.apply(a);a.options.theme.callback.onShow.apply(a)}return a},setTimeout:function(c){var a=this;if(!a.closed){var b=a;a.options.timeout=c;b.$bar.delay(b.options.timeout).promise().done(function(){b.close()})}return a},setAnimationSpeed:function(a){this.options.animation.speed=a},closed:b,shown:b};a.notyRenderer={};a.notyRenderer.init=function(c){var b=Object.create(l).init(c);b.options.force?a.noty.queue.unshift(b):a.noty.queue.push(b);a.notyRenderer.render();return a.noty.returns==h?b:b.options.id};a.notyRenderer.render=function(){var d=a.noty.queue[0];if(a.type(d)===h){if(d.options.dismissQueue)a.notyRenderer.show(a.noty.queue.shift());else if(a.noty.ontap){a.notyRenderer.show(a.noty.queue.shift());a.noty.ontap=b}}else a.noty.ontap=c};a.notyRenderer.show=function(b){var c="i-am-new";if(b.options.modal){a.notyRenderer.createModalFor(b);a.notyRenderer.setModalCount(+1)}if(a(b.options.layout.container.selector).length==0)if(b.options.custom)b.options.custom.append(a(b.options.layout.container.object).addClass(c));else a("body").append(a(b.options.layout.container.object).addClass(c));else a(b.options.layout.container.selector).removeClass(c);a.notyRenderer.setLayoutCountFor(b,+1);b.show()};a.notyRenderer.createModalFor=function(b){a(f).length==0&&a("<div/>").addClass("noty_modal").data(g,0).css(b.options.theme.modal.css).prependTo(a("body")).fadeIn("fast")};a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data(j)||0};a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data(j,a.notyRenderer.getLayoutCountFor(b)+c)};a.notyRenderer.getModalCount=function(){return a(f).data(g)||0};a.notyRenderer.setModalCount=function(b){return a(f).data(g,a.notyRenderer.getModalCount()+b)};a.fn.noty=function(b){b.custom=a(this);return a.notyRenderer.init(b)};a.noty={};a.noty.queue=[];a.noty.ontap=c;a.noty.layouts={};a.noty.themes={};a.noty.returns=h;a.noty.store={};a.noty.get=function(c){return a.noty.store.hasOwnProperty(c)?a.noty.store[c]:b};a.noty.close=function(c){return a.noty.get(c)?a.noty.get(c).close():b};a.noty.closeByElementId=function(c){var b=[];a.each(a.noty.store,function(d,a){a.options.elementId==c&&b.push(a)});a(b).each(function(b,a){a.close()})};a.noty.closeByViewId=function(c){var b=[];a.each(a.noty.store,function(d,a){a.options.viewId==c&&b.push(a)});a(b).each(function(b,a){a.close()})};a.noty.getByViewIdAndElementId=function(d,b){var c="";a.each(a.noty.store,function(e,a){if((!d||a.options.viewId==d)&&(!b||a.options.elementId==b))c=a});return c};a.noty.closeAllErrorsByViewId=function(c){var b=[];a.each(a.noty.store,function(d,a){a.options.viewId==c&&a.options.type=="error"&&b.push(a)});a(b).each(function(b,a){a.close()})};a.noty.setText=function(c,d){return a.noty.get(c)?a.noty.get(c).setText(d):b};a.noty.setType=function(c,d){return a.noty.get(c)?a.noty.get(c).setType(d):b};a.noty.clearQueue=function(){a.noty.queue=[]};a.noty.closeAll=function(){a.noty.clearQueue();a.each(a.noty.store,function(b,a){a.close()})};var k=window.alert;a.noty.consumeAlert=function(b){window.alert=function(c){if(b)b.text=c;else b={text:c};a.notyRenderer.init(b)}};a.noty.stopConsumeAlert=function(){window.alert=k};a.noty.defaults={layout:"topCenter",theme:"defaultTheme",type:"alert",text:"",dismissQueue:c,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:300},timeout:b,force:b,modal:b,closeWith:[],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:b};a(window).resize(function(){a.each(a.noty.layouts,function(c,b){b.container.style.apply(a(b.container.selector))})})})(jQuery);function noty(a){var b=0,c={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onClosed:"callback.afterClose"};jQuery.each(a,function(e,f){if(c[e]){b++;var d=c[e].split(".");if(!a[d[0]])a[d[0]]={};a[d[0]][d[1]]=f?f:function(){};delete a[e]}});if(!a.closeWith)a.closeWith=jQuery.noty.defaults.closeWith;if(a.hasOwnProperty("closeButton")){b++;a.closeButton&&a.closeWith.push("button");delete a.closeButton}if(a.hasOwnProperty("closeOnSelfClick")){b++;a.closeOnSelfClick&&a.closeWith.push("click");delete a.closeOnSelfClick}if(a.hasOwnProperty("closeOnSelfOver")){b++;a.closeOnSelfOver&&a.closeWith.push("hover");delete a.closeOnSelfOver}if(a.hasOwnProperty("custom")){b++;if(a.custom.container!="null")a.custom=a.custom.container}if(a.hasOwnProperty("cssPrefix")){b++;delete a.cssPrefix}if(a.theme=="noty_theme_default"){b++;a.theme="defaultTheme"}if(!a.hasOwnProperty("dismissQueue"))if(a.layout=="topLeft"||a.layout=="topRight"||a.layout=="bottomLeft"||a.layout=="bottomRight")a.dismissQueue=true;a.buttons&&jQuery.each(a.buttons,function(c,a){if(a.click){b++;a.onClick=a.click;delete a.click}if(a.type){b++;a.addClass=a.type;delete a.type}});if(b)typeof console!=="undefined"&&console.warn&&console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.");return jQuery.notyRenderer.init(a)}(function(a){a.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul id="noty_inline_layout_container" />',selector:"ul#noty_inline_layout_container",style:function(){a(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);(function(b){var l="5px 5px 0px 0px",a="5px",k="centerRight",j="centerLeft",c="center",i="bottomRight",h="bottomLeft",g="bottomCenter",f="topRight",e="topCenter",d="0px 0px 5px 5px";b.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){var n="0px 0px 0px 0px",o=this;if(o.options.dismissQueue){var m=o.options.layout.container.selector+" "+o.options.layout.parent.selector;switch(o.options.layout.name){case"top":b(m).css({borderRadius:n});b(m).last().css({borderRadius:d});break;case e:case"topLeft":case f:case g:case h:case i:case c:case j:case k:case"inline":b(m).css({borderRadius:n});b(m).first().css({"border-top-left-radius":a,"border-top-right-radius":a});b(m).last().css({"border-bottom-left-radius":a,"border-bottom-right-radius":a});break;case"bottom":b(m).css({borderRadius:n});b(m).first().css({borderRadius:l})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var p="#FFF",s="1px solid #eee",o="0 2px 4px rgba(0, 0, 0, 0.1)",n="2px solid #eee",r=".noty_close",q="13px",m=this;m.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"});m.$message.css({fontSize:q,lineHeight:"16px",textAlign:c,padding:"8px 10px 9px",width:"auto",position:"relative"});m.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"});m.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"});m.$buttons.find("button").css({marginLeft:5});m.$buttons.find("button:first").css({marginLeft:0});m.$bar.bind({mouseenter:function(){b(this).find(r).fadeIn()},mouseleave:function(){b(this).find(r).fadeOut()}});switch(m.options.layout.name){case"top":m.$bar.css({borderRadius:d,borderBottom:n,borderLeft:n,borderRight:n,boxShadow:o});break;case e:case c:case g:case"inline":m.$bar.css({borderRadius:a,border:s,boxShadow:o});m.$message.css({fontSize:q,textAlign:c});break;case"topLeft":case f:case h:case i:case j:case k:m.$bar.css({borderRadius:a,border:s,boxShadow:o});m.$message.css({fontSize:q,textAlign:"left"});break;case"bottom":m.$bar.css({borderRadius:l,borderTop:n,borderLeft:n,borderRight:n,boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:m.$bar.css({border:n,boxShadow:o})}switch(m.options.type){case"alert":case"notification":m.$bar.css({backgroundColor:p,borderColor:"#CCC",color:"#444"});break;case"warning":m.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"});m.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":m.$bar.css({backgroundColor:"red",borderColor:"darkred",color:p});m.$message.css({fontWeight:"bold"});m.$buttons.css({borderTop:"1px solid darkred"});break;case"information":m.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:p});m.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":m.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"});m.$buttons.css({borderTop:"1px solid #50C24E"});break;default:m.$bar.css({backgroundColor:p,borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){b.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){b.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}})(jQuery);(function(b,n){var jb="eventResizeStop",kb="eventResizeStart",v=">",Fb=" class='",Eb="fc-event-draggable",Db="fc-event-skin",Cb="fc-event",Bb=" style='",Ab="eventAfterRender",y="timeFormat",zb="eventRender",cb="mouseup",ib="absolute",I="defaultEventMinutes",t="allDaySlot",h="slotMinutes",Z="filter",Y="eventDragStop",X="drag",H="revert",k="option",W="eventDragStart",hb="dragRevertDuration",V="dragOpacity",G="dayClick",M="selectable",L="-state-highlight fc-today",gb="<div style='position:absolute;z-index:8;top:0;left:0'/>",yb="div.fc-day-content div",U="td",F="tr",T="</table>",fb="</tbody>",S="</td>",j="</div>",eb="<div style='position:relative'>&nbsp;</div>",xb="<div class='fc-day-content'>",r="'>",db="<tbody>",wb="</thead>",x="</tr>",R="<tr>",vb="-widget-content",ub="-widget-header",tb="columnFormat",q="isRTL",E="titleFormat",sb="weekMode",u="weekends",D="firstDay",B="fc-last",Kb="fc-first",Jb=":first-child",K="px",bb="th",m="'",l=12,p=10,rb="number",A=1e3,z="object",o="</span>",s=" ",J="'/>",f=-1,d=null,Q="body",C="fc",P="ui",N="string",rc="circle-triangle-e",qc="circle-triangle-w",mb="today",pc="&nbsp;&gt;&gt;&nbsp;",oc="&nbsp;&lt;&lt;&nbsp;",nc="&nbsp;&#9658;&nbsp;",mc="&nbsp;&#9668;&nbsp;",c=false,a=true,e="",ob="title",nb="month",Sb={defaultView:nb,aspectRatio:1.35,header:{left:ob,center:e,right:"today prev,next"},weekends:a,allDayDefault:a,ignoreTimezone:a,lazyFetching:a,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:c,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:mc,next:nc,prevYear:oc,nextYear:pc,today:mb,month:nb,week:"week",day:"day"},theme:c,buttonIcons:{prev:qc,next:rc},unselectAuto:a,dropAccept:"*"},Sc={header:{left:"next,prev today",center:e,right:ob},buttonText:{prev:nc,next:mc,prevYear:pc,nextYear:oc},buttonIcons:{prev:rc,next:qc}},O=b.fullCalendar={version:"1.5.2"},qb=O.views={};b.fn.fullCalendar=function(c){var d="fullCalendar",e=this;if(typeof c==N){var h=Array.prototype.slice.call(arguments,1),f;e.each(function(){var a=b.data(this,d);if(a&&b.isFunction(a[c])){var e=a[c].apply(a,h);if(f===n)f=e;c=="destroy"&&b.removeData(this,d)}});return f!==n?f:e}var g=c.eventSources||[];delete c.eventSources;if(c.events){g.push(c.events);delete c.events}c=b.extend(a,{},Sb,c.isRTL||c.isRTL===n&&Sb.isRTL?Sc:{},c);e.each(function(h,f){var e=b(f),a=new Xc(e,c,g);e.data(d,a);a.render()});return e};function wc(c){b.extend(a,Sb,c)}function Xc(q,k,V){var j=this;j.options=k;j.render=hb;j.destroy=cb;j.refetchEvents=I;j.reportEvents=W;j.reportEventChange=R;j.rerenderEvents=x;j.changeView=L;j.select=ib;j.unselect=z;j.prev=lb;j.next=kb;j.prevYear=bb;j.nextYear=ab;j.today=jb;j.gotoDate=Z;j.incrementDate=S;j.formatDate=function(a,b){return Gb(a,b,k)};j.formatDates=function(a,b,c){return Vb(a,b,c,k)};j.getDate=db;j.getView=eb;j.option=gb;j.trigger=fb;Rc.call(j,k,V);var U=j.isFetchNeeded,Y=j.fetchEvents,A=q[0],r,t,l,nb,h,y={},B,s,v,O=0,o=0,m=new Date,F=[],u;Ec(m,k.year,k.month,k.date);function hb(a){if(!l)T();else{D();H();G();p(a)}}function T(){nb=k.theme?P:C;q.addClass(C);k.isRTL&&q.addClass("fc-rtl");k.theme&&q.addClass("ui-widget");l=b("<div class='fc-content' style='position:relative'/>").prependTo(q);r=new fd(j,k);t=r.render();t&&q.prepend(t);L(k.defaultView);b(window).resize(J);!K()&&M()}function M(){setTimeout(function(){!h.start&&K()&&p()},0)}function cb(){b(window).unbind("resize",J);r.destroy();l.remove();q.removeClass("fc fc-rtl ui-widget")}function w(){return A.offsetWidth!==0}function K(){return b(Q)[0].offsetWidth!==0}function L(c){var a="overflow";if(!h||c!=h.name){o++;z();var d=h,f;if(d){(d.beforeHide||Fc)();Qb(l,l.height());d.element.hide()}else Qb(l,1);l.css(a,"hidden");h=y[c];if(h)h.element.show();else h=y[c]=new qb[c](f=v=b("<div class='fc-view fc-view-"+c+"' style='position:absolute'/>").appendTo(l),j);d&&r.deactivateButton(d.name);r.activateButton(c);p();l.css(a,e);d&&Qb(l,1);!f&&(h.afterShow||Fc)();o--}}function p(e){if(w()){o++;z();s===n&&D();var b=c;if(!h.start||e||m<h.start||m>=h.end){h.render(m,e||0);E(a);b=a}else if(h.sizeDirty){h.clearEvents();E();b=a}else if(h.eventsDirty){h.clearEvents();b=a}h.sizeDirty=c;h.eventsDirty=c;X(b);B=q.outerWidth();r.updateTitle(h.title);var d=new Date;if(d>=h.start&&d<h.end)r.disableButton(mb);else r.enableButton(mb);o--;h.trigger("viewDisplay",A)}}function N(){H();if(w()){D();E();z();h.clearEvents();h.renderEvents(F);h.sizeDirty=c}}function H(){b.each(y,function(c,b){b.sizeDirty=a})}function D(){if(k.contentHeight)s=k.contentHeight;else if(k.height)s=k.height-(t?t.height():0)-Ob(l);else s=Math.round(l.width()/Math.max(k.aspectRatio,.5))}function E(a){o++;h.setHeight(s,a);if(v){v.css("position","relative");v=d}h.setWidth(l.width(),a);o--}function J(){if(!o)if(h.start){var a=++O;setTimeout(function(){if(a==O&&!o&&w())if(B!=(B=q.outerWidth())){o++;N();h.trigger("windowResize",A);o--}},200)}else M()}function X(a){if(!k.lazyFetching||U(h.visStart,h.visEnd))I();else a&&x()}function I(){Y(h.visStart,h.visEnd)}function W(a){F=a;x()}function R(a){x(a)}function x(a){G();if(w()){h.clearEvents();h.renderEvents(F,a);h.eventsDirty=c}}function G(){b.each(y,function(c,b){b.eventsDirty=a})}function ib(c,d,b){h.select(c,d,b===n?a:b)}function z(){h&&h.unselect()}function lb(){p(f)}function kb(){p(1)}function bb(){cc(m,f);p()}function ab(){cc(m,1);p()}function jb(){m=new Date;p()}function Z(a,c,b){if(a instanceof Date)m=g(a);else Ec(m,a,c,b);p()}function S(b,a,c){b!==n&&cc(m,b);a!==n&&Wb(m,a);c!==n&&i(m,c);p()}function db(){return g(m)}function eb(){return h}function gb(a,b){if(b===n)return k[a];if(a=="height"||a=="contentHeight"||a=="aspectRatio"){k[a]=b;N()}}function fb(a,b){if(k[a])return k[a].apply(b||A,Array.prototype.slice.call(arguments,2))}k.droppable&&b(document).bind("dragstart",function(e,f){var c=e.target,d=b(c);if(!d.parents(".fc").length){var a=k.dropAccept;if(b.isFunction(a)?a.call(c,d):d.is(a)){u=c;h.dragStart(u,e,f)}}}).bind("dragstop",function(a,b){if(u){h.dragStop(u,a,b);u=d}})}function fd(k,i){var f="span.fc-button-",e="-state-active",a="-state-disabled",h=this;h.render=t;h.destroy=r;h.updateTitle=q;h.activateButton=m;h.deactivateButton=l;h.disableButton=n;h.enableButton=p;var g=b([]),c;function t(){c=i.theme?P:C;var a=i.header;if(a){g=b("<table class='fc-header' style='width:100%'/>").append(b("<tr/>").append(j("left")).append(j("center")).append(j("right")));return g}}function r(){g.remove()}function j(h){var f=b("<td class='fc-header-"+h+J),g=i.header[h];g&&b.each(g.split(s),function(j){var g="-corner-right";j>0&&f.append("<span class='fc-header-space'/>");var h;b.each(this.split(","),function(t,n){var l="-state-down",j="-state-hover";if(n==ob){f.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");h&&h.addClass(c+g);h=d}else{var p;if(k[n])p=k[n];else if(qb[n])p=function(){m.removeClass(c+j);k.changeView(n)};if(p){var q=i.theme?Ub(i.buttonIcons,n):d,r=Ub(i.buttonText,n),m=b("<span class='fc-button fc-button-"+n+s+c+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(q?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+q+J+o:r)+o+"<span class='fc-button-effect'><span></span></span>"+o+o);if(m){m.click(function(){!m.hasClass(c+a)&&p()}).mousedown(function(){m.not("."+c+e).not("."+c+a).addClass(c+l)}).mouseup(function(){m.removeClass(c+l)}).hover(function(){m.not("."+c+e).not("."+c+a).addClass(c+j)},function(){m.removeClass(c+j).removeClass(c+l)}).appendTo(f);!h&&m.addClass(c+"-corner-left");h=m}}}});h&&h.addClass(c+g)});return f}function q(a){g.find("h2").html(a)}function m(a){g.find(f+a).addClass(c+e)}function l(a){g.find(f+a).removeClass(c+e)}function n(b){g.find(f+b).addClass(c+a)}function p(b){g.find(f+b).removeClass(c+a)}}O.sourceNormalizers=[];O.sourceFetchers=[];var Pc={dataType:"json",cache:c},Uc=1;function Rc(p,D){var i=this;i.isFetchNeeded=J;i.fetchEvents=M;i.addEventSource=I;i.removeEventSource=G;i.replaceEventSource=F;i.updateEvent=Q;i.renderEvent=P;i.removeEvents=L;i.clientEvents=K;i.normalizeEvent=k;for(var E=i.trigger,R=i.getView,l=i.reportEvents,r={events:[]},h=[r],j,m,q=0,o=0,y=0,f=[],s=0;s<D.length;s++)w(D[s]);function J(a,b){return!j||a<j||b>m}function M(d,e){j=d;m=e;f=[];var c=++q,b=h.length;o=b;for(var a=0;a<b;a++)v(h[a],c)}function v(a,b){u(a,function(c){if(b==q){if(c){for(var d=0;d<c.length;d++){c[d].source=a;k(c[d])}f=f.concat(c)}o--;!o&&l(f)}})}function u(c,d){for(var n=O.sourceFetchers,f,i=0;i<n.length;i++){f=n[i](c,j,m,d);if(f===a)return;else if(typeof f==z){u(f,d);return}}var e=c.events;if(e)if(b.isFunction(e)){B();e(g(j),g(m),function(a){d(a);C()})}else if(b.isArray(e))d(e);else d();else{var s=c.url;if(s){var q=c.success,r=c.error,o=c.complete,h=b.extend({},c.data||{}),k=Mb(c.startParam,p.startParam),l=Mb(c.endParam,p.endParam);if(k)h[k]=Math.round(+j/A);if(l)h[l]=Math.round(+m/A);B();b.ajax(b.extend({},Pc,c,{data:h,success:function(a){a=a||[];var c=Rb(q,this,arguments);if(b.isArray(c))a=c;d(a)},error:function(){Rb(r,this,arguments);d()},complete:function(){Rb(o,this,arguments);C()}}))}else d()}}function I(a){a=w(a);if(a){o++;v(a,q)}}function w(a){if(b.isFunction(a)||b.isArray(a))a={events:a};else if(typeof a==N)a={url:a};if(typeof a==z){H(a);h.push(a);return a}}function F(a){h=[a]}function G(a){h=b.grep(h,function(b){return!x(b,a)});f=b.grep(f,function(b){return!x(b.source,a)});l(f)}function Q(b){for(var i=f.length,a,e=R().defaultEventEnd,h=b.start-b._start,g=b.end?b.end-(b._end||e(b)):0,c=0;c<i;c++){a=f[c];if(a._id==b._id&&a!=b){a.start=new Date(+a.start+h);if(b.end)if(a.end)a.end=new Date(+a.end+g);else a.end=new Date(+e(a)+g);else a.end=d;a.title=b.title;a.url=b.url;a.allDay=b.allDay;a.className=b.className;a.editable=b.editable;a.color=b.color;a.backgroudColor=b.backgroudColor;a.borderColor=b.borderColor;a.textColor=b.textColor;k(a)}}k(b);l(f)}function P(a,b){k(a);if(!a.source){if(b){r.events.push(a);a.source=r}f.push(a)}l(f)}function L(d){if(!d){f=[];for(var c=0;c<h.length;c++)if(b.isArray(h[c].events))h[c].events=[]}else{if(!b.isFunction(d)){var g=d+e;d=function(a){return a._id==g}}f=b.grep(f,d,a);for(var c=0;c<h.length;c++)if(b.isArray(h[c].events))h[c].events=b.grep(h[c].events,d,a)}l(f)}function K(a){if(b.isFunction(a))return b.grep(f,a);else if(a){a+=e;return b.grep(f,function(b){return b._id==a})}return f}function B(){!y++&&E("loading",d,a)}function C(){!--y&&E("loading",d,c)}function k(a){var c=a.source||{},b=Mb(c.ignoreTimezone,p.ignoreTimezone);a._id=a._id||(a.id===n?"_fc"+Uc++:a.id+e);if(a.date){if(!a.start)a.start=a.date;delete a.date}a._start=g(a.start=Yb(a.start,b));a.end=Yb(a.end,b);if(a.end&&a.end<=a.start)a.end=d;a._end=a.end?g(a.end):d;if(a.allDay===n)a.allDay=Mb(c.allDayDefault,p.allDayDefault);if(a.className){if(typeof a.className==N)a.className=a.className.split(/\s+/)}else a.className=[]}function H(a){if(a.className){if(typeof a.className==N)a.className=a.className.split(/\s+/)}else a.className=[];for(var c=O.sourceNormalizers,b=0;b<c.length;b++)c[b](a)}function x(a,b){return a&&b&&t(a)==t(b)}function t(a){return(typeof a==z?a.events||a.url:e)||a}}O.addDays=i;O.cloneDate=g;O.parseDate=Yb;O.parseISO8601=tc;O.parseTime=Zb;O.formatDate=Gb;O.formatDates=Vb;var ed=["sun","mon","tue","wed","thu","fri","sat"],Dc=8.64e7,dd=3.6e6,Vc=6e4;function cc(a,c,b){a.setFullYear(a.getFullYear()+c);!b&&pb(a);return a}function Wb(a,e,d){if(+a){var c=a.getMonth()+e,b=g(a);b.setDate(1);b.setMonth(c);a.setMonth(c);!d&&pb(a);while(a.getMonth()!=b.getMonth())a.setDate(a.getDate()+(a<b?1:f))}return a}function i(a,e,d){if(+a){var c=a.getDate()+e,b=g(a);b.setHours(9);b.setDate(c);a.setDate(c);!d&&pb(a);ec(a,b)}return a}function ec(a,b){if(+a)while(a.getDate()!=b.getDate())a.setTime(+a+(a<b?1:f)*dd)}function w(a,b){a.setMinutes(a.getMinutes()+b);return a}function pb(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function g(a,b){return b?pb(new Date(+a)):new Date(+a)}function Bc(){var b=0,a;do a=new Date(1970,b++,1);while(a.getHours());return a}function lb(a,b,c){b=b||1;while(!a.getDay()||(c&&a.getDay()==1||!c&&a.getDay()==6))i(a,b);return a}function ab(b,c){return Math.round((g(b,a)-g(c,a))/Dc)}function Ec(a,c,b,d){if(c!==n&&c!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(c)}if(b!==n&&b!=a.getMonth()){a.setDate(1);a.setMonth(b)}d!==n&&a.setDate(d)}function Yb(b,c){if(typeof b==z)return b;if(typeof b==rb)return new Date(b*A);if(typeof b==N){if(b.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(b)*A);if(c===n)c=a;return tc(b,c)||(b?new Date(b):d)}return d}function tc(h,g){var a=h.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return d;var b=new Date(a[1],0,1);if(g||!a[13]){var c=new Date(a[1],0,1,9,0);if(a[3]){b.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){b.setDate(a[5]);c.setDate(a[5])}ec(b,c);a[7]&&b.setHours(a[7]);a[8]&&b.setMinutes(a[8]);a[p]&&b.setSeconds(a[p]);a[l]&&b.setMilliseconds(Number("0."+a[l])*A);ec(b,c)}else{b.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);b.setUTCHours(a[7]||0,a[8]||0,a[p]||0,a[l]?Number("0."+a[l])*A:0);if(a[14]){var e=Number(a[16])*60+(a[18]?Number(a[18]):0);e*=a[15]=="-"?1:f;b=new Date(+b+e*60*A)}}return b}function Zb(b){if(typeof b==rb)return b*60;if(typeof b==z)return b.getHours()*60+b.getMinutes();var a=b.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(a){var c=parseInt(a[1],p);if(a[3]){c%=l;if(a[3].toLowerCase().charAt(0)=="p")c+=l}return c*60+(a[2]?parseInt(a[2],p):0)}}function Gb(c,b,a){return Vb(c,d,b,a)}function Vb(l,n,c,h){h=h||Sb;for(var d=l,k=n,i=c.length,g,a,o,f=e,b=0;b<i;b++){g=c.charAt(b);if(g==m){for(a=b+1;a<i;a++)if(c.charAt(a)==m){if(d){if(a==b+1)f+=m;else f+=c.substring(b+1,a);b=a}break}}else if(g=="("){for(a=b+1;a<i;a++)if(c.charAt(a)==")"){var j=Gb(d,c.substring(b+1,a),h);if(parseInt(j.replace(/\D/,e),p))f+=j;b=a;break}}else if(g=="["){for(a=b+1;a<i;a++)if(c.charAt(a)=="]"){var q=c.substring(b+1,a),j=Gb(d,q,h);if(j!=Gb(k,q,h))f+=j;b=a;break}}else if(g=="{"){d=n;k=l}else if(g=="}"){d=l;k=n}else{for(a=i;a>b;a--)if(o=Mc[c.substring(b,a)]){if(d)f+=o(d,h);b=a-1;break}if(a==b)if(d)f+=g}}return f}var Mc={s:function(a){return a.getSeconds()},ss:function(a){return Ib(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ib(a.getMinutes())},h:function(a){return a.getHours()%l||l},hh:function(a){return Ib(a.getHours()%l||l)},H:function(a){return a.getHours()},HH:function(a){return Ib(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ib(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ib(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+e).substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<l?"a":"p"},tt:function(a){return a.getHours()<l?"am":"pm"},T:function(a){return a.getHours()<l?"A":"P"},TT:function(a){return a.getHours()<l?"AM":"PM"},u:function(a){return Gb(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(b){var a=b.getDate();return a>p&&a<20?bb:(["st","nd","rd"])[a%p-1]||bb}};O.applyAll=Rb;function Nb(a){return a.end?Tc(a.end,a.allDay):i(g(a.start),1)}function Tc(a,b){a=g(a);return b||a.getHours()||a.getMinutes()?i(a,1):pb(a)}function gd(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function vc(a,b){return a.end>b.start&&a.start<b.end}function ac(n,p,l,m){for(var o=[],q=n.length,j,b,d,e,f,i,k,h=0;h<q;h++){j=n[h];b=j.start;d=p[h];if(d>l&&b<m){if(b<l){e=g(l);i=c}else{e=b;i=a}if(d>m){f=g(m);k=c}else{f=d;k=a}o.push({event:j,start:e,end:f,isStart:i,isEnd:k,msLength:f-e})}}return o.sort(gd)}function bc(i){for(var d=[],j=i.length,e,b,g,f,h=0;h<j;h++){e=i[h];b=0;while(a){g=c;if(d[b])for(f=0;f<d[b].length;f++)if(vc(d[b][f],e)){g=a;break}if(g)b++;else break}if(d[b])d[b].push(e);else d[b]=[e]}return d}function uc(c,d,a){c.unbind("mouseover").mouseover(function(f){var c=f.target,g,h,e;while(c!=this){g=c;c=c.parentNode}if((h=g._fci)!==n){g._fci=n;e=d[h];a(e.event,e.element,e);b(f.target).trigger(f)}f.stopPropagation()})}function Lb(d,f,e){for(var c=0,a;c<d.length;c++){a=b(d[c]);a.width(Math.max(0,f-fc(a,e)))}}function lc(d,f,e){for(var c=0,a;c<d.length;c++){a=b(d[c]);a.height(Math.max(0,f-Ob(a,e)))}}function fc(a,b){return ad(a)+Yc(a)+(b?Zc(a):0)}function ad(c){return(parseFloat(b.curCSS(c[0],"paddingLeft",a))||0)+(parseFloat(b.curCSS(c[0],"paddingRight",a))||0)}function Zc(c){return(parseFloat(b.curCSS(c[0],"marginLeft",a))||0)+(parseFloat(b.curCSS(c[0],"marginRight",a))||0)}function Yc(c){return(parseFloat(b.curCSS(c[0],"borderLeftWidth",a))||0)+(parseFloat(b.curCSS(c[0],"borderRightWidth",a))||0)}function Ob(a,b){return cd(a)+bd(a)+(b?Ac(a):0)}function cd(c){return(parseFloat(b.curCSS(c[0],"paddingTop",a))||0)+(parseFloat(b.curCSS(c[0],"paddingBottom",a))||0)}function Ac(c){return(parseFloat(b.curCSS(c[0],"marginTop",a))||0)+(parseFloat(b.curCSS(c[0],"marginBottom",a))||0)}function bd(c){return(parseFloat(b.curCSS(c[0],"borderTopWidth",a))||0)+(parseFloat(b.curCSS(c[0],"borderBottomWidth",a))||0)}function Qb(b,a){a=typeof a==rb?a+K:a;b.each(function(c,b){b.style.cssText+=";min-height:"+a+";_height:"+a})}function Fc(){}function Hc(a,b){return a-b}function zc(a){return Math.max.apply(Math,a)}function Ib(a){return(a<p?"0":e)+a}function Ub(a,b){if(a[b]!==n)return a[b];for(var f=b.split(/(?=[A-Z])/),d=f.length-1,c;d>=0;d--){c=a[f[d].toLowerCase()];if(c!==n)return c}return a[e]}function Hb(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Cc(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,e)}function Tb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return c})}function Pb(a){a.children().removeClass("fc-first fc-last").filter(Jb).addClass(Kb).end().filter(":last-child").addClass(B)}function dc(a,b){a.each(function(c,a){a.className=a.className.replace(/^fc-\w*/,"fc-"+ed[b.getDay()])})}function yc(a,d){var c=a.source||{},i=a.color,h=c.color,g=d("eventColor"),e=a.backgroundColor||i||c.backgroundColor||h||d("eventBackgroundColor")||g,f=a.borderColor||i||c.borderColor||h||d("eventBorderColor")||g,j=a.textColor||c.textColor||d("eventTextColor"),b=[];e&&b.push("background-color:"+e);f&&b.push("border-color:"+f);j&&b.push("color:"+j);return b.join(";")}function Rb(a,e,f){if(b.isFunction(a))a=[a];if(a){for(var c,d=0;d<a.length;d++)c=a[d].apply(e,f)||c;return c}}function Mb(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==n)return arguments[a]}qb.month=Wc;function Wc(j,d){var b=this;b.render=k;Xb.call(b,j,d,nb);var c=b.opt,e=b.renderBasic,h=d.formatDate;function k(n,p){if(p){Wb(n,p);n.setDate(1)}var k=g(n,a);k.setDate(1);var q=Wb(g(k),1),j=g(k),d=g(q),o=c(D),l=c(u)?0:1;if(l){lb(j);lb(d,f,a)}i(j,-((j.getDay()-Math.max(o,l)+7)%7));i(d,(7-d.getDay()+Math.max(o,l))%7);var m=Math.round((d-j)/(Dc*7));if(c(sb)=="fixed"){i(d,(6-m)*7);m=6}b.title=h(k,c(E));b.start=k;b.end=q;b.visStart=j;b.visEnd=d;e(6,m,l?5:7,a)}}qb.basicWeek=Oc;function Oc(k,e){var b=this;b.render=l;Xb.call(b,k,e,"basicWeek");var d=b.opt,j=b.renderBasic,h=e.formatDates;function l(m,o){o&&i(m,o*7);var l=i(g(m),-((m.getDay()-d(D)+7)%7)),p=i(g(l),7),e=g(l),k=g(p),n=d(u);if(!n){lb(e);lb(k,f,a)}b.title=h(e,i(g(k),f),d(E));b.start=l;b.end=p;b.visStart=e;b.visEnd=k;j(1,1,n?7:5,c)}}qb.basicDay=Qc;function Qc(k,d){var b=this;b.render=l;Xb.call(b,k,d,"basicDay");var e=b.opt,h=b.renderBasic,j=d.formatDate;function l(d,k){if(k){i(d,k);!e(u)&&lb(d,k<0?f:1)}b.title=j(d,e(E));b.start=b.visStart=g(d,a);b.end=b.visEnd=i(g(b.start),1);h(1,1,1,c)}}wc({weekMode:"fixed"});function Xb(m,jb,ac){var c=this;c.renderBasic=Nb;c.setHeight=Wb;c.setWidth=Zb;c.renderDayOverlay=X;c.defaultSelectionEnd=rb;c.renderSelection=Bb;c.clearSelection=Cb;c.reportDayClick=Eb;c.dragStart=Vb;c.dragStop=Yb;c.defaultEventEnd=Ab;c.getHoverListener=function(){return y};c.colContentLeft=Db;c.colContentRight=zb;c.dayOfWeekCol=Z;c.dateCell=lb;c.cellDate=kb;c.cellIsAllDay=function(){return a};c.allDayRow=Ub;c.allDayBounds=Ib;c.getRowCnt=function(){return h};c.getColCnt=function(){return d};c.getColWidth=function(){return K};c.getDaySegmentContainer=function(){return Q};Gc.call(c,m,jb,ac);kc.call(c);ic.call(c);Jc.call(c);var l=c.opt,N=c.trigger,Mb=c.clearEvents,Gb=c.renderOverlay,E=c.clearOverlays,qb=c.daySelectionMousedown,Sb=jb.formatDate,s,z,A,k,p,Y,V,Q,I,cb,K,h,d,w,y,v,O,n,o,mb,ob,t,hb;Tb(m.addClass("fc-grid"));function Nb(c,f,e,b){h=f;d=e;Hb();var a=!A;if(a)Fb(c,b);else Mb();Rb(a)}function Hb(){O=l(q);if(O){n=f;o=d-1}else{n=1;o=0}mb=l(D);ob=l(u)?0:1;t=l("theme")?P:C;hb=l(tb)}function Fb(n,l){var c,i=t+ub,h=t+vb,a,f,g;c="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead>"+R;for(a=0;a<d;a++)c+="<th class='fc- "+i+J;c+=x+wb+db;for(a=0;a<n;a++){c+="<tr class='fc-week"+a+r;for(f=0;f<d;f++)c+="<td class='fc- "+h+" fc-day"+(a*d+f)+r+"<div>"+(l?"<div class='fc-day-number'/>":e)+xb+eb+j+j+S;c+=x}c+=fb+T;g=b(c).appendTo(m);s=g.find("thead");z=s.find(bb);A=g.find("tbody");k=A.find(F);p=A.find(U);Y=p.filter(Jb);V=k.eq(0).find(yb);Pb(s.add(s.find(F)));Pb(k);k.eq(0).addClass(Kb);nb(p);Q=b(gb).appendTo(m)}function Rb(g){var f=g||h==1,i=c.start.getMonth(),j=pb(new Date),a,d,e;f&&z.each(function(e,c){a=b(c);d=H(e);a.html(Sb(d,hb));dc(a,d)});p.each(function(g,e){var c="fc-other-month";a=b(e);d=H(g);if(d.getMonth()==i)a.removeClass(c);else a.addClass(c);if(+d==+j)a.addClass(t+L);else a.removeClass(t+L);a.find("div.fc-day-number").text(d.getDate());f&&dc(a,d)});k.each(function(a,c){e=b(c);if(a<h){e.show();if(a==h-1)e.addClass(B);else e.removeClass(B)}else e.hide()})}function Wb(f){cb=f;var d=cb-s.height(),a,c,e;if(l(sb)=="variable")a=c=Math.floor(d/(h==1?2:6));else{a=Math.floor(d/h);c=d-a*(h-1)}Y.each(function(d,f){if(d<h){e=b(f);Qb(e.find("> div"),(d==h-1?c:a)-Ob(e))}})}function Zb(a){I=a;v.clear();K=Math.floor(I/d);Lb(z.slice(0,f),K)}function nb(a){a.click(Xb).mousedown(qb)}function Xb(d){if(!l(M)){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),c=H(b);N(G,this,c,a,d)}}function X(p,q,m){m&&w.build();for(var a=g(c.visStart),l=i(g(a),d),b=0;b<h;b++){var e=new Date(Math.max(a,p)),f=new Date(Math.min(l,q));if(e<f){var j,k;if(O){j=ab(f,a)*n+o+1;k=ab(e,a)*n+o+1}else{j=ab(e,a);k=ab(f,a)}nb(W(b,j,b,k-1))}i(a,7);i(l,7)}}function W(d,a,e,b){var c=w.rect(d,a,e,b,m);return Gb(c,m)}function rb(a){return g(a)}function Bb(b,c){X(b,i(g(c),1),a)}function Cb(){E()}function Eb(b,e,f){var a=lb(b),c=p[a.row*d+a.col];N(G,c,b,e,f)}function Vb(b,a){y.start(function(a){E();a&&W(a.row,a.col,a.row,a.col)},a)}function Yb(c,d,e){var b=y.stop();E();if(b){var f=kb(b);N("drop",c,f,a,d,e)}}function Ab(a){return g(a.start)}w=new jc(function(f,e){var d,a,c;z.each(function(f,g){d=b(g);a=d.offset().left;if(f)c[1]=a;c=[a];e[f]=c});c[1]=a+d.outerWidth();k.each(function(e,g){if(e<h){d=b(g);a=d.offset().top;if(e)c[1]=a;c=[a];f[e]=c}});c[1]=a+d.outerHeight()});y=new sc(w);v=new gc(function(a){return V.eq(a)});function Db(a){return v.left(a)}function zb(a){return v.right(a)}function lb(a){return{row:Math.floor(ab(a,c.visStart)/7),col:Z(a.getDay())}}function kb(a){return ib(a.row,a.col)}function ib(b,a){return i(g(c.visStart),b*7+a*n+o)}function H(a){return ib(Math.floor(a/d),a%d)}function Z(a){return(a-Math.max(mb,ob)+d)%d*n+o}function Ub(a){return k.eq(a)}function Ib(){return{left:0,right:I}}}function Jc(){var a=this;a.renderEvents=w;a.compileDaySegs=h;a.clearEvents=y;a.bindDaySeg=z;hc.call(a);var c=a.opt,j=a.trigger,r=a.isEventDraggable,s=a.isEventResizable,x=a.reportEvents,u=a.reportEventClear,m=a.eventElementHandlers,B=a.showEvents,A=a.hideEvents,C=a.eventDrop,l=a.getDaySegmentContainer,p=a.getHoverListener,t=a.renderDayOverlay,d=a.clearOverlays,E=a.getRowCnt,D=a.getColCnt,v=a.renderDaySegs,o=a.resizableDayEvent;function w(a,b){x(a);v(h(a),b)}function y(){u();l().empty()}function h(l){for(var q=E(),p=D(),j=g(a.visStart),n=i(g(j),p),o=b.map(l,Nb),h,c,f,e,d,m=[],k=0;k<q;k++){h=bc(ac(l,o,j,n));for(c=0;c<h.length;c++){f=h[c];for(e=0;e<f.length;e++){d=f[e];d.row=k;d.level=c;m.push(d)}}i(j,7);i(n,7)}return m}function z(a,b,c){r(a)&&n(a,b);c.isEnd&&s(a)&&o(a,b,c);m(a,b)}function n(a,b){var l=p(),h;b.draggable({zIndex:9,delay:50,opacity:c(V),revertDuration:c(hb),start:function(e,m){j(W,b,a,e,m);A(a,b);l.start(function(l,m,j,e){b.draggable(k,H,!l||!j&&!e);d();if(l){h=j*7+e*(c(q)?f:1);t(i(g(a.start),h),i(Nb(a),h))}else h=0},e,X)},stop:function(c,f){l.stop();d();j(Y,b,a,c,f);if(h)C(this,a,h,0,a.allDay,c,f);else{b.css(Z,e);B(a,b)}}})}}qb.agendaWeek=Lc;function Lc(j,d){var b=this;b.render=k;xc.call(b,j,d,"agendaWeek");var c=b.opt,e=b.renderAgenda,h=d.formatDates;function k(l,n){n&&i(l,n*7);var k=i(g(l),-((l.getDay()-c(D)+7)%7)),o=i(g(k),7),d=g(k),j=g(o),m=c(u);if(!m){lb(d);lb(j,f,a)}b.title=h(d,i(g(j),f),c(E));b.start=k;b.end=o;b.visStart=d;b.visEnd=j;e(m?7:5)}}qb.agendaDay=Nc;function Nc(j,c){var b=this;b.render=k;xc.call(b,j,c,"agendaDay");var d=b.opt,e=b.renderAgenda,h=c.formatDate;function k(c,j){if(j){i(c,j);!d(u)&&lb(c,j<0?f:1)}var k=g(c,a),l=i(g(k),1);b.title=h(c,d(E));b.start=b.visStart=k;b.end=b.visEnd=l;e(1)}}wc({allDaySlot:a,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24});function xc(Cb,oc,Xc){var k=this;k.renderAgenda=Kc;k.setWidth=Vc;k.setHeight=Sc;k.beforeHide=Pc;k.afterShow=Qc;k.defaultEventEnd=yc;k.timePosition=X;k.dayOfWeekCol=Hb;k.dateCell=Tc;k.cellDate=jb;k.cellIsAllDay=ob;k.allDayRow=Jc;k.allDayBounds=Fc;k.getHoverListener=function(){return W};k.colContentLeft=Cc;k.colContentRight=xc;k.getDaySegmentContainer=function(){return Eb};k.getSlotSegmentContainer=function(){return Qb};k.getMinMinute=function(){return N};k.getMaxMinute=function(){return Ab};k.getBodyContent=function(){return v};k.getRowCnt=function(){return 1};k.getColCnt=function(){return m};k.getColWidth=function(){return Bb};k.getSlotHeight=function(){return hb};k.defaultSelectionEnd=wc;k.renderDayOverlay=Xb;k.renderSelection=zc;k.clearSelection=Yb;k.reportDayClick=ac;k.dragStart=Rc;k.dragStop=Uc;Gc.call(k,Cb,oc,Xc);kc.call(k);ic.call(k);Ic.call(k);var l=k.opt,Db=k.trigger,Lc=k.clearEvents,cc=k.renderOverlay,Gb=k.clearOverlays,Ac=k.reportSelection,Wc=k.unselect,vc=k.daySelectionMousedown,Nc=k.slotSegHtml,ec=oc.formatDate,Z,lb,qb,kb,H,Ub,Fb,Nb,y,Eb,rb,zb,p,v,Qb,O,Sb,Q,Y,o,nc,fc,K,Bb,sb,hb,bc,m,Mb,E,W,nb,Ib={},mb,pc,rc,tc,z,A,N,Ab,hc;Tb(Cb.addClass("fc-agenda"));function Kc(a){m=a;Ec();if(!Z)Dc();else Lc();Oc()}function Ec(){mb=l("theme")?P:C;rc=l(u)?0:1;pc=l(D);if(tc=l(q)){z=f;A=m-1}else{z=1;A=0}N=Zb(l("minTime"));Ab=Zb(l("maxTime"));hc=l(tb)}function Dc(){var q="<th class='",k="th:first",i="'>&nbsp;</th>",d="<th class='fc-agenda-axis ",n=mb+ub,u=mb+vb,a,c,o,A,z,B=l(h)%15==0;a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead>"+R+d+n+i;for(c=0;c<m;c++)a+="<th class='fc- fc-col"+c+s+n+J;a+="<th class='fc-agenda-gutter "+n+i+x+wb+db+R+d+n+i;for(c=0;c<m;c++)a+="<td class='fc- fc-col"+c+s+u+r+"<div>"+xb+eb+j+j+S;a+="<td class='fc-agenda-gutter "+u+"'>&nbsp;</td>"+x+fb+T;Z=b(a).appendTo(Cb);lb=Z.find("thead");qb=lb.find(bb).slice(1,f);kb=Z.find("tbody");H=kb.find(U).slice(0,f);Ub=H.find(yb);Fb=H.eq(0);Nb=Fb.find("> div");Pb(lb.add(lb.find(F)));Pb(kb.add(kb.find(F)));Q=lb.find(k);Y=Z.find(".fc-agenda-gutter");y=b("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(Cb);if(l(t)){Eb=b(gb).appendTo(y);a="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>"+R+q+n+" fc-agenda-axis'>"+l("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div>"+S+q+n+" fc-agenda-gutter'>&nbsp;</th>"+x+T;rb=b(a).appendTo(y);zb=rb.find(F);qc(zb.find(U));Q=Q.add(rb.find(k));Y=Y.add(rb.find("th.fc-agenda-gutter"));y.append("<div class='fc-agenda-divider "+n+r+"<div class='fc-agenda-divider-inner'/>"+j)}else Eb=b([]);p=b("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(y);v=b("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(p);Qb=b(gb).appendTo(v);a="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>"+db;o=Bc();A=w(g(o),Ab);w(o,N);Mb=0;for(c=0;o<A;c++){z=o.getMinutes();a+="<tr class='fc-slot"+c+s+(!z?e:"fc-minor")+r+d+n+r+(!B||!z?ec(o,l("axisFormat")):"&nbsp;")+"</th><td class='"+u+r+eb+S+x;w(o,l(h));Mb++}a+=fb+T;O=b(a).appendTo(v);Sb=O.find("div:first");Jb(O.find(U));Q=Q.add(O.find(k))}function Oc(){for(var d,b,c,e=pb(new Date),a=0;a<m;a++){c=Kb(a);d=qb.eq(a);d.html(ec(c,hc));b=H.eq(a);if(+c==+e)b.addClass(mb+L);else b.removeClass(mb+L);dc(d.add(b),c)}}function Sc(a,e){if(a===n)a=fc;fc=a;Ib={};var d=kb.position().top,b=p.position().top,c=Math.min(a-d,O.height()+b+1);Nb.height(c-Ob(Fb));y.css("top",d);p.height(c-b-1);hb=Sb.height()+1;e&&Mc()}function Vc(c){nc=c;nb.clear();K=0;Lb(Q.width(e).each(function(c,a){K=Math.max(K,b(a).outerWidth())}),K);var a=p[0].clientWidth;sb=p.width()-a;if(sb){Lb(Y,sb);Y.show().prev().removeClass(B)}else Y.hide().prev().addClass(B);Bb=Math.floor((a-K)/m);Lb(qb.slice(0,f),Bb)}function Mc(){var c=Bc(),a=g(c);a.setHours(l("firstHour"));var d=X(c,a)+1;function b(){p.scrollTop(d)}b();setTimeout(b,0)}function Pc(){bc=p.scrollTop()}function Qc(){p.scrollTop(bc)}function qc(a){a.click(mc).mousedown(vc)}function Jb(a){a.click(mc).mousedown(uc)}function mc(e){if(!l(M)){var d=Math.min(m-1,Math.floor((e.pageX-Z.offset().left-K)/Bb)),b=Kb(d),f=this.parentNode.className.match(/fc-slot(\d+)/);if(f){var g=parseInt(f[1])*l(h),i=Math.floor(g/60);b.setHours(i);b.setMinutes(g%60+N);Db(G,H[d],b,c,e)}else Db(G,H[d],b,a,e)}}function Xb(d,e,f){f&&E.build();var c=g(k.visStart),a,b;if(tc){a=ab(e,c)*z+A+1;b=ab(d,c)*z+A+1}else{a=ab(d,c);b=ab(e,c)}a=Math.max(0,a);b=Math.min(m,b);a<b&&qc(Vb(0,a,0,b-1))}function Vb(d,a,e,b){var c=E.rect(d,a,e,b,y);return cc(c,y)}function Wb(l,n){for(var a=g(k.visStart),f=i(g(a),1),c=0;c<m;c++){var d=new Date(Math.max(a,l)),e=new Date(Math.min(f,n));if(d<e){var h=c*z+A,b=E.rect(0,h,0,h,v),j=X(a,d),o=X(a,e);b.top=j;b.height=o-j;Jb(cc(b,v))}i(a,1);i(f,1)}}E=new jc(function(i,k){var c,a,e;qb.each(function(d,f){c=b(f);a=c.offset().left;if(d)e[1]=a;e=[a];k[d]=e});e[1]=a+c.outerWidth();if(l(t)){c=zb;a=c.offset().top;i[0]=[a,a+c.outerHeight()]}var g=v.offset().top,f=p.offset().top,j=f+p.outerHeight();function h(a){return Math.max(f,Math.min(j,a))}for(var d=0;d<Mb;d++)i.push([h(g+hb*d),h(g+hb*(d+1))])});W=new sc(E);nb=new gc(function(a){return Ub.eq(a)});function Cc(a){return nb.left(a)}function xc(a){return nb.right(a)}function Tc(a){return{row:Math.floor(ab(a,k.visStart)/7),col:Hb(a.getDay())}}function jb(b){var c=Kb(b.col),a=b.row;if(l(t))a--;a>=0&&w(c,N+a*l(h));return c}function Kb(a){return i(g(k.visStart),a*z+A)}function ob(a){return l(t)&&!a.row}function Hb(a){return(a-Math.max(pc,rc)+m)%m*z+A}function X(c,b){c=g(c,a);if(b<w(g(c),N))return 0;if(b>=w(g(c),Ab))return O.height();var d=l(h),i=b.getHours()*60+b.getMinutes()-N,f=Math.floor(i/d),e=Ib[f];if(e===n)e=Ib[f]=O.find("tr:eq("+f+") td div")[0].offsetTop;return Math.max(0,Math.round(e-1+hb*(i%d/d)))}function Fc(){return{left:K,right:nc-sb}}function Jc(){return zb}function yc(a){var b=g(a.start);return a.allDay?b:w(b,l(I))}function wc(a,b){return b?g(a):w(g(a),l(h))}function zc(b,c,d){if(d)l(t)&&Xb(b,i(g(c),1),a);else Rb(b,c)}function Rb(f,g){var i=l("selectHelper");E.build();if(i){var h=ab(f,k.visStart)*z+A;if(h>=0&&h<m){var d=E.rect(0,h,0,h,v),j=X(f,f),p=X(f,g);if(p>j){d.top=j;d.height=p-j;d.left+=2;d.width-=5;if(b.isFunction(i)){var n=i(f,g);if(n){d.position=ib;d.zIndex=8;o=b(n).css(d).appendTo(v)}}else{d.isStart=a;d.isEnd=a;o=b(Nc({title:e,start:f,end:g,className:["fc-select-helper"],editable:c},d));o.css("opacity",l(V))}if(o){Jb(o);v.append(o);Lb(o,d.width,a);lc(o,d.height,a)}}}}else Wb(f,g)}function Yb(){Gb();if(o){o.remove();o=d}}function uc(e){if(e.which==1&&l(M)){Wc(e);var a;W.start(function(b,c){Yb();if(b&&b.col==c.col&&!ob(b)){var e=jb(c),f=jb(b);a=[e,w(g(e),l(h)),f,w(g(f),l(h))].sort(Hc);Rb(a[0],a[3])}else a=d},e);b(document).one(cb,function(b){W.stop();if(a){+a[0]==+a[1]&&ac(a[0],c,b);Ac(a[0],a[3],c,b)}})}}function ac(a,b,c){Db(G,H[Hb(a.getDay())],a,b,c)}function Rc(b,a){W.start(function(a){Gb();if(a)if(ob(a))Vb(a.row,a.col,a.row,a.col);else{var b=jb(a),c=w(g(b),l(I));Wb(b,c)}},a)}function Uc(b,c,d){var a=W.stop();Gb();a&&Db("drop",b,jb(a),ob(a),c,d)}}function Ic(){var u="grid",z="div.fc-event-time",o=this;o.renderEvents=vb;o.compileDaySegs=P;o.clearEvents=yb;o.slotSegHtml=U;o.bindDaySeg=Ib;hc.call(o);var r=o.opt,x=o.trigger,B=o.isEventDraggable,C=o.isEventResizable,Lb=o.eventEnd,wb=o.reportEvents,mb=o.reportEventClear,M=o.eventElementHandlers,Kb=o.setHeight,cb=o.getDaySegmentContainer,L=o.getSlotSegmentContainer,N=o.getHoverListener,ub=o.getMaxMinute,Q=o.getMinMinute,R=o.timePosition,qb=o.colContentLeft,ob=o.colContentRight,tb=o.renderDaySegs,lb=o.resizableDayEvent,J=o.getColCnt,T=o.getColWidth,D=o.getSlotHeight,rb=o.getBodyContent,eb=o.reportEventElement,G=o.showEvents,F=o.hideEvents,ab=o.eventDrop,Gb=o.eventResize,O=o.renderDayOverlay,A=o.clearOverlays,bb=o.calendar,Jb=bb.formatDate,E=bb.formatDates;function vb(a,c){wb(a);for(var f=a.length,e=[],d=[],b=0;b<f;b++)if(a[b].allDay)e.push(a[b]);else d.push(a[b]);if(r(t)){tb(P(e),c);Kb()}sb(pb(d),c)}function yb(){mb();cb().empty();L().empty()}function P(f){for(var g=bc(ac(f,b.map(f,Nb),o.visStart,o.visEnd)),i=g.length,e,d,a,h=[],c=0;c<i;c++){e=g[c];for(d=0;d<e.length;d++){a=e[d];a.row=0;a.level=c;h.push(a)}}return h}function pb(m){for(var r=J(),l=Q(),q=ub(),j=w(g(o.visStart),l),p=b.map(m,xb),d,c,h,f,e,n=[],k=0;k<r;k++){d=bc(ac(m,p,j,w(g(j),q-l)));Kc(d);for(c=0;c<d.length;c++){h=d[c];for(f=0;f<h.length;f++){e=h[f];e.col=k;e.level=c;n.push(e)}}i(j,1,a)}return n}function xb(a){return a.end?g(a.end):w(g(a.start),r(I))}function sb(k,V){var h,A=k.length,d,i,X,H,O,G,u,t,E,j,o,Q,P=e,I,g,s,N={},M={},C,m,D,F,w=L(),T,v,B,W=J();if(T=r(q)){v=f;B=W-1}else{v=1;B=0}for(h=0;h<A;h++){d=k[h];i=d.event;H=R(d.start,d.start);O=R(d.start,d.end);G=d.col;u=d.level;t=d.forward||0;E=qb(G*v+B);j=ob(G*v+B)-E;j=Math.min(j-6,j*.95);if(u)o=j/(u+t+1);else if(t)o=(j/(t+1)-l/2)*2;else o=j;Q=E+j/(u+t+1)*u*v+(T?j-o:0);d.top=H;d.left=Q;d.outerWidth=o;d.outerHeight=O-H;P+=U(i,d)}w[0].innerHTML=P;I=w.children();for(h=0;h<A;h++){d=k[h];i=d.event;g=b(I[h]);s=x(zb,i,i,g);if(s===c)g.remove();else{if(s&&s!==a){g.remove();g=b(s).css({position:ib,top:d.top,left:d.left}).appendTo(w)}d.element=g;if(i._id===V)S(i,g,d);else g[0]._fci=h;eb(i,g)}}uc(w,k,S);for(h=0;h<A;h++){d=k[h];if(g=d.element){m=N[C=d.key=Cc(g[0])];d.vsides=m===n?(N[C]=Ob(g,a)):m;m=M[C];d.hsides=m===n?(M[C]=fc(g,a)):m;D=g.find("div.fc-event-content");if(D.length)d.contentTop=D[0].offsetTop}}for(h=0;h<A;h++){d=k[h];if(g=d.element){g[0].style.width=Math.max(0,d.outerWidth-d.hsides)+K;F=Math.max(0,d.outerHeight-d.vsides);g[0].style.height=F+K;i=d.event;if(d.contentTop!==n&&F-d.contentTop<p){g.find(z).text(Jb(i.start,r(y))+" - "+i.title);g.find("div.fc-event-title").remove()}x(Ab,i,i,g)}}}function U(a,d){var c="<",h=a.url,f=yc(a,r),g=f?Bb+f+m:e,b=[Cb,Db,"fc-event-vert"];B(a)&&b.push(Eb);d.isStart&&b.push("fc-corner-top");d.isEnd&&b.push("fc-corner-bottom");b=b.concat(a.className);if(a.source)b=b.concat(a.source.className||[]);if(h)c+="a href='"+Hb(a.url)+m;else c+="div";c+=Fb+b.join(s)+m+" style='position:absolute;z-index:8;top:"+d.top+"px;left:"+d.left+"px;"+f+m+v+"<div class='fc-event-inner fc-event-skin'"+g+v+"<div class='fc-event-head fc-event-skin'"+g+v+"<div class='fc-event-time'>"+Hb(E(a.start,a.end,r(y)))+j+j+"<div class='fc-event-content'><div class='fc-event-title'>"+Hb(a.title)+j+j+"<div class='fc-event-bg'></div>"+j;if(d.isEnd&&C(a))c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";c+="</"+(h?"a":"div")+v;return c}function Ib(a,b,c){B(a)&&gb(a,b,c.isStart);c.isEnd&&C(a)&&lb(a,b,c);M(a,b)}function S(a,b,d){var c=b.find(z);B(a)&&db(a,b,c);d.isEnd&&C(a)&&fb(a,b,c);M(a,b)}function gb(j,b,z){var v,m,l=a,n,B=r(q)?f:1,s=N(),w=T(),t=D(),y=Q();b.draggable({zIndex:9,opacity:r(V,nb),revertDuration:r(hb),start:function(d,e){x(W,b,j,d,e);F(j,b);v=b.width();s.start(function(d,f,q,e){A();if(d){m=c;n=e*B;if(!d.row){O(i(g(j.start),n),i(Nb(j),n));o()}else if(z){if(l){b.width(w-p);lc(b,t*Math.round((j.end?(j.end-j.start)/Vc:r(I))/r(h)));b.draggable(k,u,[w,1]);l=c}}else m=a;m=m||l&&!n}else{o();m=a}b.draggable(k,H,m)},d,X)},stop:function(c,d){s.stop();A();x(Y,b,j,c,d);if(m){o();b.css(Z,e);G(j,b)}else{var a=0;if(!l)a=Math.round((b.offset().top-rb().offset().top)/t)*r(h)+y-(j.start.getHours()*60+j.start.getMinutes());ab(this,j,n,a,l,c,d)}}});function o(){if(!l){b.width(v).height(e).draggable(k,u,d);l=a}}}function db(j,b,s){var p,l=c,n,m,o,L=r(q)?f:1,B=N(),K=J(),I=T(),v=D();b.draggable({zIndex:9,scroll:c,grid:[I,v],axis:K==1?"y":c,opacity:r(V),revertDuration:r(hb),start:function(c,e){x(W,b,j,c,e);F(j,b);p=b.position();m=o=0;B.start(function(c,f,h,e){b.draggable(k,H,!c);A();if(c){n=e*L;if(r(t)&&!c.row){if(!l){l=a;s.hide();b.draggable(k,u,d)}O(i(g(j.start),n),i(Nb(j),n))}else C()}},c,X)},drag:function(b,a){m=Math.round((a.position.top-p.top)/v)*r(h);if(m!=o){!l&&z(m);o=m}},stop:function(a,c){var d=B.stop();A();x(Y,b,j,a,c);if(d&&(n||m||l))ab(this,j,n,l?0:m,l,a,c);else{C();b.css(Z,e);b.css(p);z(0);G(j,b)}}});function z(a){var c=w(g(j.start),a),b;if(j.end)b=w(g(j.end),a);s.text(E(c,b,r(y)))}function C(){if(l){s.css("display",e);b.draggable(k,u,[I,v]);l=c}}}function fb(b,c,g){var a,e,f=D();c.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(d,f){a=e=0;F(b,c);c.css("z-index",9);x(kb,this,b,d,f)},resize:function(j,i){a=Math.round((Math.max(f,c.height())-i.originalSize.height)/f);if(a!=e){g.text(E(b.start,!a&&!b.end?d:w(Lb(b),r(h)*a),r(y)));e=a}},stop:function(d,e){x(jb,this,b,d,e);if(a)Gb(this,b,0,r(h)*a,d,e);else{c.css("z-index",8);G(b,c)}}})}}function Kc(c){for(var d,e,g,f,b,a=c.length-1;a>0;a--){g=c[a];for(d=0;d<g.length;d++){f=g[d];for(e=0;e<c[a-1].length;e++){b=c[a-1][e];if(vc(f,b))b.forward=Math.max(b.forward||0,(f.forward||0)+1)}}}}function Gc(H,d,t){var b=this;b.element=H;b.calendar=d;b.name=t;b.opt=j;b.trigger=e;b.isEventDraggable=x;b.isEventResizable=y;b.reportEvents=C;b.eventEnd=s;b.reportEventElement=v;b.reportEventClear=A;b.eventElementHandlers=u;b.showEvents=F;b.hideEvents=E;b.eventDrop=G;b.eventResize=D;var B=b.defaultEventEnd,p=d.normalizeEvent,h=d.reportEventChange,c={},q=[],f={},k=d.options;function j(c,b){var a=k[c];return typeof a==z?Ub(a,b||t):a}function e(c,a){return d.trigger.apply(d,[c,a||b].concat(Array.prototype.slice.call(arguments,2),[b]))}function x(a){return m(a)&&!j("disableDragging")}function y(a){return m(a)&&!j("disableResizing")}function m(a){return Mb(a.editable,(a.source||{}).editable,j("editable"))}function C(d){c={};for(var e=d.length,a,b=0;b<e;b++){a=d[b];if(c[a._id])c[a._id].push(a);else c[a._id]=[a]}}function s(a){return a.end?g(a.end):B(a)}function v(b,a){q.push(a);if(f[b._id])f[b._id].push(a);else f[b._id]=[a]}function A(){q=[];f={}}function u(b,a){a.click(function(c){if(!a.hasClass("ui-draggable-dragging")&&!a.hasClass("ui-resizable-resizing"))return e("eventClick",this,b,c)}).hover(function(a){e("eventMouseover",this,b,a)},function(a){e("eventMouseout",this,b,a)})}function F(b,a){l(b,a,"show")}function E(b,a){l(b,a,"hide")}function l(e,c,d){for(var b=f[e._id],g=b.length,a=0;a<g;a++)(!c||b[a][0]!=c[0])&&b[a][d]()}function G(l,f,d,b,g,j,k){var i=f.allDay,a=f._id;r(c[a],d,b,g);e("eventDrop",l,f,d,b,g,function(){r(c[a],-d,-b,i);h(a)},j,k);h(a)}function D(j,f,d,b,g,i){var a=f._id;o(c[a],d,b);e("eventResize",j,f,d,b,function(){o(c[a],-d,-b);h(a)},g,i);h(a)}function r(g,e,c,f){c=c||0;for(var b,h=g.length,d=0;d<h;d++){b=g[d];if(f!==n)b.allDay=f;w(i(b.start,e,a),c);if(b.end)b.end=w(i(b.end,e,a),c);p(b,k)}}function o(e,f,c){c=c||0;for(var b,g=e.length,d=0;d<g;d++){b=e[d];b.end=w(i(s(b),f,a),c);p(b,k)}}}function hc(){var h=this;h.renderDaySegs=W;h.resizableDayEvent=O;var p=h.opt,l=h.trigger,P=h.isEventDraggable,R=h.isEventResizable,fb=h.eventEnd,M=h.reportEventElement,bb=h.showEvents,ab=h.hideEvents,Y=h.eventResize,t=h.getRowCnt,J=h.getColCnt,gb=h.getColWidth,db=h.allDayRow,X=h.allDayBounds,C=h.colContentLeft,A=h.colContentRight,k=h.dayOfWeekCol,eb=h.dateCell,U=h.compileDaySegs,u=h.getDaySegmentContainer,F=h.bindDaySeg,Z=h.calendar.formatDates,S=h.renderDayOverlay,D=h.clearOverlays,T=h.clearSelection;function W(a,k){var h=u(),i,n=t(),l=J(),j=0,d,m,c,f,o=a.length,b,e,g;h[0].innerHTML=G(a);w(a,h.children());L(a);V(a,h,k);z(a);B(a);x(a);i=H();for(d=0;d<n;d++){m=0;c=[];for(f=0;f<l;f++)c[f]=0;while(j<o&&(b=a[j]).row==d){e=zc(c.slice(b.startCol,b.endCol));b.top=e;e+=b.outerHeight;for(g=b.startCol;g<b.endCol;g++)c[g]=e;j++}i[d].height(zc(c))}E(a,I(i))}function N(a,h,i){var f=b("<div/>"),c,g=u(),d,j=a.length,e;f[0].innerHTML=G(a);c=f.children();g.append(c);w(a,c);z(a);B(a);x(a);E(a,I(H()));c=[];for(d=0;d<j;d++){e=a[d].element;if(e){a[d].row===h&&e.css("top",i);c.push(e[0])}}return b(c)}function G(D){var g="fc-corner-left",f="fc-corner-right";for(var E=p(q),F=D.length,a,b,t,c,B=X(),z=B.left,x=B.right,i,h,l,u,n,d=e,w=0;w<F;w++){a=D[w];b=a.event;c=[Cb,Db,"fc-event-hori"];P(b)&&c.push(Eb);if(E){a.isStart&&c.push(f);a.isEnd&&c.push(g);i=k(a.end.getDay()-1);h=k(a.start.getDay());l=a.isEnd?C(i):z;u=a.isStart?A(h):x}else{a.isStart&&c.push(g);a.isEnd&&c.push(f);i=k(a.start.getDay());h=k(a.end.getDay()-1);l=a.isStart?C(i):z;u=a.isEnd?A(h):x}c=c.concat(b.className);if(b.source)c=c.concat(b.source.className||[]);t=b.url;n=yc(b,p);if(t)d+="<a href='"+Hb(t)+m;else d+="<div";d+=Fb+c.join(s)+m+" style='position:absolute;z-index:8;left:"+l+"px;"+n+m+v+"<div class='fc-event-inner fc-event-skin'"+(n?Bb+n+m:e)+v;if(!b.allDay&&a.isStart)d+="<span class='fc-event-time'>"+Hb(Z(b.start,b.end,p(y)))+o;d+="<span class='fc-event-title'>"+Hb(b.title)+o+j;if(a.isEnd&&R(b))d+="<div class='ui-resizable-handle ui-resizable-"+(E?"w":"e")+r+"&nbsp;&nbsp;&nbsp;"+j;d+="</"+(t?"a":"div")+v;a.left=l;a.outerWidth=u-l;a.startCol=i;a.endCol=h+1}return d}function w(i,j){for(var k=i.length,f,h,e,d,g=0;g<k;g++){f=i[g];h=f.event;e=b(j[g]);d=l(zb,h,h,e);if(d===c)e.remove();else{if(d&&d!==a){d=b(d).css({position:ib,left:f.left});e.replaceWith(d);e=d}f.element=e}}}function L(d){for(var e=d.length,b,a,c=0;c<e;c++){b=d[c];a=b.element;a&&M(b.event,a)}}function V(e,f,g){for(var h=e.length,b,a,d,c=0;c<h;c++){b=e[c];a=b.element;if(a){d=b.event;if(d._id===g)F(d,a,b);else a[0]._fci=c}}uc(f,e,F)}function z(h){for(var i=h.length,c,b,e,d,g={},f=0;f<i;f++){c=h[f];b=c.element;if(b){e=c.key=Cc(b[0]);d=g[e];if(d===n)d=g[e]=fc(b,a);c.hsides=d}}}function B(d){for(var e=d.length,a,b,c=0;c<e;c++){a=d[c];b=a.element;if(b)b[0].style.width=Math.max(0,a.outerWidth-a.hsides)+K}}function x(g){for(var h=g.length,b,a,d,c,f={},e=0;e<h;e++){b=g[e];a=b.element;if(a){d=b.key;c=f[d];if(c===n)c=f[d]=Ac(a);b.outerHeight=a[0].offsetHeight+c}}}function H(){for(var c=t(),b=[],a=0;a<c;a++)b[a]=db(a).find("td:first div.fc-day-content > div");return b}function I(b){for(var d=b.length,c=[],a=0;a<d;a++)c[a]=b[a][0].offsetTop;return c}function E(e,f){for(var g=e.length,a,b,c,d=0;d<g;d++){a=e[d];b=a.element;if(b){b[0].style.top=f[a.row]+(a.top||0)+K;c=a.event;l(Ab,c,c,b)}}}function O(j,k,s){var m=p(q),o=m?"w":"e",r=k.find("div.ui-resizable-"+o),n=c;Tb(k);k.mousedown(function(a){a.preventDefault()}).click(function(a){if(n){a.preventDefault();a.stopImmediatePropagation()}});r.mousedown(function(v){var p="cursor";if(v.which!=1)return;n=a;var w=h.getHoverListener(),E=t(),C=J(),y=m?f:1,z=m?C-1:0,A=k.css("top"),r,q,x=b.extend({},j),u=eb(j.start);T();b(Q).css(p,o+"-resize").one(cb,B);l(kb,this,j,v);w.start(function(c,h){if(c){var e=Math.max(u.row,c.row),b=c.col;if(E==1)e=0;if(e==u.row)if(m)b=Math.min(u.col,b);else b=Math.max(u.col,b);r=e*7+b*y+z-(h.row*7+h.col*y+z);var k=i(fb(j),r,a);if(r){x.end=k;var f=q;q=N(U([x]),s.row,A);q.find("*").css(p,o+"-resize");f&&f.remove();ab(j)}else if(q){bb(j);q.remove();q=d}D();S(j.start,i(g(k),1))}},v);function B(a){l(jb,this,j,a);b(Q).css(p,e);w.stop();D();r&&Y(this,j,r,0,a);setTimeout(function(){n=c},0)}})}}function ic(){var e=this;e.select=o;e.unselect=f;e.reportSelection=h;e.daySelectionMousedown=m;var g=e.opt,l=e.trigger,n=e.defaultSelectionEnd,j=e.renderSelection,k=e.clearSelection,i=c;g(M)&&g("unselectAuto")&&b(document).mousedown(function(c){var a=g("unselectCancel");if(a)if(b(c.target).parents(a).length)return;f(c)});function o(b,a,c){f();if(!a)a=n(b,c);j(b,a,c);h(b,a,c)}function f(a){if(i){i=c;k();l("unselect",d,a)}}function h(b,c,e,f){i=a;l("select",d,b,c,e,f)}function m(i){var m=e.cellDate,o=e.cellIsAllDay,l=e.getHoverListener(),n=e.reportDayClick;if(i.which==1&&g(M)){f(i);var p=this,c;l.start(function(b,e){k();if(b&&o(b)){c=[m(e),m(b)].sort(Hc);j(c[0],c[1],a)}else c=d},i);b(document).one(cb,function(b){l.stop();if(c){+c[0]==+c[1]&&n(c[0],a,b);h(c[0],c[1],a,b)}})}}}function kc(){var d=this;d.renderOverlay=f;d.clearOverlays=e;var c=[],a=[];function f(f,e){var d=a.shift();if(!d)d=b("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>");d[0].parentNode!=e[0]&&d.appendTo(e);c.push(d.css(f).show());return d}function e(){var b;while(b=c.shift())a.push(b.hide().unbind())}}function jc(e){var c=this,b,a;c.build=function(){b=[];a=[];e(b,a)};c.cell=function(h,i){for(var k=b.length,j=a.length,g=f,e=f,c=0;c<k;c++)if(i>=b[c][0]&&i<b[c][1]){g=c;break}for(c=0;c<j;c++)if(h>=a[c][0]&&h<a[c][1]){e=c;break}return g>=0&&e>=0?{row:g,col:e}:d};c.rect=function(e,d,h,g,f){var c=f.offset();return{top:b[e][0]-c.top,left:a[d][0]-c.left,width:a[g][1]-a[d][0],height:b[h][1]-b[e][0]}}}function sc(h){var i=this,e,f,a,c;i.start=function(j,k,i){f=j;a=c=d;h.build();g(k);e=i||"mousemove";b(document).bind(e,g)};function g(d){var b=h.cell(d.pageX,d.pageY);if(!b!=!c||b&&(b.row!=c.row||b.col!=c.col)){if(b){if(!a)a=b;f(b,a,b.row-a.row,b.col-a.col)}else f(b,a);c=b}}i.stop=function(){b(document).unbind(e,g);return c}}function gc(f){var c=this,d={},b={},a={};function e(a){return d[a]=d[a]||f(a)}c.left=function(a){return b[a]=b[a]===n?e(a).position().left:b[a]};c.right=function(b){return a[b]=a[b]===n?c.left(b)+e(b).width():a[b]};c.clear=function(){d={};b={};a={}}}})(jQuery);(function(){var p="[object Array]",o="[object RegExp]",n="[object Boolean]",m="[object Date]",l="[object Number]",k="[object String]",e=false,c=true,b=null,A="undefined",w=this,L=w._,r={},g=Array.prototype,H=Object.prototype,Q=Function.prototype,d=g.slice,U=g.unshift,h=H.toString,M=H.hasOwnProperty,B=g.forEach,G=g.map,D=g.reduce,z=g.reduceRight,C=g.filter,E=g.every,F=g.some,q=g.indexOf,y=g.lastIndexOf,N=Array.isArray,P=Object.keys,s=Q.bind,a=function(a){return new i(a)};if(typeof exports!==A){if(typeof module!==A&&module.exports)exports=module.exports=a;exports._=a}else w._=a;a.VERSION="1.3.3";var f=a.each=a.forEach=function(c,e,f){if(c==b)return;if(B&&c.forEach===B)c.forEach(e,f);else if(c.length===+c.length){for(var d=0,h=c.length;d<h;d++)if(d in c&&e.call(f,c[d],d,c)===r)return}else for(var g in c)if(a.has(c,g))if(e.call(f,c[g],g,c)===r)return};a.map=a.collect=function(a,d,e){var c=[];if(a==b)return c;if(G&&a.map===G)return a.map(d,e);f(a,function(b,a,f){c[c.length]=d.call(e,b,a,f)});if(a.length===+a.length)c.length=a.length;return c};a.reduce=a.foldl=a.inject=function(d,e,g,i){var h=arguments.length>2;if(d==b)d=[];if(D&&d.reduce===D){if(i)e=a.bind(e,i);return h?d.reduce(e,g):d.reduce(e)}f(d,function(a,b,d){if(!h){g=a;h=c}else g=e.call(i,g,a,b,d)});if(!h)throw new TypeError("Reduce of empty array with no initial value");return g};a.reduceRight=a.foldr=function(d,c,h,e){var f=arguments.length>2;if(d==b)d=[];if(z&&d.reduceRight===z){if(e)c=a.bind(c,e);return f?d.reduceRight(c,h):d.reduceRight(c)}var g=a.toArray(d).reverse();if(e&&!f)c=a.bind(c,e);return f?a.reduce(g,c,h,e):a.reduce(g,c)};a.find=a.detect=function(e,b,d){var a;J(e,function(e,f,g){if(b.call(d,e,f,g)){a=e;return c}});return a};a.filter=a.select=function(c,d,e){var a=[];if(c==b)return a;if(C&&c.filter===C)return c.filter(d,e);f(c,function(b,c,f){if(d.call(e,b,c,f))a[a.length]=b});return a};a.reject=function(c,d,e){var a=[];if(c==b)return a;f(c,function(b,c,f){if(!d.call(e,b,c,f))a[a.length]=b});return a};a.every=a.all=function(d,e,g){var a=c;if(d==b)return a;if(E&&d.every===E)return d.every(e,g);f(d,function(c,b,d){if(!(a=a&&e.call(g,c,b,d)))return r});return!!a};var J=a.some=a.any=function(g,c,h){c||(c=a.identity);var d=e;if(g==b)return d;if(F&&g.some===F)return g.some(c,h);f(g,function(b,a,e){if(d||(d=c.call(h,b,a,e)))return r});return!!d};a.include=a.contains=function(a,d){var c=e;if(a==b)return c;if(q&&a.indexOf===q)return a.indexOf(d)!=-1;c=J(a,function(a){return a===d});return c};a.invoke=function(e,b){var c=d.call(arguments,2);return a.map(e,function(d){return(a.isFunction(b)?b||d:d[b]).apply(d,c)})};a.pluck=function(c,b){return a.map(c,function(a){return a[b]})};a.max=function(b,c,e){if(!c&&a.isArray(b)&&b[0]===+b[0])return Math.max.apply(Math,b);if(!c&&a.isEmpty(b))return-Infinity;var d={computed:-Infinity};f(b,function(a,f,g){var b=c?c.call(e,a,f,g):a;b>=d.computed&&(d={value:a,computed:b})});return d.value};a.min=function(b,c,e){if(!c&&a.isArray(b)&&b[0]===+b[0])return Math.min.apply(Math,b);if(!c&&a.isEmpty(b))return Infinity;var d={computed:Infinity};f(b,function(a,f,g){var b=c?c.call(e,a,f,g):a;b<d.computed&&(d={value:a,computed:b})});return d.value};a.shuffle=function(c){var a=[],b;f(c,function(d,c){b=Math.floor(Math.random()*(c+1));a[c]=a[b];a[b]=d});return a};a.sortBy=function(e,b,d){var c=a.isFunction(b)?b:function(a){return a[b]};return a.pluck(a.map(e,function(a,b,e){return{value:a,criteria:c.call(d,a,b,e)}}).sort(function(d,c){var a=d.criteria,b=c.criteria;return a===void 0?1:b===void 0?-1:a<b?-1:a>b?1:0}),"value")};a.groupBy=function(e,c){var b={},d=a.isFunction(c)?c:function(a){return a[c]};f(e,function(a,e){var c=d(a,e);(b[c]||(b[c]=[])).push(a)});return b};a.sortedIndex=function(f,g,b){b||(b=a.identity);var c=0,d=f.length;while(c<d){var e=c+d>>1;b(f[e])<b(g)?(c=e+1):(d=e)}return c};a.toArray=function(b){return!b?[]:a.isArray(b)?d.call(b):a.isArguments(b)?d.call(b):b.toArray&&a.isFunction(b.toArray)?b.toArray():a.values(b)};a.size=function(b){return a.isArray(b)?b.length:a.keys(b).length};a.first=a.head=a.take=function(a,c,e){return c!=b&&!e?d.call(a,0,c):a[0]};a.initial=function(a,c,e){return d.call(a,0,a.length-(c==b||e?1:c))};a.last=function(a,c,e){return c!=b&&!e?d.call(a,Math.max(a.length-c,0)):a[a.length-1]};a.rest=a.tail=function(c,a,e){return d.call(c,a==b||e?1:a)};a.compact=function(b){return a.filter(b,function(a){return!!a})};a.flatten=function(c,b){return a.reduce(c,function(d,c){if(a.isArray(c))return d.concat(b?c:a.flatten(c));d[d.length]=c;return d},[])};a.without=function(b){return a.difference(b,d.call(arguments,1))};a.uniq=a.unique=function(b,d,e){var g=e?a.map(b,e):b,f=[];if(b.length<3)d=c;a.reduce(g,function(c,e,g){if(d?a.last(c)!==e||!c.length:!a.include(c,e)){c.push(e);f.push(b[g])}return c},[]);return f};a.union=function(){return a.uniq(a.flatten(arguments,c))};a.intersection=a.intersect=function(b){var c=d.call(arguments,1);return a.filter(a.uniq(b),function(b){return a.every(c,function(c){return a.indexOf(c,b)>=0})})};a.difference=function(b){var e=a.flatten(d.call(arguments,1),c);return a.filter(b,function(b){return!a.include(e,b)})};a.zip=function(){for(var f=d.call(arguments),e=a.max(a.pluck(f,"length")),c=new Array(e),b=0;b<e;b++)c[b]=a.pluck(f,""+b);return c};a.indexOf=function(d,e,g){if(d==b)return-1;var c,f;if(g){c=a.sortedIndex(d,e);return d[c]===e?c:-1}if(q&&d.indexOf===q)return d.indexOf(e);for(c=0,f=d.length;c<f;c++)if(c in d&&d[c]===e)return c;return-1};a.lastIndexOf=function(a,d){if(a==b)return-1;if(y&&a.lastIndexOf===y)return a.lastIndexOf(d);var c=a.length;while(c--)if(c in a&&a[c]===d)return c;return-1};a.range=function(a,d,b){if(arguments.length<=1){d=a||0;a=0}b=arguments[2]||1;var f=Math.max(Math.ceil((d-a)/b),0),e=0,c=new Array(f);while(e<f){c[e++]=a;a+=b}return c};var I=function(){};a.bind=function(b,f){var e,c;if(b.bind===s&&s)return s.apply(b,d.call(arguments,1));if(!a.isFunction(b))throw new TypeError;c=d.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(f,c.concat(d.call(arguments)));I.prototype=b.prototype;var g=new I,a=b.apply(g,c.concat(d.call(arguments)));return Object(a)===a?a:g}};a.bindAll=function(b){var c=d.call(arguments,1);if(c.length==0)c=a.functions(b);f(c,function(c){b[c]=a.bind(b[c],b)});return b};a.memoize=function(d,b){var c={};b||(b=a.identity);return function(){var e=b.apply(this,arguments);return a.has(c,e)?c[e]:(c[e]=d.apply(this,arguments))}};a.delay=function(c,e){var a=d.call(arguments,2);return setTimeout(function(){return c.apply(b,a)},e)};a.defer=function(b){return a.delay.apply(a,[b,1].concat(d.call(arguments,1)))};a.throttle=function(l,m){var f,h,g,d,i,k,j=a.debounce(function(){i=d=e},m);return function(){f=this;h=arguments;var a=function(){g=b;i&&l.apply(f,h);j()};if(!g)g=setTimeout(a,m);if(d)i=c;else k=l.apply(f,h);j();d=c;return k}};a.debounce=function(d,e,c){var a;return function(){var f=this,g=arguments,h=function(){a=b;!c&&d.apply(f,g)};c&&!a&&d.apply(f,g);clearTimeout(a);a=setTimeout(h,e)}};a.once=function(d){var b=e,a;return function(){if(b)return a;b=c;return a=d.apply(this,arguments)}};a.wrap=function(b,a){return function(){var c=[b].concat(d.call(arguments,0));return a.apply(this,c)}};a.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}};a.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};a.keys=P||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var c=[];for(var d in b)if(a.has(b,d))c[c.length]=d;return c};a.values=function(b){return a.map(b,a.identity)};a.functions=a.methods=function(d){var b=[];for(var c in d)a.isFunction(d[c])&&b.push(c);return b.sort()};a.extend=function(a){f(d.call(arguments,1),function(b){for(var c in b)a[c]=b[c]});return a};a.pick=function(c){var b={};f(a.flatten(d.call(arguments,1)),function(a){if(a in c)b[a]=c[a]});return b};a.defaults=function(a){f(d.call(arguments,1),function(d){for(var c in d)if(a[c]==b)a[c]=d[c]});return a};a.clone=function(b){return!a.isObject(b)?b:a.isArray(b)?b.slice():a.extend({},b)};a.tap=function(a,b){b(a);return a};function x(d,f,j){var r="constructor";if(d===f)return d!==0||1/d==1/f;if(d==b||f==b)return d===f;if(d._chain)d=d._wrapped;if(f._chain)f=f._wrapped;if(d.isEqual&&a.isFunction(d.isEqual))return d.isEqual(f);if(f.isEqual&&a.isFunction(f.isEqual))return f.isEqual(d);var s=h.call(d);if(s!=h.call(f))return e;switch(s){case k:return d==String(f);case l:return d!=+d?f!=+f:d==0?1/d==1/f:d==+f;case m:case n:return+d==+f;case o:return d.source==f.source&&d.global==f.global&&d.multiline==f.multiline&&d.ignoreCase==f.ignoreCase}if(typeof d!="object"||typeof f!="object")return e;var t=j.length;while(t--)if(j[t]==d)return c;j.push(d);var g=0,i=c;if(s==p){g=d.length;i=g==f.length;if(i)while(g--)if(!(i=g in d==g in f&&x(d[g],f[g],j)))break}else{if(r in d!=r in f||d.constructor!=f.constructor)return e;for(var q in d)if(a.has(d,q)){g++;if(!(i=a.has(f,q)&&x(d[q],f[q],j)))break}if(i){for(q in f)if(a.has(f,q)&&!g--)break;i=!g}}j.pop();return i}a.isEqual=function(a,b){return x(a,b,[])};a.isEmpty=function(d){if(d==b)return c;if(a.isArray(d)||a.isString(d))return d.length===0;for(var f in d)if(a.has(d,f))return e;return c};a.isElement=function(a){return!!(a&&a.nodeType==1)};a.isArray=N||function(a){return h.call(a)==p};a.isObject=function(a){return a===Object(a)};a.isArguments=function(a){return h.call(a)=="[object Arguments]"};if(!a.isArguments(arguments))a.isArguments=function(b){return!!(b&&a.has(b,"callee"))};a.isFunction=function(a){return h.call(a)=="[object Function]"};a.isString=function(a){return h.call(a)==k};a.isNumber=function(a){return h.call(a)==l};a.isFinite=function(b){return a.isNumber(b)&&isFinite(b)};a.isNaN=function(a){return a!==a};a.isBoolean=function(a){return a===c||a===e||h.call(a)==n};a.isDate=function(a){return h.call(a)==m};a.isRegExp=function(a){return h.call(a)==o};a.isNull=function(a){return a===b};a.isUndefined=function(a){return a===void 0};a.has=function(b,a){return M.call(b,a)};a.noConflict=function(){w._=L;return this};a.identity=function(a){return a};a.times=function(d,b,c){for(var a=0;a<d;a++)b.call(c,a)};a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};a.result=function(c,e){if(c==b)return b;var d=c[e];return a.isFunction(d)?d.call(c):d};a.mixin=function(b){f(a.functions(b),function(c){O(c,a[c]=b[c])})};var R=0;a.uniqueId=function(a){var b=R++;return a?a+b:b};a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var u=/.^/,j={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"â¨",u2029:"â©"};for(var K in j)j[j[K]]=K;var T=/\\|'|\r|\n|\t|\u2028|\u2029/g,S=/\\(\\|'|r|n|t|u2028|u2029)/g,t=function(a){return a.replace(S,function(b,a){return j[a]})};a.template=function(g,f,b){b=a.defaults(b||{},a.templateSettings);var c="__p+='"+g.replace(T,function(a){return"\\"+j[a]}).replace(b.escape||u,function(b,a){return"'+\n_.escape("+t(a)+")+\n'"}).replace(b.interpolate||u,function(b,a){return"'+\n("+t(a)+")+\n'"}).replace(b.evaluate||u,function(b,a){return"';\n"+t(a)+"\n;__p+='"})+"';\n";if(!b.variable)c="with(obj||{}){\n"+c+"}\n";c="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+c+"return __p;\n";var e=new Function(b.variable||"obj","_",c);if(f)return e(f,a);var d=function(b){return e.call(this,b,a)};d.source="function("+(b.variable||"obj")+"){\n"+c+"}";return d};a.chain=function(b){return a(b).chain()};var i=function(a){this._wrapped=a};a.prototype=i.prototype;var v=function(b,c){return c?a(b).chain():b},O=function(c,b){i.prototype[c]=function(){var c=d.call(arguments);U.call(c,this._wrapped);return v(b.apply(a,c),this._chain)}};a.mixin(a);f(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=g[a];i.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;if((a=="shift"||a=="splice")&&d===0)delete c[0];return v(c,this._chain)}});f(["concat","join","slice"],function(a){var b=g[a];i.prototype[a]=function(){return v(b.apply(this._wrapped,arguments),this._chain)}});i.prototype.chain=function(){this._chain=c;return this};i.prototype.value=function(){return this._wrapped}}).call(this);(function(){var q=".delegateEvents",r="attributes",p="hashchange",o="popstate",j="reset",h="sync",f="",d=null,c=true,b=false,v="undefined",l=this,C=l.Backbone,M=Array.prototype.slice,L=Array.prototype.splice,e;if(typeof exports!==v)e=exports;else e=l.Backbone={};e.VERSION="0.9.2";var a=l._;if(!a&&typeof require!==v)a=require("underscore");var g=l.jQuery||l.Zepto||l.ender;e.setDomLibrary=function(a){g=a};e.noConflict=function(){l.Backbone=C;return this};e.emulateHTTP=b;e.emulateJSON=b;var s=/\s+/,i=e.Events={on:function(d,g,i){var c=this,e,f,b,h,a;if(!g)return c;d=d.split(s);e=c._callbacks||(c._callbacks={});while(f=d.shift()){a=e[f];b=a?a.tail:{};b.next=h={};b.context=i;b.callback=g;e[f]={tail:h,next:a?a.next:b}}return c},off:function(c,e,f){var d=this,h,g,b,k,j,i;if(!(g=d._callbacks))return;if(!(c||e||f)){delete d._callbacks;return d}c=c?c.split(s):a.keys(g);while(h=c.shift()){b=g[h];delete g[h];if(!b||!(e||f))continue;k=b.tail;while((b=b.next)!==k){j=b.callback;i=b.context;if(e&&j!==e||f&&i!==f)d.on(h,j,i)}}return d},trigger:function(d){var b=this,f,a,e,c,h,i,g;if(!(e=b._callbacks))return b;i=e.all;d=d.split(s);g=M.call(arguments,1);while(f=d.shift()){if(a=e[f]){c=a.tail;while((a=a.next)!==c)a.callback.apply(a.context||b,g)}if(a=i){c=a.tail;h=[f].concat(g);while((a=a.next)!==c)a.callback.apply(a.context||b,h)}}return b}};i.bind=i.on;i.unbind=i.off;var n=e.Model=function(d,e){var b=this,f;d||(d={});if(e&&e.parse)d=b.parse(d);if(f=m(b,"defaults"))d=a.extend({},f,d);if(e&&e.collection)b.collection=e.collection;b.attributes={};b._escapedAttributes={};b.cid=a.uniqueId("c");b.changed={};b._silent={};b._pending={};b.set(d,{silent:c});b.changed={};b._silent={};b._pending={};b._previousAttributes=a.clone(b.attributes);b.initialize.apply(b,arguments)};a.extend(n.prototype,i,{changed:d,_silent:d,_pending:d,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},"get":function(a){return this.attributes[a]},escape:function(b){var c;if(c=this._escapedAttributes[b])return c;var e=this.get(b);return this._escapedAttributes[b]=a.escape(e==d?f:f+e)},has:function(a){return this.get(a)!=d},"set":function(k,l,h){var f=this,g,e,j;if(a.isObject(k)||k==d){g=k;h=l}else{g={};g[k]=l}h||(h={});if(!g)return f;if(g instanceof n)g=g.attributes;if(h.unset)for(e in g)g[e]=void 0;if(!f._validate(g,h))return b;if(f.idAttribute in g)f.id=g[f.idAttribute];var o=h.changes={},i=f.attributes,p=f._escapedAttributes,m=f._previousAttributes||{};for(e in g){j=g[e];if(!a.isEqual(i[e],j)||h.unset&&a.has(i,e)){delete p[e];(h.silent?f._silent:o)[e]=c}h.unset?delete i[e]:(i[e]=j);if(!a.isEqual(m[e],j)||a.has(i,e)!=a.has(m,e)){f.changed[e]=j;if(!h.silent)f._pending[e]=c}else{delete f.changed[e];delete f._pending[e]}}!h.silent&&f.change(h);return f},unset:function(b,a){(a||(a={})).unset=c;return this.set(b,d,a)},clear:function(b){(b||(b={})).unset=c;return this.set(a.clone(this.attributes),b)},fetch:function(c){var d=this;c=c?a.clone(c):{};var f=d,g=c.success;c.success=function(a,e,d){if(!f.set(f.parse(a,d),c))return b;g&&g(f,a)};c.error=e.wrapError(c.error,f,c);return(d.sync||e.sync).call(d,"read",d,c)},save:function(k,o,f){var g=this,i,m;if(a.isObject(k)||k==d){i=k;f=o}else{i={};i[k]=o}f=f?a.clone(f):{};if(f.wait){if(!g._validate(i,f))return b;m=a.clone(g.attributes)}var l=a.extend({},f,{silent:c});if(i&&!g.set(i,f.wait?l:f))return b;var j=g,n=f.success;f.success=function(d,g,e){var c=j.parse(d,e);if(f.wait){delete f.wait;c=a.extend(i||{},c)}if(!j.set(c,f))return b;if(n)n(j,d);else j.trigger(h,j,d,f)};f.error=e.wrapError(f.error,j,f);var p=g.isNew()?"create":"update",q=(g.sync||e.sync).call(g,p,g,f);f.wait&&g.set(m,l);return q},destroy:function(c){var f=this;c=c?a.clone(c):{};var d=f,i=c.success,g=function(){d.trigger("destroy",d,d.collection,c)};if(f.isNew()){g();return b}c.success=function(a){c.wait&&g();if(i)i(d,a);else d.trigger(h,d,a,c)};c.error=e.wrapError(c.error,d,c);var j=(f.sync||e.sync).call(f,"delete",f,c);!c.wait&&g();return j},url:function(){var a=this,b=m(a,"urlRoot")||m(a.collection,"url")||x();return a.isNew()?b:b+(b.charAt(b.length-1)=="/"?f:"/")+encodeURIComponent(a.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==d},change:function(f){var d=this;f||(f={});var g=d._changing;d._changing=c;for(var e in d._silent)d._pending[e]=c;var h=a.extend({},f.changes,d._silent);d._silent={};for(var e in h)d.trigger("change:"+e,d,d.get(e),f);if(g)return d;while(!a.isEmpty(d._pending)){d._pending={};d.trigger("change",d,f);for(var e in d.changed){if(d._pending[e]||d._silent[e])continue;delete d.changed[e]}d._previousAttributes=a.clone(d.attributes)}d._changing=b;return d},hasChanged:function(b){return!arguments.length?!a.isEmpty(this.changed):a.has(this.changed,b)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):b;var f,c=b,g=this._previousAttributes;for(var d in e){if(a.isEqual(g[d],f=e[d]))continue;(c||(c={}))[d]=f}return c},previous:function(a){return!arguments.length||!this._previousAttributes?d:this._previousAttributes[a]},previousAttributes:function(){return a.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(f,d){var e=this;if(d.silent||!e.validate)return c;f=a.extend({},e.attributes,f);var g=e.validate(f,d);if(!g)return c;if(d&&d.error)d.error(e,g,d);else e.trigger("error",e,g,d);return b}});var u=e.Collection=function(d,a){var b=this;a||(a={});if(a.model)b.model=a.model;if(a.comparator)b.comparator=a.comparator;b._reset();b.initialize.apply(b,arguments);d&&b.reset(d,{silent:c,parse:a.parse})};a.extend(u.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(g,h){var e=this,b,n,i,f,k,j,l={},o={},m=[];h||(h={});g=a.isArray(g)?g.slice():[g];for(b=0,i=g.length;b<i;b++){if(!(f=g[b]=e._prepareModel(g[b],h)))throw new Error("Can't add an invalid model to a collection");k=f.cid;j=f.id;if(l[k]||e._byCid[k]||j!=d&&(o[j]||e._byId[j])){m.push(b);continue}l[k]=o[j]=f}b=m.length;while(b--)g.splice(m[b],1);for(b=0,i=g.length;b<i;b++){(f=g[b]).on("all",e._onModelEvent,e);e._byCid[f.cid]=f;if(f.id!=d)e._byId[f.id]=f}e.length+=i;n=h.at!=d?h.at:e.models.length;L.apply(e.models,[n,0].concat(g));e.comparator&&e.sort({silent:c});if(h.silent)return e;for(b=0,i=e.models.length;b<i;b++){if(!l[(f=e.models[b]).cid])continue;h.index=b;f.trigger("add",f,e,h)}return e},remove:function(d,e){var b=this,f,h,g,c;e||(e={});d=a.isArray(d)?d.slice():[d];for(f=0,h=d.length;f<h;f++){c=b.getByCid(d[f])||b.get(d[f]);if(!c)continue;delete b._byId[c.id];delete b._byCid[c.cid];g=b.indexOf(c);b.models.splice(g,1);b.length--;if(!e.silent){e.index=g;c.trigger("remove",c,b,e)}b._removeReference(c)}return b},push:function(a,b){a=this._prepareModel(a,b);this.add(a,b);return a},pop:function(b){var a=this.at(this.length-1);this.remove(a,b);return a},unshift:function(b,c){b=this._prepareModel(b,c);this.add(b,a.extend({at:0},c));return b},shift:function(b){var a=this.at(0);this.remove(a,b);return a},"get":function(a){return a==d?void 0:this._byId[a.id!=d?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(d){return a.isEmpty(d)?[]:this.filter(function(e){for(var a in d)if(d[a]!==e.get(a))return b;return c})},sort:function(c){var b=this;c||(c={});if(!b.comparator)throw new Error("Cannot sort a set without a comparator");var d=a.bind(b.comparator,b);if(b.comparator.length==1)b.models=b.sortBy(d);else b.models.sort(d);!c.silent&&b.trigger(j,b,c);return b},pluck:function(b){return a.map(this.models,function(a){return a.get(b)})},reset:function(e,d){var b=this;e||(e=[]);d||(d={});for(var f=0,g=b.models.length;f<g;f++)b._removeReference(b.models[f]);b._reset();b.add(e,a.extend({silent:c},d));!d.silent&&b.trigger(j,b,d);return b},fetch:function(b){var f=this;b=b?a.clone(b):{};if(b.parse===undefined)b.parse=c;var d=f,g=b.success;b.success=function(a,e,c){d[b.add?"add":j](d.parse(a,c),b);g&&g(d,a)};b.error=e.wrapError(b.error,d,b);return(f.sync||e.sync).call(f,"read",f,b)},create:function(e,c){var g=this;c=c?a.clone(c):{};e=this._prepareModel(e,c);if(!e)return b;!c.wait&&g.add(e,c);var f=c.success;c.success=function(a,b){c.wait&&g.add(a,c);if(f)f(a,b);else a.trigger(h,e,b,c)};e.save(d,c);return e},parse:function(a){return a},chain:function(){return a(this.models).chain()},_reset:function(){var a=this;a.length=0;a.models=[];a._byId={};a._byCid={}},_prepareModel:function(a,c){c||(c={});if(!(a instanceof n)){var d=a;c.collection=this;a=new this.model(d,c);if(!a._validate(a.attributes,c))a=b}else if(!a.collection)a.collection=this;return a},_removeReference:function(a){if(this==a.collection)delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(c,a,d,e){var b=this;if((c=="add"||c=="remove")&&d!=b)return;c=="destroy"&&b.remove(a,e);if(a&&c==="change:"+a.idAttribute){delete b._byId[a.previous(a.idAttribute)];b._byId[a.id]=a}b.trigger.apply(b,arguments)}});var J=["forForEachItem","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];a.each(J,function(b){u.prototype[b]=function(){return a[b].apply(a,[this.models].concat(a.toArray(arguments)))}});var y=e.Router=function(a){var b=this;a||(a={});if(a.routes)b.routes=a.routes;b._bindRoutes();b.initialize.apply(b,arguments)},F=/:\w+/g,G=/\*\w+/g,D=/[-[\]{}()+?.,\\^$|#\s]/g;a.extend(y.prototype,i,{initialize:function(){},route:function(b,f,c){var d=this;e.history||(e.history=new k);if(!a.isRegExp(b))b=d._routeToRegExp(b);if(!c)c=d[f];e.history.route(b,a.bind(function(g){var a=this,d=a._extractParameters(b,g);c&&c.apply(a,d);a.trigger.apply(a,["route:"+f].concat(d));e.history.trigger("route",a,f,d)},d));return d},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){var b=this;if(!b.routes)return;var a=[];for(var d in b.routes)a.unshift([d,b.routes[d]]);for(var c=0,e=a.length;c<e;c++)b.route(a[c][0],a[c][1],b[a[c][1]])},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(F,"([^/]+)").replace(G,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(b,a){return b.exec(a).slice(1)}});var k=e.History=function(){this.handlers=[];a.bindAll(this,"checkUrl")},t=/^[#\/]/,E=/msie [\w.]+/;k.started=b;a.extend(k.prototype,i,{interval:50,getHash:function(a){var c=a?a.location:window.location,b=c.href.match(/#(.*)$/);return b?b[1]:f},getFragment:function(a,e){var b=this;if(a==d)if(b._hasPushState||e){a=window.location.pathname;var c=window.location.search;if(c)a+=c}else a=b.getHash();if(!a.indexOf(b.options.root))a=a.substr(b.options.root.length);return a.replace(t,f)},start:function(n){var e=this;if(k.started)throw new Error("Backbone.history has already been started");k.started=c;e.options=a.extend({},{root:"/"},e.options,n);e._wantsHashChange=e.options.hashChange!==b;e._wantsPushState=!!e.options.pushState;e._hasPushState=!!(e.options.pushState&&window.history&&window.history.pushState);var i=e.getFragment(),j=document.documentMode,m=E.exec(navigator.userAgent.toLowerCase())&&(!j||j<=7);if(m){e.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;e.navigate(i)}if(e._hasPushState)g(window).bind(o,e.checkUrl);else if(e._wantsHashChange&&"onhashchange"in window&&!m)g(window).bind(p,e.checkUrl);else if(e._wantsHashChange)e._checkUrlInterval=setInterval(e.checkUrl,e.interval);e.fragment=i;var h=window.location,l=h.pathname==e.options.root;if(e._wantsHashChange&&e._wantsPushState&&!e._hasPushState&&!l){e.fragment=e.getFragment(d,c);window.location.replace(e.options.root+"#"+e.fragment);return c}else if(e._wantsPushState&&e._hasPushState&&l&&h.hash){e.fragment=e.getHash().replace(t,f);window.history.replaceState({},document.title,h.protocol+"//"+h.host+e.options.root+e.fragment)}if(!e.options.silent)return e.loadUrl()},stop:function(){g(window).unbind(o,this.checkUrl).unbind(p,this.checkUrl);clearInterval(this._checkUrlInterval);k.started=b},route:function(b,a){this.handlers.unshift({route:b,callback:a})},checkUrl:function(){var a=this,c=a.getFragment();if(c==a.fragment&&a.iframe)c=a.getFragment(a.getHash(a.iframe));if(c==a.fragment)return b;a.iframe&&a.navigate(c);a.loadUrl()||a.loadUrl(a.getHash())},loadUrl:function(d){var b=this.fragment=this.getFragment(d),e=a.any(this.handlers,function(a){if(a.route.test(b)){a.callback(b);return c}});return e},navigate:function(g,e){var a=this;if(!k.started)return b;if(!e||e===c)e={trigger:e};var d=(g||f).replace(t,f);if(a.fragment==d)return;if(a._hasPushState){if(d.indexOf(a.options.root)!=0)d=a.options.root+d;a.fragment=d;window.history[e.replace?"replaceState":"pushState"]({},document.title,d)}else if(a._wantsHashChange){a.fragment=d;a._updateHash(window.location,d,e.replace);if(a.iframe&&d!=a.getFragment(a.getHash(a.iframe))){!e.replace&&a.iframe.document.open().close();a._updateHash(a.iframe.location,d,e.replace)}}else window.location.assign(a.options.root+g);e.trigger&&a.loadUrl(g)},_updateHash:function(a,b,c){if(c)a.replace(a.toString().replace(/(javascript:|#).*$/,f)+"#"+b);else a.hash=b}});var A=e.View=function(c){var b=this;b.cid=a.uniqueId("view");b._configure(c||{});b._ensureElement();b.initialize.apply(b,arguments);b.delegateEvents()},B=/^(\S+)\s*(.*)$/,w=["model","collection","el","id",r,"className","tagName"];a.extend(A.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(d,b,c){var a=document.createElement(d);b&&g(a).attr(b);c&&g(a).html(c);return a},setElement:function(c,d){var a=this;a.$el&&a.undelegateEvents();a.$el=c instanceof g?c:g(c);a.el=a.$el[0];d!==b&&a.delegateEvents();return a},delegateEvents:function(d){var c=this;if(!(d||(d=m(c,"events"))))return;c.undelegateEvents();for(var e in d){var b=d[e];if(!a.isFunction(b))b=c[d[e]];if(!b)throw new Error('Method "'+d[e]+'" does not exist');var i=e.match(B),g=i[1],h=i[2];b=a.bind(b,c);g+=q+c.cid;if(h===f)c.$el.bind(g,b);else c.$el.delegate(h,g,b)}},undelegateEvents:function(){this.$el.unbind(q+this.cid)},_configure:function(b){var c=this;if(c.options)b=a.extend({},c.options,b);for(var e=0,f=w.length;e<f;e++){var d=w[e];if(b[d])c[d]=b[d]}c.options=b},_ensureElement:function(){var a=this;if(!a.el){var c=m(a,r)||{};if(a.id)c.id=a.id;if(a.className)c["class"]=a.className;a.setElement(a.make(a.tagName,c),b)}else a.setElement(a.el,b)}});var K=function(c,b){var a=I(this,c,b);a.extend=this.extend;return a};n.extend=u.extend=y.extend=A.extend=K;var H={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(h,i,d){var f=H[h];d||(d={});var c={type:f,dataType:"json"};if(!d.url)c.url=m(i,"url")||x();if(!d.data&&i&&(h=="create"||h=="update")){c.contentType="application/json";c.data=JSON.stringify(i.toJSON())}if(e.emulateJSON){c.contentType="application/x-www-form-urlencoded";c.data=c.data?{model:c.data}:{}}if(e.emulateHTTP)if(f==="PUT"||f==="DELETE"){if(e.emulateJSON)c.data._method=f;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f)}}if(c.type!=="GET"&&!e.emulateJSON)c.processData=b;return g.ajax(a.extend(c,d))};e.wrapError=function(b,a,c){return function(e,d){d=e===a?d:e;if(b)b(a,d,c);else a.trigger("error",a,d,c)}};var z=function(){},I=function(d,c,e){var b;if(c&&c.hasOwnProperty("constructor"))b=c.constructor;else b=function(){d.apply(this,arguments)};a.extend(b,d);z.prototype=d.prototype;b.prototype=new z;c&&a.extend(b.prototype,c);e&&a.extend(b,e);b.prototype.constructor=b;b.__super__=d.prototype;return b},m=function(b,c){return!(b&&b[c])?d:a.isFunction(b[c])?b[c]():b[c]},x=function(){throw new Error('A "url" property or function must be specified');}}).call(this);Backbone.Marionette=function(c,b,g){var d="string",f="render",h="before:render",e="reset",a={};a.EventBinder=function(){this._eventBindings=[]};b.extend(a.EventBinder.prototype,{bindTo:function(e,b,c,a){a=a||this;e.on(b,c,a);var d={obj:e,eventName:b,callback:c,context:a};this._eventBindings.push(d);return d},unbindFrom:function(a){a.obj.off(a.eventName,a.callback,a.context);this._eventBindings=b.reject(this._eventBindings,function(b){return b===a})},unbindAll:function(){var c=this,a=b.map(this._eventBindings,b.identity);b.each(a,function(a){c.unbindFrom(a)})}});a.EventBinder.extend=c.View.extend;a.View=c.View.extend({constructor:function(){var d=this;c.View.prototype.constructor.apply(d,arguments);var e=new a.EventBinder;b.extend(d,e);d.bindTo(d,"show",d.onShowCalled,d)},getTemplate:function(){var a=this,b;if(a.options&&a.options.template)b=a.options.template;else b=a.template;return b},serializeData:function(){var a=this,b;if(a.model)b=a.model.toJSON();else if(a.collection)b={items:a.collection.toJSON()};b=a.mixinTemplateHelpers(b);return b},mixinTemplateHelpers:function(c){c=c||{};var a=this.templateHelpers;if(b.isFunction(a))a=a.call(this);return b.extend(c,a)},configureTriggers:function(){var c=this;if(!c.triggers)return;var a=c.triggers,e=c,d={};if(b.isFunction(a))a=a.call(c);b.each(a,function(a,b){d[b]=function(b){b&&b.preventDefault&&b.preventDefault();b&&b.stopPropagation&&b.stopPropagation();e.trigger(a)}});return d},delegateEvents:function(a){var d=this;a=a||d.events;if(b.isFunction(a))a=a.call(d);var e={},f=d.configureTriggers();b.extend(e,a,f);c.View.prototype.delegateEvents.call(d,e)},onShowCalled:function(){},close:function(){var a=this;a.beforeClose&&a.beforeClose();a.remove();a.onClose&&a.onClose();a.trigger("close");a.unbindAll();a.unbind()},bindUIElements:function(){var a=this;if(!a.ui)return;var c=a;if(!a.uiBindings)a.uiBindings=a.ui;a.ui={};b.each(b.keys(a.uiBindings),function(a){var b=c.uiBindings[a];c.ui[a]=c.$(b)})}});a.ItemView=a.View.extend({constructor:function(){a.View.prototype.constructor.apply(this,arguments);this.initialEvents()},initialEvents:function(){var a=this;a.collection&&a.bindTo(a.collection,e,a.render,a)},render:function(){var b=this;b.beforeRender&&b.beforeRender();b.trigger(h,b);b.trigger("item:before:render",b);var d=b.serializeData(),c=b.getTemplate(),e=a.Renderer.render(c,d);b.$el.html(e);b.bindUIElements();b.onRender&&b.onRender();b.trigger(f,b);b.trigger("item:rendered",b);return b},close:function(){this.trigger("item:before:close");a.View.prototype.close.apply(this,arguments);this.trigger("item:closed")}});a.CollectionView=a.View.extend({constructor:function(){var b=this;a.View.prototype.constructor.apply(b,arguments);b.initChildViewStorage();b.initialEvents();b.onShowCallbacks=new a.Callbacks},initialEvents:function(){var a=this;if(a.collection){a.bindTo(a.collection,"add",a.addChildView,a);a.bindTo(a.collection,"remove",a.removeItemView,a);a.bindTo(a.collection,e,a.render,a)}},addChildView:function(c,d,b){this.closeEmptyView();var a=this.getItemView();return this.addItemView(c,a,b.index)},onShowCalled:function(){this.onShowCallbacks.run()},triggerBeforeRender:function(){var a=this;a.beforeRender&&a.beforeRender();a.trigger(h,a);a.trigger("collection:before:render",a)},triggerRendered:function(){var a=this;a.onRender&&a.onRender();a.trigger(f,a);a.trigger("collection:rendered",a)},render:function(){var a=this;a.triggerBeforeRender();a.closeEmptyView();a.closeChildren();if(a.collection&&a.collection.length>0)a.showCollection();else a.showEmptyView();a.triggerRendered();return a},showCollection:function(){var b=this,a=this.getItemView();this.collection.each(function(d,c){b.addItemView(d,a,c)})},showEmptyView:function(){var a=this,b=a.options.emptyView||a.emptyView;if(b&&!a._showingEmptyView){a._showingEmptyView=true;var d=new c.Model;a.addItemView(d,b,0)}},closeEmptyView:function(){if(this._showingEmptyView){this.closeChildren();delete this._showingEmptyView}},getItemView:function(){var a=this.options.itemView||this.itemView;if(!a){var b=new Error("An `itemView` must be specified");b.name="NoItemViewError";throw b;}return a},addItemView:function(h,f,g){var a=this,c=a,b=a.buildItemView(h,f);a.storeChild(b);if(a.onItemAdded)a.onItemAdded(b);a.trigger("item:added",b);var e=a.renderItemView(b,g);b.onShow&&a.onShowCallbacks.add(b.onShow,b);var d=a.bindTo(b,"all",function(){var a=i.call(arguments);a[0]="itemview:"+a[0];a.splice(1,0,b);c.trigger.apply(c,a)});a.childBindings=a.childBindings||{};a.childBindings[b.cid]=d;return e},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(e,c){var a=b.result(this,"itemViewOptions"),d=b.extend({model:e},a),f=new c(d);return f},removeItemView:function(d){var a=this,b=a.children[d.cid];if(b){var c=a.childBindings[b.cid];if(c){a.unbindFrom(c);delete a.childBindings[b.cid]}b.close();delete a.children[d.cid]}(!a.collection||a.collection.length===0)&&a.showEmptyView();a.trigger("item:removed",b)},appendHtml:function(a,b){a.$el.append(b.el)},storeChild:function(a){this.children[a.model.cid]=a},initChildViewStorage:function(){this.children={}},close:function(){var b=this;b.trigger("collection:before:close");b.closeChildren();a.View.prototype.close.apply(b,arguments);b.trigger("collection:closed")},closeChildren:function(){var a=this;this.children&&b.each(b.clone(this.children),function(b){a.removeItemView(b.model)})}});a.CompositeView=a.CollectionView.extend({constructor:function(){a.CollectionView.apply(this,arguments);this.itemView=this.getItemView()},initialEvents:function(){var a=this;if(a.collection){a.bindTo(a.collection,"add",a.addChildView,a);a.bindTo(a.collection,"remove",a.removeItemView,a);a.bindTo(a.collection,e,a.renderCollection,a)}},getItemView:function(){return this.itemView||this.constructor},render:function(){var a=this,c=a;a.resetItemViewContainer();var b=a.renderModel();a.$el.html(b);a.bindUIElements();a.trigger("composite:model:rendered");a.trigger(f);a.renderCollection();a.trigger("composite:rendered");return a},renderCollection:function(){a.CollectionView.prototype.render.apply(this,arguments);this.trigger("composite:collection:rendered")},renderModel:function(){var b={};b=this.serializeData();var c=this.getTemplate();return a.Renderer.render(c,b)},appendHtml:function(b,c){var a=this.getItemViewContainer(b);a.append(c.el)},getItemViewContainer:function(a){var c;if("$itemViewContainer"in a)c=a.$itemViewContainer;else{if(a.itemViewContainer){c=a.$(b.result(a,"itemViewContainer"));if(c.length<=0){var d=new Error("Missing `itemViewContainer`");d.name="ItemViewContainerMissingError";throw d;}}else c=a.$el;a.$itemViewContainer=c}return c},resetItemViewContainer:function(){if(this.$itemViewContainer)delete this.$itemViewContainer}});a.Region=function(d){var c=this;c.options=d||{};var f=new a.EventBinder;b.extend(c,f,d);if(!c.el){var e=new Error("An 'el' must be specified");e.name="NoElError";throw e;}c.initialize&&c.initialize.apply(c,arguments)};b.extend(a.Region.prototype,c.Events,{show:function(a){var b=this;b.ensureEl();b.close();a.render();b.open(a);a.onShow&&a.onShow();a.trigger("show");if(b.onShow)b.onShow(a);b.trigger("view:show",a);b.currentView=a},ensureEl:function(){var a=this;if(!a.$el||a.$el.length===0)a.$el=a.getEl(a.el)},getEl:function(a){return g(a)},open:function(a){this.$el.html(a.el)},close:function(){var a=this.currentView;if(!a)return;a.close&&a.close();this.trigger("view:closed",a);delete this.currentView},attachView:function(a){this.currentView=a}});a.Region.extend=c.View.extend;a.Layout=a.ItemView.extend({regionType:a.Region,constructor:function(){c.Marionette.ItemView.apply(this,arguments);this.initializeRegions()},render:function(){var b=a.ItemView.prototype.render.apply(this,arguments);this.render=function(){this.closeRegions();this.reInitializeRegions();var b=a.ItemView.prototype.render.apply(this,arguments);return b};return b},close:function(){this.closeRegions();this.destroyRegions();c.Marionette.ItemView.prototype.close.call(this,arguments)},initializeRegions:function(){var a=this;if(!a.regionManagers)a.regionManagers={};var c=a;b.each(a.regions,function(a,e){if(typeof a!=d&&typeof a.selector!=d)throw new Exception("Region must be specified as a selector string or an object with selector property");selector=typeof a===d?a:a.selector;var f=typeof a.regionType==="undefined"?c.regionType:a.regionType,b=new f({el:selector,getEl:function(a){return c.$(a)}});c.regionManagers[e]=b;c[e]=b})},reInitializeRegions:function(){var a=this;if(a.regionManagers&&b.size(a.regionManagers)===0)a.initializeRegions();else b.each(a.regionManagers,function(a){delete a.$el})},closeRegions:function(){var a=this;b.each(this.regionManagers,function(a){a.close()})},destroyRegions:function(){var a=this;b.each(this.regionManagers,function(c,b){delete a[b]});this.regionManagers={}}});a.Application=function(e){var c=this;c.initCallbacks=new a.Callbacks;c.vent=new a.EventAggregator;c.submodules={};var d=new a.EventBinder;b.extend(c,d,e)};b.extend(a.Application.prototype,c.Events,{addInitializer:function(a){this.initCallbacks.add(a)},start:function(b){var a=this;a.trigger("initialize:before",b);a.initCallbacks.run(b,a);a.trigger("initialize:after",b);a.trigger("start",b)},addRegions:function(f){var b,e,c;for(c in f)if(f.hasOwnProperty(c)){b=f[c];if(typeof b===d)e=new a.Region({el:b});else e=new b;this[c]=e}},removeRegion:function(a){this[a].close();delete this[a]},module:function(){var b=i.call(arguments);b.unshift(this);return a.Module.create.apply(a.Module,b)}});a.Application.extend=c.View.extend;a.AppRouter=c.Router.extend({constructor:function(b){var a=this;c.Router.prototype.constructor.call(a,b);if(a.appRoutes){var d=a.controller;if(b&&b.controller)d=b.controller;a.processAppRoutes(d,a.appRoutes)}},processAppRoutes:function(i,g){var c,e,a,h,d,f=[],k=this;for(a in g)g.hasOwnProperty(a)&&f.unshift([a,g[a]]);h=f.length;for(d=0;d<h;d++){a=f[d][0];e=f[d][1];c=i[e];if(!c){var l="Method '"+e+"' was not found on the controller",j=new Error(l);j.name="NoMethodError";throw j;}c=b.bind(c,i);k.route(a,e,c)}}});a.Module=function(f,g,e){var c=this;c.moduleName=f;c.submodules={};c._initializerCallbacks=new a.Callbacks;c._finalizerCallbacks=new a.Callbacks;c._config={};c._config.app=g;c._config.customArgs=e;c._config.definitions=[];var d=new a.EventBinder;b.extend(c,d)};b.extend(a.Module.prototype,c.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(c){var a=this;a._runModuleDefinition();a._initializerCallbacks.run(c,a);a._isInitialized=true;a.submodules&&b.each(a.submodules,function(a){a.start()})},stop:function(){var a=this;if(!a._isInitialized)return;a._isInitialized=false;a._finalizerCallbacks.run();b.each(a.submodules,function(a){a.stop()})},addDefinition:function(a){this._config.definitions.push(a)},_runModuleDefinition:function(){var d=this;if(d._config.definitions.length===0)return;for(var i=b.flatten([d,d._config.app,c,a,g,b,d._config.customArgs]),f=d._config.definitions.length-1,e=0;e<=f;e++){var h=d._config.definitions[e];h.apply(d,i)}}});b.extend(a.Module,{create:function(e,d,g){var j=this,c=e,d=d.split("."),f=i.apply(arguments);f.splice(0,3);var h=d.length;b.each(d,function(d,k){var i=k===h-1,b=c[d];if(!b){b=new a.Module(d,e,f);c[d]=b;c.submodules[d]=b}i&&j._createModuleDefinition(b,g,e);c=b});return c},_createModuleDefinition:function(b,c,d){var a=this._getModuleDefinitionOptions(c);a.definition&&b.addDefinition(a.definition);a.startWithApp&&d.addInitializer(function(a){b.start(a)})},_getModuleDefinitionOptions:function(a){var c={startWithApp:true};if(!a)return c;if(b.isFunction(a))c.definition=a;else{c.definition=a.define;if(a.hasOwnProperty("startWithApp"))c.startWithApp=a.startWithApp}return c}});a.TemplateCache=function(a){this.templateId=a};b.extend(a.TemplateCache,{templateCaches:{},"get":function(c,e,d){var f=this,b=this.templateCaches[c];if(!b){b=new a.TemplateCache(c);b.url=e;b.data=d;this.templateCaches[c]=b}return b.load()},clear:function(){var a,b=arguments.length;if(b>0)for(a=0;a<b;a++)delete this.templateCaches[arguments[a]];else this.templateCaches={}}});b.extend(a.TemplateCache.prototype,{load:function(){var a=this,c=a,b=new g.Deferred;if(a.compiledTemplate){b.resolve(a.compiledTemplate);return b.promise()}g.when(a.loadTemplate(a.templateId)).then(function(a){c.compiledTemplate=c.compileTemplate(a);b.resolve(c.compiledTemplate)});return b.promise()},loadTemplate:function(b){var a=g(b).html();if(!a||a.length===0){var d="Could not find template: '"+b+"'",c=new Error(d);c.name="NoTemplateError";throw c;}return a},compileTemplate:function(a){return b.template(a)}});a.Renderer={render:function(c,d){var b=a.TemplateCache.get(c),e=b(d);return e}};a.Callbacks=function(){this.deferred=g.Deferred();this.promise=this.deferred.promise()};b.extend(a.Callbacks.prototype,{add:function(b,a){this.promise.done(function(c,d){if(a)c=a;b.call(c,d)})},run:function(b,a){this.deferred.resolve(a,b)}});a.EventAggregator=a.EventBinder.extend({constructor:function(c){a.EventBinder.apply(this,arguments);b.extend(this,c)},bindTo:function(b,c,d){return a.EventBinder.prototype.bindTo.call(this,this,b,c,d)}});b.extend(a.EventAggregator.prototype,c.Events);a.EventAggregator.extend=c.View.extend;var i=Array.prototype.slice;return a}(Backbone,_,window.jQuery||window.Zepto||window.ender);(function(f,e,h,c){var d="object",b="function",a=true,g=a;!function(a){if(typeof require===b&&typeof exports===d&&typeof module===d){var c=module.exports||exports;a(c)}else if(typeof define===b&&define.amd)define(["exports"],a);else a(f.ko={})}(function(K){var D="retained",F="isRewritten",q="if",y="with",E="focusout",u="select",s="value",p="option",o="number",C="beforeChange",z="change",A="none",m="string",B="textarea",l="",j=null,w="radio",v="checkbox",k=false,r="input",t="div",x="click",n="undefined",i=typeof K!==n?K:{};i.exportSymbol=function(d,e){for(var a=d.split("."),b=i,c=0;c<a.length-1;c++)b=b[a[c]];b[a[a.length-1]]=e};i.exportProperty=function(c,a,b){c[a]=b};i.version="2.1.0";i.exportSymbol("version",i.version);i.utils=new function(){var D=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,o={},u={},C=/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents";o[C]=["keyup","keydown","keypress"];o.MouseEvents=[x,"dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var y in o){var q=o[y];if(q.length)for(var s=0,G=q.length;s<G;s++)u[q[s]]=y}var z={propertychange:a},g=function(){var a=3,b=e.createElement(t),d=b.getElementsByTagName("i");while(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",d[0]);return a>4?a:c}(),E=g===6,F=g===7;function p(a,c){if(i.utils.tagNameLower(a)!==r||!a.type)return k;if(c.toLowerCase()!=x)return k;var b=a.type;return b==v||b==w}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(b,c){for(var a=0,d=b.length;a<d;a++)c(b[a])},arrayIndexOf:function(c,d){if(typeof Array.prototype.indexOf==b)return Array.prototype.indexOf.call(c,d);for(var a=0,e=c.length;a<e;a++)if(c[a]===d)return a;return-1},arrayFirst:function(b,d,c){for(var a=0,e=b.length;a<e;a++)if(d.call(c,b[a]))return b[a];return j},arrayRemoveItem:function(a,c){var b=i.utils.arrayIndexOf(a,c);b>=0&&a.splice(b,1)},arrayGetDistinctValues:function(a){a=a||[];for(var c=[],b=0,d=a.length;b<d;b++)i.utils.arrayIndexOf(c,a[b])<0&&c.push(a[b]);return c},arrayMap:function(a,d){a=a||[];for(var c=[],b=0,e=a.length;b<e;b++)c.push(d(a[b]));return c},arrayFilter:function(a,d){a=a||[];for(var c=[],b=0,e=a.length;b<e;b++)d(a[b])&&c.push(a[b]);return c},arrayPushAll:function(b,a){if(a instanceof Array)b.push.apply(b,a);else for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},extend:function(c,a){if(a)for(var b in a)if(a.hasOwnProperty(b))c[b]=a[b];return c},emptyDomNode:function(a){while(a.firstChild)i.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(d){for(var b=i.utils.makeArray(d),c=e.createElement(t),a=0,f=b.length;a<f;a++){i.cleanNode(b[a]);c.appendChild(b[a])}return c},setDomNodeChildren:function(c,a){i.utils.emptyDomNode(c);if(a)for(var b=0,d=a.length;b<d;b++)c.appendChild(a[b])},replaceDomNodes:function(c,e){var b=c.nodeType?[c]:c;if(b.length>0){for(var d=b[0],g=d.parentNode,a=0,f=e.length;a<f;a++)g.insertBefore(e[a],d);for(var a=0,f=b.length;a<f;a++)i.removeNode(b[a])}},setOptionNodeSelectionState:function(b,a){if(h.userAgent.indexOf("MSIE 6")>=0)b.setAttribute("selected",a);else b.selected=a},stringTrim:function(a){return(a||l).replace(D,l)},stringTokenize:function(f,e){for(var c=[],d=(f||l).split(e),a=0,g=d.length;a<g;a++){var b=i.utils.stringTrim(d[a]);b!==l&&c.push(b)}return c},stringStartsWith:function(a,b){a=a||l;return b.length>a.length?k:a.substring(0,b.length)===b},buildEvalWithinScopeFunction:function(d,c){for(var a="return ("+d+")",b=0;b<c;b++)a="with(sc["+b+"]) { "+a+" } ";return new Function("sc",a)},domNodeIsContainedBy:function(b,c){if(c.compareDocumentPosition)return(c.compareDocumentPosition(b)&16)==16;while(b!=j){if(b==c)return a;b=b.parentNode}return k},domNodeIsAttachedToDocument:function(a){return i.utils.domNodeIsContainedBy(a,a.ownerDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(c,d,e){var f=g&&z[d];if(!f&&typeof jQuery!=n){if(p(c,d)){var h=e;e=function(e,c){var b=this,d=b.checked;if(c)b.checked=c.checkedStateBeforeEvent!==a;h.call(b,e);b.checked=d}}jQuery(c).bind(d,e)}else if(!f&&typeof c.addEventListener==b)c.addEventListener(d,e,k);else if(typeof c.attachEvent!=n)c.attachEvent("on"+d,function(a){e.call(c,a)});else throw new Error("Browser doesn't support addEventListener or attachEvent");},triggerEvent:function(c,d){if(!(c&&c.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!=n){var g=[];p(c,d)&&g.push({checkedStateBeforeEvent:c.checked});jQuery(c).trigger(d,g)}else if(typeof e.createEvent==b)if(typeof c.dispatchEvent==b){var i=u[d]||"HTMLEvents",h=e.createEvent(i);h.initEvent(d,a,a,f,0,0,0,0,0,k,k,k,k,0,c);c.dispatchEvent(h)}else throw new Error("The supplied element doesn't support dispatchEvent");else if(typeof c.fireEvent!=n){if(p(c,d))c.checked=c.checked!==a;c.fireEvent("on"+d)}else throw new Error("Browser doesn't support triggering events");},unwrapObservable:function(a){return i.isObservable(a)?a():a},toggleDomNodeCssClass:function(d,c,e){var a=(d.className||l).split(/\s+/),g=i.utils.arrayIndexOf(a,c)>=0;if(e&&!g)d.className+=(a[0]?" ":l)+c;else if(g&&!e){for(var f=l,b=0;b<a.length;b++)if(a[b]!=c)f+=a[b]+" ";d.className=i.utils.stringTrim(f)}},setTextContent:function(a,d){var b=i.utils.unwrapObservable(d);if(b===j||b===c)b=l;"innerText"in a?(a.innerText=b):(a.textContent=b);if(g>=9)a.style.display=a.style.display},ensureSelectElementIsRenderedCorrectly:function(a){if(g>=9){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,a){b=i.utils.unwrapObservable(b);a=i.utils.unwrapObservable(a);for(var d=[],c=b;c<=a;c++)d.push(c);return d},makeArray:function(b){for(var c=[],a=0,d=b.length;a<d;a++)c.push(b[a]);return c},isIe6:E,isIe7:F,ieVersion:g,getFormFields:function(e,b){for(var c=i.utils.makeArray(e.getElementsByTagName(r)).concat(i.utils.makeArray(e.getElementsByTagName(B))),f=typeof b==m?function(a){return a.name===b}:function(a){return b.test(a.name)},d=[],a=c.length-1;a>=0;a--)f(c[a])&&d.push(c[a]);return d},parseJson:function(a){if(typeof a==m){a=i.utils.stringTrim(a);if(a)return f.JSON&&f.JSON.parse?f.JSON.parse(a):new Function("return "+a)()}return j},stringifyJson:function(c,a,b){if(typeof JSON==n||typeof JSON.stringify==n)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(i.utils.unwrapObservable(c),a,b)},postJson:function(f,g,b){b=b||{};var l=b.params||{},n=b.includeFields||this.fieldsIncludedWithJsonPost,p=f;if(typeof f==d&&i.utils.tagNameLower(f)==="form"){var o=f;p=o.action;for(var m=n.length-1;m>=0;m--)for(var k=i.utils.getFormFields(o,n[m]),j=k.length-1;j>=0;j--)l[k[j].name]=k[j].value}g=i.utils.unwrapObservable(g);var a=e.createElement("form");a.style.display=A;a.action=p;a.method="post";for(var h in g){var c=e.createElement(r);c.name=h;c.value=i.utils.stringifyJson(i.utils.unwrapObservable(g[h]));a.appendChild(c)}for(var h in l){var c=e.createElement(r);c.name=h;c.value=l[h];a.appendChild(c)}e.body.appendChild(a);b.submitter?b.submitter(a):a.submit();setTimeout(function(){a.parentNode.removeChild(a)},0)}}};i.exportSymbol("utils",i.utils);i.exportSymbol("utils.arrayForEach",i.utils.arrayForEach);i.exportSymbol("utils.arrayFirst",i.utils.arrayFirst);i.exportSymbol("utils.arrayFilter",i.utils.arrayFilter);i.exportSymbol("utils.arrayGetDistinctValues",i.utils.arrayGetDistinctValues);i.exportSymbol("utils.arrayIndexOf",i.utils.arrayIndexOf);i.exportSymbol("utils.arrayMap",i.utils.arrayMap);i.exportSymbol("utils.arrayPushAll",i.utils.arrayPushAll);i.exportSymbol("utils.arrayRemoveItem",i.utils.arrayRemoveItem);i.exportSymbol("utils.extend",i.utils.extend);i.exportSymbol("utils.fieldsIncludedWithJsonPost",i.utils.fieldsIncludedWithJsonPost);i.exportSymbol("utils.getFormFields",i.utils.getFormFields);i.exportSymbol("utils.postJson",i.utils.postJson);i.exportSymbol("utils.parseJson",i.utils.parseJson);i.exportSymbol("utils.registerEventHandler",i.utils.registerEventHandler);i.exportSymbol("utils.stringifyJson",i.utils.stringifyJson);i.exportSymbol("utils.range",i.utils.range);i.exportSymbol("utils.toggleDomNodeCssClass",i.utils.toggleDomNodeCssClass);i.exportSymbol("utils.triggerEvent",i.utils.triggerEvent);i.exportSymbol("utils.unwrapObservable",i.utils.unwrapObservable);if(!Function.prototype.bind)Function.prototype.bind=function(c){var b=this,a=Array.prototype.slice.call(arguments),c=a.shift();return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}};i.utils.domData=new function(){var e=0,b="__ko__"+(new Date).getTime(),d={};return{"get":function(b,d){var a=i.utils.domData.getAll(b,k);return a===c?c:a[d]},"set":function(d,f,b){if(b===c)if(i.utils.domData.getAll(d,k)===c)return;var e=i.utils.domData.getAll(d,a);e[f]=b},getAll:function(f,h){var a=f[b],g=a&&a!=="null";if(!g){if(!h)return c;a=f[b]="ko"+e++;d[a]={}}return d[a]},clear:function(c){var a=c[b];if(a){delete d[a];c[b]=j}}}};i.exportSymbol("utils.domData",i.utils.domData);i.exportSymbol("utils.domData.clear",i.utils.domData.clear);i.utils.domNodeDisposal=new function(){var f="__ko_domNodeDisposal__"+(new Date).getTime(),l={1:a,8:a,9:a},g={1:a,9:a};function d(b,d){var a=i.utils.domData.get(b,f);if(a===c&&d){a=[];i.utils.domData.set(b,f,a)}return a}function j(a){i.utils.domData.set(a,f,c)}function e(a){var c=d(a,k);if(c){c=c.slice(0);for(var e=0;e<c.length;e++)c[e](a)}i.utils.domData.clear(a);typeof jQuery==b&&typeof jQuery.cleanData==b&&jQuery.cleanData([a]);g[a.nodeType]&&h(a)}function h(c){var a,b=c.firstChild;while(a=b){b=a.nextSibling;a.nodeType===8&&e(a)}}return{addDisposeCallback:function(e,c){if(typeof c!=b)throw new Error("Callback must be a function");d(e,a).push(c)},removeDisposeCallback:function(b,c){var a=d(b,k);if(a){i.utils.arrayRemoveItem(a,c);a.length==0&&j(b)}},cleanNode:function(a){if(l[a.nodeType]){e(a);if(g[a.nodeType]){var b=[];i.utils.arrayPushAll(b,a.getElementsByTagName("*"));for(var c=0,d=b.length;c<d;c++)e(b[c])}}},removeNode:function(a){i.cleanNode(a);a.parentNode&&a.parentNode.removeChild(a)}}};i.cleanNode=i.utils.domNodeDisposal.cleanNode;i.removeNode=i.utils.domNodeDisposal.removeNode;i.exportSymbol("cleanNode",i.cleanNode);i.exportSymbol("removeNode",i.removeNode);i.exportSymbol("utils.domNodeDisposal",i.utils.domNodeDisposal);i.exportSymbol("utils.domNodeDisposal.addDisposeCallback",i.utils.domNodeDisposal.addDisposeCallback);i.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",i.utils.domNodeDisposal.removeDisposeCallback);(function(){var g=/^(\s*)<!--(.*?)-->/;function d(h){var c=i.utils.stringTrim(h).toLowerCase(),a=e.createElement(t),d=c.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!c.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!c.indexOf("<td")||!c.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,l,l],g="ignored<div>"+d[1]+h+d[2]+"</div>";if(typeof f.innerShiv==b)a.appendChild(f.innerShiv(g));else a.innerHTML=g;while(d[0]--)a=a.lastChild;return i.utils.makeArray(a.lastChild.childNodes)}function a(c){var b=jQuery.clean([c]);if(b&&b[0]){var a=b[0];while(a.parentNode&&a.parentNode.nodeType!==11)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}return b}i.utils.parseHtmlFragment=function(b){return typeof jQuery!=n?a(b):d(b)};i.utils.setHtml=function(b,a){i.utils.emptyDomNode(b);if(a!==j&&a!==c){if(typeof a!=m)a=a.toString();if(typeof jQuery!=n)jQuery(b).html(a);else for(var e=i.utils.parseHtmlFragment(a),d=0;d<e.length;d++)b.appendChild(e[d])}}})();i.exportSymbol("utils.parseHtmlFragment",i.utils.parseHtmlFragment);i.exportSymbol("utils.setHtml",i.utils.setHtml);i.memoization=function(){var d={};function e(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function g(){return e()+e()}function f(a,c){if(!a)return;if(a.nodeType==8){var e=i.memoization.parseMemoText(a.nodeValue);e!=j&&c.push({domNode:a,memoId:e})}else if(a.nodeType==1)for(var b=0,d=a.childNodes,g=d.length;b<g;b++)f(d[b],c)}return{memoize:function(a){if(typeof a!=b)throw new Error("You can only pass a function to ko.memoization.memoize()");var c=g();d[c]=a;return"<!--[ko_memo:"+c+"]-->"},unmemoize:function(b,f){var e=d[b];if(e===c)throw new Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{e.apply(j,f||[]);return a}finally{delete d[b]}},unmemoizeDomNodeAndDescendants:function(g,d){var b=[];f(g,b);for(var c=0,h=b.length;c<h;c++){var a=b[c].domNode,e=[a];d&&i.utils.arrayPushAll(e,d);i.memoization.unmemoize(b[c].memoId,e);a.nodeValue=l;a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(b){var a=b.match(/^\[ko_memo\:(.*?)\]$/);return a?a[1]:j}}}();i.exportSymbol("memoization",i.memoization);i.exportSymbol("memoization.memoize",i.memoization.memoize);i.exportSymbol("memoization.unmemoize",i.memoization.unmemoize);i.exportSymbol("memoization.parseMemoText",i.memoization.parseMemoText);i.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",i.memoization.unmemoizeDomNodeAndDescendants);i.extenders={throttle:function(a,c){a.throttleEvaluation=c;var b=j;return i.dependentObservable({read:a,write:function(d){clearTimeout(b);b=setTimeout(function(){a(d)},c)}})},notify:function(a,b){a.equalityComparer=b=="always"?function(){return k}:i.observable.fn.equalityComparer;return a}};function N(a){var c=this;if(a)for(var e in a){var d=i.extenders[e];if(typeof d==b)c=d(c,a[e])}return c}i.exportSymbol("extenders",i.extenders);i.subscription=function(d,c,b){var a=this;a.target=d;a.callback=c;a.disposeCallback=b;i.exportProperty(a,"dispose",a.dispose)};i.subscription.prototype.dispose=function(){this.isDisposed=a;this.disposeCallback()};i.subscribable=function(){var a=this;a._subscriptions={};i.utils.extend(a,i.subscribable.fn);i.exportProperty(a,"subscribe",a.subscribe);i.exportProperty(a,"extend",a.extend);i.exportProperty(a,"getSubscriptionsCount",a.getSubscriptionsCount)};var J=z;i.subscribable.fn={subscribe:function(e,d,a){var b=this;a=a||J;var f=d?e.bind(d):e,c=new i.subscription(b,f,function(){i.utils.arrayRemoveItem(this._subscriptions[a],c)}.bind(b));if(!b._subscriptions[a])b._subscriptions[a]=[];b._subscriptions[a].push(c);return c},notifySubscribers:function(c,b){b=b||J;this._subscriptions[b]&&i.utils.arrayForEach(this._subscriptions[b].slice(0),function(b){b&&b.isDisposed!==a&&b.callback(c)})},getSubscriptionsCount:function(){var b=0;for(var a in this._subscriptions)if(this._subscriptions.hasOwnProperty(a))b+=this._subscriptions[a].length;return b},extend:N};i.isSubscribable=function(a){return typeof a.subscribe==b&&typeof a.notifySubscribers==b};i.exportSymbol("subscribable",i.subscribable);i.exportSymbol("isSubscribable",i.isSubscribable);i.dependencyDetection=function(){var a=[];return{begin:function(b){a.push({callback:b,distinctDependencies:[]})},end:function(){a.pop()},registerDependency:function(b){if(!i.isSubscribable(b))throw new Error("Only subscribable things can act as dependencies");if(a.length>0){var c=a[a.length-1];if(i.utils.arrayIndexOf(c.distinctDependencies,b)>=0)return;c.distinctDependencies.push(b);c.callback(b)}}}}();var O={undefined:a,"boolean":a,number:a,string:a};i.observable=function(c){var b=c;function a(){if(arguments.length>0){if(!a.equalityComparer||!a.equalityComparer(b,arguments[0])){a.valueWillMutate();b=arguments[0];if(g)a._latestValue=b;a.valueHasMutated()}return this}else{i.dependencyDetection.registerDependency(a);return b}}if(g)a._latestValue=b;i.subscribable.call(a);a.valueHasMutated=function(){a.notifySubscribers(b)};a.valueWillMutate=function(){a.notifySubscribers(b,C)};i.utils.extend(a,i.observable.fn);i.exportProperty(a,"valueHasMutated",a.valueHasMutated);i.exportProperty(a,"valueWillMutate",a.valueWillMutate);return a};i.observable.fn={equalityComparer:function(a,c){var b=a===j||typeof a in O;return b?a===c:k}};var G=i.observable.protoProperty="__ko_proto__";i.observable.fn[G]=i.observable;i.hasPrototype=function(b,d){return b===j||b===c||b[G]===c?k:b[G]===d?a:i.hasPrototype(b[G],d)};i.isObservable=function(a){return i.hasPrototype(a,i.observable)};i.isWriteableObservable=function(c){return typeof c==b&&c[G]===i.observable?a:typeof c==b&&c[G]===i.dependentObservable&&c.hasWriteFunction?a:k};i.exportSymbol("observable",i.observable);i.exportSymbol("isObservable",i.isObservable);i.exportSymbol("isWriteableObservable",i.isWriteableObservable);i.observableArray=function(a){if(arguments.length==0)a=[];if(a!==j&&a!==c&&!("length"in a))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var b=i.observable(a);i.utils.extend(b,i.observableArray.fn);return b};i.observableArray.fn={remove:function(d){for(var e=this(),c=[],g=typeof d==b?d:function(a){return a===d},a=0;a<e.length;a++){var f=e[a];if(g(f)){c.length===0&&this.valueWillMutate();c.push(f);e.splice(a,1);a--}}c.length&&this.valueHasMutated();return c},removeAll:function(d){var a=this;if(d===c){var b=a(),e=b.slice(0);a.valueWillMutate();b.splice(0,b.length);a.valueHasMutated();return e}return!d?[]:a.remove(function(a){return i.utils.arrayIndexOf(d,a)>=0})},destroy:function(d){var e=this(),f=typeof d==b?d:function(a){return a===d};this.valueWillMutate();for(var c=e.length-1;c>=0;c--){var g=e[c];if(f(g))e[c]._destroy=a}this.valueHasMutated()},destroyAll:function(b){return b===c?this.destroy(function(){return a}):!b?[]:this.destroy(function(a){return i.utils.arrayIndexOf(b,a)>=0})},indexOf:function(b){var a=this();return i.utils.arrayIndexOf(a,b)},replace:function(d,c){var a=this,b=a.indexOf(d);if(b>=0){a.valueWillMutate();a()[b]=c;a.valueHasMutated()}}};i.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(a){i.observableArray.fn[a]=function(){var b=this();this.valueWillMutate();var c=b[a].apply(b,arguments);this.valueHasMutated();return c}});i.utils.arrayForEach(["slice"],function(a){i.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});i.exportSymbol("observableArray",i.observableArray);i.dependentObservable=function(y,o,f){var m,r=k,s=k,h=y;if(h&&typeof h==d){f=h;h=f.read}else{f=f||{};if(!h)h=f.read}if(typeof h!=b)throw new Error("Pass a function that returns the value of the ko.computed");var w=f.write;if(!o)o=f.owner;var l=[];function u(){i.utils.arrayForEach(l,function(a){a.dispose()});l=[]}var q=u,n=typeof f.disposeWhenNodeIsRemoved==d?f.disposeWhenNodeIsRemoved:j,t=f.disposeWhen||function(){return k};if(n){q=function(){i.utils.domNodeDisposal.removeDisposeCallback(n,arguments.callee);u()};i.utils.domNodeDisposal.addDisposeCallback(n,q);var x=t;t=function(){return!i.utils.domNodeIsAttachedToDocument(n)||x()}}var v=j;function z(){var a=e.throttleEvaluation;if(a&&a>=0){clearTimeout(v);v=setTimeout(p,a)}else p()}function p(){if(s)return;if(r&&t()){q();return}s=a;try{var b=i.utils.arrayMap(l,function(a){return a.target});i.dependencyDetection.begin(function(a){var d;if((d=i.utils.arrayIndexOf(b,a))>=0)b[d]=c;else l.push(a.subscribe(z))});for(var f=h.call(o),d=b.length-1;d>=0;d--)b[d]&&l.splice(d,1)[0].dispose();r=a;e.notifySubscribers(m,C);m=f;if(g)e._latestValue=m}finally{i.dependencyDetection.end()}e.notifySubscribers(m);s=k}function e(){if(arguments.length>0)B.apply(e,arguments);else return A()}function B(){if(typeof w===b)w.apply(o,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");}function A(){!r&&p();i.dependencyDetection.registerDependency(e);return m}e.getDependenciesCount=function(){return l.length};e.hasWriteFunction=typeof f.write===b;e.dispose=function(){q()};i.subscribable.call(e);i.utils.extend(e,i.dependentObservable.fn);f.deferEvaluation!==a&&p();i.exportProperty(e,"dispose",e.dispose);i.exportProperty(e,"getDependenciesCount",e.getDependenciesCount);return e};i.isComputed=function(a){return i.hasPrototype(a,i.dependentObservable)};var L=i.observable.protoProperty;i.dependentObservable[L]=i.observable;i.dependentObservable.fn={};i.dependentObservable.fn[L]=i.dependentObservable;i.exportSymbol("dependentObservable",i.dependentObservable);i.exportSymbol("computed",i.dependentObservable);i.exportSymbol("isComputed",i.isComputed);(function(){var f=10;i.toJS=function(b){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return a(b,function(a){for(var b=0;i.isObservable(a)&&b<f;b++)a=a();return a})};i.toJSON=function(b,c,d){var a=i.toJS(b);return i.utils.stringifyJson(a,c,d)};function a(f,k,h){h=h||new g;f=k(f);var l=typeof f==d&&f!==j&&f!==c&&!(f instanceof Date);if(!l)return f;var i=f instanceof Array?[]:{};h.save(f,i);e(f,function(g){var e=k(f[g]);switch(typeof e){case"boolean":case o:case m:case b:i[g]=e;break;case d:case n:var j=h.get(e);i[g]=j!==c?j:a(e,k,h)}});return i}function e(a,c){if(a instanceof Array){for(var d=0;d<a.length;d++)c(d);typeof a.toJSON==b&&c("toJSON")}else for(var e in a)c(e)}function g(){var b=[],a=[];this.save=function(e,d){var c=i.utils.arrayIndexOf(b,e);if(c>=0)a[c]=d;else{b.push(e);a.push(d)}};this.get=function(e){var d=i.utils.arrayIndexOf(b,e);return d>=0?a[d]:c}}})();i.exportSymbol("toJS",i.toJS);i.exportSymbol("toJSON",i.toJSON);(function(){var b="__ko__hasDomDataOptionValue__";i.selectExtensions={readValue:function(d){switch(i.utils.tagNameLower(d)){case p:return d[b]===a?i.utils.domData.get(d,i.bindingHandlers.options.optionValueDomDataKey):d.getAttribute(s);case u:return d.selectedIndex>=0?i.selectExtensions.readValue(d.options[d.selectedIndex]):c;default:return d.value}},writeValue:function(d,e){switch(i.utils.tagNameLower(d)){case p:switch(typeof e){case m:i.utils.domData.set(d,i.bindingHandlers.options.optionValueDomDataKey,c);if(b in d)delete d[b];d.value=e;break;default:i.utils.domData.set(d,i.bindingHandlers.options.optionValueDomDataKey,e);d[b]=a;d.value=typeof e===o?e:l}break;case u:for(var f=d.options.length-1;f>=0;f--)if(i.selectExtensions.readValue(d.options[f])==e){d.selectedIndex=f;break}break;default:if(e===j||e===c)e=l;d.value=e}}}})();i.exportSymbol("selectExtensions",i.selectExtensions);i.exportSymbol("selectExtensions.readValue",i.selectExtensions.readValue);i.exportSymbol("selectExtensions.writeValue",i.selectExtensions.writeValue);i.jsonExpressionRewriting=function(){var d=/\@ko_token_(\d+)\@/g,c=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,e=["true","false"];function b(a,c){var b=j;while(a!=b){b=a;a=a.replace(d,function(b,a){return c[a]})}return a}function f(a){return i.utils.arrayIndexOf(e,i.utils.stringTrim(a).toLowerCase())>=0?k:a.match(c)!==j}function g(b){var a=i.utils.stringTrim(b);switch(a.length&&a.charAt(0)){case"'":case'"':return b;default:return"'"+a+"'"}}return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var f="@ko_token_",a=i.utils.stringTrim(t);if(a.length<3)return[];if(a.charAt(0)==="{")a=a.substring(1,a.length-1);for(var h=[],d=j,g,c=0;c<a.length;c++){var e=a.charAt(c);if(d===j)switch(e){case'"':case"'":case"/":d=c;g=e}else if(e==g&&a.charAt(c-1)!=="\\"){var o=a.substring(d,c+1);h.push(o);var m=f+(h.length-1)+"@";a=a.substring(0,d)+m+a.substring(c+1);c-=o.length-m.length;d=j}}d=j;g=j;for(var p=0,l=j,c=0;c<a.length;c++){var e=a.charAt(c);if(d===j)switch(e){case"{":d=c;l=e;g="}";break;case"(":d=c;l=e;g=")";break;case"[":d=c;l=e;g="]"}if(e===l)p++;else if(e===g){p--;if(p===0){var o=a.substring(d,c+1);h.push(o);var m=f+(h.length-1)+"@";a=a.substring(0,d)+m+a.substring(c+1);c-=o.length-m.length;d=j}}}for(var q=[],s=a.split(","),r=0,w=s.length;r<w;r++){var k=s[r],n=k.indexOf(":");if(n>0&&n<k.length-1){var v=k.substring(0,n),u=k.substring(n+1);q.push({key:b(v,h),value:b(u,h)})}else q.push({unknown:b(k,h)})}return q},insertPropertyAccessorsIntoJson:function(d){for(var o=typeof d===m?i.jsonExpressionRewriting.parseObjectLiteral(d):d,a=[],c=[],b,k=0;b=o[k];k++){a.length>0&&a.push(",");if(b.key){var j=g(b.key),h=b.value;a.push(j);a.push(":");a.push(h);if(f(i.utils.stringTrim(h))){c.length>0&&c.push(", ");c.push(j+" : function(__ko_value) { "+h+" = __ko_value; }")}}else b.unknown&&a.push(b.unknown)}var e=a.join(l);if(c.length>0){var n=c.join(l);e=e+", '_ko_property_writers' : { "+n+" } "}return e},keyValueArrayContainsKey:function(c,d){for(var b=0;b<c.length;b++)if(i.utils.stringTrim(c[b].key)==d)return a;return k},writeValueToProperty:function(a,e,d,c,f){if(!a||!i.isWriteableObservable(a)){var b=e()._ko_property_writers;b&&b[d]&&b[d](c)}else(!f||a()!==c)&&a(c)}}}();i.exportSymbol("jsonExpressionRewriting",i.jsonExpressionRewriting);i.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",i.jsonExpressionRewriting.bindingRewriteValidators);i.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",i.jsonExpressionRewriting.parseObjectLiteral);i.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){var c=e.createComment("test").text==="<!--test-->",l=c?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,m=c?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:a,ol:a};function b(a){return a.nodeType==8&&(c?a.text:a.nodeValue).match(l)}function d(a){return a.nodeType==8&&(c?a.text:a.nodeValue).match(m)}function g(e,g){var a=e,c=1,f=[];while(a=a.nextSibling){if(d(a)){c--;if(c===0)return f}f.push(a);if(b(a))c++}if(!g)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return j}function f(b,c){var a=g(b,c);return a?a.length>0?a[a.length-1].nextSibling:b.nextSibling:j}function k(h){var c=h.firstChild,e=j;if(c)do if(e)e.push(c);else if(b(c)){var g=f(c,a);if(g)c=g;else e=[c]}else if(d(c))e=[c];while(c=c.nextSibling);return e}i.virtualElements={allowedBindings:{},childNodes:function(a){return b(a)?g(a):a.childNodes},emptyNode:function(a){if(!b(a))i.utils.emptyDomNode(a);else for(var d=i.virtualElements.childNodes(a),c=0,e=d.length;c<e;c++)i.removeNode(d[c])},setDomNodeChildren:function(a,c){if(!b(a))i.utils.setDomNodeChildren(a,c);else{i.virtualElements.emptyNode(a);for(var e=a.nextSibling,d=0,f=c.length;d<f;d++)e.parentNode.insertBefore(c[d],e)}},prepend:function(a,c){if(!b(a))if(a.firstChild)a.insertBefore(c,a.firstChild);else a.appendChild(c);else a.parentNode.insertBefore(c,a.nextSibling)},insertAfter:function(a,d,c){if(!b(a))if(c.nextSibling)a.insertBefore(d,c.nextSibling);else a.appendChild(d);else a.parentNode.insertBefore(d,c.nextSibling)},firstChild:function(a){return!b(a)?a.firstChild:!a.nextSibling||d(a.nextSibling)?j:a.nextSibling},nextSibling:function(a){if(b(a))a=f(a);return a.nextSibling&&d(a.nextSibling)?j:a.nextSibling},virtualNodeBindingValue:function(c){var a=b(c);return a?a[1]:j},normaliseVirtualElementDomStructure:function(b){if(!h[i.utils.tagNameLower(b)])return;var a=b.firstChild;if(a)do if(a.nodeType===1){var c=k(a);if(c)for(var e=a.nextSibling,d=0;d<c.length;d++)if(e)b.insertBefore(c[d],e);else b.appendChild(c[d])}while(a=a.nextSibling)}}})();i.exportSymbol("virtualElements",i.virtualElements);i.exportSymbol("virtualElements.allowedBindings",i.virtualElements.allowedBindings);i.exportSymbol("virtualElements.emptyNode",i.virtualElements.emptyNode);i.exportSymbol("virtualElements.insertAfter",i.virtualElements.insertAfter);i.exportSymbol("virtualElements.prepend",i.virtualElements.prepend);i.exportSymbol("virtualElements.setDomNodeChildren",i.virtualElements.setDomNodeChildren);(function(){var a="data-bind";i.bindingProvider=function(){this.bindingCache={}};i.utils.extend(i.bindingProvider.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute(a)!=j;case 8:return i.virtualElements.virtualNodeBindingValue(b)!=j;default:return k}},getBindings:function(c,a){var b=this.getBindingsString(c,a);return b?this.parseBindingsString(b,a):j},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(a);case 8:return i.virtualElements.virtualNodeBindingValue(b);default:return j}},parseBindingsString:function(e,a){try{var c=a.$data,f=typeof c==d&&c!=j?[c,a]:[a],g=b(e,f.length,this.bindingCache);return g(f)}catch(h){throw new Error("Unable to parse bindings.\nMessage: "+h+";\nBindings value: "+e);}}});i.bindingProvider.instance=new i.bindingProvider;function b(a,b,e){var d=b+"_"+a;return e[d]||(e[d]=c(a,b))}function c(b,c){var a=" { "+i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(b)+" } ";return i.utils.buildEvalWithinScopeFunction(a,c)}})();i.exportSymbol("bindingProvider",i.bindingProvider);(function(){i.bindingHandlers={};i.bindingContext=function(c,b){var a=this;if(b){i.utils.extend(a,b);a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent)}else{a.$parents=[];a.$root=c}a.$data=c};i.bindingContext.prototype.createChildContext=function(a){return new i.bindingContext(a,this)};i.bindingContext.prototype.extend=function(a){var b=i.utils.extend(new i.bindingContext,this);return i.utils.extend(b,a)};function k(a){var b=i.virtualElements.allowedBindings[a];if(!b)throw new Error("The binding '"+a+"' cannot be used with virtual elements");}function e(f,e,c){var a,b=i.virtualElements.firstChild(e);while(a=b){b=i.virtualElements.nextSibling(a);d(f,a,c)}}function d(g,b,d){var f=a,c=b.nodeType===1;c&&i.virtualElements.normaliseVirtualElementDomStructure(b);var k=c&&d||i.bindingProvider.instance.nodeHasBindings(b);if(k)f=h(b,j,g,d).shouldBindDescendants;f&&e(g,b,!c)}function h(d,h,f,n){var g=0,a;function m(b){return function(){return a[b]}}function l(){return a}var e;i.dependentObservable(function(){var p=f&&f instanceof i.bindingContext?f:new i.bindingContext(i.utils.unwrapObservable(f)),r=p.$data;n&&i.storedBindingContextForNode(d,p);var s=typeof h==b?h():h;a=s||i.bindingProvider.instance.getBindings(d,p);if(a){if(g===0){g=1;for(var j in a){var o=i.bindingHandlers[j];o&&d.nodeType===8&&k(j);if(o&&typeof o.init==b){var u=o.init,q=u(d,m(j),l,r,p);if(q&&q.controlsDescendantBindings){if(e!==c)throw new Error("Multiple bindings ("+e+" and "+j+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");e=j}}}g=2}if(g===2)for(var j in a){var o=i.bindingHandlers[j];if(o&&typeof o.update==b){var t=o.update;t(d,m(j),l,r,p)}}}},j,{disposeWhenNodeIsRemoved:d});return{shouldBindDescendants:e===c}}var g="__ko_bindingContext__";i.storedBindingContextForNode=function(a,b){if(arguments.length==2)i.utils.domData.set(a,g,b);else return i.utils.domData.get(a,g)};i.applyBindingsToNode=function(b,d,c){b.nodeType===1&&i.virtualElements.normaliseVirtualElementDomStructure(b);return h(b,d,c,a)};i.applyBindingsToDescendants=function(c,b){(b.nodeType===1||b.nodeType===8)&&e(c,b,a)};i.applyBindings=function(c,b){if(b&&b.nodeType!==1&&b.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||f.document.body;d(c,b,a)};i.contextFor=function(a){switch(a.nodeType){case 1:case 8:var b=i.storedBindingContextForNode(a);if(b)return b;if(a.parentNode)return i.contextFor(a.parentNode)}return c};i.dataFor=function(b){var a=i.contextFor(b);return a?a.$data:c};i.exportSymbol("bindingHandlers",i.bindingHandlers);i.exportSymbol("applyBindings",i.applyBindings);i.exportSymbol("applyBindingsToDescendants",i.applyBindingsToDescendants);i.exportSymbol("applyBindingsToNode",i.applyBindingsToNode);i.exportSymbol("contextFor",i.contextFor);i.exportSymbol("dataFor",i.dataFor)})();var M=[x];i.utils.arrayForEach(M,function(a){i.bindingHandlers[a]={init:function(f,d,b,e){var c=function(){var b={};b[a]=d();return b};return i.bindingHandlers.event.init.call(this,f,c,b,e)}}});i.bindingHandlers.event={init:function(g,b,e,c){var f=b()||{};for(var d in f)(function(){var f=d;typeof f==m&&i.utils.registerEventHandler(g,f,function(d){var g,h=b()[f];if(!h)return;var l=e();try{var j=i.utils.makeArray(arguments);j.unshift(c);g=h.apply(c,j)}finally{if(g!==a)if(d.preventDefault)d.preventDefault();else d.returnValue=k}var m=l[f+"Bubble"]!==k;if(!m){d.cancelBubble=a;d.stopPropagation&&d.stopPropagation()}})})()}};i.bindingHandlers.submit={init:function(d,c,f,e){if(typeof c()!=b)throw new Error("The value for a submit binding must be a function");i.utils.registerEventHandler(d,"submit",function(b){var f,g=c();try{f=g.call(e,d)}finally{if(f!==a)if(b.preventDefault)b.preventDefault();else b.returnValue=k}})}};i.bindingHandlers.visible={update:function(a,d){var c=i.utils.unwrapObservable(d()),b=!(a.style.display==A);if(c&&!b)a.style.display=l;else if(!c&&b)a.style.display=A}};i.bindingHandlers.enable={update:function(b,d){var c=i.utils.unwrapObservable(d());if(c&&b.disabled)b.removeAttribute("disabled");else if(!c&&!b.disabled)b.disabled=a}};i.bindingHandlers.disable={update:function(b,a){i.bindingHandlers.enable.update(b,function(){return!i.utils.unwrapObservable(a())})}};function H(a,b,c){if(c)b!==i.selectExtensions.readValue(a)&&i.selectExtensions.writeValue(a,b);b!==i.selectExtensions.readValue(a)&&i.utils.triggerEvent(a,z)}i.bindingHandlers.value={init:function(b,l,h){var c="propertychange",e=[z],d=h().valueUpdate;if(d){if(typeof d==m)d=[d];i.utils.arrayPushAll(e,d);e=i.utils.arrayGetDistinctValues(e)}var g=function(){var d=l(),c=i.selectExtensions.readValue(b);i.jsonExpressionRewriting.writeValueToProperty(d,h,s,c,a)},j=i.utils.ieVersion&&b.tagName.toLowerCase()==r&&b.type=="text"&&b.autocomplete!="off"&&(!b.form||b.form.autocomplete!="off");if(j&&i.utils.arrayIndexOf(e,c)==-1){var f=k;i.utils.registerEventHandler(b,c,function(){f=a});i.utils.registerEventHandler(b,"blur",function(){if(f){f=k;g()}})}i.utils.arrayForEach(e,function(a){var c=g;if(i.utils.stringStartsWith(a,"after")){c=function(){setTimeout(g,0)};a=a.substring("after".length)}i.utils.registerEventHandler(b,a,c)})},update:function(b,j){var e=i.utils.tagNameLower(b)===u,c=i.utils.unwrapObservable(j()),d=i.selectExtensions.readValue(b),g=c!=d;if(c===0&&d!==0&&d!=="0")g=a;if(g){var f=function(){i.selectExtensions.writeValue(b,c)};f();var h=e;h&&setTimeout(f,0)}e&&b.length>0&&H(b,c,k)}};i.bindingHandlers.options={update:function(d,B,z){if(i.utils.tagNameLower(d)!==u)throw new Error("options binding applies only to SELECT elements");var w=d.length==0,y=i.utils.arrayMap(i.utils.arrayFilter(d.childNodes,function(a){return a.tagName&&i.utils.tagNameLower(a)===p&&a.selected}),function(a){return i.selectExtensions.readValue(a)||a.innerText||a.textContent}),A=d.scrollTop,g=i.utils.unwrapObservable(B()),C=d.value;while(d.length>0){i.cleanNode(d.options[0]);d.remove(0)}if(g){var h=z();if(typeof g.length!=o)g=[g];if(h.optionsCaption){var n=e.createElement(p);i.utils.setHtml(n,h.optionsCaption);i.selectExtensions.writeValue(n,c);d.appendChild(n)}for(var f=0,v=g.length;f<v;f++){var n=e.createElement(p),r=typeof h.optionsValue==m?g[f][h.optionsValue]:g[f];r=i.utils.unwrapObservable(r);i.selectExtensions.writeValue(n,r);var q=h.optionsText,k;if(typeof q==b)k=q(g[f]);else if(typeof q==m)k=g[f][q];else k=r;if(k===j||k===c)k=l;i.utils.setTextContent(n,k);d.appendChild(n)}for(var t=d.getElementsByTagName(p),x=0,f=0,v=t.length;f<v;f++)if(i.utils.arrayIndexOf(y,i.selectExtensions.readValue(t[f]))>=0){i.utils.setOptionNodeSelectionState(t[f],a);x++}d.scrollTop=A;w&&s in h&&H(d,i.utils.unwrapObservable(h.value),a);i.utils.ensureSelectElementIsRenderedCorrectly(d)}}};i.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";i.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(g){for(var a=[],e=g.childNodes,c=0,h=e.length;c<h;c++){var b=e[c],d=i.utils.tagNameLower(b);if(d==p&&b.selected)a.push(i.selectExtensions.readValue(b));else if(d=="optgroup"){var f=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(b);Array.prototype.splice.apply(a,[a.length,0].concat(f))}}return a},init:function(c,b,a){i.utils.registerEventHandler(c,z,function(){var d=b(),c=i.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);i.jsonExpressionRewriting.writeValueToProperty(d,a,s,c)})},update:function(d,f){if(i.utils.tagNameLower(d)!=u)throw new Error("values binding applies only to SELECT elements");var a=i.utils.unwrapObservable(f());if(a&&typeof a.length==o)for(var e=d.childNodes,c=0,g=e.length;c<g;c++){var b=e[c];i.utils.tagNameLower(b)===p&&i.utils.setOptionNodeSelectionState(b,i.utils.arrayIndexOf(a,i.selectExtensions.readValue(b))>=0)}}};i.bindingHandlers.text={update:function(b,a){i.utils.setTextContent(b,a())}};i.bindingHandlers.html={init:function(){return{controlsDescendantBindings:a}},update:function(b,a){var c=i.utils.unwrapObservable(a());i.utils.setHtml(b,c)}};i.bindingHandlers.css={update:function(e,d){var b=i.utils.unwrapObservable(d()||{});for(var a in b)if(typeof a==m){var c=i.utils.unwrapObservable(b[a]);i.utils.toggleDomNodeCssClass(e,a,c)}}};i.bindingHandlers.style={update:function(e,c){var b=i.utils.unwrapObservable(c()||{});for(var a in b)if(typeof a==m){var d=i.utils.unwrapObservable(b[a]);e.style[a]=d||l}}};i.bindingHandlers.uniqueName={init:function(a,b){if(b()){a.name="ko_unique_"+ ++i.bindingHandlers.uniqueName.currentIndex;(i.utils.isIe6||i.utils.isIe7)&&a.mergeAttributes(e.createElement("<input name='"+a.name+"'/>"),k)}}};i.bindingHandlers.uniqueName.currentIndex=0;i.bindingHandlers.checked={init:function(b,e,c){var d=function(){var g;if(b.type==v)g=b.checked;else if(b.type==w&&b.checked)g=b.value;else return;var d=e();if(b.type==v&&i.utils.unwrapObservable(d)instanceof Array){var f=i.utils.arrayIndexOf(i.utils.unwrapObservable(d),b.value);if(b.checked&&f<0)d.push(b.value);else!b.checked&&f>=0&&d.splice(f,1)}else i.jsonExpressionRewriting.writeValueToProperty(d,c,"checked",g,a)};i.utils.registerEventHandler(b,x,d);b.type==w&&!b.name&&i.bindingHandlers.uniqueName.init(b,function(){return a})},update:function(a,c){var b=i.utils.unwrapObservable(c());if(a.type==v)if(b instanceof Array)a.checked=i.utils.arrayIndexOf(b,a.value)>=0;else a.checked=b;else if(a.type==w)a.checked=a.value==b}};var I={"class":"className","for":"htmlFor"};i.bindingHandlers.attr={update:function(d,g){var f=i.utils.unwrapObservable(g())||{};for(var a in f)if(typeof a==m){var b=i.utils.unwrapObservable(f[a]),e=b===k||b===j||b===c;e&&d.removeAttribute(a);if(i.utils.ieVersion<=8&&a in I){a=I[a];if(e)d.removeAttribute(a);else d[a]=b}else!e&&d.setAttribute(a,b.toString())}}};i.bindingHandlers.hasfocus={init:function(c,e,d){var b=function(b){var c=e();i.jsonExpressionRewriting.writeValueToProperty(c,d,"hasfocus",b,a)};i.utils.registerEventHandler(c,"focus",function(){b(a)});i.utils.registerEventHandler(c,"focusin",function(){b(a)});i.utils.registerEventHandler(c,"blur",function(){b(k)});i.utils.registerEventHandler(c,E,function(){b(k)})},update:function(a,c){var b=i.utils.unwrapObservable(c());b?a.focus():a.blur();i.utils.triggerEvent(a,b?"focusin":E)}};i.bindingHandlers[y]={makeTemplateValueAccessor:function(a){return function(){var b=a();return{"if":b,data:b,templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers[y].makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers[y].makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators[y]=k;i.virtualElements.allowedBindings[y]=a;i.bindingHandlers[q]={makeTemplateValueAccessor:function(a){return function(){return{"if":a(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers[q].makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers[q].makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators[q]=k;i.virtualElements.allowedBindings[q]=a;i.bindingHandlers.ifnot={makeTemplateValueAccessor:function(a){return function(){return{ifnot:a(),templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers.ifnot.makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers.ifnot.makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators.ifnot=k;i.virtualElements.allowedBindings.ifnot=a;i.bindingHandlers.foreach={makeTemplateValueAccessor:function(a){return function(){var b=i.utils.unwrapObservable(a());return!b||typeof b.length==o?{foreach:b,templateEngine:i.nativeTemplateEngine.instance}:{foreach:b.data,includeDestroyed:b.includeDestroyed,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,afterRender:b.afterRender,templateEngine:i.nativeTemplateEngine.instance}}},init:function(b,a){return i.bindingHandlers.template.init(b,i.bindingHandlers.foreach.makeTemplateValueAccessor(a))},update:function(e,c,a,d,b){return i.bindingHandlers.template.update(e,i.bindingHandlers.foreach.makeTemplateValueAccessor(c),a,d,b)}};i.jsonExpressionRewriting.bindingRewriteValidators.foreach=k;i.virtualElements.allowedBindings.foreach=a;i.templateEngine=function(){};i.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource");};i.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock");};i.templateEngine.prototype.makeTemplateSource=function(a,b){if(typeof a==m){b=b||e;var c=b.getElementById(a);if(!c)throw new Error("Cannot find template with ID "+a);return new i.templateSources.domElement(c)}else if(a.nodeType==1||a.nodeType==8)return new i.templateSources.anonymousTemplate(a);else throw new Error("Unknown template type: "+a);};i.templateEngine.prototype.renderTemplate=function(d,b,e,a){var c=this.makeTemplateSource(d,a);return this.renderTemplateSource(c,b,e)};i.templateEngine.prototype.isTemplateRewritten=function(d,c){var b=this;if(b.allowTemplateRewriting===k)return a;var f=c&&c!=e;return!f&&b.knownRewrittenTemplates&&b.knownRewrittenTemplates[d]?a:b.makeTemplateSource(d,c).data(F)};i.templateEngine.prototype.rewriteTemplate=function(f,h,c){var b=this,d=b.makeTemplateSource(f,c),i=h(d.text());d.text(i);d.data(F,a);var g=c&&c!=e;if(!g&&typeof f==m){b.knownRewrittenTemplates=b.knownRewrittenTemplates||{};b.knownRewrittenTemplates[f]=a}};i.exportSymbol("templateEngine",i.templateEngine);i.templateRewriting=function(){var d=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,c=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function e(c){for(var g=i.jsonExpressionRewriting.bindingRewriteValidators,a=0;a<c.length;a++){var e=c[a].key;if(g.hasOwnProperty(e)){var d=g[e];if(typeof d===b){var f=d(c[a].value);if(f)throw new Error(f);}else if(!d)throw new Error("This template engine does not support the '"+e+"' binding within its templates");}}}function a(d,g,f){var a=i.jsonExpressionRewriting.parseObjectLiteral(d);e(a);var c=i.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(a),b="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+c+" } })()         })";return f.createJavaScriptEvaluatorBlock(b)+g}return{ensureTemplateIsRewritten:function(c,a,b){!a.isTemplateRewritten(c,b)&&a.rewriteTemplate(c,function(b){return i.templateRewriting.memoizeBindingAttributeSyntax(b,a)},b)},memoizeBindingAttributeSyntax:function(e,b){return e.replace(d,function(){return a(arguments[6],arguments[1],b)}).replace(c,function(){return a(arguments[1],"<!-- ko -->",b)})},applyMemoizedBindingsToNextSibling:function(a){return i.memoization.memoize(function(b,c){b.nextSibling&&i.applyBindingsToNode(b.nextSibling,a,c)})}}}();i.exportSymbol("templateRewriting",i.templateRewriting);i.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",i.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){i.templateSources={};i.templateSources.domElement=function(a){this.domElement=a};i.templateSources.domElement.prototype.text=function(){var a="innerHTML",b=this,d=i.utils.tagNameLower(b.domElement),c=d==="script"?"text":d===B?s:a;if(arguments.length==0)return b.domElement[c];else{var e=arguments[0];if(c===a)i.utils.setHtml(b.domElement,e);else b.domElement[c]=e}};i.templateSources.domElement.prototype.data=function(b){var a="templateSourceData_";if(arguments.length===1)return i.utils.domData.get(this.domElement,a+b);else i.utils.domData.set(this.domElement,a+b,arguments[1])};var a="__ko_anon_template__";i.templateSources.anonymousTemplate=function(a){this.domElement=a};i.templateSources.anonymousTemplate.prototype=new i.templateSources.domElement;i.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var b=i.utils.domData.get(this.domElement,a)||{};if(b.textData===c&&b.containerData)b.textData=b.containerData.innerHTML;return b.textData}else{var d=arguments[0];i.utils.domData.set(this.domElement,a,{textData:d})}};i.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var b=i.utils.domData.get(this.domElement,a)||{};return b.containerData}else{var c=arguments[0];i.utils.domData.set(this.domElement,a,{containerData:c})}};i.exportSymbol("templateSources",i.templateSources);i.exportSymbol("templateSources.domElement",i.templateSources.domElement);i.exportSymbol("templateSources.anonymousTemplate",i.templateSources.anonymousTemplate)})();(function(){var f="ignoreTargetNode",e="replaceNode",g="replaceChildren",l;i.setTemplateEngine=function(a){if(a!=c&&!(a instanceof i.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");l=a};function p(d,e,f){var a,b=d,c=i.virtualElements.nextSibling(e);while(b&&(a=b)!==c){b=i.virtualElements.nextSibling(a);(a.nodeType===1||a.nodeType===8)&&f(a)}}function r(a,b){if(a.length){var c=a[0],d=a[a.length-1];p(c,d,function(a){i.applyBindings(b,a)});p(c,d,function(a){i.memoization.unmemoizeDomNodeAndDescendants(a,[b])})}}function h(a){return a.nodeType?a:a.length>0?a[0]:j}function t(d,s,t,m,c){c=c||{};var q=d&&h(d),p=q&&q.ownerDocument,n=c.templateEngine||l;i.templateRewriting.ensureTemplateIsRewritten(t,n,p);var b=n.renderTemplate(t,m,c,p);if(typeof b.length!=o||b.length>0&&typeof b[0].nodeType!=o)throw new Error("Template engine must return an array of DOM nodes");var j=k;switch(s){case g:i.virtualElements.setDomNodeChildren(d,b);j=a;break;case e:i.utils.replaceDomNodes(d,b);j=a;break;case f:break;default:throw new Error("Unknown renderMode: "+s);}if(j){r(b,m);c.afterRender&&c.afterRender(b,m.$data)}return b}i.renderTemplate=function(n,f,m,d,k){m=m||{};if((m.templateEngine||l)==c)throw new Error("Set a template engine before calling renderTemplate");k=k||g;if(d){var a=h(d),p=function(){return!a||!i.utils.domNodeIsAttachedToDocument(a)},o=a&&k==e?a.parentNode:a;return i.dependentObservable(function(){var c=f&&f instanceof i.bindingContext?f:new i.bindingContext(i.utils.unwrapObservable(f)),j=typeof n==b?n(c.$data):n,g=t(d,k,j,c,m);if(k==e){d=g;a=h(d)}},j,{disposeWhen:p,disposeWhenNodeIsRemoved:o})}else return i.memoization.memoize(function(a){i.renderTemplate(n,f,m,a,e)})};i.renderTemplateForEach=function(e,l,a,g,m){var d,h=function(c,h){var g=typeof e==b?e(c):e;d=m.createChildContext(i.utils.unwrapObservable(c));d.$index=h;return t(j,f,g,d,a)},k=function(c,b){r(b,d);a.afterRender&&a.afterRender(b,c)};return i.dependentObservable(function(){var b=i.utils.unwrapObservable(l)||[];if(typeof b.length==n)b=[b];var d=i.utils.arrayFilter(b,function(b){return a.includeDestroyed||b===c||b===j||!i.utils.unwrapObservable(b._destroy)});i.utils.setDomNodeChildrenFromArrayMapping(g,d,h,a,k)},j,{disposeWhenNodeIsRemoved:g})};var s="__ko__templateSubscriptionDomDataKey__";function u(c,d){var a=i.utils.domData.get(c,s);a&&typeof a.dispose==b&&a.dispose();i.utils.domData.set(c,s,d)}i.bindingHandlers.template={init:function(b,e){var c=i.utils.unwrapObservable(e());if(typeof c!=m&&!c.name&&(b.nodeType==1||b.nodeType==8)){var d=b.nodeType==1?b.childNodes:i.virtualElements.childNodes(b),f=i.utils.moveCleanedNodesToContainerElement(d);(new i.templateSources.anonymousTemplate(b)).nodes(f)}return{controlsDescendantBindings:a}},update:function(e,l,o,p,h){var b=i.utils.unwrapObservable(l()),f,c=a;if(typeof b==m)f=b;else{f=b.name;if(q in b)c=c&&i.utils.unwrapObservable(b[q]);if("ifnot"in b)c=c&&!i.utils.unwrapObservable(b.ifnot)}var g=j;if(typeof b===d&&"foreach"in b){var n=c&&b.foreach||[];g=i.renderTemplateForEach(f||e,n,b,e,h)}else if(c){var k=typeof b==d&&"data"in b?h.createChildContext(i.utils.unwrapObservable(b.data)):h;g=i.renderTemplate(f||e,k,b,e)}else i.virtualElements.emptyNode(e);u(e,g)}};i.jsonExpressionRewriting.bindingRewriteValidators.template=function(b){var a=i.jsonExpressionRewriting.parseObjectLiteral(b);return a.length==1&&a[0].unknown?j:i.jsonExpressionRewriting.keyValueArrayContainsKey(a,"name")?j:"This template engine does not support anonymous templates nested within its templates"};i.virtualElements.allowedBindings.template=a})();i.exportSymbol("setTemplateEngine",i.setTemplateEngine);i.exportSymbol("renderTemplate",i.renderTemplate);(function(){function b(h,g,f){for(var b=[],e=0;e<=g.length;e++)b[e]=[];for(var e=0,i=Math.min(h.length,f);e<=i;e++)b[0][e]=e;for(var e=1,i=Math.min(g.length,f);e<=i;e++)b[e][0]=e;for(var o=h.length,d,n=g.length,p,q,a=1;a<=o;a++){var k=Math.max(1,a-f),j=Math.min(n,a+f);for(d=k;d<=j;d++)if(h[a-1]===g[d-1])b[d][a]=b[d-1][a-1];else{var l=b[d-1][a]===c?Number.MAX_VALUE:b[d-1][a]+1,m=b[d][a-1]===c?Number.MAX_VALUE:b[d][a-1]+1;b[d][a]=Math.min(l,m)}}return b}function a(g,k,m){var a=k.length,b=m.length,i=[],d=g[b][a];if(d===c)return j;while(a>0||b>0){var l=g[b][a],f=b>0?g[b-1][a]:d+1,e=a>0?g[b][a-1]:d+1,h=b>0&&a>0?g[b-1][a-1]:d+1;if(f===c||f<l-1)f=d+1;if(e===c||e<l-1)e=d+1;if(h<l-1)h=d+1;if(f<=e&&f<h){i.push({status:"added",value:m[b-1]});b--}else if(e<f&&e<h){i.push({status:"deleted",value:k[a-1]});a--}else{i.push({status:D,value:k[a-1]});b--;a--}}return i.reverse()}i.utils.compareArrays=function(e,d,f){if(f===c)return i.utils.compareArrays(e,d,1)||i.utils.compareArrays(e,d,10)||i.utils.compareArrays(e,d,Number.MAX_VALUE);else{e=e||[];d=d||[];var g=b(e,d,f);return a(g,e,d)}}})();i.exportSymbol("utils.compareArrays",i.utils.compareArrays);(function(){function d(a){if(a.length>2){var b=a[0],d=a[a.length-1],c=[b];while(b!==d){b=b.nextSibling;if(!b)return;c.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(c))}}function e(f,g,c,b,h){var a=[],e=i.dependentObservable(function(){var e=g(c,h)||[];if(a.length>0){d(a);i.utils.replaceDomNodes(a,e);b&&b(c,e)}a.splice(0,a.length);i.utils.arrayPushAll(a,e)},j,{disposeWhenNodeIsRemoved:f,disposeWhen:function(){return a.length==0||!i.utils.domNodeIsAttachedToDocument(a[0])}});return{mappedNodes:a,dependentObservable:e}}var b="setDomNodeChildrenFromArrayMapping_lastMappingResult";i.utils.setDomNodeChildrenFromArrayMapping=function(m,A,I,n,v){A=A||[];n=n||{};for(var F=i.utils.domData.get(m,b)===c,o=i.utils.domData.get(m,b)||[],H=i.utils.arrayMap(o,function(a){return a.arrayEntry}),l=i.utils.compareArrays(H,A),w=[],h=0,g=[],s=0,r=[],p=j,f=0,J=l.length;f<J;f++)switch(l[f].status){case D:var q=o[h];q.indexObservable(s);s=w.push(q);if(q.domNodes.length>0)p=q.domNodes[q.domNodes.length-1];h++;break;case"deleted":o[h].dependentObservable.dispose();d(o[h].domNodes);i.utils.arrayForEach(o[h].domNodes,function(a){g.push({element:a,index:f,value:l[f].value});p=a});h++;break;case"added":var C=l[f].value,x=i.observable(s),E=e(m,I,C,v,x),t=E.mappedNodes;s=w.push({arrayEntry:l[f].value,domNodes:t,dependentObservable:E.dependentObservable,indexObservable:x});for(var y=0,G=t.length;y<G;y++){var u=t[y];r.push({element:u,index:f,value:l[f].value});if(p==j)i.virtualElements.prepend(m,u);else i.virtualElements.insertAfter(m,u,p);p=u}v&&v(C,t,x)}i.utils.arrayForEach(g,function(a){i.cleanNode(a.element)});var B=k;if(!F){if(n.afterAdd)for(var f=0;f<r.length;f++)n.afterAdd(r[f].element,r[f].index,r[f].value);if(n.beforeRemove){for(var f=0;f<g.length;f++)n.beforeRemove(g[f].element,g[f].index,g[f].value);B=a}}if(!B&&g.length)for(var f=0;f<g.length;f++){var z=g[f].element;z.parentNode&&z.parentNode.removeChild(z)}i.utils.domData.set(m,b,w)}})();i.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",i.utils.setDomNodeChildrenFromArrayMapping);i.nativeTemplateEngine=function(){this.allowTemplateRewriting=k};i.nativeTemplateEngine.prototype=new i.templateEngine;i.nativeTemplateEngine.prototype.renderTemplateSource=function(b){var d=!(i.utils.ieVersion<9),e=d?b.nodes:j,c=e?b.nodes():j;if(c)return i.utils.makeArray(c.cloneNode(a).childNodes);else{var f=b.text();return i.utils.parseHtmlFragment(f)}};i.nativeTemplateEngine.instance=new i.nativeTemplateEngine;i.setTemplateEngine(i.nativeTemplateEngine.instance);i.exportSymbol("nativeTemplateEngine",i.nativeTemplateEngine);(function(){i.jqueryTmplTemplateEngine=function(){var a=this,b=a.jQueryTmplVersion=function(){if(typeof jQuery==n||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(a){}return 1}();function c(){if(b<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function d(b,c,a){return jQuery.tmpl(b,c,a)}a.renderTemplateSource=function(f,i,h){var a="precompiled";h=h||{};c();var b=f.data(a);if(!b){var g=f.text()||l;g="{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}";b=jQuery.template(j,g);f.data(a,b)}var n=[i.$data],m=jQuery.extend({koBindingContext:i},h.templateOptions),k=d(b,n,m);k.appendTo(e.createElement(t));jQuery.fragments={};return k};a.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};a.addTemplate=function(b,a){e.write("<script type='text/html' id='"+b+"'>"+a+"<\/script>")};if(b>0){jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"};jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "}}};i.jqueryTmplTemplateEngine.prototype=new i.templateEngine;var a=new i.jqueryTmplTemplateEngine;a.jQueryTmplVersion>0&&i.setTemplateEngine(a);i.exportSymbol("jqueryTmplTemplateEngine",i.jqueryTmplTemplateEngine)})()})})(window,document,navigator);(function(a){var c="knockout",b="function";if(typeof require===b&&typeof exports==="object"&&typeof module==="object")a(require(c),exports);else if(typeof define===b&&define.amd)define([c,"exports"],a);else a(ko,ko.mapping={})})(function(a,b){var e="undefined",h="object",d="array",c=true,D=c,f="__ko_mapping__",q=a.dependentObservable,r=0,k,n,v=["create","update","key","arrayChanged"],m={include:["_destroy"],ignore:[],copy:[]},g=m;function s(e,c){for(var a in c)if(c.hasOwnProperty(a)&&c[a])if(a&&e[a]&&!(b.getType(e[a])===d))s(e[a],c[a]);else e[a]=c[a]}function p(b,c){var a={};s(a,b);s(a,c);return a}b.isMapped=function(c){var b=a.utils.unwrapObservable(c);return b&&b[f]};b.fromJS=function(d){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){r=0},0);if(!r++){k=[];n=new y}var a,b;if(arguments.length==2)if(arguments[1][f])b=arguments[1];else a=arguments[1];if(arguments.length==3){a=arguments[1];b=arguments[2]}if(b)a=p(a,b[f]);a=t(a);var c=l(b,d,a);if(b)c=b;!--r&&window.setTimeout(function(){while(k.length){var a=k.pop();a&&a()}},0);c[f]=p(c[f],a);return c};b.fromJSON=function(c){var d=a.utils.parseJson(c);arguments[0]=d;return b.fromJS.apply(this,arguments)};b.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};b.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};b.toJS=function(e,c){!g&&b.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(b.getType(g.ignore)!==d)throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(b.getType(g.include)!==d)throw new Error("ko.mapping.defaultOptions().include should be an array.");if(b.getType(g.copy)!==d)throw new Error("ko.mapping.defaultOptions().copy should be an array.");c=t(c,e[f]);return b.visitModel(e,function(b){return a.utils.unwrapObservable(b)},c)};b.toJSON=function(d,e){var c=b.toJS(d,e);return a.utils.stringifyJson(c)};b.defaultOptions=function(){if(arguments.length>0)g=arguments[0];else return g};b.resetDefaultOptions=function(){g={include:m.include.slice(0),ignore:m.ignore.slice(0),copy:m.copy.slice(0)}};b.getType=function(a){if(a&&typeof a===h){if(a.constructor==(new Date).constructor)return"date";if(Object.prototype.toString.call(a)==="[object Array]")return d}return typeof a};function t(d,a){options=p({},d);for(var c=v.length-1;c>=0;c--){var b=v[c];if(!options[b])continue;if(!(options[""]instanceof Object))options[""]={};options[""][b]=options[b];delete options[b]}if(a){options.ignore=i(a.ignore,options.ignore);options.include=i(a.include,options.include);options.copy=i(a.copy,options.copy)}options.ignore=i(options.ignore,g.ignore);options.include=i(options.include,g.include);options.copy=i(options.copy,g.copy);options.mappedProperties=options.mappedProperties||{};return options}function i(c,f){if(b.getType(c)!==d)if(b.getType(c)===e)c=[];else c=[c];if(b.getType(f)!==d)if(b.getType(f)===e)f=[];else f=[f];return a.utils.arrayGetDistinctValues(c.concat(f))}function A(b,d){var e=a.dependentObservable;a.dependentObservable=function(f,j,d){d=d||{};if(f&&typeof f==h)d=f;var i=d.deferEvaluation,g=false,k=function(d){var e=q({read:function(){if(!g){a.utils.arrayRemoveItem(b,d);g=c}return d.apply(d,arguments)},write:d.hasWriteFunction&&function(a){return d(a)},deferEvaluation:c});if(D)e._wrapper=c;return e};d.deferEvaluation=c;var e=new q(f,j,d);if(!i){e=k(e);b.push(e)}return e};a.dependentObservable.fn=q.fn;a.computed=a.dependentObservable;var f=d();a.dependentObservable=e;a.computed=a.dependentObservable;return f}function l(e,g,h,m,W,z){var v="function",V=b.getType(a.utils.unwrapObservable(g))===d;z=z||"";if(b.isMapped(e)){var U=a.utils.unwrapObservable(e)[f];h=p(U,h)}var C={data:g,parent:W},B=function(){return h[m]&&h[m].create instanceof Function},J=function(a){return A(k,function(){return h[m].create({data:a||C.data,parent:C.parent})})},y=function(){return h[m]&&h[m].update instanceof Function},t=function(b,d){var c={data:d||C.data,parent:C.parent,target:a.utils.unwrapObservable(b)};if(a.isWriteableObservable(b))c.observable=b;return h[m].update(c)},P=n.get(g);if(P)return P;m=m||"";if(!V)if(!w(g))switch(b.getType(g)){case v:if(y())if(a.isWriteableObservable(g)){g(t(g));e=g}else e=t(g);else e=g;break;default:if(a.isWriteableObservable(e))if(y())e(t(e));else e(a.utils.unwrapObservable(g));else{if(B())e=J();else e=a.observable(a.utils.unwrapObservable(g));y()&&e(t(e))}}else{e=a.utils.unwrapObservable(e);if(!e)if(B()){var E=J();if(y())E=t(E);return E}else{if(y())return t(E);e={}}if(y())e=t(e);n.save(g,e);u(g,function(b){var d=z.length?z+"."+b:b;if(a.utils.arrayIndexOf(h.ignore,d)!=-1)return;if(a.utils.arrayIndexOf(h.copy,d)!=-1){e[b]=g[b];return}var i=n.get(g[b]),f=i||l(e[b],g[b],h,b,e,d);if(a.isWriteableObservable(e[b]))e[b](a.utils.unwrapObservable(f));else e[b]=f;h.mappedProperties[d]=c})}else{var S=[],O=false,i=function(a){return a};if(h[m]&&h[m].key){i=h[m].key;O=c}if(!a.isObservable(e)){e=a.observableArray([]);e.mappedRemove=function(a){var b=typeof a==v?a:function(b){return b===i(a)};return e.remove(function(a){return b(i(a))})};e.mappedRemoveAll=function(b){var c=j(b,i);return e.remove(function(b){return a.utils.arrayIndexOf(c,i(b))!=-1})};e.mappedDestroy=function(a){var b=typeof a==v?a:function(b){return b===i(a)};return e.destroy(function(a){return b(i(a))})};e.mappedDestroyAll=function(b){var c=j(b,i);return e.destroy(function(b){return a.utils.arrayIndexOf(c,i(b))!=-1})};e.mappedIndexOf=function(b){var c=j(e(),i),d=i(b);return a.utils.arrayIndexOf(c,d)};e.mappedCreate=function(c){if(e.mappedIndexOf(c)!==-1)throw new Error("There already is an object with the key that you specified.");var b=B()?J(c):c;if(y()){var d=t(b,c);if(a.isWriteableObservable(b))b(d);else b=d}e.push(b);return b}}var T=j(a.utils.unwrapObservable(e),i).sort(),Q=j(g,i);O&&Q.sort();var R=a.utils.compareArrays(T,Q),D={},r,H,I=a.utils.unwrapObservable(g),M={},K=c;for(r=0,H=I.length;r<H;r++){var q=i(I[r]);if(q===undefined||q instanceof Object){K=false;break}M[q]=I[r]}var L=[];for(r=0,H=R.length;r<H;r++){var q=R[r],s,N=z+"["+r+"]";switch(q.status){case"added":var G=K?M[q.value]:o(a.utils.unwrapObservable(g),q.value,i);s=l(undefined,G,h,m,e,N);if(!B())s=a.utils.unwrapObservable(s);var F=x(a.utils.unwrapObservable(g),G,D);L[F]=s;D[F]=c;break;case"retained":var G=K?M[q.value]:o(a.utils.unwrapObservable(g),q.value,i);s=o(e,q.value,i);l(s,G,h,m,e,N);var F=x(a.utils.unwrapObservable(g),G,D);L[F]=s;D[F]=c;break;case"deleted":s=o(e,q.value,i)}S.push({event:q.status,item:s})}e(L);h[m]&&h[m].arrayChanged&&a.utils.arrayForEach(S,function(a){h[m].arrayChanged(a.event,a.item)})}return e}function x(b,e,d){for(var a=0,f=b.length;a<f;a++){if(d[a]===c)continue;if(b[a]===e)return a}return null}function z(f,d){var c;if(d)c=d(f);if(b.getType(c)===e)c=f;return a.utils.unwrapObservable(c)}function o(b,e,f){b=a.utils.unwrapObservable(b);for(var c=0,g=b.length;c<g;c++){var d=b[c];if(z(d,f)===e)return d}throw new Error("When calling ko.update*, the key '"+e+"' was not found!");}function j(c,b){return a.utils.arrayMap(a.utils.unwrapObservable(c),function(a){return b?z(a,b):a})}function u(a,e){if(b.getType(a)===d)for(var c=0;c<a.length;c++)e(c);else for(var f in a)e(f)}function w(a){var c=b.getType(a);return(c===h||c===d)&&a!==null}function C(c,f,e){var a=c||"";if(b.getType(f)===d){if(c)a+="["+e+"]"}else{if(c)a+=".";a+=e}return a}b.visitModel=function(j,k,c){c=c||{};c.visitedObjects=c.visitedObjects||new y;var i,g=a.utils.unwrapObservable(j);if(!w(g))return k(j,c.parentName);else{c=t(c,g[f]);k(j,c.parentName);i=b.getType(g)===d?[]:{}}c.visitedObjects.save(j,i);var l=c.parentName;u(g,function(j){if(c.ignore&&a.utils.arrayIndexOf(c.ignore,j)!=-1)return;var m=g[j];c.parentName=C(l,g,j);if(a.utils.arrayIndexOf(c.copy,j)===-1)if(a.utils.arrayIndexOf(c.include,j)===-1)if(g[f]&&g[f].mappedProperties&&!g[f].mappedProperties[j]&&!(b.getType(g)===d))return;var o;switch(b.getType(a.utils.unwrapObservable(m))){case h:case d:case e:var n=c.visitedObjects.get(m);i[j]=b.getType(n)!==e?n:b.visitModel(m,k,c);break;default:i[j]=k(m,c.parentName)}});return i};function B(){var c=[],b=[];this.save=function(f,e){var d=a.utils.arrayIndexOf(c,f);if(d>=0)b[d]=e;else{c.push(f);b.push(e)}};this.get=function(f){var d=a.utils.arrayIndexOf(c,f),e=d>=0?b[d]:undefined;return e}}function y(){var b={},a=function(d){var a;try{a=JSON.stringify(d)}catch(e){a="$$$"}var c=b[a];if(c===undefined){c=new B;b[a]=c}return c};this.save=function(b,c){a(b).save(b,c)};this.get=function(b){return a(b).get(b)}}});var MF=new Backbone.Marionette.Application;MF.addRegions({header:"#main-header",content:"#contentInner",menu:"#left-navigation"});MF.addInitializer(function(){$("#ajaxLoading").hide();MF.vent.bind("route",function(b,a){MF.Routing.showRoute(b,a)});Backbone.Marionette.TemplateCache.prototype.loadTemplate=function(){return MF.repository.ajaxGet(this.url,this.data)};Backbone.Marionette.TemplateCache.prototype.compileTemplate=function(a){return a}});MF.bind("initialize:after",function(){Backbone.history&&Backbone.history.start()});MF.generateRoute=function(j,c,a,b,d){var e=MF.State.get("Relationships"),f=c?c:0,g=a&&a>0?a:e.parentId,i=b&&b>0?b:e.rootId,h=d?"/"+d:"";return j+"/"+f+"/"+g+"/"+i+h};$(function(){MF.start()});MF.Controller=function(a){var b={};b.showViews=function(j,e,f,g,h){var c=_.find(a.routeTokens,function(a){return a.route==j});if(!c)return;var b=$.extend({},c);b.templateUrl=b.url+"_Template";if(e){b.url+="/"+e;b.route+="/"+e}if(f){b.url+="?ParentId="+f;b.route+="/"+f}if(g){b.url+="&RootId="+g;b.route+="/"+g}if(h){b.url+="&Var="+h;b.route+="/"+h}a.State.set({Relationships:{entityId:e?e:0,parentId:f?f:0,rootId:g?g:0,extraVar:h?h:""}});var d;if(c.itemName&&a.Views[c.itemName])d=new a.Views[c.itemName](b);else d=new a.Views[c.viewName](b);if(c.isChild){var i=a.WorkflowManager.addChildView(d);if(!i){a.WorkflowManager.cleanAllViews();a.State.set({currentView:d});a.content.show(d)}}else{a.WorkflowManager.cleanAllViews();a.State.set({currentView:d});a.content.show(d)}};a.addInitializer(function(){a.ScheduleApp.Menu.show()});return b}(MF,Backbone);if(typeof MF=="undefined")var MF={};if(typeof CC=="undefined")var CC={};MF.mixins={};MF.mixin=function(c,e,d){var b=MF.mixins[e];for(var a in b)if(a=="render"){if(d!=true)c[a]=b[a]}else if(c[a]==null&&b.hasOwnProperty(a))c[a]=b[a]};MF.mixins.modelAndElementsMixin={bindModelAndElements:function(c){var a=this,b=a;a.mappingOptions={ignore:[]};_.each(c,function(a){b.mappingOptions.ignore.push(a)});a.model=ko.mapping.fromJS(a.rawModel,a.mappingOptions);a.extendModel(a.model);ko.applyBindings(a.model,a.el);a.elementsViewmodel=CC.elementService.getElementsViewmodel(a);a.boundElementOptions&&a.boundElementOptions.modifiers&&_.each(a.boundElementOptions.modifiers,function(a){a(this.elementsViewmodel.collection)},a);var d=_.filter(_.keys(a.model),function(a){return a.indexOf("_")==0&&a!="__ko_mapping__"});_.each(d,function(a){b.mappingOptions.ignore.push(a)});a.renderElements();a.mappingOptions.ignore.push("_availableItems");a.mappingOptions.ignore.push("_resultsItems");a.mappingOptions.ignore=_.uniq(a.mappingOptions.ignore);MF.vent.trigger("model:"+a.id+"modelLoaded")},bindSpecificModelAndElements:function(b){var a=this,d=a;a.mappingOptions={ignore:[]};a.viewModel=ko.mapping.fromJS(b);a.extendModel(a.viewModel);ko.applyBindings(a.viewModel,a.el);a.elementsViewmodel=CC.elementService.getElementsViewmodel(a);var c=_.filter(_.keys(a.viewModel),function(a){return a.indexOf("_")==0&&a!="__ko_mapping__"});_.each(c,function(a){d.mappingOptions.ignore.push(a)});a.renderElements()},renderElements:function(){var a=this.elementsViewmodel.collection;for(var b in a)a[b].render()},extendModel:function(a){a._createdText=ko.computed(function(){return a.EntityId()>0&&a.DateCreated()?"Added "+(new XDate(a.DateCreated())).toString("MMM d, yyyy"):""},this);a._title=ko.computed(function(){return a.EntityId()<=0&&a._Title()?"Add New "+a._Title():a._Title()?a._Title():""},this)},addIdsToModel:function(){var b=this,a=MF.State.get("Relationships");if(!a)return;b.model.EntityId(a.entityId);b.model.ParentId(a.parentId);b.model.RootId(a.rootId);b.model.Var(a.extraVar)}};MF.mixins.reportMixin={events:{"click #viewReport":"viewReport"},successSelector:"#messageContainer",errorSelector:"#messageContainer",viewReport:function(){var a=this,b=CC.ValidationRunner.runViewModel(a.cid,a.elementsViewmodel,a.errorSelector);if(!b)return;var c=a.createUrl();$("#reportBody").attr("src",c)},createUrl:function(){}};MF.mixins.formMixin={events:{"click #save":"saveItem","click #cancel":"cancel"},successSelector:"#messageContainer",errorSelector:"#messageContainer",saveItem:function(){var a=this,f=CC.ValidationRunner.runViewModel(a.cid,a.elementsViewmodel,a.errorSelector);if(!f)return;var b,c=$("input:file",a.$el);if(c.length>0&&_.any(c,function(a){return $(a).val()})){var e=a;b=ko.mapping.toJS(a.model,a.mappingOptions);var d=new CC.AjaxFileUpload(c[0],{action:e.model._saveUrl(),onComplete:function(b,a){e.successHandler(a)}});d.setData(b);d.submit()}else{b=JSON.stringify(ko.mapping.toJS(a.model,a.mappingOptions));var g=MF.repository.ajaxPostModel(a.model._saveUrl(),b);g.done($.proxy(a.successHandler,a))}},cancel:function(){MF.vent.trigger("form:"+this.id+":cancel");!this.options.noBubbleUp&&MF.WorkflowManager.returnParentView()},successHandler:function(c){var b=this,a=typeof c=="string"?JSON.parse(c):c;if(!a.Success){a.Message&&!$.noty.getByViewIdAndElementId(b.cid)&&$(b.errorSelector).noty({type:"error",text:a.Message,viewId:b.cid});a.Errors&&!$.noty.getByViewIdAndElementId(b.cid)&&_.each(a.Errors,function(a){$(this.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}else{if(a.Message){var d=$(b.successSelector).noty({type:"success",text:a.Message,viewId:b.cid});d.setAnimationSpeed(1e3);d.setTimeout(3e3);$.noty.closeAllErrorsByViewId(b.cid)}MF.vent.trigger("form:"+b.id+":success",a);!b.options.noBubbleUp&&MF.WorkflowManager.returnParentView(a,true)}}};MF.mixins.displayMixin={events:{"click #cancel":"cancel"},cancel:function(){MF.vent.trigger("display:"+this.id+":cancel");!this.options.noBubbleUp&&MF.WorkflowManager.returnParentView()}};MF.mixins.ajaxDisplayMixin={render:function(){$.when(MF.loadTemplateAndModel(this)).done($.proxy(this.renderCallback,this))},renderCallback:function(){var a=this;a.bindModelAndElements();a.viewLoaded();MF.vent.trigger("display:"+a.id+":pageLoaded",a.options)}};MF.mixins.ajaxFormMixin={render:function(){$.when(MF.loadTemplateAndModel(this)).done($.proxy(this.renderCallback,this))},renderCallback:function(){var a=this;a.bindModelAndElements();a.viewLoaded();MF.vent.trigger("form:"+a.id+":pageLoaded",a.options)}};MF.mixins.ajaxGridMixin={render:function(){var a=this;MF.repository.ajaxGet(a.options.url,a.options.data).done($.proxy(a.renderCallback,a))},renderCallback:function(b){var a=this;$(a.el).html($("#gridTemplate").tmpl(b));$.extend(a.options,b,MF.gridDefaults);a.setupGrid();a.viewLoaded();MF.vent.trigger("grid:"+a.id+":pageLoaded",a.options)}};MF.mixins.setupGridMixin={setupGrid:function(){var a=this;$.each(a.options.headerButtons,$.proxy(function(b,a){$(this.el).find("."+a).show()},a));if(a.options.gridId)a.$el.find("#gridContainer").attr("id",a.options.gridId);else a.options.gridId="gridContainer";if(a.options.NoMultiSelectGridView)a.options.gridOptions=a.options.gridOptions?(a.options.gridOptions.multiselect=false):(a.options.gridOptions={multiselect:false});a.options.searchField=a.options.gridDef.SearchField||a.options.searchField;$("#"+a.options.gridId,a.el).AsGrid(a.options.gridDef,a.options.gridOptions);$(a.el).gridSearch({onClear:$.proxy(a.removeSearch,a),onSubmit:$.proxy(a.search,a)})}};MF.mixins.defaultGridEventsMixin={events:{"click .new":"addNew","click .delete":"deleteItems"},setupBindings:function(){var a=this;MF.vent.bind(a.options.gridId+":AddUpdateItem",a.editItem,a);MF.vent.bind(a.options.gridId+":DisplayItem",a.displayItem,a);$.isFunction(a._setupBindings)&&a._setupBindings()},unbindBindings:function(){var a=this;MF.vent.unbind(a.options.gridId+":AddUpdateItem",a.editItem,a);MF.vent.unbind(a.options.gridId+":DisplayItem",a.displayItem,a);$.isFunction(a._unbindBindings)&&a._unbindBindings()},addNew:function(){MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate),true)},editItem:function(a){MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,a),true)},displayItem:function(a){MF.vent.trigger("route",MF.generateRoute(this.options.display,a),true)},deleteItems:function(){if(confirm("Are you sure you would like to delete this Item?")){var a=cc.gridMultiSelect.getCheckedBoxes(this.options.gridId);MF.repository.ajaxGet(this.options.deleteMultipleUrl,$.param({EntityIds:a},true)).done($.proxy(function(){this.reloadGrid()},this))}},reloadGrid:function(){var c=":DisplayItem",b=":AddUpdateItem",a=this;MF.vent.unbind(a.options.gridId+b,a.editItem,a);MF.vent.unbind(a.options.gridId+c,a.displayItem,a);$("#"+a.options.gridId).trigger("reloadGrid");MF.vent.bind(a.options.gridId+b,a.editItem,a);MF.vent.bind(a.options.gridId+c,a.displayItem,a)},callbackAction:function(){this.reloadGrid()}};MF.mixins.setupGridSearchMixin={search:function(d){var a={field:this.options.searchField,data:d},b={group:"AND",rules:[a]},c={filters:""+JSON.stringify(b)+""};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:c});this.reloadGrid()},removeSearch:function(){delete $("#"+this.options.gridId).jqGrid("getGridParam","postData").filters;this.reloadGrid();return false}};MF.Header=function(b,d){var a="userSettings",c={};c.HeaderView=d.View.extend({events:{"click #userSettings":a},initialize:function(){this.setupAppSelectionEvents();this.setupGlobalSettings()},setupGlobalSettings:function(){var a="mouseover";$("a[rel^='prettyPhoto']").live(a,function(){var b=this;if(!$(b).data("init")){$(b).data("init",true);$(b).prettyPhoto({theme:"light_rounded",show_title:false,deeplinking:false});$(b).trigger(a)}})},userSettings:function(c){c.preventDefault();b.State.set({application:a});b.vent.trigger("route","usersettings",true)},setupAppSelectionEvents:function(){var a=this;b.State.bind("change:application",function(){a.setSelection(b.State.get("application"))})},setSelection:function(c){var b="#userSettings";this.$("#main-tabs li").removeClass("selected");this.$(b).removeClass("active");c==a&&this.$(b).addClass("active")}});b.addInitializer(function(){c.view=(new c.HeaderView({el:$("#main-header")})).render()});return c}(MF,Backbone);MF.Views={};(function(b){function c(c,g){var b=this;b._superCallObjects||(b._superCallObjects={});var e=b._superCallObjects[c]||b,d=a(c,e);b._superCallObjects[c]=d;if(d[c])var f=d[c].apply(b,g||[]);delete b._superCallObjects[c];return f}function a(c,b){var a=b;while(a[c]===b[c])a=a.constructor.__super__;return a}_.each(["Model","Collection","View","Router"],function(a){b[a].prototype._super=c})})(Backbone);MF.Views.View=Backbone.View.extend({removeChildView:function(a){var b=this.children[a.cid];if(b){b.close();delete this.children[a.cid]}},storeChild:function(a){if(!this.children)this.children={};this.children[a.cid]=a},close:function(){var a=this;a.unbind();a.elementsViewmodel&&a.elementsViewmodel.destroy();a.remove();a.closeChildren();a.onClose&&a.onClose()},closeChildren:function(){this.children&&_.each(this.children,function(a){a.close()})},viewLoaded:function(){}});MF.Views.FormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"modelAndElementsMixin")},render:function(){var a=this;a.bindModelAndElements();a.viewLoaded();MF.vent.trigger("form:"+a.id+":pageLoaded",a.options);return a}});MF.Views.AjaxFormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")}});MF.Views.AjaxDisplayView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"displayMixin");MF.mixin(this,"ajaxDisplayMixin");MF.mixin(this,"modelAndElementsMixin")}});MF.Views.NoMultiSelectGridView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Views.GridView=MF.Views.View.extend({initialize:function(){var a=this;MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Views.AjaxPopupFormModule=MF.Views.View.extend({initialize:function(){this.registerSubscriptions()},render:function(){var a=this;a.options.noBubbleUp=true;a.options.isPopup=true;a.popupForm=a.options.view&&MF.Views[a.options.view]?new MF.Views[a.options.view](a.options):new MF.Views.AjaxFormView(a.options);a.popupForm.errorSelector="#popupMessageContainer";a.popupForm.render();a.storeChild(a.popupForm);$(a.el).append(a.popupForm.el)},registerSubscriptions:function(){var a=this;MF.vent.bind("form:"+a.id+":pageLoaded",a.loadPopupView,a);MF.vent.bind("popup:"+a.id+":cancel",a.popupCancel,a);MF.vent.bind("popup:"+a.id+":save",a.formSave,a);MF.vent.bind("form:"+a.id+":success",a.formSuccess,a)},onClose:function(){var a=this;MF.vent.unbind("form:"+a.id+":pageLoaded");MF.vent.unbind("popup:"+a.id+":cancel");MF.vent.unbind("popup:"+a.id+":save");MF.vent.unbind("form:"+a.id+":success");a.notification=null},loadPopupView:function(a){var d=a.buttons?a.buttons:MF.Views.popupButtonBuilder.builder(a.id).standardEditButons(),c={id:this.id,el:this.el,buttons:d,title:a.title},b=new MF.Views.PopupView(c);b.render();this.storeChild(b)},formSave:function(){this.popupForm.saveItem()},formSuccess:function(a){MF.vent.trigger("ajaxPopupFormModule:"+this.id+":success",a)},popupCancel:function(){MF.vent.trigger("ajaxPopupFormModule:"+this.id+":cancel",[])}});MF.Views.AjaxPopupDisplayModule=MF.Views.View.extend({initialize:function(){this.registerSubscriptions()},render:function(){var a=this;a.options.noBubbleUp=true;a.options.isPopup=true;a.popupDisplay=a.options.view&&MF.Views[a.options.view]?new MF.Views[a.options.view](a.options):new MF.Views.AjaxDisplayView(a.options);a.popupDisplay.render();a.storeChild(a.popupDisplay);$(a.el).append(a.popupDisplay.el)},registerSubscriptions:function(){var a=this;MF.vent.bind("display:"+a.id+":pageLoaded",a.loadPopupView,a);MF.vent.bind("popup:"+a.id+":cancel",a.popupCancel,a)},onClose:function(){MF.vent.unbind("display:"+this.id+":pageLoaded");MF.vent.unbind("popup:"+this.id+":cancel")},loadPopupView:function(a){var b=this,e=a.buttons?a.buttons:MF.Views.popupButtonBuilder.builder(a.id).standardEditButons(),d={id:b.id,el:b.el,buttons:e,width:b.options.popupWidth,title:a.title},c=new MF.Views.PopupView(d);c.render();b.storeChild(c)},popupCancel:function(){MF.vent.trigger("module:"+this.id+":cancel",[])}});MF.Views.PopupView=MF.Views.View.extend({render:function(){var a=this;$(".ui-dialog").remove();$(a.el).dialog({modal:true,width:a.options.width||550,buttons:a.options.buttons,title:a.options.title,close:function(){MF.vent.trigger("popup:"+id+":cancel")}});return a},close:function(){$(this.el).dialog("close")}});MF.Views.TemplatedPopupView=MF.Views.View.extend({initialize:function(){this.options=$.extend({},MF.popupDefaults,this.options)},render:function(){var a=this;$(a.el).append($(a.options.template).tmpl(a.options.data));var c={id:a.id,el:a.el,buttons:a.options.buttons,width:a.options.popupWidth,title:a.options.title},b=new MF.Views.PopupView(c);b.render();a.storeChild(b)}});MF.Views.KOPopupView=MF.Views.View.extend({initialize:function(){this.options=$.extend({},MF.popupDefaults,this.options)},render:function(){var a=this,d=$(a.options.template).clone().show();$(a.el).append(d);ko.applyBindings(a.options.data,a.el);var c={id:a.id,el:a.el,buttons:a.options.buttons,width:a.options.popupWidth,title:a.options.title},b=new MF.Views.PopupView(c);b.render();a.storeChild(b)}});MF.Views.popupButtonBuilder=function(){return{builder:function(g){var b="Cancel",a="popup:",d={},c=function(b,a){d[b]=a},f=function(){MF.vent.trigger(a+g+":save",this)},h=function(){MF.vent.trigger(a+g+":edit")},e=function(){MF.vent.trigger(a+g+":cancel");$(this).dialog("close");$(".ui-dialog").remove()};return{getButtons:function(){return d},getSaveFunc:function(){return f},getCancelFunc:function(){return e},addSaveButton:function(){c("Save",f);return this},addEditButton:function(){c("Edit",h);return this},addCancelButton:function(){c(b,e);return this},addButton:function(b,a){c(b,a);return this},clearButtons:function(){d={};return this},standardEditButons:function(){c("Save",f);c(b,e);return d},standardDisplayButtons:function(){c(b,e);return d}}}}}();MF.Views.TokenizerModule=MF.Views.View.extend({render:function(){var a=this;a.registerSubscriptions();a.tokenView=new MF.Views.TokenView(a.options);a.storeChild(a.tokenView)},registerSubscriptions:function(){var b="ajaxPopupFormModule:",a=this;MF.vent.bind("token:"+a.id+":addUpdate",a.addUpdateItem,a);MF.vent.bind(b+a.id+":success",a.formSuccess,a);MF.vent.bind(b+a.id+":cancel",a.formCancel,a)},onClose:function(){var a="ajaxPopupFormModule:";MF.vent.unbind("token:"+this.id+":addUpdate");MF.vent.unbind(a+this.id+":success");MF.vent.unbind(a+this.id+":cancel")},addUpdateItem:function(){var a=this,b={id:a.id,url:a.options.tokenizerUrls[a.id+"AddUpdateUrl"],crudFormOptions:{errorContainer:"#errorMessagesPU",successContainer:"#errorMessagesForm"}};a.popupModule=new MF.Views.AjaxPopupFormModule(b);a.popupModule.render();a.storeChild(a.popupModule);$(a.el).append(a.popupModule.el)},formSuccess:function(a){this.tokenView.successHandler(a);this.popupModule.close();this.formCancel();return false},formCancel:function(){this.popupModule.close();return false}});MF.Views.TokenView=MF.Views.View.extend({events:{"click #addNew":"addNew"},initialize:function(){this.options=$.extend({},MF.tokenDefaults,this.options)},render:function(){var c="#hasAssets",b="#noAssets",a=this;if(!a.options.availableItems||a.options.availableItems.length==0){$(b,a.el).show();$(c,a.el).hide()}else{$(b,a.el).hide();$(c,a.el).show();a.inputSetup()}},inputSetup:function(){var a=this;$(a.options.inputSelector,a.el).tokenInput(a.options.availableItems,{prePopulate:a.options.selectedItems,internalTokenMarkup:$.proxy(a.internalTokenMarkup,a),afterTokenSelectedFunction:$.proxy(a.afterTokenSelectedFunction,a),onDelete:$.proxy(a.deleteToken,a)});a.options.instantiated=true;a.postSetup&&a.postSetup()},internalTokenMarkup:function(b){var a="class='selectedItem'";return"<p><a "+a+">"+b.name+"</a></p>"},afterTokenSelectedFunction:function(){},deleteToken:function(){},addNew:function(a){a.preventDefault();MF.vent.trigger("token:"+this.id+":addUpdate",this.id)},successHandler:function(b){var a=this;if(!a.options.instantiated){$("#noAssets",a.el).hide();$("#hasAssets",a.el).show();a.inputSetup()}$(a.options.inputSelector,a.el).tokenInput("add",{id:b.EntityId,name:b.Variable});$(a.options.inputSelector,a.el).tokenInput("addToAvailableList",{id:b.EntityId,name:b.Variable})}});MF.Views.EditableTokenView=MF.Views.TokenView.extend({events:_.extend({"click .tokenEditor":"tokenEditor"},MF.Views.TokenView.prototype.events),internalTokenMarkup:function(b){var a="class='selectedItem'";return"<p><a "+a+">"+b.name+"</a><a href='javascript:void(0);' class='tokenEditor' > -- Edit</a> </p>"},afterTokenSelectedFunction:function(c){var b="selectedItems",a=this;!$(a.options.inputSelector,a.el).data(b)&&$(a.options.inputSelector,a.el).data(b,[]);$(a.options.inputSelector,a.el).data(b).push(c)},deleteToken:function(c){var a=$(this.options.inputSelector,this.el).data("selectedItems"),b=0;$.each(a,function(d,a){if(a.id==c.id)b=d});a.splice(b,1)},tokenEditor:function(){}});MF.tokenDefaults={availableItems:[],selectedItems:[],tooltipAjaxUrl:"",inputSelector:"#Input"};MF.popupDefaults={title:""};MF.gridDefaults={searchField:"Name",showSearch:true,id:""};MF.Routing=function(d,b){var a={};a.showRoute=function(c,a){b.history.navigate(c,a)};var c=function(a){var f=a[0],d=a.length,b=f;if(d>1)for(var c=1;c<d;c++){var e=a[c];if(e)b=b+"/"+e}return b};a.getCurrentRoute=function(){return window.location.hash};return a}(MF,Backbone);MF.State=function(c,a){var b=a.Model.extend({defaults:{parentStack:[]},application:"",currentView:""});return new b}(MF,Backbone);MF.loadTemplateAndModel=function(a){var b=new $.Deferred;$.when(Backbone.Marionette.TemplateCache.get(a.options.route,a.options.templateUrl,a.options.data),MF.repository.ajaxGet(a.options.url,a.options.data)).done(function(d,c){a.$el.html(d);a.rawModel=c[0];b.resolve()});return b.promise()};MF.WorkflowManager=function(b,d){var a="parentStack",c="currentView",e=d.Model.extend({defaults:{parentStack:[]},addChildView:function(d){var e=b.State.get(c);if(!e)return null;b.State.set({currentView:d});b.State.set({childView:d});var f=this.get(a);f.push(e);$.when(d.render()).then(function(){$(e.el).after(d.el)});$(e.el).hide();return d},returnParentView:function(f,e){var g=this.get(a),d=g.pop();b.State.get(c).close();if(!d)return;e&&d.callbackAction&&d.callbackAction(f);$(d.el).show();b.vent.trigger("route",d.options.route,false);b.State.set({currentView:d})},loadBottomLevel:function(c){var b=_.last(this.get(a));if(b&&b.options.url==c){this.returnParentView("",false);return false}return true},cleanAllViews:function(){var d=b.State.get(c);d&&d.close();var e=this.get(a);while(e.length>0)e.pop().close()}});return new e}(MF,Backbone);MF.ScheduleApp=function(b){var a={};a.show=function(){a.Menu.show();b.vent.trigger("route","calendar",true)};b.State.bind("change:application",function(){b.State.get("application")=="scheduler"&&a.show()});b.addInitializer(function(){});return a}(MF,Backbone);MF.ScheduleApp.Menu=function(a,f,c){var b="menuItem",d={};d.show=function(){var b=_.find(a.routeTokens,function(a){return a.id=="scheduleMenu"}),d=new e(b);a.menu.show(d);c("#left-navigation").show()};var e=a.Views.View.extend({render:function(){var b=this;a.repository.ajaxGet(b.options.url,b.options.data).done(c.proxy(b.renderCallback,b))},renderCallback:function(e){var d=this;if(e.LoggedOut){window.location.replace(e.RedirectUrl);return}c(d.el).html(e);a.vent.bind(b,d.menuItemClick,d);c(d.el).find(".ccMenu").ccMenu({backLink:false,width:220});return d},menuItemClick:function(b){a.vent.trigger("route",b,true)},onClose:function(){a.vent.unbind(b,this.menuItemClick,this)}});return d}(MF,Backbone,jQuery);MF.Routing.ScheduleApp=function(b,d){var a="showViews",c={};c.Router=d.Marionette.AppRouter.extend({appRoutes:{"*path/:entityId/:parentId/:rootId/:string":a,"*path/:entityId/:parentId/:rootId":a,"*path/:entityId/:parentId":a,"*path/:entityId":a,"*path":a}});b.addInitializer(function(){b.ScheduleApp.router=new b.Routing.ScheduleApp.Router({controller:b.Controller})});return c}(MF,Backbone);MF.Views.CalendarView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"modelAndElementsMixin")},events:{"change [name=Location]":"resetCalendar","click .legendLabel":"legendLabelClick","click .legendHeader":"legendHeaderClick"},render:function(){$.when(MF.loadTemplateAndModel(this)).done($.proxy(this.renderCallback,this))},renderCallback:function(){var a=this;a.model=a.rawModel;a.model.id=a.model.CalendarDefinition.id=a.id;a.setupLegend();$("#calendar",a.el).asCalendar(a.model.CalendarDefinition);a.bindSpecificModelAndElements({Location:a.model.Location,_LocationList:a.model._LocationList,_Title:a.model._Title,EntityId:0});a.viewLoaded();MF.vent.trigger("calendar:"+a.id+":pageLoaded",a.options);a.calendarBindings()},calendarBindings:function(){var b="calendar:",a=this;MF.vent.trigger(b+a.id+":pageLoaded",a.options);MF.vent.bind(b+a.id+":eventDrop",a.eventDrop,a);MF.vent.bind(b+a.id+":eventResize",a.eventResize,a);MF.vent.bind(b+a.id+":dayClick",a.dayClick,a);MF.vent.bind(b+a.id+":eventClick",a.eventClick,a);MF.vent.bind("ajaxPopupFormModule:editModule:success",a.formSuccess,a);MF.vent.bind("ajaxPopupFormModule:editModule:cancel",a.formCancel,a);MF.vent.bind("ajaxPopupDisplayModule:displayModule:cancel",a.displayCancel,a);MF.vent.bind("popup:displayModule:edit",a.displayEdit,a)},onClose:function(){var a="calendar:",b=this;MF.vent.unbind(a+b.id+":eventDrop");MF.vent.unbind(a+b.id+":eventResize");MF.vent.unbind(a+b.id+":eventClick");MF.vent.unbind(a+b.id+":dayClick");MF.vent.unbind("ajaxPopupFormModule:editModule:success");MF.vent.unbind("ajaxPopupFormModule:editModule:cancel");MF.vent.unbind("ajaxPopupDisplayModule:displayModule:cancel");MF.vent.unbind("popup:displayModule:edit")},setupLegend:function(){this.model.Trainers.length<=0&&$("#legend").hide();$("#legendTemplate").tmpl(this.model.Trainers).appendTo("#legendItems");$(".legendHeader").addClass("showing");$(".legendLabel").each(function(b,a){$(a).addClass("showing")})},eventDrop:function(a,f,e,g,c){var b="M/d/yyyy hh:mm TT",d={EntityId:a.EntityId,ScheduledDate:$.fullCalendar.formatDate(a.start,b),StartTime:$.fullCalendar.formatDate(a.start,b),EndTime:$.fullCalendar.formatDate(a.end,b)};MF.repository.ajaxGet(this.model.CalendarDefinition.EventChangedUrl,d).done($.proxy(function(a){this.changeEventCallback(a,c)},this))},eventResize:function(a,f,e,c){var b="M/d/yyyy hh:mm TT",d={EntityId:a.EntityId,ScheduledDate:$.fullCalendar.formatDate(a.start,b),StartTime:$.fullCalendar.formatDate(a.start,b),EndTime:$.fullCalendar.formatDate(a.end,b)};MF.repository.ajaxGet(this.model.CalendarDefinition.EventChangedUrl,d).done($.proxy(function(a){this.changeEventCallback(a,c)},this))},dayClick:function(a){if((new XDate(a,true)).diffHours(new XDate(true))>0&&!this.model.CalendarDefinition.CanEnterRetroactiveAppointments){alert("That period is closed");return}var b={ScheduledDate:(new XDate(a)).toString("M/d/yyyy"),ScheduledStartTime:(new XDate(a)).toString("hh:mm TT")};this.editEvent(this.model.CalendarDefinition.AddUpdateUrl,b)},eventClick:function(c){var d="displayModule",a=this;if(c.trainerId!=a.model.CalendarDefinition.TrainerId&&!a.model.CalendarDefinition.CanSeeOthersAppointments)return;a.model.CalendarDefinition.canEdit=(new XDate(c.start)).diffHours(new XDate)<0||a.model.CalendarDefinition.CanEditPastAppointments;a.currentEventId=c.EntityId;var f={EntityId:c.EntityId},b=MF.Views.popupButtonBuilder.builder(d);b.addButton("Delete",$.proxy(a.deleteItem,a));b.addEditButton();b.addButton("Copy Event",$.proxy(a.copyItem,a));b.addCancelButton();var e={id:d,route:a.model.CalendarDefinition.DisplayRoute,templateUrl:a.model.CalendarDefinition.DisplayUrl+"_Template?Popup=true",view:a.options.subViewName?"Display"+a.options.subViewName:"",AddUpdateUrl:a.model.CalendarDefinition.AddUpdateUrl,url:a.model.CalendarDefinition.DisplayUrl,data:f,buttons:b.getButtons()};a.ajaxPopupDisplay=new MF.Views.AjaxPopupDisplayModule(e);a.ajaxPopupDisplay.render();a.storeChild(a.ajaxPopupDisplay);$(a.el).append(a.ajaxPopupDisplay.el)},editEvent:function(c,e){var b="editModule",a=this,d={id:b,route:a.model.CalendarDefinition.AddUpdateRoute,url:c,templateUrl:c+"_Template?Popup=true",data:e,view:"AppointmentView",buttons:MF.Views.popupButtonBuilder.builder(b).standardEditButons()};a.ajaxPopupFormModule=new MF.Views.AjaxPopupFormModule(d);a.ajaxPopupFormModule.render();a.storeChild(a.ajaxPopupFormModule);$(a.el).append(a.ajaxPopupFormModule.el)},changeEventCallback:function(a,b){if(!a.Success){alert(a.Message);b()}},copyItem:function(){var a=this,b={EntityId:a.currentEventId,Copy:true};a.editEvent(a.model.CalendarDefinition.AddUpdateUrl,b);a.ajaxPopupDisplay.close()},deleteItem:function(){confirm("Are you sure you would like to delete this Item?")&&MF.repository.ajaxGet(this.model.CalendarDefinition.DeleteUrl,{EntityId:this.currentEventId}).done($.proxy(function(a){this.ajaxPopupDisplay.close();if(!a.Success)alert(a.Message);else this.reload()},this))},displayEdit:function(){var a=this;if(!a.model.CalendarDefinition.canEdit){alert("you can't edit retroactively");return}a.ajaxPopupDisplay.close();a.editEvent(a.model.CalendarDefinition.AddUpdateUrl,{EntityId:a.currentEventId})},resetCalendar:function(){var c=".legendLabel",b=this,d=b.viewModel.Location(),a="";$(c).each(function(c,b){if($(b).hasClass("showing"))a+=$("#trainerId",$(b).parent()).val()+","});if(a)a=a.substr(0,a.length-1);else if($(c).is("visible"))a="NONE";b.replaceSource({url:b.model.CalendarDefinition.Url,data:{Loc:d,TrainerIds:a}});b.reload()},reload:function(){$("#calendar",this.el).fullCalendar("refetchEvents")},replaceSource:function(a){$("#calendar",this.el).fullCalendar("replaceEventSource",a)},legendLabelClick:function(a){$(a.target).toggleClass("showing");this.resetCalendar()},legendHeaderClick:function(d){var c=".legendLabel",b=".legendHeader",a="showing";if($(d.target).hasClass(a)){$(b).removeClass(a);$(c).each(function(c,b){$(b).removeClass(a)})}else{$(b).addClass(a);$(c).each(function(c,b){!$(b).hasClass(a)&&$(b).addClass(a)})}this.resetCalendar()},formSuccess:function(){this.formCancel();this.resetCalendar()},formCancel:function(){this.ajaxPopupFormModule.close()},displayCancel:function(){this.ajaxPopupDisplay.close()}});MF.Views.AppointmentView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},events:{'change [name="AppointmentType"]':"handleSwitchFromPairToInd",'change [name="StartTimeString"]':"handleTimeChange","click #save":"saveItem","click #cancel":"cancel"},viewLoaded:function(){var a=this,b=new XDate("1/5/1972t"+a.model.StartTimeString());a.setEndTime(b);MF.vent.bind("ClientsDtos:tokenizer:add",a.handleSwitchFromPairToInd,a);MF.vent.bind("ClientsDtos:tokenizer:remove",a.handleSwitchFromPairToInd,a);a.handleSwitchFromPairToInd()},setCurrentSelectionForAptType:function(e){var b="Pair",a="[name='AppointmentType']",d=$(a).val();if(e){$(a).data.previousSelection=d;$(a).val(b);this.model.AppointmentType(b)}else if(d==b){var c=$(a).data.previousSelection;$(a).val(c);this.model.AppointmentType(c)}},handleSwitchFromPairToInd:function(){var a=this,b=$(a.model.ClientsDtos.selectedItems()).size()>1;a.setCurrentSelectionForAptType(b);a.setDisabledOptionsOnAptType(b);a.handleTimeChange()},setDisabledOptionsOnAptType:function(a){$("[name='AppointmentType'] option").each(function(){var b="disabled",c=$(this);if(c.text()=="Pair")if(a)c.removeAttr(b);else c.attr(b,b);else if(a)c.attr(b,b);else c.removeAttr(b)})},onClose:function(){var a=this;MF.vent.unbind("ClientsDtos:tokenizer:add",a.clientChange,a);MF.vent.unbind("ClientsDtos:tokenizer:remove",a.clientChange,a)},handleTimeChange:function(){var a=new XDate(this.model.Date().split("T")[0]+"t"+this.model.StartTimeString());this.setEndTime(a);return a},setEndTime:function(f){var c;switch(this.model.AppointmentType()){case"Hour":case"Pair":c=60;break;case"Half Hour":c=30}var d=f.addMinutes(c),b=d.getHours(),e="AM";if(b>12){b-=12;e="PM"}var a=d.getMinutes().toString();if(a.length==1)a="0"+a;this.model.EndTimeString(b+":"+a+" "+e)}});MF.Views.ClientFormView=MF.Views.View.extend({events:_.extend({"click .client_payment":"payment","click .delete":"deleteItem","click #save":"saveItem","click #cancel":"cancel"}),initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},viewLoaded:function(){this._setupBindings()},_setupBindings:function(){MF.vent.bind("delete:"+this.id+":success",this.deleteSuccess,this)},_unbindBindings:function(){MF.vent.unbind("delete:"+this.id+":success",this.deleteSuccess,this)},payment:function(){var a=this.model.EntityId();MF.vent.trigger("route",MF.generateRoute("paymentlist",a),true)},deleteItem:function(){var a=this;if(confirm("Are you sure you would like to delete this Item?")){var b=a.model.EntityId();MF.repository.ajaxPost(a.model._deleteUrl,{EntityId:b},$.proxy(a.deleteCallback,a))}},deleteCallback:function(a){var b=typeof a=="string"?JSON.parse(a):a;if(!CC.notification.handleResult(b,this.cid))return;MF.vent.trigger("delete:"+this.id+":success",b)},deleteSuccess:function(a){MF.WorkflowManager.returnParentView(a,true)},onClose:function(){this._unbindBindings();this._super("onClose",arguments)}});MF.Views.PaymentListView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},addNew:function(){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,0,a),true)},editItem:function(b){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,b,a),true)},displayItem:function(b){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.display,b,a),true)},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Views.PaymentFormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},viewLoaded:function(){var a=this;$("[name='FullHour']").change($.proxy(function(){this.calculateTotal("FullHour")},a));$("[name='HalfHour']").change($.proxy(function(){this.calculateTotal("HalfHour")},a));$("[name='FullHourTenPack']").change($.proxy(function(){this.calculateTotal("FullHourTenPack")},a));$("[name='HalfHourTenPack']").change($.proxy(function(){this.calculateTotal("HalfHourTenPack")},a));$("[name='Pair']").change($.proxy(function(){this.calculateTotal("Pair")},a));$("[name='PairTenPack']").change($.proxy(function(){this.calculateTotal("PairTenPack")},a))},calculateTotal:function(b){var a=this,d=a.model[b](),c=a.model._sessionRateDto[b]()*d;a.model[b+"Price"](c);var e=a.model.FullHourPrice()+a.model.HalfHourPrice()+a.model.FullHourTenPackPrice()+a.model.HalfHourTenPackPrice()+a.model.PairPrice()+a.model.PairTenPackPrice();a.model.PaymentTotal(e)}});MF.Views.TrainerFormView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"formMixin");MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin")},events:{"click #trainerPayments":"trainerPayments","click #payTrainer":"payTrainer","click #save":"saveItem","click #cancel":"cancel","click .tokenEditor":"tokenEditor"},viewLoaded:function(){var a=this,b=a;$("#color",a.el).miniColors({change:function(a){b.model.Color(a)}});MF.vent.bind("popup:templatePopup:save",a.tokenSave,a);MF.vent.bind("popup:templatePopup:cancel",a.tokenCancel,a)},multiSelectModifier:function(a){if(a.name=="ClientsDtos")a.multiSelectOptions={internalTokenMarkup:function(){var a="data-bind",c=$("<a>").addClass("selectedItem").attr(a,"text:display"),b=$("<a>").addClass("tokenEditor").text(" --Edit").attr("href","javascript:void(0);").attr(a,"attr:{rel:percentage}");return $("<p>").append(c).append(b)},beforeTokenAddedFunction:$.proxy(this.beforeTokenAddedFunction,this)}},tokenEditor:function(d){var b="templatePopup",a=this,c=$(d.target).closest("li");a.currentlyEditing=c;var i=c.attr("id"),f=$(d.target).attr("rel"),g={id:i,percentage:f},h=a.options.buttons?a.options.buttons:MF.Views.popupButtonBuilder.builder(b).standardEditButons(),e={id:b,buttons:h,data:g,template:"#percentageTemplate"};a.templatedPopupView=new MF.Views.TemplatedPopupView(e);a.templatedPopupView.render();a.storeChild(a.templatedPopupView)},tokenSave:function(){var b=$("#editingId").val(),a=$("#newTrainerPercentage").val();_.find(this.model.ClientsDtos.selectedItems(),function(c){if(c.id()==b){var d=$(this.currentlyEditing.find("a").first()).text();c.display(d.substring(0,d.indexOf("("))+"( "+a+" ) ");c.percentage(a);return true}},this);this.templatedPopupView.close()},tokenCancel:function(){this.templatedPopupView.close()},beforeTokenAddedFunction:function(a){a.percentage=ko.observable(this.model.ClientRateDefault());a.display=ko.observable(a.name()+"("+a.percentage()+")")},trainerPayments:function(){var a=MF.State.get("Relationships");MF.vent.trigger("route","trainerpaymentlist/"+a.entityId,true)},payTrainer:function(){var a=MF.State.get("Relationships");MF.vent.trigger("route","paytrainerlist/"+a.entityId,true)}});MF.Views.TrainerEditableTokenView=MF.Views.EditableTokenView.extend({events:_.extend({"click .tokenEditor":"tokenEditor"},MF.Views.EditableTokenView.prototype.events),internalTokenMarkup:function(a){var b="class='selectedItem'";return"<p><a "+b+">"+a.name+" ( "+a.percentage+" )</a><a href='javascript:void(0);' class='tokenEditor' >&nbsp;-- Edit</a><input id='itemId' type='hidden' value='"+a.id+"' </p>"},render:function(){var a=this;MF.vent.bind("popup:templatePopup:save",a.tokenSave,a);MF.vent.bind("popup:templatePopup:cancel",a.tokenCancel,a)},onClose:function(){MF.vent.unbind("popup:templatePopup:save");MF.vent.unbind("popup:templatePopup:cancel")},afterTokenSelectedFunction:function(c){var b="selectedItems",a=this;!$(a.options.inputSelector,a.el).data(b)&&$(a.options.inputSelector,a.el).data(b,[]);$(a.options.inputSelector,a.el).data(b).push(c)},deleteToken:function(c){var a=$(this.options.inputSelector,this.el).data("selectedItems"),b=0;$.each(a,function(d,a){if(a.id==c.id)b=d});a.splice(b,1)},tokenEditor:function(d){var b="templatePopup",a=this;a.options.currentlyEditing=$(d.target).prev("a");var h=$(d.target).next("input#itemId").val(),g=$(a.options.inputSelector,a.el).data("selectedItems"),c;$.each(g,function(b,a){if(a.id==h)c=a});var f=a.options.buttons?a.options.buttons:MF.Views.popupButtonBuilder.builder(b).standardEditButons(),e={id:b,buttons:f,data:c,template:"#percentageTemplate"};a.templatedPopupView=new MF.Views.TemplatedPopupView(e);a.templatedPopupView.render();a.storeChild(a.templatedPopupView)},tokenSave:function(){var b="#newTrainerPercentage",a=this,g=$("#editingId").val(),f=$(a.options.inputSelector,a.options.el).data("selectedItems"),c;$.each(f,function(b,a){if(a.id==g)c=a});c.percentage=$(b).val();var d=$(a.options.currentlyEditing).text(),e=d.substr(0,d.indexOf("("))+"( "+$(b).val()+" ) ";$(a.options.currentlyEditing).text(e);a.templatedPopupView.close()},tokenCancel:function(){this.templatedPopupView.close()}});MF.Views.TrainerGridView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},addNew:function(){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,0,a),true)},editItem:function(b){var a=this.options.ParentId;MF.vent.trigger("route",MF.generateRoute(this.options.addUpdate,b,a),true)},viewLoaded:function(){var a=this;a.setupBindings();MF.vent.bind(a.options.gridId+":Redirect",a.showPayGrid,a)},_setupBindings:function(){MF.vent.bind("Redirect",this.showPayGrid,this)},_unbindBindings:function(){MF.vent.bind("Redirect",this.showPayGrid,this)},showPayGrid:function(a){MF.vent.trigger("route","paytrainerlist/"+a,true)},onClose:function(){this.unbindBindings()}});MF.Views.ClientGridView=MF.Views.View.extend({initialize:function(){var a=this;MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin")},viewLoaded:function(){var a=this;MF.vent.bind(a.options.gridId+":Redirect",a.showPayGrid,a);a.setupBindings()},onClose:function(){var a=this;MF.vent.unbind(a.options.gridId+":Redirect",a.showPayGrid,a);a.unbindBindings()},showPayGrid:function(a){MF.vent.trigger("route",MF.generateRoute("paymentlist",a),true)}});MF.Routing.BillingApp=function(b){var a={};b.addInitializer(function(){});return a}(MF,Backbone);MF.Views.PayTrainerGridView=MF.Views.View.extend({initialize:function(){var a=this;a.beforeInitGrid();a.model={};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"setupGridSearchMixin")},events:{"click .jqgrow":"handleSingleClick","click .cbox":"handleSelectAllClick","click #payTrainerButton":"payTrainer","click .return":"returnToParent","click #search":"filterByDate"},beforeInitGrid:function(){var a=this;this.options.gridId="trainerPayment";this.options.gridOptions={loadComplete:function(){var g=$(this).getDataIDs(),e=[];a.options.paymentTotal=0;for(var f=0,h=g.length;f<h;f++){var b=g[f],c,d=$(this).getRowData(b);if(d.InArrears=="True"){c=$("#"+b,a.el);c.find("td").addClass("gridRowRedFont");c.find("td:first input").remove()}else if(d.TrainerVerified=="True"){c=$("#"+b,a.el);e.push({id:b,trainerPay:d.TrainerPay,_checked:false})}else{c=$("#"+b,a.el);c.find("td").addClass("gridRowGrey");e.push({id:b,trainerPay:d.TrainerPay,_checked:false})}}a.model.paymentAmount=ko.observable(a.options.paymentTotal);a.model.eligableRows=ko.mapping.fromJS(e);a.setupElements()}}},viewLoaded:function(){var a=this;MF.vent.bind("popup:payTrainerPopup:save",a.formSave,a);MF.vent.bind("popup:payTrainerPopup:cancel",a.formCancel,a)},onClose:function(){MF.vent.unbind("popup:payTrainerPopup:save");MF.vent.unbind("popup:payTrainerPopup:cancel");this._super("onClose",arguments)},reloadGrid:function(){$("#"+this.options.gridId).trigger("reloadGrid")},setupElements:function(){var b=".content-header",a=this;if($("#filterArea").size()==0){$(a.el).find(b).prepend($("#payTrainerSearchTemplate").tmpl());$(".title-name",a.el).append("<span class='paymentAmount' data-bind='text:paymentAmount'></span>");$("[name='EndDate']",a.$el).datepicker();a.model.EndDate=ko.observable((new XDate).toString("MM/dd/yyyy"));$("#payTrainerButton").hide();$(".paymentAmount").hide();$(b,a.$el).find(".search").remove();ko.applyBindings(a.model,a.el)}},returnToParent:function(){MF.WorkflowManager.returnParentView(null,true)},filterByDate:function(){var a={endDate:this.model.EndDate()};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:a});this.reloadGrid()},payTrainer:function(){var c="payTrainerPopup",a=this,d=a.model.paymentAmount();if(d<=0)return;var b=MF.Views.popupButtonBuilder.builder(c);b.addButton("Ok",b.getSaveFunc());b.addCancelButton();var f={trainersName:a.options.TrainersName,amount:d},e={id:c,data:f,template:"#payTrainerTemplate",title:"Trainer Payment",buttons:b.getButtons()};a.templatePopup=new MF.Views.TemplatedPopupView(e);a.templatePopup.render();a.storeChild(a.templatePopup)},formSave:function(){var a=this,b=ko.mapping.toJS(a.model);b.eligableRows=_.filter(b.eligableRows,function(a){return a._checked});b.EntityId=MF.State.get("Relationships").entityId;var d=JSON.stringify(b),c=MF.repository.ajaxPostModel(a.options.PayTrainerUrl,d);c.done($.proxy(a.paymentCallback,a))},paymentCallback:function(a){if(a.Success){this.reloadGrid();window.open(a.Variable);this.formCancel()}},formCancel:function(){this.templatePopup.close()},handleSingleClick:function(g){var e=".paymentAmount",d="#payTrainerButton",a=this,b=$(g.currentTarget).find(".cbox");if(!b||b.attr("disabled"))return;var h=$(g.currentTarget).attr("id"),c=_.find(a.model.eligableRows(),function(a){return a.id()==h}),f=parseFloat(c.trainerPay());if(b.is(":checked")){a.model.paymentAmount(a.model.paymentAmount()+f);c._checked(true)}else{a.model.paymentAmount(a.model.paymentAmount()-f);c._checked(false)}if(a.model.paymentAmount()>0){$(d).show();$(e).show()}else{$(d).hide();$(e).hide()}},handleSelectAllClick:function(d){var c=".paymentAmount",b="#payTrainerButton",a=this;if($(d.target).closest("tr").attr("role")!="rowheader")return;a.model.paymentAmount(0);if($(d.currentTarget).is(":checked"))_.each(a.model.eligableRows(),function(a){a._checked(true);this.model.paymentAmount(this.model.paymentAmount()+parseFloat(a.trainerPay()))},a);else _.each(a.model.eligableRows(),function(a){a._checked(false)},a);if(a.model.paymentAmount()>0){$(b).show();$(c).show()}else{$(b).hide();$(c).hide()}}});MF.Views.TrainerSessionVerificationView=MF.Views.View.extend({initialize:function(){var a=this;a.beforeInitGrid();a.model={};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"setupGridSearchMixin");a.notification=new CC.NotificationService},events:{"click #acceptSessionsButton":"acceptSessions","click #alertAdminButton":"alertAdmin","click #search":"filterByDate"},successSelector:"#messageContainer",errorSelector:"#messageContainer",beforeInitGrid:function(){var a=this;this.options.gridId="trainerPayment";this.options.gridOptions={multiselect:false,loadComplete:function(){a.options.paymentTotal=0;for(var f=$(this).getDataIDs(),e=[],d=0,h=f.length;d<h;d++){var c=f[d],b=$(this).getRowData(c);if(b.InArrears=="True"){var g=$("#"+c,a.el);g.find("td").addClass("gridRowRedFont");g.find("td:first input").remove()}else{e.push({id:c,trainerPay:b.TrainerPay});a.options.paymentTotal+=parseFloat(b.TrainerPay)}}a.model.paymentAmount=ko.observable(a.options.paymentTotal);a.model.eligableRows=ko.mapping.fromJS(e);a.setupElements()}}},viewLoaded:function(){var a=this;MF.vent.bind("popup:trainerAlertAdminPopup:save",a.formSave,a);MF.vent.bind("popup:trainerAlertAdminPopup:cancel",a.formCancel,a)},onClose:function(){MF.vent.unbind("popup:trainerAlertAdminPopup:save");MF.vent.unbind("popup:trainerAlertAdminPopup:cancel");this._super("onClose",arguments)},setupElements:function(){var a=this;if($("#acceptSessionsButton").size()==0){$(a.el).find(".content-header").prepend('<a href="#" id="acceptSessionsButton"><img src="/content/images/thumbs_up.jpg" title="Accept Sessions" class="thumbsImage" /></a><a href="#" id="alertAdminButton"><img src="/content/images/thumbs_down.jpg" title="Email Admin of a problem" class="thumbsImage thumbsLeft" /></a>');$(".title-name",a.el).append("<span class='paymentAmount' data-bind='text:paymentAmount'></span>");$("[name='EndDate']",a.$el).datepicker();a.model.EndDate=ko.observable((new XDate).toString("MM/dd/yyyy"));ko.applyBindings(a.model,a.el)}},filterByDate:function(){var a={endDate:this.model.EndDate()};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:a});this.reloadGrid()},reloadGrid:function(){$("#"+this.options.gridId).trigger("reloadGrid")},acceptSessions:function(){var a=this,b=ko.mapping.toJS(a.model);b.EntityIds=_.pluck(b.eligableRows,"id");var d=JSON.stringify(b),c=MF.repository.ajaxPostModel(a.options.AcceptSessionsUrl,d);c.done($.proxy(a.acceptSessionsCallback,a))},acceptSessionsCallback:function(c){var a=this,b=typeof c=="string"?JSON.parse(c):c;if(!b.Success){b.Message&&!$.noty.getByViewIdAndElementId(a.cid)&&$(a.errorSelector).noty({type:"error",text:b.Message,viewId:a.cid});b.Errors&&!$.noty.getByViewIdAndElementId(a.cid)&&_.each(b.Errors,function(a){$(this.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}else{if(b.Message){var d=$(a.successSelector).noty({type:"success",text:b.Message,viewId:a.cid});d.setAnimationSpeed(1e3);d.setTimeout(3e3);$.noty.closeAllErrorsByViewId(a.cid)}a.model.paymentAmount(0);a.reloadGrid();MF.vent.trigger("form:"+a.id+":success",b)}},alertAdmin:function(){var c="trainerAlertAdminPopup",a=this;a.model.From=ko.observable(a.options.From);a.model.To=ko.observable(a.options.To);a.model.Subject=ko.observable(a.options.Subject);a.model.Body=ko.observable(a.options.Body);var b=MF.Views.popupButtonBuilder.builder(c);b.addButton("Send",b.getSaveFunc());b.addCancelButton();var e=a.model,d={id:c,data:e,template:"#emailTemplate",title:"Alert Admin",buttons:b.getButtons()};a.templatePopup=new MF.Views.KOPopupView(d);a.templatePopup.render();a.storeChild(a.templatePopup)},formSave:function(a){var c=ko.mapping.toJS(this.model),d=JSON.stringify(c),b=MF.repository.ajaxPostModel(this.options.AlertAdminEmailUrl,d);b.done($.proxy(function(b){this.emailCallback(b,a)},this))},emailCallback:function(c,f){var d=":success",a=this,g=a;a.successSelector=$("#messageContainer",a.el);a.errorSelector=$("#popupMessageContainer",f);var b=typeof c=="string"?JSON.parse(c):c;if(!b.Success){b.Message&&!$.noty.getByViewIdAndElementId(a.cid)&&$(a.errorSelector).noty({type:"error",text:b.Message,viewId:a.cid});b.Errors&&!$.noty.getByViewIdAndElementId(a.cid)&&_.each(b.Errors,function(a){$(g.errorSelector).noty({type:"error",text:a.ErrorMessage,viewId:this.cid})})}else{if(b.Message){var e=$(a.successSelector).noty({type:"success",text:b.Message,viewId:a.cid});e.setAnimationSpeed(1e3);e.setTimeout(3e3);$.noty.closeAllErrorsByViewId(a.cid)}MF.vent.trigger("form:"+a.id+d,b);!a.options.noBubbleUp&&MF.WorkflowManager.returnParentView(b,true);MF.vent.trigger("form:"+a.id+d,b);a.formCancel()}},formCancel:function(){this.templatePopup.close()}});MF.Views.TrainerSessionView=MF.Views.View.extend({initialize:function(){var a=this;a.beforeInitGrid();a.model={};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"setupGridSearchMixin")},events:{"click #search":"filterByDate"},beforeInitGrid:function(){var a=this;this.options.gridId="trainerPayment";this.options.gridOptions={multiselect:false,loadComplete:function(){a.options.paymentTotal=0;for(var e=$(this).getDataIDs(),b=0,g=e.length;b<g;b++){var d=e[b],c=$(this).getRowData(d);if(c.InArrears=="True"){var f=$("#"+d,a.el);f.find("td").addClass("gridRowRedFont");f.find("td:first input").remove()}a.options.paymentTotal+=parseFloat(c.TrainerPay)}a.model.paymentAmount=ko.observable(a.options.paymentTotal);a.setupElements()}}},filterByDate:function(){var a={endDate:this.model.EndDate()};$("#"+this.options.gridId).jqGrid("setGridParam",{postData:a});this.reloadGrid()},reloadGrid:function(){$("#"+this.options.gridId).trigger("reloadGrid")},setupElements:function(){var a=this;if($("#filterArea").size()==0){$(a.el).find(".content-header").prepend($("#payTrainerSearchTemplate").tmpl());$(".title-name",a.el).append("<span class='paymentAmount' data-bind='text:paymentAmount'></span>");$("[name='EndDate']",a.$el).datepicker();a.model.EndDate=ko.observable((new XDate).toString("MM/dd/yyyy"));$("#payTrainerButton").hide();ko.applyBindings(a.model,a.el)}}});MF.Views.TrainerPaymentListGridView=MF.Views.View.extend({initialize:function(){var a=this;a.options.gridOptions={multiselect:false};MF.mixin(a,"ajaxGridMixin");MF.mixin(a,"setupGridMixin");MF.mixin(a,"defaultGridEventsMixin");MF.mixin(a,"setupGridSearchMixin");a.options.gridId="trainerPaymentsList"},events:{"click .return":"retunToParent"},retunToParent:function(){MF.WorkflowManager.returnParentView(null,true)},displayItem:function(b){var a=this.$el.find("#EntityId").val();window.open("/Billing/PayTrainer/TrainerReceipt/"+b+"?ParentId="+a);return false},viewLoaded:function(){this.setupBindings()},onClose:function(){this.unbindBindings()}});MF.Routing.ReportingApp=function(b){var a={};b.addInitializer(function(){});return a}(MF,Backbone);MF.Views.DailyPaymentsView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin");MF.mixin(this,"reportMixin")},viewLoaded:function(){$("[name=Date]").val("");this.model.Date("");this.viewReport()},createUrl:function(){var b=this.model.Date(),a="?Date=01/01/1800";if(b)a="?Date="+b;var c=this.model.ReportUrl()+a;return c}});MF.Views.TrainerMetricView=MF.Views.View.extend({initialize:function(){MF.mixin(this,"ajaxFormMixin");MF.mixin(this,"modelAndElementsMixin");MF.mixin(this,"reportMixin")},createUrl:function(){var a=this,b=a.model.StartDate(),d=a.model.EndDate(),c=a.model.TrainerEntityId();return a.model.ReportUrl()+"?TrainerId="+c+"&EndDate="+d+"&StartDate="+b}});ko.bindingHandlers.MultiSelect={init:function(a,c){var b=c();b._resultsItems=ko.observableArray();$(a).tokenInput(b,{internalTokenMarkup:function(){var a=$("<a>").addClass("selectedItem").attr("data-bind","text:name");return $("<p>").append(a)}});var e=$(a).data("tokenInputObject"),d=function(){ko.applyBindings(b,$(a).next("div")[0])};e.init(d)},update:function(){}};ko.bindingHandlers.dateString={init:function(a,d){ko.utils.registerEventHandler(a,"change",function(){var b=d();a.nodeName=="SPAN"&&b($(a).text());a.nodeName=="INPUT"&&b($(a).val())});ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(a).timepicker("destroy")});var b=ko.utils.unwrapObservable(d()),c=b?(new XDate(new XDate(b))).toString("MM/dd/yyyy"):"";a.nodeName=="SPAN"&&$(a).text(c).change();a.nodeName=="INPUT"&&$(a).val(c).change()},update:function(a,c){var b=ko.utils.unwrapObservable(c());a.nodeName=="SPAN"&&$(a).text(b);a.nodeName=="INPUT"&&$(a).val(b)}};ko.bindingHandlers.timeString={init:function(a,d){ko.utils.registerEventHandler(a,"change",function(){var b=d();a.nodeName=="SPAN"&&b($(a).text());a.nodeName=="INPUT"&&b($(a).val())});ko.utils.domNodeDisposal.addDisposeCallback(a,function(){$(a).datepicker("destroy")});var b=ko.utils.unwrapObservable(d()),c=b?(new XDate(new Date(b))).toString("hh:mm TT"):"";a.nodeName=="SPAN"&&$(a).text(c).change();a.nodeName=="INPUT"&&$(a).val(c).change()},update:function(a,c){var b=ko.utils.unwrapObservable(c());a.nodeName=="SPAN"&&$(a).text(b);a.nodeName=="INPUT"&&$(a).val(b);$(a).val(b)}};function ensureDropdownSelectionIsConsistentWithModelValue(a,b,c){if(c)b!==ko.selectExtensions.readValue(a)&&ko.selectExtensions.writeValue(a,b);b!==ko.selectExtensions.readValue(a)&&ko.utils.triggerEvent(a,"change")}ko.bindingHandlers.groupedSelect={update:function(a,t,r){var i="option";if(ko.utils.tagNameLower(a)!=="select")throw new Error("options binding applies only to SELECT elements");var o=a.length==0,q=ko.utils.arrayMap(ko.utils.arrayFilter(a.childNodes,function(a){return a.tagName&&ko.utils.tagNameLower(a)===i&&a.selected}),function(a){return ko.selectExtensions.readValue(a)||a.innerText||a.textContent}),s=a.scrollTop,b=ko.utils.unwrapObservable(t());b=b.groups();var x=a.value;while(a.length>0){ko.cleanNode(a.options[0]);a.remove(0)}while(a.children.length>0){ko.cleanNode(a.children[0]);$(a.children[0]).remove()}if(b){var f=r();if(typeof b.length!="number")b=[b];if(f.optionsCaption){var h=document.createElement(i);ko.utils.setHtml(h,f.optionsCaption);ko.selectExtensions.writeValue(h,undefined);a.appendChild(h)}for(var e=0,v=b.length;e<v;e++){var n=document.createElement("optgroup");ko.bindingHandlers.attr.update(n,ko.observable({label:b[e].label()}));var u=ko.utils.unwrapObservable(b[e].children());for(c=0,d=u.length;c<d;c++){var h=document.createElement(i),k=typeof f.optionsValue=="string"?b[e].children()[c][f.optionsValue]:b[e].children()[c];k=ko.utils.unwrapObservable(k);ko.selectExtensions.writeValue(h,k);var j=f.optionsText,g;if(typeof j=="function")g=j(b[e].children()[c]);else if(typeof j=="string")g=b[e].children()[c][j];else g=k;if(g===null||g===undefined)g="";ko.utils.setTextContent(h,g);n.appendChild(h)}a.appendChild(n)}for(var m=a.getElementsByTagName(i),p=0,l=0,w=m.length;l<w;l++)if(ko.utils.arrayIndexOf(q,ko.selectExtensions.readValue(m[l]))>=0){ko.utils.setOptionNodeSelectionState(m[l],true);p++}a.scrollTop=s;o&&"value"in f&&ensureDropdownSelectionIsConsistentWithModelValue(a,ko.utils.unwrapObservable(f.value),true);ko.utils.ensureSelectElementIsRenderedCorrectly(a)}}};ko.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:true}}};if(typeof CC=="undefined")var CC={};CC.Elements={};CC.Elements.Element=function(a){this.$container=a;this.trimFieldName=function(){var a=this.$container.find("label").text();a=a.replace(":","");a=a.replace("*","");return $.trim(a)}};CC.Elements.Element.extend=Backbone.View.extend;$.extend(CC.Elements.Element.prototype,{init:function(b){var a=this;a.viewId=b.cid;a.cid=_.uniqueId("c");a.$input=a.$container.find("input");a.type="Element";a.friendlyName=a.trimFieldName();a.name=a.$input.attr("name")},errorSelector:"#messageContainer",validate:function(){CC.ValidationRunner.runElement(this,this.errorSelector)},getValue:function(){return this.$input.val()},setValidState:function(d){var c="valid",b="invalid",a=this;if(d){a.$input.removeClass(b);!a.$input.hasClass(c)&&a.$input.addClass(c)}else{a.$input.removeClass(c);!a.$input.hasClass(b)&&a.$input.addClass(b)}a.isValid=d},destroy:function(){$.noty.closeByElementId(this.cid)}});CC.Elements.Textbox=CC.Elements.Element.extend({render:function(){var a=this;this.type="textbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.DateTextbox=CC.Elements.Element.extend({render:function(){var a=this,b=a;a.type="datetextbox";a.$label=a.$container.find("label");a.$input.on("change",function(){b.validate()});a.$input.datepicker({changeYear:true,changeMonth:true})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.NumberTextbox=CC.Elements.Element.extend({render:function(){var a=this;this.type="numbertextbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.Textarea=CC.Elements.Element.extend({render:function(){var a=this;this.type="textarea";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.Checkbox=CC.Elements.Element.extend({render:function(){var a=this;this.type="checkbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.Password=CC.Elements.Element.extend({render:function(){var a=this;this.type="textbox";this.$input.on("change",function(){a.validate()})},destroy:function(){this.$input.off("change");this._super("destroy",arguments)}});CC.Elements.FileSubmission=CC.Elements.Element.extend({render:function(b){var a=this;a.type="file";a.$input=a.$container.find("#FileUrl");if(b.model.FileUrl())a.showImage();else a.showInput();a.$container.find(".deleteImage").on("click",$.proxy(function(){this.showInput();b.model.DeleteImage(true)},a))},showImage:function(){this.$container.find(".imageContainer").show();this.$container.find(".inputContainer").hide()},showInput:function(){this.$container.find(".imageContainer").hide();this.$container.find(".inputContainer").show();this.$input.customFileInput()}});CC.Elements.PictureGallery=CC.Elements.Element.extend({render:function(){var a=this;a.type="ul";a.$input=a.$container.find("ul");a.$input.find("li").size>0&&a.$input.galleryView({panel_width:500,panel_height:250})}});CC.Elements.Select=CC.Elements.Element.extend({init:function(){var a=this,b=a;a._super("init",arguments);a.type="select";a.$input=a.$container.find("select");a.name=a.$input.attr("name");a.$input.on("change",function(){b.validate()})},render:function(){this.type="select";this.$input=this.$container.find("select")},destroy:function(){this._super("destroy",arguments)}});CC.Elements.MultiSelect=CC.Elements.Element.extend({init:function(a){this._super("init",arguments);$.isFunction(a.multiSelectModifier)&&a.multiSelectModifier(this)},render:function(){var a=this,b=a;a.type="select";a.$input=a.$container.find("input.multiSelect");a.item=a.$input.data("tokenInputObject");a.item.render(a.multiSelectOptions);MF.vent.bind(a.name+":tokenizer:add",$.proxy(b.multiSelectChange,b));MF.vent.bind(a.name+":tokenizer:remove",$.proxy(b.multiSelectChange,b))},multiSelectChange:function(){this.selectedViewmodel=this.item.getSelectedItems();this.validate()},getValue:function(){return this.item.getSelectedItems()},destroy:function(){var a=this;MF.vent.unbind(a.name+":tokenizer:add");MF.vent.unbind(a.name+":tokenizer:remove");a.$container.off(a.$input.attr("id")+":tokenizer:blur");$("#"+a.$input.attr("name")+"_container *").unbind().remove();a._super("destroy",arguments)}});_.each(["Element","Textbox","Password","Select","MultiSelect","PictureGallery","FileSubmission"],function(a){CC.Elements[a].prototype._super=Backbone.View.prototype._super});CC.NotificationService=function(){this.successViewmodel={messages:ko.observableArray(),fadeOut:function(a){a.nodeType==1&&$(a).hide("slow")}};this.errorViewmodel={messages:ko.observableArray(),fadeOut:function(a){a.nodeType==1&&$(a).hide("slow")}}};$.extend(CC.NotificationService.prototype,{successSelector:"",errorSelector:"",render:function(b,c){var a=this;a.successSelector=b;a.errorSelector=c;ko.applyBindings(a.successViewmodel,a.successSelector);ko.applyBindings(a.errorViewmodel,a.errorSelector)},getCorrectViewModel:function(a){return a=="success"?this.successViewmodel.messages:a=="error"?this.errorViewmodel.messages:void 0},add:function(a,d){var b=this.getCorrectViewModel(d),c=_.any(b,function(b){return a.elementCid()===b.elementCid()&&a.message()===b.message()});if(!c){b.push(a);if(a.shouldSelfDestruct){a.parent=this;a.selfDestruct()}}},remove:function(a,c){var b=this.getCorrectViewModel(c);b.remove(function(b){return b.elementCid()===a.elementCid()&&b.message()===a.message()})},removeById:function(c,b){var a=this.getCorrectViewModel(b);a.remove(function(a){return a.elementCid()===c})},removeAllErrorsByViewId:function(a){var c=this.errorViewmodel.messages,b=this.successViewmodel.messages;c.remove(function(b){return b.viewId()===a&&b.status()==="error"});b.remove(function(b){return b.viewId()===a&&b.status()==="success"})},resetSuccessSelector:function(b){var a=this;ko.cleanNode(a.successSelector[0]);a.successSelector=b;ko.applyBindings(a.successViewmodel,a.successSelector)},resetErrorSelector:function(){var a=this;ko.cleanNode(a.errorSelector[0]);a.errorSelector=_successSelector;ko.applyBindings(a.errorViewmodel,a.errorSelector)},handleResult:function(a,d){var b="error",c=this;if(!a.Success){a.Message&&c.add(new CC.NotificationMessage("",d,a.Message,b),b);a.Errors&&_.each(a.Errors,function(a){c.add(new CC.NotificationMessage("",d,a.ErrorMessage,b),b)})}else if(a.Message){c.add(new CC.NotificationMessage("",d,a.Message,"success",true),"success");c.removeAllErrorsByViewId(d)}return a.Success}});CC.NotificationMessage=function(c,f,d,e,b){var a=this;a.message=ko.observable(d);a.elementCid=ko.observable(c);a.viewId=ko.observable(f);a.status=ko.observable(e);a.parent=null;a.shouldSelfDestruct=b;a.selfDestruct=function(b){var a=this;setTimeout(function(){a.parent.remove(a)},b?b:2e3)}};CC.ElementCollection=function(){this.collection={}};$.extend(CC.ElementCollection.prototype,{add:function(a){this.collection[a.name]=a},destroy:function(){for(var a in this.collection)this.collection[a].destroy();this.collection={}}});CC.elementService=function(){var a={};a.getElementsViewmodel=function(b){var a=new CC.ElementCollection;b.$el.find("[eltype]").each(function(e,d){var c=new CC.Elements[$(d).attr("eltype")]($(d));c.init(b);a.add(c)});return a};return a}();CC.errorMessages={required:"field is Required",minlength:"field should be a certain min",maxlength:"field should be a certain max",rangelength:"field should be with in a range",email:"field should be valid email",url:"field should be valid url",date:"field should be a valid date",number:"field should be a number",digits:"field should be didgets",creditcard:"field should be a valid creditcard",equalTo:"field should be equal to"};CC.validationRules=function(){return{required:function(a){var b=a.getValue();return a.type=="select"||a.type=="multiselect"?b&&b.length>0:a.type.indexOf("textbox")>=0||a.type=="textarea"?$.trim(b).length>0:a.type=="checkbox"?b:void 0},minlength:function(a,b){var c=a.getValue();return c.length>=b},maxlength:function(a,b){var c=a.getValue();return c.length<=b},rangelength:function(c,b){var d=c.getValue(),a=d.length;return a>=b[0]&&a<=b[1]},email:function(a){var b=a.getValue();return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},url:function(a){var b=a.getValue();return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(a){var b=a.getValue();return!/Invalid|NaN/.test(new Date(b))},number:function(a){var b=a.getValue();return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(b)},digits:function(a){var b=a.getValue();return/^\d+$/.test(b)},creditcard:function(g){var f=g.getValue();if(/[^0-9 -]+/.test(f))return false;for(var d=0,a=0,b=false,e=f.replace(/\D/g,""),c=e.length-1;c>=0;c--){var h=e.charAt(c),a=parseInt(h,10);if(b)if((a*=2)>9)a-=9;d+=a;b=!b}return d%10==0},equalTo:function(b,a){return b.getValue()==a.getValue()}}}();CC.ValidationRunner=function(){var a={},b=CC.validationRules;function c(a){return!a.attr("class")?[]:a.attr("class").split(/\s+/)}a.runElement=function(a,g){var d=true,e=c(a.$input),f=a.getValue();if((!f||f=="")&&!_.any(e,function(a){return a=="required"})){a.isValid=true;return}$.each(e,function(f,c){if(c&&b[c]){var e=b[c](a);if(!e){d=false;!$.noty.getByViewIdAndElementId(a.viewId,a.cid)&&$(g).noty({type:"error",text:a.friendlyName+" "+CC.errorMessages[c],elementId:a.cid,viewId:a.viewId})}else $.noty.closeByElementId(a.cid)}});if(e.length)a.setValidState(d);else a.isValid=d};a.runViewModel=function(f,e,c){var d=true,a=e.collection;for(var b in a)if(a.hasOwnProperty(b)){a[b].errorSelector=c?c:"#messageContainer";a[b].validate();if(!a[b].isValid)d=false}return d};return a}();CC.AjaxFileUpload=function(){var a=false,f=function(){var a=0;return function(){return"CCAjaxFileUpload"+a++}}();function c(a){return a.replace(/.*(\/|\\)/,"")}function e(a){return-1!==a.indexOf(".")?a.replace(/.*[.]/,""):""}var b=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c)}}();function d(b,c,d){if(b.addEventListener)b.addEventListener(c,d,a);else if(b.attachEvent)b.attachEvent("on"+c,function(){d.call(b)});else throw new Error("not supported or DOM not loaded");}AjaxFileUpload=function(d,b){this._input=d;this._settings={action:"upload.php",name:"userfile",multiple:a,data:{},autoSubmit:a,responseType:"json",onSubmit:function(){},onComplete:function(){}};for(var c in b)if(b.hasOwnProperty(c))this._settings[c]=b[c]};AjaxFileUpload.prototype={setData:function(a){this._settings.data=a},_createIframe:function(){var c=f(),a=b('<iframe src="javascript:false;" name="'+c+'" />');a.setAttribute("id",c);$(a).css({position:"absolute",top:"-1000px",left:"-1000px"});$(a).appendTo("body");return a},_createForm:function(f){var e=this._settings,a=b('<form method="post" enctype="multipart/form-data"></form>');a.setAttribute("action",e.action);a.setAttribute("target",f.name);a.style.display="none";document.body.appendChild(a);function d(d,c,e){if(d.hasOwnProperty(c)){var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name",e+c);b.setAttribute("value",d[c]);a.appendChild(b)}}function c(b,e){for(var a in b)if(b.hasOwnProperty(a)&&$.isPlainObject(b[a]))c(b[a],a+".");else if(b.hasOwnProperty(a)&&$.isArray(b[a]))$(b[a]).each(function(g,f){if(!$.isPlainObject(f)&&!$.isArray(f))d(b,f,a+"["+g+"].");else c(f,e+a+"["+g+"].")});else d(b,a,e)}c(e.data,"");return a},_getResponse:function(b,f){var e=a,g=this,c=this._settings;d(b,"load",function(){var h="javascript:'<html></html>';";if(b.src=="javascript:'%3Chtml%3E%3C/html%3E';"||b.src==h){e&&setTimeout(function(){$(b).remove()},0);return}var a=b.contentDocument?b.contentDocument:window.frames[b.id].document;if(a.readyState&&a.readyState!="complete")return;if(a.body&&a.body.innerHTML=="false")return;var d;if(a.XMLDocument)d=a.XMLDocument;else if(a.body){d=a.body.innerHTML;if(c.responseType&&c.responseType.toLowerCase()=="json"){if(a.body.firstChild&&a.body.firstChild.nodeName.toUpperCase()=="PRE"){a.normalize();d=a.body.firstChild.firstChild.nodeValue}if(d)d=eval("("+d+")");else d={}}}else d=a;c.onComplete.call(g,f,d);e=true;b.src=h})},submit:function(){var b=this,k=b,i=b._settings;if(!b._input||b._input.value==="")return;var d=c(b._input.value);if(a===i.onSubmit.call(b,d,e(d))){b._clearInput();return}var g=b._createIframe(),f=b._createForm(g),j=$(b._input).parent(),h=$(b._input).attr("id");f.appendChild(b._input);f.submit();$(j).append($("<input>").attr("type","file").attr("name",h).attr("id",h).addClass("customfile-input").attr("size",45));$(f).remove();b._getResponse(g,d)}};return AjaxFileUpload}();(function(a){var c="visibility";a.fn.superfish=function(i){var b=a.fn.superfish,c=b.c,h=a(['<span class="',c.arrowClass,'"> &#187;</span>'].join("")),d=function(){var b=a(this),c=e(b);clearTimeout(c.sfTimer);b.showSuperfishUl().siblings().hideSuperfishUl()},f=function(){var f=a(this),g=e(f),c=b.op;clearTimeout(g.sfTimer);g.sfTimer=setTimeout(function(){c.retainPath=a.inArray(f[0],c.$path)>-1;f.hideSuperfishUl();c.$path.length&&f.parents(["li.",c.hoverClass].join("")).length<1&&d.call(c.$path)},c.delay)},e=function(d){var a=d.parents(["ul.",c.menuClass,":first"].join(""))[0];b.op=b.o[a.serial];return a},g=function(a){a.addClass(c.anchorClass).append(h.clone())};return this.each(function(){var h="li:has(ul)",j=this,l=j.serial=b.o.length,e=a.extend({},b.defaults,i);e.$path=a("li."+e.pathClass,j).slice(0,e.pathLevels).each(function(){a(this).addClass([e.hoverClass,c.bcClass].join(" ")).filter(h).removeClass(e.pathClass)});b.o[l]=b.op=e;a(h,j)[a.fn.hoverIntent&&!e.disableHI?"hoverIntent":"hover"](d,f).each(function(){e.autoArrows&&g(a(">a:first-child",this))}).not("."+c.bcClass).hideSuperfishUl();var k=a("a",j);k.each(function(b){var a=k.eq(b).parents("li");k.eq(b).focus(function(){d.call(a)}).blur(function(){f.call(a)})});e.onInit.call(j)}).each(function(){var d=[c.menuClass];b.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&d.push(c.shadowClass);a(this).addClass(d.join(" "))})};var b=a.fn.superfish;b.o=[];b.op={};b.IE7fix=function(){var c=b.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined&&this.toggleClass(b.c.shadowClass+"-off")};b.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};b.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};a.fn.extend({hideSuperfishUl:function(){var d=b.op,f=d.retainPath===true?d.$path:"";d.retainPath=false;var e=a(["li.",d.hoverClass].join(""),this).add(this).not(f).removeClass(d.hoverClass).find(">ul").hide().css(c,"hidden");d.onHide.call(e);return this},showSuperfishUl:function(){var d=b.op,e=b.c.shadowClass+"-off",a=this.addClass(d.hoverClass).find(">ul:hidden").css(c,"visible");b.IE7fix.call(a);d.onBeforeShow.call(a);a.animate(d.animation,d.speed,function(){b.IE7fix.call(a);d.onShow.call(a)});return this}})})(jQuery);
/*
 * JavaScript Debug - v0.4 - 6/22/2010
 * http://benalman.com/projects/javascript-debug-console-log/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 * 
 * With lots of help from Paul Irish!
 * http://paulirish.com/
 */
window.debug=function(){var g=this,l=Array.prototype.slice,a=g.console,d={},e,i,c=9,f=["error","warn","info","debug","log"],k="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),b=k.length,h=[];while(--b>=0)(function(b){d[b]=function(){c!==0&&a&&a[b]&&a[b].apply(a,arguments)}})(k[b]);b=f.length;while(--b>=0)(function(c,b){d[b]=function(){var d=l.call(arguments),e=[b].concat(d);h.push(e);j(e);if(!a||!m(c))return;a.firebug?a[b].apply(g,d):a[b]?a[b](d):a.log(d)}})(b,f[b]);function j(b){e&&(i||!a||!a.log)&&e.apply(g,b)}d.setLevel=function(a){c=typeof a==="number"?a:9};function m(a){return c>0?c>a:f.length+c<=a}d.setCallback=function(){var a=l.call(arguments),b=h.length,c=b;e=a.shift()||null;i=typeof a[0]==="boolean"?a.shift():false;c-=typeof a[0]==="number"?a.shift():b;while(c<b)j(h[c++])};return d}();$.fn.ccMenu=function(b){if(!this)return;var a=b;$(this).each(function(){var b=new CCMenu(this,a);$(this).data().ccMenu=b;b.showMenu();a.startingTokens&&b.goToItem(a.startingTokens);return this})};function CCMenu(o,m){var l=".fg-menu li a",d="li",k=".fg-menu-breadcrumb",c="ul",i=".fg-menu",h=false,e=true,f=this,g=f,j=$(o);$(j).wrap("<div />");var n=$(j).parent().hide(),a=jQuery.extend({content:n.html(),width:220,maxHeight:400,positionOpts:{posX:"left",posY:"bottom",offsetX:0,offsetY:0,directionH:"right",directionV:"down",detectH:e,detectV:e,linkToFront:h},showSpeed:200,callerOnState:"ui-state-active",loadingState:"ui-state-loading",linkHover:"ui-state-hover",linkHoverSecondary:"li-hover",crossSpeed:200,crumbDefaultText:"Choose an option:",backLink:e,backLinkText:"Back",flyOut:h,flyOutOnState:"ui-state-default",nextMenuLink:"ui-icon-triangle-1-e",topLinkText:"Home",nextCrumbLink:"ui-icon-carat-1-e",containingElement:".mf_menuContainer"},m);f.showLoading=function(){j.addClass(a.loadingState)};var b=$('<div class="mf_menuContainer ui-widget ui-widget-content ui-corner-all">'+a.content+"</div>");$(j).hide();f.getLocationString=function(){var a="";$(".fg-menu-breadcrumb li").each(function(c,b){if(c>0)a+=$(b).text().trim()+"/"});return a.length>0?a.substring(0,a.length-1):""};f.setMenuByUrl=function(f){var d=b.find(i).find("a[href='"+f+"']");if($(d).size()==0)return;var c="";function e(b){var a=$(b).parents("ul:eq(0)");if(!a||$(a).hasClass("ccMenu"))return;c+=a.siblings("a").children("span").text().trim()+"/";e(a)}e(d);if(!c)g.resetDrilldownMenu();else{c=c.substring(0,c.length-1).split("/").reverse().join("/");g.goToItem(c)}$(d).addClass(a.callerOnState)};f.goToItem=function(h){var f="fg-menu-current";$(".fg-menu-current").removeClass(f);b.find(i).find(c).each(function(){$(this).hide();$(this).removeClass("fg-menu-scroll").removeClass(f).height("auto")});$(".fg-menu-all-lists").find("span").remove();$(k).empty().append($('<li class="fg-menu-breadcrumb-text">'+a.crumbDefaultText+"</li>"));var j=h.split("/"),g=b.find(i);$(j).each(function(f,b){$(g).children(d).children("a").each(function(f,d){if($(d).text()==b){$(d).trigger("click",e);$(g).removeClass(a.callerOnState);g=$(this).next(c)}})})};f.showMenu=function(){!g.menuExists&&g.create();g.menuOpen=e;$(document).keydown(function(a){var b;if(a.which!="")b=a.which;else if(a.charCode!="")b=a.charCode;else if(a.keyCode!="")b=a.keyCode;var c=$(a.target).parents("div").is(".fg-menu-flyout")?"flyout":"ipod"})};f.create=function(){var e="id",f="active-menuitem";b.css({width:a.width}).appendTo(a.containingElement).find("ul:first").not(k).addClass("fg-menu");b.find("ul, li a").addClass("ui-corner-all");b.find(c).attr("role","menu").eq(0).attr("aria-activedescendant",f).attr("aria-labelledby",j.attr(e));b.find(d).attr("role","menuitem");b.find("li:has(ul)").attr("aria-haspopup","true").find(c).attr("aria-expanded","false");b.find("a").attr("tabindex","-1");if(b.find(c).size()>1)g.drilldown(b,a);else b.find("a").click(function(){g.chooseItem(this);return h});if(a.linkHover){var i=b.find(l);i.hover(function(){var b=$(this);$("."+a.linkHover).removeClass(a.linkHover).blur().parent().removeAttr(e);$(this).addClass(a.linkHover).focus().parent().attr(e,f)},function(){$(this).removeClass(a.linkHover).blur().parent().removeAttr(e)})}a.linkHoverSecondary&&b.find(".fg-menu li").hover(function(){$(this).siblings(d).removeClass(a.linkHoverSecondary);a.flyOutOnState&&$(this).siblings(d).find("a").removeClass(a.flyOutOnState);$(this).addClass(a.linkHoverSecondary)},function(){$(this).removeClass(a.linkHoverSecondary)});g.setPosition(b,j,a)};f.chooseItem=function(c){$(l,b).removeClass(a.callerOnState);$(c).addClass(a.callerOnState);MF.vent.trigger("menuItem",$(c).attr("rel"));return h}}CCMenu.prototype.drilldown=function(e,a){var c=false,h='"></span>',k=".fg-menu-footer",g=".fg-menu-current",d="fg-menu-current",j="fg-menu-scroll",m="</a></li>",n=this,b=e.find(".fg-menu"),f=$('<ul class="fg-menu-breadcrumb ui-widget-header ui-corner-all ui-helper-clearfix"></ul>'),o=$('<li class="fg-menu-breadcrumb-text">'+a.crumbDefaultText+"</li>"),t=a.backLink?a.backLinkText:a.topLinkText,r=a.backLink?"fg-menu-prev-list":"fg-menu-all-lists",q=a.backLink?"ui-state-default ui-corner-all":"",s=a.backLink?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"",p=$('<li class="'+r+'"><a href="#" class="'+q+'">'+s+t+m);e.addClass("fg-menu-ipod");if(a.backLink)f.addClass("fg-menu-footer").appendTo(e).hide();else f.addClass("fg-menu-header").prependTo(e);f.append(o);var i=function(b){b.height()>a.maxHeight&&b.addClass(j);b.css({height:a.maxHeight})},l=function(a){a.removeClass(j).removeClass(d).height("auto")};this.getTopList=function(){return b};this.resetDrilldownMenu=function(){$("."+a.callerOnState).removeClass(a.callerOnState);$(g).removeClass(d);b.animate({left:0},a.crossSpeed,function(){$(this).find("ul").each(function(){$(this).hide();l($(this))});b.addClass(d)});$(".fg-menu-all-lists").find("span").remove();f.empty().append(o);f.hide();$(k).empty().hide();i(b)};b.addClass("fg-menu-content fg-menu-current ui-widget-content ui-helper-clearfix").css({width:e.width()}).find("ul").css({width:e.width(),left:e.width()}).addClass("ui-widget-content").hide();i(b);b.find("a").each(function(){if($(this).next().is("ul"))$(this).addClass("fg-menu-indicator").each(function(){$(this).html("<span>"+$(this).text()+'</span><span class="ui-icon '+a.nextMenuLink+h)}).click(u);else $(this).click(function(){n.chooseItem(this);return c})});function u(D,A){var s="fg-menu-current-crumb",r=".fg-menu-current-crumb",q="aria-expanded",j="left",o="ul:eq(0)",z=D.currentTarget,y=$(z).next(),w=$(z).parents(o),B=w.is(".fg-menu-content")?0:parseFloat(b.css(j)),x=Math.round(B-parseFloat(e.width())),t=$(k);l(w);i(y);if(A)b.css(j,x);else b.animate({left:x},a.crossSpeed);y.show().addClass(d).attr(q,"true");var u=function(c){var e=c,b=$(g),a=b.parents(o);b.hide().attr(q,"false");l(b);i(a);a.addClass(d).attr(q,"true");if(a.hasClass("fg-menu-content")){e.remove();t.hide()}};if(a.backLink){if(t.find("a").size()==0){t.show();$('<a href="#"><span class="ui-icon ui-icon-triangle-1-w"></span> <span>Back</span></a>').appendTo(t).click(function(){var f=$(this),d=parseFloat(b.css(j))+e.width();b.animate({left:d},a.crossSpeed,function(){u(f)});return c})}}else{if(f.find("li").size()==1){f.empty().append(p);p.find("a").click(function(){n.resetDrilldownMenu();return c})}$(r).removeClass(s);var C=$(this).find("span:eq(0)").text(),v=$('<li class="fg-menu-current-crumb"><a href="javascript://" class="fg-menu-crumb">'+C+m);f.show();$($(v).find("a")[0]).data().representsList=w;v.appendTo(f).find("a").click(function(){var d=this;if($(d).parent().is(r))n.chooseItem(d);else{var h=$(d).parents(o).find("li"),f=h.size()-h.index($(d).parent());while(f>1){var g=parseFloat(b.css(j));if(f>2){b.css(j,g+e.width());u()}else b.animate({left:g+e.width()},a.crossSpeed,function(){u()});f--}$(d).parent().addClass(s).find("span").remove();$(d).parent().nextAll().remove()}return c});v.prev().append(' <span class="ui-icon '+a.nextCrumbLink+h)}return c}};CCMenu.prototype.setPosition=function(i,h,b){var c="auto",a=i,f=h,g={refX:f.offset().left,refY:f.offset().top,refW:f.getTotalWidth(),refH:f.getTotalHeight()},b=b,d,e;switch(b.positionOpts.posX){case"left":d=0;break;case"center":d=g.refW/2;break;case"right":d=g.refW}switch(b.positionOpts.posY){case"top":e=0;break;case"center":e=g.refH/2;break;case"bottom":e=g.refH}d+=b.positionOpts.offsetX;e+=b.positionOpts.offsetY;if(b.positionOpts.directionV=="up"){a.css({top:c,bottom:e});b.positionOpts.detectV&&!fitVertical(a)&&a.css({bottom:c,top:e})}else{a.css({bottom:c,top:e});b.positionOpts.detectV&&!fitVertical(a)&&a.css({top:c,bottom:e})}if(b.positionOpts.directionH=="left"){a.css({left:c,right:d});b.positionOpts.detectH&&!fitHorizontal(a)&&a.css({right:c,left:d})}else{a.css({right:c,left:d});b.positionOpts.detectH&&!fitHorizontal(a)&&a.css({left:c,right:d})}};function sortBigToSmall(a,b){return b-a}jQuery.fn.getTotalWidth=function(){var a=this;return $(a).width()+parseInt($(a).css("paddingRight"))+parseInt($(a).css("paddingLeft"))+parseInt($(a).css("borderRightWidth"))+parseInt($(a).css("borderLeftWidth"))};jQuery.fn.getTotalHeight=function(){var a=this;return $(a).height()+parseInt($(a).css("paddingTop"))+parseInt($(a).css("paddingBottom"))+parseInt($(a).css("borderTopWidth"))+parseInt($(a).css("borderBottomWidth"))};function getScrollTop(){return self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function getScrollLeft(){return self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}function getWindowHeight(){var a=document.documentElement;return self.innerHeight||a&&a.clientHeight||document.body.clientHeight}function getWindowWidth(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth}function fitHorizontal(b,c){var a=parseInt(c)||$(b).offset().left;return a+$(b).width()<=getWindowWidth()+getScrollLeft()&&a-getScrollLeft()>=0}function fitVertical(b,c){var a=parseInt(c)||$(b).offset().top;return a+$(b).height()<=getWindowHeight()+getScrollTop()&&a-getScrollTop()>=0}Number.prototype.pxToEm=String.prototype.pxToEm=function(b){var c="font-size",a="body";b=jQuery.extend({scope:a,reverse:false},b);var f=this==""?0:parseFloat(this),d,e=function(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth};if(b.scope==a&&$.browser.msie&&(parseFloat($(a).css(c))/e()).toFixed(1)>0){var g=function(){return(parseFloat($(a).css(c))/e()).toFixed(3)*16};d=g()}else d=parseFloat(jQuery(b.scope).css(c));var h=b.reverse==true?(f*d).toFixed(2)+"px":(f/d).toFixed(2)+"em";return h};if(typeof cc=="undefined")cc=function(){};if(typeof cc.grid=="undefined")cc.grid=function(){};(function(a){a.fn.AsGrid=function(c,g){var b=true;if(!this)return;var d={url:c.Url,datatype:"json",mtype:"GET",colNames:cc.grid.columnService.columnNames(c),colModel:cc.grid.columnService.columnModel(c),rowNum:1e4,multiselect:b,scrollOffset:0,altRows:b,height:"100%",autowidth:b,beforeSubmitCell:function(a,b,c){return{RootId:rootId,ParentId:entityId,EntityId:a,rowId:a,cellName:b,cellValue:c}},afterSubmitCell:function(a){eval("var cellEditResult ="+a.responseText);return[cellEditResult.success,cellEditResult.message]},loadtext:"",gridComplete:function(){a(this).find(".cbox").parent().addClass("jqg_cb")},sortorder:"asc",sortname:c.DefaultSortColumn?c.DefaultSortColumn:"",onSortCol:function(b,c,a){cc.gridHelper.adjustSortStyles(b,c,a)},jsonReader:{repeatitems:b,root:"items",cell:"cell",id:"id"}};c.EditUrl&&a.extend(d,{cellEdit:b,cellurl:c.EditUrl}||{});cc.gridHelper.adjustSortStyles();var f=a.extend(d,g||{}),e=this;e.jqGrid(f);return e}})(jQuery);if(typeof cc=="undefined")var cc={};if(typeof cc.grid=="undefined")cc.grid={};cc.grid.columnService=function(){return{columnNames:function(a){return $.map(a.Columns,function(a){return a.header})},columnModel:function(a){return $.map(a.Columns,function(a){if(a.formatoptions&&typeof a.formatoptions=="string")a.formatoptions=JSON.parse(a.formatoptions);a.hidden=a.hidden=="true";a.search=a.search!="false";a.sortable=a.sortable!="false";if(!a.width)a.width="100%";if(a.editRules)a.editable=true;return a})}}}();cc.gridHelper=function(){return{adjustSize:function(a){var b=a.parents(".content-inner:eq(0)"),c=$(window).height()-$("#main-header").height();b.height(c-80);a.setGridHeight(b.height()-31);a.setGridWidth(b.width()-2)},adjustSortStyles:function(){var a="is-sorted";$(".ui-jqgrid th").removeClass(a);$('.ui-jqgrid th[aria-selected="true"]').addClass(a)},getCheckedBoxes:function(b){var a=[];$(b.jqGrid("getGridParam","selarrrow")).each(function(c,b){a.push(b)});return a}}}();$.fn.gridSearch=function(b){var a={default_empty_message:"Start typing to search",lightFontColor:"#CCCCCC",fontColor:"#000000",onClear:function(){},onSubmit:function(){},searchSelector:".search"};return this.each(function(){var e="color",f=this,c=f,i=$(f),g,h;c.options=$.extend(a,b);var d=i.find(c.options.searchSelector);f.render=function(){d.parent().append('<img class="clear-search" src="/content/images/clear-search.png">');g=d.parent().find("img.clear-search");$.trim(d.val())==""&&d.val(c.options.default_empty_message);if(d.val()==c.options.default_empty_message)d.css(e,c.options.lightFontColor);else d.css(e,c.options.fontColor)};f.registerEventHandlers=function(){d.keyup(function(a){if(a.keyCode=="13"){c.submitSearch($(this).val());d.next().focus()}else{if($.trim($(this).val())!=""&&$(this).val()!=c.options.default_empty_message)g.show();else g.hide();h=null}});d.blur(function(){if($.trim($(this).val())==""){d.val(c.options.default_empty_message).css(e,c.options.lightFontColor);g.hide()}else this.submitSearch(d.val())});d.focus(function(){$(this).val()==c.options.default_empty_message&&d.val("").css(e,c.options.fontColor)});g.click(function(){c.clearSearch()})};f.clearSearch=function(){d.val("");d.focus();c.options.onClear()};f.submitSearch=function(a){if(a!=""&&a!=c.options.default_empty_message&&a!=h){this.options.onSubmit(a);h=a}};function j(){c.render();c.registerEventHandlers()}j()})};if(typeof MF=="undefined")var MF={};MF.repository=function(){var a="#ajaxLoading",b=function(b){if(b.LoggedOut){window.location.replace(b.RedirectUrl);return null}clearTimeout(MF.throbberTimeout);MF.showThrob=false;$(a).hide();return b},c=function(){MF.showThrob=true;if(!MF.throbberTimeout)MF.throbberTimeout=setTimeout(function(){MF.showThrob&&$(a).show()},500)};return{ajaxPost:function(d,a){c();$.post(d,a).done(b)},ajaxGet:function(d,a){c();return $.get(d,a).done(b)},ajaxPostModel:function(d,a){c();return $.ajax({type:"post",url:d,data:a,contentType:"application/json; charset=utf-8",traditional:true}).done(b)}}}();(function(a){a.fn.asCalendar=function(c,g){var b="calendar:",e={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},defaultView:"agendaWeek",editable:true,theme:true,firstDay:1,allDaySlot:false,allDayDefault:false,slotMinutes:15,minTime:4,maxTime:22,events:{url:c.Url,data:{Loc:a("[name=Location]").val()}},dayClick:function(e,d,a,f){MF.vent.trigger(b+c.id+":dayClick",e,d,a,f)},eventClick:function(a,d,e){MF.vent.trigger(b+c.id+":eventClick",a,d,e)},eventDrop:function(g,e,a,f,d){MF.vent.trigger(b+c.id+":eventDrop",g,e,a,f,d)},eventResize:function(g,e,a,d,f,i,h){MF.vent.trigger(b+c.id+":eventResize",g,e,a,d,f,i,h)}},f=a.extend(e,g||{}),d=this;d.fullCalendar(f);return d}})(jQuery);if(!this.JSON)JSON=function(){var f="number",e="function",b="object",c="string";function g(a){return a<10?"0"+a:a}Date.prototype.toJSON=function(){var a=this;return a.getUTCFullYear()+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+"Z"};var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,h,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},d;function k(a){j.lastIndex=0;return j.test(a)?'"'+a.replace(j,function(a){var b=m[a];return typeof b===c?b:"\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4)})+'"':'"'+a+'"'}function i(r,s){var n="null",m,o,l,p,q=a,j,g=s[r];if(g&&typeof g===b&&typeof g.toJSON===e)g=g.toJSON(r);if(typeof d===e)g=d.call(s,r,g);switch(typeof g){case c:return k(g);case f:return isFinite(g)?String(g):n;case"boolean":case n:return String(g);case b:if(!g)return n;a+=h;j=[];if(typeof g.length===f&&!g.propertyIsEnumerable("length")){p=g.length;for(m=0;m<p;m+=1)j[m]=i(m,g)||n;l=j.length===0?"[]":a?"[\n"+a+j.join(",\n"+a)+"\n"+q+"]":"["+j.join(",")+"]";a=q;return l}if(d&&typeof d===b){p=d.length;for(m=0;m<p;m+=1){o=d[m];if(typeof o===c){l=i(o,g,d);l&&j.push(k(o)+(a?": ":":")+l)}}}else for(o in g)if(Object.hasOwnProperty.call(g,o)){l=i(o,g,d);l&&j.push(k(o)+(a?": ":":")+l)}l=j.length===0?"{}":a?"{\n"+a+j.join(",\n"+a)+"\n"+q+"}":"{"+j.join(",")+"}";a=q;return l}}return{stringify:function(l,g,j){var k;a="";h="";if(typeof j===f)for(k=0;k<j;k+=1)h+=" ";else if(typeof j===c)h=j;d=g;if(g&&typeof g!==e&&(typeof g!==b||typeof g.length!==f))throw new Error("JSON.stringify");return i("",{"":l})},parse:function(a,d){var c;function f(g,h){var c,e,a=g[h];if(a&&typeof a===b)for(c in a)if(Object.hasOwnProperty.call(a,c)){e=f(a,c);if(e!==undefined)a[c]=e;else delete a[c]}return d.call(g,h,a)}l.lastIndex=0;if(l.test(a))a=a.replace(l,function(a){return"\\u"+("0000"+(+a.charCodeAt(0)).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){c=eval("("+a+")");return typeof d===e?f({"":c},""):c}throw new SyntaxError("JSON.parse");}}}();var XDate=function(e,j,B,l){var w="yyyy-MM-dd'T'HH:mm:ss(.fff)zzz",p=",",b="",o=8.64e7,d=12,n="string",m="boolean";function c(){var b=this instanceof c?this:new c,d=arguments,a=d.length,f;typeof d[a-1]==m&&(f=d[--a],d=r(d,0,a));if(a)if(a==1){if(a=d[0],a instanceof e||typeof a=="number")b[0]=new e(+a);else if(a instanceof c){var d=b,g=new e(+a[0]);if(h(a))g.toString=x;d[0]=g}else if(typeof a==n){b[0]=new e(0);a:{for(var d=a,a=f||!1,g=c.parsers,i=0,j;i<g.length;i++)if(j=g[i](d,a,b)){b=j;break a}b[0]=new e(d)}}}else b[0]=new e(k.apply(e,d)),f||(b[0]=s(b[0]));else b[0]=new e;typeof f==m&&C(b,f);return b}function h(a){return a[0].toString===x}function C(a,c,b){if(c){if(!h(a))b&&(a[0]=new e(k(a[0].getFullYear(),a[0].getMonth(),a[0].getDate(),a[0].getHours(),a[0].getMinutes(),a[0].getSeconds(),a[0].getMilliseconds()))),a[0].toString=x}else h(a)&&(a[0]=b?s(a[0]):new e(+a[0]));return a}function D(a,h,f,b,e){var c=i(g,a[0],e),a=i(E,a[0],e),e=h==1?f%d:c(1),j=!1;b.length==2&&typeof b[1]==m&&(j=b[1],b=[f]);a(h,b);j&&c(1)!=e&&(a(1,[c(1)-1]),a(2,[F(c(0),c(1))]))}function G(c,a,b,e){var b=Number(b),d=j.floor(b);c["set"+q[a]](c["get"+q[a]]()+d,e||!1);d!=b&&a<6&&G(c,a+1,(b-d)*H[a],e)}function I(e,f,a){var e=e.clone().setUTCMode(!0,!0),f=c(f).setUTCMode(!0,!0),b=0;if(a==0||a==1){for(var h=6;h>=a;h--)b/=H[h],b+=g(f,!1,h)-g(e,!1,h);a==1&&(b+=(f.getFullYear()-e.getFullYear())*d)}else a==2?(a=e.toDate().setUTCHours(0,0,0,0),b=f.toDate().setUTCHours(0,0,0,0),b=j.round((b-a)/o)+(f-b-(e-a))/o):(b=(f-e)/([3.6e6,6e4,1e3,1])[a-3]);return b}function t(a){var b=a(0),c=a(1),a=a(2),c=new e(k(b,c,a)),d=u(b),a=d;c<d?(a=u(b-1)):(b=u(b+1),c>=b&&(a=b));return j.floor(j.round((c-a)/o)/7)+1}function u(a){a=new e(k(a,0,4));a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+6)%7);return a}function J(b,e,a,c){var d=i(g,b,c),f=i(E,b,c),a=u(a===l?d(0):a);c||(a=s(a));b.setTime(+a);f(2,[d(2)+(e-1)*7])}function K(b,j,a,d,e){var h=c.locales,k=h[c.defaultLocale]||{},f=i(g,b,e),a=(typeof a==n?h[a]:a)||{};return y(b,j,function(a){if(d)for(var b=(a==7?2:a)-1;b>=0;b--)d.push(f(b));return f(a)},function(b){return a[b]||k[b]},e)}function y(i,e,j,k,m){for(var a,f,c=b;a=e.match(N);){c+=e.substr(0,a.index);if(a[1]){f=c;for(var c=i,d=a[1],o=j,p=k,q=m,g=d.length,h=void 0,n=b;g>0;)h=O(c,d.substr(0,g),o,p,q),h!==l?(n+=h,d=d.substr(g),g=d.length):g--;c=f+(n+d)}else a[3]?(f=y(i,a[4],j,k,m),parseInt(f.replace(/\D/g,b),10)&&(c+=f)):(c+=a[7]||"'");e=e.substr(a.index+a[0].length)}return c+e}function O(i,g,a,e,h){var k=c.formatters[g];if(typeof k==n)return y(i,k,a,e,h);else if(typeof k=="function")return k(i,h||!1,e);switch(g){case"fff":return f(a(6),3);case"s":return a(5);case"ss":return f(a(5));case"m":return a(4);case"mm":return f(a(4));case"h":return a(3)%d||d;case"hh":return f(a(3)%d||d);case"H":return a(3);case"HH":return f(a(3));case"d":return a(2);case"dd":return f(a(2));case"ddd":return e("dayNamesShort")[a(7)]||b;case"dddd":return e("dayNames")[a(7)]||b;case"M":return a(1)+1;case"MM":return f(a(1)+1);case"MMM":return e("monthNamesShort")[a(1)]||b;case"MMMM":return e("monthNames")[a(1)]||b;case"yy":return(a(0)+b).substring(2);case"yyyy":return a(0);case"t":return v(a,e).substr(0,1).toLowerCase();case"tt":return v(a,e).toLowerCase();case"T":return v(a,e).substr(0,1);case"TT":return v(a,e);case"z":case"zz":case"zzz":return h?(g="Z"):(e=i.getTimezoneOffset(),i=e<0?"+":"-",a=j.floor(j.abs(e)/60),e=j.abs(e)%60,h=a,g=="zz"?(h=f(a)):g=="zzz"&&(h=f(a)+":"+f(e)),g=i+h),g;case"w":return t(a);case"ww":return f(t(a));case"S":return g=a(2),g>10&&g<20?"th":(["st","nd","rd"])[g%10-1]||"th"}}function v(b,a){return b(3)<d?a("amDesignator"):a("pmDesignator")}function z(a){return!isNaN(+a[0])}function g(a,d,c){return a["get"+(d?"UTC":b)+q[c]]()}function E(a,d,c,e){a["set"+(d?"UTC":b)+q[c]].apply(a,e)}function s(a){return new e(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())}function F(a,b){return 32-(new e(k(a,b,32))).getUTCDate()}function A(a){return function(){return a.apply(l,[this].concat(r(arguments)))}}function i(a){var b=r(arguments,1);return function(){return a.apply(l,b.concat(r(arguments)))}}function r(a,c,b){return B.prototype.slice.call(a,c||0,b===l?a.length:b)}function L(b,c){for(var a=0;a<b.length;a++)c(b[a],a)}function f(a,c){c=c||2;for(a+=b;a.length<c;)a="0"+a;return a}var q="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(p),M=["Years","Months","Days"],H=[d,31,24,60,60,1e3,1],N=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,k=e.UTC,x=e.prototype.toUTCString,a=c.prototype;a.length=1;a.splice=B.prototype.splice;a.getUTCMode=A(h);a.setUTCMode=A(C);a.getTimezoneOffset=function(){return h(this)?0:this[0].getTimezoneOffset()};L(q,function(c,b){a["get"+c]=function(){return g(this[0],h(this),b)};b!=8&&(a["getUTC"+c]=function(){return g(this[0],!0,b)});b!=7&&(a["set"+c]=function(a){D(this,b,a,arguments,h(this));return this},b!=8&&(a["setUTC"+c]=function(a){D(this,b,a,arguments,!0);return this},a["add"+(M[b]||c)]=function(a,c){G(this,b,a,c);return this},a["diff"+(M[b]||c)]=function(a){return I(this,a,b)}))});a.getWeek=function(){return t(i(g,this,!1))};a.getUTCWeek=function(){return t(i(g,this,!0))};a.setWeek=function(a,b){J(this,a,b,!1);return this};a.setUTCWeek=function(a,b){J(this,a,b,!0);return this};a.addWeeks=function(a){return this.addDays(Number(a)*7)};a.diffWeeks=function(a){return I(this,a,2)/7};c.parsers=[function(a,f,c){if(a=a.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var b=new e(k(a[1],a[3]?a[3]-1:0,a[5]||1,a[7]||0,a[8]||0,a[10]||0,a[d]?Number("0."+a[d])*1e3:0));a[13]?a[14]&&b.setUTCMinutes(b.getUTCMinutes()+(a[15]=="-"?1:-1)*(Number(a[16])*60+(a[18]?Number(a[18]):0))):f||(b=s(b));return c.setTime(+b)}}];c.parse=function(a){return+c(b+a)};a.toString=function(b,d,c){var a=this;return b===l||!z(a)?a[0].toString():K(a,b,d,c,h(a))};a.toUTCString=a.toGMTString=function(a,c,b){return a===l||!z(this)?this[0].toUTCString():K(this,a,c,b,!0)};a.toISOString=function(){return this.toUTCString(w)};c.defaultLocale=b;c.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(p),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(p),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(p),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(p),amDesignator:"AM",pmDesignator:"PM"}};c.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:w};L("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(p),function(b){a[b]=function(){return this[0][b]()}});a.setTime=function(a){this[0].setTime(a);return this};a.valid=A(z);a.clone=function(){return new c(this)};a.clearTime=function(){return this.setHours(0,0,0,0)};a.toDate=function(){return new e(+this[0])};c.now=function(){return+new e};c.today=function(){return(new c).clearTime()};c.UTC=k;c.getDaysInMonth=F;if(typeof module!=="undefined"&&module.exports)module.exports=c;return c}(Date,Math,Array);function parseMdyyyyHHmmTT(c){if(c.indexOf("t")==-1||c.indexOf("-")==-1)return null;var g=c.split("t")[0],d=c.split("t")[1],a=g.split("-"),e=d.split(" ")[0],f=d.split(" ")[1],b=e.split(":");return a.length==3&&b.length==2?new XDate(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),f=="AM"?parseInt(b[0]):parseInt(b[0])+12,parseInt(b[1])):null}function parseMdyyyyHHmmTTSlashes(c){if(c.indexOf("t")==-1||c.indexOf("/")==-1)return null;var g=c.split("t")[0],d=c.split("t")[1],a=g.split("/"),e=d.split(" ")[0],f=d.split(" ")[1],b=e.split(":");return a.length==3&&b.length==2?new XDate(parseInt(a[2]),parseInt(a[1]),parseInt(a[0]),f=="AM"?parseInt(b[0]):parseInt(b[0])+12,parseInt(b[1])):null}XDate.parsers.push(parseMdyyyyHHmmTT);XDate.parsers.push(parseMdyyyyHHmmTTSlashes)
