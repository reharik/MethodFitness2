@using MethodFitness.Core.Enumerations
@using MethodFitness.Core.Html.FubuUI
@using MethodFitness.Core.Services
@using MethodFitness.Web
@using MethodFitness.Web.Areas.Schedule.Controllers
@model AppointmentViewModel
@{
    Layout = "~/Views/Shared/_popupLayout.cshtml";
}

    <div class="col left">
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.LocationEntityId).LabelDisplay(WebLocalizationKeys.LOCATION).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @if (@UserPermissionService.Allow("/Calendar/SetAppointmentForOthers"))
            {
                @Html.SubmissionFor(x => x.TrainerEntityId).LabelDisplay(WebLocalizationKeys.TRAINER).ToHtmlTag()
            }
            else
            {
                @Html.ViewFor(x => x.TrainerFullNameFNF).LabelDisplay(WebLocalizationKeys.TRAINER).ToHtmlTag()
                @Html.SubmissionFor(x => x.TrainerEntityId).HideRoot().ToHtmlTag()
            }
        </div>
        <div class="fieldRow artifact-field">
                @Html.SubmissionFor(x => x.ClientsDtos).ElType("MultiSelect").LabelDisplay(WebLocalizationKeys.CLIENTS).ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.AppointmentType).RootId("aptTypeDDLRoot").ToHtmlTag()
            @Html.ViewFor(x => x.AppointmentType).RootId("aptTypePairRoot").HideRoot().ToHtmlTag()
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Date).ToHtmlTag()
        </div>
        <h5>@WebLocalizationKeys.STARTTIME</h5>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.StartTime).HideLabel().ToHtmlTag()
        </div>
        <h5>
            @WebLocalizationKeys.ENDTIME
        </h5>
        <div class="fieldRow">
           <span id="endTime">@Model.EndTime.ToShortTimeString()</span>
        </div>
        <div class="fieldRow">
            @Html.SubmissionFor(x => x.Notes).ToHtmlTag()
        </div>
    </div>

